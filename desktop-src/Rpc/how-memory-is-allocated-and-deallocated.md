---
title: Como a memória é alocada e desalocada
description: Por padrão, o código stub gerado pelo compilador MIDL chama funções fornecidas pelo usuário para alocar e liberar memória. Essas funções, chamadas \_ \_ de alocação de usuário de MIDL e usuário de MIDL \_ \_ gratuito, devem ser fornecidas pelo desenvolvedor e vinculadas ao aplicativo.
ms.assetid: 65af7a6d-4cfa-4175-9085-560d97cab41d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 331c32ac4d33fbd67f617f79125921ddfffc0de5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104366413"
---
# <a name="how-memory-is-allocated-and-deallocated"></a><span data-ttu-id="a1b75-104">Como a memória é alocada e desalocada</span><span class="sxs-lookup"><span data-stu-id="a1b75-104">How Memory Is Allocated and Deallocated</span></span>

<span data-ttu-id="a1b75-105">Por padrão, o código stub gerado pelo compilador MIDL chama funções fornecidas pelo usuário para alocar e liberar memória.</span><span class="sxs-lookup"><span data-stu-id="a1b75-105">By default, stub code generated by the MIDL compiler calls user-supplied functions to allocate and free memory.</span></span> <span data-ttu-id="a1b75-106">Essas funções, chamadas [**de \_ \_ alocação de usuário de MIDL**](/windows/desktop/Midl/midl-user-allocate-1) e usuário de [**MIDL \_ \_ gratuito**](/windows/desktop/Midl/midl-user-free-1), devem ser fornecidas pelo desenvolvedor e vinculadas ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a1b75-106">These functions, named [**midl\_user\_allocate**](/windows/desktop/Midl/midl-user-allocate-1) and [**midl\_user\_free**](/windows/desktop/Midl/midl-user-free-1), must be supplied by the developer and linked with the application.</span></span>

<span data-ttu-id="a1b75-107">Todos os aplicativos devem fornecer implementações de [**\_ \_ alocação de usuário MIDL**](/windows/desktop/Midl/midl-user-allocate-1) e [**usuário de MIDL \_ \_ gratuito**](/windows/desktop/Midl/midl-user-free-1), mesmo que os nomes dessas funções possam não aparecer explicitamente nos stubs.</span><span class="sxs-lookup"><span data-stu-id="a1b75-107">All applications must supply implementations of [**midl\_user\_allocate**](/windows/desktop/Midl/midl-user-allocate-1) and [**midl\_user\_free**](/windows/desktop/Midl/midl-user-free-1), even though the names of these functions may not appear explicitly in the stubs.</span></span> <span data-ttu-id="a1b75-108">A única exceção é quando você está compilando no modo uso-Compatibility (/OSF).</span><span class="sxs-lookup"><span data-stu-id="a1b75-108">The only exception is when you are compiling in OSF-compatibility (/osf) mode.</span></span> <span data-ttu-id="a1b75-109">Essas funções fornecidas pelo usuário devem corresponder a um protótipo de função definido específico, mas, caso contrário, podem ser implementadas de qualquer forma que seja conveniente ou útil para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a1b75-109">These user-supplied functions must match a specific, defined function prototype but otherwise, can be implemented in any way that is convenient or useful for the application.</span></span> <span data-ttu-id="a1b75-110">Como alternativa, os aplicativos podem usar o pacote de gerenciamento de memória do RpcSs.</span><span class="sxs-lookup"><span data-stu-id="a1b75-110">Alternatively, applications can use the RpcSs Memory Management Package.</span></span> <span data-ttu-id="a1b75-111">A biblioteca de tempo de execução RPC da Microsoft fornece esse grupo de funções.</span><span class="sxs-lookup"><span data-stu-id="a1b75-111">The Microsoft RPC run-time library supplies this group of functions.</span></span>

<span data-ttu-id="a1b75-112">As seções a seguir descrevem as funções de gerenciamento de memória RPC.</span><span class="sxs-lookup"><span data-stu-id="a1b75-112">The following sections describe the RPC memory management functions.</span></span>

-   [<span data-ttu-id="a1b75-113">**\_alocar usuário de MIDL \_**</span><span class="sxs-lookup"><span data-stu-id="a1b75-113">**midl\_user\_allocate**</span></span>](/windows/desktop/Midl/midl-user-allocate-1)
-   [<span data-ttu-id="a1b75-114">**usuário de MIDL \_ \_ gratuito**</span><span class="sxs-lookup"><span data-stu-id="a1b75-114">**midl\_user\_free**</span></span>](/windows/desktop/Midl/midl-user-free-1)
-   [<span data-ttu-id="a1b75-115">Pacote de gerenciamento de memória de RpcSs</span><span class="sxs-lookup"><span data-stu-id="a1b75-115">RpcSs Memory Management Package</span></span>](rpcss-memory-management-package.md)

 

 