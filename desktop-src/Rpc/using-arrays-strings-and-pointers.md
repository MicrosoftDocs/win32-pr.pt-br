---
title: Usando matrizes, cadeias de caracteres e ponteiros
description: O programa de doutor ( \\ consulte \\ exemplos \\ de RPC Doctor na plataforma SDK (Software Development Kit)) é um bom exemplo de um aplicativo que demonstra as compensações de design envolvidas com os atributos de matriz e cadeia de caracteres.
ms.assetid: 9aea94a1-ae1f-4bd6-9dd3-146edf0b5fec
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 542a174b9ffd742ecf88de7231449a780be8dca9
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104084605"
---
# <a name="using-arrays-strings-and-pointers"></a><span data-ttu-id="67ffc-103">Usando matrizes, cadeias de caracteres e ponteiros</span><span class="sxs-lookup"><span data-stu-id="67ffc-103">Using Arrays, Strings, and Pointers</span></span>

<span data-ttu-id="67ffc-104">O programa de doutor ( \\ consulte \\ exemplos \\ de RPC Doctor na plataforma SDK (Software Development Kit)) é um bom exemplo de um aplicativo que demonstra as compensações de design envolvidas com os atributos de matriz e cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="67ffc-104">The Doctor program (see \\samples\\rpc\\doctor in the Platform Software Development Kit (SDK)) is a good example of an application that demonstrates the design trade-offs involved with array and string attributes.</span></span> <span data-ttu-id="67ffc-105">O programa de doutor é uma pequena versão de exemplo de um programa mais conhecido, Eliza, desenvolvido pelo pesquisador de inteligência artificial Joseph Weizenbaum no MIT nos anos 60.</span><span class="sxs-lookup"><span data-stu-id="67ffc-105">The Doctor program is a small sample version of a better-known program, Eliza, developed by artificial intelligence researcher Joseph Weizenbaum at MIT in the 1960s.</span></span> <span data-ttu-id="67ffc-106">O programa imita um Therapist usando a correspondência de padrão simples para responder à entrada de idioma natural.</span><span class="sxs-lookup"><span data-stu-id="67ffc-106">The program mimics a therapist by using simple pattern-matching to respond to natural language input.</span></span>

<span data-ttu-id="67ffc-107">O programa Eliza gravou a sessão a seguir.</span><span class="sxs-lookup"><span data-stu-id="67ffc-107">The Eliza program recorded the following session.</span></span>



| <span data-ttu-id="67ffc-108">Usuário</span><span class="sxs-lookup"><span data-stu-id="67ffc-108">User</span></span>                                                | <span data-ttu-id="67ffc-109">Eliza</span><span class="sxs-lookup"><span data-stu-id="67ffc-109">Eliza</span></span>                                                     |
|-----------------------------------------------------|-----------------------------------------------------------|
| <span data-ttu-id="67ffc-110">Os homens são todos semelhantes.</span><span class="sxs-lookup"><span data-stu-id="67ffc-110">Men are all alike.</span></span>                                  | <span data-ttu-id="67ffc-111">De que maneira?</span><span class="sxs-lookup"><span data-stu-id="67ffc-111">In what way?</span></span>                                              |
| <span data-ttu-id="67ffc-112">Eles estão sempre contratando-nos sobre algo ou outro.</span><span class="sxs-lookup"><span data-stu-id="67ffc-112">They're always bugging us about something or other.</span></span> | <span data-ttu-id="67ffc-113">Você pode considerar um exemplo específico?</span><span class="sxs-lookup"><span data-stu-id="67ffc-113">Can you think of a specific example?</span></span>                      |
| <span data-ttu-id="67ffc-114">Bem, meu namorado me fez aqui.</span><span class="sxs-lookup"><span data-stu-id="67ffc-114">Well, my boyfriend made me come here.</span></span>               | <span data-ttu-id="67ffc-115">Seu namorado fez aqui.</span><span class="sxs-lookup"><span data-stu-id="67ffc-115">Your boyfriend made you come here.</span></span>                        |
| <span data-ttu-id="67ffc-116">Ele diz que estou premiado muito do tempo.</span><span class="sxs-lookup"><span data-stu-id="67ffc-116">He says I'm depressed much of the time.</span></span>             | <span data-ttu-id="67ffc-117">Desculpe-nos ouvir que você está pressionado.</span><span class="sxs-lookup"><span data-stu-id="67ffc-117">I am sorry to hear that you are depressed.</span></span>                |
| <span data-ttu-id="67ffc-118">É verdade, sou infeliz.</span><span class="sxs-lookup"><span data-stu-id="67ffc-118">It's true, I am unhappy.</span></span>                            | <span data-ttu-id="67ffc-119">Vocês acham que chegar aqui ajudarão você a não ser infeliz?</span><span class="sxs-lookup"><span data-stu-id="67ffc-119">Do you think coming here will help you not to be unhappy?</span></span> |
| <span data-ttu-id="67ffc-120">Preciso de ajuda; Isso parece muito certo.</span><span class="sxs-lookup"><span data-stu-id="67ffc-120">I need some help; that much seems certain.</span></span>          | <span data-ttu-id="67ffc-121">O que significa se você tem alguma ajuda?</span><span class="sxs-lookup"><span data-stu-id="67ffc-121">What would it mean to you if you got some help?</span></span>           |
| <span data-ttu-id="67ffc-122">Talvez eu aprenda a conhecer minha mãe.</span><span class="sxs-lookup"><span data-stu-id="67ffc-122">Perhaps I could learn to get along with my mother.</span></span>  | <span data-ttu-id="67ffc-123">Mais informações sobre sua família.</span><span class="sxs-lookup"><span data-stu-id="67ffc-123">Tell me more about your family.</span></span>                           |
| <span data-ttu-id="67ffc-124">Minha mãe cuida de mim.</span><span class="sxs-lookup"><span data-stu-id="67ffc-124">My mother takes care of me.</span></span>                         | <span data-ttu-id="67ffc-125">Quem mais em sua família cuida de você?</span><span class="sxs-lookup"><span data-stu-id="67ffc-125">Who else in your family takes care of you?</span></span>                |
| <span data-ttu-id="67ffc-126">Meu pai.</span><span class="sxs-lookup"><span data-stu-id="67ffc-126">My father.</span></span>                                          | <span data-ttu-id="67ffc-127">Seu pai.</span><span class="sxs-lookup"><span data-stu-id="67ffc-127">Your father.</span></span>                                              |
| <span data-ttu-id="67ffc-128">Você é como meu pai de algumas maneiras.</span><span class="sxs-lookup"><span data-stu-id="67ffc-128">You are like my father in some ways.</span></span>                | <span data-ttu-id="67ffc-129">Que aparência você vê?</span><span class="sxs-lookup"><span data-stu-id="67ffc-129">What resemblance do you see?</span></span>                              |



 

<span data-ttu-id="67ffc-130">O programa médico pode ser dividido em aplicativos do lado do cliente e do servidor.</span><span class="sxs-lookup"><span data-stu-id="67ffc-130">The Doctor program can be split into client-side and server-side applications.</span></span> <span data-ttu-id="67ffc-131">O lado do cliente solicita a entrada do paciente e exibe a resposta do médico.</span><span class="sxs-lookup"><span data-stu-id="67ffc-131">The client side prompts the patient for input and displays the doctor's response.</span></span> <span data-ttu-id="67ffc-132">O lado do servidor processa a entrada do paciente e gera a resposta do médico.</span><span class="sxs-lookup"><span data-stu-id="67ffc-132">The server side processes the patient input and generates the doctor's response.</span></span> <span data-ttu-id="67ffc-133">Este é um exemplo clássico de um aplicativo cliente-servidor: o cliente é responsável pela interação do usuário, enquanto o servidor manipula a carga computacional extensiva.</span><span class="sxs-lookup"><span data-stu-id="67ffc-133">This is a classic example of a client-server application: the client is responsible for user interaction while the server handles the extensive computational load.</span></span> <span data-ttu-id="67ffc-134">Muitos dados são passados para e retornados pela função, mas, como os dados podem exigir uma quantidade significativa de processamento, o servidor o processa.</span><span class="sxs-lookup"><span data-stu-id="67ffc-134">Not much data is passed to and returned by the function but, because the data can require a significant amount of processing, the server processes it.</span></span>

<span data-ttu-id="67ffc-135">O programa de doutor usa uma matriz de caracteres para entrada e retorna outra matriz de caracteres como saída.</span><span class="sxs-lookup"><span data-stu-id="67ffc-135">The Doctor program uses a character array for input and returns another character array as output.</span></span> <span data-ttu-id="67ffc-136">A tabela a seguir lista quatro maneiras de passar matrizes de caracteres entre o cliente e o servidor e os atributos e funções necessários para implementar cada abordagem.</span><span class="sxs-lookup"><span data-stu-id="67ffc-136">The table below lists four ways to pass character arrays between the client and server, and the attributes and functions needed to implement each approach.</span></span>



| <span data-ttu-id="67ffc-137">Abordagem</span><span class="sxs-lookup"><span data-stu-id="67ffc-137">Approach</span></span>                       | <span data-ttu-id="67ffc-138">Atributos ou funções</span><span class="sxs-lookup"><span data-stu-id="67ffc-138">Attributes or functions</span></span>                                                                                                        |
|--------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="67ffc-139">Matrizes de caracteres contadas</span><span class="sxs-lookup"><span data-stu-id="67ffc-139">Counted character arrays</span></span>       | <span data-ttu-id="67ffc-140">\[[tamanho \_ ](/windows/desktop/Midl/size-is) \] , \[ [comprimento, \_ ](/windows/desktop/Midl/length-is) \] \[ [ref](/windows/desktop/Midl/ref)\]</span><span class="sxs-lookup"><span data-stu-id="67ffc-140">\[ [size\_is](/windows/desktop/Midl/size-is)\], \[ [length\_is](/windows/desktop/Midl/length-is)\], \[ [ref](/windows/desktop/Midl/ref)\]</span></span>                                         |
| <span data-ttu-id="67ffc-141">Cadeias de caracteres gerenciadas por stub</span><span class="sxs-lookup"><span data-stu-id="67ffc-141">Stub-managed strings</span></span>           | <span data-ttu-id="67ffc-142">\[[String](/windows/desktop/Midl/string) \] , \[ [ref](/windows/desktop/Midl/ref) \] , [MIDL \_ usuário \_ ALLOCATE](/windows/desktop/Midl/midl-user-allocate-1) no servidor</span><span class="sxs-lookup"><span data-stu-id="67ffc-142">\[ [string](/windows/desktop/Midl/string)\], \[ [ref](/windows/desktop/Midl/ref)\], [midl\_user\_allocate](/windows/desktop/Midl/midl-user-allocate-1) on server</span></span>                  |
| <span data-ttu-id="67ffc-143">Cadeias de caracteres gerenciadas por stub</span><span class="sxs-lookup"><span data-stu-id="67ffc-143">Stub-managed strings</span></span>           | <span data-ttu-id="67ffc-144">\[[cadeia de caracteres](/windows/desktop/Midl/string) \] , \[ [exclusivo](/windows/desktop/Midl/unique) \] , [ \_ \_ alocação de usuário de MIDL](/windows/desktop/Midl/midl-user-allocate-1) no cliente e no servidor</span><span class="sxs-lookup"><span data-stu-id="67ffc-144">\[ [string](/windows/desktop/Midl/string)\], \[ [unique](/windows/desktop/Midl/unique)\], [midl\_user\_allocate](/windows/desktop/Midl/midl-user-allocate-1) on client and server</span></span> |
| <span data-ttu-id="67ffc-145">Função que retorna uma cadeia de caracteres</span><span class="sxs-lookup"><span data-stu-id="67ffc-145">Function that returns a string</span></span> | <span data-ttu-id="67ffc-146">\[[exclusivo](/windows/desktop/Midl/unique)\]</span><span class="sxs-lookup"><span data-stu-id="67ffc-146">\[ [unique](/windows/desktop/Midl/unique)\]</span></span>                                                                                                     |



 

<span data-ttu-id="67ffc-147">Dentro das restrições associadas a essas combinações de atributos, há maneiras alternativas de enviar uma matriz de caracteres do cliente para o servidor e retornar outra matriz de caracteres do servidor para o cliente.</span><span class="sxs-lookup"><span data-stu-id="67ffc-147">Within the constraints associated with these combinations of attributes, there are alternative ways of sending one character array from client to server and of returning another character array from server to client.</span></span>

<span data-ttu-id="67ffc-148">Os tópicos a seguir demonstram as compensações de design entre as várias interfaces que podem gerenciar esses parâmetros.</span><span class="sxs-lookup"><span data-stu-id="67ffc-148">The following topics demonstrate the design trade-offs between the various interfaces that can manage these parameters.</span></span>

-   [<span data-ttu-id="67ffc-149">Matrizes de caracteres contadas</span><span class="sxs-lookup"><span data-stu-id="67ffc-149">Counted Character Arrays</span></span>](counted-character-arrays.md)
-   [<span data-ttu-id="67ffc-150">Cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="67ffc-150">Strings</span></span>](strings.md)
-   [<span data-ttu-id="67ffc-151">Vários níveis de ponteiros</span><span class="sxs-lookup"><span data-stu-id="67ffc-151">Multiple Levels of Pointers</span></span>](multiple-levels-of-pointers.md)

 

 