---
title: Órfão de memória
description: Se seu aplicativo distribuído usar um parâmetro \ in, out, Unique \ ou \ in, out, PTR \ pointer, o lado do servidor do aplicativo poderá alterar o valor do parâmetro pointer para NULL.
ms.assetid: 65588b4d-6bf4-44f7-994c-29a5b185c6b9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32042911695f377e0a628168e91387bfa25f0d79
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "105789734"
---
# <a name="memory-orphaning"></a><span data-ttu-id="7255e-103">Órfão de memória</span><span class="sxs-lookup"><span data-stu-id="7255e-103">Memory Orphaning</span></span>

<span data-ttu-id="7255e-104">Se seu aplicativo distribuído usar um \[ parâmetro [de ponteiro in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [Unique](/windows/desktop/Midl/unique) \] ou \[ **in**, **out**, [PTR](/windows/desktop/Midl/ptr) , \] o lado do servidor do aplicativo poderá alterar o valor do parâmetro pointer para NULL.</span><span class="sxs-lookup"><span data-stu-id="7255e-104">If your distributed application uses an \[ [in](/windows/desktop/Midl/in), [out](/windows/desktop/Midl/out-idl), [unique](/windows/desktop/Midl/unique)\] or \[**in**, **out**, [ptr](/windows/desktop/Midl/ptr)\] pointer parameter, the server side of the application can change the value of the pointer parameter to null.</span></span> <span data-ttu-id="7255e-105">Quando o servidor retorna subsequentemente o valor nulo para o cliente, a memória referenciada pelo ponteiro antes da chamada de procedimento remoto ainda está presente no lado do cliente, mas não é mais acessível a partir desse ponteiro (exceto no caso de um ponteiro completo com alias).</span><span class="sxs-lookup"><span data-stu-id="7255e-105">When the server subsequently returns the null value to the client, memory referenced by the pointer before the remote procedure call is still present on the client side, but is no longer accessible from that pointer (except in the case of an aliased full pointer).</span></span> <span data-ttu-id="7255e-106">Essa memória é considerada *órfã*.</span><span class="sxs-lookup"><span data-stu-id="7255e-106">This memory is said to be *orphaned*.</span></span> <span data-ttu-id="7255e-107">Isso também tem como termo um *vazamento de memória*.</span><span class="sxs-lookup"><span data-stu-id="7255e-107">This is also termed a *memory leak*.</span></span> <span data-ttu-id="7255e-108">O órfão repetitivo de memória no cliente faz com que o cliente fique sem recursos de memória disponíveis.</span><span class="sxs-lookup"><span data-stu-id="7255e-108">Repeated orphaning of memory on the client causes the client to run out of available memory resources.</span></span>

<span data-ttu-id="7255e-109">A memória também pode ser órfã quando o servidor altera um ponteiro inserido para um valor nulo.</span><span class="sxs-lookup"><span data-stu-id="7255e-109">Memory can also be orphaned whenever the server changes an embedded pointer to a null value.</span></span> <span data-ttu-id="7255e-110">Por exemplo, se o parâmetro apontar para uma estrutura de dados complexa, como uma árvore, o lado do servidor do aplicativo poderá excluir nós da árvore e definir ponteiros dentro da árvore para NULL.</span><span class="sxs-lookup"><span data-stu-id="7255e-110">For example, if the parameter points to a complex data structure such as a tree, the server side of the application can delete nodes of the tree and set pointers inside the tree to null.</span></span>

<span data-ttu-id="7255e-111">Outra situação que pode levar a uma perda de memória envolve matrizes em conformidade, variáveis e abertas que contêm ponteiros.</span><span class="sxs-lookup"><span data-stu-id="7255e-111">Another situation that can lead to a memory leak involves conformant, varying, and open arrays containing pointers.</span></span> <span data-ttu-id="7255e-112">Quando o aplicativo de servidor modifica o parâmetro que especifica o tamanho da matriz ou o intervalo transmitido para que ele represente um valor menor, os stubs usam os valores menores para liberar memória.</span><span class="sxs-lookup"><span data-stu-id="7255e-112">When the server application modifies the parameter that specifies the array size or transmitted range so that it represents a smaller value, the stubs use the smaller value(s) to free memory.</span></span> <span data-ttu-id="7255e-113">Os elementos de matriz com índices maiores que o parâmetro de tamanho ficam órfãos.</span><span class="sxs-lookup"><span data-stu-id="7255e-113">The array elements with indices larger than the size parameter are orphaned.</span></span> <span data-ttu-id="7255e-114">Seu aplicativo deve liberar elementos fora do intervalo transmitido.</span><span class="sxs-lookup"><span data-stu-id="7255e-114">Your application must free elements outside the transmitted range.</span></span>

 

 