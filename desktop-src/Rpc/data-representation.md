---
title: Representação de dados
description: Os ambientes de computação podem diferir significativamente, pois as arquiteturas de rede podem ser diferentes.
ms.assetid: 34ba76ae-644d-4168-886f-0909a65f1abd
keywords:
- RPC de chamada de procedimento remoto, descrito, representação de dados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4de187f2b646e55cd4f1a269f0504a2d43e951c3
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/09/2020
ms.locfileid: "103642909"
---
# <a name="data-representation"></a><span data-ttu-id="2f87f-104">Representação de dados</span><span class="sxs-lookup"><span data-stu-id="2f87f-104">Data Representation</span></span>

<span data-ttu-id="2f87f-105">Os ambientes de computação podem diferir significativamente, pois as arquiteturas de rede podem ser diferentes.</span><span class="sxs-lookup"><span data-stu-id="2f87f-105">Computing environments can differ significantly, as can network architectures.</span></span> <span data-ttu-id="2f87f-106">Para acomodar essas diferenças, o MIDL permite que você modifique a maneira como você representa os dados.</span><span class="sxs-lookup"><span data-stu-id="2f87f-106">To accommodate these differences, MIDL enables you to modify the way you represent data.</span></span> <span data-ttu-id="2f87f-107">Às vezes, você pode simplificar o desenvolvimento convertendo dados em um formato que seu aplicativo possa manipular com mais facilidade.</span><span class="sxs-lookup"><span data-stu-id="2f87f-107">You can sometimes simplify development by converting data into a format that your application can more easily handle.</span></span> <span data-ttu-id="2f87f-108">Você pode alterar o formato de dados do aplicativo para que ele possa ser transmitido de forma mais eficiente pela rede.</span><span class="sxs-lookup"><span data-stu-id="2f87f-108">You can alter your application's data format so that it can be more efficiently transmitted over the network.</span></span>

<span data-ttu-id="2f87f-109">A **\[** [**transmissão \_ como**](/windows/desktop/Midl/transmit-as) **\]** e **\[** [**representa \_ como**](/windows/desktop/Midl/represent-as) **\]** atributos instruem o compilador a associar um tipo Transmissible que o stub passa entre o cliente e o servidor, com um tipo de usuário que os aplicativos cliente e servidor usam.</span><span class="sxs-lookup"><span data-stu-id="2f87f-109">The **\[**[**transmit\_as**](/windows/desktop/Midl/transmit-as)**\]** and **\[**[**represent\_as**](/windows/desktop/Midl/represent-as)**\]** attributes instruct the compiler to associate a transmissible type that the stub passes between client and server, with a user type that the client and server applications use.</span></span> <span data-ttu-id="2f87f-110">Você deve fornecer as rotinas que executam a conversão entre o tipo de usuário e o tipo Transmissible e as rotinas para liberar a memória que foi usada para manter os dados convertidos.</span><span class="sxs-lookup"><span data-stu-id="2f87f-110">You must supply the routines that carry out the conversion between the user type and the transmissible type, and the routines to release the memory that was used to hold the converted data.</span></span> <span data-ttu-id="2f87f-111">Usar o atributo **\[ transmitir \_ como \]** IDL ou o atributo **\[ represente \_ como \]** ACF instrui o stub a chamar essas rotinas de conversão antes e após a transmissão.</span><span class="sxs-lookup"><span data-stu-id="2f87f-111">Using the **\[transmit\_as\]** IDL attribute or the **\[represent\_as\]** ACF attribute instructs the stub to call these conversion routines before and after transmission.</span></span> <span data-ttu-id="2f87f-112">O **\[** atributo [**transmitir \_ como**](/windows/desktop/Midl/transmit-as) **\]** permite converter um tipo de dados em outro tipo de dados para transmissão pela rede.</span><span class="sxs-lookup"><span data-stu-id="2f87f-112">The **\[**[**transmit\_as**](/windows/desktop/Midl/transmit-as)**\]** attribute lets you convert one data type to another data type for transmission over the network.</span></span> <span data-ttu-id="2f87f-113">O **\[** atributo " [**representar \_ como**](/windows/desktop/Midl/represent-as) " **\]** permite que você controle a maneira como os dados da rede são apresentados ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2f87f-113">The **\[**[**represent\_as**](/windows/desktop/Midl/represent-as)**\]** attribute lets you control the way data from the network is presented to the application.</span></span>

<span data-ttu-id="2f87f-114">Os **\[** atributos de [**\_ marshaling de conexão**](/windows/desktop/Midl/wire-marshal) **\]** e de **\[** [**\_ marshaling do usuário**](/windows/desktop/Midl/user-marshal) **\]** são extensões da Microsoft para o IDL uso-DCE.</span><span class="sxs-lookup"><span data-stu-id="2f87f-114">The **\[**[**wire\_marshal**](/windows/desktop/Midl/wire-marshal)**\]** and **\[**[**user\_marshal**](/windows/desktop/Midl/user-marshal)**\]** attributes are Microsoft extensions to the OSF-DCE IDL.</span></span> <span data-ttu-id="2f87f-115">Sua sintaxe e funcionalidade são semelhantes às da transmissão especificada pelo DCE **\[ \_ como \]** e **\[ representam \_ como \]** atributos, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="2f87f-115">Their syntax and functionality are similar to that of the DCE-specified **\[transmit\_as\]** and **\[represent\_as\]** attributes, respectively.</span></span> <span data-ttu-id="2f87f-116">A diferença é que, em vez de converter os dados de um tipo para outro, você faz marshaling dos dados diretamente.</span><span class="sxs-lookup"><span data-stu-id="2f87f-116">The difference is that, instead of converting the data from one type to another, you marshal the data directly.</span></span> <span data-ttu-id="2f87f-117">Para fazer isso, você deve fornecer as rotinas externas para o dimensionamento do buffer de dados nos lados do cliente e do servidor, o marshaling e o desempacotamento dos dados nos lados do cliente e do servidor e a liberação dos dados no lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="2f87f-117">To do this, you must supply the external routines for sizing the data buffer on the client and server sides, marshaling and unmarshaling the data on the client and server sides, and freeing the data on the server side.</span></span> <span data-ttu-id="2f87f-118">O compilador MIDL gera códigos de formato que instruem o mecanismo de NDR a chamar essas rotinas externas quando necessário.</span><span class="sxs-lookup"><span data-stu-id="2f87f-118">The MIDL compiler generates format codes that instruct the NDR engine to call these external routines when needed.</span></span>

<span data-ttu-id="2f87f-119">Os atributos de **\[ \_ marshaling \]** e **\[ \_ Marshal \] do usuário** tornam possível o marshaling de tipos de dados que, de outra forma, não poderiam ser transmitidos entre limites de processo.</span><span class="sxs-lookup"><span data-stu-id="2f87f-119">The **\[wire\_marshal\]** and **\[user\_marshal\]** attributes make it possible to marshal data types that otherwise could not be transmitted across process boundaries.</span></span> <span data-ttu-id="2f87f-120">Além disso, como há menos sobrecarga associada à conversão de tipo, **\[ o \_ marshaling \] de conexão** e o **\[ \_ marshaling \] do usuário** fornecem um desempenho aprimorado em tempo de execução, quando comparado a **\[ transmitir \_ como \]** e **\[ representar \_ como \]**.</span><span class="sxs-lookup"><span data-stu-id="2f87f-120">Also, because there is less overhead associated with the type conversion, **\[wire\_marshal\]** and **\[user\_marshal\]** provide improved performance at run time, when compared to **\[transmit\_as\]** and **\[represent\_as\]**.</span></span> <span data-ttu-id="2f87f-121">Os atributos de **\[ \_ marshaling \]** e **\[ \_ Marshal \] do usuário** são mutuamente exclusivos em relação uns aos outros e **\[ \_ \]** em relação à **\[ transmissão \_ como \]** e representam os atributos de um determinado tipo.</span><span class="sxs-lookup"><span data-stu-id="2f87f-121">The **\[wire\_marshal\]** and **\[user\_marshal\]** attributes are mutually exclusive with respect to each other and with respect to the **\[transmit\_as\]** and **\[represent\_as\]** attributes for a given type.</span></span>

<span data-ttu-id="2f87f-122">É importante observar que a implementação dos atributos de **\[ \_ marshaling \] de conexão** e de **\[ \_ marshaling \] do usuário** deve seguir as regras de Marshalling ditadas pela especificação uso-DCE.</span><span class="sxs-lookup"><span data-stu-id="2f87f-122">It is important to note that the implementation of the **\[wire\_marshal\]** and **\[user\_marshal\]** attributes must follow the marshalling rules dictated by OSF-DCE specification.</span></span> <span data-ttu-id="2f87f-123">Por esse motivo, o uso desses atributos não será recomendado se você não estiver familiarizado com o protocolo de conexão.</span><span class="sxs-lookup"><span data-stu-id="2f87f-123">For that reason, the use of these attributes is not recommended if you are not familiar with the wire protocol.</span></span> <span data-ttu-id="2f87f-124">Mais informações sobre a transferência de sintaxe de NDR podem ser encontradas em [www.opengroup.org](https://pubs.opengroup.org/onlinepubs/9629399/chap14.htm).</span><span class="sxs-lookup"><span data-stu-id="2f87f-124">More information regarding the NDR Syntax Transfer can be found at [www.opengroup.org](https://pubs.opengroup.org/onlinepubs/9629399/chap14.htm).</span></span>

<span data-ttu-id="2f87f-125">Esta seção fornece uma breve visão geral desses atributos de MIDL, nos seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="2f87f-125">This section provides a brief overview of these for MIDL attributes, in the following topics:</span></span>

-   [<span data-ttu-id="2f87f-126">**A transmissão \_ como e representa \_ como atributos**</span><span class="sxs-lookup"><span data-stu-id="2f87f-126">**The transmit\_as and represent\_as Attributes**</span></span>](the-transmit-as-and-represent-as-attributes.md)
-   [<span data-ttu-id="2f87f-127">**Os \_ atributos de marshaling e \_ Marshal do usuário de transmissão**</span><span class="sxs-lookup"><span data-stu-id="2f87f-127">**The wire\_marshal and user\_marshal Attributes**</span></span>](the-wire-marshal-and-user-marshal-attributes.md)

 

 