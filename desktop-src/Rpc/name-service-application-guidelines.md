---
title: Diretrizes de aplicativo de serviço de nome
description: Ao desenvolver seu aplicativo distribuído, você precisa fornecer aos usuários do aplicativo um método para especificar o nome sob o qual eles podem registrar o aplicativo no banco de dados do serviço de nome.
ms.assetid: cda997b3-6031-4c0f-affc-c766ba4b7fd5
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c67af441da7a51917ae92751345e860e6b0fc92b
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103916456"
---
# <a name="name-service-application-guidelines"></a><span data-ttu-id="b1407-103">Diretrizes de aplicativo de serviço de nome</span><span class="sxs-lookup"><span data-stu-id="b1407-103">Name Service Application Guidelines</span></span>

<span data-ttu-id="b1407-104">Ao desenvolver seu aplicativo distribuído, você precisa fornecer aos usuários do aplicativo um método para especificar o nome sob o qual eles podem registrar o aplicativo no banco de dados do serviço de nome.</span><span class="sxs-lookup"><span data-stu-id="b1407-104">When you develop your distributed application, you need to provide the application users with a method for specifying the name under which they can register the application in the name service database.</span></span> <span data-ttu-id="b1407-105">Esse método pode consistir em um arquivo de dados, uma entrada de linha de comando ou uma caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="b1407-105">This method can consist of a data file, command-line input, or dialog box.</span></span>

<span data-ttu-id="b1407-106">Embora a arquitetura de serviço de nome RPC dê suporte a vários métodos para organizar as entradas de servidor de um aplicativo, ele é otimizado para pesquisas.</span><span class="sxs-lookup"><span data-stu-id="b1407-106">Although the RPC name service architecture supports various methods for organizing an application's server entries, it is optimized for lookups.</span></span> <span data-ttu-id="b1407-107">Como resultado, as atualizações frequentes podem prejudicar o desempenho do serviço de nome e do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1407-107">As a result, frequent updates can hinder the performance of both the name service and the application.</span></span> <span data-ttu-id="b1407-108">Para evitar a exportação de informações desnecessariamente, escolha um design que permita que o servidor determine se suas informações estão no banco de dados do serviço de nome.</span><span class="sxs-lookup"><span data-stu-id="b1407-108">To avoid exporting information unnecessarily, choose a design that lets the server determine whether its information is in the name service database.</span></span> <span data-ttu-id="b1407-109">Além disso, cada instância de servidor deve exportar para seu próprio nome de entrada.</span><span class="sxs-lookup"><span data-stu-id="b1407-109">In addition, each server instance should export to its own entry name.</span></span> <span data-ttu-id="b1407-110">Caso contrário, será difícil para uma instância alterar seus UUIDs de objeto com suporte ou sequências de protocolo sem perturbar as informações de outra instância.</span><span class="sxs-lookup"><span data-stu-id="b1407-110">Otherwise, it will be difficult for an instance to change its supported object UUIDs or protocol sequences without disturbing another instance's information.</span></span>

<span data-ttu-id="b1407-111">O método a seguir evita essas armadilhas e fornece um bom desempenho, não importa qual serviço de nome sua rede usa.</span><span class="sxs-lookup"><span data-stu-id="b1407-111">The following method avoids these pitfalls and provides good performance, no matter what name service your network uses.</span></span>

<span data-ttu-id="b1407-112">Para começar, crie seu aplicativo de forma que, na primeira vez que uma determinada instância de servidor for iniciada, ele escolha um nome de entrada de servidor exclusivo e salve esse nome no registro junto com as outras informações de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b1407-112">To begin with, design your application so that the first time a given server instance starts, it picks a unique server-entry name and saves this name in the registry along with the application's other configuration information.</span></span> <span data-ttu-id="b1407-113">Em seguida, exporte seus identificadores de associação e UUIDs de objeto, se houver, para sua entrada de serviço de nome.</span><span class="sxs-lookup"><span data-stu-id="b1407-113">Then, have it export its binding handles and object UUIDs, if any, to its name service entry.</span></span>

<span data-ttu-id="b1407-114">As invocações subsequentes da instância de servidor devem verificar se a entrada de serviço de nome está presente e contém o conjunto correto de UUIDs de objeto e identificadores de associação.</span><span class="sxs-lookup"><span data-stu-id="b1407-114">Subsequent invocations of the server instance should check that the name service entry is present and contains the correct set of object UUIDs and binding handles.</span></span> <span data-ttu-id="b1407-115">Uma entrada ausente pode significar que um administrador a removeu ou que uma queda de energia fez com que as informações do serviço de nome sejam perdidas.</span><span class="sxs-lookup"><span data-stu-id="b1407-115">A missing entry may mean that an administrator removed it, or that a power outage caused the name service information to be lost.</span></span> <span data-ttu-id="b1407-116">É importante verificar se os identificadores de associação na entrada estão corretos; se um administrador adicionar suporte a TCP/IP a um computador, por exemplo, os servidores RPC escutarão nessa sequência de protocolo quando chamarem [**RpcServerUseAllProtseqs**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseallprotseqs).</span><span class="sxs-lookup"><span data-stu-id="b1407-116">It is important to verify that the binding handles in the entry are correct; if an administrator adds TCP/IP support to a computer, for example, RPC servers will listen on that protocol sequence when they call [**RpcServerUseAllProtseqs**](/windows/desktop/api/Rpcdce/nf-rpcdce-rpcserveruseallprotseqs).</span></span> <span data-ttu-id="b1407-117">No entanto, se o servidor não atualizar a entrada de serviço de nome, os clientes não serão informados de que há suporte para TCP.</span><span class="sxs-lookup"><span data-stu-id="b1407-117">However, if the server does not update the name service entry, clients will not be informed that TCP is supported.</span></span>

<span data-ttu-id="b1407-118">Quando o cliente importa, ele deve especificar **NULL** como o nome da entrada.</span><span class="sxs-lookup"><span data-stu-id="b1407-118">When the client imports, it should specify **NULL** as the entry name.</span></span> <span data-ttu-id="b1407-119">A especificação de **NULL** faz com que a Biblioteca RPC da Microsoft funcione para pesquisar a interface em todas as entradas de serviço de nome no domínio ou grupo de trabalho do computador cliente, localizando assim as informações para cada instância.</span><span class="sxs-lookup"><span data-stu-id="b1407-119">Specifying **NULL** causes the Microsoft RPC library functions to search for the interface in all name service entries in the client computer's domain or workgroup, thus finding the information for every instance.</span></span>

<span data-ttu-id="b1407-120">Se você usar UUIDs de objeto para representar objetos conhecidos, como impressoras, poderá usar uma variação desse método.</span><span class="sxs-lookup"><span data-stu-id="b1407-120">If you use object UUIDs to represent well-known objects such as printers, you can use a variation of this method.</span></span> <span data-ttu-id="b1407-121">Em vez de exportar associações para uma entrada, crie seu aplicativo para que cada instância crie uma entrada para cada objeto com suporte, como "/.:/ impressoras/Laser1 "e"/.:/ impressoras/Laser2. "</span><span class="sxs-lookup"><span data-stu-id="b1407-121">Instead of exporting bindings to one entry, design your application so that each instance creates an entry for each supported object, such as "/.:/printers/Laser1" and "/.:/printers/Laser2."</span></span> <span data-ttu-id="b1407-122">Em seguida, faça com que o servidor exporte seus identificadores de associação para cada entrada de servidor, juntamente com o UUID do objeto relevante para essa entrada.</span><span class="sxs-lookup"><span data-stu-id="b1407-122">Then, have the server export its binding handles to each server entry, along with the object UUID relevant to that entry.</span></span>

<span data-ttu-id="b1407-123">Nesse caso, um cliente pode procurar um recurso por nome importando da entrada de servidor relevante; Ele não requer o UUID do objeto do recurso.</span><span class="sxs-lookup"><span data-stu-id="b1407-123">In this case, a client can look up a resource by name by importing from the relevant server entry; it does not require the object UUID of the resource.</span></span> <span data-ttu-id="b1407-124">Se ele tiver o UUID do recurso, mas não o nome, ele poderá importar da entrada **NULL** .</span><span class="sxs-lookup"><span data-stu-id="b1407-124">If it has the resource UUID but not the name, it can import from the **null** entry.</span></span>

 

 




