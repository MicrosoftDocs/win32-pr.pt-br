---
title: Atributos de comprimento, tamanho e direção
description: Ao passar matrizes entre o cliente e o servidor, os atributos relacionados ao tamanho \ Max \_ são \ e \ Size \_ is \ determinam quantos elementos de matriz o stub do servidor aloca.
ms.assetid: 2c95cf47-6fc0-4ccd-bb4f-acf356596e56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 98ffbf1ac75ad82a89e258ab595590fce2190b9e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103641601"
---
# <a name="length-size-and-directional-attributes"></a><span data-ttu-id="19739-103">Atributos de comprimento, tamanho e direção</span><span class="sxs-lookup"><span data-stu-id="19739-103">Length, Size, and Directional Attributes</span></span>

<span data-ttu-id="19739-104">Na passagem de matrizes entre o cliente e o servidor, os atributos relacionados ao tamanho \[ [**máximo \_ é**](/windows/desktop/Midl/max-is) \] e o \[ [**tamanho \_**](/windows/desktop/Midl/size-is) \] determinam quantos elementos de matriz o stub do servidor aloca.</span><span class="sxs-lookup"><span data-stu-id="19739-104">In passing arrays between the client and the server, the size-related attributes \[[**max\_is**](/windows/desktop/Midl/max-is)\] and \[[**size\_is**](/windows/desktop/Midl/size-is)\] determine how many array elements the server stub allocates.</span></span> <span data-ttu-id="19739-105">O comprimento dos atributos relacionados ao comprimento \[ [**\_ é**](/windows/desktop/Midl/length-is) \] , \[ [**primeiro \_**](/windows/desktop/Midl/first-is) \] , e \[ o [**último \_ é**](/windows/desktop/Midl/last-is) \] determinar quantos elementos são transmitidos ao servidor e ao cliente.</span><span class="sxs-lookup"><span data-stu-id="19739-105">The length-related attributes \[[**length\_is**](/windows/desktop/Midl/length-is)\], \[[**first\_is**](/windows/desktop/Midl/first-is)\], and \[[**last\_is**](/windows/desktop/Midl/last-is)\] determine how many elements are transmitted to both the server and the client.</span></span>

<span data-ttu-id="19739-106">Diferentes atributos direcionais podem ser aplicados a parâmetros.</span><span class="sxs-lookup"><span data-stu-id="19739-106">Different directional attributes can be applied to parameters.</span></span> <span data-ttu-id="19739-107">No entanto, algumas combinações de atributos direcionais podem causar erros.</span><span class="sxs-lookup"><span data-stu-id="19739-107">However, some combinations of directional attributes can cause errors.</span></span> <span data-ttu-id="19739-108">Por exemplo, suponha que você esteja escrevendo uma interface que especifica um procedimento com dois parâmetros, uma matriz e o comprimento transmitido da matriz.</span><span class="sxs-lookup"><span data-stu-id="19739-108">As an example, suppose you are writing an interface that specifies a procedure with two parameters, an array, and the transmitted length of the array.</span></span> <span data-ttu-id="19739-109">O termo *dir \_ attr* se refere ao atributo direcional aplicado ao parâmetro como:</span><span class="sxs-lookup"><span data-stu-id="19739-109">The term *dir\_attr* refers to the directional attribute applied to the parameter as:</span></span>

``` syntax
Proc1(
    [dir_attr] short *plength;
    [dir_attr, length_is(pLength)] short array[MAX_SIZE]);
```

<span data-ttu-id="19739-110">O comportamento do compilador MIDL para cada combinação de atributos direcionais é descrito na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="19739-110">The MIDL compiler behavior for each combination of directional attributes is described in the following table.</span></span>



| <span data-ttu-id="19739-111">Array</span><span class="sxs-lookup"><span data-stu-id="19739-111">Array</span></span>                                          | <span data-ttu-id="19739-112">Parâmetro de comprimento</span><span class="sxs-lookup"><span data-stu-id="19739-112">Length parameter</span></span>                               | <span data-ttu-id="19739-113">Ações de stub durante chamada do cliente para o servidor</span><span class="sxs-lookup"><span data-stu-id="19739-113">Stub actions during call from client to server</span></span>                                                                                                                                                                                                                          | <span data-ttu-id="19739-114">Ações de stub em retorno do servidor para o cliente</span><span class="sxs-lookup"><span data-stu-id="19739-114">Stub actions on return from server to client</span></span>                                                                                                                                                                         |
|------------------------------------------------|------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="19739-115">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-115">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-116">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-116">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-117">Transmita o comprimento e o número de elementos indicados pelo parâmetro.</span><span class="sxs-lookup"><span data-stu-id="19739-117">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="19739-118">Nenhum dado transmitido.</span><span class="sxs-lookup"><span data-stu-id="19739-118">No data transmitted.</span></span>                                                                                                                                                                                                 |
| <span data-ttu-id="19739-119">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-119">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-120">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-120">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-121">Não legal; Erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-121">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                                                                         | <span data-ttu-id="19739-122">Não legal; Erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-122">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                      |
| <span data-ttu-id="19739-123">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-123">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-124">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-124">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-125">Transmita o comprimento e o número de elementos indicados pelo parâmetro de comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-125">Transmit the length and the number of elements indicated by the length parameter.</span></span>                                                                                                                                                                                       | <span data-ttu-id="19739-126">Transmita apenas o comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-126">Transmit the length only.</span></span>                                                                                                                                                                                            |
| <span data-ttu-id="19739-127">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-127">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-128">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-128">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-129">Transmita o comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-129">Transmit the length.</span></span><br/> <span data-ttu-id="19739-130">Se o tamanho da matriz for fixo, aloque o tamanho da matriz no servidor, mas não transmita nenhum elemento.</span><span class="sxs-lookup"><span data-stu-id="19739-130">If array size is fixed, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="19739-131">Se o tamanho da matriz não estiver associado, não legal: erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-131">If array size is not bound, not legal: MIDL compiler error.</span></span><br/>                                                              | <span data-ttu-id="19739-132">Transmita o número de elementos indicados pelo comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-132">Transmit the number of elements indicated by the length.</span></span><br/> <span data-ttu-id="19739-133">Observe que o comprimento pode ser alterado e pode ter um valor diferente do valor no cliente.</span><span class="sxs-lookup"><span data-stu-id="19739-133">Note that the length can be changed and can have a different value from the value on the client.</span></span> <span data-ttu-id="19739-134">Não transmita o comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-134">Do not transmit the length.</span></span><br/>          |
| <span data-ttu-id="19739-135">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-135">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-136">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-136">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-137">Aloque espaço para o parâmetro de comprimento no servidor, mas não transmita o parâmetro.</span><span class="sxs-lookup"><span data-stu-id="19739-137">Allocate space for the length parameter on the server but do not transmit the parameter.</span></span> <span data-ttu-id="19739-138">Se o tamanho da matriz for fixo, aloque o tamanho da matriz no servidor, mas não transmita nenhum elemento.</span><span class="sxs-lookup"><span data-stu-id="19739-138">If the array size is fixed, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="19739-139">Se o tamanho da matriz não for corrigido, não legal: erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-139">If array size is not fixed, not legal: MIDL compiler error.</span></span><br/> | <span data-ttu-id="19739-140">Transmita o comprimento e o número de elementos indicados pelo comprimento conforme definido pelo aplicativo do servidor.</span><span class="sxs-lookup"><span data-stu-id="19739-140">Transmit the length and the number of elements indicated by the length as set by the server application.</span></span>                                                                                                             |
| <span data-ttu-id="19739-141">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-141">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-142">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-142">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-143">Transmita o parâmetro de comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-143">Transmit the length parameter.</span></span> <span data-ttu-id="19739-144">Se o tamanho da matriz for associado, aloque o tamanho da matriz no servidor, mas não transmita nenhum elemento.</span><span class="sxs-lookup"><span data-stu-id="19739-144">If the array size is bound, allocate the array size on the server, but transmit no elements.</span></span><br/> <span data-ttu-id="19739-145">Se o tamanho da matriz não estiver associado, não legal: erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-145">If array size is not bound, not legal: MIDL compiler error.</span></span><br/>                                                           | <span data-ttu-id="19739-146">Transmita o comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-146">Transmit the length.</span></span> <span data-ttu-id="19739-147">Transmita o número de elementos de matriz indicados pelo comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-147">Transmit the number of array elements indicated by the length.</span></span><br/>                                                                                                                       |
| <span data-ttu-id="19739-148">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-148">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-149">\[[**no**](/windows/desktop/Midl/in)\]</span><span class="sxs-lookup"><span data-stu-id="19739-149">\[[**in**](/windows/desktop/Midl/in)\]</span></span>                          | <span data-ttu-id="19739-150">Transmita o comprimento e o número de elementos indicados pelo parâmetro.</span><span class="sxs-lookup"><span data-stu-id="19739-150">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="19739-151">Não transmita o comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-151">Do not transmit the length.</span></span> <span data-ttu-id="19739-152">Transmita o número de elementos indicados pelo comprimento.</span><span class="sxs-lookup"><span data-stu-id="19739-152">Transmit the number of elements indicated by the length.</span></span><br/> <span data-ttu-id="19739-153">Observe que o comprimento pode ser alterado e pode ter um valor diferente do valor original no cliente.</span><span class="sxs-lookup"><span data-stu-id="19739-153">Note that the length can be changed and can have a different value from the original value on the client.</span></span><br/> |
| <span data-ttu-id="19739-154">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-154">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-155">\[[**fora**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-155">\[[**out**](/windows/desktop/Midl/out-idl)\]</span></span>                    | <span data-ttu-id="19739-156">Não legal; Erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-156">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                                                                         | <span data-ttu-id="19739-157">Não legal; Erro do compilador MIDL.</span><span class="sxs-lookup"><span data-stu-id="19739-157">Not legal; MIDL compiler error.</span></span>                                                                                                                                                                                      |
| <span data-ttu-id="19739-158">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-158">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-159">\[[**entrada**](/windows/desktop/Midl/in), [ **saída**](/windows/desktop/Midl/out-idl)\]</span><span class="sxs-lookup"><span data-stu-id="19739-159">\[[**in**](/windows/desktop/Midl/in), [**out**](/windows/desktop/Midl/out-idl)\]</span></span> | <span data-ttu-id="19739-160">Transmita o comprimento e o número de elementos indicados pelo parâmetro.</span><span class="sxs-lookup"><span data-stu-id="19739-160">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                                                                              | <span data-ttu-id="19739-161">Transmita o comprimento e o número de elementos indicados pelo parâmetro.</span><span class="sxs-lookup"><span data-stu-id="19739-161">Transmit the length and the number of elements indicated by the parameter.</span></span>                                                                                                                                           |



 

<span data-ttu-id="19739-162">Em geral, você não deve modificar os parâmetros de comprimento ou tamanho no lado do servidor.</span><span class="sxs-lookup"><span data-stu-id="19739-162">In general, you should not modify the length or size parameters on the server side.</span></span> <span data-ttu-id="19739-163">Se você alterar o parâmetro de comprimento, poderá órfã memória.</span><span class="sxs-lookup"><span data-stu-id="19739-163">If you change the length parameter, you can orphan memory.</span></span> <span data-ttu-id="19739-164">Para obter mais informações, consulte [órfãos de memória](memory-orphaning.md).</span><span class="sxs-lookup"><span data-stu-id="19739-164">For more information, see [Memory Orphaning](memory-orphaning.md).</span></span>

 

