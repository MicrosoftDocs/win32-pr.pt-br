---
title: Três tipos de ponteiro
description: O MIDL dá suporte a três tipos de ponteiros para acomodar uma ampla gama de aplicativos.
ms.assetid: 6684c252-6fbe-49ca-9967-6d4baf5dc298
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: efdcc9548568c8fca24d8abb40bf0eaa8b6e7da3
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103917347"
---
# <a name="three-pointer-types"></a><span data-ttu-id="22bbf-103">Três tipos de ponteiro</span><span class="sxs-lookup"><span data-stu-id="22bbf-103">Three Pointer Types</span></span>

<span data-ttu-id="22bbf-104">O MIDL dá suporte a três tipos de ponteiros para acomodar uma ampla gama de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="22bbf-104">MIDL supports three types of pointers to accommodate a wide range of applications.</span></span> <span data-ttu-id="22bbf-105">Os três níveis diferentes são chamados de referência, exclusivos e ponteiros completos, e são indicados pelos atributos **\[** [**ref**](/windows/desktop/Midl/ref) **\]** , **\[** [**Unique**](/windows/desktop/Midl/unique) **\]** e **\[** [**PTR**](/windows/desktop/Midl/ptr) **\]** , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="22bbf-105">The three different levels are called reference, unique, and full pointers, and are indicated by the attributes **\[**[**ref**](/windows/desktop/Midl/ref)**\]**, **\[**[**unique**](/windows/desktop/Midl/unique)**\]**, and **\[**[**ptr**](/windows/desktop/Midl/ptr)**\]**, respectively.</span></span> <span data-ttu-id="22bbf-106">As classes de ponteiro descritas por esses atributos são mutuamente exclusivas.</span><span class="sxs-lookup"><span data-stu-id="22bbf-106">The pointer classes described by these attributes are mutually exclusive.</span></span> <span data-ttu-id="22bbf-107">Os atributos de ponteiro podem ser aplicados a ponteiros em definições de tipo, tipos de retorno de função, parâmetros de função, membros de estruturas ou uniões ou elementos de matriz.</span><span class="sxs-lookup"><span data-stu-id="22bbf-107">Pointer attributes can be applied to pointers in type definitions, function return types, function parameters, members of structures or unions, or array elements.</span></span>

<span data-ttu-id="22bbf-108">Ponteiros inseridos são ponteiros que são membros de estruturas ou uniões.</span><span class="sxs-lookup"><span data-stu-id="22bbf-108">Embedded pointers are pointers that are members of structures or unions.</span></span> <span data-ttu-id="22bbf-109">Eles também podem ser elementos de matrizes.</span><span class="sxs-lookup"><span data-stu-id="22bbf-109">They can also be elements of arrays.</span></span> <span data-ttu-id="22bbf-110">Na **\[** [](/windows/desktop/Midl/in) **\]** direção, os ponteiros de **\[ referência \]** inseridos são considerados como apontados para um armazenamento válido e não devem ser nulos.</span><span class="sxs-lookup"><span data-stu-id="22bbf-110">In the **\[**[**in**](/windows/desktop/Midl/in)**\]** direction, embedded **\[ref\]** pointers are assumed to be pointing to valid storage and must not be null.</span></span> <span data-ttu-id="22bbf-111">Essa situação é aplicável recursivamente a quaisquer ponteiros de **\[ referência \]** aos quais estão apontando.</span><span class="sxs-lookup"><span data-stu-id="22bbf-111">This situation is recursively applicable to any **\[ref\]** pointers they are pointing to.</span></span> <span data-ttu-id="22bbf-112">Na direção **\[ , \]** os ponteiros **\[ únicos \]** e completos inseridos (ponteiros com o atributo **\[ PTR \]** ) podem ou não ser nulos.</span><span class="sxs-lookup"><span data-stu-id="22bbf-112">In the **\[in\]** direction, embedded **\[unique\]** and full pointers (pointers with the **\[ptr\]** attribute) may or may not be null.</span></span>

<span data-ttu-id="22bbf-113">Qualquer atributo de ponteiro colocado em um parâmetro na sintaxe de uma declaração de função afeta apenas o Declarador de ponteiro mais à direita para esse parâmetro.</span><span class="sxs-lookup"><span data-stu-id="22bbf-113">Any pointer attribute placed on a parameter in the syntax of a function declaration affects only the rightmost pointer declarator for that parameter.</span></span> <span data-ttu-id="22bbf-114">Para afetar os declaradores de ponteiro, os tipos de nomes intermediários devem ser usados.</span><span class="sxs-lookup"><span data-stu-id="22bbf-114">To affect other pointer declarators, intermediate named types must be used.</span></span>

<span data-ttu-id="22bbf-115">As funções que retornam um ponteiro podem ter um atributo de ponteiro como um atributo de função.</span><span class="sxs-lookup"><span data-stu-id="22bbf-115">Functions that return a pointer can have a pointer attribute as a function attribute.</span></span> <span data-ttu-id="22bbf-116">Os atributos **\[ Unique \]** e **\[ PTR \]** devem ser aplicados aos tipos de retorno de função.</span><span class="sxs-lookup"><span data-stu-id="22bbf-116">The **\[unique\]** and **\[ptr\]** attributes must be applied to function return types.</span></span> <span data-ttu-id="22bbf-117">Declarações de membro que são ponteiros podem especificar um atributo de ponteiro como um atributo de campo.</span><span class="sxs-lookup"><span data-stu-id="22bbf-117">Member declarations that are pointers can specify a pointer attribute as a field attribute.</span></span> <span data-ttu-id="22bbf-118">Um atributo de ponteiro também pode ser aplicado como um atributo de tipo em constructos de [**typedef**](/windows/desktop/Midl/typedef) .</span><span class="sxs-lookup"><span data-stu-id="22bbf-118">A pointer attribute can also be applied as a type attribute in [**typedef**](/windows/desktop/Midl/typedef) constructs.</span></span>

<span data-ttu-id="22bbf-119">Quando nenhum atributo de ponteiro é especificado como um atributo de campo ou tipo, os atributos de ponteiro são aplicados de acordo com as regras para uma declaração de ponteiro sem atributo, como a seguir.</span><span class="sxs-lookup"><span data-stu-id="22bbf-119">When no pointer attribute is specified as a field or type attribute, pointer attributes are applied according to the rules for an unattributed pointer declaration as follows.</span></span>

<span data-ttu-id="22bbf-120">No modo de compatibilidade com DCE, os atributos de ponteiro são determinados na definição do arquivo IDL.</span><span class="sxs-lookup"><span data-stu-id="22bbf-120">In DCE-compatibility mode, pointer attributes are determined in the defining IDL file.</span></span> <span data-ttu-id="22bbf-121">Se houver um atributo **\[** [**\_ padrão de ponteiro**](/windows/desktop/Midl/pointer-default) **\]** especificado na interface de definição, esse atributo será usado.</span><span class="sxs-lookup"><span data-stu-id="22bbf-121">If there is a **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** attribute specified in the defining interface, that attribute is used.</span></span> <span data-ttu-id="22bbf-122">Se nenhum atributo **\[ \_ padrão \] de ponteiro** estiver presente, todos os ponteiros sem atributo serão ponteiros completos.</span><span class="sxs-lookup"><span data-stu-id="22bbf-122">If no **\[pointer\_default\]** attribute is present, all unattributed pointers are full pointers.</span></span>

<span data-ttu-id="22bbf-123">No modo extensões da Microsoft, os atributos de ponteiro podem ser determinados pela importação de arquivos IDL e são aplicados na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="22bbf-123">In Microsoft-extensions mode, pointer attributes can be determined by importing IDL files and are applied in the following order:</span></span>

1.  <span data-ttu-id="22bbf-124">Um atributo de ponteiro explícito aplicado ao site de uso.</span><span class="sxs-lookup"><span data-stu-id="22bbf-124">An explicit pointer attribute applied at the use site.</span></span>
2.  <span data-ttu-id="22bbf-125">O atributo **\[ ref \]** , quando o ponteiro sem atributo é um parâmetro de ponteiro de nível superior.</span><span class="sxs-lookup"><span data-stu-id="22bbf-125">The **\[ref\]** attribute, when the unattributed pointer is a top-level pointer parameter.</span></span>
3.  <span data-ttu-id="22bbf-126">Um atributo **\[ \_ padrão \] de ponteiro** especificado na interface de definição.</span><span class="sxs-lookup"><span data-stu-id="22bbf-126">A **\[pointer\_default\]** attribute specified in the defining interface.</span></span>
4.  <span data-ttu-id="22bbf-127">Um atributo **\[ \_ padrão \] de ponteiro** especificado na interface base.</span><span class="sxs-lookup"><span data-stu-id="22bbf-127">A **\[pointer\_default\]** attribute specified in the base interface.</span></span>
5.  <span data-ttu-id="22bbf-128">O atributo **\[ exclusivo \]** .</span><span class="sxs-lookup"><span data-stu-id="22bbf-128">The **\[unique\]** attribute.</span></span>

<span data-ttu-id="22bbf-129">O **\[** atributo de interface [**\_ padrão do ponteiro**](/windows/desktop/Midl/pointer-default) **\]** especifica os atributos de ponteiro padrão a serem aplicados a um Declarador de ponteiro em um tipo, parâmetro ou declaração de tipo de retorno quando essa declaração não tem um atributo de ponteiro explícito aplicado a ele.</span><span class="sxs-lookup"><span data-stu-id="22bbf-129">The **\[**[**pointer\_default**](/windows/desktop/Midl/pointer-default)**\]** interface attribute specifies the default pointer attributes to be applied to a pointer declarator in a type, parameter, or return type declaration when that declaration does not have an explicit pointer attribute applied to it.</span></span> <span data-ttu-id="22bbf-130">O atributo de interface **\[ \_ padrão \] do ponteiro** não se aplica a um ponteiro de nível superior não atributo de um parâmetro, que é considerado como **\[ ref \]**.</span><span class="sxs-lookup"><span data-stu-id="22bbf-130">The **\[pointer\_default\]** interface attribute does not apply to an unattributed top-level pointer of a parameter, which is assumed to be **\[ref\]**.</span></span>

 

 