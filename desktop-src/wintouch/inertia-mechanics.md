---
title: Mecânica inércia
description: Mecânica inércia
ms.assetid: 188b6936-b36e-4e57-9118-8b61ed134c17
keywords:
- Windows Touch, inércia
- Windows Touch, animação suave
- Toque do Windows, margem elástica
- inércia, mecânica
- inércia, conceitos básicos de cálculo
- inércia, visão geral da física
- inércia, animação suave
- inércia, margem elástica
- animação suave
- margem elástica
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: be79b27900c6921c972710e7e922ab42b834afc1
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104291930"
---
# <a name="inertia-mechanics"></a><span data-ttu-id="2b5ce-113">Mecânica inércia</span><span class="sxs-lookup"><span data-stu-id="2b5ce-113">Inertia Mechanics</span></span>

<span data-ttu-id="2b5ce-114">O inércia é usado para executar cálculos para animar a movimentação de objetos e habilitar o suporte para uso genérico em aplicativos que incorporam o Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-114">Inertia is used to perform calculations for animating object movement and to enable support for generic usability in applications incorporating Windows Touch.</span></span> <span data-ttu-id="2b5ce-115">Esta seção ilustra os recursos a seguir que são habilitados pelo inércia.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-115">This section illustrates the following features that are enabled by inertia.</span></span>

-   <span data-ttu-id="2b5ce-116">Uma breve visão geral da física inércia.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-116">A brief overview of inertia physics.</span></span>
-   <span data-ttu-id="2b5ce-117">Animação suave de objetos usando as propriedades de velocidade e desaceleração.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-117">Smooth object animation using the velocity and deceleration properties.</span></span>
-   <span data-ttu-id="2b5ce-118">Animação suave de objetos usando uma propriedade de deslocamento.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-118">Smooth object animation using a displacement property.</span></span>
-   <span data-ttu-id="2b5ce-119">Saltando das bordas da tela usando limites elásticos.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-119">Bouncing from the screen edges using elastic bounds.</span></span>

## <a name="inertia-physics-overview"></a><span data-ttu-id="2b5ce-120">Visão geral da física do inércia</span><span class="sxs-lookup"><span data-stu-id="2b5ce-120">Inertia Physics Overview</span></span>

<span data-ttu-id="2b5ce-121">O processador inércia usa um modelo de física simples que incorpora uma posição, um valor de desaceleração e uma velocidade inicial.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-121">The inertia processor uses a simple physics model that incorporates a position, a deceleration value, and an initial velocity.</span></span> <span data-ttu-id="2b5ce-122">O tempo é usado como a entrada dinâmica para o modelo para determinar a posição atual de um objeto que está sendo inserido.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-122">Time is used as the dynamic input to the model to determine the current position of an object being displaced.</span></span> <span data-ttu-id="2b5ce-123">O grafo e a fórmula a seguir descrevem o modelo de física usado para calcular posições de objeto.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-123">The following graph and formula outline the physics model used for calculating object positions.</span></span>

![ilustração mostrando o grafo e a fórmula usados para calcular posições de objeto](images/velocity.png)

<span data-ttu-id="2b5ce-125">Na fórmula usada para calcular a posição atual (x), a velocidade inicial (v) é multiplicada pelo tempo decorrido (t) e é reduzida pelo tempo do fator de desaceleração (d) vezes ao quadrado.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-125">In the formula used for calculating the current position (x), the initial velocity (v) is multiplied by the time elapsed (t) and is reduced by the deceleration factor (d) times time squared.</span></span> <span data-ttu-id="2b5ce-126">Isso resulta na desaceleração de objeto suave.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-126">This results in smooth object deceleration.</span></span> <span data-ttu-id="2b5ce-127">Na ilustração anterior na parte inicial (mais à esquerda) da curva, o objeto está se movendo rapidamente porque sua velocidade atual é a velocidade inicial.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-127">In the previous illustration at the initial (leftmost) part of the curve, the object is moving quickly because its current velocity is the initial velocity.</span></span> <span data-ttu-id="2b5ce-128">Na parte final (mais à direita) da curva, o objeto foi interrompido completamente porque sua velocidade é 0.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-128">At the final (rightmost) part of the curve, the object has completely stopped because its velocity is 0.</span></span> <span data-ttu-id="2b5ce-129">Cálculos de velocidade de objeto para a velocidade x, velocidade y e velocidade rotacional usam esta fórmula para cálculos.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-129">Object velocity calculations for x-velocity, y-velocity, and rotational velocity all use this formula for calculations.</span></span>

<span data-ttu-id="2b5ce-130">Toda a distância usada para o processador inércia é relativa.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-130">All distance used for the inertia processor is relative.</span></span> <span data-ttu-id="2b5ce-131">Se você quiser usar as coordenadas da tela, passe as coordenadas da tela para o processador de manipulação (ou inércia); Se você quiser usar coordenadas absolutas, passe-as para o processador que você está usando.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-131">If you want to use screen coordinates, you pass screen coordinates to the manipulation (or inertia) processor; if you want to use absolute coordinates, you pass those into the processor you are using.</span></span> <span data-ttu-id="2b5ce-132">Independentemente dos valores que você está usando, o processador de manipulação usará tiques de relógio de milissegundos para processar o tempo.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-132">Regardless of the values that you are using, the manipulation processor will use millisecond clock ticks for processing the time.</span></span> <span data-ttu-id="2b5ce-133">Esses valores podem ser passados diretamente para o processador inércia usando o método [**processtime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) ou usando o carimbo de data/hora padrão por meio de chamadas para [**processar**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="2b5ce-133">These values can either be passed directly to the inertia processor using the [**ProcessTime**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-processtime) method or by using the default timestamp through calls to [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span>

## <a name="smooth-object-animation-using-the-velocity-and-deceleration-properties"></a><span data-ttu-id="2b5ce-134">Animação Smooth Object usando as propriedades Velocity e de desaceleração</span><span class="sxs-lookup"><span data-stu-id="2b5ce-134">Smooth Object Animation using the Velocity and Deceleration Properties</span></span>

<span data-ttu-id="2b5ce-135">Você pode habilitar a animação suave interagindo diretamente com o modelo de física definindo os valores de velocidade e de desaceleração na interface do processador inércia e, em seguida, chamando o [**processo**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span><span class="sxs-lookup"><span data-stu-id="2b5ce-135">You can enable smooth animation by directly interacting with the physics model by setting the velocity and deceleration values in the inertia processor interface and then calling [**Process**](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-process).</span></span> <span data-ttu-id="2b5ce-136">O **processo** de chamada acionará as manipulações de objeto que, por sua vez, devem causar atualizações da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="2b5ce-136">Calling **Process** will trigger object manipulations which in turn should cause UI updates.</span></span> <span data-ttu-id="2b5ce-137">Os valores de velocidade de objeto passados para o processador inércia normalmente são obtidos do processador de manipulação após a conclusão.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-137">Object velocity values passed to the inertia processor are typically taken from the manipulation processor upon completion.</span></span> <span data-ttu-id="2b5ce-138">Seu valor de desaceleração dependerá de quanto tempo você deseja que o objeto seja animado e as unidades que você está usando para seus cálculos.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-138">Your deceleration value will be dependent on how long you want your object to be animated for and the units that you are using for your calculations.</span></span> <span data-ttu-id="2b5ce-139">Como os valores são dependentes, às vezes você deve dimensionar a velocidade de entrada do processador maniplation e usar valores arbitrários para desaceleração.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-139">Because the values are dependent, sometimes you must scale the input velocity from the maniplation processor and use arbitrary values for deceleration.</span></span> <span data-ttu-id="2b5ce-140">Os valores a seguir são típicos para vários cenários em que você está passando valores de centipixel das propriedades x e y da estrutura [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) para o processador de manipulação.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-140">The following values are typical for various scenarios where you are passing centipixel values from the x and y properties of the [**TOUCHINPUT**](/windows/win32/api/winuser/ns-winuser-touchinput) structure to the manipulation processor.</span></span>



| <span data-ttu-id="2b5ce-141">Cenário</span><span class="sxs-lookup"><span data-stu-id="2b5ce-141">Scenario</span></span>    | <span data-ttu-id="2b5ce-142">Set da propriedade</span><span class="sxs-lookup"><span data-stu-id="2b5ce-142">Property Set</span></span>                                                                       | <span data-ttu-id="2b5ce-143">Valor de desaceleração</span><span class="sxs-lookup"><span data-stu-id="2b5ce-143">Deceleration Value</span></span> | <span data-ttu-id="2b5ce-144">Dimensionamento típico de entrada de velocidade</span><span class="sxs-lookup"><span data-stu-id="2b5ce-144">Typical Velocity Input Scaling</span></span>                                  | <span data-ttu-id="2b5ce-145">Observações</span><span class="sxs-lookup"><span data-stu-id="2b5ce-145">Notes</span></span>                                                                                 |
|-------------|------------------------------------------------------------------------------------|--------------------|-----------------------------------------------------------------|---------------------------------------------------------------------------------------|
| <span data-ttu-id="2b5ce-146">Tradução</span><span class="sxs-lookup"><span data-stu-id="2b5ce-146">Translation</span></span> | [<span data-ttu-id="2b5ce-147">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-147">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="2b5ce-148">0,003 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-148">0.003f</span></span>             | <span data-ttu-id="2b5ce-149">Nenhum.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-149">None.</span></span>                                                           | <span data-ttu-id="2b5ce-150">O uso desse valor resultará em animações de distância mais longas ao usar a entrada por toque.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-150">Using this value will result in longer distance animations when using touch input.</span></span>    |
| <span data-ttu-id="2b5ce-151">Tradução</span><span class="sxs-lookup"><span data-stu-id="2b5ce-151">Translation</span></span> | [<span data-ttu-id="2b5ce-152">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-152">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="2b5ce-153">0,001 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-153">0.001f</span></span>             | <span data-ttu-id="2b5ce-154">1/20 velocidade inicial para entradas de toque, nenhuma para entradas do mouse</span><span class="sxs-lookup"><span data-stu-id="2b5ce-154">1/20th initial velocity for touch inputs, none for mouse inputs</span></span> | <span data-ttu-id="2b5ce-155">O uso desse valor será animado por um segundo, dadas as entradas típicas de velocidade.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-155">Using this value will animate for around a second given typical velocity inputs.</span></span>      |
| <span data-ttu-id="2b5ce-156">Tradução</span><span class="sxs-lookup"><span data-stu-id="2b5ce-156">Translation</span></span> | [<span data-ttu-id="2b5ce-157">**DesiredDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-157">**DesiredDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desireddeceleration)               | <span data-ttu-id="2b5ce-158">0,5 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-158">0.5f</span></span>               | <span data-ttu-id="2b5ce-159">Nenhum</span><span class="sxs-lookup"><span data-stu-id="2b5ce-159">None</span></span>                                                            | <span data-ttu-id="2b5ce-160">Usar esse valor dá uma ideia natural à animação em grandes monitores do Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-160">Using this value gives a natural feel to animation on large Windows Touch displays.</span></span>   |
| <span data-ttu-id="2b5ce-161">Rotação</span><span class="sxs-lookup"><span data-stu-id="2b5ce-161">Rotation</span></span>    | [<span data-ttu-id="2b5ce-162">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-162">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="2b5ce-163">0.000015 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-163">0.000015f</span></span>          | <span data-ttu-id="2b5ce-164">Radianos convertidos em graus.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-164">Radians converted to degrees.</span></span>                                   | <span data-ttu-id="2b5ce-165">O uso desse valor resulta em animações de rotação mais longas ao usar a entrada por toque.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-165">Using this value results in longer rotational animations when using touch input.</span></span>      |
| <span data-ttu-id="2b5ce-166">Rotação</span><span class="sxs-lookup"><span data-stu-id="2b5ce-166">Rotation</span></span>    | [<span data-ttu-id="2b5ce-167">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-167">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="2b5ce-168">0.00001 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-168">0.00001f</span></span>           | <span data-ttu-id="2b5ce-169">1/40th rotação Delta para entradas de toque, nenhum para entradas do mouse</span><span class="sxs-lookup"><span data-stu-id="2b5ce-169">1/40th rotation delta for touch inputs, none for mouse inputs</span></span>   | <span data-ttu-id="2b5ce-170">Esse valor está em radianos, portanto, você deve usar valores de desaceleração e velocidade muito pequenos.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-170">This value is in radians so you must use very small deceleration and velocity values.</span></span> |
| <span data-ttu-id="2b5ce-171">Rotação</span><span class="sxs-lookup"><span data-stu-id="2b5ce-171">Rotation</span></span>    | [<span data-ttu-id="2b5ce-172">**DesiredAngularDeceleration**</span><span class="sxs-lookup"><span data-stu-id="2b5ce-172">**DesiredAngularDeceleration**</span></span>](/windows/desktop/api/manipulations/nf-manipulations-iinertiaprocessor-get_desiredangulardeceleration) | <span data-ttu-id="2b5ce-173">0.000005 f</span><span class="sxs-lookup"><span data-stu-id="2b5ce-173">0.000005f</span></span>          | <span data-ttu-id="2b5ce-174">Nenhum</span><span class="sxs-lookup"><span data-stu-id="2b5ce-174">None</span></span>                                                            | <span data-ttu-id="2b5ce-175">Esse valor tem uma noção natural sobre grandes exibições do Windows Touch.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-175">This value has a natural feel on large Windows Touch displays.</span></span>                        |



 

## <a name="smooth-object-animation-using-the-desired-displacement-property"></a><span data-ttu-id="2b5ce-176">Animação Smooth Object usando a propriedade de substituição desejada</span><span class="sxs-lookup"><span data-stu-id="2b5ce-176">Smooth Object Animation using the Desired Displacement Property</span></span>

<span data-ttu-id="2b5ce-177">Em alguns casos, você não deseja usar a entrada do usuário para o deslocamento de objeto, mas ainda deseja que um objeto anime suavemente na tela.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-177">In some cases, you don't want to use the user's input for object displacement, but you still want an object to smoothly animate across the screen.</span></span> <span data-ttu-id="2b5ce-178">Nesse caso, você pode usar as propriedades de deslocamento no processador inércia para que o processador Calcule a velocidade inicial para mover um objeto pela tela.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-178">In this case, you can use displacement properties in the inertia processor to have the processor calculate the initial velocity for moving an object across the screen.</span></span>

## <a name="controlling-object-position-using-elastic-bounds"></a><span data-ttu-id="2b5ce-179">Controlando a posição do objeto usando limites elásticos</span><span class="sxs-lookup"><span data-stu-id="2b5ce-179">Controlling Object Position Using Elastic Bounds</span></span>

<span data-ttu-id="2b5ce-180">Depois que você tiver um objeto que está sendo movido na tela, normalmente desejará que ele seja interrompido antes de sair do ponto de vista do usuário.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-180">After you have an object that is moving across the screen, you will typically want for it to stop before it goes outside of the user's viewpoint.</span></span> <span data-ttu-id="2b5ce-181">O processador inércia habilita essa funcionalidade por meio das propriedades limite e margem elástica.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-181">The inertia processor enables this functionality through the boundary and elastic margin properties.</span></span> <span data-ttu-id="2b5ce-182">A imagem a seguir ilustra as várias propriedades de limite e margem em um aplicativo típico.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-182">The following image illustrates the various boundary and margin properties in a typical application.</span></span>

![captura de tela mostrando Propriedades de limite e margem elástica](images/elastic-illustrated.png)

<span data-ttu-id="2b5ce-184">Você define os limites esquerdo, superior, direito e inferior e as margens elásticas para seu aplicativo, e o processador inércia manipulará a manutenção dos elementos da interface do usuário dentro dos limites.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-184">You set the left, upper, right, and lower boundaries and elastic margins for your application, and the inertia processor will handle keeping UI elements within the bounds.</span></span> <span data-ttu-id="2b5ce-185">Quando um objeto atinge uma margem elástica, ele ficará lento até atingir o limite.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-185">When an object reaches an elastic margin, it will slow down until it reaches the boundary.</span></span> <span data-ttu-id="2b5ce-186">Ela nunca deixará essa margem novamente durante inércia, mas ainda será movida até que o componente perpendicular do objeto inércia seja desacelerado como 0.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-186">It will never leave that margin again during inertia, but will still move until the object's perpendicular inertia component decelerates to 0.</span></span> <span data-ttu-id="2b5ce-187">Na ilustração, um círculo é inserido em direção ao limite elástico esquerdo.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-187">In the illustration, a circle is displaced toward the left elastic boundary.</span></span> <span data-ttu-id="2b5ce-188">A seta sólida mostra a direção da manipulação; o círculo sólido é a posição inicial do objeto; a seta sólida é as alterações feitas antes que o círculo atinja a margem elástica; a seta tracejada mostra onde o processador inércia manipula o círculo depois de atingir a margem; e os círculos tracejados mostram onde o objeto é interrompido.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-188">The solid arrow shows the direction of the manipulation; the solid circle is the initial position of the object; the solid arrow is the changes made before the circle hits the elastic margin; the dashed arrow shows where the inertia processor manipulates the circle after it hits the margin; and the dashed circles show where the object stops.</span></span>

> [!Note]  
> <span data-ttu-id="2b5ce-189">Definir as propriedades da margem moverá os limites para fora.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-189">Setting the margin properties will move the bounds outward.</span></span> <span data-ttu-id="2b5ce-190">Por exemplo, se o limite superior for definido como 50 e você definir a margem elástica superior como 10, seu limite superior será efetivamente 40.</span><span class="sxs-lookup"><span data-stu-id="2b5ce-190">For example, if your top boundary is set to 50 and then you set the top elastic margin to 10, your top boundary will effectively become 40.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="2b5ce-191">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="2b5ce-191">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2b5ce-192">Manipulando inércia em código não gerenciado</span><span class="sxs-lookup"><span data-stu-id="2b5ce-192">Handling Inertia in Unmanaged Code</span></span>](handling-inertia-in-unmanaged-code.md)
</dt> <dt>

[<span data-ttu-id="2b5ce-193">Inércia</span><span class="sxs-lookup"><span data-stu-id="2b5ce-193">Inertia</span></span>](getting-started-with-inertia.md)
</dt> <dt>

[<span data-ttu-id="2b5ce-194">Manipulações</span><span class="sxs-lookup"><span data-stu-id="2b5ce-194">Manipulations</span></span>](getting-started-with-manipulations.md)
</dt> </dl>

 

 




