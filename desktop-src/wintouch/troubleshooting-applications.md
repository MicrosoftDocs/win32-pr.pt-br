---
title: Solução de problemas de aplicativos
description: Esta seção fornece soluções para problemas comuns.
ms.assetid: dfdc5a97-aa0a-4011-8f61-6e405e28b6f8
keywords:
- Windows Toque, solução de problemas de aplicativos
- Windows Toque, rejeição de mão
- rejeição de mãos
- Windows Toque, suporte herddo
- solução de problemas Windows Touch
- inércia, solução de problemas de aplicativos
- manipulações, solução de problemas de aplicativos
- gestos, solução de problemas de aplicativos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bfadf28f5582f702c27f5cb1e15aff142ae14bcf
ms.sourcegitcommit: c276a8912787b2cda74dcf54eb96df961bb1188b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2021
ms.locfileid: "122625332"
---
# <a name="troubleshooting-applications"></a>Solução de problemas de aplicativos

Esta seção fornece soluções para problemas comuns.

## <a name="general-troubleshooting"></a>Solução de problemas gerais



| Categoria | Descrição |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Estou executando o Windows Server 2008 e Windows recursos do Touch não estão funcionando.                                                                                                                                                                                                                                       |
| Causa    | Você não habilitar a Experiência Desktop.                                                                                                                                                                                                                                                                        |
| Solução | Abra a Gerenciador do Servidor ferramenta administrativa: clique em **Iniciar**, aponte para **Ferramentas** Administrativas e clique **em Gerenciador do Servidor**. Clique no item **Recursos** na coluna esquerda. Clique **em Adicionar Recursos** na **seção** Recursos. Selecione **Experiência Desktop,** clique **em Próximo** e, em seguida, clique em **Instalar**. |



 



| Categoria | Descrição |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Sempre que eu mover meu dedo rapidamente pelo meu aplicativo, uma seta será exibida e meu gesto ou manipulação não estiver sendo registrado corretamente.                                                             |
| Causa    | Ter os movimento habilitados quando você não precisar dela.                                                                                                                                                      |
| Solução | Você tem movimentos habilitados quando deseja que ele seja desabilitado. Consulte [Suporte herdado para panorâmico com barras](legacy-support-for-panning-with-scrollbars.md) de rolagem para obter informações sobre como desabilitar movimentos de caneta. |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Não consigo distinguir entre a entrada do mouse e a Windows touch.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Windows gera mensagens do mouse para suporte herddo quando um usuário clica na tela.</td>
</tr>
<tr class="odd">
<td>Solução</td>
<td>Você pode chamar <a href="/windows/win32/api/winuser/nf-winuser-getmessageextrainfo">GetMessageExtraInfo</a> para as <strong>mensagens WM_LBUTTONDOWN</strong> <strong>e</strong> WM_LBUTTONUP para determinar a origem. O código a seguir mostra como isso pode ser feito. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#define MOUSEEVENTF_FROMTOUCH 0xFF515700

if ((GetMessageExtraInfo() & MOUSEEVENTF_FROMTOUCH) == MOUSEEVENTF_FROMTOUCH) { 
    // Click was generated by wisptis / Windows Touch
}else{ 
    // Click was generated by the mouse.
}
</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



| Categoria | Descrição |
|----------|------------------------------------------------------------------------------------|
| Problema    | Como fazer executar aplicativos microsoft PixelSense no Windows 7?                       |
| Causa    | Windows Touch e Microsoft PixelSense são incompatíveis.                           |
| Solução | Você precisa direcionar a plataforma Windows 7 ou a plataforma microsoft PixelSense. |



 

## <a name="troubleshooting-manipulations-and-inertia"></a>Solução de problemas de manipulações e inércia



| Categoria | Descrição |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Meu aplicativo está congelando sem motivo. Estou recebendo violações de acesso ao inicializar minhas interfaces de objeto.                                                                                                                                          |
| Causa    | Não há uma chamada **para CoInitialize** ao usar as interfaces [**IManipulationProcessor**](/windows/desktop/api/manipulations/nn-manipulations-imanipulationprocessor) ou [**IInertiaProcessor.**](/windows/desktop/api/manipulations/nn-manipulations-iinertiaprocessor)                                                                                 |
| Solução | Isso pode ser causado pela instanciação dos objetos WINDOWS Touch Component Object Model (COM) sem chamar CoInitialize. Isso acontece às vezes quando você está convertendo projetos do uso de gestos para usar as manipulações ou interfaces de inércia. |



 



| Categoria | Descrição |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Meu objeto está girando incorretamente quando está sendo convertido. A rotação de dedo único não está funcionando corretamente.                                                                                                                                                                                                                                                                           |
| Causa    | Definindo incorretamente os pivôs em um objeto .                                                                                                                                                                                                                                                                                                                                                 |
| Solução | Você não está configurando os pontos pivôs de manipulação corretamente. De definir as propriedades [**PivotPointX**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointx) e [**PivotPointY**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotpointy) como o centro do objeto ou ponto que você deseja girar e de definir a propriedade [**PivotRadius**](/windows/desktop/api/manipulations/nf-manipulations-imanipulationprocessor-get_pivotradius) como o raio do objeto. |



 

## <a name="troubleshooting-windows-touch-input"></a>Solução de problemas Windows entrada de toque



| Categoria | Descrição |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Depois de lidar com a [**mensagem WM \_ TOUCH,**](wm-touchdown.md) eu para de receber comentários de limite.                                                                                                                                                                                                                                        |
| Causa    | Consumindo a [**mensagem WM \_ TOUCH**](wm-touchdown.md) sem lidar com ela.                                                                                                                                                                                                                                                           |
| Solução | Você provavelmente está consumindo uma Windows Touch sem encaminhá-la para **DefWindowProc,** o que resultará em comportamento inesperado. Verifique [Ponto de Partida com Windows Touch Messages](getting-started-with-multi-touch-messages.md) para obter mais informações sobre como lidar corretamente com mensagens WM [**\_ TOUCH.**](wm-touchdown.md) |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Estou incluindo windows.h, mas ele ainda diz que <a href="wm-touchdown.md"><strong>WM_TOUCH</strong></a> não está definido.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>A Windows em Targetver.h está incorreta.</td>
</tr>
<tr class="odd">
<td>Solução</td>
<td>Você não definiu a versão Windows correta em seu projeto. O código a seguir ilustra as versões Windows corretamente definidas para Windows Touch no Windows 7. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>#ifndef WINVER                  // Specify that the minimum required platform is Windows 7.
#define WINVER 0x0601           
#endif</code></pre></td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Minhas coordenadas x de entrada de toque e coordenadas y parecem inválidas. Eles são valores maiores do que eu esperava ou são valores negativos.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Talvez seja necessário converter seus pontos de toque em pixels ou talvez seja necessário converter as coordenadas da tela.</td>
</tr>
<tr class="odd">
<td>Solução</td>
<td>Certifique-se de que você está <a href="/windows/desktop/api/winuser/nf-winuser-touch_coord_to_pixel"><strong>chamando TOUCH_COORD_TO_PIXEL</strong></a> <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>e ScreenToClient</strong></a>. O código a seguir mostra como fazer isso. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>      POINT ptInput;
      if (GetTouchInputInfo((HTOUCHINPUT)lParam, cInputs, pInputs, sizeof(TOUCHINPUT))){
        for (int i=0; i < static_cast<INT>(cInputs); i++){
          TOUCHINPUT ti = pInputs[i];                       
          if (ti.dwID != 0){                
            // Do something with your touch input handle.
            ptInput.x = TOUCH_COORD_TO_PIXEL(ti.x);
            ptInput.y = TOUCH_COORD_TO_PIXEL(ti.y);
            ScreenToClient(hWnd, &ptInput);
            points[ti.dwID][0] = ptInput.x;
            points[ti.dwID][1] = ptInput.y;
          }
        }
      }</code></pre></td>
</tr>
</tbody>
</table>

<div class="alert">
<blockquote>
[!Note]<br />
Para usar a função <a href="/windows/desktop/api/winuser/nf-winuser-screentoclient"><strong>ScreenToClient,</strong></a> você deve ter suporte de DPI alto em seu aplicativo. Para obter mais informações sobre como dar suporte a alto DPI, visite a <a href=" /windows/win32/hidpi/high-dpi-desktop-application-development-on-windows">seção DPI</a> alto do MSDN.
</blockquote>
</div>
<div>
 
</div></td>
</tr>
</tbody>
</table>



 



| Categoria | Descrição |
|----------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Não estou vendo mensagens [**WM \_ TOUCH,**](wm-touchdown.md) mas sei que Windows Touch está funcionando porque estou vendo mensagens [**WM \_ GESTURE.**](wm-gesture.md)                                                             |
| Causa    | Falta uma chamada para [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                          |
| Solução | [**WM \_ As mensagens TOUCH**](wm-touchdown.md) [**e WM \_ GESTURE**](wm-gesture.md) são mutuamente exclusivas. Se você não chamar [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)receberá apenas mensagens **WM \_ GESTURE.** |



 



| Categoria | Descrição |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Estou observando pequenos atrasos desde o momento em que toco meu dedo para baixo até quando estou recebendo entrada em meu aplicativo.                                                                                                                                                                                                                                         |
| Causa    | A rejeição de mão está causando atrasos na entrada.                                                                                                                                                                                                                                                                                                            |
| Solução | Se **tWF \_ WANTPALM for definido** em chamadas para [**RegisterTouchWindow,**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)a rejeição de mão será habilitada. Isso causa um pequeno atraso (100 ms) enquanto o software testa se a entrada é proveniente de um dedo, caneta ou da mão do usuário. Desabilite a rejeição de mão **chamando RegisterTouchWindow** com o **sinalizador \_ TWF WANTPALM** limpo. |



 

## <a name="troubleshooting-windows-touch-gestures"></a>Solução de problemas Windows gestos de toque



| Categoria | Descrição |
|----------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Depois de lidar com [**a mensagem WM \_ GESTURE,**](wm-gesture.md) eu para de receber comentários de limite. Ou então, um gesto que funcionou anteriormente não funciona agora.                                                                                                                                                                                                                         |
| Causa    | Consumindo a [**mensagem WM \_ GESTURE**](wm-gesture.md) sem lidar com ela.                                                                                                                                                                                                                                                                                                    |
| Solução | Você provavelmente está consumindo uma Windows Touch sem encaminhá-la para [DefWindowProc,](/windows/win32/api/winuser/nf-winuser-defwindowproca)o que resultará em comportamento inesperado. Verifique [Ponto de Partida com gestos Windows para](getting-started-with-multi-touch-gestures.md) obter mais informações sobre como lidar corretamente com mensagens WM [**\_ GESTURE.**](wm-gesture.md) |



 



| Categoria | Descrição |
|----------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Não estou vendo mensagens [**WM \_ GESTURE,**](wm-gesture.md) mas sei que Windows Touch está funcionando porque estou vendo mensagens [**WM \_ TOUCH.**](wm-touchdown.md)                                                      |
| Causa    | Chamando [**RegisterTouchWindow.**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow)                                                                                                                                                             |
| Solução | [**WM \_ As mensagens TOUCH**](wm-touchdown.md) [**e WM \_ GESTURE**](wm-gesture.md) são mutuamente exclusivas. Se você chamar [**RegisterTouchWindow**](/windows/desktop/api/winuser/nf-winuser-registertouchwindow), não receberá mensagens **WM \_ GESTURE.** |



 



<table>
<colgroup>
<col  />
<col  />
</colgroup>
<tbody>
<tr class="odd">
<td>Problema</td>
<td>Não estou vendo todos os gestos que espero ver. Por exemplo, estou vendo gestos com o identificador <strong>GID_PAN</strong> mas não <strong>GID_ROTATE</strong>.</td>
</tr>
<tr class="even">
<td>Causa</td>
<td>Alguns gestos, como o gesto de rotação, não são habilitados por padrão.</td>
</tr>
<tr class="odd">
<td>Solução</td>
<td>Você precisa chamar <a href="/windows/desktop/api/winuser/nf-winuser-setgestureconfig"><strong>SetGestureConfig</strong></a> quando receber uma mensagem <a href="wm-gesturenotify.md"><strong>WM_GESTURENOTIFY,</strong></a> conforme descrito na referência <strong>WM_GESTURENOTIFY</strong> ou você precisa adicionar um manipulador para a mensagem <strong>WM_GESTURENOTIFY.</strong> O código a seguir mostra como um manipulador pode ser implementado para habilitar o suporte para rotação. <span data-codelanguage="ManagedCPlusPlus"></span>
<table>
<colgroup>
<col  />
</colgroup>
<thead>
<tr class="header">
<th>C++</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><pre><code>// The message map.
BEGIN_MESSAGE_MAP()
    ON_WM_CREATE()
     ... ... ...
    ON_MESSAGE(WM_GESTURENOTIFY, OnWindowsGestureNotify)
END_MESSAGE_MAP()  

LRESULT CTestWndApp::OnWindowsGestureNotify(
    UINT    uMsg,
    WPARAM  wParam,
    LPARAM  lParam,
    BOOL&   bHandled
    ){
    GESTURECONFIG gc;
    gc.dwID    = GID_ROTATE; // The gesture identifier.
    gc.dwWant  = GC_ROTATE;  // The gesture command you are enabling for GID_ROTATE.
    gc.dwBlock = 0;          // Don&#39;t block anything.
    UINT uiGcs = 1;          // The number of gestures being set.

  BOOL bResult = SetGestureConfig(g_hMainWnd, 0, uiGcs, &gc, sizeof(GESTURECONFIG));
    if(!bResult) {
        // Something went wrong, report the error using your preferred logging.
    }

  return 0;
}  </code></pre></td>
</tr>
</tbody>
</table>

Para obter mais exemplos de configurações de gestos típicas, <strong>consulte SetGestureConfig</strong>.</td>
</tr>
</tbody>
</table>



 



| Categoria | Descrição |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | As barras de rolagem personalizadas em meu aplicativo não estão rolando quando eu executar o gesto de panor rolante.                                                                                                                                                                                                                                                                                                         |
| Causa    | Manipuladores ausentes para as mensagens WM \_ \* SCROLL corretas.                                                                                                                                                                                                                                                                                                                                            |
| Solução | Você não está tratando todas as mensagens WM \_ \* SCROLL em suas barras de rolagem personalizadas. É recomendável manipular a mensagem [**WM \_ GESTURE**](wm-gesture.md) em vez de manter a funcionalidade da barra de rolagem personalizada por meio do suporte herdado. Você precisa dar suporte a mensagens conforme detalhado na seção Suporte herdado para panorâmico [com barras de rolagem](legacy-support-for-panning-with-scrollbars.md). |



 



| Categoria | Descrição |
|----------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Problema    | Estou recebendo atrasos para gestos.                                                                                                                                                                                                                               |
| Causa    | Os movimento podem estar causando atrasos para gestos.                                                                                                                                                                                                                      |
| Solução | Os movimento podem causar atrasos quanto tempo leva para o aplicativo receber mensagens [**WM \_ GESTURE.**](wm-gesture.md) Consulte [Suporte herdado para panorâmico com barras de rolagem](legacy-support-for-panning-with-scrollbars.md) para obter informações sobre como desabilitar movimento. |



 

## <a name="related-topics"></a>Tópicos relacionados

<dl> <dt>

[Guia de programação](programming-guide.md)
</dt> </dl>

 

 
