---
title: Eventos do Windows
description: Normalmente, os eventos são usados para solucionar problemas de software de aplicativo e de driver. Antes do Windows Vista, você usaria o ETW (rastreamento de eventos para Windows) ou o log de eventos para registrar eventos. O Windows Vista introduziu um novo modelo de eventos que unificava o ETW (rastreamento de eventos para Windows) e a API do log de eventos do Windows. O Windows 10 apresenta o TraceLogging, que se baseia no ETW e fornece uma maneira simplificada de instrumentar o código para desenvolvedores nativos, .NET e WinRT.
ms.assetid: c10baa8d-50b9-4fda-89d0-d00b1d9f5404
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2c3d22580c38e45d06f5362e99626642eebdfe20
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104007497"
---
# <a name="windows-events"></a><span data-ttu-id="9b62d-103">Eventos do Windows</span><span class="sxs-lookup"><span data-stu-id="9b62d-103">Windows Events</span></span>

<span data-ttu-id="9b62d-104">Normalmente, os eventos são usados para solucionar problemas de software de aplicativo e de driver.</span><span class="sxs-lookup"><span data-stu-id="9b62d-104">Events are typically used for troubleshooting application and driver software.</span></span>

-   <span data-ttu-id="9b62d-105">Antes do Windows Vista, você usaria o ETW ( [rastreamento de eventos para Windows](/windows/desktop/ETW/event-tracing-portal) ) ou o [log de eventos](/windows/desktop/EventLog/event-logging) para registrar eventos.</span><span class="sxs-lookup"><span data-stu-id="9b62d-105">Prior to Windows Vista, you would use either [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) or [Event Logging](/windows/desktop/EventLog/event-logging) to log events.</span></span>
-   <span data-ttu-id="9b62d-106">O Windows Vista introduziu um novo modelo de eventos que unificava o ETW ( [rastreamento de eventos para Windows](/windows/desktop/ETW/event-tracing-portal) ) e a API do [log de eventos do Windows](/windows/desktop/WES/windows-event-log) .</span><span class="sxs-lookup"><span data-stu-id="9b62d-106">Windows Vista introduced a new event model that unified both the [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) (ETW) and [Windows Event Log](/windows/desktop/WES/windows-event-log) API.</span></span>
-   <span data-ttu-id="9b62d-107">O Windows 10 apresenta o [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) , que se baseia no ETW e fornece uma maneira simplificada de instrumentar o código para desenvolvedores nativos, .net e WinRT.</span><span class="sxs-lookup"><span data-stu-id="9b62d-107">Windows 10 introduces [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) which builds on ETW and provides a simplified way to instrument code for native, .NET and WinRT developers.</span></span>

<span data-ttu-id="9b62d-108">O novo modelo [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) permite incluir dados estruturados com eventos, correlacionar eventos e não requer um arquivo XML de manifesto de instrumentação separado.</span><span class="sxs-lookup"><span data-stu-id="9b62d-108">The new [TraceLogging](/windows/desktop/tracelogging/trace-logging-portal) model allows you to include structured data with events, correlate events, and does not require a separate instrumentation manifest XML file.</span></span>

<span data-ttu-id="9b62d-109">O modelo do Windows Vista usa um manifesto XML para definir os eventos que você deseja publicar.</span><span class="sxs-lookup"><span data-stu-id="9b62d-109">The Windows Vista model uses an XML manifest to define the events that you want to publish.</span></span> <span data-ttu-id="9b62d-110">Os eventos podem ser publicados em um canal ou em uma sessão do ETW.</span><span class="sxs-lookup"><span data-stu-id="9b62d-110">Events can be published to a channel or an ETW session.</span></span> <span data-ttu-id="9b62d-111">Você pode publicar os eventos nos seguintes tipos de canais: admin, operacional, analítica e depuração.</span><span class="sxs-lookup"><span data-stu-id="9b62d-111">You can publish the events to the following types of channels: Admin, Operational, Analytic and Debug.</span></span> <span data-ttu-id="9b62d-112">Se você usar apenas o ETW para habilitar o Publicador, não será necessário especificar canais em seu manifesto.</span><span class="sxs-lookup"><span data-stu-id="9b62d-112">If you use only ETW to enable the publisher, you do not need to specify channels in your manifest.</span></span> <span data-ttu-id="9b62d-113">Para obter detalhes completos sobre como escrever um manifesto, consulte [escrevendo um manifesto de instrumentação](/windows/desktop/WES/writing-an-instrumentation-manifest)e para obter informações sobre canais, consulte [definindo canais](/windows/desktop/WES/defining-channels).</span><span class="sxs-lookup"><span data-stu-id="9b62d-113">For complete details on writing a manifest, see [Writing an Instrumentation Manifest](/windows/desktop/WES/writing-an-instrumentation-manifest), and for information on channels, see [Defining Channels](/windows/desktop/WES/defining-channels).</span></span>

<span data-ttu-id="9b62d-114">Para registrar seu editor de eventos e publicar eventos, use a API do ETW.</span><span class="sxs-lookup"><span data-stu-id="9b62d-114">To register your event publisher and to publish events, you use the ETW API.</span></span> <span data-ttu-id="9b62d-115">Para obter detalhes, consulte [fornecendo eventos](/windows/desktop/ETW/providing-events) e [desenvolvendo um provedor](/windows/desktop/WES/developing-a-provider).</span><span class="sxs-lookup"><span data-stu-id="9b62d-115">For details, see [Providing Events](/windows/desktop/ETW/providing-events) and [Developing a Provider](/windows/desktop/WES/developing-a-provider).</span></span> <span data-ttu-id="9b62d-116">O editor de eventos gravará automaticamente os eventos nos canais especificados no manifesto, se eles estiverem habilitados.</span><span class="sxs-lookup"><span data-stu-id="9b62d-116">The event publisher will automatically write the events to the channels specified in the manifest if they are enabled.</span></span>

<span data-ttu-id="9b62d-117">Se você quiser controlar os eventos que um editor de eventos publica em um nível mais preciso de granularidade, use a API do ETW.</span><span class="sxs-lookup"><span data-stu-id="9b62d-117">If you want to control the events that an event publisher publishes at a finer level of granularity, use the ETW API.</span></span> <span data-ttu-id="9b62d-118">Por exemplo, se o manifesto definir eventos de gravação e leitura, você poderá habilitar apenas os eventos de gravação.</span><span class="sxs-lookup"><span data-stu-id="9b62d-118">For example, if the manifest defines both write and read events, you can enable only the write events.</span></span> <span data-ttu-id="9b62d-119">Um evento também pode especificar um valor de nível, como aviso ou erro, para que você possa limitar os eventos que são gravados naqueles que especificam o nível de erro.</span><span class="sxs-lookup"><span data-stu-id="9b62d-119">An event can also specify a level value such as warning or error, so you can limit the events that are written to those that specify the error level.</span></span> <span data-ttu-id="9b62d-120">Para obter detalhes, consulte [controlando sessões de rastreamento de eventos](/windows/desktop/ETW/controlling-event-tracing-sessions).</span><span class="sxs-lookup"><span data-stu-id="9b62d-120">For details, see [Controlling Event Tracing Sessions](/windows/desktop/ETW/controlling-event-tracing-sessions).</span></span> <span data-ttu-id="9b62d-121">Os eventos são gravados no arquivo de log da sessão.</span><span class="sxs-lookup"><span data-stu-id="9b62d-121">The events are written to the session's log file.</span></span>

<span data-ttu-id="9b62d-122">O consumo de eventos envolve a recuperação de eventos de um canal de eventos, um arquivo de log de eventos (arquivos. evtx ou. evt), um arquivo de rastreamento (arquivos. ETL) ou uma sessão ETW em tempo real.</span><span class="sxs-lookup"><span data-stu-id="9b62d-122">Consuming events involves retrieving the events from an event channel, an event log file (.evtx or .evt files), a trace file (.etl files), or a real-time ETW session.</span></span> <span data-ttu-id="9b62d-123">Para consumir eventos de um arquivo de rastreamento ETW ou de uma sessão ETW em tempo real, use as funções auxiliares de dados de rastreamento (TDH) no ETW para consumir os eventos.</span><span class="sxs-lookup"><span data-stu-id="9b62d-123">To consume events from an ETW trace file or a real-time ETW session, use the trace data helper (TDH) functions in ETW to consume the events.</span></span> <span data-ttu-id="9b62d-124">Você também pode usar TDH para ler os metadados do evento.</span><span class="sxs-lookup"><span data-stu-id="9b62d-124">You can also use TDH to read the event metadata.</span></span> <span data-ttu-id="9b62d-125">Para obter detalhes, consulte [consumindo eventos](/windows/desktop/ETW/consuming-events).</span><span class="sxs-lookup"><span data-stu-id="9b62d-125">For details, see [Consuming Events](/windows/desktop/ETW/consuming-events).</span></span> <span data-ttu-id="9b62d-126">Para consumir eventos de um canal de eventos ou de um arquivo de log de eventos, use as funções de log de eventos do Windows para consultar ou assinar eventos.</span><span class="sxs-lookup"><span data-stu-id="9b62d-126">To consume events from an event channel or an event log file, use the Windows Event Log functions to query or subscribe to events.</span></span> <span data-ttu-id="9b62d-127">Para obter mais informações, consulte [consultando eventos](/windows/desktop/WES/querying-for-events) ou [assinando eventos](/windows/desktop/WES/subscribing-to-events).</span><span class="sxs-lookup"><span data-stu-id="9b62d-127">For more information, see [Querying for Events](/windows/desktop/WES/querying-for-events) or [Subscribing to Events](/windows/desktop/WES/subscribing-to-events).</span></span>

<span data-ttu-id="9b62d-128">Antes do Windows Vista, você deve usar o [rastreamento de eventos para Windows](/windows/desktop/ETW/event-tracing-portal) ou [log de eventos](/windows/desktop/EventLog/event-logging) para publicar e consumir eventos.</span><span class="sxs-lookup"><span data-stu-id="9b62d-128">Prior to Windows Vista, you must use [Event Tracing for Windows](/windows/desktop/ETW/event-tracing-portal) or [Event Logging](/windows/desktop/EventLog/event-logging) to publish and consume events.</span></span>

 

 