---
description: Você usa a segurança baseada em função para estabelecer uma diretiva de autorização, determinando qual cliente ou clientes deve permitir e com que autoridade. Você está decidindo quem deve ser capaz de executar quais ações e acessar quais recursos.
ms.assetid: 8fc27fe1-e50a-44ba-a595-70b1fe463e24
title: Usando funções para autorização de cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a8ae748ddfec438a79e3d0440a00ed7c2f672aed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104089299"
---
# <a name="using-roles-for-client-authorization"></a><span data-ttu-id="e2139-104">Usando funções para autorização de cliente</span><span class="sxs-lookup"><span data-stu-id="e2139-104">Using Roles for Client Authorization</span></span>

<span data-ttu-id="e2139-105">Você usa a segurança baseada em função para estabelecer uma diretiva de autorização, determinando qual cliente ou clientes deve permitir e com que autoridade.</span><span class="sxs-lookup"><span data-stu-id="e2139-105">You use role-based security to establish an authorization policy, determining which client or clients to let in and with what authority.</span></span> <span data-ttu-id="e2139-106">Você está decidindo quem deve ser capaz de executar quais ações e acessar quais recursos.</span><span class="sxs-lookup"><span data-stu-id="e2139-106">You are deciding who should be able to perform which actions and access which resources.</span></span>

<span data-ttu-id="e2139-107">As funções facilitam isso agindo como um mecanismo de controle de acesso invocado sempre que um usuário tenta acessar qualquer recurso de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2139-107">Roles facilitate this by acting as an access control mechanism invoked whenever a user attempts to access any application resource.</span></span> <span data-ttu-id="e2139-108">Uma função é basicamente uma lista de usuários – mais precisamente, uma categoria simbólica de usuários que compartilham o mesmo privilégio de segurança.</span><span class="sxs-lookup"><span data-stu-id="e2139-108">A role is basically a list of users—more precisely, a symbolic category of users that share the same security privilege.</span></span> <span data-ttu-id="e2139-109">Ao atribuir uma função a um recurso de aplicativo, você está concedendo permissão de acesso para esse recurso a qualquer pessoa que seja membro dessa função.</span><span class="sxs-lookup"><span data-stu-id="e2139-109">When you assign a role to an application resource, you are granting access permission for that resource to whoever is a member of that role.</span></span>

<span data-ttu-id="e2139-110">Portanto, você pode definir um privilégio de segurança muito específico declarando-o como uma função e, em seguida, atribuindo a função a recursos específicos.</span><span class="sxs-lookup"><span data-stu-id="e2139-110">Therefore, you can define a very particular security privilege by declaring it as a role and then assigning the role to specific resources.</span></span> <span data-ttu-id="e2139-111">Quando o aplicativo é implantado, o administrador do sistema pode popular a função com usuários reais e grupos de usuários.</span><span class="sxs-lookup"><span data-stu-id="e2139-111">When the application is deployed, the system administrator can populate the role with actual users and user groups.</span></span> <span data-ttu-id="e2139-112">Quando o aplicativo for executado, o COM+ imporá a política ao realizar verificações de função.</span><span class="sxs-lookup"><span data-stu-id="e2139-112">When the application runs, COM+ will enforce the policy by carrying out role checks.</span></span>

<span data-ttu-id="e2139-113">Fundamentalmente, as funções ajudam a proteger seu código — ou seja, os métodos que podem ser chamados por clientes de um aplicativo COM+.</span><span class="sxs-lookup"><span data-stu-id="e2139-113">Fundamentally, roles help protect your code—that is, the methods that can be called by clients of a COM+ application.</span></span> <span data-ttu-id="e2139-114">A associação de função é verificada sempre que um cliente tenta chamar um método exposto por um componente em um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2139-114">Role membership is checked whenever a client attempts to call a method exposed by a component in an application.</span></span> <span data-ttu-id="e2139-115">Se o chamador estiver em uma função atribuída ao método chamado ou ao recurso, a chamada terá sucesso; caso contrário, ele falhará.</span><span class="sxs-lookup"><span data-stu-id="e2139-115">If the caller is in a role assigned to the called method, or resource, the call succeeds; otherwise, it fails.</span></span>

## <a name="declarative-role-based-security"></a><span data-ttu-id="e2139-116">Segurança de Role-Based declarativa</span><span class="sxs-lookup"><span data-stu-id="e2139-116">Declarative Role-Based Security</span></span>

<span data-ttu-id="e2139-117">Com a segurança declarativa baseada em função, você declara funções administrativamente, usando a ferramenta administrativa serviços de componentes ou as funções administrativas, e as atribui administrativamente aos recursos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2139-117">With declarative role-based security, you administratively declare roles—using either the Component Services administrative tool or the Administrative functions—and administratively assign them to application resources.</span></span> <span data-ttu-id="e2139-118">Onde e como você define a segurança declarativa determinará onde os limites de segurança são desenhados para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e2139-118">Where and how you set declarative security will determine where security boundaries are drawn for your application.</span></span> <span data-ttu-id="e2139-119">Para obter mais detalhes, consulte [limites de segurança](security-boundaries.md).</span><span class="sxs-lookup"><span data-stu-id="e2139-119">For more detail, see [Security Boundaries](security-boundaries.md).</span></span>

<span data-ttu-id="e2139-120">Você pode atribuir uma determinada função a todo o aplicativo, a um componente específico, a uma interface específica em um componente ou a um método específico em uma interface.</span><span class="sxs-lookup"><span data-stu-id="e2139-120">You can assign a given role to the entire application, to a particular component, to a particular interface in a component, or to a particular method on an interface.</span></span> <span data-ttu-id="e2139-121">As atribuições de função são herdadas da cadeia natural de inclusão — ou seja, se você atribuir uma função a um componente, ela será atribuída implicitamente a cada interface e método expostos por esse componente.</span><span class="sxs-lookup"><span data-stu-id="e2139-121">Role assignments are inherited down the natural chain of inclusion—that is, if you assign a role to a component, it is implicitly assigned to every interface and method exposed by that component.</span></span>

<span data-ttu-id="e2139-122">Com a disponibilidade das atribuições de função de nível de método, você pode ajudar a proteger componentes e interfaces que não foram projetados tendo em mente a segurança.</span><span class="sxs-lookup"><span data-stu-id="e2139-122">With the availability of method-level role assignments, you can effectively help protect components and interfaces that have not been designed with security in mind.</span></span> <span data-ttu-id="e2139-123">No entanto, se os próprios métodos não forem protegíveis com atribuições de função declarativas, talvez seja necessário realizar a verificação de função programática.</span><span class="sxs-lookup"><span data-stu-id="e2139-123">However, if the methods themselves are not securable with declarative role assignments, you might need to do programmatic role checking.</span></span> <span data-ttu-id="e2139-124">Geralmente, é uma boa ideia manter a segurança em mente ao decidir como fatorar a funcionalidade de negócios por meio de métodos; caso contrário, você pode se deparar adicionando no código relacionado à segurança no último minuto.</span><span class="sxs-lookup"><span data-stu-id="e2139-124">It is generally a good idea to keep security in mind when deciding how to factor business functionality through methods; otherwise, you could find yourself adding in security-related code at the last minute.</span></span>

<span data-ttu-id="e2139-125">Para obter procedimentos detalhados para definir a segurança baseada em função, consulte [configuring Role-Based Security](configuring-role-based-security.md).</span><span class="sxs-lookup"><span data-stu-id="e2139-125">For detailed procedures for setting role-based security, see [Configuring Role-Based Security](configuring-role-based-security.md).</span></span>

## <a name="programmatic-security"></a><span data-ttu-id="e2139-126">Segurança programática</span><span class="sxs-lookup"><span data-stu-id="e2139-126">Programmatic Security</span></span>

<span data-ttu-id="e2139-127">Em algumas circunstâncias, talvez você queira colocar a lógica de segurança em componentes enquanto ainda usa a segurança baseada em funções.</span><span class="sxs-lookup"><span data-stu-id="e2139-127">In some circumstances you may want to put security logic into components while still using role-based security.</span></span> <span data-ttu-id="e2139-128">Pode ser que você não seja capaz de, ou optar por não, fatorar todas as decisões de acesso por meio de métodos.</span><span class="sxs-lookup"><span data-stu-id="e2139-128">It might be that you're not able to—or choose not to—factor all access decisions through methods.</span></span> <span data-ttu-id="e2139-129">Por exemplo, você pode ter um recurso de aplicativo privado, talvez um determinado banco de dados, que você deseja permitir que apenas alguns chamadores de um método acessem enquanto exclui outros.</span><span class="sxs-lookup"><span data-stu-id="e2139-129">For example, you might have a private application resource, perhaps a particular database, that you want to allow only some callers of a method to access while excluding others.</span></span> <span data-ttu-id="e2139-130">Ou você pode ter um único método TransferMoney e deseja restringir alguns chamadores limitando o valor que ele pode transferir.</span><span class="sxs-lookup"><span data-stu-id="e2139-130">Or you might have a single TransferMoney method and want to restrict some callers by limiting the amount they can transfer.</span></span>

<span data-ttu-id="e2139-131">Em tais circunstâncias, você pode fazer a verificação de função no código.</span><span class="sxs-lookup"><span data-stu-id="e2139-131">In such circumstances, you can do role checking in code.</span></span> <span data-ttu-id="e2139-132">Uma API simples é fornecida, permitindo que você verifique se a segurança está ativada e se um chamador ou um usuário específico está em uma determinada função.</span><span class="sxs-lookup"><span data-stu-id="e2139-132">A simple API is provided, enabling you to check whether security is turned on and whether a caller or a particular user is in a given role.</span></span> <span data-ttu-id="e2139-133">Essa funcionalidade está disponível somente quando a segurança baseada em funções está habilitada.</span><span class="sxs-lookup"><span data-stu-id="e2139-133">This functionality is available only when role-based security is enabled.</span></span> <span data-ttu-id="e2139-134">Isso significa que você ainda pode aproveitar a segurança declarativa baseada em função onde ela é suficiente e, em seguida, você pode estendê-la programaticamente para um nível mais preciso de granularidade quando necessário.</span><span class="sxs-lookup"><span data-stu-id="e2139-134">This means that you can still take advantage of declarative role-based security where it suffices, and then you can programmatically extend it to a finer level of granularity when necessary.</span></span>

<span data-ttu-id="e2139-135">Além disso, ao usar a segurança baseada em função, você tem acesso programático a informações sobre todos os chamadores upstream na cadeia de chamadas para seu componente.</span><span class="sxs-lookup"><span data-stu-id="e2139-135">Additionally, when you use role-based security, you have programmatic access to information regarding all upstream callers in the chain of calls to your component.</span></span> <span data-ttu-id="e2139-136">Isso é especialmente útil quando você deseja manter uma trilha de auditoria detalhada.</span><span class="sxs-lookup"><span data-stu-id="e2139-136">This is especially useful when you want to keep a detailed audit trail.</span></span>

<span data-ttu-id="e2139-137">Para obter descrições de como fazer a verificação de função no código e como acessar informações de contexto de chamada de segurança, consulte [segurança de componente programático](programmatic-component-security.md).</span><span class="sxs-lookup"><span data-stu-id="e2139-137">For descriptions of how to do role checking in code and how to access security call context information, see [Programmatic Component Security](programmatic-component-security.md).</span></span>

## <a name="authorization-and-authentication"></a><span data-ttu-id="e2139-138">Autorização e autenticação</span><span class="sxs-lookup"><span data-stu-id="e2139-138">Authorization and Authentication</span></span>

<span data-ttu-id="e2139-139">A autorização significativa pressupõe que você tenha certeza de que os clientes são realmente quem dizem que estão.</span><span class="sxs-lookup"><span data-stu-id="e2139-139">Meaningful authorization presupposes that you are confident that clients are actually who they say they are.</span></span> <span data-ttu-id="e2139-140">A verificação da identidade do cliente é tratada separadamente por um serviço de autenticação.</span><span class="sxs-lookup"><span data-stu-id="e2139-140">The verification of client identity is handled separately by an authentication service.</span></span> <span data-ttu-id="e2139-141">Sem a autenticação, você está basicamente deixando os chamadores no sistema honrar.</span><span class="sxs-lookup"><span data-stu-id="e2139-141">Without authentication, you are basically letting callers in on the honor system.</span></span> <span data-ttu-id="e2139-142">Para obter descrições de autenticação, pois ela afeta aplicativos COM+, consulte [autenticação de cliente](client-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="e2139-142">For descriptions of authentication as it impacts COM+ applications, see [Client Authentication](client-authentication.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e2139-143">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="e2139-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e2139-144">Criando funções com eficiência</span><span class="sxs-lookup"><span data-stu-id="e2139-144">Designing Roles Effectively</span></span>](designing-roles-effectively.md)
</dt> <dt>

[<span data-ttu-id="e2139-145">Limites de segurança</span><span class="sxs-lookup"><span data-stu-id="e2139-145">Security Boundaries</span></span>](security-boundaries.md)
</dt> <dt>

[<span data-ttu-id="e2139-146">Informações de contexto de chamada de segurança</span><span class="sxs-lookup"><span data-stu-id="e2139-146">Security Call Context Information</span></span>](security-call-context-information.md)
</dt> <dt>

[<span data-ttu-id="e2139-147">Propriedade de contexto de segurança</span><span class="sxs-lookup"><span data-stu-id="e2139-147">Security Context Property</span></span>](security-context-property.md)
</dt> </dl>

 

 



