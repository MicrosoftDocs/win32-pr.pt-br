---
description: O atributo Transaction é uma propriedade declarativa que gerencia automaticamente as transações do desenvolvedor de componentes. Ao definir esse atributo, você elimina a necessidade de usar controles de transação explícitos em seu componente.
ms.assetid: ea0e4d7e-2598-4a42-993c-58815f2fa138
title: Configurando transações
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b57f27d47836193dc5d23c44e3344cb2a81d5984
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2021
ms.locfileid: "104551699"
---
# <a name="configuring-transactions"></a><span data-ttu-id="09598-104">Configurando transações</span><span class="sxs-lookup"><span data-stu-id="09598-104">Configuring Transactions</span></span>

<span data-ttu-id="09598-105">O *atributo Transaction* é uma propriedade declarativa que gerencia automaticamente as transações do desenvolvedor de componentes.</span><span class="sxs-lookup"><span data-stu-id="09598-105">The *transaction attribute* is a declarative property that automatically manages transactions for the component developer.</span></span> <span data-ttu-id="09598-106">Ao definir esse atributo, você elimina a necessidade de usar controles de transação explícitos em seu componente.</span><span class="sxs-lookup"><span data-stu-id="09598-106">By setting this attribute, you eliminate the need to use explicit transaction controls in your component.</span></span>

<span data-ttu-id="09598-107">O COM+ usa o atributo Transaction do componente para determinar o tipo de proteção de transação necessário para cada objeto que ele ativa.</span><span class="sxs-lookup"><span data-stu-id="09598-107">COM+ uses the component's transaction attribute to determine the type of transaction protection required for each object it activates.</span></span> <span data-ttu-id="09598-108">Dependendo de seu requisito, um objeto pode compartilhar a transação do chamador, exigir uma nova transação ou operar sem proteção de transação.</span><span class="sxs-lookup"><span data-stu-id="09598-108">Depending on its requirement, an object can share its caller's transaction, require a new transaction, or operate without transaction protection.</span></span>

<span data-ttu-id="09598-109">O COM+ fornece os seguintes valores de atributo de transação:</span><span class="sxs-lookup"><span data-stu-id="09598-109">COM+ provides the following transaction attribute values:</span></span>

<dl> <dt>

<span data-ttu-id="09598-110"><span id="Disabled"></span><span id="disabled"></span><span id="DISABLED"></span>Desabilitado</span><span class="sxs-lookup"><span data-stu-id="09598-110"><span id="Disabled"></span><span id="disabled"></span><span id="DISABLED"></span>Disabled</span></span>
</dt> <dd>

<span data-ttu-id="09598-111">Em geral, você deve definir esse valor de atributo somente quando tiver certeza de que o componente nunca acessa um Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="09598-111">In general, you should set this attribute value only when you are sure that the component never accesses a resource manager.</span></span> <span data-ttu-id="09598-112">Quando você desabilita o atributo Transaction, o COM+ ignora os requisitos transacionais do componente na determinação do posicionamento de contexto do objeto.</span><span class="sxs-lookup"><span data-stu-id="09598-112">When you disable the transaction attribute, COM+ ignores the transactional requirements of the component in determining context placement of the object.</span></span> <span data-ttu-id="09598-113">Como resultado, o objeto pode compartilhar o contexto (e a transação) do chamador.</span><span class="sxs-lookup"><span data-stu-id="09598-113">As a result, the object can share its caller's context (and transaction).</span></span> <span data-ttu-id="09598-114">Ao migrar um componente COM para COM+, você deve desabilitar o atributo Transaction para manter o mesmo comportamento transacional que o componente COM não configurado.</span><span class="sxs-lookup"><span data-stu-id="09598-114">When migrating a COM component to COM+, you must disable the transaction attribute to maintain the same transactional behavior as the unconfigured COM component.</span></span>

> [!Note]  
> <span data-ttu-id="09598-115">Um *componente não configurado* é um componente com que não foi instalado em um aplicativo com+.</span><span class="sxs-lookup"><span data-stu-id="09598-115">An *unconfigured component* is a COM component that has not been installed in a COM+ application.</span></span>

 

</dd> <dt>

<span data-ttu-id="09598-116"><span id="Not_Supported"></span><span id="not_supported"></span><span id="NOT_SUPPORTED"></span>Sem suporte</span><span class="sxs-lookup"><span data-stu-id="09598-116"><span id="Not_Supported"></span><span id="not_supported"></span><span id="NOT_SUPPORTED"></span>Not Supported</span></span>
</dt> <dd>

<span data-ttu-id="09598-117">Quando você define esse valor de atributo, o COM+ garante que qualquer objeto criado a partir do componente nunca participe de uma transação, independentemente do status transacional de seu chamador.</span><span class="sxs-lookup"><span data-stu-id="09598-117">When you set this attribute value, COM+ ensures that any object created from the component never participates in a transaction, regardless of the transactional status of its caller.</span></span> <span data-ttu-id="09598-118">Ao declarar esse valor, você garante que um objeto não vote na transação de seu chamador nem possa iniciar uma transação por conta própria.</span><span class="sxs-lookup"><span data-stu-id="09598-118">By declaring this value, you ensure that an object does not vote in its caller's transaction nor can it begin a transaction of its own.</span></span> <span data-ttu-id="09598-119">Sem suporte é o valor padrão para todos os componentes.</span><span class="sxs-lookup"><span data-stu-id="09598-119">Not Supported is the default value for all components.</span></span>

</dd> <dt>

<span data-ttu-id="09598-120"><span id="Supported"></span><span id="supported"></span><span id="SUPPORTED"></span>Porta</span><span class="sxs-lookup"><span data-stu-id="09598-120"><span id="Supported"></span><span id="supported"></span><span id="SUPPORTED"></span>Supported</span></span>
</dt> <dd>

<span data-ttu-id="09598-121">Quando você define esse valor de atributo, o COM+ garante que qualquer objeto criado a partir do componente participará de uma transação, se houver.</span><span class="sxs-lookup"><span data-stu-id="09598-121">When you set this attribute value, COM+ ensures that any object created from the component participates in a transaction if one exists.</span></span> <span data-ttu-id="09598-122">Você declara esse valor quando deseja que um objeto Compartilhe em sua transação do chamador sem exigir uma transação própria.</span><span class="sxs-lookup"><span data-stu-id="09598-122">You declare this value when you want an object to share in its caller's transaction without requiring a transaction of its own.</span></span>

</dd> <dt>

<span data-ttu-id="09598-123"><span id="Required"></span><span id="required"></span><span id="REQUIRED"></span>Necessário</span><span class="sxs-lookup"><span data-stu-id="09598-123"><span id="Required"></span><span id="required"></span><span id="REQUIRED"></span>Required</span></span>
</dt> <dd>

<span data-ttu-id="09598-124">Quando você define esse valor de atributo, o COM+ garante que qualquer objeto criado a partir do componente seja transacional.</span><span class="sxs-lookup"><span data-stu-id="09598-124">When you set this attribute value, COM+ ensures that any object created from the component is transactional.</span></span> <span data-ttu-id="09598-125">Quando o COM+ ativa um objeto com a configuração necessária, ele examina o status transacional de seu chamador.</span><span class="sxs-lookup"><span data-stu-id="09598-125">When COM+ activates an object with the Required setting, it looks at the transactional status of its caller.</span></span> <span data-ttu-id="09598-126">Se o chamador tiver uma transação, o novo objeto será incluído na transação atual.</span><span class="sxs-lookup"><span data-stu-id="09598-126">If the caller has a transaction, the new object is included in the current transaction.</span></span> <span data-ttu-id="09598-127">Caso contrário, o COM+ inicia uma transação, tornando o novo objeto a raiz da transação.</span><span class="sxs-lookup"><span data-stu-id="09598-127">Otherwise, COM+ begins a transaction, making the new object the root of the transaction.</span></span> <span data-ttu-id="09598-128">Essa é a configuração preferida para um componente que executa atividades de recursos, pois ajuda a fornecer proteção de transação para essas atividades.</span><span class="sxs-lookup"><span data-stu-id="09598-128">This is the preferred setting for a component that performs resource activities because it helps provide transaction protection for those activities.</span></span>

</dd> <dt>

<span data-ttu-id="09598-129"><span id="Requires_New"></span><span id="requires_new"></span><span id="REQUIRES_NEW"></span>Requer novo</span><span class="sxs-lookup"><span data-stu-id="09598-129"><span id="Requires_New"></span><span id="requires_new"></span><span id="REQUIRES_NEW"></span>Requires New</span></span>
</dt> <dd>

<span data-ttu-id="09598-130">Quando você define esse valor de atributo, o COM+ garante que todos os objetos criados a partir do componente devem participar de uma nova transação como a raiz da transação, independentemente do status transacional do chamador.</span><span class="sxs-lookup"><span data-stu-id="09598-130">When you set this attribute value, COM+ ensures that any objects created from the component must participate in a new transaction as the root of the transaction, regardless of the transactional status of the caller.</span></span> <span data-ttu-id="09598-131">O COM+ inicia automaticamente uma nova transação que é distinta da transação do chamador.</span><span class="sxs-lookup"><span data-stu-id="09598-131">COM+ automatically initiates a new transaction that is distinct from the caller's transaction.</span></span>

> [!Note]  
> <span data-ttu-id="09598-132">COM+ não dá suporte a transações aninhadas.</span><span class="sxs-lookup"><span data-stu-id="09598-132">COM+ does not support nested transactions.</span></span> <span data-ttu-id="09598-133">Quando um objeto transacional chama outro componente marcado como requer novo, o COM+ cria um limite transacional independente para o objeto que acabou de ser ativado.</span><span class="sxs-lookup"><span data-stu-id="09598-133">When one transactional object calls another component marked as Requires New, COM+ creates an independent transactional boundary for the newly activated object.</span></span> <span data-ttu-id="09598-134">A segunda transação não pode afetar a primeira transação, a menos que a primeira transação explicitamente anote os resultados da segunda transação e modifique seu voto com base nesses resultados.</span><span class="sxs-lookup"><span data-stu-id="09598-134">The second transaction cannot affect the first transaction unless the first transaction explicitly notes the results of the second transaction and modifies its vote based on those results.</span></span>

 

</dd> </dl>

## <a name="transaction-attribute-dependencies"></a><span data-ttu-id="09598-135">Dependências de atributo de transação</span><span class="sxs-lookup"><span data-stu-id="09598-135">Transaction Attribute Dependencies</span></span>

<span data-ttu-id="09598-136">A tabela a seguir mostra as características de cada valor de atributo de transação COM+, incluindo o efeito do valor em características de transação.</span><span class="sxs-lookup"><span data-stu-id="09598-136">The following table shows the characteristics of each COM+ transaction attribute value, including the value's effect on transaction characteristics.</span></span> <span data-ttu-id="09598-137">O COM+ impõe a [ativação](com--just-in-time-activation.md) e a [sincronização](com--synchronization.md) JIT para todos os componentes de transação.</span><span class="sxs-lookup"><span data-stu-id="09598-137">COM+ enforces [JIT activation](com--just-in-time-activation.md) and [Synchronization](com--synchronization.md) for all transaction components.</span></span>



| <span data-ttu-id="09598-138">Valor do atributo</span><span class="sxs-lookup"><span data-stu-id="09598-138">Attribute Value</span></span>          | <span data-ttu-id="09598-139">Nova transação</span><span class="sxs-lookup"><span data-stu-id="09598-139">New Transaction</span></span>   | <span data-ttu-id="09598-140">Transação do cliente</span><span class="sxs-lookup"><span data-stu-id="09598-140">Client's Transaction</span></span>                 | <span data-ttu-id="09598-141">Raiz da transação</span><span class="sxs-lookup"><span data-stu-id="09598-141">Transaction Root</span></span>                        | <span data-ttu-id="09598-142">Ativação JIT</span><span class="sxs-lookup"><span data-stu-id="09598-142">JIT Activation</span></span>      | <span data-ttu-id="09598-143">Sincronização</span><span class="sxs-lookup"><span data-stu-id="09598-143">Synchronization</span></span>     |
|--------------------------|-------------------|--------------------------------------|-----------------------------------------|---------------------|---------------------|
| <span data-ttu-id="09598-144">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="09598-144">Disabled</span></span><br/>      | <span data-ttu-id="09598-145">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-145">Never</span></span><br/>  | <span data-ttu-id="09598-146">Talvez</span><span class="sxs-lookup"><span data-stu-id="09598-146">Maybe</span></span><br/>                     | <span data-ttu-id="09598-147">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-147">Never</span></span><br/>                        | <span data-ttu-id="09598-148">Opcional</span><span class="sxs-lookup"><span data-stu-id="09598-148">Optional</span></span><br/> | <span data-ttu-id="09598-149">Opcional</span><span class="sxs-lookup"><span data-stu-id="09598-149">Optional</span></span><br/> |
| <span data-ttu-id="09598-150">Sem suporte</span><span class="sxs-lookup"><span data-stu-id="09598-150">Not Supported</span></span><br/> | <span data-ttu-id="09598-151">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-151">Never</span></span><br/>  | <span data-ttu-id="09598-152">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-152">Never</span></span><br/>                     | <span data-ttu-id="09598-153">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-153">Never</span></span><br/>                        | <span data-ttu-id="09598-154">Opcional</span><span class="sxs-lookup"><span data-stu-id="09598-154">Optional</span></span><br/> | <span data-ttu-id="09598-155">Opcional</span><span class="sxs-lookup"><span data-stu-id="09598-155">Optional</span></span><br/> |
| <span data-ttu-id="09598-156">Com suporte</span><span class="sxs-lookup"><span data-stu-id="09598-156">Supported</span></span><br/>     | <span data-ttu-id="09598-157">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-157">Never</span></span><br/>  | <span data-ttu-id="09598-158">Se o cliente tiver uma transação</span><span class="sxs-lookup"><span data-stu-id="09598-158">If client has transaction</span></span><br/> | <span data-ttu-id="09598-159">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-159">Never</span></span><br/>                        | <span data-ttu-id="09598-160">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-160">Required</span></span><br/> | <span data-ttu-id="09598-161">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-161">Required</span></span><br/> |
| <span data-ttu-id="09598-162">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-162">Required</span></span><br/>      | <span data-ttu-id="09598-163">Talvez</span><span class="sxs-lookup"><span data-stu-id="09598-163">Maybe</span></span><br/>  | <span data-ttu-id="09598-164">Se o cliente tiver uma transação</span><span class="sxs-lookup"><span data-stu-id="09598-164">If client has transaction</span></span><br/> | <span data-ttu-id="09598-165">Se o cliente não tiver nenhuma transação</span><span class="sxs-lookup"><span data-stu-id="09598-165">If client has no transaction</span></span><br/> | <span data-ttu-id="09598-166">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-166">Required</span></span><br/> | <span data-ttu-id="09598-167">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-167">Required</span></span><br/> |
| <span data-ttu-id="09598-168">Requer novo</span><span class="sxs-lookup"><span data-stu-id="09598-168">Requires New</span></span><br/>  | <span data-ttu-id="09598-169">Sempre</span><span class="sxs-lookup"><span data-stu-id="09598-169">Always</span></span><br/> | <span data-ttu-id="09598-170">Nunca</span><span class="sxs-lookup"><span data-stu-id="09598-170">Never</span></span><br/>                     | <span data-ttu-id="09598-171">Sempre</span><span class="sxs-lookup"><span data-stu-id="09598-171">Always</span></span><br/>                       | <span data-ttu-id="09598-172">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-172">Required</span></span><br/> | <span data-ttu-id="09598-173">Obrigatório</span><span class="sxs-lookup"><span data-stu-id="09598-173">Required</span></span><br/> |



 

## <a name="transaction-boundaries"></a><span data-ttu-id="09598-174">Limites da transação</span><span class="sxs-lookup"><span data-stu-id="09598-174">Transaction Boundaries</span></span>

<span data-ttu-id="09598-175">Uma transação tem um início, um fim e ocorre exatamente uma vez.</span><span class="sxs-lookup"><span data-stu-id="09598-175">A transaction has a beginning, an end, and occurs exactly once.</span></span> <span data-ttu-id="09598-176">Durante sua execução, uma transação pode chamar em um recurso, como um banco de dados ou fila, para realizar uma ou mais tarefas.</span><span class="sxs-lookup"><span data-stu-id="09598-176">During its execution, a transaction may call on a resource, such as a database or queue, to accomplish one or more tasks.</span></span> <span data-ttu-id="09598-177">Cada recurso cai dentro do *limite da transação*.</span><span class="sxs-lookup"><span data-stu-id="09598-177">Each resource falls within the *transaction boundary*.</span></span> <span data-ttu-id="09598-178">Todos os recursos dentro de um limite de transação, que podem abranger vários limites de processo e computador, compartilhar uma única transação.</span><span class="sxs-lookup"><span data-stu-id="09598-178">All resources within a transaction boundary, which can span multiple process and computer boundaries, share a single transaction.</span></span> <span data-ttu-id="09598-179">É importante gerenciar a consistência entre esse processo e os limites do computador.</span><span class="sxs-lookup"><span data-stu-id="09598-179">Managing consistency across these process and computer boundaries is important.</span></span>

<span data-ttu-id="09598-180">O COM+ garante a consistência gerenciando os limites de transação automaticamente, com base no valor do atributo de transação que você define para cada componente.</span><span class="sxs-lookup"><span data-stu-id="09598-180">COM+ ensures consistency by managing transaction boundaries automatically, based on the value of the transaction attribute that you set for each component.</span></span> <span data-ttu-id="09598-181">Uma transação COM+ flui automaticamente para objetos instruídos a participar de uma transação e ignora os objetos instruídos a executar fora de uma transação.</span><span class="sxs-lookup"><span data-stu-id="09598-181">A COM+ transaction automatically flows to objects instructed to participate in a transaction and bypasses objects instructed to execute outside a transaction.</span></span> <span data-ttu-id="09598-182">COM+ não dá suporte a transações aninhadas.</span><span class="sxs-lookup"><span data-stu-id="09598-182">COM+ does not support nested transactions.</span></span> <span data-ttu-id="09598-183">Em vez disso, as transações COM+ são distintas e de curta duração.</span><span class="sxs-lookup"><span data-stu-id="09598-183">Instead, COM+ transactions are distinct and short-lived.</span></span>

<span data-ttu-id="09598-184">O primeiro objeto em um limite de transação é especial para a transação e é chamado de *objeto raiz* da transação.</span><span class="sxs-lookup"><span data-stu-id="09598-184">The first object in a transaction boundary is special to the transaction and is called the *root object* of the transaction.</span></span> <span data-ttu-id="09598-185">Pode haver apenas um objeto raiz em uma transação.</span><span class="sxs-lookup"><span data-stu-id="09598-185">There can be only one root object in a transaction.</span></span> <span data-ttu-id="09598-186">Todos os outros objetos na hierarquia transacional sob o objeto raiz são chamados de *objetos interiores*.</span><span class="sxs-lookup"><span data-stu-id="09598-186">All other objects in the transactional hierarchy under the root object are called *interior objects*.</span></span>

## <a name="mapping-transactions"></a><span data-ttu-id="09598-187">Mapeando transações</span><span class="sxs-lookup"><span data-stu-id="09598-187">Mapping Transactions</span></span>

<span data-ttu-id="09598-188">Uma maneira de garantir que um objeto seja incluído no limite de transação correto é mapear suas transações antes de começar a gravar seus componentes.</span><span class="sxs-lookup"><span data-stu-id="09598-188">One way to ensure that an object is included in the correct transaction boundary is to map your transactions before you start writing your components.</span></span> <span data-ttu-id="09598-189">Ao mapear transações, você pode determinar a melhor configuração para cada componente que você escreve.</span><span class="sxs-lookup"><span data-stu-id="09598-189">By mapping transactions, you can determine the best setting for each component you write.</span></span> <span data-ttu-id="09598-190">Quanto mais certeza você estiver sobre como seus componentes devem ser usados, mais fácil será selecionar o valor correto do atributo de transação.</span><span class="sxs-lookup"><span data-stu-id="09598-190">The more certain you are about how your components are to be used, the easier it is to select the correct transaction attribute value.</span></span>

<span data-ttu-id="09598-191">Em tempo de execução, o COM+ examina o atributo Transaction para determinar se um objeto deve ser a raiz de uma nova transação, ser criado em uma transação existente ou ser criado como um objeto não transacional.</span><span class="sxs-lookup"><span data-stu-id="09598-191">At run time, COM+ looks at the transaction attribute to determine whether an object should be the root of a new transaction, be created in an existing transaction, or be created as a non-transactional object.</span></span>

<span data-ttu-id="09598-192">A ilustração a seguir mostra um possível mapeamento de transação.</span><span class="sxs-lookup"><span data-stu-id="09598-192">The following illustration shows a possible transaction mapping.</span></span> <span data-ttu-id="09598-193">Na ilustração, o cliente cria o objeto 1, que requer uma transação.</span><span class="sxs-lookup"><span data-stu-id="09598-193">In the illustration, the client creates Object  1, which requires a transaction.</span></span> <span data-ttu-id="09598-194">Como não existe nenhuma transação, o COM+ cria a transação 1 e coloca o objeto 1 nela como o objeto raiz.</span><span class="sxs-lookup"><span data-stu-id="09598-194">Because no transaction exists, COM+ creates Transaction 1 and places Object 1 in it as the root object.</span></span> <span data-ttu-id="09598-195">O objeto 1 cria o objeto 2, que dá suporte a transações e, portanto, é colocado na transação 1.</span><span class="sxs-lookup"><span data-stu-id="09598-195">Object 1 creates Object 2, which supports transactions and is therefore placed in Transaction 1.</span></span> <span data-ttu-id="09598-196">O objeto 2 cria o objeto 3, que não oferece suporte a transações e, portanto, é colocado fora de todas as transações.</span><span class="sxs-lookup"><span data-stu-id="09598-196">Object 2 creates Object 3, which does not support transactions and therefore is placed outside all transactions.</span></span> <span data-ttu-id="09598-197">O objeto 2 também cria o objeto 4, que requer uma transação e, portanto, é colocado na transação 1.</span><span class="sxs-lookup"><span data-stu-id="09598-197">Object 2 also creates Object 4, which requires a transaction and is therefore placed in Transaction  1.</span></span> <span data-ttu-id="09598-198">O objeto 3 cria o objeto 5, que dá suporte a transações.</span><span class="sxs-lookup"><span data-stu-id="09598-198">Object 3 creates Object 5, which supports transactions.</span></span> <span data-ttu-id="09598-199">No entanto, como o objeto 5 é criado por um objeto que não existe em uma transação, ele também é colocado fora de todas as transações.</span><span class="sxs-lookup"><span data-stu-id="09598-199">However, because Object 5 is created by an object that does not exist within a transaction, it also is placed outside all transactions.</span></span> <span data-ttu-id="09598-200">O objeto 4 cria o objeto 6, que requer uma nova transação, portanto, o COM+ cria a transação 2 e coloca o objeto 6 nela como o objeto raiz.</span><span class="sxs-lookup"><span data-stu-id="09598-200">Object 4 creates Object 6, which requires a new transaction, so COM+ creates Transaction 2 and places Object 6 in it as the root object.</span></span> <span data-ttu-id="09598-201">O objeto 6 cria o objeto 7, que dá suporte a transações e, portanto, é colocado na transação 2.</span><span class="sxs-lookup"><span data-stu-id="09598-201">Object 6 creates Object 7, which supports transactions and is therefore placed in Transaction 2.</span></span>

![Diagrama que mostra uma interação do cliente com a transação 1 e a transação 2.](images/fc7e2d03-94c2-40d9-a79b-1e05ca31dd80.png)

<span data-ttu-id="09598-203">A ilustração anterior mostra duas áreas problemáticas potenciais.</span><span class="sxs-lookup"><span data-stu-id="09598-203">The preceding illustration shows two potential problem areas.</span></span> <span data-ttu-id="09598-204">Primeiro, a maior parte do trabalho é dividida entre duas transações distintas.</span><span class="sxs-lookup"><span data-stu-id="09598-204">First, the majority of work is split between two distinct transactions.</span></span> <span data-ttu-id="09598-205">Se a transação 1 falhar depois que o objeto 4 criar o objeto 6, a transação 2 não será afetada pelo resultado da transação 1.</span><span class="sxs-lookup"><span data-stu-id="09598-205">If Transaction 1 fails after Object 4 creates Object 6, Transaction 2 runs unaffected by the outcome of Transaction 1.</span></span> <span data-ttu-id="09598-206">Se esse resultado não for intencional, talvez você prefira dobrar as operações de ambas as transações em uma única transação, o que pode ser feito alterando o atributo de transação do objeto 6 para necessário.</span><span class="sxs-lookup"><span data-stu-id="09598-206">If this outcome is unintended, you might prefer to fold the operations of both transactions into a single transaction, which you can accomplish by changing the transaction attribute of Object  6 to Required.</span></span>

<span data-ttu-id="09598-207">A ilustração de mapeamento também mostra que o objeto 3 e o objeto 5 não são transacionais, executando completamente fora do escopo das transações 1 e 2.</span><span class="sxs-lookup"><span data-stu-id="09598-207">The mapping illustration also shows that Object 3 and Object 5 are non-transactional, running completely outside the scope of Transactions 1 and 2.</span></span> <span data-ttu-id="09598-208">Se o objeto 5 atualizar dados persistentes, talvez você queira reconsiderar seu status não transacional.</span><span class="sxs-lookup"><span data-stu-id="09598-208">If Object 5 updates persistent data, you might want to reconsider its non-transactional status.</span></span> <span data-ttu-id="09598-209">O objeto 5 pode ser colocado em uma transação alterando seu atributo de transação para obrigatório.</span><span class="sxs-lookup"><span data-stu-id="09598-209">Object 5 can be placed within a transaction by changing its transaction attribute to Required.</span></span>

## <a name="related-topics"></a><span data-ttu-id="09598-210">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="09598-210">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="09598-211">Configurando o atributo de transação</span><span class="sxs-lookup"><span data-stu-id="09598-211">Setting the Transaction Attribute</span></span>](setting-the-transaction-attribute.md)
</dt> </dl>

 

 




