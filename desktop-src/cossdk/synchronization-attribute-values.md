---
description: O atributo de sincronização é uma propriedade declarativa que especifica que tipo de sincronização você deseja que os componentes tenham quando são ativados.
ms.assetid: 7f044ee5-b99e-4f0c-a680-b1e2672949fc
title: Valores de atributo de sincronização
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4606726d5202a1453e98d5bf609084982f8f824e
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104370412"
---
# <a name="synchronization-attribute-values"></a><span data-ttu-id="46e08-103">Valores de atributo de sincronização</span><span class="sxs-lookup"><span data-stu-id="46e08-103">Synchronization Attribute Values</span></span>

<span data-ttu-id="46e08-104">O atributo de sincronização é uma propriedade declarativa que especifica que tipo de sincronização você deseja que os componentes tenham quando são ativados.</span><span class="sxs-lookup"><span data-stu-id="46e08-104">The synchronization attribute is a declarative property that specifies what type of synchronization you want your components to have when they are activated.</span></span> <span data-ttu-id="46e08-105">Quando você inclui o atributo de sincronização, o COM+ manipula os detalhes de sincronização em seu nome; Você não precisa fazer nenhuma outra chamada.</span><span class="sxs-lookup"><span data-stu-id="46e08-105">When you include the synchronization attribute, COM+ handles the details of synchronization on your behalf; you do not have to make any other calls.</span></span>

<span data-ttu-id="46e08-106">Dependendo de seus requisitos, um objeto pode compartilhar a sincronização de seu chamador, exigir uma nova sincronização ou operar sem sincronização.</span><span class="sxs-lookup"><span data-stu-id="46e08-106">Depending on its requirements, an object can share its caller's synchronization, require a new synchronization, or operate without synchronization.</span></span>

<span data-ttu-id="46e08-107">O COM+ fornece os seguintes valores de atributo de sincronização:</span><span class="sxs-lookup"><span data-stu-id="46e08-107">COM+ provides the following synchronization attribute values:</span></span>

-   <span data-ttu-id="46e08-108">**Desabilitado.**</span><span class="sxs-lookup"><span data-stu-id="46e08-108">**Disabled.**</span></span> <span data-ttu-id="46e08-109">Quando você desabilita o atributo de sincronização, o COM+ ignora os requisitos de sincronização do componente para determinar o contexto do objeto.</span><span class="sxs-lookup"><span data-stu-id="46e08-109">When you disable the synchronization attribute, COM+ ignores the synchronization requirements of the component in determining context for the object.</span></span> <span data-ttu-id="46e08-110">Como resultado, o objeto pode ou não compartilhar o contexto (e a sincronização) do chamador.</span><span class="sxs-lookup"><span data-stu-id="46e08-110">As a result, the object may or may not share its caller's context (and synchronization).</span></span>

    <span data-ttu-id="46e08-111">Em geral, você deve usar esse valor de atributo quando souber que o componente nunca acessa um Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="46e08-111">In general, you should use this attribute value when you know the component never accesses a resource manager.</span></span> <span data-ttu-id="46e08-112">Ao migrar componentes COM para COM+, você deve desabilitar o atributo de sincronização para manter o mesmo comportamento que o componente COM não configurado.</span><span class="sxs-lookup"><span data-stu-id="46e08-112">When migrating COM components to COM+, you must disable the synchronization attribute to maintain the same behavior as the unconfigured COM component.</span></span> <span data-ttu-id="46e08-113">Um componente não configurado é um componente COM que não foi instalado em um aplicativo COM+.</span><span class="sxs-lookup"><span data-stu-id="46e08-113">An unconfigured component is a COM component that has not been installed in a COM+ application.</span></span>

-   <span data-ttu-id="46e08-114">**Sem suporte.**</span><span class="sxs-lookup"><span data-stu-id="46e08-114">**Not Supported.**</span></span> <span data-ttu-id="46e08-115">Um objeto com esse valor nunca participa da sincronização, independentemente do status de seu chamador.</span><span class="sxs-lookup"><span data-stu-id="46e08-115">An object with this value never participates in synchronization, regardless of the status of its caller.</span></span> <span data-ttu-id="46e08-116">Essa configuração está disponível somente para componentes que não são transacionais e não usam o serviço de [ativação JIT (just-in-time) do com+](com--just-in-time-activation.md) .</span><span class="sxs-lookup"><span data-stu-id="46e08-116">This setting is available only for components that are non-transactional and do not use the [COM+ just-in-time (JIT) activation](com--just-in-time-activation.md) service.</span></span>

-   <span data-ttu-id="46e08-117">**Porta.**</span><span class="sxs-lookup"><span data-stu-id="46e08-117">**Supported.**</span></span> <span data-ttu-id="46e08-118">Um objeto com esse valor participa da sincronização, se existir.</span><span class="sxs-lookup"><span data-stu-id="46e08-118">An object with this value participates in synchronization if it exists.</span></span> <span data-ttu-id="46e08-119">Você declara esse valor quando deseja que um objeto Compartilhe na sincronização de seu chamador, mas não requer a sincronização de seu próprio.</span><span class="sxs-lookup"><span data-stu-id="46e08-119">You declare this value when you want an object to share in its caller's synchronization but not require synchronization of its own.</span></span>

    <span data-ttu-id="46e08-120">Um bom motivo para definir o atributo de sincronização como com suporte é que essa configuração pode ser menos dispendiosa em termos de recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="46e08-120">A good reason to set your synchronization attribute to Supported is that this setting can be less expensive in terms of system resources.</span></span> <span data-ttu-id="46e08-121">No entanto, é mais difícil escrever seu componente devido à necessidade de protegê-lo de chamadas simultâneas.</span><span class="sxs-lookup"><span data-stu-id="46e08-121">However, it is more difficult to write your component because of the need to protect it from concurrent calls.</span></span> <span data-ttu-id="46e08-122">A implicação de definir o atributo de sincronização como com suporte é que, em determinadas circunstâncias, uma instância do seu objeto pode ser criada de forma que não seja sincronizada.</span><span class="sxs-lookup"><span data-stu-id="46e08-122">The implication of setting the synchronization attribute to Supported is that, under certain circumstances, an instance of your object may be created in such a way that it's not synchronized.</span></span> <span data-ttu-id="46e08-123">Se o modelo de Threading do componente for gratuito ou ambos, você precisará proteger os dados da instância com algum tipo de mecanismo de bloqueio.</span><span class="sxs-lookup"><span data-stu-id="46e08-123">If the component's threading model is Free or Both, you will have to protect your instance data with some type of locking mechanism.</span></span> <span data-ttu-id="46e08-124">Se o modelo de Threading for Apartment (STA), você não precisará proteger os dados da instância.</span><span class="sxs-lookup"><span data-stu-id="46e08-124">If the Threading Model is Apartment (STA), you won't need to protect your instance data.</span></span>

-   <span data-ttu-id="46e08-125">**Necessário.**</span><span class="sxs-lookup"><span data-stu-id="46e08-125">**Required.**</span></span> <span data-ttu-id="46e08-126">Quando você define esse atributo, o COM+ garante que todos os objetos criados a partir do componente serão sincronizados.</span><span class="sxs-lookup"><span data-stu-id="46e08-126">When you set this attribute, COM+ ensures that all objects created from the component will be synchronized.</span></span> <span data-ttu-id="46e08-127">Na verdade, sempre que o COM+ cria uma instância do seu componente, ele verifica se há apenas um thread passando por essa instância por vez.</span><span class="sxs-lookup"><span data-stu-id="46e08-127">In effect, whenever COM+ creates an instance of your component, it makes sure there's only one thread going through this instance at a time.</span></span>

    <span data-ttu-id="46e08-128">À medida que o COM+ ativa um objeto, ele examina o status de sincronização de seu chamador.</span><span class="sxs-lookup"><span data-stu-id="46e08-128">As COM+ activates an object, it looks at the synchronization status of its caller.</span></span> <span data-ttu-id="46e08-129">Se o chamador for sincronizado, o COM+ fluirá o limite de sincronização do chamador para incluir o novo objeto.</span><span class="sxs-lookup"><span data-stu-id="46e08-129">If the caller is synchronized, COM+ flows the caller's synchronization boundary to include the new object.</span></span> <span data-ttu-id="46e08-130">Caso contrário, o COM+ iniciará a sincronização.</span><span class="sxs-lookup"><span data-stu-id="46e08-130">Otherwise, COM+ begins the synchronization.</span></span>

-   <span data-ttu-id="46e08-131">**Requer novo.**</span><span class="sxs-lookup"><span data-stu-id="46e08-131">**Requires New.**</span></span> <span data-ttu-id="46e08-132">Um objeto com esse valor deve participar de uma nova sincronização, onde o COM+ gerencia contextos e Apartments em nome de todos os componentes envolvidos na chamada.</span><span class="sxs-lookup"><span data-stu-id="46e08-132">An object with this value must participate in a new synchronization, where COM+ manages contexts and apartments on behalf of all components involved in the call.</span></span> <span data-ttu-id="46e08-133">O COM+ inicia automaticamente uma nova sincronização, que é distinta da sincronização do chamador.</span><span class="sxs-lookup"><span data-stu-id="46e08-133">COM+ automatically initiates a new synchronization, which is distinct from the caller's synchronization.</span></span>

    <span data-ttu-id="46e08-134">Um bom motivo para definir seu atributo de sincronização como requer novo é que essa configuração permite que você faça chamadas externas para uma instância do seu componente com mais eficiência.</span><span class="sxs-lookup"><span data-stu-id="46e08-134">A good reason to set your synchronization attribute to Requires New is that this setting allows you to make outside calls to an instance of your component more efficiently.</span></span> <span data-ttu-id="46e08-135">No entanto, ele também faz chamadas entre o objeto e o objeto que o criou mais caro em termos de recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="46e08-135">However, it also makes calls between your object and the object that created it more expensive in terms of system resources.</span></span>

    <span data-ttu-id="46e08-136">Por exemplo, suponha um caso em que o objeto e seu objeto criador compartilhem o mesmo limite de sincronização.</span><span class="sxs-lookup"><span data-stu-id="46e08-136">For example, assume a case where your object and its creator object share the same synchronization boundary.</span></span> <span data-ttu-id="46e08-137">Se o cliente A chamar o objeto Creator e o cliente B chamar o objeto, a segunda chamada terá de aguardar até que a primeira chamada seja concluída.</span><span class="sxs-lookup"><span data-stu-id="46e08-137">If client A calls the creator object and client B calls your object, the second call will have to wait until the first call is completed.</span></span> <span data-ttu-id="46e08-138">Se você definir requer novo, o objeto é criado em um limite de sincronização separado.</span><span class="sxs-lookup"><span data-stu-id="46e08-138">If you set Requires New, your object is created in a separate synchronization boundary.</span></span> <span data-ttu-id="46e08-139">Nesse caso, as chamadas de outros objetos podem ser processadas ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="46e08-139">In this case, calls from other objects can be processed at the same time.</span></span> <span data-ttu-id="46e08-140">No entanto, as chamadas do objeto Creator para seu objeto exigem mais recursos do sistema porque devem cruzar limites de sincronização.</span><span class="sxs-lookup"><span data-stu-id="46e08-140">However, calls from the creator object to your object require more system resources because they must cross synchronization boundaries.</span></span>

## <a name="related-topics"></a><span data-ttu-id="46e08-141">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="46e08-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="46e08-142">Configurando o atributo de sincronização</span><span class="sxs-lookup"><span data-stu-id="46e08-142">Setting the Synchronization Attribute</span></span>](setting-the-synchronization-attribute.md)
</dt> <dt>

[<span data-ttu-id="46e08-143">Dependências de sincronização</span><span class="sxs-lookup"><span data-stu-id="46e08-143">Synchronization Dependencies</span></span>](synchronization-dependencies.md)
</dt> </dl>

 

 



