---
description: Considerações de segurança do serviço SOAP COM+
ms.assetid: c4f7744c-ff57-4d9d-8632-7e5bbb73449a
title: Considerações de segurança do serviço SOAP COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a238860e154e9928672a64ef44f9db37e9c8ad2c
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103826647"
---
# <a name="com-soap-service-security-considerations"></a><span data-ttu-id="a3db3-103">Considerações de segurança do serviço SOAP COM+</span><span class="sxs-lookup"><span data-stu-id="a3db3-103">COM+ SOAP Service Security Considerations</span></span>

<span data-ttu-id="a3db3-104">O serviço SOAP COM+ depende do servidor Web do IIS para segurança.</span><span class="sxs-lookup"><span data-stu-id="a3db3-104">The COM+ SOAP service depends on the IIS web server for security.</span></span> <span data-ttu-id="a3db3-105">Mesmo no [modo de objeto ativado pelo cliente](accessing-xml-web-services-in-cao-mode.md), um RPC do com+ não transmite a identidade do cliente e, portanto, não pode usar a segurança baseada em função ou qualquer outro recurso de segurança fornecido pelo DCOM.</span><span class="sxs-lookup"><span data-stu-id="a3db3-105">Even in [client-activated object mode](accessing-xml-web-services-in-cao-mode.md), a COM+ RPC does not transmit the client identity and therefore cannot make use of role-based security or any other security feature provided by DCOM.</span></span> <span data-ttu-id="a3db3-106">Se você quiser ajudar a proteger a privacidade dos dados transmitidos de e para o serviço Web XML, ou para ajudar a proteger seu serviço Web XML contra acesso não autorizado, você pode configurar o IIS para limitar o acesso a um serviço Web XML com base em um endereço IP de clientes ou para exigir que um cliente apresente um certificado digital para verificar sua identidade.</span><span class="sxs-lookup"><span data-stu-id="a3db3-106">If you want to help protect the privacy of data transmitted to and from your XML web service, or to help protect your XML web service from unauthorized access, you can configure IIS to limit access to an XML web service based on a clients IP address or to require a client to present a digital certificate to verify its identity.</span></span> <span data-ttu-id="a3db3-107">Se você não limitar o acesso, qualquer cliente que possa se comunicar com o servidor Web poderá acessar o serviço Web XML.</span><span class="sxs-lookup"><span data-stu-id="a3db3-107">If you do not limit access, any client that can communicate with your web server can access your XML web service.</span></span>

<span data-ttu-id="a3db3-108">Você pode configurar o IIS para criptografar suas comunicações de serviço Web XML com clientes usando protocolos TLS ou SSL de criptografia de chave pública.</span><span class="sxs-lookup"><span data-stu-id="a3db3-108">You can configure IIS to encrypt your XML web service communications with clients by using public key encryption SSL or TLS protocols.</span></span> <span data-ttu-id="a3db3-109">Se você não criptografar comunicações SOAP, os dados trocados entre um cliente e um servidor poderão ser observados por terceiros com acesso a qualquer rede sobre a qual a comunicação SOAP viaja; dependendo da topologia de rede, essa pode ser uma rede local pequena ou pode ser a Internet.</span><span class="sxs-lookup"><span data-stu-id="a3db3-109">If you do not encrypt SOAP communications, data exchanged between a client and server could be observed by a third party with access to any network over which the SOAP communication travels; depending on network topology, this might be a small LAN or it might be the Internet.</span></span>

<span data-ttu-id="a3db3-110">Por padrão, as comunicações SOAP não criptografadas são recebidas na porta HTTP (80) e as comunicações SOAP criptografadas são recebidas na porta HTTPS (443).</span><span class="sxs-lookup"><span data-stu-id="a3db3-110">By default, unencrypted SOAP communications are received at the HTTP port (80) and encrypted SOAP communications are received at the HTTPS port (443).</span></span> <span data-ttu-id="a3db3-111">Para que um cliente acesse com êxito um serviço Web XML, todos os firewalls entre o cliente e o servidor devem ser configurados para permitir que os pacotes TCP SYN alcancem a porta do servidor apropriada.</span><span class="sxs-lookup"><span data-stu-id="a3db3-111">For a client to successfully access an XML web service, any firewalls between the client and the server must be configured to allow TCP SYN packets to reach the appropriate server port.</span></span> <span data-ttu-id="a3db3-112">Por outro lado, para limitar o acesso a serviços Web XML, um administrador de firewall pode optar por fechar essas portas.</span><span class="sxs-lookup"><span data-stu-id="a3db3-112">Conversely, to limit access to XML web services, a firewall administrator may choose to close these ports.</span></span>

<span data-ttu-id="a3db3-113">As configurações de segurança padrão para um componente COM exposto como um serviço Web XML diferem dependendo de qual versão do Microsoft .NET Framework está instalada.</span><span class="sxs-lookup"><span data-stu-id="a3db3-113">The default security settings for a COM component exposed as an XML web service differ depending on which version of the Microsoft .NET Framework is installed.</span></span> <span data-ttu-id="a3db3-114">Se a versão 1,0 estiver instalada, os serviços Web XML não serão seguros por padrão; todas as chamadas são aceitas e nenhuma criptografia é usada.</span><span class="sxs-lookup"><span data-stu-id="a3db3-114">If version 1.0 is installed, XML web services are nonsecure by default; all calls are accepted and no encryption is used.</span></span> <span data-ttu-id="a3db3-115">Se a versão 1,1 ou posterior estiver instalada, os serviços Web XML serão protegidos por padrão; os chamadores devem ser autenticados e a criptografia é necessária.</span><span class="sxs-lookup"><span data-stu-id="a3db3-115">If version 1.1 or later is installed, XML web services are secure by default; callers must be authenticated and encryption is required.</span></span>

<span data-ttu-id="a3db3-116">Um serviço Web XML seguro não dá suporte ao acesso WKO via WSDL.</span><span class="sxs-lookup"><span data-stu-id="a3db3-116">A secured XML web service does not support WKO access via WSDL.</span></span> <span data-ttu-id="a3db3-117">Em vez disso, os clientes que instalaram a versão 1,1 do .NET Framework podem chamá-lo no modo CAO.</span><span class="sxs-lookup"><span data-stu-id="a3db3-117">Instead, clients that have installed the .NET Framework version 1.1 can call it in CAO mode.</span></span> <span data-ttu-id="a3db3-118">Se os clientes de terceiros precisarem acessar o serviço Web XML via WSDL, você deverá permitir o acesso anônimo.</span><span class="sxs-lookup"><span data-stu-id="a3db3-118">If third-party clients need to access your XML web service via WSDL, you must allow anonymous access.</span></span>

<span data-ttu-id="a3db3-119">Um componente COM exposto como um serviço Web XML é executado por padrão com as permissões do usuário anônimo (não com as permissões de seu chamador).</span><span class="sxs-lookup"><span data-stu-id="a3db3-119">A COM component exposed as an XML web service runs by default with the permissions of the anonymous user (not with the permissions of its caller).</span></span> <span data-ttu-id="a3db3-120">Você pode configurar o IIS para executar o serviço Web XML como um usuário diferente; às vezes, isso pode ser necessário porque o componente usa arquivos ou outros recursos aos quais o usuário anônimo não tem acesso.</span><span class="sxs-lookup"><span data-stu-id="a3db3-120">You can configure IIS to run the XML web service as a different user; this may sometimes be necessary because your component uses files or other resources to which the anonymous user does not have access.</span></span> <span data-ttu-id="a3db3-121">No entanto, você sempre deve tentar executar o componente com o menor privilégio possível, para limitar os danos que um chamador mal-intencionado pode causar.</span><span class="sxs-lookup"><span data-stu-id="a3db3-121">Nevertheless, you should always try to run your component with the fewest privileges possible, to limit the damage a malicious caller might cause.</span></span>

> [!Note]  
> <span data-ttu-id="a3db3-122">Como um método exposto por meio de um serviço Web XML pode ser exposto a chamadores mal-intencionados, você deve sempre certificar-se de validar todos os parâmetros de entrada dos quais ele depende.</span><span class="sxs-lookup"><span data-stu-id="a3db3-122">Because a method you exposed via an XML web service could potentially be exposed to malicious callers, you should always be sure to validate any input parameters on which it depends.</span></span>

 

<span data-ttu-id="a3db3-123">Para obter instruções detalhadas sobre como definir configurações específicas de segurança de serviço Web XML, consulte [protegendo serviços Web XML](securing-xml-web-services.md).</span><span class="sxs-lookup"><span data-stu-id="a3db3-123">For detailed instructions on how to configure specific XML web service security settings, see [Securing XML Web Services](securing-xml-web-services.md).</span></span>

<span data-ttu-id="a3db3-124">**Para converter um aplicativo SOAP seguro em um aplicativo SOAP não seguro**</span><span class="sxs-lookup"><span data-stu-id="a3db3-124">**To convert a secure SOAP application to an unsecure SOAP application**</span></span>

1.  <span data-ttu-id="a3db3-125">Abra a ferramenta de administração do Serviços de Informações da Internet (IIS).</span><span class="sxs-lookup"><span data-stu-id="a3db3-125">Open the Internet Information Services (IIS) administration tool.</span></span>
2.  <span data-ttu-id="a3db3-126">Localize o diretório virtual do aplicativo e abra a caixa de diálogo **Propriedades** .</span><span class="sxs-lookup"><span data-stu-id="a3db3-126">Locate the virtual directory for the application and open the **Properties** dialog box.</span></span>
3.  <span data-ttu-id="a3db3-127">Marque a **página habilitar conteúdo padrão** na guia **documentos** .</span><span class="sxs-lookup"><span data-stu-id="a3db3-127">Check **Enable default content page** on the **Documents** tab.</span></span>
4.  <span data-ttu-id="a3db3-128">Na guia **segurança de diretório** , clique em **Editar** em **acesso anônimo e controle de autenticação**.</span><span class="sxs-lookup"><span data-stu-id="a3db3-128">From the **Directory Security** tab click **Edit** under **Anonymous access and authentication control**.</span></span>
5.  <span data-ttu-id="a3db3-129">Marque **acesso anônimo** para habilitar o acesso anônimo e clique em **OK**.</span><span class="sxs-lookup"><span data-stu-id="a3db3-129">Check **Anonymous access** to enable anonymous access and click **OK**.</span></span>
6.  <span data-ttu-id="a3db3-130">Clique em **Editar** em **comunicações seguras**.</span><span class="sxs-lookup"><span data-stu-id="a3db3-130">Click **Edit** under **Secure communications**.</span></span>
7.  <span data-ttu-id="a3db3-131">Desmarque a caixa de seleção **exigir canal de segurança (SSL)** .</span><span class="sxs-lookup"><span data-stu-id="a3db3-131">Uncheck the **Require secure channel (SSL)** checkbox.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a3db3-132">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="a3db3-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a3db3-133">Visão geral do serviço SOAP COM+</span><span class="sxs-lookup"><span data-stu-id="a3db3-133">COM+ SOAP Service Overview</span></span>](com--soap-service-overview.md)
</dt> </dl>

 

 



