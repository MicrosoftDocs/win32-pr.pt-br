---
description: O uso correto da diretiva de restrição de software pode tornar seus negócios mais ágeis, pois fornece uma estrutura proativa para evitar problemas, em vez de uma estrutura reativa que se baseia na alternativa dispendiosa de restaurar um sistema após a ocorrência de um problema. A diretiva de restrição de software foi introduzida com o lançamento do Microsoft Windows XP para ajudar a proteger os sistemas contra códigos desconhecidos e possivelmente perigosos. A política de restrição fornece um mecanismo em que apenas o código confiável recebe acesso irrestrito a privilégios de usuários. Um código desconhecido, que pode conter vírus ou código que está em conflito com os programas atualmente instalados, tem permissão para ser executado apenas em um ambiente restrito (geralmente chamado de área restrita), em que não é permitido acessar nenhum privilégio de usuário sensível à segurança.
ms.assetid: 233483a0-ff16-4e21-a312-cc57a92124c3
title: Usando a política de restrição de software no COM+
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3620aba8cce2859d76ba07c2fa9655dd9036bdbb
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104457046"
---
# <a name="using-the-software-restriction-policy-in-com"></a><span data-ttu-id="c863c-106">Usando a política de restrição de software no COM+</span><span class="sxs-lookup"><span data-stu-id="c863c-106">Using the Software Restriction Policy in COM+</span></span>

<span data-ttu-id="c863c-107">O uso correto da diretiva de restrição de software pode tornar seus negócios mais ágeis, pois fornece uma estrutura proativa para evitar problemas, em vez de uma estrutura reativa que se baseia na alternativa dispendiosa de restaurar um sistema após a ocorrência de um problema.</span><span class="sxs-lookup"><span data-stu-id="c863c-107">Properly using the software restriction policy can make your business more agile because it provides a proactive framework for preventing problems, rather than a reactive framework that relies on the costly alternative of restoring a system after a problem has occurred.</span></span> <span data-ttu-id="c863c-108">A diretiva de restrição de software foi introduzida com o lançamento do Microsoft Windows XP para ajudar a proteger os sistemas contra códigos desconhecidos e possivelmente perigosos.</span><span class="sxs-lookup"><span data-stu-id="c863c-108">The software restriction policy was introduced with the release of Microsoft Windows XP to help protect systems from unknown and possibly dangerous code.</span></span> <span data-ttu-id="c863c-109">A política de restrição fornece um mecanismo em que apenas o código confiável recebe acesso irrestrito aos privilégios de um usuário.</span><span class="sxs-lookup"><span data-stu-id="c863c-109">The restriction policy provides a mechanism where only trusted code is given unrestricted access to a user's privileges.</span></span> <span data-ttu-id="c863c-110">Um código desconhecido, que pode conter vírus ou código que está em conflito com os programas atualmente instalados, tem permissão para ser executado apenas em um ambiente restrito (geralmente chamado de *área restrita*), em que não é permitido acessar nenhum privilégio de usuário sensível à segurança.</span><span class="sxs-lookup"><span data-stu-id="c863c-110">Unknown code, which might contain viruses or code that conflicts with currently installed programs, is allowed to run only in a constrained environment (often called a *sandbox*) where it is disallowed from accessing any security-sensitive user privileges.</span></span>

<span data-ttu-id="c863c-111">A diretiva de restrição de software depende da atribuição de níveis de confiança ao código que pode ser executado em um sistema.</span><span class="sxs-lookup"><span data-stu-id="c863c-111">The software restriction policy depends on assigning trust levels to the code that can run on a system.</span></span> <span data-ttu-id="c863c-112">Atualmente, existem dois níveis de confiança: irrestrito e não permitido.</span><span class="sxs-lookup"><span data-stu-id="c863c-112">Currently, two trust levels exist: Unrestricted and Disallowed.</span></span> <span data-ttu-id="c863c-113">O código que tem um nível de confiança irrestrito recebe acesso irrestrito aos privilégios do usuário, portanto, esse nível de confiança deve ser aplicado somente ao código totalmente confiável.</span><span class="sxs-lookup"><span data-stu-id="c863c-113">Code that has an Unrestricted trust level is given unrestricted access to the user's privileges, so this trust level should be applied only to fully trusted code.</span></span> <span data-ttu-id="c863c-114">O código com um nível de confiança não permitido não é permitido de acessar nenhum privilégio de usuário sensível à segurança e pode ser executado somente em uma área restrita que ajuda a impedir que código irrestrito carregue o código não permitido em seu espaço de endereço.</span><span class="sxs-lookup"><span data-stu-id="c863c-114">Code with a Disallowed trust level is disallowed from accessing any security-sensitive user privileges and can run only in a sandbox that helps prevent Unrestricted code from loading the Disallowed code into its address space.</span></span>

<span data-ttu-id="c863c-115">A configuração da diretiva de restrição de software para um sistema é feita por meio da ferramenta administrativa diretiva de segurança local, enquanto a configuração da diretiva de restrição de aplicativos COM+ individuais é feita de forma programática ou por meio da ferramenta administrativa serviços de componentes.</span><span class="sxs-lookup"><span data-stu-id="c863c-115">Configuring the software restriction policy for a system is done through the Local Security Policy administrative tool, while the restriction policy configuration of individual COM+ applications is done either programmatically or through the Component Services administrative tool.</span></span> <span data-ttu-id="c863c-116">Se o nível de confiança da política de restrição não for especificado para um aplicativo COM+, as configurações de todo o setor serão usadas para determinar o nível de confiança do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c863c-116">If the restriction policy trust level is not specified for a COM+ application, the systemwide settings will be used to determine the application's trust level.</span></span> <span data-ttu-id="c863c-117">As configurações da política de restrição COM+ devem ser cuidadosamente coordenadas com as configurações de todo o nível, pois um aplicativo COM+ que tem um níveis de confiança irrestrito pode carregar apenas componentes com um nível de confiança irrestrito; um aplicativo COM+ não permitido pode carregar componentes com qualquer nível de confiança, mas não pode acessar todos os privilégios do usuário.</span><span class="sxs-lookup"><span data-stu-id="c863c-117">The COM+ restriction policy settings must be carefully coordinated with the systemwide settings because a COM+ application that has an Unrestricted trust level can load only components with an Unrestricted trust level; a Disallowed COM+ application can load components with any trust level but cannot access all of the user's privileges.</span></span>

<span data-ttu-id="c863c-118">Além dos níveis de confiança da diretiva de restrição de software de aplicativos COM+ individuais, duas outras propriedades determinam como a política de restrição é usada para todos os aplicativos COM+.</span><span class="sxs-lookup"><span data-stu-id="c863c-118">In addition to the software restriction policy trust levels of individual COM+ applications, two other properties determine how the restriction policy is used for all COM+ applications.</span></span> <span data-ttu-id="c863c-119">Se [SRPRunningObjectChecks](/windows/desktop/com/srprunningobjectchecks) estiver habilitado, as tentativas de conexão com objetos em execução serão verificadas em relação aos níveis de confiança apropriados.</span><span class="sxs-lookup"><span data-stu-id="c863c-119">If [SRPRunningObjectChecks](/windows/desktop/com/srprunningobjectchecks) is enabled, attempts to connect to running objects will be checked for appropriate trust levels.</span></span> <span data-ttu-id="c863c-120">O objeto em execução não pode ter um nível de confiança menos estrito do que o objeto do cliente.</span><span class="sxs-lookup"><span data-stu-id="c863c-120">The running object cannot have a less stringent trust level than the client object.</span></span> <span data-ttu-id="c863c-121">Por exemplo, o objeto em execução não poderá ter um nível de confiança não permitido se o objeto de cliente tiver um nível de confiança irrestrito.</span><span class="sxs-lookup"><span data-stu-id="c863c-121">For example, the running object cannot have a Disallowed trust level if the client object has an Unrestricted trust level.</span></span>

<span data-ttu-id="c863c-122">A segunda propriedade determina como a diretiva de restrição de software lida com conexões Activate as-Activator.</span><span class="sxs-lookup"><span data-stu-id="c863c-122">The second property determines how the software restriction policy handles activate-as-activator connections.</span></span> <span data-ttu-id="c863c-123">Se [SRPActivateAsActivatorChecks](/windows/desktop/com/srpactivateasactivatorchecks) estiver habilitado, o nível de confiança configurado para o objeto de servidor será comparado com o nível de confiança do objeto de cliente e o nível de confiança mais estrito será usado para executar o objeto de servidor.</span><span class="sxs-lookup"><span data-stu-id="c863c-123">If [SRPActivateAsActivatorChecks](/windows/desktop/com/srpactivateasactivatorchecks) is enabled, the trust level that is configured for the server object is compared with the trust level of the client object and the more stringent trust level will be used to run the server object.</span></span> <span data-ttu-id="c863c-124">Se SRPActivateAsActivatorChecks não estiver habilitado, o objeto de servidor será executado com o nível de confiança do objeto de cliente, independentemente do nível de confiança com o qual ele foi configurado.</span><span class="sxs-lookup"><span data-stu-id="c863c-124">If SRPActivateAsActivatorChecks is not enabled, the server object will run with the trust level of the client object regardless of the trust level with which it was configured.</span></span> <span data-ttu-id="c863c-125">Por padrão, SRPRunningObjectChecks e SRPActivateAsActivatorChecks estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="c863c-125">By default, both SRPRunningObjectChecks and SRPActivateAsActivatorChecks are enabled.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c863c-126">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c863c-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c863c-127">Autenticação de cliente</span><span class="sxs-lookup"><span data-stu-id="c863c-127">Client Authentication</span></span>](client-authentication.md)
</dt> <dt>

[<span data-ttu-id="c863c-128">Representação e delegação de cliente</span><span class="sxs-lookup"><span data-stu-id="c863c-128">Client Impersonation and Delegation</span></span>](client-impersonation-and-delegation.md)
</dt> <dt>

[<span data-ttu-id="c863c-129">Configurando a política de restrição de software</span><span class="sxs-lookup"><span data-stu-id="c863c-129">Configuring the Software Restriction Policy</span></span>](configuring-the-software-restriction-policy.md)
</dt> <dt>

[<span data-ttu-id="c863c-130">Segurança de aplicativos de biblioteca</span><span class="sxs-lookup"><span data-stu-id="c863c-130">Library Application Security</span></span>](library-application-security.md)
</dt> <dt>

[<span data-ttu-id="c863c-131">Segurança de aplicativos de várias camadas</span><span class="sxs-lookup"><span data-stu-id="c863c-131">Multi-Tier Application Security</span></span>](multi-tier-application-security.md)
</dt> <dt>

[<span data-ttu-id="c863c-132">Segurança de componente programática</span><span class="sxs-lookup"><span data-stu-id="c863c-132">Programmatic Component Security</span></span>](programmatic-component-security.md)
</dt> <dt>

[<span data-ttu-id="c863c-133">Administração de segurança baseada em funções</span><span class="sxs-lookup"><span data-stu-id="c863c-133">Role-Based Security Administration</span></span>](role-based-security-administration.md)
</dt> </dl>

 

 
