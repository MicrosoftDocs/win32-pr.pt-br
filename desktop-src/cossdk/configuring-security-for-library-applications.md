---
description: Há considerações especiais na configuração da segurança baseada em funções e da autenticação para aplicativos de biblioteca.
ms.assetid: 1117ac64-653d-4640-97cd-f37b0949dc57
title: Configuração da segurança para aplicativos de biblioteca
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 102d6a0f102bfd19da0073bca14df8a8211203b1
ms.sourcegitcommit: bf526e267d3991892733bdd229c66d5365cf244a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/05/2021
ms.locfileid: "103930048"
---
# <a name="configuring-security-for-library-applications"></a><span data-ttu-id="aa1c2-103">Configuração da segurança para aplicativos de biblioteca</span><span class="sxs-lookup"><span data-stu-id="aa1c2-103">Configuring Security for Library Applications</span></span>

<span data-ttu-id="aa1c2-104">Há considerações especiais na configuração da segurança baseada em funções e da autenticação para aplicativos de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-104">There are special considerations in configuring role-based security and authentication for library applications.</span></span>

## <a name="enabling-or-disabling-authentication"></a><span data-ttu-id="aa1c2-105">Habilitando ou desabilitando a autenticação</span><span class="sxs-lookup"><span data-stu-id="aa1c2-105">Enabling or Disabling Authentication</span></span>

<span data-ttu-id="aa1c2-106">Um dos fatores a considerar é se os chamadores do aplicativo de biblioteca devem estar sujeitos às verificações de segurança no nível de processo do processo de hospedagem, ou seja, se deseja habilitar ou desabilitar a autenticação.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-106">One of the factors to consider is whether callers of the library application should be subject to the process-level security checks of the hosting process—that is, whether to enable or disable authentication.</span></span>

<span data-ttu-id="aa1c2-107">Por exemplo, se o aplicativo de biblioteca for hospedado por um navegador, talvez seja necessário receber retornos de chamada não autenticados.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-107">For example, if the library application will be hosted by a browser, it might need to receive unauthenticated callbacks.</span></span> <span data-ttu-id="aa1c2-108">Para atender a essa necessidade, você pode desabilitar a autenticação para que o processo de hospedagem não execute verificações de segurança para os chamadores do aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-108">To address this need, you can disable authentication so that the hosting process does not perform security checks for callers of the library application.</span></span> <span data-ttu-id="aa1c2-109">Quando você desabilita a autenticação, o aplicativo de biblioteca deixa de ser autenticado de forma efetiva – todas as chamadas para ele terão sucesso.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-109">When you disable authentication, the library application effectively goes unauthenticated—all calls to it will succeed.</span></span> <span data-ttu-id="aa1c2-110">Os chamadores do aplicativo de biblioteca não estão sujeitos às verificações de segurança do processo de hospedagem.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-110">Callers of the library application are not subject to the security checks of the hosting process.</span></span> <span data-ttu-id="aa1c2-111">Basicamente, o aplicativo de biblioteca é marcado como "não autenticado" e as verificações de segurança são omitidas para chamadas ao aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-111">Basically, the library application is tagged as "unauthenticated", and security checks are omitted for calls to the library application.</span></span>

<span data-ttu-id="aa1c2-112">Para obter informações sobre como habilitar ou desabilitar a autenticação, consulte [habilitando a autenticação para um aplicativo de biblioteca](enabling-authentication-for-a-library-application.md).</span><span class="sxs-lookup"><span data-stu-id="aa1c2-112">For information about how to enable or disable authentication, see [Enabling Authentication for a Library Application](enabling-authentication-for-a-library-application.md).</span></span>

## <a name="enforcing-role-checks"></a><span data-ttu-id="aa1c2-113">Impondo verificações de função</span><span class="sxs-lookup"><span data-stu-id="aa1c2-113">Enforcing Role Checks</span></span>

<span data-ttu-id="aa1c2-114">Outra decisão a ser tomada é se o aplicativo de biblioteca deve usar a [segurança baseada em função](role-based-security-administration.md).</span><span class="sxs-lookup"><span data-stu-id="aa1c2-114">Another decision to make is whether the library application should use [role-based security](role-based-security-administration.md).</span></span> <span data-ttu-id="aa1c2-115">Se a segurança baseada em funções for usada, você deverá usar a segurança em nível de componente para qualquer verificação de acesso a ser executada. As funções atribuídas ao aplicativo de biblioteca não são refletidas no descritor de segurança do processo.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-115">If role-based security is used, you must be using component-level security for any access checks to be carried out. The roles assigned to the library application are not reflected in the process security descriptor.</span></span> <span data-ttu-id="aa1c2-116">A única autorização que o aplicativo de biblioteca pode controlar está no nível de componente.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-116">The only authorization that the library application can control is at the component level.</span></span> <span data-ttu-id="aa1c2-117">Para obter mais informações sobre segurança em nível de componente, consulte [limites de segurança](security-boundaries.md).</span><span class="sxs-lookup"><span data-stu-id="aa1c2-117">For more information about component-level security, see [Security Boundaries](security-boundaries.md).</span></span>

<span data-ttu-id="aa1c2-118">Para ver como definir a segurança em nível de componente, consulte [definindo um nível de segurança para verificações de acesso](setting-a-security-level-for-access-checks.md).</span><span class="sxs-lookup"><span data-stu-id="aa1c2-118">To see how to set component-level security, see [Setting a Security Level for Access Checks](setting-a-security-level-for-access-checks.md).</span></span>

## <a name="configuration-scenarios"></a><span data-ttu-id="aa1c2-119">Cenários de configuração</span><span class="sxs-lookup"><span data-stu-id="aa1c2-119">Configuration Scenarios</span></span>

<span data-ttu-id="aa1c2-120">Para entender melhor as implicações de decidir se o aplicativo de biblioteca deve usar a segurança baseada em função e se o aplicativo de biblioteca deve ser autenticado, considere os seguintes cenários:</span><span class="sxs-lookup"><span data-stu-id="aa1c2-120">To better understand the implications of deciding whether the library application should use role-based security and whether the library application should be unauthenticated, consider the following scenarios:</span></span>

-   <span data-ttu-id="aa1c2-121">**A autenticação está habilitada e a segurança baseada em função é usada.**</span><span class="sxs-lookup"><span data-stu-id="aa1c2-121">**Authentication is enabled, and role-based security is used.**</span></span> <span data-ttu-id="aa1c2-122">Nesse cenário, as verificações de segurança são feitas pelo processo de hospedagem e alguns chamadores têm acesso negado no nível do processo.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-122">In this scenario, security checks are made by the hosting process and some callers are denied access at the process level.</span></span> <span data-ttu-id="aa1c2-123">Além disso, a verificação de função é feita no nível do aplicativo de biblioteca para que alguns chamadores que o fizerem por meio da verificação de segurança em nível de processo tenham acesso negado ao aplicativo de biblioteca quando a associação de função estiver marcada.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-123">Also, role checking is done at the library application level so that some callers who make it through the process-level security check are denied access to the library application when role membership is checked.</span></span> <span data-ttu-id="aa1c2-124">Este é o cenário comum para um aplicativo de biblioteca COM+ que usa a segurança baseada em função.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-124">This is the usual scenario for a COM+ library application that uses role-based security.</span></span>

    <span data-ttu-id="aa1c2-125">A ilustração a seguir mostra o cenário em que a autenticação está habilitada e a verificação de função é usada.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-125">The following illustration shows the scenario where authentication is enabled and role checking is used.</span></span>

    ![Diagrama que mostra a autenticação que ocorre em um processo de host.](images/18004ed7-e95e-4c66-9e17-f163cdeefd71.png)

-   <span data-ttu-id="aa1c2-127">**A autenticação está habilitada e a segurança baseada em função não é usada.**</span><span class="sxs-lookup"><span data-stu-id="aa1c2-127">**Authentication is enabled, and role-based security is not used.**</span></span> <span data-ttu-id="aa1c2-128">Nesse cenário, as verificações de segurança são feitas no nível do processo, mas a associação de função não é verificada no nível do aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-128">In this scenario, security checks are done at the process level but role membership is not checked at the library application level.</span></span> <span data-ttu-id="aa1c2-129">Portanto, qualquer chamador do aplicativo de biblioteca que o fizer pela verificação de segurança em nível de processo receberá acesso ao aplicativo de biblioteca porque a associação de função não está sendo verificada.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-129">Therefore, any caller of the library application that makes it through the process-level security check will be given access to the library application because role membership is not being checked.</span></span> <span data-ttu-id="aa1c2-130">Essa situação existe quando um aplicativo COM que não usa a segurança baseada em função é migrado para um aplicativo de biblioteca COM+.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-130">This situation would exist when a COM application that doesn't use role-based security is migrated to a COM+ library application.</span></span>

    <span data-ttu-id="aa1c2-131">A ilustração a seguir mostra o cenário em que a autenticação está habilitada e a verificação de função não está sendo usada.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-131">The following illustration shows the scenario where authentication is enabled and role checking is not being used.</span></span>

    ![Diagrama que mostra a autenticação de nível de processo para um aplicativo de biblioteca dentro do processo de host.](images/3e5a64c6-39a9-4ff7-b084-8396fe779210.png)

-   <span data-ttu-id="aa1c2-133">**A autenticação está desabilitada e a segurança baseada em função é usada.**</span><span class="sxs-lookup"><span data-stu-id="aa1c2-133">**Authentication is disabled, and role-based security is used.**</span></span> <span data-ttu-id="aa1c2-134">Nesse cenário, as verificações de segurança estão sendo feitas no nível do processo, mas os chamadores para o aplicativo de biblioteca não são autenticados.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-134">In this scenario, security checks are being done at the process level but callers to the library application are unauthenticated.</span></span> <span data-ttu-id="aa1c2-135">Na verdade, os chamadores do aplicativo de biblioteca são isentos da verificação de segurança em nível de processo.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-135">In effect, callers of the library application are exempt from the process-level security check.</span></span> <span data-ttu-id="aa1c2-136">Como a verificação de função está habilitada, a associação de função sozinho determina quem recebe acesso ao aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-136">Because role checking is enabled, role membership alone determines who is given access to the library application.</span></span> <span data-ttu-id="aa1c2-137">Esse cenário pode ser apropriado quando a verificação de segurança que seria feita pelo processo de hospedagem é muito restritiva, mas você precisa ter alguma restrição de acesso no aplicativo de biblioteca ou em interfaces ou métodos específicos.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-137">This scenario might be appropriate when the security check that would be done by the hosting process is too restrictive but you need to have some access restriction on the library application or on specific interfaces or methods.</span></span> <span data-ttu-id="aa1c2-138">Esse cenário permite que você desative efetivamente a segurança do processo e ainda tenha verificações de acesso de nível apropriadas usando a segurança baseada em funções.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-138">This scenario enables you to effectively turn off process security and still have an appropriate level access checks using role-based security.</span></span>

    <span data-ttu-id="aa1c2-139">O cenário em que a autenticação está desabilitada e a verificação de função está sendo usada é mostrada na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-139">The scenario where authentication is disabled and role checking is being used is shown in the following illustration.</span></span>

    ![Diagrama que mostra ' verificar associação de função ' em um aplicativo de biblioteca em um processo de host.](images/e0cc604c-ba86-4087-9a74-1b6fdce8d69a.png)

-   <span data-ttu-id="aa1c2-141">**A autenticação está desabilitada e a segurança baseada em função não é usada.**</span><span class="sxs-lookup"><span data-stu-id="aa1c2-141">**Authentication is disabled, and role-based security is not used.**</span></span> <span data-ttu-id="aa1c2-142">Nesse cenário, as verificações de segurança ainda são feitas no nível do processo, mas, como no cenário anterior, os chamadores do aplicativo de biblioteca sempre passam essa verificação de segurança.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-142">In this scenario, security checks are still done at the process level but, as in the preceding scenario, callers of the library application always pass this security check.</span></span> <span data-ttu-id="aa1c2-143">Como a verificação de função também está desabilitada, a associação de função não é verificada no nível do aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-143">Because role checking is also disabled, role membership is not checked at the library application level.</span></span> <span data-ttu-id="aa1c2-144">Essencialmente, qualquer pessoa pode chamar o aplicativo de biblioteca.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-144">Essentially, anyone can call the library application.</span></span> <span data-ttu-id="aa1c2-145">Esse cenário deve ser escolhido quando o objeto COM precisa receber retornos de chamada não autenticados, como pode ser o caso com um controle ActiveX hospedado pelo Internet Explorer e com um snap-in do console de gerenciamento Microsoft.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-145">This scenario should be chosen when your COM object needs to receive unauthenticated callbacks, as might be the case with an ActiveX control hosted by Internet Explorer and with a Microsoft Management Console snap-in.</span></span> <span data-ttu-id="aa1c2-146">É claro que esse objeto COM deve ser confiável para se comportar adequadamente ao receber chamadas não autenticadas.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-146">Of course, this COM object must be trusted to behave appropriately when receiving unauthenticated calls.</span></span> <span data-ttu-id="aa1c2-147">Por exemplo, ele não deve acessar arquivos arbitrários em nome de seus chamadores.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-147">For example, it should not access arbitrary files on behalf of its callers.</span></span>

    <span data-ttu-id="aa1c2-148">O cenário em que a autenticação está desabilitada e a verificação de função não está sendo usada é mostrada na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-148">The scenario where authentication is disabled and role checking is not being used is shown in the following illustration.</span></span>

    ![Diagrama que mostra chamadas para um aplicativo de biblioteca que não está autenticado no processo de host.](images/df3c9a02-52dd-4e07-a5f1-76cef0dab5cb.png)

<span data-ttu-id="aa1c2-150">Depois de decidir se deseja habilitar ou desabilitar a autenticação para seu aplicativo de biblioteca COM+, consulte [habilitando a autenticação para um aplicativo de biblioteca](enabling-authentication-for-a-library-application.md) para um procedimento passo a passo que explica como desabilitar (ou habilitar) a autenticação usando a ferramenta administrativa serviços de componentes.</span><span class="sxs-lookup"><span data-stu-id="aa1c2-150">After you have decided whether to enable or disable authentication for your COM+ library application, see [Enabling Authentication for a Library Application](enabling-authentication-for-a-library-application.md) for a step-by-step procedure that explains how to disable (or enable) authentication using the Component Services administrative tool.</span></span> <span data-ttu-id="aa1c2-151">Se o aplicativo de biblioteca usar a segurança baseada em função, consulte [Configurando Role-Based segurança](configuring-role-based-security.md).</span><span class="sxs-lookup"><span data-stu-id="aa1c2-151">If your library application will use role-based security, see [Configuring Role-Based Security](configuring-role-based-security.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="aa1c2-152">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="aa1c2-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="aa1c2-153">Segurança de aplicativos de biblioteca</span><span class="sxs-lookup"><span data-stu-id="aa1c2-153">Library Application Security</span></span>](library-application-security.md)
</dt> </dl>

 

 



