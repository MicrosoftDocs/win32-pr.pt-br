---
title: Considerações de design de servidor de estado
description: Dependendo do seu design, você pode precisar de um servidor para controlar os usuários que estão conectados à rede no momento.
ms.assetid: 2f8d268b-5518-4ad2-aed6-5971c913db6d
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7a0ef654f3641138075acc667d733b20c94c4840
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104364238"
---
# <a name="state-server-design-considerations"></a><span data-ttu-id="1a7c3-103">Considerações de design de servidor de estado</span><span class="sxs-lookup"><span data-stu-id="1a7c3-103">State Server Design Considerations</span></span>

> [!Note]  
> <span data-ttu-id="1a7c3-104">O IAS (serviço de autenticação da Internet) foi renomeado como NPS (servidor de políticas de rede) a partir do Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-104">Internet Authentication Service (IAS) was renamed Network Policy Server (NPS) starting with Windows Server 2008.</span></span> <span data-ttu-id="1a7c3-105">O conteúdo deste tópico aplica-se ao IAS e ao NPS.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-105">The content of this topic applies to both IAS and NPS.</span></span> <span data-ttu-id="1a7c3-106">Em todo o texto, o NPS é usado para fazer referência a todas as versões do serviço, incluindo as versões originalmente chamadas de IAS.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-106">Throughout the text, NPS is used to refer to all versions of the service, including the versions originally referred to as IAS.</span></span>

 

<span data-ttu-id="1a7c3-107">Dependendo do seu design, você pode precisar de um servidor para controlar os usuários que estão conectados à rede no momento.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-107">Depending on your design, you may need a server to track the users that are currently logged onto the network.</span></span> <span data-ttu-id="1a7c3-108">O principal desafio com o servidor de estado é manter as informações no banco de dados do servidor de estado em sincronia com quem está realmente conectado.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-108">The main challenge with the state server is keeping the information in the state server database in-sync with who is actually logged on.</span></span> <span data-ttu-id="1a7c3-109">Se as informações no servidor de estado estiverem fora de sincronia, os usuários poderão ter sucesso em ter várias sessões quando não estiverem autorizados a fazer isso.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-109">If the information in the state server is out of sync, users may succeed in having multiple sessions when they aren't authorized to do so.</span></span> <span data-ttu-id="1a7c3-110">Além disso, os usuários que não têm várias sessões podem ser penalizados inadvertidamente.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-110">Also, users who do not have multiple sessions could be inadvertently penalized.</span></span>

<span data-ttu-id="1a7c3-111">O seguinte deve ser levado em consideração na implementação do servidor de Estado:</span><span class="sxs-lookup"><span data-stu-id="1a7c3-111">The following should be taken into consideration in implementing the state server:</span></span>

-   <span data-ttu-id="1a7c3-112">O servidor de Estado deve tomar a decisão online em alguns segundos.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-112">The state server must make the decision online in a few seconds.</span></span> <span data-ttu-id="1a7c3-113">Por esse motivo, o servidor de Estado requer uma infraestrutura escalonável que possa dar suporte a muitas atualizações e consultas por segundo.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-113">For this reason the state server requires a scaleable infrastructure that can support many updates and queries per second.</span></span> <span data-ttu-id="1a7c3-114">Os bancos de dados relacionais não são apropriados para consultas grandes com atualizações simultâneas.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-114">Relational databases are not appropriate for such large queries with simultaneous updates.</span></span> <span data-ttu-id="1a7c3-115">Os bancos de dados relacionais são criados principalmente para manter o dado consistente e fornecer uma exibição consistente dos dados a todos os consumidores.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-115">Relational databases are primarily built to keep data consistent and to provide a consistent view of the data to all consumers.</span></span> <span data-ttu-id="1a7c3-116">Eles não são criados para atualizações rápidas.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-116">They are not built for quick updates.</span></span>
-   <span data-ttu-id="1a7c3-117">A consistência transacional em atualizações entre vários objetos não é importante.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-117">Transactional consistency on updates between multiple objects is not important.</span></span> <span data-ttu-id="1a7c3-118">Isso ocorre porque o servidor de estado pode tolerar uma pequena janela de oportunidade.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-118">This is because the state server can tolerate a small window of opportunity.</span></span> <span data-ttu-id="1a7c3-119">No entanto, a consistência transacional de uma única atualização é importante para reduzir as chances de deixar o servidor de estado em um estado inconsistente se um dos servidores RADIUS for desligado no meio da atualização.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-119">However, transactional consistency of a single update is important to reduce the chances of leaving the state server in an inconsistent state if one of the RADIUS servers is shut down in the middle of the update.</span></span>
-   <span data-ttu-id="1a7c3-120">A persistência (salvar o estado da rede para o armazenamento persistente) não é importante porque as informações persistentes ficarão rapidamente fora de sincronia com o estado real da rede.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-120">Persistence (saving the state of the network to persistent storage) is not important because the persistent information will quickly fall out of sync with the actual state of the network.</span></span>
-   <span data-ttu-id="1a7c3-121">Se houver suporte para ISDN ou outras formas de multilink na rede, o servidor de estado deverá ser capaz de lidar com cenários que usam esses recursos.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-121">If ISDN or other forms of multilink are supported on the network, the state server should be able to handle scenarios that use these features.</span></span>

<span data-ttu-id="1a7c3-122">Um design possível é implementar uma DLL de extensão de autenticação e uma DLL de extensão de autorização.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-122">One possible design is to implement both an Authentication Extension DLL and an Authorization Extension DLL.</span></span> <span data-ttu-id="1a7c3-123">Cada uma dessas DLLs pode se comunicar pela rede com um banco de dados.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-123">Each of these DLLs can communicate over the network with a database.</span></span> <span data-ttu-id="1a7c3-124">A DLL de extensão de autorização pode atualizar o banco de dados com informações sobre quem está conectado à rede no momento.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-124">The Authorization Extension DLL can update the database with information about who is currently logged onto the network.</span></span> <span data-ttu-id="1a7c3-125">A DLL de extensão de autenticação pode consultar o banco de dados para que essas informações decidam se deseja aceitar ou rejeitar a solicitação de autenticação de um usuário específico; Se o usuário já estiver conectado, a solicitação será rejeitada.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-125">The Authentication Extension DLL can query the database for this information to decide whether to accept or reject a particular user's authentication request; if the user is already logged on, the request is rejected.</span></span>

<span data-ttu-id="1a7c3-126">A vantagem de ter a DLL de extensão de autorização atualizar o banco de dados de servidor de estado é que a DLL de extensão de autorização tem acesso a mais informações sobre o usuário autenticado.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-126">The advantage of having the Authorization Extension DLL update the state-server database is that the Authorization Extension DLL has access to more information about the authenticated user.</span></span> <span data-ttu-id="1a7c3-127">A DLL de extensão de autorização tem acesso a todos os atributos de autorização do mecanismo de autorização do NPS.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-127">The Authorization Extension DLL has access to all of the authorization attributes from the NPS Authorization mechanism.</span></span> <span data-ttu-id="1a7c3-128">Por exemplo, alguns usuários podem ter autorizações que permitam ter várias sessões.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-128">For example, some users may have authorizations that allow them to have multiple sessions.</span></span> <span data-ttu-id="1a7c3-129">O servidor de Estado deve tratar tais usuários como um caso especial.</span><span class="sxs-lookup"><span data-stu-id="1a7c3-129">The state server should treat such users as a special case.</span></span>

 

 




