---
title: Sequência de chamadas da API suplicante
description: Saiba mais sobre a sequência de chamadas da API suplicante. Consulte uma visão geral da sequência de chamadas e exiba recursos adicionais disponíveis.
ms.assetid: 83276783-aee5-43ac-982d-1144df982a7d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49c93afea6dbf4c3220bbeaec4f6278eb3d0b756
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103917694"
---
# <a name="supplicant-api-call-sequence"></a><span data-ttu-id="ff6dd-104">Sequência de chamadas da API suplicante</span><span class="sxs-lookup"><span data-stu-id="ff6dd-104">Supplicant API Call Sequence</span></span>

<span data-ttu-id="ff6dd-105">Este tópico fornece a sequência de chamada específica para a API suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-105">This topic provides the specific call sequence for the supplicant API.</span></span>

## <a name="supplicant-api-call-sequence-overview"></a><span data-ttu-id="ff6dd-106">Visão geral da sequência de chamadas da API suplicante</span><span class="sxs-lookup"><span data-stu-id="ff6dd-106">Supplicant API Call Sequence Overview</span></span>

<span data-ttu-id="ff6dd-107">Quando o suplicante recebe um pacote EAP de um provedor, como um ponto de acesso, normalmente ocorre o seguinte fluxo de chamada à API suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-107">When the supplicant receives an EAP packet from a provider, such as an access point, the following supplicant API call flow typically occurs.</span></span>

-   <span data-ttu-id="ff6dd-108">O aplicativo chama [**EapHostPeerBeginSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) com dados de configuração e dados de usuário do EAPHost.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-108">The application calls [**EapHostPeerBeginSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerbeginsession) with EAPHost configuration data and user data.</span></span> <span data-ttu-id="ff6dd-109">Uma chamada bem-sucedida retorna um identificador de sessão de **\_ \_ identificador de sessão EAP** .</span><span class="sxs-lookup"><span data-stu-id="ff6dd-109">A successful call returns an **EAP\_SESSION\_HANDLE** session handle.</span></span>
-   <span data-ttu-id="ff6dd-110">Cada pacote recebido pelo suplicante é processado por uma chamada para [**EapHostPeerProcessReceivedPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerprocessreceivedpacket).</span><span class="sxs-lookup"><span data-stu-id="ff6dd-110">Each packet received by the supplicant is processed by a call to [**EapHostPeerProcessReceivedPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerprocessreceivedpacket).</span></span> <span data-ttu-id="ff6dd-111">Em seguida, o suplicante chama a função correspondente ao código de ação retornado pela função.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-111">The supplicant then calls the function corresponding to the action code returned by the function.</span></span>
-   <span data-ttu-id="ff6dd-112">Se o código de ação for **EapHostPeerResponseSend**, o suplicante chamará [**EapHostPeerGetSendPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetsendpacket) para obter a resposta a ser enviada ao autenticador.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-112">If the action code is **EapHostPeerResponseSend**, then the supplicant calls [**EapHostPeerGetSendPacket**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetsendpacket) to obtain the response to be sent to the authenticator.</span></span>
-   <span data-ttu-id="ff6dd-113">Se, durante a sessão, o código de ação retornado ao suplicante for **EapHostPeerResponseRespond**, ele indicará que os atributos EAP estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-113">If during the session, the action code returned to the supplicant is **EapHostPeerResponseRespond**, it indicates that EAP attributes are available.</span></span> <span data-ttu-id="ff6dd-114">O suplicante então chama [**EapHostPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresponseattributes) para obtê-los.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-114">The supplicant then calls [**EapHostPeerGetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresponseattributes) to obtain them.</span></span> <span data-ttu-id="ff6dd-115">Esses atributos contêm dados complementares usados durante o processo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-115">These attributes contain supplemental data used during the authentication process.</span></span> <span data-ttu-id="ff6dd-116">Depois que o suplicante concluir o processamento dos atributos, ele chama [**EapHostPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetresponseattributes) que atualiza os dados.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-116">After supplicant completes processing the attributes it calls [**EapHostPeerSetResponseAttributes**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetresponseattributes) which updates the data.</span></span> <span data-ttu-id="ff6dd-117">Essa função retorna um código de ação que determina a próxima ação do suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-117">This function returns an action code which determines the supplicant's next action.</span></span>
-   <span data-ttu-id="ff6dd-118">Se o código de ação for **EapHostPeerResponseInvokeUI** , o suplicante gerará uma caixa de diálogo de interface do usuário para obter dados interativos do usuário, como credenciais ou informações de identidade.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-118">If the action code is **EapHostPeerResponseInvokeUI** the supplicant raises a user interface dialog to obtain interactive data from the user, such as credentials or identity information.</span></span> <span data-ttu-id="ff6dd-119">Confira interação do usuário com o fluxo de chamadas à API suplicante abaixo.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-119">See User Interaction with the Supplicant API Call Flow below.</span></span>
-   <span data-ttu-id="ff6dd-120">Se o código de ação for **EapHostPeerResponseResult**, isso indica que os resultados da sessão de autenticação estão disponíveis para o suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-120">If the action code is **EapHostPeerResponseResult**, it indicates that the results of the authentication session are available to the supplicant.</span></span> <span data-ttu-id="ff6dd-121">O suplicante então chama [**EapHostPeerGetResult**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresult) para obter os resultados.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-121">The supplicant then calls [**EapHostPeerGetResult**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetresult) to obtain the results.</span></span> <span data-ttu-id="ff6dd-122">Independentemente de os resultados indicarem êxito ou falha, o suplicante chama [**EapHostPeerEndSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerendsession).</span><span class="sxs-lookup"><span data-stu-id="ff6dd-122">Regardless of whether the results indicate success or failure, the supplicant calls [**EapHostPeerEndSession**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeerendsession).</span></span> <span data-ttu-id="ff6dd-123">No caso de falha, a nova autenticação pode ser tentada abrindo outra sessão com o EAPHost e fornecendo uma nova identidade ou tentando a autenticação com a identidade original novamente.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-123">In the case of failure, re-authentication can be attempted by opening another session with EAPHost and providing a new identity, or attempting authentication with the original identity again.</span></span>

## <a name="user-interaction-with-the-supplicant-api-call-flow"></a><span data-ttu-id="ff6dd-124">Interação do usuário com o fluxo de chamadas da API suplicante</span><span class="sxs-lookup"><span data-stu-id="ff6dd-124">User Interaction with the Supplicant API Call Flow</span></span>

<span data-ttu-id="ff6dd-125">Em determinados casos, o suplicante precisa obter informações do usuário para continuar o processo de autenticação.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-125">In certain cases, the supplicant needs to obtain information from the user to continue the authentication process.</span></span>

<span data-ttu-id="ff6dd-126">A lista a seguir demonstra a sequência de chamadas no suplicante e o processo de interface do usuário do EAPHost necessários para habilitar a entrada interativa.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-126">The following list demonstrates the sequence of calls on the supplicant and EAPHost UI process necessary to enable interactive input.</span></span>

1.  <span data-ttu-id="ff6dd-127">O suplicante Obtém o contexto da interface do usuário atual chamando [**EapHostPeerGetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext).</span><span class="sxs-lookup"><span data-stu-id="ff6dd-127">The supplicant obtains the current user interface context by calling [**EapHostPeerGetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeergetuicontext).</span></span>
2.  <span data-ttu-id="ff6dd-128">O suplicante envia os dados de contexto da interface do usuário para o processo de interface do usuário do suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-128">The supplicant then sends the UI context data to the supplicant UI process.</span></span>
    > [!Note]  
    > <span data-ttu-id="ff6dd-129">O processo de interface do usuário, que normalmente coleta a interface do usuário ou manipula a interface do usuário interativa, é separado do processo suplicante.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-129">The UI process, which typically collects UI or handles interactive UI, is separate from the supplicant process.</span></span> <span data-ttu-id="ff6dd-130">Separar os dois processos não é um requisito do EAPHost, mas isso tem a vantagem de permitir que o processo da interface do usuário interaja com a área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-130">Separating the two processes is not a requirement of EAPHost, but doing so has the advantage of allowing the UI process to interact with the desktop.</span></span>

     

3.  <span data-ttu-id="ff6dd-131">Se o suplicante quiser renderizar a interface do usuário por si só, ele chamará a função [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) para obter os campos de entrada para que os componentes interativos da interface do usuário sejam gerados.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-131">If the supplicant wants to render the UI by itself then it calls the [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) function to obtain the input fields for interactive UI components to be raised.</span></span> <span data-ttu-id="ff6dd-132">Caso contrário, ele segue o modelo tradicional de invocar a interface de usuário interativa do método chamando [ **EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)</span><span class="sxs-lookup"><span data-stu-id="ff6dd-132">Otherwise, it follows the traditional model of invoking method interactive UI by calling [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui)</span></span>
    > [!Note]  
    > <span data-ttu-id="ff6dd-133">Se [**a \_ operação do método EAP E \_ EAPHost \_ \_ \_ sem \_ suporte**](eap-related-error-and-information-constants.md) for retornada, o suplicante deverá seguir o modelo tradicional de invocar a interface de usuário interativa do método chamando [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui).</span><span class="sxs-lookup"><span data-stu-id="ff6dd-133">If [**EAP\_E\_EAPHOST\_METHOD\_OPERATION\_NOT\_SUPPORTED**](eap-related-error-and-information-constants.md) is returned, the supplicant must follow the traditional model of invoking method interactive UI by calling [**EapHostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui).</span></span> <span data-ttu-id="ff6dd-134">Se houver um erro, [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) retornará um código de retorno diferente de **NULL**.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-134">If there is an error, [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) will return a return code other than **NULL**.</span></span>

     

4.  <span data-ttu-id="ff6dd-135">Se o suplicante chama [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) ou [**EaphostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) , o processo da interface do usuário passa os dados de contexto existentes e carrega Eappcfg.dll.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-135">Whether the supplicant calls [**EapHostPeerQueryInteractiveUIInputFields**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerqueryinteractiveuiinputfields) or [**EaphostPeerInvokeInteractiveUI**](/previous-versions/windows/desktop/api/eaphostpeerconfigapis/nf-eaphostpeerconfigapis-eaphostpeerinvokeinteractiveui) the UI process passes the existing context data and loads Eappcfg.dll.</span></span> <span data-ttu-id="ff6dd-136">A interface do usuário apropriada é gerada para coletar os novos dados.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-136">Appropriate UI is raised to collect the new data.</span></span> <span data-ttu-id="ff6dd-137">Os novos dados de contexto de interface do usuário, que agora podem conter entrada do usuário, são copiados e os dados de contexto antigos são liberados com uma chamada para [**EapPeerFreeMemory**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerfreememory).</span><span class="sxs-lookup"><span data-stu-id="ff6dd-137">The new UI context data, which may now contain user input, is copied, and the old context data is released with a call to [**EapPeerFreeMemory**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerfreememory).</span></span>
5.  <span data-ttu-id="ff6dd-138">O processo da interface do usuário retorna os novos dados de contexto para o suplicante, que chama [**EapHostPeerSetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext) para defini-lo.</span><span class="sxs-lookup"><span data-stu-id="ff6dd-138">The UI process returns the new context data to the supplicant, which calls [**EapHostPeerSetUIContext**](/previous-versions/windows/desktop/api/eappapis/nf-eappapis-eaphostpeersetuicontext) to set it.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ff6dd-139">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ff6dd-139">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ff6dd-140">Sequência de chamada da API do método par</span><span class="sxs-lookup"><span data-stu-id="ff6dd-140">Peer Method API Call Sequence</span></span>](peer-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="ff6dd-141">Sequência de chamada da API do método Authenticator</span><span class="sxs-lookup"><span data-stu-id="ff6dd-141">Authenticator Method API Call Sequence</span></span>](authenticator-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="ff6dd-142">Sequência de chamadas EAPHost</span><span class="sxs-lookup"><span data-stu-id="ff6dd-142">EAPHost Call Sequence</span></span>](about-eaphost-call-sequences.md)
</dt> <dt>

[<span data-ttu-id="ff6dd-143">Suplicantes do EAPHost</span><span class="sxs-lookup"><span data-stu-id="ff6dd-143">EAPHost Supplicants</span></span>](eaphost-supplicants.md)
</dt> </dl>

 

 




