---
title: Sequência de chamada da API do método Authenticator
description: Saiba mais sobre a sequência de chamadas da API do método autenticador. Consulte uma lista que demonstra a sequência de chamadas feitas por um EAPHost em um método de autenticador EAP.
ms.assetid: 4756300c-5e49-44e8-ab49-1993d780d2a3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3bb5c7d64bfe6e38ebb97550dc76fe8ffcae8176
ms.sourcegitcommit: b0ebdefc3dcd5c04bede94091833aa1015a2f95c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104366716"
---
# <a name="authenticator-method-api-call-sequence"></a><span data-ttu-id="413e6-104">Sequência de chamada da API do método Authenticator</span><span class="sxs-lookup"><span data-stu-id="413e6-104">Authenticator Method API Call Sequence</span></span>

<span data-ttu-id="413e6-105">Este tópico fornece a sequência de chamada específica para a API do método autenticador.</span><span class="sxs-lookup"><span data-stu-id="413e6-105">This topic provides the specific call sequence for the authenticator method API.</span></span> <span data-ttu-id="413e6-106">Durante uma sessão de autenticação EAP típica, o EAPHost faz várias chamadas em um método EAP que implementam as APIs do método de autenticador EAPHost.</span><span class="sxs-lookup"><span data-stu-id="413e6-106">During a typical EAP authentication session EAPHost makes a number of calls on an EAP method that implement the EAPHost authenticator method APIs.</span></span>

<span data-ttu-id="413e6-107">A lista a seguir demonstra a sequência de chamadas feitas pelo EAPHost em um método de autenticador EAP.</span><span class="sxs-lookup"><span data-stu-id="413e6-107">The following list demonstrates the sequence of calls made by EAPHost on an EAP authenticator method.</span></span>

-   <span data-ttu-id="413e6-108">O autenticador EAP primeiro carrega a DLL do método EAP usado para a autenticação específica em um servidor de diretivas de rede (NPS) ou em outro servidor de autenticação.</span><span class="sxs-lookup"><span data-stu-id="413e6-108">The EAP authenticator first loads the EAP method DLL used for the specific authentication on a network policy server (NPS) or other authentication server.</span></span>
-   <span data-ttu-id="413e6-109">Chama [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) no método com uma estrutura de [**\_ tipo EAP**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) preenchida para obter uma lista de ponteiros para funções implementadas na dll.</span><span class="sxs-lookup"><span data-stu-id="413e6-109">Calls [**EapAuthenticatorGetInfo**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeergetinfo) on the method with a populated [**EAP\_TYPE**](/windows/desktop/api/eaptypes/ns-eaptypes-eap_type) structure to obtain a list of pointers to functions implemented on the DLL.</span></span> <span data-ttu-id="413e6-110">As chamadas de função subsequentes pelos métodos de autenticador (servidor) são presumidas para serem implementadas na DLL.</span><span class="sxs-lookup"><span data-stu-id="413e6-110">Subsequent function calls by the authenticator methods (server) are assumed to be implemented on the DLL.</span></span>
-   <span data-ttu-id="413e6-111">Chama [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) para instruir a biblioteca de métodos EAP a se preparar para pelo menos uma sessão de autenticação usando esse método autenticador.</span><span class="sxs-lookup"><span data-stu-id="413e6-111">Calls [**EapAuthenticatorInitialize**](/previous-versions/windows/desktop/api/eapmethodpeerapis/nf-eapmethodpeerapis-eappeerinitialize) to instruct the EAP method library to prepare for at least one authentication session using this authenticator method.</span></span>
-   <span data-ttu-id="413e6-112">Chama [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) para estabelecer uma sessão de autenticação exclusiva.</span><span class="sxs-lookup"><span data-stu-id="413e6-112">Calls [**EapMethodAuthenticatorBeginSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorbeginsession) to establish a unique authentication session.</span></span>
-   <span data-ttu-id="413e6-113">Repete as etapas a seguir até que [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indique que um resultado de autenticação está disponível.</span><span class="sxs-lookup"><span data-stu-id="413e6-113">Repeats the following steps until [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) indicates that an authentication result is available.</span></span>
    -   <span data-ttu-id="413e6-114">Chama [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) com um ponteiro para um pacote de solicitação para passar para o suplicante.</span><span class="sxs-lookup"><span data-stu-id="413e6-114">Calls [**EapMethodAuthenticatorSendPacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsendpacket) with a pointer to a request packet to pass to the supplicant.</span></span>
    -   <span data-ttu-id="413e6-115">Chama [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) para recuperar o pacote de resposta enviado pelo suplicante.</span><span class="sxs-lookup"><span data-stu-id="413e6-115">Calls [**EapMethodAuthenticatorReceivePacket**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorreceivepacket) to retrieve the response packet sent by the supplicant.</span></span> <span data-ttu-id="413e6-116">Essa função retorna um código de **\_ ação de \_ \_ resposta \_ do autenticador de método EAP** que indica a próxima ação que o autenticador deve executar na sessão de autenticação EAP.</span><span class="sxs-lookup"><span data-stu-id="413e6-116">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code that indicates the next action the authenticator must take in the EAP authentication session.</span></span>
    -   <span data-ttu-id="413e6-117">Se o código de ação [for \_ resposta do autenticador do método EAP \_ \_ \_ responder](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), ele indicará que o método EAP tem os atributos disponíveis para o autenticador recuperar e passar para o método par.</span><span class="sxs-lookup"><span data-stu-id="413e6-117">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESPOND](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the EAP method has attributes available for the authenticator to retrieve and pass to the peer method.</span></span> <span data-ttu-id="413e6-118">O autenticador chama [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) para obter os vários atributos de autenticação EAP do método de autenticador EAP.</span><span class="sxs-lookup"><span data-stu-id="413e6-118">Authenticator calls [**EapMethodAuthenticatorGetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetattributes) to obtain the various EAP authentication attributes from the EAP authenticator method.</span></span> <span data-ttu-id="413e6-119">Depois que o autenticador processa os atributos, ele chama [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) , que fornece atributos de autenticação EAP atualizados para definir no método de autenticador EAP.</span><span class="sxs-lookup"><span data-stu-id="413e6-119">After the authenticator processes the attributes it calls [**EapMethodAuthenticatorSetAttributes**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorsetattributes) which provides updated EAP authentication attributes to set on the EAP authenticator method.</span></span> <span data-ttu-id="413e6-120">Essa função retorna um código de **\_ ação de \_ \_ resposta \_ do autenticador de método EAP** que determina a ação subsequente.</span><span class="sxs-lookup"><span data-stu-id="413e6-120">This function returns a **EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION** code which determines the subsequent action.</span></span>
-   <span data-ttu-id="413e6-121">Se o código de ação [for \_ \_ resultado da \_ resposta \_ do autenticador do método EAP](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), ele indicará que o autenticador determinou os resultados da sessão de autenticação e que esses resultados estão disponíveis para o EAPHost.</span><span class="sxs-lookup"><span data-stu-id="413e6-121">If the action code is [EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_RESULT](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action), it indicates that the authenticator has determined the results of the authentication session, and those results are available to EAPHost.</span></span> <span data-ttu-id="413e6-122">O autenticador chama [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) e obtém os resultados da sessão de autenticação.</span><span class="sxs-lookup"><span data-stu-id="413e6-122">Authenticator calls [**EapMethodAuthenticatorGetResult**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorgetresult) and obtains the results of the authentication session.</span></span>
-   <span data-ttu-id="413e6-123">Isso é seguido por uma chamada para [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) para encerrar a sessão de autenticação.</span><span class="sxs-lookup"><span data-stu-id="413e6-123">This is followed by a call to [**EapMethodAuthenticatorEndSession**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorendsession) to end the authentication session.</span></span>
-   <span data-ttu-id="413e6-124">Por fim, é feita uma chamada para [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) para descarregar a DLL do método autenticador.</span><span class="sxs-lookup"><span data-stu-id="413e6-124">Finally, a call is made to [**EapMethodAuthenticatorShutdown**](/previous-versions/windows/desktop/api/eapmethodauthenticatorapis/nf-eapmethodauthenticatorapis-eapmethodauthenticatorshutdown) to unload the authenticator method DLL.</span></span>
-   <span data-ttu-id="413e6-125">Descarrega a biblioteca de métodos EAP.</span><span class="sxs-lookup"><span data-stu-id="413e6-125">Unloads the EAP method library.</span></span>

## <a name="related-topics"></a><span data-ttu-id="413e6-126">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="413e6-126">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="413e6-127">**\_ação de \_ resposta do autenticador do método EAP \_ \_**</span><span class="sxs-lookup"><span data-stu-id="413e6-127">**EAP\_METHOD\_AUTHENTICATOR\_RESPONSE\_ACTION**</span></span>](/windows/desktop/api/EapAuthenticatorActionDefine/ne-eapauthenticatoractiondefine-eap_method_authenticator_response_action)
</dt> <dt>

[<span data-ttu-id="413e6-128">Sequência de chamadas da API suplicante</span><span class="sxs-lookup"><span data-stu-id="413e6-128">Supplicant API Call Sequence</span></span>](supplicant-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="413e6-129">Sequência de chamada da API do método par</span><span class="sxs-lookup"><span data-stu-id="413e6-129">Peer Method API Call Sequence</span></span>](peer-method-api-call-sequence.md)
</dt> <dt>

[<span data-ttu-id="413e6-130">Sequências de chamada EAPHost</span><span class="sxs-lookup"><span data-stu-id="413e6-130">EAPHost Call Sequences</span></span>](about-eaphost-call-sequences.md)
</dt> </dl>

 

 




