---
description: O centro de distribuição de chaves (KDC) é implementado como um serviço de domínio. Ele usa o Active Directory como seu banco de dados de conta e o catálogo global para direcionar referências para KDCs em outros domínios.
ms.assetid: f2a7c87c-9be7-4fd8-8ecd-4edf1f2336ef
title: centro de distribuição de chaves
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8f473fc3b84fed05e157fa700e7549f025979a90
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104011142"
---
# <a name="key-distribution-center"></a><span data-ttu-id="92adb-104">centro de distribuição de chaves</span><span class="sxs-lookup"><span data-stu-id="92adb-104">Key Distribution Center</span></span>

<span data-ttu-id="92adb-105">O centro de distribuição de chaves (KDC) é implementado como um serviço de domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-105">The Key Distribution Center (KDC) is implemented as a domain service.</span></span> <span data-ttu-id="92adb-106">Ele usa o Active Directory como seu banco de dados de conta e o catálogo global para direcionar referências para KDCs em outros domínios.</span><span class="sxs-lookup"><span data-stu-id="92adb-106">It uses the Active Directory as its account database and the Global Catalog for directing referrals to KDCs in other domains.</span></span>

<span data-ttu-id="92adb-107">Como em outras implementações do [*protocolo Kerberos*](../secgloss/k-gly.md), o KDC é um único processo que fornece dois serviços:</span><span class="sxs-lookup"><span data-stu-id="92adb-107">As in other implementations of the [*Kerberos protocol*](../secgloss/k-gly.md), the KDC is a single process that provides two services:</span></span>

-   <span data-ttu-id="92adb-108">Serviço de autenticação (AS)</span><span class="sxs-lookup"><span data-stu-id="92adb-108">Authentication Service (AS)</span></span>

    <span data-ttu-id="92adb-109">Esse serviço emite tíquetes de concessão de tíquetes (TGTs) para conexão com o serviço de concessão de tíquetes em seu próprio domínio ou em qualquer domínio confiável.</span><span class="sxs-lookup"><span data-stu-id="92adb-109">This service issues ticket-granting tickets (TGTs) for connection to the ticket-granting service in its own domain or in any trusted domain.</span></span> <span data-ttu-id="92adb-110">Antes que um cliente possa solicitar um tíquete para outro computador, ele deve solicitar um TGT do serviço de autenticação no domínio da conta do cliente.</span><span class="sxs-lookup"><span data-stu-id="92adb-110">Before a client can ask for a ticket to another computer, it must request a TGT from the authentication service in the client's account domain.</span></span> <span data-ttu-id="92adb-111">O serviço de autenticação retorna um TGT para o serviço de concessão de tíquete no domínio do computador de destino.</span><span class="sxs-lookup"><span data-stu-id="92adb-111">The authentication service returns a TGT for the ticket-granting service in the target computer's domain.</span></span> <span data-ttu-id="92adb-112">O TGT pode ser reutilizado até expirar, mas o primeiro acesso a qualquer serviço de concessão de tíquetes de domínio sempre exige uma viagem para o serviço de autenticação no domínio da conta do cliente.</span><span class="sxs-lookup"><span data-stu-id="92adb-112">The TGT can be reused until it expires, but the first access to any domain's ticket-granting service always requires a trip to the authentication service in the client's account domain.</span></span>

-   <span data-ttu-id="92adb-113">Serviço de Ticket-Granting (TGS)</span><span class="sxs-lookup"><span data-stu-id="92adb-113">Ticket-Granting Service (TGS)</span></span>

    <span data-ttu-id="92adb-114">Esse serviço emite tíquetes para conexão com computadores em seu próprio domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-114">This service issues tickets for connection to computers in its own domain.</span></span> <span data-ttu-id="92adb-115">Quando os clientes querem acesso a um computador, eles entram em contato com o serviço de concessão de tíquete no domínio do computador de destino, apresentam um TGT e solicitam um tíquete ao computador.</span><span class="sxs-lookup"><span data-stu-id="92adb-115">When clients want access to a computer, they contact the ticket-granting service in the target computer's domain, present a TGT, and ask for a ticket to the computer.</span></span> <span data-ttu-id="92adb-116">O tíquete pode ser reutilizado até que expire, mas o primeiro acesso a qualquer computador sempre requer uma viagem para o serviço de concessão de tíquete no domínio da conta do computador de destino.</span><span class="sxs-lookup"><span data-stu-id="92adb-116">The ticket can be reused until it expires, but the first access to any computer always requires a trip to the ticket-granting service in the target computer's account domain.</span></span>

<span data-ttu-id="92adb-117">O KDC de um domínio está localizado em um controlador de domínio, assim como o Active Directory para o domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-117">The KDC for a domain is located on a domain controller, as is the Active Directory for the domain.</span></span> <span data-ttu-id="92adb-118">Ambos os serviços são iniciados automaticamente pela LSA ( [*autoridade de segurança local*](../secgloss/l-gly.md) ) do controlador de domínio e são executados como parte do processo da LSA.</span><span class="sxs-lookup"><span data-stu-id="92adb-118">Both services are started automatically by the domain controller's [*Local Security Authority*](../secgloss/l-gly.md) (LSA) and run as part of the LSA's process.</span></span> <span data-ttu-id="92adb-119">Nenhum serviço pode ser interrompido.</span><span class="sxs-lookup"><span data-stu-id="92adb-119">Neither service can be stopped.</span></span> <span data-ttu-id="92adb-120">Se o KDC estiver indisponível para clientes de rede, o Active Directory também estará indisponível — e o controlador de domínio não estará mais controlando o domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-120">If the KDC is unavailable to network clients, then the Active Directory is also unavailable—and the domain controller is no longer controlling the domain.</span></span> <span data-ttu-id="92adb-121">O sistema garante a disponibilidade desses e de outros serviços de domínio, permitindo que cada domínio tenha vários controladores de domínio, todos os pares.</span><span class="sxs-lookup"><span data-stu-id="92adb-121">The system ensures availability of these and other domain services by allowing each domain to have several domain controllers, all peers.</span></span> <span data-ttu-id="92adb-122">Qualquer controlador de domínio pode aceitar solicitações de autenticação e solicitações de concessão de tíquete endereçadas ao KDC do domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-122">Any domain controller can accept authentication requests and ticket-granting requests addressed to the domain's KDC.</span></span>

<span data-ttu-id="92adb-123">O nome [*principal de segurança*](../secgloss/s-gly.md) usado pelo KDC em qualquer domínio é "krbtgt", conforme especificado pela [RFC 4120](https://www.ietf.org/rfc/rfc4120.txt).</span><span class="sxs-lookup"><span data-stu-id="92adb-123">The [*security principal*](../secgloss/s-gly.md) name used by the KDC in any domain is "krbtgt", as specified by [RFC 4120](https://www.ietf.org/rfc/rfc4120.txt).</span></span> <span data-ttu-id="92adb-124">Uma conta para essa entidade de segurança é criada automaticamente quando um novo domínio é criado.</span><span class="sxs-lookup"><span data-stu-id="92adb-124">An account for this security principal is created automatically when a new domain is created.</span></span> <span data-ttu-id="92adb-125">A conta não pode ser excluída, nem o nome pode ser alterado.</span><span class="sxs-lookup"><span data-stu-id="92adb-125">The account cannot be deleted, nor can the name be changed.</span></span> <span data-ttu-id="92adb-126">Um valor de senha aleatória é atribuído à conta automaticamente pelo sistema durante a criação do domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-126">A random password value is assigned to the account automatically by the system during the creation of the domain.</span></span> <span data-ttu-id="92adb-127">A senha da conta do KDC é usada para derivar uma chave de criptografia para criptografar e descriptografar o TGTs que ele emite.</span><span class="sxs-lookup"><span data-stu-id="92adb-127">The password for the KDC's account is used to derive a cryptographic key for encrypting and decrypting the TGTs that it issues.</span></span> <span data-ttu-id="92adb-128">A senha para uma conta de confiança de domínio é usada para derivar uma chave entre territórios para a criptografia de tíquetes de referência.</span><span class="sxs-lookup"><span data-stu-id="92adb-128">The password for a domain trust account is used to derive an inter-realm key for encrypting referral tickets.</span></span>

<span data-ttu-id="92adb-129">Todas as instâncias do KDC em um domínio usam a conta de domínio para a entidade de segurança "krbtgt".</span><span class="sxs-lookup"><span data-stu-id="92adb-129">All instances of the KDC within a domain use the domain account for the security principal "krbtgt".</span></span> <span data-ttu-id="92adb-130">Os clientes endereçam mensagens para o KDC de um domínio, incluindo o nome principal do serviço, "krbtgt" e o nome do domínio.</span><span class="sxs-lookup"><span data-stu-id="92adb-130">Clients address messages to a domain's KDC by including both the service's principal name, "krbtgt", and the name of the domain.</span></span> <span data-ttu-id="92adb-131">Os dois itens de informações também são usados em tíquetes para identificar a autoridade emissora.</span><span class="sxs-lookup"><span data-stu-id="92adb-131">Both items of information are also used in tickets to identify the issuing authority.</span></span> <span data-ttu-id="92adb-132">Para obter informações sobre formas de nome e convenções de endereçamento, consulte [RFC 4120](https://www.ietf.org/rfc/rfc4120.txt).</span><span class="sxs-lookup"><span data-stu-id="92adb-132">For information about name forms and addressing conventions, see [RFC 4120](https://www.ietf.org/rfc/rfc4120.txt).</span></span>

 

 
