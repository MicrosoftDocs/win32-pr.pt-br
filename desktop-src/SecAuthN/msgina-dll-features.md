---
description: Se você estiver escrevendo uma GINA para substituir a DLL do Microsoft Standard GINA (MSGina.dll), talvez queira fornecer algumas ou todas as funcionalidades da GINA padrão.
ms.assetid: cd2ce7b7-6167-4451-9f6e-881676a2145c
title: Recursos de MSGina.dll
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51833ab92e47dad01c13df004797e3ab3552b09a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103829457"
---
# <a name="msginadll-features"></a><span data-ttu-id="ff408-103">Recursos de MSGina.dll</span><span class="sxs-lookup"><span data-stu-id="ff408-103">MSGina.dll Features</span></span>

<span data-ttu-id="ff408-104">Se você estiver escrevendo uma [*Gina*](../secgloss/g-gly.md) para substituir a DLL do Microsoft Standard GINA (MSGina.dll), talvez queira fornecer algumas ou todas as funcionalidades da Gina padrão.</span><span class="sxs-lookup"><span data-stu-id="ff408-104">If you are writing a [*GINA*](../secgloss/g-gly.md) to replace the Microsoft standard GINA DLL (MSGina.dll), you may want to provide some or all of the standard GINA functionality.</span></span> <span data-ttu-id="ff408-105">Veja a seguir uma lista de recursos padrão e uma breve descrição de como eles são controlados.</span><span class="sxs-lookup"><span data-stu-id="ff408-105">Following is a list of standard features and a brief description of how they are controlled.</span></span>

> [!Note]  
> <span data-ttu-id="ff408-106">As DLLs GINAs são ignoradas no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="ff408-106">GINA DLLs are ignored in Windows Vista.</span></span>

 

<span data-ttu-id="ff408-107">Os valores de chave do registro controlam a disponibilidade ou o comportamento de muitos desses recursos padrão da GINA.</span><span class="sxs-lookup"><span data-stu-id="ff408-107">Registry key values control the availability or behavior of many of these standard GINA features.</span></span> <span data-ttu-id="ff408-108">Salvo indicação em contrário, esses valores de chave pertencem à chave do registro do Winlogon e têm um tipo de valor \[ reg \_ sz \] .</span><span class="sxs-lookup"><span data-stu-id="ff408-108">Unless otherwise noted, these key values belong to the Winlogon registry key and have a value type of \[REG\_SZ\].</span></span> <span data-ttu-id="ff408-109">O caminho real da chave do [*Winlogon*](../secgloss/w-gly.md) é:</span><span class="sxs-lookup"><span data-stu-id="ff408-109">The actual path of the [*Winlogon*](../secgloss/w-gly.md) key is:</span></span>

<span data-ttu-id="ff408-110">**\\HKEY \_ local \_ Machine \\ software \\ Microsoft \\ Windows NT \\ CurrentVersion \\ Winlogon**</span><span class="sxs-lookup"><span data-stu-id="ff408-110">**\\HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\Winlogon**</span></span>

-   <span data-ttu-id="ff408-111">**Caixa de diálogo notificação legal**</span><span class="sxs-lookup"><span data-stu-id="ff408-111">**Legal Notification Dialog Box**</span></span>

    <span data-ttu-id="ff408-112">Em alguns lugares, é legal que qualquer pessoa que tenha acesso a uma estação de trabalho faça logon e comece a trabalhar, a menos que haja um aviso indicando que o sistema é apenas para usuários autorizados.</span><span class="sxs-lookup"><span data-stu-id="ff408-112">In some places, it is legal for anyone who has access to a workstation to log on and begin working unless there is a notice that indicates that the system is for authorized users only.</span></span> <span data-ttu-id="ff408-113">Além disso, muitos usuários desejam que as mensagens específicas da empresa sejam exibidas antes do logon normal.</span><span class="sxs-lookup"><span data-stu-id="ff408-113">Also, many users want company-specific messages displayed before normal logon.</span></span> <span data-ttu-id="ff408-114">A GINA padrão usa dois valores de chave do registro do Winlogon para permitir que um sistema exiba informações antes do logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-114">The standard GINA uses two Winlogon registry key values to allow a system to display information before logon.</span></span> <span data-ttu-id="ff408-115">Se o valor da chave estiver presente e contiver uma cadeia de caracteres não nula, uma caixa de diálogo de aviso legal será exibida antes da tela de boas-vindas usual.</span><span class="sxs-lookup"><span data-stu-id="ff408-115">If either key value is present and contains a non-null string, then a Legal Notice dialog box is displayed before the usual Welcome screen.</span></span> <span data-ttu-id="ff408-116">Esses nomes de valor de chave são mostrados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="ff408-116">These key value names are shown in the following table.</span></span>

    

    | <span data-ttu-id="ff408-117">Nome do valor da chave</span><span class="sxs-lookup"><span data-stu-id="ff408-117">Key value name</span></span>         | <span data-ttu-id="ff408-118">Sumário</span><span class="sxs-lookup"><span data-stu-id="ff408-118">Contents</span></span>                                                            |
    |------------------------|---------------------------------------------------------------------|
    | <span data-ttu-id="ff408-119">**LegalNoticeCaption**</span><span class="sxs-lookup"><span data-stu-id="ff408-119">**LegalNoticeCaption**</span></span> | <span data-ttu-id="ff408-120">A cadeia de caracteres a ser exibida como a legenda da caixa de diálogo de aviso legal</span><span class="sxs-lookup"><span data-stu-id="ff408-120">The string to display as the caption of the legal notice dialog box</span></span> |
    | <span data-ttu-id="ff408-121">**LegalNoticeText**</span><span class="sxs-lookup"><span data-stu-id="ff408-121">**LegalNoticeText**</span></span>    | <span data-ttu-id="ff408-122">A cadeia de caracteres a ser exibida como a mensagem da caixa de diálogo de aviso legal</span><span class="sxs-lookup"><span data-stu-id="ff408-122">The string to display as the message of the legal notice dialog box</span></span> |

    

     

-   <span data-ttu-id="ff408-123">**Exibir o último nome de usuário**</span><span class="sxs-lookup"><span data-stu-id="ff408-123">**Display Last User Name**</span></span>

    <span data-ttu-id="ff408-124">Por padrão, a tela de logon exibe o nome do último usuário para fazer logon com êxito na estação de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ff408-124">By default, the logon screen displays the name of the last user to successfully log on to the workstation.</span></span> <span data-ttu-id="ff408-125">Esse recurso é controlado pelo valor da chave do registro **DontDisplayLastUserName** .</span><span class="sxs-lookup"><span data-stu-id="ff408-125">This feature is controlled by the **DontDisplayLastUserName** registry key value.</span></span> <span data-ttu-id="ff408-126">Quando esse valor de chave é definido como um, o nome de usuário não é exibido na caixa de diálogo de logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-126">When this key value is set to one, the user name is not displayed in the logon dialog box.</span></span>

-   <span data-ttu-id="ff408-127">**Logon automático**</span><span class="sxs-lookup"><span data-stu-id="ff408-127">**Automatic Logon**</span></span>

    <span data-ttu-id="ff408-128">Esse recurso permite que um sistema faça logon de um usuário automaticamente toda vez que o sistema é iniciado usando informações padrão e desabilitando a caixa de logon CTRL + ALT + DEL.</span><span class="sxs-lookup"><span data-stu-id="ff408-128">This feature allows a system to log on a user automatically every time the system starts by using default information and disabling the CTRL+ALT+DEL logon box.</span></span>

    <span data-ttu-id="ff408-129">Esse recurso usa os seguintes valores da chave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ff408-129">This feature uses the following values of the Winlogon key.</span></span>

    

    | <span data-ttu-id="ff408-130">Valor</span><span class="sxs-lookup"><span data-stu-id="ff408-130">Value</span></span>                 | <span data-ttu-id="ff408-131">Sumário</span><span class="sxs-lookup"><span data-stu-id="ff408-131">Contents</span></span>                                           |
    |-----------------------|----------------------------------------------------|
    | <span data-ttu-id="ff408-132">**AutoAdminLogon**</span><span class="sxs-lookup"><span data-stu-id="ff408-132">**AutoAdminLogon**</span></span>    | <span data-ttu-id="ff408-133">1</span><span class="sxs-lookup"><span data-stu-id="ff408-133">1</span></span>                                                  |
    | <span data-ttu-id="ff408-134">**AutoLogonCount**</span><span class="sxs-lookup"><span data-stu-id="ff408-134">**AutoLogonCount**</span></span>    | <span data-ttu-id="ff408-135">O número de vezes para fazer um logon automático</span><span class="sxs-lookup"><span data-stu-id="ff408-135">The number of times to do an automatic logon</span></span>       |
    | <span data-ttu-id="ff408-136">**DefaultUserName**</span><span class="sxs-lookup"><span data-stu-id="ff408-136">**DefaultUserName**</span></span>   | <span data-ttu-id="ff408-137">O nome da conta de usuário</span><span class="sxs-lookup"><span data-stu-id="ff408-137">The name of the user account</span></span>                       |
    | <span data-ttu-id="ff408-138">**DefaultDomainName**</span><span class="sxs-lookup"><span data-stu-id="ff408-138">**DefaultDomainName**</span></span> | <span data-ttu-id="ff408-139">O nome do domínio no qual a conta de usuário está</span><span class="sxs-lookup"><span data-stu-id="ff408-139">The name of the domain that the user account is in</span></span> |

    

     

    <span data-ttu-id="ff408-140">Se o valor da chave **AutoAdminLogon** estiver presente e contiver um, e o valor da chave **AutoLogonCount** não estiver presente, um logon automático ocorrerá sempre que o usuário atual fizer logoff ou o sistema for reiniciado.</span><span class="sxs-lookup"><span data-stu-id="ff408-140">If the **AutoAdminLogon** key value is present and contains a one, and the **AutoLogonCount** key value is not present, an automatic logon will occur every time the current user logs off or the system is restarted.</span></span> <span data-ttu-id="ff408-141">A conta na qual está sendo feito logon é especificada usando os valores de chave **DefaultUserName** e **DefaultDomainName** .</span><span class="sxs-lookup"><span data-stu-id="ff408-141">The account being logged onto is specified using the **DefaultUserName** and **DefaultDomainName** key values.</span></span> <span data-ttu-id="ff408-142">A senha da conta pode ser especificada de uma das duas maneiras.</span><span class="sxs-lookup"><span data-stu-id="ff408-142">The password for the account can be specified in one of two ways.</span></span> <span data-ttu-id="ff408-143">Para computadores que executam um dos sistemas operacionais Windows Server 2003 ou Windows XP, a senha deve ser armazenada como um segredo usando a função [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) .</span><span class="sxs-lookup"><span data-stu-id="ff408-143">For computers running one of the Windows Server 2003 or Windows XP operating systems, the password should be stored as a secret using the [**LsaStorePrivateData**](/windows/win32/api/ntsecapi/nf-ntsecapi-lsastoreprivatedata) function.</span></span> <span data-ttu-id="ff408-144">Para obter detalhes, consulte [protegendo a senha de logon automático](protecting-the-automatic-logon-password.md).</span><span class="sxs-lookup"><span data-stu-id="ff408-144">For details, see [Protecting the Automatic Logon Password](protecting-the-automatic-logon-password.md).</span></span> <span data-ttu-id="ff408-145">A outra maneira de armazenar a senha está em texto não criptografado na entrada **DefaultPassword** da chave Winlogon; para fins de segurança, essa técnica deve ser evitada.</span><span class="sxs-lookup"><span data-stu-id="ff408-145">The other way to store the password is in plaintext in the **DefaultPassword** entry of the Winlogon key; for security purposes, this technique should be avoided.</span></span> <span data-ttu-id="ff408-146">Se você armazenar a senha usando a função **LsaStorePrivateData** , não forneça uma entrada **DefaultPassword** na chave Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ff408-146">If you store the password using the **LsaStorePrivateData** function, then do not provide a **DefaultPassword** entry in the Winlogon key.</span></span>

    <span data-ttu-id="ff408-147">Se o valor da chave **AutoAdminLogon** estiver presente e contiver um, e se o valor da chave **AutoLogonCount** estiver presente e não for zero, **AutoLogonCount** determinará o número de logons automáticos que ocorrerem.</span><span class="sxs-lookup"><span data-stu-id="ff408-147">If the **AutoAdminLogon** key value is present and contains a one, and if the **AutoLogonCount** key value is present and is not zero, **AutoLogonCount** will determine the number of automatic logons that occur.</span></span> <span data-ttu-id="ff408-148">Cada vez que o sistema é reiniciado, o valor de **AutoLogonCount** será decrementado em um até chegar a zero.</span><span class="sxs-lookup"><span data-stu-id="ff408-148">Each time the system is restarted, the value of **AutoLogonCount** will be decremented by one, until it reaches zero.</span></span> <span data-ttu-id="ff408-149">Quando **AutoLogonCount** chega a zero, nenhuma conta será conectada automaticamente, o valor da chave **AutoLogonCount** e o valor da chave **DefaultPassword** , se usado, serão excluídos do registro e o **AutoAdminLogon** será definido como zero.</span><span class="sxs-lookup"><span data-stu-id="ff408-149">When **AutoLogonCount** reaches zero, no account will be logged on automatically, the **AutoLogonCount** key value and **DefaultPassword** key value, if used, will be deleted from the registry, and **AutoAdminLogon** will be set to zero.</span></span>

    <span data-ttu-id="ff408-150">Há uma limitação adicional ao uso de **AutoAdminLogon**: por padrão, MSGina.dll verifica o estado da tecla Shift quando o **AutoAdminLogon** é um.</span><span class="sxs-lookup"><span data-stu-id="ff408-150">There is one additional caveat to using **AutoAdminLogon**: By default, MSGina.dll checks the state of the SHIFT key when **AutoAdminLogon** is one.</span></span> <span data-ttu-id="ff408-151">Se a tecla SHIFT for mantida durante o processo de inicialização, MSGina.dll ignorará o valor da chave **AutoAdminLogon** e solicitará ao usuário informações de identificação e autenticação interativamente.</span><span class="sxs-lookup"><span data-stu-id="ff408-151">If the SHIFT key is held down during the boot process, MSGina.dll will ignore the **AutoAdminLogon** key value and prompt the user for identification and authentication information interactively.</span></span> <span data-ttu-id="ff408-152">Esse é um recurso útil quando você está depurando um aplicativo dedicado.</span><span class="sxs-lookup"><span data-stu-id="ff408-152">This is a useful feature when you are debugging a dedicated application.</span></span> <span data-ttu-id="ff408-153">Para desabilitar o significado da tecla SHIFT, defina o valor da chave **IgnoreShiftOverride** como um.</span><span class="sxs-lookup"><span data-stu-id="ff408-153">To disable the meaning of the SHIFT key, set the **IgnoreShiftOverride** key value to one.</span></span>

-   <span data-ttu-id="ff408-154">**Permitir desligamento não autenticado**</span><span class="sxs-lookup"><span data-stu-id="ff408-154">**Allow Unauthenticated Shutdown**</span></span>

    <span data-ttu-id="ff408-155">Você pode configurar a [*Gina*](../secgloss/g-gly.md) padrão para incluir um botão de **desligamento** na caixa de diálogo de logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-155">You can configure the default [*GINA*](../secgloss/g-gly.md) to include a **Shutdown** button in the logon dialog box.</span></span> <span data-ttu-id="ff408-156">Isso permite que os usuários encerrem o sistema sem primeiro fazer logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-156">This lets users shut down the system without first logging on.</span></span> <span data-ttu-id="ff408-157">O valor de chave a seguir controla se esse botão está incluído.</span><span class="sxs-lookup"><span data-stu-id="ff408-157">The following key value controls whether this button is included.</span></span>

    

    | <span data-ttu-id="ff408-158">Valor</span><span class="sxs-lookup"><span data-stu-id="ff408-158">Value</span></span>                    | <span data-ttu-id="ff408-159">Descrição</span><span class="sxs-lookup"><span data-stu-id="ff408-159">Description</span></span>                                           |
    |--------------------------|-------------------------------------------------------|
    | <span data-ttu-id="ff408-160">**ShutdownWithoutLogon**</span><span class="sxs-lookup"><span data-stu-id="ff408-160">**ShutdownWithoutLogon**</span></span> | <span data-ttu-id="ff408-161">Um para incluir o botão; zero para excluir o botão</span><span class="sxs-lookup"><span data-stu-id="ff408-161">One to include the button; zero to exclude the button</span></span> |

    

     

-   <span data-ttu-id="ff408-162">**Ativação deUserinit.exe**</span><span class="sxs-lookup"><span data-stu-id="ff408-162">**Userinit.exe Activation**</span></span>

    <span data-ttu-id="ff408-163">Userinit.exe é um aplicativo executado pelo MSGina.dll quando o usuário fez logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-163">Userinit.exe is an application that is executed by MSGina.dll when the user has logged on.</span></span> <span data-ttu-id="ff408-164">Ele é executado no [*contexto*](../secgloss/c-gly.md) do usuário conectado recentemente e na área de trabalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff408-164">It runs in the newly logged-on user's [*context*](../secgloss/c-gly.md) and on the application desktop.</span></span> <span data-ttu-id="ff408-165">Sua finalidade é configurar o ambiente do usuário, incluindo a restauração de usos de rede, o estabelecimento de configurações de perfil, como fontes e cores de tela, e a execução de scripts de logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-165">Its purpose is to set up the user's environment, including restoring network uses, establishing profile settings such as fonts and screen colors, and running logon scripts.</span></span> <span data-ttu-id="ff408-166">Depois de concluir essas tarefas, Userinit.exe executará os programas do shell do usuário.</span><span class="sxs-lookup"><span data-stu-id="ff408-166">After completing those tasks, Userinit.exe executes the user shell programs.</span></span> <span data-ttu-id="ff408-167">Os programas do Shell herdam o ambiente que o Userinit.exe configura.</span><span class="sxs-lookup"><span data-stu-id="ff408-167">The shell programs inherit the environment that Userinit.exe sets up.</span></span> <span data-ttu-id="ff408-168">Os programas de shell específicos que Userinit.exe executado são armazenados no valor de chave do **shell** na chave do registro do Winlogon.</span><span class="sxs-lookup"><span data-stu-id="ff408-168">The specific shell programs that Userinit.exe executes are stored in the **Shell** key value under the Winlogon registry key.</span></span>

    <span data-ttu-id="ff408-169">O valor da chave do **shell** pode conter uma lista separada por vírgulas de programas a serem executados.</span><span class="sxs-lookup"><span data-stu-id="ff408-169">The **Shell** key value can contain a comma-separated list of programs to be executed.</span></span> <span data-ttu-id="ff408-170">O Windows Explorer é o programa de shell padrão e será executado se o valor da chave do **shell** for nulo ou não estiver presente.</span><span class="sxs-lookup"><span data-stu-id="ff408-170">Windows Explorer is the default shell program and will be executed if the **Shell** key value is null or not present.</span></span> <span data-ttu-id="ff408-171">Por padrão, o Windows Explorer está listado.</span><span class="sxs-lookup"><span data-stu-id="ff408-171">By default, Windows Explorer is listed.</span></span>

-   <span data-ttu-id="ff408-172">**Opções de segurança conectadas**</span><span class="sxs-lookup"><span data-stu-id="ff408-172">**Logged-On Security Options**</span></span>

    <span data-ttu-id="ff408-173">Quando conectado, se um usuário inserir uma [*seqüência de atenção segura*](../secgloss/s-gly.md) (SAS), será apresentada uma tela de opções de segurança ao usuário.</span><span class="sxs-lookup"><span data-stu-id="ff408-173">When logged on, if a user enters a [*secure attention sequence*](../secgloss/s-gly.md) (SAS), the user is presented with a security options screen.</span></span> <span data-ttu-id="ff408-174">Entre as opções listadas estão:</span><span class="sxs-lookup"><span data-stu-id="ff408-174">Among the options listed are:</span></span>

    -   <span data-ttu-id="ff408-175">Desligue o sistema.</span><span class="sxs-lookup"><span data-stu-id="ff408-175">Shut down the system.</span></span>
    -   <span data-ttu-id="ff408-176">Dê logoff.</span><span class="sxs-lookup"><span data-stu-id="ff408-176">Log off.</span></span>
    -   <span data-ttu-id="ff408-177">Altere a senha.</span><span class="sxs-lookup"><span data-stu-id="ff408-177">Change the password.</span></span>
    -   <span data-ttu-id="ff408-178">Vá para a lista de tarefas.</span><span class="sxs-lookup"><span data-stu-id="ff408-178">Go to the task list.</span></span>
    -   <span data-ttu-id="ff408-179">Bloquear a estação de trabalho.</span><span class="sxs-lookup"><span data-stu-id="ff408-179">Lock the workstation.</span></span>

    <span data-ttu-id="ff408-180">Uma GINA de substituição pode fornecer opções semelhantes quando um evento SAS é recebido enquanto um usuário faz logon.</span><span class="sxs-lookup"><span data-stu-id="ff408-180">A replacement GINA can provide similar options when a SAS event is received while a user is logged on.</span></span>

 

 
