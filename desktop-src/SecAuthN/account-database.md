---
description: Active Directory fornece o banco de dados de conta que o centro de distribuição de chaves (KDC) usa para obter informações sobre entidades de segurança no domínio.
ms.assetid: 560ef22c-dd4f-49f8-9e15-a45dbf17df01
title: Banco de dados da conta
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0713d8f7b4336f43172fcd5cda18aa9d25c702fb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103921902"
---
# <a name="account-database"></a><span data-ttu-id="fc2ec-103">Banco de dados da conta</span><span class="sxs-lookup"><span data-stu-id="fc2ec-103">Account Database</span></span>

<span data-ttu-id="fc2ec-104">Active Directory fornece o banco de dados de conta que o [*centro de distribuição de chaves*](/windows/desktop/SecGloss/k-gly) (KDC) usa para obter informações sobre [*entidades de segurança*](/windows/desktop/SecGloss/s-gly) no domínio.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-104">Active Directory provides the account database that the [*Key Distribution Center*](/windows/desktop/SecGloss/k-gly) (KDC) uses to obtain information about [*security principals*](/windows/desktop/SecGloss/s-gly) in the domain.</span></span> <span data-ttu-id="fc2ec-105">Cada entidade de segurança é representada por um objeto de conta no diretório.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-105">Each principal is represented by an account object in the directory.</span></span> <span data-ttu-id="fc2ec-106">A chave de [*criptografia*](/windows/desktop/SecGloss/e-gly) usada na comunicação com um usuário, computador ou serviço é armazenada como um atributo do objeto de conta dessa entidade de segurança.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-106">The [*encryption*](/windows/desktop/SecGloss/e-gly) key used in communicating with a user, computer, or service is stored as an attribute of the account object of that security principal.</span></span>

<span data-ttu-id="fc2ec-107">Somente os controladores de domínio são Active Directory servidores.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-107">Only domain controllers are Active Directory servers.</span></span> <span data-ttu-id="fc2ec-108">Cada controlador de domínio mantém uma cópia gravável do diretório, de modo que as contas podem ser criadas, redefinição de senhas e Associação de grupo modificada em qualquer controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-108">Each domain controller keeps a writable copy of the directory, so accounts can be created, passwords reset, and group membership modified at any domain controller.</span></span> <span data-ttu-id="fc2ec-109">As alterações feitas em uma réplica do diretório são propagadas automaticamente para todas as outras réplicas.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-109">Changes made to one replica of the directory are automatically propagated to all other replicas.</span></span> <span data-ttu-id="fc2ec-110">O Windows Replica o armazenamento de informações para o Active Directory usando um protocolo de replicação de vários mestres proprietário que usa uma conexão de chamada de procedimento remoto segura entre parceiros de replicação.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-110">Windows replicates the information store for the Active Directory using a proprietary multiple-master replication protocol that uses a secure remote procedure call connection between replication partners.</span></span> <span data-ttu-id="fc2ec-111">A conexão usa o [*protocolo de autenticação Kerberos*](/windows/desktop/SecGloss/k-gly) para fornecer [*autenticação*](/windows/desktop/SecGloss/a-gly) e criptografia mútuas.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-111">The connection uses the [*Kerberos authentication protocol*](/windows/desktop/SecGloss/k-gly) to provide mutual [*authentication*](/windows/desktop/SecGloss/a-gly) and encryption.</span></span>

<span data-ttu-id="fc2ec-112">O armazenamento físico de dados de conta é gerenciado pelo [agente do sistema de diretório](/windows/desktop/AD/directory-system-agent), um processo protegido integrado à LSA (autoridade de [*segurança local*](/windows/desktop/SecGloss/l-gly) ) no controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-112">Physical storage of account data is managed by the [Directory System Agent](/windows/desktop/AD/directory-system-agent), a protected process integrated with the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) on the domain controller.</span></span> <span data-ttu-id="fc2ec-113">Os clientes do serviço de diretório nunca recebem acesso direto ao armazenamento de dados.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-113">Clients of the directory service are never given direct access to the data store.</span></span> <span data-ttu-id="fc2ec-114">Qualquer cliente que queira acesso às informações de diretório deve se conectar ao agente do sistema de diretório e, em seguida, Pesquisar, ler e gravar objetos de diretório e seus atributos.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-114">Any client that wants access to directory information must connect to the Directory System Agent and then search for, read, and write directory objects and their attributes.</span></span>

<span data-ttu-id="fc2ec-115">As solicitações para acessar um objeto ou atributo no diretório estão sujeitas à validação por mecanismos de controle de acesso do Windows.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-115">Requests to access an object or attribute in the directory are subject to validation by Windows access control mechanisms.</span></span> <span data-ttu-id="fc2ec-116">Como os objetos de arquivo e pasta no sistema de arquivos NTFS, os objetos no Active Directory são protegidos por [*listas de controle de acesso*](/windows/desktop/SecGloss/a-gly) (ACLs) que especificam quem pode acessar o objeto e de que maneira.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-116">Like file and folder objects in the NTFS file system, objects in the Active Directory are protected by [*access control lists*](/windows/desktop/SecGloss/a-gly) (ACLs) that specify who can access the object and in what way.</span></span> <span data-ttu-id="fc2ec-117">Ao contrário de arquivos e pastas, no entanto, Active Directory objetos têm uma ACL para cada um de seus atributos.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-117">Unlike files and folders, however, Active Directory objects have an ACL for each of their attributes.</span></span> <span data-ttu-id="fc2ec-118">Portanto, os atributos para informações confidenciais da conta podem ser protegidos por permissões mais restritivas do que aquelas concedidas para outros atributos da conta.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-118">Thus attributes for sensitive account information can be protected by more restrictive permissions than those granted for other attributes of the account.</span></span>

<span data-ttu-id="fc2ec-119">A informação mais confidencial sobre uma conta é, naturalmente, sua senha.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-119">The most sensitive information about an account is of course its password.</span></span> <span data-ttu-id="fc2ec-120">Embora o atributo de senha de um objeto de conta armazene uma chave de criptografia derivada de uma senha, não a senha propriamente dita, essa chave é tão útil para um invasor.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-120">Although the password attribute of an account object stores an encryption key derived from a password, not the password itself, this key is just as useful to an intruder.</span></span> <span data-ttu-id="fc2ec-121">Portanto, o acesso ao atributo de senha de um objeto de conta é concedido somente ao titular da conta, nunca a outras pessoas, nem mesmo aos administradores.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-121">Therefore, access to the password attribute of an account object is granted only to the account holder, never to anyone else, not even administrators.</span></span> <span data-ttu-id="fc2ec-122">Somente processos com privilégio de base de computação confiável — processos em execução no [*contexto*](/windows/desktop/SecGloss/c-gly) de segurança da LSA — têm permissão para ler ou alterar informações de senha.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-122">Only processes with Trusted Computing Base privilege—processes running in the security [*context*](/windows/desktop/SecGloss/c-gly) of the LSA—are allowed to read or change password information.</span></span>

<span data-ttu-id="fc2ec-123">Para impedir um ataque offline por alguém com acesso à fita de backup de um controlador de domínio, o atributo de senha de um objeto de conta é protegido por uma segunda criptografia usando uma chave do sistema.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-123">To hinder an offline attack by someone with access to the backup tape of a domain controller, the password attribute of an account object is further protected by a second encryption using a system key.</span></span> <span data-ttu-id="fc2ec-124">Essa chave de criptografia pode ser armazenada em mídia removível para que possa ser protegida separadamente, ou pode ser armazenada no controlador de domínio, mas protegido por um mecanismo disperso.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-124">This encryption key can be stored on removable media so that it can be safeguarded separately, or it can be stored on the domain controller but protected by a dispersal mechanism.</span></span> <span data-ttu-id="fc2ec-125">Os administradores recebem a opção de escolher onde a chave do sistema está armazenada e quais dos vários algoritmos são usados para criptografar atributos de senha.</span><span class="sxs-lookup"><span data-stu-id="fc2ec-125">Administrators are given the option to choose where the system key is stored and which of several algorithms is used to encrypt password attributes.</span></span>

 

 
