---
description: Permite que um aplicativo de transporte [](../secgloss/s-gly.md) consulte o pacote de segurança Schannel para determinados atributos de um [*contexto de segurança*](../secgloss/s-gly.md).
ms.assetid: 0329e525-a743-4e6c-aac4-9f74274dadd2
title: Função QueryContextAttributes (Schannel) (Sspi.h)
ms.topic: reference
ms.date: 07/25/2019
ms.openlocfilehash: 9ec53dcca1e31742f13d934fa9957e3c73eb6db70b58860b87fae5591fad721a
ms.sourcegitcommit: e858bbe701567d4583c50a11326e42d7ea51804b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/11/2021
ms.locfileid: "118920114"
---
# <a name="querycontextattributes-schannel-function"></a>Função QueryContextAttributes (Schannel)

A **função QueryContextAttributes (Schannel)** permite que um aplicativo de transporte [](../secgloss/a-gly.md#_security_attribute_gly) consulte o pacote de segurança Schannel [](../secgloss/s-gly.md) para determinados atributos de um contexto de [*segurança*](../secgloss/s-gly.md).

## <a name="syntax"></a>Sintaxe


```C++
SECURITY_STATUS SEC_ENTRY QueryContextAttributes(
  _In_  PCtxtHandle phContext,
  _In_  ULONG       ulAttribute,
  _Out_ PVOID       pBuffer
);
```



## <a name="parameters"></a>Parâmetros

<dl> <dt>

*phContext* \[ Em\]
</dt> <dd>

Um lidar com o [*contexto de segurança*](../secgloss/s-gly.md) a ser consultado.

</dd> <dt>

*ulAttribute* \[ Em\]
</dt> <dd>

Especifica o atributo do contexto a ser retornado. Esse parâmetro pode usar um dos valores a seguir.



| Valor                                                                                                                                                                                                                                                                              | Significado                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="SECPKG_ATTR_ACCESS_TOKEN"></span><span id="secpkg_attr_access_token"></span><dl> <dt>**SECPKG \_ TOKEN DE \_ ACESSO ATTR \_**</dt> <dt>13</dt> </dl>                           | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ AccessToken SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_accesstoken)<br/> Retorna um alça para o token de acesso.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="SECPKG_ATTR_APP_DATA"></span><span id="secpkg_attr_app_data"></span><dl> <dt>**SECPKG \_ AtTR \_ APP \_ DATA**</dt> <dt>0x5e</dt> </dl>                                     | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ SessionAppData SecPkgContext.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_sessionappdata)<br/> Retorna ou especifica os dados do aplicativo para a sessão.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md)pacote de segurança Schannel .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="SECPKG_ATTR_AUTHORITY"></span><span id="secpkg_attr_authority"></span><dl> <dt>**SECPKG \_ AUTORIDADE \_ ATTR**</dt> <dt>6</dt> </dl>                                      | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura de Autoridade \_ SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_authoritya)<br/> Consulta o nome da autoridade de autenticação.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="SECPKG_ATTR_[*cipher*](../secgloss/c-gly.md)_INFO"></span><span id="secpkg_attr_[*cipher*](../secgloss/c-gly.md)_info"></span><dl> <dt>**SECPKG \_ Informações de \_ [*criptografia*](../secgloss/c-gly.md) \_ ATTR**</dt> <dt>0x64</dt> </dl>                            | O *parâmetro pBuffer* contém um ponteiro para uma estrutura de informações de criptografia [**\_ [](../secgloss/c-gly.md)SecPkgContext.**](secpkgcontext-[*cipher*](../secgloss/c-gly.md)info.md)<br/> Retorna uma nova estrutura de informações de [*criptografia*](../secgloss/c-gly.md) CNG.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="SECPKG_ATTR_CONNECTION_INFO"></span><span id="secpkg_attr_connection_info"></span><dl> <dt>**SECPKG \_ INFORMAÇÕES DE \_ CONEXÃO \_ DO ATTR**</dt> <dt>0X5A</dt> </dl>                | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ ConnectionInfo SecPkgContext.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_connectioninfo)<br/> Retorna informações detalhadas sobre a conexão estabelecida.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="SECPKG_ATTR_KEYING_MATERIAL"></span><span id="secpkg_attr_keying_material"></span><dl> <dt>**SECPKG \_ ATTR \_ KEYING \_ MATERIAL**</dt> <dt>0X6B</dt> </dl>                | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ KeyingMaterial SecPkgContext.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_keyingmaterial) O recurso de exportação de material de chave segue o [padrão RFC 5705.](https://tools.ietf.org/html/rfc5705)<br/> Consultar esse atributo antes que o segredo mestre tenha sido gerado ou antes que o atributo **SECPKG \_ ATTR \_ KEYING \_ MATERIAL \_ INFO** tenha sido definido com o resultado de um erro.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md) pacote de segurança Schannel Windows 10 e Windows Server 2016 ou versões posteriores.<br/>                                                                                                                                                                                                                                                                                                                                   |
| <span id="SECPKG_ATTR_CREDS_2"></span><span id="secpkg_attr_creds_2"></span><dl> <dt>**SECPKG \_ ATTR \_ CREDS \_ 2**</dt> <dt>0x80000086</dt> </dl>                                  | O *parâmetro pBuffer* contém um ponteiro para uma estrutura [**\_ ClientCreds SecPkgContext**](/windows/win32/api/credssp/ns-credssp-secpkgcontext_clientcreds) que especifica as credenciais do cliente. <br/> Se a credencial do cliente for nome de usuário e senha, o buffer será uma estrutura [**de \_ \_ LOGON INTERATIVO KERB**](/windows/win32/api/ntsecapi/ns-ntsecapi-kerb_interactive_logon) empacotada.<br/> Se a credencial do cliente for nome de usuário e PIN de cartão inteligente, o buffer será uma estrutura de [**\_ \_ LOGON**](/windows/win32/api/ntsecapi/ns-ntsecapi-kerb_certificate_logon) de CERTIFICADO KERB empacotada.<br/> Se a credencial do cliente for uma credencial de identidade online, o buffer será uma estrutura [**SEC \_ WINNT \_ AUTH \_ IDENTITY \_ EX2**](/windows/win32/api/sspi/ns-sspi-sec_winnt_auth_identity_ex2) com marshaled.<br/> Esse atributo só tem suporte no servidor CredSSP.<br/> **Windows Server 2008 R2, Windows 7, Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/> |
| <span id="SECPKG_ATTR_DCE_INFO"></span><span id="secpkg_attr_dce_info"></span><dl> <dt>**SECPKG \_ ATTR \_ DCE \_ INFO**</dt> <dt>3</dt> </dl>                                        | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ DceInfo SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_dceinfo)<br/> Consultas para dados de autorização usados pelos serviços DCE.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="SECPKG_ATTR_EAP_KEY_BLOCK"></span><span id="secpkg_attr_eap_key_block"></span><dl> <dt>**SECPKG \_ ATTR \_ EAP \_ KEY BLOCK \_ 0X5B**</dt> <dt></dt> </dl>                     | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura SecPkgContext \_ EapKeyBlock.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_eapkeyblock)<br/> Consulta dados de chave usados pelo protocolo TLS de EAP.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md)pacote de segurança Schannel .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="SECPKG_ATTR_ENDPOINT_BINDINGS"></span><span id="secpkg_attr_endpoint_bindings"></span><dl> <dt>**SECPKG \_ ATTR \_ ENDPOINT \_ BINDINGS**</dt> <dt>26</dt> </dl>            | O *parâmetro pBuffer* contém um ponteiro para uma estrutura de Vinculações [**\_ SecPkgContext**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_bindings) que contém as Vinculações de Canal para TLS (RFC 5929). <br/> **Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="SECPKG_ATTR_FLAGS"></span><span id="secpkg_attr_flags"></span><dl> <dt>**SECPKG \_ SINALIZADORES \_ ATTR**</dt> <dt>14</dt> </dl>                                                 | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura de Sinalizadores SecPkgContext. \_**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_flags)<br/> Retorna informações sobre os sinalizadores de contexto negociados.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="SECPKG_ATTR_ISSUER_LIST_EX"></span><span id="secpkg_attr_issuer_list_ex"></span><dl> <dt>**SECPKG \_ LISTA DE EMISSORES DA ATTR \_ \_ EX \_ 0X59**</dt> <dt></dt> </dl>                  | O *parâmetro pBuffer* contém um ponteiro para uma estrutura [**\_ IssuerListInfoEx secPkgContext.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_issuerlistinfoex)<br/> Retorna uma lista de emissores de certificado que são aceitos pelo servidor.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md)pacote de segurança Schannel .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="SECPKG_ATTR_KEY_INFO"></span><span id="secpkg_attr_key_info"></span><dl> <dt>**SECPKG \_ ATTR \_ KEY \_ INFO**</dt> <dt>5</dt> </dl>                                        | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ KeyInfo SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_keyinfoa)<br/> Consulta informações sobre as chaves usadas em um [*contexto de segurança*](../secgloss/s-gly.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span id="SECPKG_ATTR_LIFESPAN"></span><span id="secpkg_attr_lifespan"></span><dl> <dt>**SECPKG \_ ATTR \_ LIFESPAN**</dt> <dt>2</dt> </dl>                                         | O *parâmetro pBuffer* contém um ponteiro para uma estrutura De vida [**\_ SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_lifespan)<br/> Consulta o período de vida do contexto.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="SECPKG_ATTR_LOCAL_CERT_CONTEXT"></span><span id="secpkg_attr_local_cert_context"></span><dl> <dt>**SECPKG \_ CONTEXTO DO \_ \_ CERTIFICADO \_ LOCAL**</dt> DA ATTR <dt>0X54</dt> </dl>      | O *parâmetro pBuffer* contém um ponteiro para uma estrutura [**CONTEXT \_ PCCERT.**](/windows/win32/api/wincrypt/ns-wincrypt-cert_context)<br/> Localiza um contexto de certificado que contém um certificado final local.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md)pacote de segurança Schannel .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="SECPKG_ATTR_LOCAL_CRED"></span><span id="secpkg_attr_local_cred"></span><dl> <dt>**SECPKG \_ ATTR \_ LOCAL \_ CRED**</dt> </dl>                                                                                         | O *parâmetro pBuffer* contém um ponteiro para uma **estrutura \_ LocalCredentialInfo SecPkgContext.** (obsoleto)<br/> Superado pelo CONTEXTO DE CERTIFICADO LOCAL DO SECPKG \_ \_ \_ \_ ATTR.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="SECPKG_ATTR_NAMES"></span><span id="secpkg_attr_names"></span><dl> <dt>**SECPKG \_ NOMES \_ DE ATTR**</dt> <dt>1</dt> </dl>                                                  | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura De nomes \_ SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_namesa)<br/> Consulta o nome associado ao contexto.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="SECPKG_ATTR_NATIVE_NAMES"></span><span id="secpkg_attr_native_names"></span><dl> <dt>**SECPKG \_ NOMES NATIVOS \_ \_ DA ATTR**</dt> <dt>13</dt> </dl>                           | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ NativeNames SecPkgContext.**](https://docs.microsoft.com/windows/win32/api/sspi/ns-sspi-_secpkgcontext_nativenamesa)<br/> Retorna o nome principal (CNAME) do tíquete de saída.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="SECPKG_ATTR_NEGOTIATION_INFO"></span><span id="secpkg_attr_negotiation_info"></span><dl> <dt>**SECPKG \_ INFORMAÇÕES DE \_ NEGOCIAÇÃO \_ DA ATTR**</dt> <dt>12</dt> </dl>               | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura SecPkgContext \_ NegotiationInfo.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_negotiationinfoa)<br/> Retorna informações sobre o [*pacote de segurança*](../secgloss/s-gly.md) a ser usado com o processo de negociação e o estado atual da negociação para o uso desse pacote.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="SECPKG_ATTR_PACKAGE_INFO"></span><span id="secpkg_attr_package_info"></span><dl> <dt>**SECPKG \_ INFORMAÇÕES DO \_ PACOTE \_ ATTR**</dt> <dt>10</dt> </dl>                           | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ PackageInfo SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkginfoa)<br/> Retorna informações sobre o SSP em uso.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="SECPKG_ATTR_PASSWORD_EXPIRY"></span><span id="secpkg_attr_password_expiry"></span><dl> <dt>**SECPKG \_ EXPIRAÇÃO \_ DE \_ SENHA ATTR**</dt> <dt>8</dt> </dl>                   | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ PasswordExpiry SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_passwordexpiry)<br/> Retorna informações de expiração de senha.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="SECPKG_ATTR_REMOTE_CERT_CONTEXT"></span><span id="secpkg_attr_remote_cert_context"></span><dl> <dt>**SECPKG \_ CONTEXTO DE \_ \_ CERTIFICADO REMOTO \_**</dt> DA ATTR <dt>0X53</dt> </dl>   | O *parâmetro pBuffer* contém um ponteiro para uma estrutura [**CONTEXT \_ PCCERT.**](/windows/win32/api/wincrypt/ns-wincrypt-cert_context)<br/> Localiza um contexto de certificado que contém o certificado final fornecido pelo servidor.<br/> Esse atributo tem suporte apenas pelo [](../secgloss/s-gly.md)pacote de segurança Schannel .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="SECPKG_ATTR_ROOT_STORE"></span><span id="secpkg_attr_root_store"></span><dl> <dt>**SECPKG \_ ATTR \_ ROOT \_ STORE**</dt> <dt>0x55</dt> </dl>                               | O *parâmetro pBuffer* contém um ponteiro para **um HCERTCONTEXT.** Localiza um contexto de certificado que contém um certificado fornecido pelo armazenamento raiz.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="SECPKG_ATTR_SESSION_INFO"></span><span id="secpkg_attr_session_info"></span><dl> <dt>**SECPKG \_ INFORMAÇÕES DA \_ SESSÃO DO \_ ATTR**</dt> <dt>0X5D</dt> </dl>                         | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ SessionInfo SecPkgContext.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_sessioninfo)<br/> Retorna informações sobre a sessão.<br/> **Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="SECPKG_ATTR_SESSION_KEY"></span><span id="secpkg_attr_session_key"></span><dl> <dt>**SECPKG \_ CHAVE DE \_ SESSÃO \_ DO ATTR**</dt> <dt>9</dt> </dl>                               | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ SessionKey SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_sessionkey)<br/> Retorna informações sobre as [*chaves de*](../secgloss/s-gly.md)sessão.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="SECPKG_ATTR_SIZES"></span><span id="secpkg_attr_sizes"></span><dl> <dt>**SECPKG \_ TAMANHOS \_ DE ATTR**</dt> <dt>0</dt> </dl>                                                  | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura De tamanhos SecPkgContext. \_**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_sizes)<br/> Consulta os tamanhos das estruturas usadas nas funções por mensagem.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="SECPKG_ATTR_STREAM_SIZES"></span><span id="secpkg_attr_stream_sizes"></span><dl> <dt>**SECPKG \_ TAMANHOS DE \_ FLUXO \_ ATTR**</dt> <dt>4</dt> </dl>                            | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura SecPkgContext \_ StreamSizes.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_streamsizes)<br/> Consulta os tamanhos das várias partes de um fluxo usado nas funções por mensagem.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="SECPKG_ATTR_SUPPORTED_SIGNATURES"></span><span id="secpkg_attr_supported_signatures"></span><dl> <dt>**SECPKG \_ ASSINATURAS \_ COM SUPORTE \_ DA ATTR**</dt> <dt>0X66</dt> </dl> | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura SecPkgContext \_ SupportedSignatures.**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_supportedsignatures)<br/> Esse valor retorna informações sobre os tipos de assinatura com suporte para a conexão.<br/> **Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="SECPKG_ATTR_TARGET_INFORMATION"></span><span id="secpkg_attr_target_information"></span><dl> <dt>**SECPKG \_ INFORMAÇÕES DE \_ DESTINO \_ DA ATTR**</dt> <dt>17</dt> </dl>         | O *parâmetro pBuffer* contém um ponteiro para uma [**estrutura \_ TargetInformation SecPkgContext.**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_targetinformation)<br/> Retorna informações sobre o nome do servidor remoto.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span id="SECPKG_ATTR_UNIQUE_BINDINGS"></span><span id="secpkg_attr_unique_bindings"></span><dl> <dt>**SECPKG \_ ATTR \_ UNIQUE \_ BINDINGS**</dt> <dt>25</dt> </dl>                  | O *parâmetro pBuffer* contém um ponteiro para uma estrutura de Vinculações [**\_ SecPkgContext**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_bindings) que contém informações de associação de canal.<br/> **Windows Server 2008, Windows Vista, Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span id="SECPKG_ATTR_APPLICATION_PROTOCOL"></span><span id="secpkg_attr_application_protocol"></span><dl> <dt>**SECPKG \_ ATTR \_ APPLICATION \_ PROTOCOL**</dt> <dt>35</dt> </dl>   | O *parâmetro pBuffer* contém um protocolo de aplicativo negociado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span id="SECPKG_ATTR_DTLS_MTU"></span><span id="secpkg_attr_dtls_mtu"></span><dl> <dt>**SECPKG \_ ATTR \_ DTLS \_ MTU**</dt> <dt>34</dt> </dl>                                       | Define e recupera o valor de MTU (unidade de transmissão máxima) para uso com DTLS. Se o DTLS não estiver habilitado em um contexto [*de segurança,*](../secgloss/s-gly.md)esse atributo não será suportado. <br/> Os valores válidos estão entre 200 bytes e 64 quilobytes. O valor padrão de MTU do DTLS no Schannel é 1096 bytes. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |



 

</dd> <dt>

*pBuffer* \[ out\]
</dt> <dd>

Um ponteiro para uma estrutura que recebe os atributos. O tipo de estrutura apontado depende do valor especificado no *parâmetro ulAttribute.*

</dd> </dl>

## <a name="return-value"></a>Valor retornado

Se a função for bem-sucedida, o valor de retorno será **SEC \_ E \_ OK.**

Se a função falhar, o valor de retorno será um código de erro não zero.

## <a name="remarks"></a>Comentários

A estrutura apontada pelo parâmetro *pBuffer* varia dependendo do atributo que está sendo consultado. O chamador deve alocar a própria estrutura *pBuffer,* mas o SSP aloca qualquer memória necessária para manter membros de tamanho variável da estrutura *pBuffer.* Quando terminar de usar a memória alocada pelo SSP, livre-a chamando a [**função FreeContextBuffer.**](/windows/win32/api/sspi/nf-sspi-freecontextbuffer)

Depois que o valor CONTEXT DO CERTIFICADO REMOTO SECPKG ATTR ou SECPKG ATTR LOCAL CERT CONTEXT tiver sido lido, o membro hCertStore será definido como um lidar com um repositório de certificados que contém os \_ \_ \_ \_ \_ \_ \_ \_ certificados intermediários, se algum.  Além disso, o aplicativo é responsável por chamar [**CertFreeCertificateContext para**](/windows/win32/api/wincrypt/nf-wincrypt-certfreecertificatecontext) liberar a memória usada pelo contexto do certificado.

## <a name="requirements"></a>Requisitos



| Requisito | Valor |
|-------------------------------------|--------------------------------------------------------------------------------------------------------|
| Cliente mínimo com suporte<br/> | \[Windows 8.1 somente aplicativos da área de trabalho\]<br/>                                                           |
| Servidor mínimo com suporte<br/> | Windows Server 2012 Somente \[ aplicativos da área de trabalho R2\]<br/>                                                |
| parâmetro<br/>                   | <dl> <dt>Sspi.h (inclua Security.h)</dt> </dl> |
| Biblioteca<br/>                  | <dl> <dt>Secur32.lib</dt> </dl>                 |
| DLL<br/>                      | <dl> <dt>Secur32.dll</dt> </dl>                 |
| Nomes Unicode e ANSI<br/>   | **QueryContextAttributesW** (Unicode) e **QueryContextAttributesA** (ANSI)<br/>                |



## <a name="see-also"></a>Confira também

<dl> <dt>

[Funções SSPI](authentication-functions.md#sspi-functions)
</dt> <dt>

[**CONTEXTO DO \_ CERTIFICADO**](/windows/win32/api/wincrypt/ns-wincrypt-cert_context)
</dt> <dt>

[**Freecontextbuffer**](/windows/win32/api/sspi/nf-sspi-freecontextbuffer)
</dt> <dt>

[**Autoridade SecPkgContext \_**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_authoritya)
</dt> <dt>

[**SecPkgContext \_ ConnectionInfo**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_connectioninfo)
</dt> <dt>

[**SecPkgContext \_ DceInfo**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_dceinfo)
</dt> <dt>

[**IssuerListInfoEx de SecPkgContext \_**](/windows/win32/api/schannel/ns-schannel-secpkgcontext_issuerlistinfoex)
</dt> <dt>

[**SecPkgContext \_ KeyInfo**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_keyinfoa)
</dt> <dt>

[**SecPkgContext \_ Lifespan**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_lifespan)
</dt> <dt>

[**Nomes secPkgContext \_**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_namesa)
</dt> <dt>

[**Tamanhos de SecPkgContext \_**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_sizes)
</dt> <dt>

[**SecPkgContext \_ StreamSizes**](/windows/win32/api/sspi/ns-sspi-secpkgcontext_streamsizes)
</dt> </dl>

 

 
