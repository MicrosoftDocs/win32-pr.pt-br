---
description: A segurança do WMI se concentra na proteção do acesso aos dados do namespace. O WMI primeiro concede acesso a grupos de usuários conforme especificado pelo controle WMI e pelas configurações do DCOM e, em seguida, os provedores determinam se o usuário deve ter acesso aos dados do namespace.
ms.assetid: 88a2538a-ae30-4a1a-9d16-f0cd9419b2ed
ms.tgt_platform: multiple
title: Mantendo a segurança do WMI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f25cbf4a29567b263d6bd279aac9e2e6e21c523e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105764027"
---
# <a name="maintaining-wmi-security"></a><span data-ttu-id="6edbd-104">Mantendo a segurança do WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-104">Maintaining WMI Security</span></span>

<span data-ttu-id="6edbd-105">A segurança do WMI se concentra na proteção do acesso aos dados do namespace.</span><span class="sxs-lookup"><span data-stu-id="6edbd-105">WMI security focuses on protecting access to namespace data.</span></span> <span data-ttu-id="6edbd-106">O WMI primeiro concede acesso a grupos de usuários conforme especificado pelo [*controle WMI*](gloss-w.md) e pelas configurações do DCOM e, em seguida, os provedores determinam se o usuário deve ter acesso aos dados do namespace.</span><span class="sxs-lookup"><span data-stu-id="6edbd-106">WMI first grants access to groups of users as specified by the [*WMI Control*](gloss-w.md) and DCOM settings and then providers determine if the user should have access to namespace data.</span></span>

<span data-ttu-id="6edbd-107">As seções a seguir são discutidas neste tópico:</span><span class="sxs-lookup"><span data-stu-id="6edbd-107">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="6edbd-108">Segurança do namespace</span><span class="sxs-lookup"><span data-stu-id="6edbd-108">Namespace Security</span></span>](#namespace-security)
-   [<span data-ttu-id="6edbd-109">Configurações de segurança do DCOM (Component Object Model distribuído).</span><span class="sxs-lookup"><span data-stu-id="6edbd-109">Distributed Component Object Model (DCOM) Security Settings.</span></span>](#distributed-component-object-model-dcom-security-settings)
-   [<span data-ttu-id="6edbd-110">WMI, hosts de serviço compartilhado e autenticação</span><span class="sxs-lookup"><span data-stu-id="6edbd-110">WMI, Shared Service Hosts, and Authentication</span></span>](#wmi-shared-service-hosts-and-authentication)
-   [<span data-ttu-id="6edbd-111">Segurança para aplicativos e scripts de cliente do WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-111">Security for WMI Client Scripts and Applications</span></span>](#security-for-wmi-client-scripts-and-applications)
-   [<span data-ttu-id="6edbd-112">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6edbd-112">Related topics</span></span>](#related-topics)

## <a name="namespace-security"></a><span data-ttu-id="6edbd-113">Segurança do namespace</span><span class="sxs-lookup"><span data-stu-id="6edbd-113">Namespace Security</span></span>

<span data-ttu-id="6edbd-114">A segurança do namespace depende dos [*identificadores de segurança do usuário (SID)*](gloss-s.md) padrão do Windows e do [*descritor de segurança*](gloss-s.md) para o namespace do WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-114">Namespace security depends on standard Windows user [*security identifiers (SID)*](gloss-s.md) and the [*security descriptor*](gloss-s.md) for the WMI namespace.</span></span>

<span data-ttu-id="6edbd-115">Você pode definir a segurança do namespace executando as seguintes ações:</span><span class="sxs-lookup"><span data-stu-id="6edbd-115">You can set namespace security by performing the following actions:</span></span>

-   <span data-ttu-id="6edbd-116">Conceda ou negue direitos de acesso a namespaces para usuários que usam o controle WMI ou quando o namespace é criado.</span><span class="sxs-lookup"><span data-stu-id="6edbd-116">Grant or deny access rights to namespaces for users using the WMI Control or when the namespace is created.</span></span> <span data-ttu-id="6edbd-117">Para obter mais informações, consulte [definindo a segurança do namespace com o controle WMI](setting-namespace-security-with-the-wmi-control.md) e [definindo a segurança do namespace quando o namespace é criado](setting-namespace-security-when-the-namespace-is-created.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-117">For more information, see [Setting Namespace Security with the WMI Control](setting-namespace-security-with-the-wmi-control.md) and [Setting Namespace Security When the Namespace is Created](setting-namespace-security-when-the-namespace-is-created.md).</span></span>
-   <span data-ttu-id="6edbd-118">Use a guia Segurança do controle WMI para estabelecer a auditoria de segurança.</span><span class="sxs-lookup"><span data-stu-id="6edbd-118">Use the WMI Control Security tab to establish security auditing.</span></span> <span data-ttu-id="6edbd-119">A auditoria de segurança resulta em entradas de log de eventos quando um usuário falha ou é bem sucedido em uma ação auditada, como gravar dados em um objeto WMI ou ler o descritor de segurança.</span><span class="sxs-lookup"><span data-stu-id="6edbd-119">Security auditing results in event log entries when a user fails or succeeds in an audited action, such as writing data to a WMI object or reading the security descriptor.</span></span> <span data-ttu-id="6edbd-120">Para obter mais informações, consulte [Access to WMI namespaces](access-to-wmi-namespaces.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-120">For more information, see [Access to WMI Namespaces](access-to-wmi-namespaces.md).</span></span>
-   <span data-ttu-id="6edbd-121">Use o arquivo MOF que define o namespace para exigir que um usuário faça uma conexão criptografada.</span><span class="sxs-lookup"><span data-stu-id="6edbd-121">Use the MOF file that defines the namespace to require a user to make an encrypted connection.</span></span> <span data-ttu-id="6edbd-122">Para obter mais informações, consulte [exigindo uma conexão criptografada para um namespace](requiring-an-encrypted-connection-to-a-namespace.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-122">For more information, see [Requiring an Encrypted Connection to a Namespace](requiring-an-encrypted-connection-to-a-namespace.md).</span></span>

## <a name="distributed-component-object-model-dcom-security-settings"></a><span data-ttu-id="6edbd-123">Configurações de segurança do DCOM (Component Object Model distribuído).</span><span class="sxs-lookup"><span data-stu-id="6edbd-123">Distributed Component Object Model (DCOM) Security Settings.</span></span>

<span data-ttu-id="6edbd-124">A segurança DCOM requer uma configuração de autenticação e uma configuração de representação.</span><span class="sxs-lookup"><span data-stu-id="6edbd-124">DCOM security requires an authentication setting and an impersonation setting.</span></span> <span data-ttu-id="6edbd-125">Autenticação significa que um processo se identifica para outro.</span><span class="sxs-lookup"><span data-stu-id="6edbd-125">Authentication means that one process identifies itself to another.</span></span> <span data-ttu-id="6edbd-126">A representação identifica a autoridade que um cliente concede a um servidor para chamar diferentes processos.</span><span class="sxs-lookup"><span data-stu-id="6edbd-126">Impersonation identifies the authority that a client grants a server to call different processes.</span></span> <span data-ttu-id="6edbd-127">Durante uma verificação de segurança, o servidor representa o cliente.</span><span class="sxs-lookup"><span data-stu-id="6edbd-127">During a security check, the server impersonates the client.</span></span> <span data-ttu-id="6edbd-128">Para obter mais informações, consulte [Securing C++ clients and Providers](securing-c---clients-and-providers.md) or [Securing scripting clients](securing-scripting-clients.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-128">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md) or [Securing Scripting Clients](securing-scripting-clients.md).</span></span>

<span data-ttu-id="6edbd-129">Os scripts e os aplicativos C/C++/C # estabelecem um nível de autenticação e representação quando se conectam a um namespace WMI ou usam as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="6edbd-129">Scripts and C/C++/C# applications either establish an authentication and impersonation levels when they connect to a WMI namespace or they use the default settings.</span></span> <span data-ttu-id="6edbd-130">As conexões com computadores remotos exigem configurações diferentes dos namespaces do WMI no computador local.</span><span class="sxs-lookup"><span data-stu-id="6edbd-130">Connections to remote computers require different settings than to the WMI namespaces on the local computer.</span></span> <span data-ttu-id="6edbd-131">Para obter mais informações, consulte [conectando-se ao WMI em um computador remoto](connecting-to-wmi-on-a-remote-computer.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-131">For more information, see [Connecting to WMI on a Remote Computer](connecting-to-wmi-on-a-remote-computer.md).</span></span>

## <a name="wmi-shared-service-hosts-and-authentication"></a><span data-ttu-id="6edbd-132">WMI, hosts de serviço compartilhado e autenticação</span><span class="sxs-lookup"><span data-stu-id="6edbd-132">WMI, Shared Service Hosts, and Authentication</span></span>

<span data-ttu-id="6edbd-133">O WMI reside em um host de serviço compartilhado com vários outros serviços em execução na conta NetworkService.</span><span class="sxs-lookup"><span data-stu-id="6edbd-133">WMI resides in a shared service host with several other services running under the NetworkService account.</span></span> <span data-ttu-id="6edbd-134">Em um processo Svchost, o WMI compartilha a mesma autenticação que os outros processos no host.</span><span class="sxs-lookup"><span data-stu-id="6edbd-134">In a Svchost process, WMI shares the same authentication as the other processes in the host.</span></span>

<span data-ttu-id="6edbd-135">As DLLs do provedor são carregadas em processos de host de serviço separados do WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-135">Provider DLLs are loaded into separate service host processes from WMI.</span></span> <span data-ttu-id="6edbd-136">A propriedade **HostingModel** na classe do sistema [**\_ \_ Win32Provider**](--win32provider.md) que representa um provedor especifica a conta do sistema sob a qual o provedor é executado.</span><span class="sxs-lookup"><span data-stu-id="6edbd-136">The **HostingModel** property in the [**\_\_Win32Provider**](--win32provider.md) system class that represents a provider specifies the system account under which the provider runs.</span></span> <span data-ttu-id="6edbd-137">Definir essa propriedade faz com que o provedor seja carregado em um processo de host compartilhado que tenha um nível de privilégio especificado.</span><span class="sxs-lookup"><span data-stu-id="6edbd-137">Setting this property causes the provider to be loaded into a shared host process that has a specified level of privilege.</span></span> <span data-ttu-id="6edbd-138">Para obter mais informações, consulte [provedor de hospedagem e segurança](provider-hosting-and-security.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-138">For more information, see [Provider Hosting and Security](provider-hosting-and-security.md).</span></span>

## <a name="security-for-wmi-client-scripts-and-applications"></a><span data-ttu-id="6edbd-139">Segurança para aplicativos e scripts de cliente do WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-139">Security for WMI Client Scripts and Applications</span></span>

<span data-ttu-id="6edbd-140">Scripts e aplicativos devem estabelecer a segurança correta para se conectar a namespaces WMI em computadores locais e remotos.</span><span class="sxs-lookup"><span data-stu-id="6edbd-140">Scripts and applications must establish the correct security to connect to WMI namespaces on local and remote computers.</span></span> <span data-ttu-id="6edbd-141">Para obter mais informações, consulte [protegendo clientes e provedores do C++](securing-c---clients-and-providers.md), [protegendo clientes de script](securing-scripting-clients.md)e [protegendo eventos WMI](securing-wmi-events.md).</span><span class="sxs-lookup"><span data-stu-id="6edbd-141">For more information, see [Securing C++ Clients and Providers](securing-c---clients-and-providers.md), [Securing Scripting Clients](securing-scripting-clients.md), and [Securing WMI Events](securing-wmi-events.md).</span></span>

<span data-ttu-id="6edbd-142">A tabela a seguir lista os tópicos sobre como manter a segurança do WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-142">The following table lists the topics on maintaining WMI security.</span></span>



| <span data-ttu-id="6edbd-143">Tópico</span><span class="sxs-lookup"><span data-stu-id="6edbd-143">Topic</span></span>                                                                                              | <span data-ttu-id="6edbd-144">Descrição</span><span class="sxs-lookup"><span data-stu-id="6edbd-144">Description</span></span>                                                                                                                                                           |
|----------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="6edbd-145">Protegendo namespaces WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-145">Securing WMI Namespaces</span></span>](securing-wmi-namespaces.md)                                             | <span data-ttu-id="6edbd-146">Você pode limitar o acesso a dados de namespace a usuários autorizados por meio do controle WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-146">You can limit namespace data access to authorized users through the WMI Control.</span></span>                                                                                      |
| [<span data-ttu-id="6edbd-147">Protegendo seu provedor</span><span class="sxs-lookup"><span data-stu-id="6edbd-147">Securing Your Provider</span></span>](securing-your-provider.md)                                               | <span data-ttu-id="6edbd-148">Informações sobre como escrever provedores seguros.</span><span class="sxs-lookup"><span data-stu-id="6edbd-148">Information about writing secure providers.</span></span>                                                                                                                           |
| [<span data-ttu-id="6edbd-149">Protegendo clientes e provedores do C++</span><span class="sxs-lookup"><span data-stu-id="6edbd-149">Securing C++ Clients and Providers</span></span>](securing-c---clients-and-providers.md)                       | <span data-ttu-id="6edbd-150">Tanto os provedores de C++ quanto os aplicativos cliente devem executar muitas das mesmas operações para manter a segurança do WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-150">Both C++ providers and client applications must perform many of the same operations to maintain WMI security.</span></span>                                                         |
| [<span data-ttu-id="6edbd-151">Protegendo clientes de script</span><span class="sxs-lookup"><span data-stu-id="6edbd-151">Securing Scripting Clients</span></span>](securing-scripting-clients.md)                                       | <span data-ttu-id="6edbd-152">Scripts e aplicativos de Visual Basic (clientes de automação) devem definir a segurança apropriada para obter acesso a dados e eventos do WMI.</span><span class="sxs-lookup"><span data-stu-id="6edbd-152">Scripts and Visual Basic applications (automation clients) must set appropriate security to get access to WMI data and events.</span></span>                                        |
| [<span data-ttu-id="6edbd-153">Protegendo eventos WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-153">Securing WMI Events</span></span>](securing-wmi-events.md)                                                     | <span data-ttu-id="6edbd-154">Os eventos WMI são entregues pelo provedor de eventos a um consumidor temporário ou permanente.</span><span class="sxs-lookup"><span data-stu-id="6edbd-154">WMI events are delivered by the event provider to a temporary or permanent consumer.</span></span> <span data-ttu-id="6edbd-155">Os eventos são entregues na forma de uma instância de uma classe de evento.</span><span class="sxs-lookup"><span data-stu-id="6edbd-155">Events are delivered in the form of an instance of an event class.</span></span>               |
| [<span data-ttu-id="6edbd-156">Alterando a segurança de acesso em objetos protegíveis</span><span class="sxs-lookup"><span data-stu-id="6edbd-156">Changing Access Security on Securable Objects</span></span>](changing-access-security-on-securable-objects.md) | <span data-ttu-id="6edbd-157">Com as permissões apropriadas, você pode chamar métodos nos objetos WMI que representam objetos protegíveis que lêem ou alteram descritores de segurança em objetos protegíveis.</span><span class="sxs-lookup"><span data-stu-id="6edbd-157">With appropriate permissions, you can call methods on the WMI objects that represent securable objects that read or change security descriptors on securable objects.</span></span> |



 

## <a name="related-topics"></a><span data-ttu-id="6edbd-158">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6edbd-158">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6edbd-159">Usando o WMI</span><span class="sxs-lookup"><span data-stu-id="6edbd-159">Using WMI</span></span>](using-wmi.md)
</dt> </dl>

 

 



