---
description: Um provedor WMI consiste em um arquivo formato MOF (MOF) e um arquivo DLL. O arquivo MOF define as classes para as quais a implementação do provedor fornece dados.
ms.assetid: 20ef6b88-2aaa-4e86-bc4a-bebc34069672
ms.tgt_platform: multiple
title: Criando classes formato MOF (MOF)
ms.topic: article
ms.date: 05/31/2018
topic_type:
- kbArticle
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: 201f8c45f7a247fbca5695baa6dd440fc5dc323f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104170389"
---
# <a name="designing-managed-object-format-mof-classes"></a><span data-ttu-id="699f9-104">Criando classes formato MOF (MOF)</span><span class="sxs-lookup"><span data-stu-id="699f9-104">Designing Managed Object Format (MOF) Classes</span></span>

<span data-ttu-id="699f9-105">Um [*provedor WMI*](gloss-p.md) consiste em um arquivo formato MOF (MOF) e um arquivo dll.</span><span class="sxs-lookup"><span data-stu-id="699f9-105">A [*WMI provider*](gloss-p.md) consists of a Managed Object Format (MOF) file and DLL file.</span></span> <span data-ttu-id="699f9-106">O arquivo MOF define as classes para as quais a implementação do provedor fornece dados.</span><span class="sxs-lookup"><span data-stu-id="699f9-106">The MOF file defines the classes for which the provider implementation supplies data.</span></span>

<span data-ttu-id="699f9-107">As definições de classe do MOF são compiladas pelo utilitário [**Mofcomp**](mofcomp.md) e armazenadas no [*repositório WMI*](gloss-w.md), também conhecido como repositório de modelo CIM (CIM).</span><span class="sxs-lookup"><span data-stu-id="699f9-107">The MOF class definitions are compiled by the [**mofcomp**](mofcomp.md) utility and stored in the [*WMI repository*](gloss-w.md), also known as the Common Information Model (CIM) repository.</span></span> <span data-ttu-id="699f9-108">Uma maneira menos comum de criar classes é por meio dos métodos da [API com para o WMI](com-api-for-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-108">A less common way to create classes is through the methods of the [COM API for WMI](com-api-for-wmi.md).</span></span>

> [!Note]  
> <span data-ttu-id="699f9-109">Para garantir que todas as definições de classe WMI para objetos gerenciados sejam restauradas no [*repositório WMI*](gloss-w.md) se o WMI tiver uma falha e reiniciar, use a instrução de pré-processador de [**\# AutoRecuperação pragma**](pragma-autorecover.md) em seu arquivo MOF.</span><span class="sxs-lookup"><span data-stu-id="699f9-109">To ensure that all your WMI class definitions for managed objects are restored to the [*WMI repository*](gloss-w.md) if WMI has a failure and restarts, use the [**\#pragma autorecover**](pragma-autorecover.md) preprocessor instruction in your MOF file.</span></span>

 

<span data-ttu-id="699f9-110">As seções a seguir são discutidas neste tópico:</span><span class="sxs-lookup"><span data-stu-id="699f9-110">The following sections are discussed in this topic:</span></span>

-   [<span data-ttu-id="699f9-111">Definindo os objetos a serem gerenciados</span><span class="sxs-lookup"><span data-stu-id="699f9-111">Defining the Objects to Manage</span></span>](#defining-the-objects-to-manage)
-   [<span data-ttu-id="699f9-112">Definindo propriedades ou métodos</span><span class="sxs-lookup"><span data-stu-id="699f9-112">Defining Properties or Methods</span></span>](#defining-properties-or-methods)
-   [<span data-ttu-id="699f9-113">Relacionando objetos entre si</span><span class="sxs-lookup"><span data-stu-id="699f9-113">Relating Objects to Each Other</span></span>](#relating-objects-to-each-other)
-   [<span data-ttu-id="699f9-114">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="699f9-114">Related topics</span></span>](#related-topics)

## <a name="defining-the-objects-to-manage"></a><span data-ttu-id="699f9-115">Definindo os objetos a serem gerenciados</span><span class="sxs-lookup"><span data-stu-id="699f9-115">Defining the Objects to Manage</span></span>

<span data-ttu-id="699f9-116">Depois de identificar a parte de sua empresa a ser gerenciada, defina os objetos a serem gerenciados.</span><span class="sxs-lookup"><span data-stu-id="699f9-116">After you identify the part of your enterprise to manage, define the objects to manage.</span></span> <span data-ttu-id="699f9-117">A definição deve incluir os dados necessários e permitir que você implemente as regras de negócios relevantes com precisão.</span><span class="sxs-lookup"><span data-stu-id="699f9-117">The definition must include the required data, and allow you to implement the relevant business rules accurately.</span></span> <span data-ttu-id="699f9-118">Você pode definir objetos em um nível granular, mas é melhor decidir entre o nível de detalhe contido na definição e a necessidade de fornecer detalhes suficientes para ser útil.</span><span class="sxs-lookup"><span data-stu-id="699f9-118">You can define objects at a granular level, but it is best to decide between the level of detail contained in the definition, and the need to provide enough detail to be useful.</span></span> <span data-ttu-id="699f9-119">Os atalhos no início do processo podem economizar tempo, mas podem causar mais trabalho no futuro.</span><span class="sxs-lookup"><span data-stu-id="699f9-119">Shortcuts early in the process may save time, but may be cause more work in the future.</span></span>

<span data-ttu-id="699f9-120">O tutorial do CIM no site da DMTF (Distributed Management Task Force) contém informações excelentes sobre o processo de design.</span><span class="sxs-lookup"><span data-stu-id="699f9-120">The CIM Tutorial at the Distributed Management Task Force (DMTF) website contains excellent information about the design process.</span></span> <span data-ttu-id="699f9-121">Para obter mais informações, consulte [www.dmtf.org](https://www.dmtf.org/).</span><span class="sxs-lookup"><span data-stu-id="699f9-121">For more information, see [www.dmtf.org](https://www.dmtf.org/).</span></span>

<span data-ttu-id="699f9-122">Considere os seguintes fatores ao desenvolver e implementar um design de esquema:</span><span class="sxs-lookup"><span data-stu-id="699f9-122">Consider the following factors when you develop and implement a schema design:</span></span>

-   <span data-ttu-id="699f9-123">Qualificadores</span><span class="sxs-lookup"><span data-stu-id="699f9-123">Qualifiers</span></span>

    <span data-ttu-id="699f9-124">Os qualificadores fornecem informações sobre como descrever classes, objetos, propriedades, métodos e parâmetros; e eles são aplicados às definições de classe e propriedade.</span><span class="sxs-lookup"><span data-stu-id="699f9-124">Qualifiers provide information about how to describe classes, objects, properties, methods, and parameters; and they are applied to class and property definitions.</span></span> <span data-ttu-id="699f9-125">No código MOF, os qualificadores são colocados entre colchetes e podem incluir \[ chave \] ou \[ Associação \] .</span><span class="sxs-lookup"><span data-stu-id="699f9-125">In MOF code, qualifiers are enclosed in brackets and may include \[key\] or \[association\].</span></span> <span data-ttu-id="699f9-126">Para obter mais informações, consulte [adicionando um qualificador](adding-a-qualifier.md) e [qualificadores WMI](wmi-qualifiers.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-126">For more information, see [Adding a Qualifier](adding-a-qualifier.md) and [WMI Qualifiers](wmi-qualifiers.md).</span></span>

-   <span data-ttu-id="699f9-127">Namespace</span><span class="sxs-lookup"><span data-stu-id="699f9-127">Namespace</span></span>

    <span data-ttu-id="699f9-128">Um namespace é uma unidade lógica para agrupar classes e objetos e controlar o escopo e a visibilidade.</span><span class="sxs-lookup"><span data-stu-id="699f9-128">A namespace is a logical unit to group classes and objects, and control scope and visibility.</span></span> <span data-ttu-id="699f9-129">Normalmente, um namespace contém um conjunto de classes e objetos que representam objetos gerenciados em um ambiente específico.</span><span class="sxs-lookup"><span data-stu-id="699f9-129">Typically, a namespace contains a set of classes and objects that represent managed objects in a specific environment.</span></span> <span data-ttu-id="699f9-130">Para obter mais informações, consulte [Criando hierarquias no WMI](creating-hierarchies-within-wmi.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-130">For more information, see [Creating Hierarchies Within WMI](creating-hierarchies-within-wmi.md).</span></span>

-   <span data-ttu-id="699f9-131">Objeto</span><span class="sxs-lookup"><span data-stu-id="699f9-131">Object</span></span>

    <span data-ttu-id="699f9-132">Um objeto modelado pode ser um elemento físico ou lógico do esquema.</span><span class="sxs-lookup"><span data-stu-id="699f9-132">A modeled object might be a physical or logical element of the schema.</span></span> <span data-ttu-id="699f9-133">Por exemplo, você pode modelar uma unidade de disco físico, como uma unidade de disco rígido, ou um disco lógico que possa ser uma partição em um disco físico.</span><span class="sxs-lookup"><span data-stu-id="699f9-133">For example, you can model a physical disk drive such as a hard disk drive, or a logical disk that can be a partition on a physical disk.</span></span> <span data-ttu-id="699f9-134">Um design que usa uma classe para modelar uma unidade de disco físico e, em seguida, estende essa classe para modelar um disco lógico é mais extensível do que uma que tenta criar uma classe separada para cada tipo de disco.</span><span class="sxs-lookup"><span data-stu-id="699f9-134">A design that uses a class to model a physical disk drive, and then extends that class to model a logical disk is more extensible than one that attempts to create a separate class for each type of disk.</span></span>

-   <span data-ttu-id="699f9-135">Dados</span><span class="sxs-lookup"><span data-stu-id="699f9-135">Data</span></span>

    <span data-ttu-id="699f9-136">Os dados podem ser dinâmicos ou estáticos.</span><span class="sxs-lookup"><span data-stu-id="699f9-136">Data may be dynamic or static.</span></span> <span data-ttu-id="699f9-137">Se os dados forem dinâmicos, você deverá criar um provedor de classes para ele.</span><span class="sxs-lookup"><span data-stu-id="699f9-137">If the data is dynamic, you must create a class provider for it.</span></span>

    <span data-ttu-id="699f9-138">Para permitir que o usuário modifique dados, você deve determinar se deseja ou não que uma propriedade seja diretamente gravável ou modificável usando um método chamado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="699f9-138">To enable the user to modify data, you must determine whether or not you want a property to be directly writable or modifiable only by using a method that the user calls.</span></span>

## <a name="defining-properties-or-methods"></a><span data-ttu-id="699f9-139">Definindo propriedades ou métodos</span><span class="sxs-lookup"><span data-stu-id="699f9-139">Defining Properties or Methods</span></span>

<span data-ttu-id="699f9-140">Em geral, uma propriedade de classe WMI é semelhante a uma propriedade em uma classe C++.</span><span class="sxs-lookup"><span data-stu-id="699f9-140">Generally, a WMI class property is similar to a property in a C++ class.</span></span> <span data-ttu-id="699f9-141">Se as únicas ações que seu código implementa para a parte dos dados são obter o valor ou definir o valor, os dados devem ser definidos como uma propriedade da classe WMI.</span><span class="sxs-lookup"><span data-stu-id="699f9-141">If the only actions your code implements for the piece of data is to get the value or set the value, then the data should be defined as a property of the WMI class.</span></span>

<span data-ttu-id="699f9-142">Um método WMI geralmente executa uma ação que altera o estado de um objeto gerenciado.</span><span class="sxs-lookup"><span data-stu-id="699f9-142">A WMI method generally performs an action that changes the state of a managed object.</span></span> <span data-ttu-id="699f9-143">Por exemplo, se a ação for habilitar ou desabilitar a operação de um objeto de hardware, um método provavelmente será preferível a criar uma propriedade de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="699f9-143">For example, if the action is to enable or disable the operation of a hardware object, then a method is probably preferable to creating a read/write property.</span></span> <span data-ttu-id="699f9-144">Você também pode optar por criar uma propriedade que exibe o estado do hardware.</span><span class="sxs-lookup"><span data-stu-id="699f9-144">You may decide also to create a property that displays the state of the hardware.</span></span>

<span data-ttu-id="699f9-145">Ao criar uma classe ou uma instância, você pode incluir comentários.</span><span class="sxs-lookup"><span data-stu-id="699f9-145">When you create a class or an instance, you can include comments.</span></span> <span data-ttu-id="699f9-146">Use essa técnica para documentar sua classe ou explicar suas técnicas de programação.</span><span class="sxs-lookup"><span data-stu-id="699f9-146">Use this technique to document your class or explain your programming techniques.</span></span> <span data-ttu-id="699f9-147">Para obter mais informações, consulte [criando um comentário](creating-a-comment.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-147">For more information, see [Creating a Comment](creating-a-comment.md).</span></span> <span data-ttu-id="699f9-148">Além disso, você pode adicionar dados para qualificar a finalidade de um objeto de dados.</span><span class="sxs-lookup"><span data-stu-id="699f9-148">In addition, you can add data to qualify the purpose of a data object.</span></span> <span data-ttu-id="699f9-149">Para obter mais informações, consulte [adicionando um qualificador](adding-a-qualifier.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-149">For more information, see [Adding a Qualifier](adding-a-qualifier.md).</span></span>

## <a name="relating-objects-to-each-other"></a><span data-ttu-id="699f9-150">Relacionando objetos entre si</span><span class="sxs-lookup"><span data-stu-id="699f9-150">Relating Objects to Each Other</span></span>

<span data-ttu-id="699f9-151">Há duas maneiras de relacionar objetos entre si: Criando objetos separados e um objeto de associação que os relaciona ou inserindo um objeto no outro.</span><span class="sxs-lookup"><span data-stu-id="699f9-151">There are two ways to relate objects to each other: by creating separate objects and an association object that relates them, or by embedding one object in the other.</span></span> <span data-ttu-id="699f9-152">O CIM não dá suporte a objetos incorporados, portanto, para ser compatível com o CIM, você deve usar o primeiro método.</span><span class="sxs-lookup"><span data-stu-id="699f9-152">CIM does not support embedded objects, so to be CIM-compliant you must use the first method.</span></span> <span data-ttu-id="699f9-153">No entanto, o WMI dá suporte a objetos inseridos, portanto, use qualquer um dos métodos para representar uma relação entre objetos.</span><span class="sxs-lookup"><span data-stu-id="699f9-153">However, WMI supports embedded objects so use either method to represent a relationship between objects.</span></span> <span data-ttu-id="699f9-154">Você pode encontrar exemplos de objetos inseridos nas [classes do Win32](/windows/desktop/CIMWin32Prov/win32-provider).</span><span class="sxs-lookup"><span data-stu-id="699f9-154">You can find examples of embedded objects in the [Win32 Classes](/windows/desktop/CIMWin32Prov/win32-provider).</span></span> <span data-ttu-id="699f9-155">Por exemplo, o [**Win32 \_ SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) tem o objeto inserido [**Win32 \_ Ace**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), que tem outro objeto incorporado, o [**\_ confiança do Win32**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee).</span><span class="sxs-lookup"><span data-stu-id="699f9-155">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) has the embedded object [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace), which has another embedded object, [**Win32\_Trustee**](/previous-versions/windows/desktop/secrcw32prov/win32-trustee).</span></span>

<span data-ttu-id="699f9-156">Considere o seguinte ao decidir como representar relações entre objetos:</span><span class="sxs-lookup"><span data-stu-id="699f9-156">Consider the following when deciding how to represent relationships between objects:</span></span>

-   <span data-ttu-id="699f9-157">Se uma instância for útil por si mesma, uma associação funcionará melhor.</span><span class="sxs-lookup"><span data-stu-id="699f9-157">If an instance is useful by itself, then an association works best.</span></span> <span data-ttu-id="699f9-158">Por exemplo, [**Win32 \_ process**](/windows/desktop/CIMWin32Prov/win32-process) e [**Win32 \_ USERACCOUNT**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span><span class="sxs-lookup"><span data-stu-id="699f9-158">For example, [**Win32\_Process**](/windows/desktop/CIMWin32Prov/win32-process) and [**Win32\_UserAccount**](/windows/desktop/CIMWin32Prov/win32-useraccount).</span></span> <span data-ttu-id="699f9-159">Para obter mais informações, consulte [declarando uma classe de associação](declaring-an-association-class.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-159">For more information, see [Declaring an Association Class](declaring-an-association-class.md).</span></span>
-   <span data-ttu-id="699f9-160">Se uma instância não existir fora do objeto pai, um objeto incorporado funcionará melhor.</span><span class="sxs-lookup"><span data-stu-id="699f9-160">If an instance does not exist outside of the parent object, an embedded object works best.</span></span> <span data-ttu-id="699f9-161">Por exemplo, [**Win32 \_ SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) e [**Win32 \_ Ace**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span><span class="sxs-lookup"><span data-stu-id="699f9-161">For example, [**Win32\_SecurityDescriptor**](/previous-versions/windows/desktop/secrcw32prov/win32-securitydescriptor) and [**Win32\_ACE**](/previous-versions/windows/desktop/secrcw32prov/win32-ace).</span></span> <span data-ttu-id="699f9-162">Para obter mais informações, consulte [inserindo objetos em uma classe](embedded-objects.md).</span><span class="sxs-lookup"><span data-stu-id="699f9-162">For more information, see [Embedding Objects in a Class](embedded-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="699f9-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="699f9-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="699f9-164">Desenvolvendo um provedor WMI</span><span class="sxs-lookup"><span data-stu-id="699f9-164">Developing a WMI Provider</span></span>](developing-a-wmi-provider.md)
</dt> <dt>

[<span data-ttu-id="699f9-165">Fornecendo dados ao WMI</span><span class="sxs-lookup"><span data-stu-id="699f9-165">Providing Data to WMI</span></span>](providing-data-to-wmi.md)
</dt> <dt>

[<span data-ttu-id="699f9-166">Tipos de dados MOF</span><span class="sxs-lookup"><span data-stu-id="699f9-166">MOF Data Types</span></span>](mof-data-types.md)
</dt> </dl>

 

 
