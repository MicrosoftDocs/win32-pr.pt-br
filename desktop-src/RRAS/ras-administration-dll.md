---
title: Sobre DLLs de administração de RAS
description: A DLL de administração de RAS exporta as funções que o servidor RAS chama sempre que um usuário tenta se conectar ou se desconectar.
ms.assetid: c15c6e2d-3bb6-4583-9ac3-19528feb863f
keywords:
- Administração de RAS RRAS, DLL de administração de RAS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1cb170e8cfa331ab9591aa509772c6f6a743fa49
ms.sourcegitcommit: cba7f424a292fd7f3a8518947b9466439b455419
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/23/2019
ms.locfileid: "104498958"
---
# <a name="about-ras-administration-dlls"></a><span data-ttu-id="14807-104">Sobre DLLs de administração de RAS</span><span class="sxs-lookup"><span data-stu-id="14807-104">About RAS administration DLLs</span></span>

<span data-ttu-id="14807-105">A DLL de administração de RAS exporta as funções que o servidor RAS chama sempre que um usuário tenta se conectar ou se desconectar.</span><span class="sxs-lookup"><span data-stu-id="14807-105">The RAS Administration DLL exports functions that the RAS server calls whenever a user tries to connect or disconnect.</span></span> <span data-ttu-id="14807-106">Aqui estão alguns dos usos possíveis para uma DLL de administração de RAS:</span><span class="sxs-lookup"><span data-stu-id="14807-106">Here are some of the possible uses for a RAS administration DLL:</span></span>

-   <span data-ttu-id="14807-107">Decida se deseja permitir que um usuário se conecte ao servidor.</span><span class="sxs-lookup"><span data-stu-id="14807-107">Decide whether to allow a user to connect to the server.</span></span> <span data-ttu-id="14807-108">A DLL de administração pode fornecer uma verificação de segurança além da autenticação de usuário RAS padrão.</span><span class="sxs-lookup"><span data-stu-id="14807-108">The administration DLL can provide a security check in addition to the standard RAS user authentication.</span></span>
-   <span data-ttu-id="14807-109">Registre a hora em que cada usuário se conecta e se desconecta do servidor.</span><span class="sxs-lookup"><span data-stu-id="14807-109">Record the time that each user connects to and disconnects from the server.</span></span> <span data-ttu-id="14807-110">Isso pode ser útil para fins de cobrança ou auditoria.</span><span class="sxs-lookup"><span data-stu-id="14807-110">This can be useful for billing or auditing purposes.</span></span>
-   <span data-ttu-id="14807-111">Atribua um endereço IP a cada usuário.</span><span class="sxs-lookup"><span data-stu-id="14807-111">Assign an IP address to each user.</span></span> <span data-ttu-id="14807-112">Isso é útil para segurança, pois esse recurso é usado para mapear a conexão de um usuário para um computador específico.</span><span class="sxs-lookup"><span data-stu-id="14807-112">This is useful for security, because this feature is used to map a user's connection to a specific computer.</span></span>

<span data-ttu-id="14807-113">O local da DLL de administração de RAS é especificado no registro; consulte [configuração do registro da DLL de administração do RAS](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="14807-113">The location of the RAS Administration DLL is specified in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="14807-114">O RAS dá suporte a várias DLLs de administração.</span><span class="sxs-lookup"><span data-stu-id="14807-114">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="14807-115">O registro dá suporte a vários locais de DLL.</span><span class="sxs-lookup"><span data-stu-id="14807-115">The registry supports multiple DLL locations.</span></span> <span data-ttu-id="14807-116">O RAS chama as funções nas DLLs na ordem em que as DLLs são listadas no registro; consulte [configuração do registro da DLL de administração do RAS](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="14807-116">RAS calls the functions in the DLLs in the order in which the DLLs are listed in the registry; see [RAS Administration DLL Registry Setup](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="14807-117">**Servidor do Windows 2000:** O RAS não dá suporte a várias DLLs.</span><span class="sxs-lookup"><span data-stu-id="14807-117">**Windows 2000 Server:** RAS does not support multiple DLLs.</span></span>

<span data-ttu-id="14807-118">Uma DLL de administração de RAS deve implementar e exportar todas as seguintes funções:</span><span class="sxs-lookup"><span data-stu-id="14807-118">A RAS administration DLL must implement and export all of the following functions:</span></span>

[<span data-ttu-id="14807-119">**MprAdminAcceptNewLink**</span><span class="sxs-lookup"><span data-stu-id="14807-119">**MprAdminAcceptNewLink**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink)

[<span data-ttu-id="14807-120">**MprAdminInitializeDll**</span><span class="sxs-lookup"><span data-stu-id="14807-120">**MprAdminInitializeDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll)

[<span data-ttu-id="14807-121">**MprAdminLinkHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="14807-121">**MprAdminLinkHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification)

[<span data-ttu-id="14807-122">**MprAdminTerminateDll**</span><span class="sxs-lookup"><span data-stu-id="14807-122">**MprAdminTerminateDll**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll)

<span data-ttu-id="14807-123">Além disso, a DLL de administração de RAS deve implementar e exportar qualquer um</span><span class="sxs-lookup"><span data-stu-id="14807-123">In addition, the RAS administration DLL must implement and export either</span></span>

<span data-ttu-id="14807-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e</span><span class="sxs-lookup"><span data-stu-id="14807-124">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and</span></span>

[<span data-ttu-id="14807-125">**MprAdminConnectionHangupNotification**</span><span class="sxs-lookup"><span data-stu-id="14807-125">**MprAdminConnectionHangupNotification**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification)

<span data-ttu-id="14807-126">ou</span><span class="sxs-lookup"><span data-stu-id="14807-126">or</span></span>

<span data-ttu-id="14807-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) e</span><span class="sxs-lookup"><span data-stu-id="14807-127">[**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and</span></span>

[<span data-ttu-id="14807-128">**MprAdminConnectionHangupNotification2**</span><span class="sxs-lookup"><span data-stu-id="14807-128">**MprAdminConnectionHangupNotification2**</span></span>](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2)

<span data-ttu-id="14807-129">Se todas as funções necessárias não forem implementadas, o RAS falhará ao iniciar.</span><span class="sxs-lookup"><span data-stu-id="14807-129">If all of the required functions are not implemented, RAS fails to start.</span></span>

<span data-ttu-id="14807-130">**Servidor do Windows 2000:** Uma DLL de administração deve implementar as funções [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) e [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) .</span><span class="sxs-lookup"><span data-stu-id="14807-130">**Windows 2000 Server:** An administration DLL must implement the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions.</span></span> <span data-ttu-id="14807-131">Se a DLL implementar uma dessas funções, ela também deverá implementar a outra.</span><span class="sxs-lookup"><span data-stu-id="14807-131">If the DLL implements one of these functions it must implement the other as well.</span></span>

<span data-ttu-id="14807-132">O RAS chama a função [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) quando o serviço de roteamento e acesso remoto é iniciado pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="14807-132">RAS calls the [**MprAdminInitializeDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmininitializedll) function when the Routing and Remote Access Service first starts up.</span></span> <span data-ttu-id="14807-133">A função **MprAdminInitializeDll** fornece uma oportunidade para que a DLL de administração faça qualquer inicialização necessária.</span><span class="sxs-lookup"><span data-stu-id="14807-133">The **MprAdminInitializeDll** function provides an opportunity for the administration DLL to do any necessary initialization.</span></span> <span data-ttu-id="14807-134">Da mesma forma, o RAS chama o serviço [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) quando o serviço de roteamento e acesso remoto é desligado.</span><span class="sxs-lookup"><span data-stu-id="14807-134">Similarly, RAS calls the [**MprAdminTerminateDll**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminterminatedll) service when the Routing and Remote Access Service shuts down.</span></span> <span data-ttu-id="14807-135">Essa função permite que a DLL de administração execute qualquer limpeza necessária antes de sair.</span><span class="sxs-lookup"><span data-stu-id="14807-135">This function allows the administration DLL to perform any necessary cleanup before exiting.</span></span>

<span data-ttu-id="14807-136">As funções [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) permitem que a dll faça auditoria de conexões de usuário com o servidor.</span><span class="sxs-lookup"><span data-stu-id="14807-136">The [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) functions enable the DLL to audit user connections to the server.</span></span> <span data-ttu-id="14807-137">Um servidor RAS chama a função **MprAdminAcceptNewConnection** sempre que um usuário tenta se conectar.</span><span class="sxs-lookup"><span data-stu-id="14807-137">A RAS server calls the **MprAdminAcceptNewConnection** function whenever a user tries to connect.</span></span> <span data-ttu-id="14807-138">Essa função torna possível impedir que o usuário se conecte.</span><span class="sxs-lookup"><span data-stu-id="14807-138">This function makes it possible to prevent the user from connecting.</span></span> <span data-ttu-id="14807-139">A função **MprAdminAcceptNewConnection** também pode gerar entradas de log para cobrança ou auditoria.</span><span class="sxs-lookup"><span data-stu-id="14807-139">The **MprAdminAcceptNewConnection** function could also generate log entries for billing or auditing.</span></span> <span data-ttu-id="14807-140">Quando o usuário se desconecta, o servidor RAS chama a função **MprAdminConnectionHangupNotification** , que pode registrar a hora em que o usuário se desconectou.</span><span class="sxs-lookup"><span data-stu-id="14807-140">When the user disconnects, the RAS server calls the **MprAdminConnectionHangupNotification** function, which can log the time at which the user disconnected.</span></span>

<span data-ttu-id="14807-141">As funções [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) e [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) são semelhantes a **MprAdminAcceptNewConnection** e [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span><span class="sxs-lookup"><span data-stu-id="14807-141">The [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) and [**MprAdminConnectionHangupNotification2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification2) functions are similar to **MprAdminAcceptNewConnection** and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification).</span></span> <span data-ttu-id="14807-142">No entanto, quando o RAS chama as funções **MprAdminAcceptNewConnection2** e **MPRADMINCONNECTIONHANGUPNOTIFICATION2** , o RAS passa em um parâmetro adicional do tipo [**\_ conexão RAS \_ 2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span><span class="sxs-lookup"><span data-stu-id="14807-142">However, when RAS calls the **MprAdminAcceptNewConnection2** and **MprAdminConnectionHangupNotification2** functions, RAS passes in an additional parameter of type [**RAS\_CONNECTION\_2**](/windows/desktop/api/Mprapi/ns-mprapi-ras_connection_2).</span></span>

<span data-ttu-id="14807-143">O RAS dá suporte a várias DLLs de administração.</span><span class="sxs-lookup"><span data-stu-id="14807-143">RAS supports multiple Administration DLLs.</span></span> <span data-ttu-id="14807-144">O usuário de acesso remoto tem permissão para se conectar somente se a implementação da função [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) ou [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) em cada uma das DLLs aceitar a conexão.</span><span class="sxs-lookup"><span data-stu-id="14807-144">The remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="14807-145">Em outras palavras, cada DLL deve aceitar a conexão para que o usuário tenha permissão para se conectar.</span><span class="sxs-lookup"><span data-stu-id="14807-145">In other words, every DLL must accept the connection in order for the user to be allowed to connect.</span></span>

<span data-ttu-id="14807-146">É possível que uma única conexão RAS use vários links ao se conectar a um servidor RAS.</span><span class="sxs-lookup"><span data-stu-id="14807-146">It is possible for a single RAS connection to use multiple links when connecting to a RAS server.</span></span> <span data-ttu-id="14807-147">As funções [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) e [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) POSSIBILITAm que a DLL de administração gerencie links individuais em uma conexão.</span><span class="sxs-lookup"><span data-stu-id="14807-147">The [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) and [**MprAdminLinkHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminlinkhangupnotification) functions make it possible for the Administration DLL to manage individual links in a connection.</span></span> <span data-ttu-id="14807-148">O RAS chama **MprAdminAcceptNewLink** sempre que um novo link é estabelecido para uma conexão.</span><span class="sxs-lookup"><span data-stu-id="14807-148">RAS calls **MprAdminAcceptNewLink** whenever a new link is established for a connection.</span></span> <span data-ttu-id="14807-149">Como todas as conexões envolvem pelo menos um link, o RAS sempre chama **MprAdminAcceptNewLink** uma vez imediatamente após o retorno de [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) ou [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) , desde que [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) ou [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) aceitem a conexão.</span><span class="sxs-lookup"><span data-stu-id="14807-149">Because all connections involve at least one link, RAS always calls **MprAdminAcceptNewLink** once immediately after [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) returns, provided that [**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) or [**MprAdminAcceptNewConnection2**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection2) accepted the connection.</span></span> <span data-ttu-id="14807-150">O RAS chama **MprAdminLinkHangupNotification** sempre que um link para uma conexão é desligado.</span><span class="sxs-lookup"><span data-stu-id="14807-150">RAS calls **MprAdminLinkHangupNotification** whenever a link for a connection is shutdown.</span></span>

<span data-ttu-id="14807-151">Como o RAS dá suporte a várias DLLs de administração, o usuário de acesso remoto tem permissão para se conectar somente se a implementação da função [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) em cada uma das DLLs aceitar a conexão.</span><span class="sxs-lookup"><span data-stu-id="14807-151">Because RAS supports multiple Administration DLLs, the remote-access user is allowed to connect only if the implementation of the [**MprAdminAcceptNewLink**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewlink) function in each of the DLLs accepts the connection.</span></span> <span data-ttu-id="14807-152">Em outras palavras, cada DLL deve aceitar o link para que o link seja estabelecido.</span><span class="sxs-lookup"><span data-stu-id="14807-152">In other words, every DLL must accept the link in order for the link to be established.</span></span>

<span data-ttu-id="14807-153">Depois que o servidor RAS tiver autenticado um usuário, ele chamará a função [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) para obter um endereço IP para o cliente remoto.</span><span class="sxs-lookup"><span data-stu-id="14807-153">After the RAS server has authenticated a user, it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) function to get an IP address for the remote client.</span></span> <span data-ttu-id="14807-154">Essa função fornece um esquema alternativo para mapear um endereço IP para um usuário de conexão discada.</span><span class="sxs-lookup"><span data-stu-id="14807-154">This function provides an alternate scheme for mapping an IP address to a dial-in user.</span></span> <span data-ttu-id="14807-155">Se **MprAdminGetIpAddressForUser** não for implementado, um servidor RAS associará o usuário remoto a um endereço IP que é selecionado de um pool estático de endereços IP ou um selecionado por um servidor DHCP (protocolo de configuração dinâmica de hosts).</span><span class="sxs-lookup"><span data-stu-id="14807-155">If **MprAdminGetIpAddressForUser** is not implemented, a RAS server associates the remote user with an IP address that is selected from a static pool of IP addresses, or one selected by a Dynamic Host Configuration Protocol (DHCP) server.</span></span> <span data-ttu-id="14807-156">A função **MprAdminGetIpAddressForUser** permite que a dll Substitua esse endereço IP padrão e especifique um endereço IP específico para cada usuário.</span><span class="sxs-lookup"><span data-stu-id="14807-156">The **MprAdminGetIpAddressForUser** function allows the DLL to override this default IP address and specify a particular IP address for each user.</span></span> <span data-ttu-id="14807-157">A função **MprAdminGetIpAddressForUser** pode definir um sinalizador que faz com que o RAS chame a função [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) quando o usuário se desconecta.</span><span class="sxs-lookup"><span data-stu-id="14807-157">The **MprAdminGetIpAddressForUser** function can set a flag that causes RAS to call the [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) function when the user disconnects.</span></span> <span data-ttu-id="14807-158">Em seguida, a DLL pode usar **MprAdminReleaseIpAddress** para atualizar seu mapeamento de endereço de usuário para IP.</span><span class="sxs-lookup"><span data-stu-id="14807-158">The DLL can then use **MprAdminReleaseIpAddress** to update its user-to-IP-address mapping.</span></span>

<span data-ttu-id="14807-159">O RAS dá suporte a várias DLLs de administração, mas chama as funções [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) e [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) somente na primeira dll que implementa e exporta.</span><span class="sxs-lookup"><span data-stu-id="14807-159">RAS supports multiple Administration DLLs, but it calls the [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) and [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) functions only in the first DLL that implements and export them.</span></span> <span data-ttu-id="14807-160">O RAS ignora implementações dessas funções em outras DLLs.</span><span class="sxs-lookup"><span data-stu-id="14807-160">RAS ignores implementations of these functions in the other DLLs.</span></span> <span data-ttu-id="14807-161">O RAS verifica as DLLs para essas funções na ordem em que estão listadas no [registro](ras-administration-dll-registry-setup.md).</span><span class="sxs-lookup"><span data-stu-id="14807-161">RAS checks the DLLs for these functions in the order in which they are listed in the [registry](ras-administration-dll-registry-setup.md).</span></span>

<span data-ttu-id="14807-162">O RAS serializa chamadas para a DLL de administração.</span><span class="sxs-lookup"><span data-stu-id="14807-162">RAS serializes calls into the administration DLL.</span></span> <span data-ttu-id="14807-163">Uma chamada em uma das funções da DLL para um determinado cliente RAS não antecipa uma chamada para essa função para um cliente RAS diferente; O RAS não chama a função para o outro cliente até que a chamada inicial seja concluída.</span><span class="sxs-lookup"><span data-stu-id="14807-163">A call into one of the DLL's functions for a given RAS client does not preempt a call to that function for a different RAS client; RAS does not call the function for the other client until the initial call is complete.</span></span> <span data-ttu-id="14807-164">Além disso, a serialização se estende a determinados grupos de funções.</span><span class="sxs-lookup"><span data-stu-id="14807-164">Furthermore, serialization extends to certain groups of functions.</span></span> <span data-ttu-id="14807-165">As funções de endereço IP são serializadas como um grupo; uma chamada para [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) ou [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) bloqueia chamadas em ambas as funções até que a chamada inicial seja retornada.</span><span class="sxs-lookup"><span data-stu-id="14807-165">The IP address functions are serialized as a group; a call into either [**MprAdminGetIpAddressForUser**](/windows/desktop/api/Mprapi/nf-mprapi-mpradmingetipaddressforuser) or [**MprAdminReleaseIpAddress**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminreleaseipaddress) blocks calls into both functions until the initial call has returned.</span></span> <span data-ttu-id="14807-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) e [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) também são serializados como um grupo.</span><span class="sxs-lookup"><span data-stu-id="14807-166">[**MprAdminAcceptNewConnection**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminacceptnewconnection) and [**MprAdminConnectionHangupNotification**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminconnectionhangupnotification) are also serialized as a group.</span></span>

<span data-ttu-id="14807-167">O RAS executa as funções que atribuem endereços IP em um único processo; as funções para conexão e notificações de desconexão são executadas em outro processo.</span><span class="sxs-lookup"><span data-stu-id="14807-167">RAS executes the functions that assign IP addresses in one process; the functions for connection and disconnection notifications are executed in another process.</span></span> <span data-ttu-id="14807-168">Consequentemente, a DLL não depende de dados compartilhados entre esses dois conjuntos de funções.</span><span class="sxs-lookup"><span data-stu-id="14807-168">Consequently, the DLL does not depend on shared data between these two sets of functions.</span></span>

<span data-ttu-id="14807-169">Não chame nenhuma das funções de [Administração de Ras](ras-administration-functions.md) ou [funções de administração de usuário de Ras](ras-user-administration-functions.md) de dentro de uma função de texto explicativo.</span><span class="sxs-lookup"><span data-stu-id="14807-169">Do not call any of the [RAS Administration Functions](ras-administration-functions.md) or [RAS User Administration Functions](ras-user-administration-functions.md) from inside a callout function.</span></span> <span data-ttu-id="14807-170">As chamadas para essas funções não serão retornadas quando feitas de dentro de uma função de texto explicativo.</span><span class="sxs-lookup"><span data-stu-id="14807-170">Calls to these functions will not return when made from within a callout function.</span></span>

<span data-ttu-id="14807-171">O servidor RAS registra um erro no log de eventos do sistema se ocorrer um erro ao tentar carregar uma DLL de administração de RAS ou ao chamar uma das funções da DLL.</span><span class="sxs-lookup"><span data-stu-id="14807-171">The RAS server logs an error in the system event log if an error occurs when it tries to load a RAS administration DLL or when calling one of the DLL's functions.</span></span> <span data-ttu-id="14807-172">Isso pode acontecer, por exemplo, se a DLL especificou o nome errado para uma função exportada ou se ela não incluía o nome da função no arquivo DEF.</span><span class="sxs-lookup"><span data-stu-id="14807-172">This can happen, for example, if the DLL specified the wrong name for an exported function, or if it did not include the function name in the DEF file.</span></span> <span data-ttu-id="14807-173">A entrada no log de eventos indica o motivo da falha.</span><span class="sxs-lookup"><span data-stu-id="14807-173">The entry in the event log indicates the reason for the failure.</span></span>

<span data-ttu-id="14807-174">**Windows 2000/NT:** Não há suporte para várias DLLs de administração.</span><span class="sxs-lookup"><span data-stu-id="14807-174">**Windows 2000/NT:** Multiple administration DLLs are not supported.</span></span>

 

 




