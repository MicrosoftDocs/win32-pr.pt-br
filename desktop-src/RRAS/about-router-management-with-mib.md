---
title: Sobre o gerenciamento de roteador com MIB
description: As APIs de MIB (base de informações de gerenciamento) para o gerenciamento de roteador possibilitam consultar e definir os valores das variáveis de MIB exportadas por um dos gerenciadores de roteadores ou qualquer um dos protocolos de roteamento que os gerenciadores de roteadores possuem.
ms.assetid: d0fafd82-e7cb-4524-a499-d14830f02b21
keywords:
- Roteamento, base de informações de gerenciamento
- Roteamento, base de informações de gerenciamento, descrito
- Base de informações de gerenciamento RRAS
- MIB
- MIB, consulte base de informações de gerenciamento
- Base de informações de gerenciamento RRAS
- Base de informações de gerenciamento RRAS, descrita
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e015dacc0b36a00ab62d42c710551aa368aa59e0
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103636137"
---
# <a name="about-router-management-with-mib"></a><span data-ttu-id="0c021-110">Sobre o gerenciamento de roteador com MIB</span><span class="sxs-lookup"><span data-stu-id="0c021-110">About Router Management with MIB</span></span>

<span data-ttu-id="0c021-111">As APIs de MIB (base de informações de gerenciamento) para o gerenciamento de roteador possibilitam consultar e definir os valores das variáveis de MIB exportadas por um dos gerenciadores de roteadores ou qualquer um dos protocolos de roteamento que os gerenciadores de roteadores possuem.</span><span class="sxs-lookup"><span data-stu-id="0c021-111">The Management Information Base (MIB) APIs for router management makes it possible to query and set the values of MIB variables exported by one of the router managers or any of the routing protocols that the router managers service.</span></span> <span data-ttu-id="0c021-112">Usando essa API, o roteador dá suporte ao SNMP (Simple Network Management Protocol).</span><span class="sxs-lookup"><span data-stu-id="0c021-112">By using this API, the router supports the Simple Network Management Protocol (SNMP).</span></span>

<span data-ttu-id="0c021-113">Na estrutura SNMP, cada um dos objetos gerenciáveis no roteador é representado por uma variável que tem um OID (identificador de objeto exclusivo).</span><span class="sxs-lookup"><span data-stu-id="0c021-113">In the SNMP framework, each of the manageable objects in the router is represented by a variable that has a unique Object Identifier (OID).</span></span> <span data-ttu-id="0c021-114">Correspondente a cada OID é um valor que representa o estado atual do objeto.</span><span class="sxs-lookup"><span data-stu-id="0c021-114">Corresponding to each OID is a value that represents the current state of the object.</span></span> <span data-ttu-id="0c021-115">A coleção de OIDs e valores é conhecida como MIB (base de informações de gerenciamento).</span><span class="sxs-lookup"><span data-stu-id="0c021-115">The collection of OIDs and values is referred to as a Management Information Base (MIB).</span></span> <span data-ttu-id="0c021-116">As chamadas MprAdminMib permitem que um desenvolvedor especifique um objeto por seu OID e uma consulta ou gravação ("set") do valor do objeto.</span><span class="sxs-lookup"><span data-stu-id="0c021-116">The MprAdminMib calls allow a developer to specify an object by its OID and either query or write ("Set") the object's value.</span></span>

<span data-ttu-id="0c021-117">Para consultar e definir variáveis MIB, o módulo que serviços de chamadas deve definir um conjunto de estruturas de dados.</span><span class="sxs-lookup"><span data-stu-id="0c021-117">To query and set MIB variables, the module that services the calls must define a set of data structures.</span></span> <span data-ttu-id="0c021-118">Essas estruturas de dados incluem estruturas para usar como identificadores de objeto e estruturas que contêm os valores das variáveis MIB que estão sendo acessadas.</span><span class="sxs-lookup"><span data-stu-id="0c021-118">These data structures include structures to use as Object Identifiers and structures that hold the values of the MIB variables being accessed.</span></span> <span data-ttu-id="0c021-119">Essas estruturas de dados são opacas a todos, exceto o chamador da função MIB e o módulo que está atendendo à chamada.</span><span class="sxs-lookup"><span data-stu-id="0c021-119">These data structures are opaque to all but the caller of the MIB function and the module servicing the call.</span></span>

<span data-ttu-id="0c021-120">O módulo que atende à chamada MIB é um Gerenciador de roteador ou um dos protocolos de roteamento.</span><span class="sxs-lookup"><span data-stu-id="0c021-120">The module servicing the MIB call is a router manager or one of the routing protocols.</span></span> <span data-ttu-id="0c021-121">O chamador deve especificar um Gerenciador de roteador mesmo se a chamada for tratada por um dos protocolos de roteamento.</span><span class="sxs-lookup"><span data-stu-id="0c021-121">The caller must specify a router manager even if the call is handled by one of the routing protocols.</span></span> <span data-ttu-id="0c021-122">Nesse caso, o chamador deve especificar o Gerenciador de roteador que corresponde à família de protocolos para esse protocolo de roteamento.</span><span class="sxs-lookup"><span data-stu-id="0c021-122">In such a case, the caller should specify the router manager that corresponds to the protocol family for that routing protocol.</span></span> <span data-ttu-id="0c021-123">Por exemplo, se o protocolo de roteamento OSPF (Open Shortest Path First) estivesse lidando com a chamada MIB, o chamador precisaria especificar o Gerenciador do roteador IP, pois o OSPF pertence à família de protocolos IP.</span><span class="sxs-lookup"><span data-stu-id="0c021-123">For example, if the Open Shortest Path First (OSPF) routing protocol were handling the MIB call, the caller would need to specify the IP Router Manager, since OSPF belongs to the IP protocol family.</span></span> <span data-ttu-id="0c021-124">Em cada uma das funções de MIB, o parâmetro *dwTransportId* especifica um Gerenciador de roteador e o parâmetro *RoutingPid* especifica o protocolo de roteamento.</span><span class="sxs-lookup"><span data-stu-id="0c021-124">In each of the MIB functions, the *dwTransportId* parameter specifies a router manager, and the *RoutingPid* parameter specifies the routing protocol.</span></span> <span data-ttu-id="0c021-125">O Gerenciador de roteador também tem um *RoutingPid* exclusivo, já que algumas das variáveis MIB podem ser tratadas pelo próprio Gerenciador de roteador.</span><span class="sxs-lookup"><span data-stu-id="0c021-125">The router manager also has a unique *RoutingPid*, since some of the MIB variables may be handled by the router manager itself.</span></span>

<span data-ttu-id="0c021-126">As funções MprAdminMib podem ser chamadas em um computador diferente daquele que está sendo administrado.</span><span class="sxs-lookup"><span data-stu-id="0c021-126">The MprAdminMib functions can be called on a computer other than the one being administered.</span></span> <span data-ttu-id="0c021-127">As funções MprAdminMIB que consultam ou gravam valores, assumem como um parâmetro um identificador para o computador administrar.</span><span class="sxs-lookup"><span data-stu-id="0c021-127">The MprAdminMIB functions that query or write values, take as a parameter a handle to the computer to administer.</span></span> <span data-ttu-id="0c021-128">Use a função [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) para estabelecer a conexão com o computador remoto e obter esse identificador.</span><span class="sxs-lookup"><span data-stu-id="0c021-128">Use the [**MprAdminMIBServerConnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverconnect) function to establish the connection to the remote computer and obtain this handle.</span></span> <span data-ttu-id="0c021-129">Depois de chamar as funções MprAdminMIB necessárias para realizar uma tarefa administrativa específica, chame a função [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) para encerrar a conexão com o computador remoto.</span><span class="sxs-lookup"><span data-stu-id="0c021-129">After calling the necessary MprAdminMIB functions to accomplish a particular administrative task, call the [**MprAdminMIBServerDisconnect**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibserverdisconnect) function to terminate the connection to the remote computer.</span></span>

<span data-ttu-id="0c021-130">As funções [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) e [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) usam como parâmetros um OID e um buffer que contém o novo valor para o objeto.</span><span class="sxs-lookup"><span data-stu-id="0c021-130">The [**MprAdminMIBEntryCreate**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrycreate) and [**MprAdminMIBEntrySet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryset) functions take as parameters an OID and a buffer which contains the new value for the object.</span></span>

<span data-ttu-id="0c021-131">As funções [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) e [**MPRADMINMIBENTRYGETNEXT**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) usam como parâmetros um OID e o endereço de uma variável de ponteiro.</span><span class="sxs-lookup"><span data-stu-id="0c021-131">The [**MprAdminMIBEntryGet**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentryget), [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions take as parameters an OID and the address of a pointer variable.</span></span> <span data-ttu-id="0c021-132">Após o retorno bem-sucedido, a variável de ponteiro aponta para um buffer que contém o valor do objeto.</span><span class="sxs-lookup"><span data-stu-id="0c021-132">On successful return, the pointer variable points to a buffer that contains the value for the object.</span></span> <span data-ttu-id="0c021-133">O chamador deve liberar a memória para esse buffer chamando a função [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) .</span><span class="sxs-lookup"><span data-stu-id="0c021-133">The caller should free the memory for this buffer by calling the [**MprAdminMIBBufferFree**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibbufferfree) function.</span></span>

<span data-ttu-id="0c021-134">As funções [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) e [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) permitem que um desenvolvedor execute uma *passagem SNMP*.</span><span class="sxs-lookup"><span data-stu-id="0c021-134">The [**MprAdminMIBEntryGetFirst**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetfirst) and [**MprAdminMIBEntryGetNext**](/windows/desktop/api/Mprapi/nf-mprapi-mpradminmibentrygetnext) functions enable a developer to perform an *SNMP walk*.</span></span> <span data-ttu-id="0c021-135">Como os OIDs são ordenados, cada OID e, portanto, cada objeto gerenciável tem uma OID *seguinte* .</span><span class="sxs-lookup"><span data-stu-id="0c021-135">Because the OIDs are ordered, each OID and therefore each manageable object has a *next* OID.</span></span> <span data-ttu-id="0c021-136">Uma visão SNMP refere-se à passagem de uma parte da MIB lendo ou gravando uma sequência de OIDs.</span><span class="sxs-lookup"><span data-stu-id="0c021-136">An SNMP walk refers to traversing a portion of the MIB by reading or writing a sequence of OIDs.</span></span>

<span data-ttu-id="0c021-137">Todas as chamadas de MprAdminMib passam pelo Gerenciador de interface dinâmica (DIM).</span><span class="sxs-lookup"><span data-stu-id="0c021-137">All MprAdminMib calls pass through the Dynamic Interface Manager (DIM).</span></span> <span data-ttu-id="0c021-138">Dependendo do OID, DIM passa a chamada para um dos gerenciadores do roteador.</span><span class="sxs-lookup"><span data-stu-id="0c021-138">Depending on the OID, DIM passes the call to one of the router managers.</span></span> <span data-ttu-id="0c021-139">(IP e IPX dão suporte a SNMP).</span><span class="sxs-lookup"><span data-stu-id="0c021-139">(Both IP and IPX support SNMP).</span></span> <span data-ttu-id="0c021-140">Novamente, dependendo do OID, o Gerenciador do roteador pode manipular a chamada em si ou passar a chamada para um de seus clientes.</span><span class="sxs-lookup"><span data-stu-id="0c021-140">Again, depending on the OID, the router manager may handle the call itself, or pass the call to one of its clients.</span></span> <span data-ttu-id="0c021-141">Todos os clientes de roteador são necessários para implementar e exportar as seguintes funções que correspondem às funções de MprAdminMIB chamadas de forma semelhante:</span><span class="sxs-lookup"><span data-stu-id="0c021-141">All router clients are required to implement and export the following functions which correspond to the similarly named MprAdminMIB functions:</span></span>

-   [<span data-ttu-id="0c021-142">**MibCreate**</span><span class="sxs-lookup"><span data-stu-id="0c021-142">**MibCreate**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_create)
-   [<span data-ttu-id="0c021-143">**MibDelete**</span><span class="sxs-lookup"><span data-stu-id="0c021-143">**MibDelete**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_delete)
-   [<span data-ttu-id="0c021-144">**MibSet**</span><span class="sxs-lookup"><span data-stu-id="0c021-144">**MibSet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set)
-   [<span data-ttu-id="0c021-145">**MibGet**</span><span class="sxs-lookup"><span data-stu-id="0c021-145">**MibGet**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get)
-   [<span data-ttu-id="0c021-146">**MibGetFirst**</span><span class="sxs-lookup"><span data-stu-id="0c021-146">**MibGetFirst**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_first)
-   [<span data-ttu-id="0c021-147">**MibGetNext**</span><span class="sxs-lookup"><span data-stu-id="0c021-147">**MibGetNext**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_next)
-   [<span data-ttu-id="0c021-148">**MibGetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="0c021-148">**MibGetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_get_trap_info)
-   [<span data-ttu-id="0c021-149">**MibSetTrapInfo**</span><span class="sxs-lookup"><span data-stu-id="0c021-149">**MibSetTrapInfo**</span></span>](/windows/desktop/api/Routprot/nc-routprot-pmib_set_trap_info)

 

 




