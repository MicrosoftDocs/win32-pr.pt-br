---
title: Conexões de rede virtual privada
description: O RAS (serviço de acesso remoto) dá suporte a conexões de VPN (rede virtual privada), além de conexões de acesso remoto convencionais que usam o protocolo PPP (PPP).
ms.assetid: c1195ebb-3107-4429-bc67-b64577d66268
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 09f5fc0b80a6eb00e7587e941eea39c056a11d14
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104007662"
---
# <a name="virtual-private-network-connections"></a><span data-ttu-id="cbd69-103">Conexões de rede virtual privada</span><span class="sxs-lookup"><span data-stu-id="cbd69-103">Virtual Private Network Connections</span></span>

<span data-ttu-id="cbd69-104">O RAS (serviço de acesso remoto) dá suporte a conexões de VPN (rede virtual privada), além de conexões de acesso remoto convencionais que usam o protocolo PPP (PPP).</span><span class="sxs-lookup"><span data-stu-id="cbd69-104">The Remote Access Service (RAS) supports Virtual Private Network (VPN) connections in addition to conventional remote access connections that use Point-to-Point Protocol (PPP).</span></span> <span data-ttu-id="cbd69-105">Em uma conexão VPN, os pacotes de VPN são encapsulados em pacotes IP e enviados por uma rede IP, como a Internet.</span><span class="sxs-lookup"><span data-stu-id="cbd69-105">In a VPN connection, the VPN packets are encapsulated in IP packets and sent across an IP network such as the Internet.</span></span> <span data-ttu-id="cbd69-106">Portanto, o acesso a uma rede IP é um requisito para estabelecer uma conexão VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-106">Therefore, access to an IP network is a requirement in order to establish a VPN connection.</span></span> <span data-ttu-id="cbd69-107">Se o computador cliente tiver uma conexão sempre ativa com uma rede IP, por exemplo, uma conexão com uma LAN IP, o cliente poderá estabelecer a conexão VPN usando uma única chamada para a função [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="cbd69-107">If the client computer has an always-on connection to an IP network, for example a connection to an IP LAN, the client can establish the VPN connection using a single call to the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function.</span></span>

<span data-ttu-id="cbd69-108">Se o computador cliente não tiver uma conexão sempre ativa com uma rede IP, duas chamadas para [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) serão necessárias para estabelecer a conexão VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-108">If the client computer does not have an always-on connection to an IP network, two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) are required to establish the VPN connection.</span></span> <span data-ttu-id="cbd69-109">A primeira chamada estabelece uma conexão discada à rede IP; a segunda chamada estabelece a conexão VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-109">The first call establishes a dial-up connection to the IP network; the second call establishes the VPN connection.</span></span>

<span data-ttu-id="cbd69-110">O membro **szLocalPhoneNumber** da estrutura [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) para a conexão VPN deve conter o nome DNS ou o endereço IP do servidor VPN de destino.</span><span class="sxs-lookup"><span data-stu-id="cbd69-110">The **szLocalPhoneNumber** member of the [**RASENTRY**](/previous-versions/windows/desktop/legacy/aa377274(v=vs.85)) structure for the VPN connection should contain either the DNS name or IP address of the destination VPN server.</span></span>

<span data-ttu-id="cbd69-111">Cada conexão requer uma entrada [de catálogo telefônico](ras-phone-books.md) separada.</span><span class="sxs-lookup"><span data-stu-id="cbd69-111">Each connection requires a separate [phone-book](ras-phone-books.md) entry.</span></span> <span data-ttu-id="cbd69-112">A primeira chamada para [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) especifica a entrada do catálogo telefônico para a rede IP.</span><span class="sxs-lookup"><span data-stu-id="cbd69-112">The first call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) specifies the phone-book entry for the IP network.</span></span> <span data-ttu-id="cbd69-113">A segunda chamada especifica a entrada do catálogo telefônico para a VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-113">The second call specifies the phone-book entry for the VPN.</span></span>

<span data-ttu-id="cbd69-114">A função [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) usa um ponteiro para uma estrutura [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) como um parâmetro.</span><span class="sxs-lookup"><span data-stu-id="cbd69-114">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function takes a pointer to a [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure as a parameter.</span></span> <span data-ttu-id="cbd69-115">Essa estrutura especifica as credenciais de autenticação a serem usadas para a rede especificada pela entrada do catálogo telefônico.</span><span class="sxs-lookup"><span data-stu-id="cbd69-115">This structure specifies the authentication credentials to use for the network specified by the phone-book entry.</span></span> <span data-ttu-id="cbd69-116">As credenciais necessárias para acessar a rede IP são normalmente diferentes daquelas da VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-116">The credentials required to access the IP network are typically different from those for the VPN.</span></span> <span data-ttu-id="cbd69-117">A primeira chamada para **RasDial** deve especificar credenciais para a rede IP.</span><span class="sxs-lookup"><span data-stu-id="cbd69-117">The first call to **RasDial** should specify credentials for the IP network.</span></span> <span data-ttu-id="cbd69-118">A segunda chamada deve especificar as credenciais para a VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-118">The second call should specify credentials for the VPN.</span></span>

<span data-ttu-id="cbd69-119">Se a função [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) for bem-sucedida, ela retornará um identificador para a conexão.</span><span class="sxs-lookup"><span data-stu-id="cbd69-119">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) function is successful, it returns a handle for the connection.</span></span> <span data-ttu-id="cbd69-120">Use esse identificador em uma chamada para [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) para encerrar a conexão.</span><span class="sxs-lookup"><span data-stu-id="cbd69-120">Use this handle in a call to [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) to terminate the connection.</span></span>

<span data-ttu-id="cbd69-121">No cenário anterior, as duas chamadas para [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) retornam identificadores de conexão separados para a rede IP e a VPN.</span><span class="sxs-lookup"><span data-stu-id="cbd69-121">In the preceding scenario, the two calls to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) return separate connection handles for the IP network and the VPN.</span></span> <span data-ttu-id="cbd69-122">Chamar [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) com o identificador para a conexão VPN encerra a conexão VPN, mas deixa a conexão com a rede IP intacta.</span><span class="sxs-lookup"><span data-stu-id="cbd69-122">Calling [**RasHangUp**](/windows/desktop/api/Ras/nf-ras-rashangupa) with the handle for the VPN connection terminates the VPN connection but leaves the connection to the IP network intact.</span></span>

 

 