---
title: Iniciando um protocolo de roteamento multicast
description: A tabela a seguir resume uma série de etapas em uma interação de inicialização entre um protocolo de roteamento e o Gerenciador do grupo de multicast.
ms.assetid: 14524745-5cf9-442c-a5b4-b1ef313151cf
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 63fc5dc5b25541c798ac0907a54dd19105a4c641
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104454240"
---
# <a name="starting-up-a-multicast-routing-protocol"></a>Iniciando um protocolo de roteamento multicast

A tabela a seguir resume uma série de etapas em uma interação de inicialização entre um protocolo de roteamento e o Gerenciador do grupo de multicast. A primeira coluna descreve as ações que o protocolo de roteamento executa e as respostas do protocolo de roteamento para o Gerenciador do grupo de multicast. A segunda coluna descreve as respostas do Gerenciador do grupo de multicast para o protocolo de roteamento e quaisquer ações que o Gerenciador de grupo de multicast executa, como retornos de chamada. A terceira coluna apresenta informações adicionais.

Cada linha da tabela representa uma etapa.



| Ação do protocolo de roteamento                                                                                                                                                                                                                                                                                                                 | Ação do Gerenciador de grupo multicast                                                                                                                                                                                                                                                                                                                                                                                                                                            | Observações                                                                                                                                                                                                                                   |
|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Registre-se no Gerenciador do grupo de multicast usando a função [**MgmRegisterMProtocol**](/windows/desktop/api/Mgm/nf-mgm-mgmregistermprotocol) .                                                                                                                                                                                                                      | Retorne ao protocolo de roteamento um identificador que o protocolo deve usar para se identificar em chamadas de API MGM subsequentes.                                                                                                                                                                                                                                                                                                                                                        |                                                                                                                                                                                                                                         |
| Determine se uma interface já é de propriedade e o protocolo de roteamento que a possui usando a função [**MgmGetProtocolOnInterface**](/windows/desktop/api/Mgm/nf-mgm-mgmgetprotocoloninterface) .                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | O IGMP pode usar essa função para determinar o proprietário de uma interface e executar o processamento específico de protocolo com as informações retornadas por essa função.                                                                             |
| Assuma a propriedade de todas as interfaces nas quais o protocolo está habilitado usando a função [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) .                                                                                                                                                                                | Se o IGMP já tiver assumido a propriedade de uma interface e a chamada de função [**MgmTakeInterfaceOwnership**](/windows/desktop/api/Mgm/nf-mgm-mgmtakeinterfaceownership) for recebida para a mesma interface, entre em contato com o IGMP usando o retorno de chamada de retorno de chamada de [**PMGM \_ Disable \_ IGMP \_**](/windows/win32/api/mgm/nc-mgm-pmgm_disable_igmp_callback) . Depois que todas as alterações nos dados de multicast sobre a propriedade da interface tiverem sido feitas, contate o IGMP novamente usando o [**PMGM \_ habilitar o retorno de \_ \_ chamada IGMP**](/windows/desktop/api/Mgm/nc-mgm-pmgm_enable_igmp_callback).<br/> | Somente um protocolo pode possuir uma interface em um determinado momento, além de IGMP.                                                                                                                                                            |
| Determine o estado atual da Associação de grupo no roteador. Essa ação é executada usando as funções de enumeração de associação de Grupo: [**MgmGroupEnumerationStart**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationstart), [**MgmGroupEnumerationGetNext**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationgetnext)e [**MgmGroupEnumerationEnd**](/windows/desktop/api/Mgm/nf-mgm-mgmgroupenumerationend). | Retornar a lista de grupos.                                                                                                                                                                                                                                                                                                                                                                                                                                                | Os protocolos de roteamento podem usar os resultados para determinar quais ações devem ser executadas com base nos grupos que já foram ingressados. Consulte [enumerando grupos](enumerating-groups.md) para obter um exemplo completo de como usar essas funções.<br/> |



 

 

