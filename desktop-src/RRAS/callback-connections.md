---
title: Conexões de retorno de chamada
description: O RAS dá suporte a conexões nas quais o servidor remoto desliga e, em seguida, chama o cliente para estabelecer a conexão.
ms.assetid: 25f0e84d-8900-4efe-b07d-59f25186c976
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9aabe3bf5503f16d7d27e44e02dc19ccb2a6f2e5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103641730"
---
# <a name="callback-connections"></a><span data-ttu-id="d749f-103">Conexões de retorno de chamada</span><span class="sxs-lookup"><span data-stu-id="d749f-103">Callback Connections</span></span>

<span data-ttu-id="d749f-104">O RAS dá suporte a conexões nas quais o servidor remoto desliga e, em seguida, chama o cliente para estabelecer a conexão.</span><span class="sxs-lookup"><span data-stu-id="d749f-104">RAS supports connections in which the remote server hangs up and then calls back to the client to establish the connection.</span></span>

<span data-ttu-id="d749f-105">Para cada usuário que pode se conectar a um servidor RAS, o servidor armazena um atributo de retorno de chamada que controla como a conexão é feita.</span><span class="sxs-lookup"><span data-stu-id="d749f-105">For each user that can connect to a RAS server, the server stores a callback attribute that controls how the connection is made.</span></span> <span data-ttu-id="d749f-106">O atributo padrão não é um retorno de chamada, o que significa que o usuário pode se conectar ao servidor RAS sem um retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="d749f-106">The default attribute is No Callback, which means that the user can connect to the RAS server without a callback.</span></span> <span data-ttu-id="d749f-107">Como alternativa, o administrador do servidor RAS pode atribuir a um usuário o atributo de retorno de chamada predefinido ou definido pelo chamador.</span><span class="sxs-lookup"><span data-stu-id="d749f-107">Alternatively, the administrator of the RAS server can assign to a user either the Preset or Set-By-Caller callback attribute.</span></span>

<span data-ttu-id="d749f-108">Para que um usuário tenha a restrição predefinida atribuída, o administrador especifica um número de telefone que o servidor RAS deve chamar de volta para estabelecer uma conexão.</span><span class="sxs-lookup"><span data-stu-id="d749f-108">For a user assigned the Preset restriction, the administrator specifies a phone number that the RAS server must call back to establish a connection.</span></span> <span data-ttu-id="d749f-109">O usuário não pode especificar um número diferente e a conexão não pode ser feita sem um retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="d749f-109">The user cannot specify a different number, and the connection cannot be made without a callback.</span></span>

<span data-ttu-id="d749f-110">Uma operação de retorno de chamada predefinida é manipulada automaticamente pelo Gerenciador de conexões de acesso remoto e pelo servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="d749f-110">A Preset callback operation is handled automatically by the Remote Access Connection Manager and the remote server.</span></span> <span data-ttu-id="d749f-111">O aplicativo cliente RAS não precisa fazer nada além de fornecer comentários ao usuário quando o manipulador de notificação é chamado durante os vários Estados da operação de retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="d749f-111">The RAS client application does not need to do anything other than provide feedback to the user when the notification handler is called during the various states of the callback operation.</span></span>

<span data-ttu-id="d749f-112">Um usuário que atribuiu o privilégio definido pelo chamador pode optar por conectar-se com ou sem um retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="d749f-112">A user assigned the Set By Caller privilege can choose to connect either with or without a callback.</span></span> <span data-ttu-id="d749f-113">A chamada [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) usa o membro **SzCallbackNumber** da estrutura [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) para indicar a escolha.</span><span class="sxs-lookup"><span data-stu-id="d749f-113">The [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call uses the **szCallbackNumber** member of the [**RASDIALPARAMS**](/previous-versions/windows/desktop/legacy/aa377238(v=vs.85)) structure to indicate the choice.</span></span>

<span data-ttu-id="d749f-114">O membro **szCallBackNumber** pode simplesmente especificar o número de retorno de chamada; ou, para estabelecer a conexão sem um retorno de chamada, **szCallBackNumber** pode apontar para uma cadeia de caracteres vazia, "".</span><span class="sxs-lookup"><span data-stu-id="d749f-114">The **szCallbackNumber** member can simply specify the callback number; or, to establish the connection without a callback, **szCallbackNumber** can point to an empty string, "".</span></span> <span data-ttu-id="d749f-115">Em qualquer um desses casos, o Gerenciador de conexões de acesso remoto manipula a operação de conexão automaticamente.</span><span class="sxs-lookup"><span data-stu-id="d749f-115">In either of these cases, the Remote Access Connection Manager handles the connection operation automatically.</span></span> <span data-ttu-id="d749f-116">Assim como acontece com uma operação de retorno de chamada predefinida, o cliente RAS não precisa executar nenhuma ação além de fornecer comentários ao usuário.</span><span class="sxs-lookup"><span data-stu-id="d749f-116">As with a Preset callback operation, the RAS client does not need to perform any action other than to provide feedback to the user.</span></span>

<span data-ttu-id="d749f-117">Se a chamada [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) permitir [Estados em pausa](paused-states.md), **szCallBackNumber** poderá apontar para uma cadeia de caracteres de asterisco, " \* ", para indicar que a operação de conexão deve entrar em um estado de pausa para permitir que o usuário digite o número de retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="d749f-117">If the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call enables [paused states](paused-states.md), **szCallbackNumber** can point to an asterisk string, "\*", to indicate that the connection operation should enter a paused state to allow the user to type in the callback number.</span></span> <span data-ttu-id="d749f-118">Nesse caso, a operação de conexão para um conjunto pelo usuário do chamador entra em um estado de pausa depois que o servidor remoto tiver autenticado o usuário.</span><span class="sxs-lookup"><span data-stu-id="d749f-118">In this case, the connection operation for a Set By Caller user enters a paused state after the remote server has authenticated the user.</span></span> <span data-ttu-id="d749f-119">Durante o estado de pausa, o cliente RAS Obtém a entrada do número de retorno de chamada do usuário.</span><span class="sxs-lookup"><span data-stu-id="d749f-119">During the paused state, the RAS client gets the callback number input from the user.</span></span> <span data-ttu-id="d749f-120">Em seguida, o cliente retoma a operação de conexão fazendo uma segunda chamada **RasDial** , na qual **szCallBackNumber** especifica o número fornecido pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="d749f-120">The client then resumes the connection operation by making a second **RasDial** call in which **szCallbackNumber** specifies the number supplied by the user.</span></span>

> [!Note]  
> <span data-ttu-id="d749f-121">Se os Estados em pausa não estiverem habilitados, haverá um significado diferente quando **szCallBackNumber** apontar para uma cadeia de caracteres de asterisco, " \* ".</span><span class="sxs-lookup"><span data-stu-id="d749f-121">If paused states are not enabled there is a different meaning when **szCallbackNumber** points to an asterisk string, "\*".</span></span> <span data-ttu-id="d749f-122">Nesse caso, o asterisco indica que o número de retorno de chamada é armazenado no arquivo de catálogo telefônico especificado pela chamada [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) .</span><span class="sxs-lookup"><span data-stu-id="d749f-122">In this case, the asterisk indicates that the callback number is stored in the phone-book file specified by the [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) call.</span></span>

 

<span data-ttu-id="d749f-123">No caso de um retorno de chamada, a chamada para [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) não retorna até que o servidor tenha chamado de volta o cliente.</span><span class="sxs-lookup"><span data-stu-id="d749f-123">In the event of a callback, the call to [**RasDial**](/windows/desktop/api/Ras/nf-ras-rasdiala) does not return until after the server has called back the client.</span></span>

 

 