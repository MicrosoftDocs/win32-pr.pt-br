---
description: Em suma, a disposição da textura muda a forma básica com que o Direct3D rasteriza polígonos texturizados usando as coordenadas de textura especificadas para cada vértice.
ms.assetid: 00683d3f-3e3c-4ee4-9aec-a0d7fd9c8941
title: Disposição de textura (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6d7c0f8cb6d7793536999d5f3df128849572d3dd
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104500392"
---
# <a name="texture-wrapping-direct3d-9"></a><span data-ttu-id="2785b-103">Disposição de textura (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="2785b-103">Texture Wrapping (Direct3D 9)</span></span>

<span data-ttu-id="2785b-104">Em suma, a disposição da textura muda a forma básica com que o Direct3D rasteriza polígonos texturizados usando as coordenadas de textura especificadas para cada vértice.</span><span class="sxs-lookup"><span data-stu-id="2785b-104">In short, texture wrapping changes the basic way that Direct3D rasterizes textured polygons using the texture coordinates specified for each vertex.</span></span> <span data-ttu-id="2785b-105">Durante a rasterização de um polígono, o sistema faz a interpolação entre as coordenadas de textura em cada um dos vértices do polígono para determinar os texels que devem ser usados para cada pixel do polígono.</span><span class="sxs-lookup"><span data-stu-id="2785b-105">While rasterizing a polygon, the system interpolates between the texture coordinates at each of the polygon's vertices to determine the texels that should be used for every pixel of the polygon.</span></span> <span data-ttu-id="2785b-106">Normalmente, o sistema trata a textura como um plano 2D, interpolando novos texels pegando a rota mais curta do ponto A de uma textura ao ponto B. Se o ponto A representar a posição u, v (0.8, 0.1) e o ponto B estiver em (0.1,0.1), a linha de interpolação terá a aparência do diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="2785b-106">Normally, the system treats the texture as a 2D plane, interpolating new texels by taking the shortest route from point A within a texture to point B. If point A represents the u, v position (0.8, 0.1), and point B is at (0.1,0.1), the line of interpolation looks like the following diagram.</span></span>

![diagrama de uma linha de interpolação entre dois pontos](images/interp1.png)

<span data-ttu-id="2785b-108">Observe que a distância mais curta entre A e B nesta ilustração passa basicamente pelo meio da textura.</span><span class="sxs-lookup"><span data-stu-id="2785b-108">Note that the shortest distance between A and B in this illustration runs roughly through the middle of the texture.</span></span> <span data-ttu-id="2785b-109">Habilitar o encapsulamento das coordenadas de textura u ou textura v muda a forma como o Direct3D identifica a rota mais curta entre as coordenadas de textura na direção u e na direção v.</span><span class="sxs-lookup"><span data-stu-id="2785b-109">Enabling u-texture or v-texture coordinate wrapping changes how Direct3D perceives the shortest route between texture coordinates in the u-direction and v-direction.</span></span> <span data-ttu-id="2785b-110">Por definição, o encapsulamento de textura faz com que o rasterizador pegue a rota mais curta entre os conjuntos de coordenadas de textura, presumindo que 0.0 e 1.0 sejam coincidentes.</span><span class="sxs-lookup"><span data-stu-id="2785b-110">By definition, texture wrapping causes the rasterizer to take the shortest route between texture coordinate sets, assuming that 0.0 and 1.0 are coincident.</span></span> <span data-ttu-id="2785b-111">O último bit é a parte complicada: você pode imaginar que habilitar o encapsulamento de textura em uma direção faz com que o sistema trate uma textura como se estivesse encapsulada em um cilindro.</span><span class="sxs-lookup"><span data-stu-id="2785b-111">The last bit is the tricky part: You can imagine that enabling texture wrapping in one direction causes the system to treat a texture as though it were wrapped around a cylinder.</span></span> <span data-ttu-id="2785b-112">Por exemplo, considere o seguinte diagrama:</span><span class="sxs-lookup"><span data-stu-id="2785b-112">For example, consider the following diagram.</span></span>

![diagrama de uma textura e dois pontos encapsulados em um cilindro](images/interp2.png)

<span data-ttu-id="2785b-114">A ilustração anterior mostra como o encapsulamento na direção u afeta a forma como o sistema interpola as coordenadas de textura.</span><span class="sxs-lookup"><span data-stu-id="2785b-114">The preceding illustration shows how wrapping in the u - direction affects how the system interpolates texture coordinates.</span></span> <span data-ttu-id="2785b-115">Usando os mesmos pontos do exemplo para texturas normais, ou não encapsuladas, você pode ver que a rota mais curta entre os pontos A e B não está mais no meio da textura; agora está na borda em que 0.0 e 1.0 coexistem.</span><span class="sxs-lookup"><span data-stu-id="2785b-115">Using the same points as in the example for normal, or nonwrapped, textures, you can see that the shortest route between points A and B is no longer across the middle of the texture; it's now across the border where 0.0 and 1.0 exist together.</span></span> <span data-ttu-id="2785b-116">O encapsulamento na direção v é similar, exceto que ele encapsula a textura em torno de um cilindro disposto de lado.</span><span class="sxs-lookup"><span data-stu-id="2785b-116">Wrapping in the v-direction is similar, except that it wraps the texture around a cylinder that is lying on its side.</span></span> <span data-ttu-id="2785b-117">O encapsulamento na direção u e na direção v é mais complexo.</span><span class="sxs-lookup"><span data-stu-id="2785b-117">Wrapping in both the u-direction and v-direction is more complex.</span></span> <span data-ttu-id="2785b-118">Nessa situação, você pode imaginar a textura como uma tora ou rosca.</span><span class="sxs-lookup"><span data-stu-id="2785b-118">In this situation, you can envision the texture as a torus, or doughnut.</span></span>

<span data-ttu-id="2785b-119">A aplicação prática mais comum do encapsulamento de textura é executar o mapeamento do ambiente.</span><span class="sxs-lookup"><span data-stu-id="2785b-119">The most common practical application for texture wrapping is to perform environment mapping.</span></span> <span data-ttu-id="2785b-120">Geralmente, um objeto texturizado com um mapa do ambiente parece muito refletivo, mostrando uma imagem espelhada dos arredores do objeto na cena.</span><span class="sxs-lookup"><span data-stu-id="2785b-120">Usually, an object textured with an environment map appears very reflective, showing a mirrored image of the object's surroundings in the scene.</span></span> <span data-ttu-id="2785b-121">Para o âmbito desta discussão, imagine uma sala com quatro paredes, cada uma delas pintada com uma letra R, G, B, Y e as cores correspondentes: vermelho, verde, azul e amarelo.</span><span class="sxs-lookup"><span data-stu-id="2785b-121">For the sake of this discussion, picture a room with four walls, each one painted with a letter R, G, B, Y and the corresponding colors: red, green, blue, and yellow.</span></span> <span data-ttu-id="2785b-122">O mapa do ambiente para essa sala simples pode se parecer com a ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="2785b-122">The environment map for such a simple room might look like the following illustration.</span></span>

![ilustração de faixas verticais de vermelho, verde, azul e amarelo](images/envmap.png)

<span data-ttu-id="2785b-124">Imagine que o teto da sala seja sustentado por um pilar quadrilátero perfeitamente refletivo.</span><span class="sxs-lookup"><span data-stu-id="2785b-124">Imagine that the room's ceiling is held up by a perfectly reflective, four-sided, pillar.</span></span> <span data-ttu-id="2785b-125">Mapear a textura do mapa do ambiente para o pilar é simples; fazer o pilar parecer que está refletindo as letras e as cores não é tão fácil.</span><span class="sxs-lookup"><span data-stu-id="2785b-125">Mapping the environment map texture to the pillar is simple; making the pillar look as though it is reflecting the letters and colors is not as easy.</span></span> <span data-ttu-id="2785b-126">O diagrama a seguir mostra um esboço do pilar com as coordenadas de textura aplicáveis listadas próximo aos vértices superiores.</span><span class="sxs-lookup"><span data-stu-id="2785b-126">The following diagram shows a wire frame of the pillar with the applicable texture coordinates listed near the top vertices.</span></span> <span data-ttu-id="2785b-127">A fenda onde o encapsulamento cruzará as bordas da textura é mostrada com uma linha pontilhada.</span><span class="sxs-lookup"><span data-stu-id="2785b-127">The seam where wrapping will cross the edges of the texture is shown with a dotted line.</span></span>

![diagrama de um retângulo com uma linha pontilhada bifurcada](images/seam.png)

<span data-ttu-id="2785b-129">Com o encapsulado habilitado na direção u, o pilar texturizado mostra as cores e os símbolos do mapa do ambiente adequadamente e, na fenda na frente da textura, o rasterizador escolhe corretamente a rota mais curta entre as coordenadas de textura, presumindo que as coordenadas u 0.0 e 1.0 compartilhem o mesmo local.</span><span class="sxs-lookup"><span data-stu-id="2785b-129">With wrapping enabled in the u-direction, the textured pillar shows the colors and symbols from the environment map appropriately and, at the seam in the front of the texture, the rasterizer properly chooses the shortest route between the texture coordinates, assuming that u-coordinates 0.0 and 1.0 share the same location.</span></span> <span data-ttu-id="2785b-130">O pilar texturizado se parece com a ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="2785b-130">The textured pillar looks like the following illustration.</span></span>

![ilustração de um pilar que consiste em quadrantes nas cores vermelho, verde, azul e amarelo](images/tex-seam.png)

<span data-ttu-id="2785b-132">Se o encapsulamento de textura não estiver habilitado, o rasterizador não fará a interpolação na direção necessária para gerar uma imagem refletida verossímil.</span><span class="sxs-lookup"><span data-stu-id="2785b-132">If texture wrapping isn't enabled, the rasterizer does not interpolate in the direction needed to generate a believable, reflected image.</span></span> <span data-ttu-id="2785b-133">Em vez disso, a área na frente do pilar contém uma versão compactada horizontalmente dos texels entre as coordenadas u 0.175 e 0.875, pois passam pelo centro da textura.</span><span class="sxs-lookup"><span data-stu-id="2785b-133">Rather, the area at the front of the pillar contains a horizontally compressed version of the texels between u-coordinates 0.175 and 0.875, as they pass through the center of the texture.</span></span> <span data-ttu-id="2785b-134">O efeito de encapsulamento está arruinado.</span><span class="sxs-lookup"><span data-stu-id="2785b-134">The wrap effect is ruined.</span></span>

## <a name="using-texture-wrapping"></a><span data-ttu-id="2785b-135">Usando o encapsulamento de textura</span><span class="sxs-lookup"><span data-stu-id="2785b-135">Using Texture Wrapping</span></span>

<span data-ttu-id="2785b-136">Para habilitar o encapsulamento de textura, chame o método [**IDirect3DDevice9:: Setrenderingstate**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) , conforme mostrado no exemplo de código abaixo.</span><span class="sxs-lookup"><span data-stu-id="2785b-136">To enable texture wrapping, call the [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) method as shown in the code example below.</span></span>


```
d3dDevice->SetRenderState(D3DRS_WRAP0, D3DWRAPCOORD_0);
```



<span data-ttu-id="2785b-137">O primeiro parâmetro aceito por [**IDirect3DDevice9:: Setrenderingstate**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) é um estado de renderização a ser definido.</span><span class="sxs-lookup"><span data-stu-id="2785b-137">The first parameter accepted by [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) is a render state to set.</span></span> <span data-ttu-id="2785b-138">Especifique um dos D3DRS \_ WRAP0 por meio de D3DRS \_ WRAP7 valores enumerados que especificam a qual nível de textura definir o encapsulamento.</span><span class="sxs-lookup"><span data-stu-id="2785b-138">Specify one of the D3DRS\_WRAP0 through D3DRS\_WRAP7 enumerated values which specify which texture level to set the wrapping for.</span></span> <span data-ttu-id="2785b-139">Especifique os \_ sinalizadores D3DWRAPCOORD 0 a D3DWRAPCOORD \_ 3 no segundo parâmetro para habilitar a disposição da textura na direção correspondente ou combiná-los para habilitar o encapsulamento em várias direções.</span><span class="sxs-lookup"><span data-stu-id="2785b-139">Specify the D3DWRAPCOORD\_0 through D3DWRAPCOORD\_3 flags in the second parameter to enable texture wrapping in the corresponding direction, or combine them to enable wrapping in multiple directions.</span></span> <span data-ttu-id="2785b-140">Se você omitir um sinalizador, a disposição da textura na direção correspondente será desabilitada.</span><span class="sxs-lookup"><span data-stu-id="2785b-140">If you omit a flag, texture wrapping in the corresponding direction is disabled.</span></span> <span data-ttu-id="2785b-141">Para desabilitar o encapsulamento de textura para um conjunto de coordenadas de textura, defina o valor para o estado de renderização correspondente como 0.</span><span class="sxs-lookup"><span data-stu-id="2785b-141">To disable texture wrapping for a set of texture coordinates, set the value for the corresponding render state to 0.</span></span>

<span data-ttu-id="2785b-142">Não confunda encapsulamento de textura com os modos de endereçamento de textura de nomes similares.</span><span class="sxs-lookup"><span data-stu-id="2785b-142">Do not confuse texture wrapping with the similarly named texture addressing modes.</span></span> <span data-ttu-id="2785b-143">O encapsulamento de textura é executado antes do endereçamento de textura.</span><span class="sxs-lookup"><span data-stu-id="2785b-143">Texture wrapping is performed before texture addressing.</span></span> <span data-ttu-id="2785b-144">Verifique se os dados de disposição da textura não contêm nenhuma coordenada de textura fora do intervalo de \[ 0,0, 1,0 \] porque isso produzirá resultados indefinidos.</span><span class="sxs-lookup"><span data-stu-id="2785b-144">Be sure the texture wrapping data does not contain any texture coordinates outside of the range of \[0.0, 1.0\] because this will produce undefined results.</span></span> <span data-ttu-id="2785b-145">Para obter mais informações sobre o endereçamento de textura, consulte [modos de endereçamento de textura (Direct3D 9)](texture-addressing-modes.md).</span><span class="sxs-lookup"><span data-stu-id="2785b-145">For more information about texture addressing, see [Texture Addressing Modes (Direct3D 9)](texture-addressing-modes.md).</span></span>

## <a name="displacement-map-wrapping"></a><span data-ttu-id="2785b-146">Disposição do mapa de deslocamento</span><span class="sxs-lookup"><span data-stu-id="2785b-146">Displacement Map Wrapping</span></span>

<span data-ttu-id="2785b-147">Os mapas de deslocamento são interpolados pelo mecanismo de mosaico.</span><span class="sxs-lookup"><span data-stu-id="2785b-147">Displacement maps are interpolated by the tesselation engine.</span></span> <span data-ttu-id="2785b-148">Como o modo de encapsulamento não pode ser especificado para o mecanismo de mosaico, o encapsulamento de textura não pode ser executado com mapas de deslocamento.</span><span class="sxs-lookup"><span data-stu-id="2785b-148">Because the wrap mode cannot be specified for the tessellation engine, texture wrapping cannot be performed with displacement maps.</span></span> <span data-ttu-id="2785b-149">Um aplicativo é capaz de usar um conjunto de vértices que força a interpolação para encapsular em qualquer direção.</span><span class="sxs-lookup"><span data-stu-id="2785b-149">An application is able to use a set of vertices that forces the interpolation to wrap in any direction.</span></span> <span data-ttu-id="2785b-150">O aplicativo também pode especificar a interpolação para ser feita como uma simples interpolação linear.</span><span class="sxs-lookup"><span data-stu-id="2785b-150">The application can also specify the interpolation to be done as a simple linear interpolation.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2785b-151">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="2785b-151">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2785b-152">Texturas do Direct3D</span><span class="sxs-lookup"><span data-stu-id="2785b-152">Direct3D Textures</span></span>](direct3d-textures.md)
</dt> </dl>

 

 
