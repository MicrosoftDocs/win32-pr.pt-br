---
description: Os buffers de vértice, representados pela interface IDirect3DVertexBuffer9, são buffers de memória que contêm dados de vértice.
ms.assetid: vs|directx_sdk|~\vertex_buffers.htm
title: Buffers de vértice (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8e38feb34e7b9f637f383bf451bff812d9ee6fb1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "103645802"
---
# <a name="vertex-buffers-direct3d-9"></a><span data-ttu-id="4433d-103">Buffers de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-103">Vertex Buffers (Direct3D 9)</span></span>

<span data-ttu-id="4433d-104">Os buffers de vértice, representados pela interface [**IDirect3DVertexBuffer9**](/windows/desktop/api) , são buffers de memória que contêm dados de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-104">Vertex buffers, represented by the [**IDirect3DVertexBuffer9**](/windows/desktop/api) interface, are memory buffers that contain vertex data.</span></span> <span data-ttu-id="4433d-105">Os buffers de vértice podem conter qualquer tipo de vértice-transformado ou sem transformação, aceso ou unlit, que pode ser renderizado por meio do uso dos métodos de renderização na interface [**IDirect3DDevice9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9) .</span><span class="sxs-lookup"><span data-stu-id="4433d-105">Vertex buffers can contain any vertex type - transformed or untransformed, lit or unlit - that can be rendered through the use of the rendering methods in the [**IDirect3DDevice9**](/windows/win32/api/d3d9helper/nn-d3d9helper-idirect3ddevice9) interface.</span></span> <span data-ttu-id="4433d-106">Você pode processar os vértices de um buffer de vértice para realizar operações como transformação, iluminação ou gerar sinalizadores de recorte.</span><span class="sxs-lookup"><span data-stu-id="4433d-106">You can process the vertices in a vertex buffer to perform operations such as transformation, lighting, or generating clipping flags.</span></span> <span data-ttu-id="4433d-107">A transformação sempre é executada.</span><span class="sxs-lookup"><span data-stu-id="4433d-107">Transformation is always performed.</span></span>

<span data-ttu-id="4433d-108">A flexibilidade dos buffers de vértice os torna pontos de preparo ideais para a reutilização da geometria transformada.</span><span class="sxs-lookup"><span data-stu-id="4433d-108">The flexibility of vertex buffers make them ideal staging points for reusing transformed geometry.</span></span> <span data-ttu-id="4433d-109">Você pode criar um buffer de vértice único, transformar, iluminar e recordar os vértices nele, e renderizar o modelo na cena quantas vezes forem necessárias sem transformá-lo novamente, mesmo com alterações de estado de renderização intercaladas.</span><span class="sxs-lookup"><span data-stu-id="4433d-109">You could create a single vertex buffer, transform, light, and clip the vertices in it, and render the model in the scene as many times as needed without re-transforming it, even with interleaved render state changes.</span></span> <span data-ttu-id="4433d-110">Isso é útil ao renderizar modelos que usam várias texturas: a geometria é transformada apenas uma vez e, em seguida, partes dela podem ser renderizadas conforme necessário, intercaladas com as alterações necessárias de textura.</span><span class="sxs-lookup"><span data-stu-id="4433d-110">This is useful when rendering models that use multiple textures: the geometry is transformed only once, and then portions of it can be rendered as needed, interleaved with the required texture changes.</span></span> <span data-ttu-id="4433d-111">As alterações de estado de renderização feitas após os vértices serem processados entram em vigor na próxima vez em que os vértices forem processados.</span><span class="sxs-lookup"><span data-stu-id="4433d-111">Render state changes made after vertices are processed take effect the next time the vertices are processed.</span></span>

-   [<span data-ttu-id="4433d-112">Descrição</span><span class="sxs-lookup"><span data-stu-id="4433d-112">Description</span></span>](#description)
-   [<span data-ttu-id="4433d-113">Pool de memória e uso</span><span class="sxs-lookup"><span data-stu-id="4433d-113">Memory Pool and Usage</span></span>](#memory-pool-and-usage)

## <a name="description"></a><span data-ttu-id="4433d-114">Descrição</span><span class="sxs-lookup"><span data-stu-id="4433d-114">Description</span></span>

<span data-ttu-id="4433d-115">Um buffer de vértice é descrito em termos de seus recursos: se ele só pode existir na memória do sistema, se for usado somente para operações de gravação e o tipo e o número de vértices que ele pode conter.</span><span class="sxs-lookup"><span data-stu-id="4433d-115">A vertex buffer is described in terms of its capabilities: if it can exist only in system memory, if it is only used for write operations, and the type and number of vertices it can contain.</span></span> <span data-ttu-id="4433d-116">Todas essas características são mantidas em uma [**estrutura \_ desc D3DVERTEXBUFFER**](d3dvertexbuffer-desc.md) .</span><span class="sxs-lookup"><span data-stu-id="4433d-116">All these traits are held in a [**D3DVERTEXBUFFER\_DESC**](d3dvertexbuffer-desc.md) structure.</span></span>

<span data-ttu-id="4433d-117">O membro de formato é definido como D3DFMT \_ VERTEXDATA para indicar que este é um buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-117">The Format member is set to D3DFMT\_VERTEXDATA to indicate that this is a vertex buffer.</span></span> <span data-ttu-id="4433d-118">O tipo identifica o tipo de recurso do buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-118">The Type identifies the resource type of the vertex buffer.</span></span> <span data-ttu-id="4433d-119">O membro da estrutura de uso contém sinalizadores de capacidade geral.</span><span class="sxs-lookup"><span data-stu-id="4433d-119">The Usage structure member contains general capability flags.</span></span> <span data-ttu-id="4433d-120">O \_ sinalizador D3DUSAGE SOFTWAREPROCESSING indica que o buffer de vértices deve ser usado com o processamento de vértice de software.</span><span class="sxs-lookup"><span data-stu-id="4433d-120">The D3DUSAGE\_SOFTWAREPROCESSING flag indicates that the vertex buffer is to be used with software vertex processing.</span></span> <span data-ttu-id="4433d-121">A presença do \_ sinalizador WRITEONLY D3DUSAGE em uso indica que a memória de buffer de vértice é usada somente para operações de gravação.</span><span class="sxs-lookup"><span data-stu-id="4433d-121">The presence of the D3DUSAGE\_WRITEONLY flag in Usage indicates that the vertex buffer memory is used only for write operations.</span></span> <span data-ttu-id="4433d-122">Isso libera o driver para posicionar os dados de vértice no melhor local de memória para permitir processamento e renderização rápidos.</span><span class="sxs-lookup"><span data-stu-id="4433d-122">This frees the driver to place the vertex data in the best memory location to enable fast processing and rendering.</span></span> <span data-ttu-id="4433d-123">Se o \_ sinalizador WRITEONLY D3DUSAGE não for usado, será menos provável que o driver Coloque os dados em um local ineficiente para operações de leitura.</span><span class="sxs-lookup"><span data-stu-id="4433d-123">If the D3DUSAGE\_WRITEONLY flag is not used, the driver is less likely to put the data in a location that is inefficient for read operations.</span></span> <span data-ttu-id="4433d-124">Isso sacrificaria algum processamento e velocidade de renderização.</span><span class="sxs-lookup"><span data-stu-id="4433d-124">This sacrifices some processing and rendering speed.</span></span> <span data-ttu-id="4433d-125">Se esse sinalizador não for especificado, supõe-se que os aplicativos executam operações de leitura e gravação nos dados dentro do buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-125">If this flag is not specified, it is assumed that applications perform read and write operations on the data within the vertex buffer.</span></span>

<span data-ttu-id="4433d-126">Pool especifica a classe de memória que é alocada para o buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-126">Pool specifies the memory class that is allocated for the vertex buffer.</span></span> <span data-ttu-id="4433d-127">O \_ sinalizador D3DPOOL SYSTEMMEM indica que o sistema criou o buffer de vértice na memória do sistema.</span><span class="sxs-lookup"><span data-stu-id="4433d-127">The D3DPOOL\_SYSTEMMEM flag indicates that the system created the vertex buffer in system memory.</span></span>

<span data-ttu-id="4433d-128">O membro de tamanho armazena o tamanho, em bytes, dos dados do buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="4433d-128">The Size member stores the size, in bytes, of the vertex buffer data.</span></span> <span data-ttu-id="4433d-129">O membro FVF contém uma combinação de [D3DFVF](d3dfvf.md) que identificam o tipo de vértices que o buffer contém.</span><span class="sxs-lookup"><span data-stu-id="4433d-129">The FVF member contains a combination of [D3DFVF](d3dfvf.md) that identify the type of vertices that the buffer contains.</span></span>

## <a name="memory-pool-and-usage"></a><span data-ttu-id="4433d-130">Pool de memória e uso</span><span class="sxs-lookup"><span data-stu-id="4433d-130">Memory Pool and Usage</span></span>

<span data-ttu-id="4433d-131">Você pode criar buffers de vértice com o método [**IDirect3DDevice9:: CreateVertexBuffer**](/windows/desktop/api) , que usa o pool (classe de memória) e parâmetros de uso.</span><span class="sxs-lookup"><span data-stu-id="4433d-131">You can create vertex buffers with the [**IDirect3DDevice9::CreateVertexBuffer**](/windows/desktop/api) method, which takes pool (memory class) and usage parameters.</span></span> <span data-ttu-id="4433d-132">**IDirect3DDevice9:: CreateVertexBuffer** também pode ser criado com um código de FVF especificado para uso em processamento de vértice de função fixa ou como a saída de vértices de processo.</span><span class="sxs-lookup"><span data-stu-id="4433d-132">**IDirect3DDevice9::CreateVertexBuffer** can also be created with a specified FVF code for use in fixed function vertex processing, or as the output of process vertices.</span></span> <span data-ttu-id="4433d-133">Para obter detalhes, consulte [buffers de vértices FVF (Direct3D 9)](fvf-vertex-buffers.md).</span><span class="sxs-lookup"><span data-stu-id="4433d-133">For details, see [FVF Vertex Buffers (Direct3D 9)](fvf-vertex-buffers.md).</span></span>

<span data-ttu-id="4433d-134">O \_ sinalizador D3DUSAGE SOFTWAREPROCESSING pode ser definido quando o processamento de vértices de software ou de modo misto (D3DCREATE \_ Misto \_ VERTEXPROCESSING/D3DCREATE \_ software \_ VERTEXPROCESSING) está habilitado para esse dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4433d-134">The D3DUSAGE\_SOFTWAREPROCESSING flag can be set when mixed-mode or software vertex processing (D3DCREATE\_MIXED\_VERTEXPROCESSING / D3DCREATE\_SOFTWARE\_VERTEXPROCESSING) is enabled for that device.</span></span> <span data-ttu-id="4433d-135">D3DUSAGE \_ SOFTWAREPROCESSING deve ser definido para buffers a serem usados com o processamento de vértice de software no modo misto, mas não deve ser definido para o melhor desempenho possível ao usar o processamento de vértice de hardware no modo misto. ( D3DCREATE \_ VERTEXPROCESSING de hardware \_ ).</span><span class="sxs-lookup"><span data-stu-id="4433d-135">D3DUSAGE\_SOFTWAREPROCESSING must be set for buffers to be used with software vertex processing in mixed mode, but it should not be set for the best possible performance when using hardware vertex processing in mixed mode.(D3DCREATE\_HARDWARE\_VERTEXPROCESSING).</span></span> <span data-ttu-id="4433d-136">No entanto, definir D3DUSAGE \_ SOFTWAREPROCESSING é a única opção quando um único buffer é usado com o processamento de vértice de hardware e software.</span><span class="sxs-lookup"><span data-stu-id="4433d-136">However, setting D3DUSAGE\_SOFTWAREPROCESSING is the only option when a single buffer is to be used with both hardware and software vertex processing.</span></span> <span data-ttu-id="4433d-137">D3DUSAGE \_ SOFTWAREPROCESSING é permitido para dispositivos mistos e de software.</span><span class="sxs-lookup"><span data-stu-id="4433d-137">D3DUSAGE\_SOFTWAREPROCESSING is allowed for mixed as well as for software devices.</span></span>

<span data-ttu-id="4433d-138">É possível forçar os buffers de vértice e de índice na memória do sistema, especificando D3DPOOL \_ SYSTEMMEM, mesmo quando o processamento de vértice é feito no hardware.</span><span class="sxs-lookup"><span data-stu-id="4433d-138">It is possible to force vertex and index buffers into system memory by specifying D3DPOOL\_SYSTEMMEM, even when the vertex processing is done in hardware.</span></span> <span data-ttu-id="4433d-139">Essa é uma maneira de evitar grandes quantidades de memória bloqueada por página quando um driver está colocando esses buffers na memória AGP.</span><span class="sxs-lookup"><span data-stu-id="4433d-139">This is a way to avoid overly large amounts of page-locked memory when a driver is putting these buffers into AGP memory.</span></span>

<span data-ttu-id="4433d-140">Esta seção apresenta os conceitos necessários para entender e usar buffers de vértice em um aplicativo Direct3D.</span><span class="sxs-lookup"><span data-stu-id="4433d-140">This section introduces the concepts necessary to understand and use vertex buffers in a Direct3D application.</span></span> <span data-ttu-id="4433d-141">As informações são divididas nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="4433d-141">Information is divided into the following sections.</span></span>

-   [<span data-ttu-id="4433d-142">Criando um buffer de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-142">Creating a Vertex Buffer (Direct3D 9)</span></span>](creating-a-vertex-buffer.md)
-   [<span data-ttu-id="4433d-143">Acessando o conteúdo de um buffer de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-143">Accessing the Contents of a Vertex Buffer (Direct3D 9)</span></span>](accessing-the-contents-of-a-vertex-buffer.md)
-   [<span data-ttu-id="4433d-144">Renderização de um buffer de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-144">Rendering from a Vertex Buffer (Direct3D 9)</span></span>](rendering-from-a-vertex-buffer.md)
-   [<span data-ttu-id="4433d-145">Buffers de vértice FVF (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-145">FVF Vertex Buffers (Direct3D 9)</span></span>](fvf-vertex-buffers.md)
-   [<span data-ttu-id="4433d-146">Processamento de vértice de função fixa (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-146">Fixed Function Vertex Processing (Direct3D 9)</span></span>](fixed-function-vertex-processing.md)
-   [<span data-ttu-id="4433d-147">Processamento de vértice programável (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-147">Programmable Vertex Processing (Direct3D 9)</span></span>](programmable-vertex-processing.md)
-   [<span data-ttu-id="4433d-148">Tipos de dispositivo e requisitos de processamento de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-148">Device Types and Vertex Processing Requirements (Direct3D 9)</span></span>](device-types-and-vertex-processing-requirements.md)

## <a name="related-topics"></a><span data-ttu-id="4433d-149">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="4433d-149">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4433d-150">Recursos do Direct3D</span><span class="sxs-lookup"><span data-stu-id="4433d-150">Direct3D Resources</span></span>](direct3d-resources.md)
</dt> <dt>

[<span data-ttu-id="4433d-151">Renderização de vértices e buffers de índice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-151">Rendering from Vertex and Index Buffers (Direct3D 9)</span></span>](rendering-from-vertex-and-index-buffers.md)
</dt> <dt>

[<span data-ttu-id="4433d-152">Buffers de índice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="4433d-152">Index Buffers (Direct3D 9)</span></span>](index-buffers.md)
</dt> </dl>

 

 
