---
description: Um efeito do Microsoft DirectX permite a integração de vértices e sombreadores de pixel com o estado do pipeline para renderizar objetos. Os efeitos são a próxima etapa lógica na combinação de sombreadores para produzir condições de renderização exclusivas.
ms.assetid: vs|directx_sdk|~\effects.htm
title: Efeitos (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d48d2ff5548dff29ede4b360bd2c319f85fafa3e
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "105798039"
---
# <a name="effects-direct3d-9"></a><span data-ttu-id="f299b-104">Efeitos (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="f299b-104">Effects (Direct3D 9)</span></span>

<span data-ttu-id="f299b-105">Um efeito do Microsoft DirectX permite a integração de vértices e sombreadores de pixel com o estado do pipeline para renderizar objetos.</span><span class="sxs-lookup"><span data-stu-id="f299b-105">A Microsoft DirectX effect enables the integration of vertex and pixel shaders with pipeline state to render objects.</span></span> <span data-ttu-id="f299b-106">Os efeitos são a próxima etapa lógica na combinação de sombreadores para produzir condições de renderização exclusivas.</span><span class="sxs-lookup"><span data-stu-id="f299b-106">Effects are the next logical step in combining shaders to produce unique render conditions.</span></span>

<span data-ttu-id="f299b-107">Os efeitos também fornecem uma maneira conveniente de escrever sombreadores para diferentes versões de hardware.</span><span class="sxs-lookup"><span data-stu-id="f299b-107">Effects also provide a convenient way to write shaders for different hardware versions.</span></span> <span data-ttu-id="f299b-108">Como placas de vídeo diferentes dão suporte a funcionalidades diferentes, um aplicativo pode escrever várias técnicas que serão executadas em uma variedade de dispositivos.</span><span class="sxs-lookup"><span data-stu-id="f299b-108">Because different video cards support different functionalities, an application can write several techniques that will run on a variety of devices.</span></span> <span data-ttu-id="f299b-109">Dessa forma, se o aplicativo estiver em execução no hardware mais recente e mais alto, o aplicativo poderá executar a técnica de efeito mais sofisticada.</span><span class="sxs-lookup"><span data-stu-id="f299b-109">This way, if the application is running on the latest and greatest hardware, the application can run the most sophisticated effect technique.</span></span> <span data-ttu-id="f299b-110">Por outro lado, técnicas de efeito menos sofisticadas podem ser escolhidas automaticamente para serem executadas em hardware menos barato ou menos compatível.</span><span class="sxs-lookup"><span data-stu-id="f299b-110">On the other hand, less sophisticated effect techniques can automatically be chosen to run on less-expensive or less-capable hardware.</span></span>

<span data-ttu-id="f299b-111">Um efeito pode substituir o processamento de vértice e parte do processamento de pixel executado pelo pipeline de gráficos.</span><span class="sxs-lookup"><span data-stu-id="f299b-111">An effect can replace the vertex processing and part of the pixel processing performed by the graphics pipeline.</span></span> <span data-ttu-id="f299b-112">Um exemplo de um efeito que usa um sombreador de vértice e um sombreador de pixel está no exemplo de BasicHLSL.</span><span class="sxs-lookup"><span data-stu-id="f299b-112">An example of an effect that uses a vertex shader and a pixel shader is in the BasicHLSL Sample.</span></span> <span data-ttu-id="f299b-113">Você pode obter esse exemplo e aprender sobre ele no SDK do DirectX.</span><span class="sxs-lookup"><span data-stu-id="f299b-113">You can get this sample and learn about it from the DirectX SDK.</span></span> <span data-ttu-id="f299b-114">Para obter informações sobre o SDK do DirectX, consulte [onde está o SDK do DirectX?](../directx-sdk--august-2009-.md).</span><span class="sxs-lookup"><span data-stu-id="f299b-114">For info about the DirectX SDK, see [Where is the DirectX SDK?](../directx-sdk--august-2009-.md).</span></span>

<span data-ttu-id="f299b-115">Para obter mais informações sobre efeitos, consulte estes tópicos:</span><span class="sxs-lookup"><span data-stu-id="f299b-115">For more information about effects, see these topics:</span></span>

-   [<span data-ttu-id="f299b-116">Escrevendo um efeito</span><span class="sxs-lookup"><span data-stu-id="f299b-116">Writing an Effect</span></span>](writing-an-effect.md)
-   [<span data-ttu-id="f299b-117">Usando um efeito</span><span class="sxs-lookup"><span data-stu-id="f299b-117">Using an Effect</span></span>](using-an-effect.md)

## <a name="effects-and-the-3d-pipeline"></a><span data-ttu-id="f299b-118">Efeitos e o pipeline 3D</span><span class="sxs-lookup"><span data-stu-id="f299b-118">Effects and the 3D Pipeline</span></span>

<span data-ttu-id="f299b-119">O diagrama a seguir mostra o pipeline.</span><span class="sxs-lookup"><span data-stu-id="f299b-119">The following diagram shows the pipeline.</span></span>

![diagrama do pipeline 3D](images/effects-block-diagram.png)

<span data-ttu-id="f299b-121">O pipeline transforma os dados de entrada em pixels de saída que preenchem o buffer de quadros.</span><span class="sxs-lookup"><span data-stu-id="f299b-121">The pipeline transforms input data into output pixels that fill the frame buffer.</span></span> <span data-ttu-id="f299b-122">Os dados de entrada vêm de objetos que são compostos de vértices em espaço de objeto ou superfícies de ordem superior criadas a partir de N-patches, patches de retângulo e patches de triângulo.</span><span class="sxs-lookup"><span data-stu-id="f299b-122">The input data comes from objects that are made up of vertices in object space, or higher-order surfaces created from N-patches, rectangle patches, and triangle patches.</span></span> <span data-ttu-id="f299b-123">Depois que os dados de entrada tiverem sido mosaicodos, o pipeline executará processamento de vértice, processamento primitivo e processamento de pixel antes de gerar as cores de pixel final.</span><span class="sxs-lookup"><span data-stu-id="f299b-123">Once the input data has been tessellated, the pipeline performs vertex processing, primitive processing, and pixel processing before generating the final pixel colors.</span></span>

<span data-ttu-id="f299b-124">O processamento de vértices e de pixel pode ser executado pelo pipeline de função fixa ou pode ser implementado com sombreadores programáveis.</span><span class="sxs-lookup"><span data-stu-id="f299b-124">Vertex and pixel processing can be performed by the fixed function pipeline, or can be implemented with programmable shaders.</span></span> <span data-ttu-id="f299b-125">O mosaico de dados de entrada, o processamento primitivo e as saídas de dados são controlados pelo estado do pipeline.</span><span class="sxs-lookup"><span data-stu-id="f299b-125">The input data tessellation, primitive processing, and data outputs are controlled by pipeline state.</span></span> <span data-ttu-id="f299b-126">Tudo isso pode ser integrado em um efeito.</span><span class="sxs-lookup"><span data-stu-id="f299b-126">All this can be integrated into an effect.</span></span> <span data-ttu-id="f299b-127">Um efeito define o estado que controla como o pipeline funciona.</span><span class="sxs-lookup"><span data-stu-id="f299b-127">An effect sets the state that controls how the pipeline functions.</span></span> <span data-ttu-id="f299b-128">Os efeitos gerenciam sombreadores programáveis, bem como estado de função fixa.</span><span class="sxs-lookup"><span data-stu-id="f299b-128">Effects manage programmable shaders as well as fixed function state.</span></span>

<span data-ttu-id="f299b-129">Os efeitos podem salvar e restaurar o estado, deixando o dispositivo no mesmo estado que antes do efeito ser executado.</span><span class="sxs-lookup"><span data-stu-id="f299b-129">Effects can save and restore state, leaving the device in the same state as before the effect was run.</span></span> <span data-ttu-id="f299b-130">Os tipos de estado que um efeito pode gerenciar incluem:</span><span class="sxs-lookup"><span data-stu-id="f299b-130">The types of state that an effect can manage include:</span></span>

-   <span data-ttu-id="f299b-131">Estado do sombreador.</span><span class="sxs-lookup"><span data-stu-id="f299b-131">Shader state.</span></span> <span data-ttu-id="f299b-132">Isso inclui criar e excluir sombreadores, definir constantes de sombreador, definir o estado do sombreador e renderizar com sombreadores.</span><span class="sxs-lookup"><span data-stu-id="f299b-132">This includes creating and deleting shaders, setting shader constants, setting shader state, and rendering with shaders.</span></span>
-   <span data-ttu-id="f299b-133">Estado de textura e amostra.</span><span class="sxs-lookup"><span data-stu-id="f299b-133">Texture and sampler state.</span></span> <span data-ttu-id="f299b-134">Isso inclui a especificação de arquivos de textura, a inicialização de estágios de textura, a criação de objetos de amostra e a configuração do estado de amostra.</span><span class="sxs-lookup"><span data-stu-id="f299b-134">This includes specifying texture files, initializing texture stages, creating sampler objects, and setting sampler state.</span></span>
-   <span data-ttu-id="f299b-135">Outro Estado de pipeline.</span><span class="sxs-lookup"><span data-stu-id="f299b-135">Other pipeline state.</span></span> <span data-ttu-id="f299b-136">Isso inclui Estados para a configuração de transformações, iluminação, materiais e opções de renderização.</span><span class="sxs-lookup"><span data-stu-id="f299b-136">This includes states for setting transformations, lighting, materials, and rendering options.</span></span> <span data-ttu-id="f299b-137">Elas podem ser variáveis globais ou locais.</span><span class="sxs-lookup"><span data-stu-id="f299b-137">These can be global or local variables.</span></span> <span data-ttu-id="f299b-138">As variáveis podem ser definidas pelo próprio efeito ou pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f299b-138">The variables can be set by either the effect itself or by the application.</span></span>

<span data-ttu-id="f299b-139">Os efeitos contêm várias opções de renderização chamadas técnicas.</span><span class="sxs-lookup"><span data-stu-id="f299b-139">Effects contain multiple rendering options called techniques.</span></span> <span data-ttu-id="f299b-140">Cada técnica encapsula variáveis globais, estado de pipeline, textura e estado de amostra e o estado do sombreador.</span><span class="sxs-lookup"><span data-stu-id="f299b-140">Each technique encapsulates global variables, pipeline state, texture and sampler state, and shader state.</span></span> <span data-ttu-id="f299b-141">Um único estilo é implementado em uma passagem de renderização.</span><span class="sxs-lookup"><span data-stu-id="f299b-141">A single style is implemented in a rendering pass.</span></span> <span data-ttu-id="f299b-142">Uma ou mais passagens podem ser encapsuladas em uma técnica.</span><span class="sxs-lookup"><span data-stu-id="f299b-142">One or more passes can be encapsulated in a technique.</span></span> <span data-ttu-id="f299b-143">Todas as etapas e técnicas podem ser validadas para ver se o código de efeito será executado no dispositivo de hardware.</span><span class="sxs-lookup"><span data-stu-id="f299b-143">All of the passes and techniques can be validated to see if the effect code will run on the hardware device.</span></span>

## <a name="effects-save-and-restore-state"></a><span data-ttu-id="f299b-144">Estado de salvamento e restauração de efeitos</span><span class="sxs-lookup"><span data-stu-id="f299b-144">Effects Save and Restore State</span></span>

<span data-ttu-id="f299b-145">Estado do gerenciamento de efeitos.</span><span class="sxs-lookup"><span data-stu-id="f299b-145">Effects manage state.</span></span> <span data-ttu-id="f299b-146">O estado da palavra é usado muito amplamente aqui, pois inclui todos os tipos de informações que o pipeline precisa para especificar as condições de renderização.</span><span class="sxs-lookup"><span data-stu-id="f299b-146">The word state is used very broadly here as it includes all kinds of information that the pipeline needs to specify the render conditions.</span></span> <span data-ttu-id="f299b-147">Isso inclui quase todas as áreas funcionais do pipeline.</span><span class="sxs-lookup"><span data-stu-id="f299b-147">This includes nearly all the functional areas of the pipeline.</span></span>

<span data-ttu-id="f299b-148">As opções de renderização são controladas por técnicas e passagens.</span><span class="sxs-lookup"><span data-stu-id="f299b-148">Rendering options are controlled by techniques and passes.</span></span> <span data-ttu-id="f299b-149">Um aplicativo renderiza um efeito definindo uma técnica ativa e Renderizando uma ou mais passagens.</span><span class="sxs-lookup"><span data-stu-id="f299b-149">An application renders an effect by setting one active technique, and rendering one or more passes.</span></span> <span data-ttu-id="f299b-150">Toda a renderização em um efeito é feita dentro de um par correspondente de chamadas [**begin**](id3dxeffect--begin.md) e [**end**](id3dxeffect--end.md) .</span><span class="sxs-lookup"><span data-stu-id="f299b-150">All rendering in an effect is done within a matching pair of [**Begin**](id3dxeffect--begin.md) and [**End**](id3dxeffect--end.md) calls.</span></span> <span data-ttu-id="f299b-151">Quando **begin** é chamado, um stateblock é criado e o estado do dispositivo é salvo (a menos que você especifique o contrário).</span><span class="sxs-lookup"><span data-stu-id="f299b-151">When **Begin** is called, a stateblock is created and device state is saved (unless you specify otherwise).</span></span> <span data-ttu-id="f299b-152">Depois que uma técnica renderiza as passagens que o aplicativo especifica para renderizar, **end** é chamado para encerrar a técnica ativa.</span><span class="sxs-lookup"><span data-stu-id="f299b-152">After a technique renders the passes that the application specifies to render, **End** is called to end the active technique.</span></span> <span data-ttu-id="f299b-153">O sistema de efeitos responde restaurando automaticamente o estado do pipeline que foi capturado no bloco de estado (a menos que você opte por desabilitar essa funcionalidade de salvar e restaurar).</span><span class="sxs-lookup"><span data-stu-id="f299b-153">The effect system responds by automatically restoring the pipeline state that was captured in the state block (unless you choose to disable this save and restore functionality).</span></span>

<span data-ttu-id="f299b-154">Ao programar sequências de renderização de várias passagens, cada uma delas requer sua própria configuração de estado, os efeitos podem reduzir a manutenção necessária para controlar as alterações de estado.</span><span class="sxs-lookup"><span data-stu-id="f299b-154">When programming multiple-pass rendering sequences, each of which requires its own state setup, effects can reduce the housekeeping required for tracking state changes.</span></span> <span data-ttu-id="f299b-155">Para ver mais informações sobre os Estados que podem ser salvos e restaurados por efeitos, consulte [Estados de efeito (Direct3D 9)](effect-states.md).</span><span class="sxs-lookup"><span data-stu-id="f299b-155">To see more information about the states that can be saved and restored by effects, see [Effect States (Direct3D 9)](effect-states.md).</span></span>

## <a name="effects-can-share-parameters"></a><span data-ttu-id="f299b-156">Os efeitos podem compartilhar parâmetros</span><span class="sxs-lookup"><span data-stu-id="f299b-156">Effects Can Share Parameters</span></span>

<span data-ttu-id="f299b-157">Os parâmetros de efeito são todas as variáveis não estáticas declaradas em um efeito.</span><span class="sxs-lookup"><span data-stu-id="f299b-157">Effect parameters are all the non-static variables declared in an effect.</span></span> <span data-ttu-id="f299b-158">Isso pode incluir variáveis e anotações globais.</span><span class="sxs-lookup"><span data-stu-id="f299b-158">This can include global variables and annotations.</span></span> <span data-ttu-id="f299b-159">Os parâmetros de efeito podem ser compartilhados entre diferentes efeitos declarando parâmetros com a palavra-chave Shared e, em seguida, criando o efeito com um pool de efeitos.</span><span class="sxs-lookup"><span data-stu-id="f299b-159">Effect parameters can be shared between different effects by declaring parameters with the shared keyword and then creating the effect with an effect pool.</span></span>

<span data-ttu-id="f299b-160">Os efeitos clonados usam o mesmo pool de efeitos que o efeito do qual são clonados.</span><span class="sxs-lookup"><span data-stu-id="f299b-160">Cloned effects use the same effect pool as the effect from which they are cloned.</span></span> <span data-ttu-id="f299b-161">A clonagem de um efeito faz uma cópia exata de um efeito, incluindo variáveis globais, técnicas, passagens e anotações.</span><span class="sxs-lookup"><span data-stu-id="f299b-161">Cloning an effect makes an exact copy of an effect, including global variables, techniques, passes, and annotations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f299b-162">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f299b-162">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f299b-163">Guia de programação do Direct3D 9</span><span class="sxs-lookup"><span data-stu-id="f299b-163">Programming Guide for Direct3D 9</span></span>](dx9-graphics-programming-guide.md)
</dt> </dl>

 

 
