---
description: As texturas tradicionais são consideradas texturas de elemento único.
ms.assetid: 8fe8da80-0879-413a-a7db-617d2f558b28
title: Texturas de vários elementos (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78a434d1e6c6a892c794551aa0caf34890f3def9
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "105813246"
---
# <a name="multiple-element-textures-direct3d-9"></a><span data-ttu-id="9d737-103">Texturas de vários elementos (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="9d737-103">Multiple-element Textures (Direct3D 9)</span></span>

<span data-ttu-id="9d737-104">As texturas tradicionais são consideradas texturas de elemento único.</span><span class="sxs-lookup"><span data-stu-id="9d737-104">Traditional textures are considered to be single-element textures.</span></span> <span data-ttu-id="9d737-105">Texturas com vários elementos permitem que os aplicativos gravem simultaneamente em vários elementos de uma textura a partir do sombreador de pixel.</span><span class="sxs-lookup"><span data-stu-id="9d737-105">Multiple-element textures enable applications to write simultaneously to multiple elements of a texture from the pixel shader.</span></span> <span data-ttu-id="9d737-106">O resultado na próxima passagem de renderização é que um aplicativo pode usar um ou mais elementos como uma textura de elemento único, ou seja, como entradas para o sombreador de pixel.</span><span class="sxs-lookup"><span data-stu-id="9d737-106">The result in the next rendering pass is that an application can use one or more of the elements as a single-element texture - that is, as inputs to the pixel shader.</span></span> <span data-ttu-id="9d737-107">Esses elementos adicionais podem ser considerados como um armazenamento temporário para resultados intermediários que serão usados em uma passagem posterior pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9d737-107">These additional elements can be thought of as a temporary store for intermediate results that will be used in a later pass by the application.</span></span>

<span data-ttu-id="9d737-108">A primeira geração de hardware que expõe esse recurso tem as seguintes restrições:</span><span class="sxs-lookup"><span data-stu-id="9d737-108">The first generation of hardware that exposes this feature has the following restrictions:</span></span>

-   <span data-ttu-id="9d737-109">Todas as superfícies de textura de vários elementos serão alocadas automaticamente.</span><span class="sxs-lookup"><span data-stu-id="9d737-109">All multiple-element texture surfaces will be allocated automatically.</span></span> <span data-ttu-id="9d737-110">Essa limitação é abordada tratando isso como um novo tipo de formato de superfície com vários canais RGBA intercalados.</span><span class="sxs-lookup"><span data-stu-id="9d737-110">This limitation is addressed by treating this as a new type of surface format with multiple RGBA channels interleaved.</span></span>
-   <span data-ttu-id="9d737-111">Todos os elementos da textura de vários elementos podem ter a mesma profundidade de bits.</span><span class="sxs-lookup"><span data-stu-id="9d737-111">All elements of the multiple element texture can have the same bit depth.</span></span> <span data-ttu-id="9d737-112">Essa limitação é expressa pelo nome dos novos formatos de superfície.</span><span class="sxs-lookup"><span data-stu-id="9d737-112">This limitation is expressed by the name of the new surface formats.</span></span>
-   <span data-ttu-id="9d737-113">Uma textura de vários elementos não pode ser primária/exibível.</span><span class="sxs-lookup"><span data-stu-id="9d737-113">A multiple-element texture cannot be the primary/displayable.</span></span> <span data-ttu-id="9d737-114">Em outras palavras, ela deve ser apenas fora da tela.</span><span class="sxs-lookup"><span data-stu-id="9d737-114">In other words, it must be off-screen only.</span></span> <span data-ttu-id="9d737-115">Essa limitação é expressa pela enumeração de formato de superfície.</span><span class="sxs-lookup"><span data-stu-id="9d737-115">This limitation is expressed by the surface-format enumeration.</span></span>
-   <span data-ttu-id="9d737-116">Não é permitido o pontilhamento, o teste alfa, o fogging, a mesclagem, a operação ou o mascaramento.</span><span class="sxs-lookup"><span data-stu-id="9d737-116">No dithering, alpha test, fogging, blending, raster-op, or masking is allowed.</span></span> <span data-ttu-id="9d737-117">Nenhum processamento de sombreador após o pixel é feito, exceto o teste z-Test e stencil.</span><span class="sxs-lookup"><span data-stu-id="9d737-117">No post-pixel shader processing is done, except the z-test and stencil test.</span></span>
-   <span data-ttu-id="9d737-118">A textura não pode ser uma mipmap.</span><span class="sxs-lookup"><span data-stu-id="9d737-118">The texture cannot be a mipmap.</span></span> <span data-ttu-id="9d737-119">A criação da cadeia MIP falhará.</span><span class="sxs-lookup"><span data-stu-id="9d737-119">Creation of the mip chain will fail.</span></span>
-   <span data-ttu-id="9d737-120">O mesmo elemento não pode ser definido como uma textura ao mesmo tempo em que é um destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="9d737-120">The same element cannot be set as a texture at the same time it is a render target.</span></span> <span data-ttu-id="9d737-121">No entanto, elementos diferentes da mesma superfície de textura de vários elementos podem ser simultaneamente texturas e processar destinos.</span><span class="sxs-lookup"><span data-stu-id="9d737-121">However, different elements of the same multiple-element texture surface can simultaneously be textures and render targets.</span></span>
-   <span data-ttu-id="9d737-122">Não há suporte para anti-aliasing.</span><span class="sxs-lookup"><span data-stu-id="9d737-122">No antialiasing is supported.</span></span>
-   <span data-ttu-id="9d737-123">As superfícies de textura de vários elementos, quando usadas como uma textura, não podem ser filtradas.</span><span class="sxs-lookup"><span data-stu-id="9d737-123">Multiple-element texture surfaces, when used as a texture, cannot be filtered.</span></span> <span data-ttu-id="9d737-124">Essa limitação pode ser verificada usando [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat).</span><span class="sxs-lookup"><span data-stu-id="9d737-124">This limitation can be verified using [**CheckDeviceFormat**](/windows/win32/api/d3d9/nf-d3d9-idirect3d9-checkdeviceformat).</span></span>
-   <span data-ttu-id="9d737-125">As superfícies de textura de vários elementos não podem ser bloqueadas.</span><span class="sxs-lookup"><span data-stu-id="9d737-125">Multiple-element texture surfaces cannot be locked.</span></span>
-   <span data-ttu-id="9d737-126">Mais de uma superfície de textura de vários elementos pode ser usada simultaneamente atribuindo cada uma a várias fases, assim como acontece com texturas normais.</span><span class="sxs-lookup"><span data-stu-id="9d737-126">More than one multiple-element texture surface can be used simultaneously by assigning each to various stages, just as with normal textures.</span></span>
-   <span data-ttu-id="9d737-127">As superfícies de textura de vários elementos dão suporte à conversão de gama de 2,2 a 1,0 para a conversão em uma operação de leitura, assim como ocorre com outros formatos de textura.</span><span class="sxs-lookup"><span data-stu-id="9d737-127">Multiple-element texture surfaces support conversion of gamma from 2.2 to 1.0 conversion on a read operation, just as with other texture formats.</span></span>
-   <span data-ttu-id="9d737-128">Algumas das implementações não aplicam a máscara de gravação de saída (D3DRS \_ COLORWRITEENABLE).</span><span class="sxs-lookup"><span data-stu-id="9d737-128">Some of the implementations do not apply the output write mask (D3DRS\_COLORWRITEENABLE).</span></span> <span data-ttu-id="9d737-129">Aqueles que podem ter máscaras de gravação de cor independentes.</span><span class="sxs-lookup"><span data-stu-id="9d737-129">Those that can have independent color write masks.</span></span> <span data-ttu-id="9d737-130">Isso é expresso usando um novo bit de recurso.</span><span class="sxs-lookup"><span data-stu-id="9d737-130">This is expressed using a new capability bit.</span></span> <span data-ttu-id="9d737-131">O número de máscaras de gravação de cor independentes disponíveis será igual ao número máximo de elementos dos quais o dispositivo é capaz.</span><span class="sxs-lookup"><span data-stu-id="9d737-131">The number of independent color write masks available will be equal to the maximum number of elements of which the device is capable.</span></span>
-   <span data-ttu-id="9d737-132">[**Clear**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-clear) limpa todos os elementos da textura de vários elementos que é definida como destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="9d737-132">[**Clear**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-clear) clears all elements of the multiple-element texture which is set as the render target.</span></span>

<span data-ttu-id="9d737-133">O uso de texturas com vários elementos segue estas etapas:</span><span class="sxs-lookup"><span data-stu-id="9d737-133">The usage of multiple-element textures follows these steps:</span></span>

1.  <span data-ttu-id="9d737-134">Os aplicativos detectam suporte para esse recurso verificando a disponibilidade de formatos de textura de vários elementos.</span><span class="sxs-lookup"><span data-stu-id="9d737-134">Applications discover support for this feature by checking for the availability of multiple-element texture formats.</span></span>
2.  <span data-ttu-id="9d737-135">O aplicativo cria essas superfícies chamando [**CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture).</span><span class="sxs-lookup"><span data-stu-id="9d737-135">The application creates these surfaces by calling [**CreateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createtexture).</span></span>
3.  <span data-ttu-id="9d737-136">O aplicativo define a superfície como um destino de renderização usando a chamada [**SetRenderTarget**](/windows/desktop/api) .</span><span class="sxs-lookup"><span data-stu-id="9d737-136">The application sets the surface as a render target using the [**SetRenderTarget**](/windows/desktop/api) call.</span></span> <span data-ttu-id="9d737-137">O sombreador de pixel fornece saída para as superfícies usando a instrução [Mov-PS](../direct3dhlsl/mov---ps.md) .</span><span class="sxs-lookup"><span data-stu-id="9d737-137">The pixel shader provides output to the surfaces using the [mov - ps](../direct3dhlsl/mov---ps.md) instruction.</span></span>
4.  <span data-ttu-id="9d737-138">[**SetTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) é chamado para definir uma superfície de textura de vários elementos em um estágio específico.</span><span class="sxs-lookup"><span data-stu-id="9d737-138">[**SetTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-settexture) is called to set a multiple-element texture surface to a particular stage.</span></span> <span data-ttu-id="9d737-139">Assim como acontece com outras texturas, a mesma superfície pode ser definida para vários estágios de uma só vez.</span><span class="sxs-lookup"><span data-stu-id="9d737-139">As with other textures, the same surface is allowed to be set to multiple stages at once.</span></span>
5.  <span data-ttu-id="9d737-140">[**Setsamplestate**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setsamplerstate) é chamado para definir D3DSAMP \_ ELEMENTINDEX como o número do elemento apropriado na textura de vários elementos a partir da qual os exemplos de amostra.</span><span class="sxs-lookup"><span data-stu-id="9d737-140">[**SetSamplerState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setsamplerstate) is called to set D3DSAMP\_ELEMENTINDEX to the appropriate element number in the multiple-element texture from which the sampler samples.</span></span> <span data-ttu-id="9d737-141">O valor padrão para esse estado é 0, o que significa que texturas sem vários elementos funcionarão.</span><span class="sxs-lookup"><span data-stu-id="9d737-141">Default value for this state is 0, which means non-multiple-element textures will work.</span></span> <span data-ttu-id="9d737-142">Definir esse estado como um número inadequado resulta em um comportamento indefinido – se a textura de vários elementos for apenas dois elementos de largura, mas a amostra for solicitada a amostra do quarto elemento, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="9d737-142">Setting this state to an inappropriate number results in an undefined behavior - if the multiple-element texture is only two elements wide but the sampler is asked to sample from the fourth element, for example.</span></span>

## <a name="api-support"></a><span data-ttu-id="9d737-143">Suporte a API</span><span class="sxs-lookup"><span data-stu-id="9d737-143">API Support</span></span>

<span data-ttu-id="9d737-144">Veja a seguir um resumo dos elementos da API que dão suporte a texturas de vários elementos:</span><span class="sxs-lookup"><span data-stu-id="9d737-144">The following is a summary of the API elements that support multiple-element textures:</span></span>

-   <span data-ttu-id="9d737-145">O formato de superfície [D3DFMT \_ Multi2 \_ ARGB8](d3dformat.md) expressa a natureza intercalada do formato.</span><span class="sxs-lookup"><span data-stu-id="9d737-145">The [D3DFMT\_MULTI2\_ARGB8](d3dformat.md) surface format expresses the interleaved nature of the format.</span></span>
-   <span data-ttu-id="9d737-146">O \_ estado de amostra D3DSAMP ELEMENTINDEX indica qual índice de elemento usar.</span><span class="sxs-lookup"><span data-stu-id="9d737-146">The D3DSAMP\_ELEMENTINDEX sampler state indicates which element index to use.</span></span>
-   <span data-ttu-id="9d737-147">Os Estados de renderização a seguir dão suporte a texturas com vários elementos:</span><span class="sxs-lookup"><span data-stu-id="9d737-147">The following render states support multiple-element textures:</span></span>

    -   <span data-ttu-id="9d737-148">D3DRS \_ COLORWRITEENABLE1</span><span class="sxs-lookup"><span data-stu-id="9d737-148">D3DRS\_COLORWRITEENABLE1</span></span>
    -   <span data-ttu-id="9d737-149">D3DRS \_ COLORWRITEENABLE2</span><span class="sxs-lookup"><span data-stu-id="9d737-149">D3DRS\_COLORWRITEENABLE2</span></span>
    -   <span data-ttu-id="9d737-150">D3DRS \_ COLORWRITEENABLE3</span><span class="sxs-lookup"><span data-stu-id="9d737-150">D3DRS\_COLORWRITEENABLE3</span></span>

    <span data-ttu-id="9d737-151">D3DRS \_ COLORWRITEENABLE aplica-se ao destino de renderização (ou elemento) zero.</span><span class="sxs-lookup"><span data-stu-id="9d737-151">D3DRS\_COLORWRITEENABLE applies to render target (or element) zero.</span></span>

-   <span data-ttu-id="9d737-152">O sinalizador [D3DPMISCCAPS \_ INDEPENDENTWRITEMASKS](d3dpmisccaps.md) indica que o dispositivo dá suporte a máscaras de gravação independentes para várias texturas de elementos ou vários destinos de renderização.</span><span class="sxs-lookup"><span data-stu-id="9d737-152">The [D3DPMISCCAPS\_INDEPENDENTWRITEMASKS](d3dpmisccaps.md) flag indicates that the device supports independent write masks for multiple element textures or multiple render targets.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9d737-153">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="9d737-153">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9d737-154">Pipeline de pixel</span><span class="sxs-lookup"><span data-stu-id="9d737-154">Pixel Pipeline</span></span>](pixel-pipeline.md)
</dt> </dl>

 

 
