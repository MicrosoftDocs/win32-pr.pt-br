---
description: As luzes são usadas para iluminar objetos em uma cena.
ms.assetid: 0751bb76-611a-41c4-aab2-aa6f68b61b0e
title: Luzes e materiais (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d6f44a12c1be1e7a14f7bfe176d7f391901d2dac
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104370053"
---
# <a name="lights-and-materials-direct3d-9"></a><span data-ttu-id="68a41-103">Luzes e materiais (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="68a41-103">Lights and Materials (Direct3D 9)</span></span>

<span data-ttu-id="68a41-104">As luzes são usadas para iluminar objetos em uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-104">Lights are used to illuminate objects in a scene.</span></span> <span data-ttu-id="68a41-105">Quando a iluminação está habilitada, o Direct3D calcula a cor de cada vértice do objeto com base em uma combinação de:</span><span class="sxs-lookup"><span data-stu-id="68a41-105">When lighting is enabled, Direct3D calculates the color of each object vertex based on a combination of:</span></span>

> [!Note]  
> <span data-ttu-id="68a41-106">Esta seção é apenas para o pipeline de função fixa.</span><span class="sxs-lookup"><span data-stu-id="68a41-106">This section is only for the fixed-function pipeline.</span></span> <span data-ttu-id="68a41-107">Os sombreadores programáveis executam toda a iluminação de modo explícito.</span><span class="sxs-lookup"><span data-stu-id="68a41-107">Programmable shaders perform all lighting explicitly.</span></span>

 

-   <span data-ttu-id="68a41-108">A cor do material atual e o texels em um mapa de textura associado.</span><span class="sxs-lookup"><span data-stu-id="68a41-108">The current material color and the texels in an associated texture map.</span></span>
-   <span data-ttu-id="68a41-109">As cores difusas e especulares do vértice, se especificado.</span><span class="sxs-lookup"><span data-stu-id="68a41-109">The diffuse and specular colors at the vertex, if specified.</span></span>
-   <span data-ttu-id="68a41-110">A cor e a intensidade da luz produzida por fontes de iluminação de cena ou o nível de luz ambiente da cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-110">The color and intensity of light produced by light sources in the scene or the scene's ambient light level.</span></span>

<span data-ttu-id="68a41-111">Ao usar a iluminação e os materiais do Direct3D, você permite que o Direct3D manipule os detalhes de iluminação para você.</span><span class="sxs-lookup"><span data-stu-id="68a41-111">When you use Direct3D lighting and materials, you allow Direct3D to handle the details of illumination for you.</span></span> <span data-ttu-id="68a41-112">Os usuários avançados podem executar a iluminação por conta própria, se desejado.</span><span class="sxs-lookup"><span data-stu-id="68a41-112">Advanced users can perform lighting on their own, if desired.</span></span>

<span data-ttu-id="68a41-113">A forma como você trabalha com a iluminação e os materiais faz uma grande diferença na aparência da cena renderizada.</span><span class="sxs-lookup"><span data-stu-id="68a41-113">How you work with lighting and materials makes a big difference in the appearance of the rendered scene.</span></span> <span data-ttu-id="68a41-114">Os materiais definem como a luz é refletida por uma superfície.</span><span class="sxs-lookup"><span data-stu-id="68a41-114">Materials define how light reflects off a surface.</span></span> <span data-ttu-id="68a41-115">Níveis de luz direta e ambiente definem a luz refletida.</span><span class="sxs-lookup"><span data-stu-id="68a41-115">Direct light and ambient light levels define the light that is reflected.</span></span> <span data-ttu-id="68a41-116">Você deve usar materiais para renderizar uma cena se a iluminação estiver habilitada.</span><span class="sxs-lookup"><span data-stu-id="68a41-116">You must use materials to render a scene if lighting is enabled.</span></span> <span data-ttu-id="68a41-117">As luzes não são necessárias para renderizar uma cena, mas os detalhes em uma cena renderizada sem luz não estão visíveis.</span><span class="sxs-lookup"><span data-stu-id="68a41-117">Lights are not required to render a scene, but details in a scene rendered without light are not visible.</span></span> <span data-ttu-id="68a41-118">Na melhor das hipóteses, a renderização de uma cena apagada resulta em uma silhueta dos objetos nela.</span><span class="sxs-lookup"><span data-stu-id="68a41-118">At best, rendering an unlit scene results in a silhouette of the objects in the scene.</span></span> <span data-ttu-id="68a41-119">Isso não fornece detalhes suficientes para a maioria das finalidades.</span><span class="sxs-lookup"><span data-stu-id="68a41-119">This is not enough detail for most purposes.</span></span>

## <a name="direct-light-vs-ambient-light"></a><span data-ttu-id="68a41-120">Luz direta versus luz ambiente</span><span class="sxs-lookup"><span data-stu-id="68a41-120">Direct Light vs. Ambient Light</span></span>

<span data-ttu-id="68a41-121">Embora as luzes direta e ambiente iluminem objetos em uma cena, elas são independentes uma da outra, têm efeitos muito diferentes e exigem que você trabalhe com elas de formas completamente diferentes.</span><span class="sxs-lookup"><span data-stu-id="68a41-121">Although both direct and ambient light illuminate objects in a scene, they are independent of one another, they have very different effects, and they require that you work with them in completely different ways.</span></span>

<span data-ttu-id="68a41-122">A luz direta é apenas: direta.</span><span class="sxs-lookup"><span data-stu-id="68a41-122">Direct light is just that: direct.</span></span> <span data-ttu-id="68a41-123">A luz direta sempre tem direção e cor, além de ser um fator para algoritmos de sombreamento, como sombreamento de Gouraud.</span><span class="sxs-lookup"><span data-stu-id="68a41-123">Direct light always has direction and color, and it is a factor for shading algorithms, such as Gouraud shading.</span></span> <span data-ttu-id="68a41-124">Diferentes tipos de luzes emitem luz direta de formas diferentes, o que cria efeitos especiais de atenuação.</span><span class="sxs-lookup"><span data-stu-id="68a41-124">Different types of lights emit direct light in different ways, creating special attenuation effects.</span></span> <span data-ttu-id="68a41-125">Você cria um conjunto de parâmetros leves para luz direta chamando o método [**IDirect3DDevice9:: SetLight**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setlight) .</span><span class="sxs-lookup"><span data-stu-id="68a41-125">You create a set of light parameters for direct light by calling the [**IDirect3DDevice9::SetLight**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setlight) method.</span></span>

<span data-ttu-id="68a41-126">Luz ambiente está efetivamente em qualquer lugar em uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-126">Ambient light is effectively everywhere in a scene.</span></span> <span data-ttu-id="68a41-127">Você pode considerar isso como um nível geral de luz que preenche uma cena inteira, independentemente dos objetos e de suas localizações nessa cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-127">You can think of it as a general level of light that fills an entire scene, regardless of the objects and their locations in that scene.</span></span> <span data-ttu-id="68a41-128">A luz ambiente não tem posição ou direção, somente cor e intensidade.</span><span class="sxs-lookup"><span data-stu-id="68a41-128">Ambient light has no position or direction, only color and intensity.</span></span> <span data-ttu-id="68a41-129">Cada luz adiciona detalhes à luz ambiente geral em uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-129">Each light adds to the overall ambient light in a scene.</span></span> <span data-ttu-id="68a41-130">Defina o nível de luz ambiente com uma chamada para o método [**IDirect3DDevice9:: Setrenderingstate**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) , especificando o \_ ambiente D3DRS como o parâmetro de *estado* e a cor RGBA desejada como o parâmetro de valor.</span><span class="sxs-lookup"><span data-stu-id="68a41-130">Set the ambient light level with a call to the [**IDirect3DDevice9::SetRenderState**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-setrenderstate) method, specifying D3DRS\_AMBIENT as the *State* parameter, and the desired RGBA color as the Value parameter.</span></span>

<span data-ttu-id="68a41-131">A cor de luz ambiente assume a forma de um valor RGBA, onde cada componente é um valor inteiro de 0 a 255.</span><span class="sxs-lookup"><span data-stu-id="68a41-131">Ambient light color takes the form of an RGBA value, where each component is an integer value from 0 to 255.</span></span> <span data-ttu-id="68a41-132">Isso é diferente da maioria dos valores de cores no Direct3D.</span><span class="sxs-lookup"><span data-stu-id="68a41-132">This is unlike most color values in Direct3D.</span></span>

<span data-ttu-id="68a41-133">Você pode usar a macro [**D3DCOLOR \_ RGBA**](d3dcolor-rgba.md) para gerar valores RGBA.</span><span class="sxs-lookup"><span data-stu-id="68a41-133">You can use the [**D3DCOLOR\_RGBA**](d3dcolor-rgba.md) macro to generate RGBA values.</span></span> <span data-ttu-id="68a41-134">Os componentes vermelhos, verdes e azuis são combinados para formar a cor final da luz ambiente.</span><span class="sxs-lookup"><span data-stu-id="68a41-134">The red, green, and blue components combine to make the final color of the ambient light.</span></span> <span data-ttu-id="68a41-135">O componente alfa controla a transparência da cor.</span><span class="sxs-lookup"><span data-stu-id="68a41-135">The alpha component controls the transparency of the color.</span></span> <span data-ttu-id="68a41-136">Ao usar a aceleração de hardware ou a emulação de RGB, o componente alfa é ignorado.</span><span class="sxs-lookup"><span data-stu-id="68a41-136">When using hardware acceleration or RGB emulation, the alpha component is ignored.</span></span>

## <a name="direct3d-light-model-vs-nature"></a><span data-ttu-id="68a41-137">Modelo Direct3D Light versus natureza</span><span class="sxs-lookup"><span data-stu-id="68a41-137">Direct3D Light Model vs. Nature</span></span>

<span data-ttu-id="68a41-138">Na natureza, quando a luz é emitida de uma fonte, ela é refletido por centenas, se não milhares ou milhões de objetos antes de chegar aos olhos do usuário.</span><span class="sxs-lookup"><span data-stu-id="68a41-138">In nature, when light is emitted from a source, it is reflected off of hundreds, if not thousands or millions of objects before reaching the user's eye.</span></span> <span data-ttu-id="68a41-139">Cada vez que ele é refletido, uma luz é absorvida por uma superfície, algumas estão espalhados em direções aleatórias e o restante prossegue para outra superfície ou a atenção do usuário.</span><span class="sxs-lookup"><span data-stu-id="68a41-139">Each time it is reflected, some light is absorbed by a surface, some is scattered in random directions, and the rest goes on to another surface or to the user's eye.</span></span> <span data-ttu-id="68a41-140">Esse processo continua até que a luz seja reduzida a nada ou um usuário perceba a luz.</span><span class="sxs-lookup"><span data-stu-id="68a41-140">This process continues until the light is reduced to nothing or a user perceives the light.</span></span>

<span data-ttu-id="68a41-141">Obviamente, os cálculos necessários para simular perfeitamente o comportamento natural de luz são muito demorados para uso em elementos gráficos de tempo real do Direct3D.</span><span class="sxs-lookup"><span data-stu-id="68a41-141">Obviously, the calculations required to perfectly simulate the natural behavior of light are too time-consuming to use for real-time Direct3D graphics.</span></span> <span data-ttu-id="68a41-142">Portanto, pensando na velocidade, o modelo de luz do Direct3D se aproxima da maneira como a luz funciona no mundo natural.</span><span class="sxs-lookup"><span data-stu-id="68a41-142">Therefore, with speed in mind, the Direct3D light model approximates the way light works in the natural world.</span></span> <span data-ttu-id="68a41-143">O Direct3D descreve a luz em termos de componentes de vermelhos, verdes e azuis que são combinados para criar uma cor final.</span><span class="sxs-lookup"><span data-stu-id="68a41-143">Direct3D describes light in terms of red, green, and blue components that combine to create a final color.</span></span>

<span data-ttu-id="68a41-144">No Direct3D, quando a luz é refletida por uma superfície, a cor da luz interage matematicamente com a superfície para criar a cor eventualmente exibida na tela.</span><span class="sxs-lookup"><span data-stu-id="68a41-144">In Direct3D, when light reflects off a surface, the light color interacts mathematically with the surface itself to create the color eventually displayed on the screen.</span></span> <span data-ttu-id="68a41-145">Para obter informações específicas sobre os algoritmos usados pelo Direct3D, consulte [matemática de iluminação (Direct3D 9)](mathematics-of-lighting.md).</span><span class="sxs-lookup"><span data-stu-id="68a41-145">For specific information about the algorithms Direct3D uses, see [Mathematics of Lighting (Direct3D 9)](mathematics-of-lighting.md).</span></span>

<span data-ttu-id="68a41-146">O modelo de luz do Direct3D generaliza a luz em dois tipos: luzes ambiente e direta.</span><span class="sxs-lookup"><span data-stu-id="68a41-146">The Direct3D light model generalizes light into two types: ambient light and direct light.</span></span> <span data-ttu-id="68a41-147">Cada uma tem atributos diferentes e interage com o material de uma superfície de maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="68a41-147">Each has different attributes, and each interacts with the material of a surface in different ways.</span></span> <span data-ttu-id="68a41-148">A luz ambiente é muito espalhada, portanto, sua direção e fonte são indeterminadas: ela mantém um nível baixo de intensidade em todos os lugares.</span><span class="sxs-lookup"><span data-stu-id="68a41-148">Ambient light is light that has been scattered so much that its direction and source are indeterminate: it maintains a low level of intensity everywhere.</span></span> <span data-ttu-id="68a41-149">A iluminação indireta usada por fotógrafos é um bom exemplo de luz ambiente.</span><span class="sxs-lookup"><span data-stu-id="68a41-149">The indirect lighting used by photographers is a good example of ambient light.</span></span> <span data-ttu-id="68a41-150">Assim como na natureza, a luz ambiente no Direct3D não tem direção real ou fonte, apenas uma cor e uma intensidade.</span><span class="sxs-lookup"><span data-stu-id="68a41-150">Ambient light in Direct3D, as in nature, has no real direction or source, only a color and intensity.</span></span> <span data-ttu-id="68a41-151">Na verdade, o nível de luz ambiente é independente de qualquer objeto em uma cena que gera luz.</span><span class="sxs-lookup"><span data-stu-id="68a41-151">In fact, the ambient light level is completely independent of any objects in a scene that generate light.</span></span> <span data-ttu-id="68a41-152">A luz ambiente não contribui para a reflexão especular.</span><span class="sxs-lookup"><span data-stu-id="68a41-152">Ambient light does not contribute to specular reflection.</span></span>

<span data-ttu-id="68a41-153">A luz direta é gerada por uma fonte em uma cena; sempre tem cor e a intensidade, além de se deslocar em uma direção especificada.</span><span class="sxs-lookup"><span data-stu-id="68a41-153">Direct light is the light generated by a source within a scene; it always has color and intensity, and it travels in a specified direction.</span></span> <span data-ttu-id="68a41-154">A luz direta interage com o material de uma superfície para criar realces especulares e sua direção é usada como um fator em algoritmos de sombreamento, incluindo sombreamento de Gouraud.</span><span class="sxs-lookup"><span data-stu-id="68a41-154">Direct light interacts with the material of a surface to create specular highlights, and its direction is used as a factor in shading algorithms, including Gouraud shading.</span></span> <span data-ttu-id="68a41-155">Quando a luz direta é refletida, ela não contribui para o nível de luz ambiente em uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-155">When direct light is reflected, it does not contribute to the ambient light level in a scene.</span></span> <span data-ttu-id="68a41-156">As fontes em uma cena que geram luz direta têm características diferentes que afetam como iluminam uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-156">The sources in a scene that generate direct light have different characteristics that affect how they illuminate a scene.</span></span>

<span data-ttu-id="68a41-157">Além disso, o material do polígono tem propriedades que afetam como ele reflete a luz recebida.</span><span class="sxs-lookup"><span data-stu-id="68a41-157">Additionally, a polygon's material has properties that affect how that polygon reflects the light it receives.</span></span> <span data-ttu-id="68a41-158">Você define uma única característica de reflexão que descreve como o material reflete a luz ambiente, além de definir características individuais para determinar a reflexão especulares e difusa do material.</span><span class="sxs-lookup"><span data-stu-id="68a41-158">You set a single reflectance trait that describes how the material reflects ambient light, and you set individual traits to determine the material's specular and diffuse reflectance.</span></span> <span data-ttu-id="68a41-159">Para obter mais informações, consulte [materiais (Direct3D 9)](materials.md).</span><span class="sxs-lookup"><span data-stu-id="68a41-159">For more information, see [Materials (Direct3D 9)](materials.md).</span></span>

## <a name="color-values-for-lights-and-materials"></a><span data-ttu-id="68a41-160">Valores de cor para luzes e materiais</span><span class="sxs-lookup"><span data-stu-id="68a41-160">Color Values for Lights and Materials</span></span>

<span data-ttu-id="68a41-161">O Direct3D descreve a cor em termos de quatro componentes – vermelho, verde, azul e alfa-que se combinam para fazer uma cor final.</span><span class="sxs-lookup"><span data-stu-id="68a41-161">Direct3D describes color in terms of four components-red, green, blue, and alpha-that combine to make a final color.</span></span> <span data-ttu-id="68a41-162">A estrutura [**D3DCOLORVALUE**](d3dcolorvalue.md) C++ é definida para conter valores para cada componente.</span><span class="sxs-lookup"><span data-stu-id="68a41-162">The [**D3DCOLORVALUE**](d3dcolorvalue.md) C++ structure is defined to contain values for each component.</span></span> <span data-ttu-id="68a41-163">Cada membro é um valor de ponto flutuante que normalmente varia de 0,0 a 1,0, inclusive.</span><span class="sxs-lookup"><span data-stu-id="68a41-163">Each member is a floating-point value that typically ranges from 0.0 to 1.0, inclusive.</span></span> <span data-ttu-id="68a41-164">Embora as luzes e os materiais usem a mesma estrutura para descrever a cor, os valores na estrutura são usados um pouco diferente de cada um.</span><span class="sxs-lookup"><span data-stu-id="68a41-164">Although both lights and materials use the same structure to describe color, the values in the structure are used a little differently by each.</span></span>

<span data-ttu-id="68a41-165">Os valores de cor para fontes de iluminação representam a quantidade de um componente de luz específico emitido.</span><span class="sxs-lookup"><span data-stu-id="68a41-165">Color values for light sources represent the amount of a particular light component it emits.</span></span> <span data-ttu-id="68a41-166">Como as luzes não usam um componente alfa, apenas os componentes de vermelhos, verdes e azuis da cor são relevantes.</span><span class="sxs-lookup"><span data-stu-id="68a41-166">Because lights don't use an alpha component, only the red, green, and blue components of the color are relevant.</span></span> <span data-ttu-id="68a41-167">Você pode visualizar os três componentes como lentes vermelhas, verdes e azuis em uma televisão de projeção.</span><span class="sxs-lookup"><span data-stu-id="68a41-167">You can visualize the three components as the red, green, and blue lenses on a projection television.</span></span> <span data-ttu-id="68a41-168">Cada lente pode estar deslocada (por um valor de 0,0 no membro apropriado), poderá ser o mais brilhante possível (um valor de 1,0) ou pode estão em algum nível no meio.</span><span class="sxs-lookup"><span data-stu-id="68a41-168">Each lens might be off (a 0.0 value in the appropriate member), it might be as bright as possible (a 1.0 value), or it might be some level in between.</span></span> <span data-ttu-id="68a41-169">As cores das lentes são combinadas para criar a cor da luz final.</span><span class="sxs-lookup"><span data-stu-id="68a41-169">The colors coming through the lenses combine to make the light's final color.</span></span> <span data-ttu-id="68a41-170">Uma combinação como R(1,0), G(1,0), B(1,0) cria uma luz branca, onde R(0,0) G(0,0), B(0,0), não emite luz.</span><span class="sxs-lookup"><span data-stu-id="68a41-170">A combination like R(1.0), G(1.0), B(1.0) creates a white light, where R(0.0), G(0.0), B(0.0) doesn't emit light at all.</span></span> <span data-ttu-id="68a41-171">Você pode fazer uma luz que emite um único componente, resultando em uma luz de vermelha, verde ou azul pura; ou, a luz pode usar combinações para emitir cores como amarelo ou roxo.</span><span class="sxs-lookup"><span data-stu-id="68a41-171">You can make a light that emits only one component, resulting in a pure red, green, or blue light; or, the light could use combinations to emit colors like yellow or purple.</span></span> <span data-ttu-id="68a41-172">Você pode até mesmo definir valores de componentes negativos para criar uma "luz escura" que remove a luz de uma cena.</span><span class="sxs-lookup"><span data-stu-id="68a41-172">You can even set negative color component values to create a "dark light" that actually removes light from a scene.</span></span> <span data-ttu-id="68a41-173">Ou, você pode definir os componentes com algum valor maior do que 1,0 para criar uma luz muito clara.</span><span class="sxs-lookup"><span data-stu-id="68a41-173">Or, you might set the components to some value larger than 1.0 to create an extremely bright light.</span></span>

<span data-ttu-id="68a41-174">Por outro lado, com os materiais, os valores de cor representam o quanto um componente de luz é refletido por uma superfície renderizada com esse material.</span><span class="sxs-lookup"><span data-stu-id="68a41-174">With materials, on the other hand, color values represent how much of a light component is reflected by a surface that is rendered with that material.</span></span> <span data-ttu-id="68a41-175">Um material cujos componentes de cor são R(1,0), G(1,0), B(1,0), A(1,0) reflete a luz recebida.</span><span class="sxs-lookup"><span data-stu-id="68a41-175">A material whose color components are R(1.0), G(1.0), B(1.0), A(1.0) reflects all the light that comes its way.</span></span> <span data-ttu-id="68a41-176">Da mesma forma, um material com R(0,0), G(1,0), B(0,0), A(1,0) reflete toda a luz verde direcionada a ele.</span><span class="sxs-lookup"><span data-stu-id="68a41-176">Likewise, a material with R(0.0), G(1.0), B(0.0), A(1.0) reflects all the green light that is directed at it.</span></span> <span data-ttu-id="68a41-177">Os materiais têm diversos valores de reflexão para criar vários tipos de efeitos.</span><span class="sxs-lookup"><span data-stu-id="68a41-177">Materials have multiple reflectance values to create various types of effects.</span></span>

<span data-ttu-id="68a41-178">Informações adicionais estão contidas em: [tipos de luz (Direct3D 9)](light-types.md)e [Propriedades de luz (Direct3D 9)](light-properties.md).</span><span class="sxs-lookup"><span data-stu-id="68a41-178">Additional information is contained in: [Light Types (Direct3D 9)](light-types.md), and [Light Properties (Direct3D 9)](light-properties.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="68a41-179">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="68a41-179">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="68a41-180">Introdução</span><span class="sxs-lookup"><span data-stu-id="68a41-180">Getting Started</span></span>](getting-started.md)
</dt> </dl>

 

 
