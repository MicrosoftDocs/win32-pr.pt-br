---
description: Os aplicativos podem otimizar qual subconjunto de uma textura é copiado especificando &\# 0034; sujo&\# 0034; regiões em texturas.
ms.assetid: 102081bc-d5d5-4ec1-b935-00d4eda8f470
title: Regiões com problemas de textura (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 35e3f1ce350a2728c99c49455b5fb8b638c47d10
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "105810898"
---
# <a name="texture-dirty-regions-direct3d-9"></a><span data-ttu-id="82f4f-103">Regiões com problemas de textura (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="82f4f-103">Texture Dirty Regions (Direct3D 9)</span></span>

<span data-ttu-id="82f4f-104">Os aplicativos podem otimizar qual subconjunto de uma textura é copiado especificando regiões "sujas" em texturas.</span><span class="sxs-lookup"><span data-stu-id="82f4f-104">Applications can optimize which subset of a texture is copied by specifying "dirty" regions on textures.</span></span> <span data-ttu-id="82f4f-105">Somente as regiões marcadas como sujas são copiadas por uma chamada para [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span><span class="sxs-lookup"><span data-stu-id="82f4f-105">Only those regions marked as dirty are copied by a call to [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture).</span></span> <span data-ttu-id="82f4f-106">No entanto, as regiões sujas podem ser expandidas para otimizar o alinhamento.</span><span class="sxs-lookup"><span data-stu-id="82f4f-106">However, the dirty regions may be expanded to optimize alignment.</span></span> <span data-ttu-id="82f4f-107">Quando uma textura é criada, toda a textura é considerada suja.</span><span class="sxs-lookup"><span data-stu-id="82f4f-107">When a texture is created, the entire texture is considered dirty.</span></span> <span data-ttu-id="82f4f-108">Somente as operações a seguir afetam o estado sujo de uma textura:</span><span class="sxs-lookup"><span data-stu-id="82f4f-108">Only the following operations affect the dirty state of a texture:</span></span>

-   <span data-ttu-id="82f4f-109">Adicionando uma região suja a uma textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-109">Adding a dirty region to a texture.</span></span>
-   <span data-ttu-id="82f4f-110">Bloqueio de algum buffer na textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-110">Locking some buffer in the texture.</span></span> <span data-ttu-id="82f4f-111">Esta operação adiciona a região bloqueada como uma região suja.</span><span class="sxs-lookup"><span data-stu-id="82f4f-111">This operation adds the locked region as a dirty region.</span></span> <span data-ttu-id="82f4f-112">O aplicativo pode desativar essa atualização de região suja automática se tiver um melhor conhecimento das regiões sujas reais.</span><span class="sxs-lookup"><span data-stu-id="82f4f-112">The application can turn off this automatic dirty region update if it has better knowledge of the actual dirty regions.</span></span>
-   <span data-ttu-id="82f4f-113">O uso de um nível de superfície da textura como destino em [**IDirect3DDevice9:: UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marca a textura inteira como sujo.</span><span class="sxs-lookup"><span data-stu-id="82f4f-113">Using a surface level of the texture as a destination in [**IDirect3DDevice9::UpdateSurface**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatesurface) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="82f4f-114">Usar a textura como uma origem em [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) limpa todas as regiões sujas na textura de origem.</span><span class="sxs-lookup"><span data-stu-id="82f4f-114">Using the texture as a source in [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) clears all the dirty regions on the source texture.</span></span>
-   <span data-ttu-id="82f4f-115">Usando [**IDirect3DSurface9:: GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) para retornar um contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="82f4f-115">Using [**IDirect3DSurface9::GetDC**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dsurface9-getdc) to return a device context.</span></span>
-   <span data-ttu-id="82f4f-116">Chamar [**IDirect3DBaseTexture9:: GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) marca a textura inteira como sujo.</span><span class="sxs-lookup"><span data-stu-id="82f4f-116">Calling [**IDirect3DBaseTexture9::GenerateMipSubLevels**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-generatemipsublevels) marks the entire texture as dirty.</span></span>
-   <span data-ttu-id="82f4f-117">Chamar [**IDirect3DBaseTexture9:: SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) marca a textura inteira como sujo.</span><span class="sxs-lookup"><span data-stu-id="82f4f-117">Calling [**IDirect3DBaseTexture9::SetAutoGenFilterType**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dbasetexture9-setautogenfiltertype) marks the entire texture as dirty.</span></span>

<span data-ttu-id="82f4f-118">As regiões sujas são definidas no nível superior de uma textura mipmapped e [**IDirect3DDevice9:: UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) pode expandir a região suja para baixo na cadeia MIP a fim de minimizar o número de bytes copiados para cada subnível.</span><span class="sxs-lookup"><span data-stu-id="82f4f-118">Dirty regions are set on the top level of a mipmapped texture, and [**IDirect3DDevice9::UpdateTexture**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-updatetexture) can expand the dirty region down the mip chain in order to minimize the number of bytes copied for each sublevel.</span></span> <span data-ttu-id="82f4f-119">Observe que as coordenadas de região suja de subnível são arredondadas para fora, ou seja, suas partes fracionárias são arredondadas para a borda mais próxima da textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-119">Note that the sublevel dirty region coordinates are rounded outward, that is, their fractional parts are rounded toward the nearest edge of the texture.</span></span>

<span data-ttu-id="82f4f-120">Como cada tipo de textura tem tipos diferentes de regiões sujas, há métodos em cada tipo de textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-120">Because each type of texture has different types of dirty regions, there are methods on each texture type.</span></span> <span data-ttu-id="82f4f-121">as texturas 2D usam o retângulo sujo e as caixas de uso de texturas de volume.</span><span class="sxs-lookup"><span data-stu-id="82f4f-121">2D textures use dirty rectangle, and volume textures use boxes.</span></span>

-   [<span data-ttu-id="82f4f-122">**IDirect3DCubeTexture9::AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="82f4f-122">**IDirect3DCubeTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dcubetexture9-adddirtyrect)
-   [<span data-ttu-id="82f4f-123">**IDirect3DTexture9::AddDirtyRect**</span><span class="sxs-lookup"><span data-stu-id="82f4f-123">**IDirect3DTexture9::AddDirtyRect**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dtexture9-adddirtyrect)
-   [<span data-ttu-id="82f4f-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span><span class="sxs-lookup"><span data-stu-id="82f4f-124">**IDirect3DVolumeTexture9::AddDirtyBox**</span></span>](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3dvolumetexture9-adddirtybox)

<span data-ttu-id="82f4f-125">A passagem de **NULL** para os parâmetros PDirtyRect ou pDirtyBox para os métodos acima expande a região suja para cobrir toda a textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-125">Passing **NULL** for the pDirtyRect or pDirtyBox parameters for the above methods expands the dirty region to cover the entire texture.</span></span>

<span data-ttu-id="82f4f-126">Cada método de bloqueio pode assumir \_ D3DLOCK \_ nenhuma \_ atualização suja, o que impede qualquer alteração no estado sujo da textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-126">Each lock method can take D3DLOCK\_NO\_DIRTY\_UPDATE, which prevents any changes to the dirty state of the texture.</span></span> <span data-ttu-id="82f4f-127">Para obter mais informações, consulte [locking Resources (Direct3D 9)](locking-resources.md).</span><span class="sxs-lookup"><span data-stu-id="82f4f-127">For more information, see [Locking Resources (Direct3D 9)](locking-resources.md).</span></span>

<span data-ttu-id="82f4f-128">Quando mais informações sobre o conjunto verdadeiro de regiões que são alteradas durante uma operação de bloqueio estão disponíveis, os aplicativos devem usar D3DLOCK \_ nenhuma \_ \_ atualização suja.</span><span class="sxs-lookup"><span data-stu-id="82f4f-128">When more information about the true set of regions that are changed during a lock operation is available, applications should use D3DLOCK\_NO\_DIRTY\_UPDATE.</span></span> <span data-ttu-id="82f4f-129">Observe que um bloqueio ou uma cópia para um subnível de textura somente (ou seja, sem bloqueio ou cópia para o nível superior) não atualiza as regiões sujas para essa textura.</span><span class="sxs-lookup"><span data-stu-id="82f4f-129">Note that a lock or a copy to a texture sublevel only (that is, without locking or copying to the top level) does not update the dirty regions for that texture.</span></span> <span data-ttu-id="82f4f-130">Os aplicativos assumem a mesma responsabilidade de atualizar regiões sujas quando bloqueiam níveis mais baixos sem bloquear o nível mais alto.</span><span class="sxs-lookup"><span data-stu-id="82f4f-130">Applications assume the same responsibility for updating dirty regions when they lock lower levels without locking the topmost level.</span></span>

## <a name="related-topics"></a><span data-ttu-id="82f4f-131">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="82f4f-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="82f4f-132">Conceitos básicos de texturing</span><span class="sxs-lookup"><span data-stu-id="82f4f-132">Basic Texturing Concepts</span></span>](basic-texturing-concepts.md)
</dt> </dl>

 

 
