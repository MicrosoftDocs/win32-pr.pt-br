---
description: O desempenho das operações de processamento de vértice, incluindo a transformação e a iluminação, depende muito de onde o buffer de vértice existe na memória e que tipo de dispositivo de renderização está sendo usado.
ms.assetid: 4f9ca83d-c9d6-4749-944d-78f831b0f44e
title: Tipos de dispositivo e requisitos de processamento de vértice (Direct3D 9)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 590cf2f5423d9c3bdf3e19c91f30b3e8c0586687
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104500398"
---
# <a name="device-types-and-vertex-processing-requirements-direct3d-9"></a><span data-ttu-id="a0f3b-103">Tipos de dispositivo e requisitos de processamento de vértice (Direct3D 9)</span><span class="sxs-lookup"><span data-stu-id="a0f3b-103">Device Types and Vertex Processing Requirements (Direct3D 9)</span></span>

<span data-ttu-id="a0f3b-104">O desempenho das operações de processamento de vértice, incluindo a transformação e a iluminação, depende muito de onde o buffer de vértice existe na memória e que tipo de dispositivo de renderização está sendo usado.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-104">The performance of vertex processing operations, including transformation and lighting, depends heavily on where the vertex buffer exists in memory and what type of rendering device is being used.</span></span> <span data-ttu-id="a0f3b-105">Os aplicativos controlam a alocação de memória para buffers de vértice quando eles são criados.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-105">Applications control the memory allocation for vertex buffers when they are created.</span></span> <span data-ttu-id="a0f3b-106">Quando o \_ sinalizador de memória D3DPOOL SYSTEMMEM é definido, o buffer de vértice é criado na memória do sistema.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-106">When the D3DPOOL\_SYSTEMMEM memory flag is set, the vertex buffer is created in system memory.</span></span> <span data-ttu-id="a0f3b-107">Quando o \_ sinalizador de memória padrão D3DPOOL é usado, o driver de dispositivo determina onde a memória para o buffer de vértice é melhor alocada, geralmente conhecida como memória de driver ideal.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-107">When the D3DPOOL\_DEFAULT memory flag is used, the device driver determines where the memory for the vertex buffer is best allocated, often referred to as driver-optimal memory.</span></span> <span data-ttu-id="a0f3b-108">Driver-a memória ideal pode ser memória de vídeo local, memória de vídeo não local ou memória do sistema.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-108">Driver-optimal memory can be local video memory, nonlocal video memory, or system memory.</span></span>

<span data-ttu-id="a0f3b-109">Definir a \_ constante D3DUSAGE SOFTWAREPROCESSING com [**IDirect3DDevice9:: CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer) habilita o processamento de vértice de software nos dados do buffer de vértice.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-109">Setting the D3DUSAGE\_SOFTWAREPROCESSING constant with [**IDirect3DDevice9::CreateVertexBuffer**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-createvertexbuffer) enables software vertex processing on the vertex buffer data.</span></span> <span data-ttu-id="a0f3b-110">Esse sinalizador é necessário para o processamento de vértice de software no modo misto.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-110">This flag is required for software vertex processing while in mixed mode.</span></span> <span data-ttu-id="a0f3b-111">O sinalizador não pode ser usado para o modo de processamento de vértice de hardware.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-111">The flag may not be used for hardware vertex processing mode.</span></span> <span data-ttu-id="a0f3b-112">Os buffers de vértice usados com o processamento de vértice de software incluem o seguinte:</span><span class="sxs-lookup"><span data-stu-id="a0f3b-112">Vertex buffers used with software vertex processing include the following:</span></span>

-   <span data-ttu-id="a0f3b-113">Todos os fluxos de entrada para [**IDirect3DDevice9::P rocessvertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices).</span><span class="sxs-lookup"><span data-stu-id="a0f3b-113">All input streams for [**IDirect3DDevice9::ProcessVertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices).</span></span>
-   <span data-ttu-id="a0f3b-114">Todos os fluxos de entrada para [**IDirect3DDevice9::D rawprimitive**](/windows/desktop/api) e [**IDirect3DDevice9::D rawindexedprimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive).</span><span class="sxs-lookup"><span data-stu-id="a0f3b-114">All input streams for [**IDirect3DDevice9::DrawPrimitive**](/windows/desktop/api) and [**IDirect3DDevice9::DrawIndexedPrimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive).</span></span>

<span data-ttu-id="a0f3b-115">O raciocínio que você usa para determinar o sistema de local de memória ou o driver ideal-para buffers de vértice é o mesmo que para texturas.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-115">The reasoning you use to determine the memory location - system or driver optimal - for vertex buffers is the same as that for textures.</span></span> <span data-ttu-id="a0f3b-116">O processamento de vértices, incluindo a transformação e a iluminação, em hardware funciona melhor quando os buffers de vértice são alocados no driver-ideal de memória, enquanto o processamento de vértice de software funciona melhor com buffers de vértice alocados na memória do sistema.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-116">Vertex processing, including transformation and lighting, in hardware works best when the vertex buffers are allocated in driver-optimal memory, while software vertex processing works best with vertex buffers allocated in system memory.</span></span> <span data-ttu-id="a0f3b-117">Para texturas, a rasterização de hardware funciona melhor quando as texturas são alocadas na memória ideal para o driver, enquanto a rasterização de software funciona melhor com texturas de memória do sistema.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-117">For textures, hardware rasterization works best when textures are allocated in driver-optimal memory, while software rasterization works best with system-memory textures.</span></span>

<span data-ttu-id="a0f3b-118">O Microsoft Direct3D 9 dá suporte ao processamento autônomo de vértices, sem processar nenhum primitivo com o método [**IDirect3DDevice9::P rocessvertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices) .</span><span class="sxs-lookup"><span data-stu-id="a0f3b-118">Microsoft Direct3D 9 supports standalone processing of vertices, without rendering any primitive with the [**IDirect3DDevice9::ProcessVertices**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-processvertices) method.</span></span> <span data-ttu-id="a0f3b-119">Esse processamento de vértice autônomo é sempre executado em software no processador do host.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-119">This standalone vertex processing is always performed in software on the host processor.</span></span> <span data-ttu-id="a0f3b-120">Por isso, os buffers de vértice usados como fontes definidas com [**IDirect3DDevice9:: Setstreamname**](/windows/desktop/api) devem ser criados com o \_ sinalizador D3DUSAGE SOFTWAREPROCESSING.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-120">Because of this, vertex buffers used as sources set with [**IDirect3DDevice9::SetStreamSource**](/windows/desktop/api) must be created with the D3DUSAGE\_SOFTWAREPROCESSING flag.</span></span> <span data-ttu-id="a0f3b-121">A funcionalidade fornecida por **IDirect3DDevice9::P rocessvertices** é idêntica à dos métodos [**IDirect3DDevice9::D rawprimitive**](/windows/desktop/api) e [**IDirect3DDevice9::D rawindexedprimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive) ao usar o processamento de vértice de software.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-121">The functionality provided by **IDirect3DDevice9::ProcessVertices** is identical to that of the [**IDirect3DDevice9::DrawPrimitive**](/windows/desktop/api) and [**IDirect3DDevice9::DrawIndexedPrimitive**](/windows/win32/api/d3d9helper/nf-d3d9helper-idirect3ddevice9-drawindexedprimitive) methods while using software vertex processing.</span></span>

<span data-ttu-id="a0f3b-122">Se seu aplicativo executa seu próprio processamento de vértice e passa os vértices transformados, acesos e recortados para métodos de renderização, o aplicativo pode gravar vértices diretamente em um buffer de vértice alocado na memória do driver-ideal.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-122">If your application performs its own vertex processing and passes transformed, lit, and clipped vertices to rendering methods, then the application can directly write vertices to a vertex buffer allocated in driver-optimal memory.</span></span> <span data-ttu-id="a0f3b-123">Essa técnica impede uma operação de cópia redundante mais tarde.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-123">This technique prevents a redundant copy operation later.</span></span> <span data-ttu-id="a0f3b-124">Observe que essa técnica não funcionará bem se o seu aplicativo lê dados de volta de um buffer de vértice, pois as operações de leitura realizadas pelo host do driver-a memória ideal podem ser muito lentas.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-124">Note that this technique will not work well if your application reads data back from a vertex buffer, because read operations done by the host from driver-optimal memory can be very slow.</span></span> <span data-ttu-id="a0f3b-125">Portanto, se seu aplicativo precisar ler durante o processamento ou gravar dados no buffer incorretamente, um buffer de vértice da memória do sistema será uma opção melhor.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-125">Therefore, if your application needs to read during processing or writes data to the buffer erratically, a system-memory vertex buffer is a better choice.</span></span>

<span data-ttu-id="a0f3b-126">Ao usar os recursos de processamento de vértice de Direct3D (passando vértices não transformados para métodos de renderização de buffer de vértice), o processamento pode ocorrer em hardware ou software, dependendo do tipo de dispositivo e dos sinalizadores de criação de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-126">When using the Direct3D vertex processing features (by passing untransformed vertices to vertex-buffer rendering methods), processing can occur in either hardware or software depending on the device type and device creation flags.</span></span> <span data-ttu-id="a0f3b-127">É recomendável que os buffers de vértice sejam alocados no pool D3DPOOL \_ padrão para melhor desempenho em praticamente todos os casos.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-127">It is recommended that vertex buffers be allocated in pool D3DPOOL\_DEFAULT for best performance in virtually all cases.</span></span> <span data-ttu-id="a0f3b-128">Quando um dispositivo está usando o processamento de vértice de hardware, há várias otimizações adicionais que podem ser feitas com base nos sinalizadores D3DUSAGE \_ dinâmico e D3DUSAGE \_ WRITEONLY.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-128">When a device is using hardware vertex processing, there are a number of additional optimizations that may be done based on the flags D3DUSAGE\_DYNAMIC and D3DUSAGE\_WRITEONLY.</span></span> <span data-ttu-id="a0f3b-129">Consulte IDirect3DDevice9:: CreateVertexBuffer para obter mais informações sobre como usar esses sinalizadores.</span><span class="sxs-lookup"><span data-stu-id="a0f3b-129">See IDirect3DDevice9::CreateVertexBuffer for more information about using these flags.</span></span>

## <a name="related-topics"></a><span data-ttu-id="a0f3b-130">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="a0f3b-130">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a0f3b-131">Buffers de vértice</span><span class="sxs-lookup"><span data-stu-id="a0f3b-131">Vertex Buffers</span></span>](vertex-buffers.md)
</dt> </dl>

 

 
