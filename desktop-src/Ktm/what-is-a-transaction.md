---
description: 'Uma transação é um grupo de operações que tem as seguintes propriedades: Atomic, consistente, isolado e durável (ACID).'
ms.assetid: b3da52a3-1c52-4577-a997-7e72ebc03fa8
title: O que é uma transação?
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f0c459462d3aee3d7eef556ce0951ede537e8109
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103828112"
---
# <a name="what-is-a-transaction"></a><span data-ttu-id="475a9-103">O que é uma transação?</span><span class="sxs-lookup"><span data-stu-id="475a9-103">What is a Transaction?</span></span>

<span data-ttu-id="475a9-104">Uma transação é um grupo de operações que tem as seguintes propriedades: Atomic, consistente, isolado e durável (ACID).</span><span class="sxs-lookup"><span data-stu-id="475a9-104">A transaction is a group of operations that have the following properties: atomic, consistent, isolated, and durable (ACID).</span></span> <span data-ttu-id="475a9-105">O suporte de transações permite que novos tipos de aplicativos sejam desenvolvidos, simplificando o processo de desenvolvimento e tornando o aplicativo mais robusto.</span><span class="sxs-lookup"><span data-stu-id="475a9-105">The support of transactions enables new types of applications to be developed, while simplifying the development process and making the application more robust.</span></span> <span data-ttu-id="475a9-106">O restante deste tópico fornece cenários que demonstram a necessidade dessas propriedades, depois uma tabela que define cada propriedade.</span><span class="sxs-lookup"><span data-stu-id="475a9-106">The remainder of this topic provides scenarios that demonstrate the need for these properties, then a table that defines each property.</span></span>

<span data-ttu-id="475a9-107">Em um grupo *atômico* de operações, cada operação no grupo deve ser bem-sucedida ou os efeitos de todos eles devem ser desfeitos (também conhecido como *reversão*).</span><span class="sxs-lookup"><span data-stu-id="475a9-107">In an *atomic* group of operations, either every operation in the group must succeed, or the effects of all of them must be undone (also known as *rolling back*).</span></span> <span data-ttu-id="475a9-108">Por exemplo, uma transferência bancária deve ser um conjunto atômico de duas operações: um débito de uma conta e um crédito para outra conta.</span><span class="sxs-lookup"><span data-stu-id="475a9-108">For example, a bank transfer must be an atomic set of two operations: a debit from one account and a credit to another account.</span></span> <span data-ttu-id="475a9-109">O débito e o crédito devem ser implementados como um grupo atômico.</span><span class="sxs-lookup"><span data-stu-id="475a9-109">The debit and credit must be implemented as an atomic group.</span></span> <span data-ttu-id="475a9-110">Se essas duas operações não tiverem sucesso, a transferência será injustamente em favor do banco ou do titular da conta.</span><span class="sxs-lookup"><span data-stu-id="475a9-110">If those two operations do not both succeed, then the transfer is either unfairly in favor of the bank or the account holder.</span></span>

<span data-ttu-id="475a9-111">O requisito de *consistência* significa que os dados são consistentes após a transação (supondo que começamos com um sistema consistente antes da transação).</span><span class="sxs-lookup"><span data-stu-id="475a9-111">The requirement of *consistency* means that the data is consistent after the transaction (assuming that we started with a consistent system before the transaction).</span></span> <span data-ttu-id="475a9-112">Para o exemplo de transferência bancária, a consistência pode ser definida como se o saldo combinado da conta das duas contas fosse uma constante.</span><span class="sxs-lookup"><span data-stu-id="475a9-112">For the bank transfer example, consistency may be defined as having the combined account balance of the two accounts be a constant.</span></span> <span data-ttu-id="475a9-113">Para implementar a consistência no exemplo de transferência bancária, as operações de débito e crédito simplesmente precisam ser para o mesmo valor de dinheiro.</span><span class="sxs-lookup"><span data-stu-id="475a9-113">To implement consistency in the bank transfer example, the debit and credit operations simply need to be for the same amount of money.</span></span>

<span data-ttu-id="475a9-114">Outro exemplo de uma transação é uma atualização para um site.</span><span class="sxs-lookup"><span data-stu-id="475a9-114">Another example of a transaction is an update to a website.</span></span> <span data-ttu-id="475a9-115">Um site de comércio eletrônico requer que uma nova página de navegação de categoria de produto seja exibida exatamente ao mesmo tempo que as páginas de detalhes do produto que descrevem os novos produtos.</span><span class="sxs-lookup"><span data-stu-id="475a9-115">An electronic commerce site requires that a new product category navigation page to appear at exactly the same time as the product detail pages that describe the new products.</span></span> <span data-ttu-id="475a9-116">Nesse caso, há a necessidade de atualizar e adicionar várias entradas de diretório sob o controle de uma transação.</span><span class="sxs-lookup"><span data-stu-id="475a9-116">In this case, there is a need to update and add multiple directory entries under the control of a transaction.</span></span> <span data-ttu-id="475a9-117">Não só é necessário que as atualizações sejam atômicas, mas também é necessário que um cliente que esteja comprando atualmente não deva ver as atualizações em andamento.</span><span class="sxs-lookup"><span data-stu-id="475a9-117">Not only is it necessary to have the updates be atomic, but it is also necessary that a customer who is currently shopping must not see the updates in progress.</span></span> <span data-ttu-id="475a9-118">Este é um exemplo da propriedade de *isolamento* das transações.</span><span class="sxs-lookup"><span data-stu-id="475a9-118">This is an example of the *isolation* property of transactions.</span></span>

<span data-ttu-id="475a9-119">A propriedade da *durabilidade* exige que, após a conclusão de uma atualização, seus efeitos persistem mesmo se o sistema parar de responder.</span><span class="sxs-lookup"><span data-stu-id="475a9-119">The property of *durability* requires that after an update is finished, its effects persist even if the system stops responding.</span></span> <span data-ttu-id="475a9-120">No exemplo anterior, a durabilidade pode ser fornecida simplesmente garantindo a recuperação de dados adequada para que todas as novas entradas do sistema de arquivos que representam a adição de um novo produto ao site apareçam depois que um sistema para de responder.</span><span class="sxs-lookup"><span data-stu-id="475a9-120">In the previous example, durability can be provided simply by ensuring adequate data recovery so that all new file system entries that represent the addition of a new product to the site appear after a system stops responding.</span></span> <span data-ttu-id="475a9-121">Isso requer um sistema com mecanismos de backup, recuperação e alta disponibilidade de dados.</span><span class="sxs-lookup"><span data-stu-id="475a9-121">This requires a system with data backup, recovery, and high availability mechanisms.</span></span>

<span data-ttu-id="475a9-122">A garantia da atomicidade de uma transação, bem como das outras propriedades, está presente na face de qualquer número de falhas, incluindo falhas que ocorrem durante a fase de recuperação de uma falha anterior.</span><span class="sxs-lookup"><span data-stu-id="475a9-122">The guarantee of the atomicity of a transaction, as well as the other properties, is present in the face of any number of failures, including failures that occur during the recovery phase of a prior failure.</span></span> <span data-ttu-id="475a9-123">Eventualmente, o sistema alcançará um dos dois Estados: todas as operações foram aplicadas ou nenhuma das operações foi aplicada.</span><span class="sxs-lookup"><span data-stu-id="475a9-123">Eventually the system will reach either one of two states: all operations have been applied or none of the operations have been applied.</span></span>

<span data-ttu-id="475a9-124">As propriedades de uma transação são resumidas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="475a9-124">The properties of a transaction are summarized in the following table.</span></span>



| <span data-ttu-id="475a9-125">Termo</span><span class="sxs-lookup"><span data-stu-id="475a9-125">Term</span></span>                                                                                                         | <span data-ttu-id="475a9-126">Descrição</span><span class="sxs-lookup"><span data-stu-id="475a9-126">Description</span></span>                                                                                                                       |
|--------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="475a9-127"><span id="Atomic"></span><span id="atomic"></span><span id="ATOMIC"></span>Atômica</span><span class="sxs-lookup"><span data-stu-id="475a9-127"><span id="Atomic"></span><span id="atomic"></span><span id="ATOMIC"></span>Atomic</span></span><br/>                 | <span data-ttu-id="475a9-128">Todas as operações na transação têm sucesso ou nenhuma das operações persistem.</span><span class="sxs-lookup"><span data-stu-id="475a9-128">Either all of the operations in the transaction succeed or none of the operations persist.</span></span><br/>                             |
| <span data-ttu-id="475a9-129"><span id="Consistent"></span><span id="consistent"></span><span id="CONSISTENT"></span>Coerente</span><span class="sxs-lookup"><span data-stu-id="475a9-129"><span id="Consistent"></span><span id="consistent"></span><span id="CONSISTENT"></span>Consistent</span></span><br/> | <span data-ttu-id="475a9-130">Se os dados forem consistentes antes do início da transação, eles serão consistentes após a conclusão da transação.</span><span class="sxs-lookup"><span data-stu-id="475a9-130">If the data are consistent before the transaction begins, then they will be consistent after the transaction finishes.</span></span><br/> |
| <span data-ttu-id="475a9-131"><span id="Isolated_"></span><span id="isolated_"></span><span id="ISOLATED_"></span>Isolados</span><span class="sxs-lookup"><span data-stu-id="475a9-131"><span id="Isolated_"></span><span id="isolated_"></span><span id="ISOLATED_"></span>Isolated</span></span> <br/>     | <span data-ttu-id="475a9-132">Os efeitos de uma transação em andamento ficam ocultos de todas as outras transações.</span><span class="sxs-lookup"><span data-stu-id="475a9-132">The effects of a transaction that is in progress are hidden from all other transactions.</span></span><br/>                               |
| <span data-ttu-id="475a9-133"><span id="Durable"></span><span id="durable"></span><span id="DURABLE"></span>Permanente</span><span class="sxs-lookup"><span data-stu-id="475a9-133"><span id="Durable"></span><span id="durable"></span><span id="DURABLE"></span>Durable</span></span><br/>             | <span data-ttu-id="475a9-134">Quando uma transação é concluída, seus resultados são persistentes e sobreviver a uma falha do sistema.</span><span class="sxs-lookup"><span data-stu-id="475a9-134">When a transaction finishes, its results are persistent and will survive a system crash.</span></span><br/>                               |



 

<span data-ttu-id="475a9-135">Essas propriedades garantem que o software possa lidar com erros inesperados, pois ele pode simplesmente anular uma transação quando uma situação inesperada impedir uma conclusão bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="475a9-135">These properties ensure that software can handle unexpected errors, because it can simply abort a transaction when an unexpected situation prevents a successful completion.</span></span> <span data-ttu-id="475a9-136">A infraestrutura de transação garante que todos os efeitos da transação abortada sejam revertidos, retornando os dados para um estado consistente.</span><span class="sxs-lookup"><span data-stu-id="475a9-136">The transaction infrastructure ensures that all the effects of the aborted transaction are rolled back, returning the data to a consistent state.</span></span> <span data-ttu-id="475a9-137">Portanto, um sistema transacional permite uma recuperação normal de falhas do sistema.</span><span class="sxs-lookup"><span data-stu-id="475a9-137">Therefore, a transactional system enables a graceful recovery from system failures.</span></span>

<span data-ttu-id="475a9-138">Para garantir as propriedades ACID, um sistema que dá suporte a transações deve ter um recurso de log robusto que pode ser usado para confirmar ou reverter transações, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="475a9-138">To guarantee the ACID properties, a system that supports transactions must have a robust logging capability that can be used to commit or roll back transactions as necessary.</span></span> <span data-ttu-id="475a9-139">Para obter mais informações, consulte [sistema de arquivos de log comum](/previous-versions/windows/desktop/clfs/common-log-file-system-portal).</span><span class="sxs-lookup"><span data-stu-id="475a9-139">For more information, see [Common Log File System](/previous-versions/windows/desktop/clfs/common-log-file-system-portal).</span></span>

 

