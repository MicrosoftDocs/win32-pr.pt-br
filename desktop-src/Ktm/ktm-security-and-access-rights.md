---
description: O modelo de segurança do Windows permite que chamadores de KTM (kernel Transaction Manager) controlem o acesso a transações, Gerenciador de transações, Gerenciador de recursos e objetos de inscrição.
ms.assetid: c9d51d4d-9f07-44d6-a2e1-4a47367cc4ae
title: Segurança de KTM e direitos de acesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed4e42c9aaf8498ff16ebd1d32f539fef5b54b17
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105767783"
---
# <a name="ktm-security-and-access-rights"></a><span data-ttu-id="21eff-103">Segurança de KTM e direitos de acesso</span><span class="sxs-lookup"><span data-stu-id="21eff-103">KTM Security and Access Rights</span></span>

<span data-ttu-id="21eff-104">O modelo de segurança do Windows permite que chamadores de KTM (kernel Transaction Manager) controlem o acesso a transações, Gerenciador de transações, Gerenciador de recursos e objetos de inscrição.</span><span class="sxs-lookup"><span data-stu-id="21eff-104">The Windows security model enables callers of Kernel Transaction Manager (KTM) to control access to transaction, transaction manager, resource manager, and enlistment objects.</span></span> <span data-ttu-id="21eff-105">Para obter mais informações, consulte [modelo de controle de acesso](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="21eff-105">For more information, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span> <span data-ttu-id="21eff-106">Para aplicativos que não se preocupam com a segurança, as transações podem ser criadas com ACLs (listas de controle de acesso) permissivas que permitem que qualquer Gerenciador de recursos se inscreva em uma transação.</span><span class="sxs-lookup"><span data-stu-id="21eff-106">For applications that are not concerned about security, transactions can be created with permissive access control lists (ACLs) that allow any resource manager to enlist on a transaction.</span></span>

## <a name="transactions"></a><span data-ttu-id="21eff-107">Transactions</span><span class="sxs-lookup"><span data-stu-id="21eff-107">Transactions</span></span>

<span data-ttu-id="21eff-108">Quando um cliente usa a função [**OpenTransaction**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransaction) , o sistema verifica os direitos de acesso solicitados em relação ao descritor de segurança do objeto de transação.</span><span class="sxs-lookup"><span data-stu-id="21eff-108">When a client uses the [**OpenTransaction**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransaction) function, the system checks the requested access rights against the security descriptor for the transaction object.</span></span>

<span data-ttu-id="21eff-109">Os direitos de acesso válidos para objetos de transação incluem a capacidade de consultar e definir informações, inscrever-se e várias operações de transação, bem como [direitos de acesso padrão](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="21eff-109">The valid access rights for transaction objects include the ability to query and set information, enlist, and various transaction operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="21eff-110">As [**máscaras de acesso à transação**](transaction-access-masks.md) listam os direitos de acesso específicos para uma transação.</span><span class="sxs-lookup"><span data-stu-id="21eff-110">[**Transaction Access Masks**](transaction-access-masks.md) list the specific access rights for a transaction.</span></span>

<span data-ttu-id="21eff-111">Como as transações têm um estado durável, é essencial que o RMs e TMs que interagem com o KTM atendam às suas obrigações em relação à recuperação.</span><span class="sxs-lookup"><span data-stu-id="21eff-111">Because transactions have a durable state, it is critical that RMs and TMs that interact with the KTM fulfill their obligations with regard to recovery.</span></span> <span data-ttu-id="21eff-112">A falha em atender a essas obrigações pode resultar em vazamentos de recursos que não são limpos, mesmo por uma reinicialização do sistema.</span><span class="sxs-lookup"><span data-stu-id="21eff-112">Failure to fulfill these obligations can result in resource leaks that are not cleaned up, even by a system reboot.</span></span> <span data-ttu-id="21eff-113">Considere o efeito de um vazamento persistente ou código mal-intencionado que fazia com que o KTM consumisse recursos de kernel até que ele resultasse em uma falha do sistema; após a reinicialização resultante, o KTM lerá seu log e recriaria todos os objetos persistentes, potencialmente causando a recorrência da mesma falha do sistema.</span><span class="sxs-lookup"><span data-stu-id="21eff-113">Consider the effect of a persistent leak or malicious code that caused the KTM to consume kernel resources until it resulted in a system failure; after the resulting reboot, the KTM would read its log and re-create all the persistent objects, potentially causing the same system failure to recur.</span></span> <span data-ttu-id="21eff-114">A limitação baseada em cota impedirá a privação de recursos persistentes de um RM invasor ou mal comportado.</span><span class="sxs-lookup"><span data-stu-id="21eff-114">Quota-based throttling will prevent persistent resource starvation from a rogue or ill-behaving RM.</span></span> <span data-ttu-id="21eff-115">Por fim, os mecanismos administrativos devem ser criados para permitir a detecção e a correção de vazamentos persistentes.</span><span class="sxs-lookup"><span data-stu-id="21eff-115">Finally, administrative mechanisms must be created that allow for the detection and correction of such persistent leaks.</span></span>

## <a name="transaction-managers"></a><span data-ttu-id="21eff-116">Gerenciadores de transações</span><span class="sxs-lookup"><span data-stu-id="21eff-116">Transaction Managers</span></span>

<span data-ttu-id="21eff-117">Quando um cliente usa a função [**OpenTransactionManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransactionmanager) , o sistema verifica os direitos de acesso solicitados em relação ao descritor de segurança do objeto do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="21eff-117">When a client uses the [**OpenTransactionManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-opentransactionmanager) function, the system checks the requested access rights against the security descriptor for the resource manager object.</span></span>

<span data-ttu-id="21eff-118">Os direitos de acesso válidos para objetos do Gerenciador de transações incluem a capacidade de consultar e definir informações, criar RMs e recuperar e renomear operações, bem como [direitos de acesso padrão](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="21eff-118">The valid access rights for transaction manager objects include the ability to query and set information, create RMs, and recover and rename operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="21eff-119">As [**máscaras de acesso do Gerenciador de transações**](transaction-manager-access-masks.md) listam os direitos de acesso específicos para um Gerenciador de transações.</span><span class="sxs-lookup"><span data-stu-id="21eff-119">[**Transaction Manager Access Masks**](transaction-manager-access-masks.md) lists the specific access rights for a transaction manager.</span></span>

<span data-ttu-id="21eff-120">Um Gerenciador de recursos pode criar seus próprios objetos do Gerenciador de transações com ACLs restritivas para limitar quais gerenciadores de recursos podem participar de transações que usam o log do Gerenciador de transações.</span><span class="sxs-lookup"><span data-stu-id="21eff-120">A resource manager can create its own transaction manager objects with restrictive ACLs to limit which resource managers can participate in transactions that use that transaction manager's log.</span></span>

## <a name="resource-managers"></a><span data-ttu-id="21eff-121">Gerenciadores de recursos</span><span class="sxs-lookup"><span data-stu-id="21eff-121">Resource Managers</span></span>

<span data-ttu-id="21eff-122">Quando um cliente usa a função [**OpenResourceManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-openresourcemanager) , o sistema verifica os direitos de acesso solicitados em relação ao descritor de segurança do objeto do Resource Manager.</span><span class="sxs-lookup"><span data-stu-id="21eff-122">When a client uses the [**OpenResourceManager**](/windows/desktop/api/Ktmw32/nf-ktmw32-openresourcemanager) function, the system checks the requested access rights against the security descriptor for the resource manager object.</span></span>

<span data-ttu-id="21eff-123">Os direitos de acesso válidos para objetos do Resource Manager incluem a capacidade de consultar e definir informações, recuperar, inscrever, operações de registro, operações de propagação e recuperação, bem como [direitos de acesso padrão](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="21eff-123">The valid access rights for resource manager objects include the ability to query and set information, recover, enlist, registration operations, and propagation and recover operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="21eff-124">As [**máscaras de acesso do Gerenciador de recursos**](resource-manager-access-masks.md) listam os direitos de acesso específicos para um Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="21eff-124">[**Resource Manager Access Masks**](resource-manager-access-masks.md) lists the specific access rights for a resource manager.</span></span>

<span data-ttu-id="21eff-125">Um Gerenciador de recursos pode criar seus próprios objetos do Resource Manager com ACLs restritivas se quiser impedir que um código mal-intencionado intercepte notificações ou Force resultados transacionais específicos.</span><span class="sxs-lookup"><span data-stu-id="21eff-125">A resource manager can create its own resource manager objects with restrictive ACLs if it wishes to prevent malicious code from intercepting notifications or forcing particular transactional outcomes.</span></span>

## <a name="enlistments"></a><span data-ttu-id="21eff-126">Inscrições</span><span class="sxs-lookup"><span data-stu-id="21eff-126">Enlistments</span></span>

<span data-ttu-id="21eff-127">Quando um cliente usa a função [**OpenEnlistment**](/windows/desktop/api/Ktmw32/nf-ktmw32-openenlistment) , o sistema verifica os direitos de acesso solicitados em relação ao descritor de segurança para o objeto de inscrição.</span><span class="sxs-lookup"><span data-stu-id="21eff-127">When a client uses the [**OpenEnlistment**](/windows/desktop/api/Ktmw32/nf-ktmw32-openenlistment) function, the system checks the requested access rights against the security descriptor for the enlistment object.</span></span>

<span data-ttu-id="21eff-128">Os direitos de acesso válidos para objetos de inscrição incluem a capacidade de consultar e definir informações, recuperar operações, bem como [direitos de acesso padrão](/windows/desktop/SecAuthZ/standard-access-rights).</span><span class="sxs-lookup"><span data-stu-id="21eff-128">The valid access rights for enlistment objects include the ability to query and set information, recover operations, as well as [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="21eff-129">As [**máscaras de acesso à inscrição**](enlistment-access-masks.md) listam os direitos de acesso específicos para uma inscrição.</span><span class="sxs-lookup"><span data-stu-id="21eff-129">[**Enlistment Access Masks**](enlistment-access-masks.md) lists the specific access rights for an enlistment.</span></span>

 

 
