---
description: Driver MSDV
ms.assetid: 146ca753-fe41-49d3-8b1c-077e10a28192
title: Driver MSDV
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6b7c1bda24980abe84a11613126476ccfe35380d
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104370065"
---
# <a name="msdv-driver"></a><span data-ttu-id="6835a-103">Driver MSDV</span><span class="sxs-lookup"><span data-stu-id="6835a-103">MSDV Driver</span></span>

<span data-ttu-id="6835a-104">MSDV é o driver Microsoft Windows Driver Model (WDM) para DV camcorders.</span><span class="sxs-lookup"><span data-stu-id="6835a-104">MSDV is the Microsoft Windows Driver Model (WDM) driver for DV camcorders.</span></span> <span data-ttu-id="6835a-105">O driver aparece como um filtro do DirectShow quando o dispositivo está conectado.</span><span class="sxs-lookup"><span data-stu-id="6835a-105">The driver appears as a DirectShow filter when the device is plugged in.</span></span> <span data-ttu-id="6835a-106">Ele é enumerado em duas categorias de filtro:</span><span class="sxs-lookup"><span data-stu-id="6835a-106">It is enumerated in two filter categories:</span></span>

-   <span data-ttu-id="6835a-107">CLSID \_ VideoInputDeviceCategory ("fontes de captura de vídeo")</span><span class="sxs-lookup"><span data-stu-id="6835a-107">CLSID\_VideoInputDeviceCategory ("Video Capture Sources")</span></span>
-   <span data-ttu-id="6835a-108">\_KSCATEGORY \_ de renderização ("dispositivos de renderização de streaming WDM")</span><span class="sxs-lookup"><span data-stu-id="6835a-108">AM\_KSCATEGORY\_RENDER ("WDM Streaming Rendering Devices")</span></span>

<span data-ttu-id="6835a-109">O nome amigável do filtro é `Microsoft DV Camera and VCR` ou um equivalente localizado.</span><span class="sxs-lookup"><span data-stu-id="6835a-109">The filter's friendly name is `Microsoft DV Camera and VCR`, or a localized equivalent.</span></span> <span data-ttu-id="6835a-110">Em alguns dispositivos, a propriedade **Description** contém uma descrição do modelo específico, que pode ser usado em vez do nome amigável genérico.</span><span class="sxs-lookup"><span data-stu-id="6835a-110">In some devices, the **Description** property contains a description of the specific model, which can be used instead of the generic friendly name.</span></span> <span data-ttu-id="6835a-111">Para obter mais informações, consulte [selecionando um dispositivo de captura](selecting-a-capture-device.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-111">For more information, see [Selecting a Capture Device](selecting-a-capture-device.md).</span></span>

<span data-ttu-id="6835a-112">MSDV tem dois Pins de saída.</span><span class="sxs-lookup"><span data-stu-id="6835a-112">MSDV has two output pins.</span></span> <span data-ttu-id="6835a-113">Um PIN fornece quadros de DV que contêm dados intercalados de áudio e vídeo.</span><span class="sxs-lookup"><span data-stu-id="6835a-113">One pin delivers DV frames that contain interleaved audio and video data.</span></span> <span data-ttu-id="6835a-114">O outro PIN fornece quadros somente de vídeo sem áudio.</span><span class="sxs-lookup"><span data-stu-id="6835a-114">The other pin delivers video-only frames with no audio.</span></span> <span data-ttu-id="6835a-115">MSDV não pode transmitir de ambos os Pins de uma vez, de modo que apenas um PIN de saída pode ser conectado por vez.</span><span class="sxs-lookup"><span data-stu-id="6835a-115">MSDV cannot stream from both pins at once, so only one output pin can be connected at a time.</span></span> <span data-ttu-id="6835a-116">Para obter mais informações sobre como capturar vídeo de um dispositivo DV, consulte [capturar DV para o arquivo](capture-dv-to-file.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-116">For more information about capturing video from a DV device, see [Capture DV to File](capture-dv-to-file.md).</span></span>

![capturando dados de DV do dispositivo](images/dv-filters4.png)

<span data-ttu-id="6835a-118">A maioria das camcorders DV tem uma subunidade VTR (gravador de fita de vídeo), que pode transmitir dados de fita para o computador.</span><span class="sxs-lookup"><span data-stu-id="6835a-118">Most DV camcorders have a video tape recorder (VTR) subunit, which can transmit data from tape to the computer.</span></span> <span data-ttu-id="6835a-119">Para o aplicativo, a captura de fita funciona da mesma forma que a captura de vídeo ao vivo.</span><span class="sxs-lookup"><span data-stu-id="6835a-119">For the application, capturing from tape works the same as capturing live video.</span></span> <span data-ttu-id="6835a-120">A única diferença é que o aplicativo deve controlar o transporte de fita externa — iniciar e parar a fita, retroceder e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="6835a-120">The only difference is that the application must control the external tape transport — start and stop the tape, rewind, and so forth.</span></span> <span data-ttu-id="6835a-121">Para essa finalidade, o MSDV expõe as interfaces [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport)e [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) .</span><span class="sxs-lookup"><span data-stu-id="6835a-121">For this purpose, MSDV exposes the [**IAMExtDevice**](/windows/desktop/api/Strmif/nn-strmif-iamextdevice), [**IAMExtTransport**](/windows/desktop/api/Strmif/nn-strmif-iamexttransport), and [**IAMTimecodeReader**](/windows/desktop/api/Strmif/nn-strmif-iamtimecodereader) interfaces.</span></span> <span data-ttu-id="6835a-122">Para obter mais informações sobre como controlar um VTR, consulte [controlando uma camcorder DV](controlling-a-dv-camcorder.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-122">For more information about controlling a VTR, see [Controlling a DV Camcorder](controlling-a-dv-camcorder.md).</span></span>

<span data-ttu-id="6835a-123">Você também pode transmitir DV do computador para a camcorder.</span><span class="sxs-lookup"><span data-stu-id="6835a-123">You can also transmit DV from the computer to the camcorder.</span></span> <span data-ttu-id="6835a-124">O vídeo pode ser exibido na tela de integração da camcorder ou gravado em fita.</span><span class="sxs-lookup"><span data-stu-id="6835a-124">The video can then be viewed in the camcorder's onboard screen, or recorded to tape.</span></span> <span data-ttu-id="6835a-125">Para dar suporte a essa funcionalidade, MSDV tem um pino de entrada que pode receber um fluxo de DV intercalado.</span><span class="sxs-lookup"><span data-stu-id="6835a-125">To support this functionality, MSDV has an input pin that can receive an interleaved DV stream.</span></span> <span data-ttu-id="6835a-126">Quando o pino de entrada está conectado, MSDV atua como um filtro de renderizador em vez de um filtro de captura.</span><span class="sxs-lookup"><span data-stu-id="6835a-126">When the input pin is connected, MSDV acts as a renderer filter instead of a capture filter.</span></span> <span data-ttu-id="6835a-127">MSDV não dá suporte a busca nesse modo.</span><span class="sxs-lookup"><span data-stu-id="6835a-127">MSDV does not support seeking in this mode.</span></span> <span data-ttu-id="6835a-128">Para obter mais informações sobre como enviar DV para o dispositivo, consulte [transmitir DV de arquivo para fita](transmit-dv-from-file-to-tape.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-128">For more information about sending DV to the device, see [Transmit DV from File to Tape](transmit-dv-from-file-to-tape.md).</span></span>

![transmitindo dados de DV para o dispositivo](images/dv-filters5.png)

<span data-ttu-id="6835a-130">Observe que os Pins de entrada e de saída não podem ser conectados ao mesmo tempo, porque o dispositivo não pode transmitir em ambas as direções ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="6835a-130">Note that the input and output pins cannot be connected at the same time, because the device cannot stream in both directions at the same time.</span></span>

<span data-ttu-id="6835a-131">Em muitas camcorders, alternar entre o modo de VTR e o modo de câmera faz com que o dispositivo seja desligado.</span><span class="sxs-lookup"><span data-stu-id="6835a-131">In many camcorders, switching between VTR mode and camera mode causes the device to switch off.</span></span> <span data-ttu-id="6835a-132">Portanto, o DirectShow pode perder o dispositivo quando o usuário alternar entre os modos.</span><span class="sxs-lookup"><span data-stu-id="6835a-132">Therefore, DirectShow may lose the device when the user switches modes.</span></span> <span data-ttu-id="6835a-133">Para obter informações sobre eventos de remoção de dispositivo, consulte [notificação de remoção de dispositivo](device-removal-notification.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-133">For information about device removal events, see [Device Removal Notification](device-removal-notification.md).</span></span>

## <a name="remarks"></a><span data-ttu-id="6835a-134">Comentários</span><span class="sxs-lookup"><span data-stu-id="6835a-134">Remarks</span></span>

<span data-ttu-id="6835a-135">Para obter informações sobre quais formatos de DV são suportados pelo driver MSDV, consulte [**subtipos de vídeo DV**](dv-video-subtypes.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-135">For information about which DV formats are supported by the MSDV driver, see [**DV Video Subtypes**](dv-video-subtypes.md).</span></span>

<span data-ttu-id="6835a-136">Algumas dicas sobre a criação de gráficos de filtro com o MSDV:</span><span class="sxs-lookup"><span data-stu-id="6835a-136">Some tips on building filter graphs with MSDV:</span></span>

-   <span data-ttu-id="6835a-137">Você não pode usar [**IGraphBuilder:: render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) para processar um pino de saída em MSDV.</span><span class="sxs-lookup"><span data-stu-id="6835a-137">You cannot use [**IGraphBuilder::Render**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-render) to render an output pin on MSDV.</span></span> <span data-ttu-id="6835a-138">(O Gerenciador do grafo de filtro tenta conectar o pino de saída ao pino de entrada do MSDV, que falha.) Em vez disso, use [**IGraphBuilder:: Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) ou [**ICaptureGraphBuilder2:: RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span><span class="sxs-lookup"><span data-stu-id="6835a-138">(The Filter Graph Manager tries to connect the output pin to MSDV's input pin, which fails.) Instead, use [**IGraphBuilder::Connect**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-connect) or [**ICaptureGraphBuilder2::RenderStream**](/windows/desktop/api/Strmif/nf-strmif-icapturegraphbuilder2-renderstream).</span></span>
-   <span data-ttu-id="6835a-139">Quando um grafo de filtro contém MSDV, MSDV deve fornecer o relógio de referência para o grafo.</span><span class="sxs-lookup"><span data-stu-id="6835a-139">When a filter graph contains MSDV, MSDV should supply the reference clock for the graph.</span></span> <span data-ttu-id="6835a-140">A partir do DirectX 8,0, o Gerenciador de gráfico de filtro escolherá automaticamente MSDV como o relógio de referência.</span><span class="sxs-lookup"><span data-stu-id="6835a-140">As of DirectX 8.0, the Filter Graph Manager will automatically choose MSDV as the reference clock.</span></span> <span data-ttu-id="6835a-141">Com versões anteriores, você deve chamar o método [**IMediaFilter:: Setsincronizate**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) no Gerenciador do grafo de filtro.</span><span class="sxs-lookup"><span data-stu-id="6835a-141">With earlier versions, you should call the [**IMediaFilter::SetSyncSource**](/windows/desktop/api/Strmif/nf-strmif-imediafilter-setsyncsource) method on the Filter Graph Manager.</span></span> <span data-ttu-id="6835a-142">Para obter mais informações sobre relógios, consulte [tempo e relógios no DirectShow](time-and-clocks-in-directshow.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-142">For more information about clocks, see [Time and Clocks in DirectShow](time-and-clocks-in-directshow.md).</span></span>
-   <span data-ttu-id="6835a-143">Dependendo do dispositivo, alguns métodos em **IAMExtDevice**, **IAMExtTransport** e **IAMTimeCodeReader** podem retornar códigos de erro do Windows em vez de valores **HRESULT** .</span><span class="sxs-lookup"><span data-stu-id="6835a-143">Depending on the device, some methods in **IAMExtDevice**, **IAMExtTransport**, and **IAMTimeCodeReader** might return Windows error codes instead of **HRESULT** values.</span></span> <span data-ttu-id="6835a-144">Os códigos de erro possíveis incluem o seguinte.</span><span class="sxs-lookup"><span data-stu-id="6835a-144">Possible error codes include the following.</span></span>

    | <span data-ttu-id="6835a-145">Código do Erro</span><span class="sxs-lookup"><span data-stu-id="6835a-145">Error Code</span></span>              | <span data-ttu-id="6835a-146">Descrição</span><span class="sxs-lookup"><span data-stu-id="6835a-146">Description</span></span>                                                                                      |
    |-------------------------|--------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="6835a-147">\_tempo limite do erro</span><span class="sxs-lookup"><span data-stu-id="6835a-147">ERROR\_TIMEOUT</span></span>          | <span data-ttu-id="6835a-148">Um comando de dispositivo externo atingiu o tempo limite.</span><span class="sxs-lookup"><span data-stu-id="6835a-148">An external device command has timed out.</span></span>                                                        |
    | <span data-ttu-id="6835a-149">Req. de erro \_ \_ não \_ ACCEP</span><span class="sxs-lookup"><span data-stu-id="6835a-149">ERROR\_REQ\_NOT\_ACCEP</span></span>  | <span data-ttu-id="6835a-150">O dispositivo não aceitou este comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="6835a-150">The device did not accept this external device command.</span></span>                                          |
    | <span data-ttu-id="6835a-151">ERRO \_ sem \_ suporte</span><span class="sxs-lookup"><span data-stu-id="6835a-151">ERROR\_NOT\_SUPPORTED</span></span>   | <span data-ttu-id="6835a-152">O dispositivo não dá suporte a este comando de dispositivo externo.</span><span class="sxs-lookup"><span data-stu-id="6835a-152">The device does not support this external device command.</span></span>                                        |
    | <span data-ttu-id="6835a-153">solicitação de erro \_ \_ anulada</span><span class="sxs-lookup"><span data-stu-id="6835a-153">ERROR\_REQUEST\_ABORTED</span></span> | <span data-ttu-id="6835a-154">Um comando de dispositivo externo foi anulado.</span><span class="sxs-lookup"><span data-stu-id="6835a-154">An external device command was aborted.</span></span> <span data-ttu-id="6835a-155">Possivelmente, o dispositivo foi removido ou uma redefinição de barramento ocorreu.</span><span class="sxs-lookup"><span data-stu-id="6835a-155">Possibly the device was removed or a bus reset occurred.</span></span> |

    

     

### <a name="device-information"></a><span data-ttu-id="6835a-156">Informações do dispositivo</span><span class="sxs-lookup"><span data-stu-id="6835a-156">Device Information</span></span>

<span data-ttu-id="6835a-157">No Windows Millennium Edition e no Windows XP, o moniker do dispositivo do filtro DV dá suporte a uma propriedade **Description** , além da propriedade **FriendlyName** .</span><span class="sxs-lookup"><span data-stu-id="6835a-157">In Windows Millennium Edition and Windows XP, the DV filter's device moniker supports a **Description** property in addition to the **FriendlyName** property.</span></span> <span data-ttu-id="6835a-158">Essa propriedade retorna uma descrição do dispositivo, extraída do arquivo INF, que geralmente contém o nome da marca do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6835a-158">This property returns a description of the device, taken from the INF file, which usually contains the brand name of the device.</span></span> <span data-ttu-id="6835a-159">No entanto, essa propriedade não tem suporte em todos os modelos de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6835a-159">This property is not supported for all device models, however.</span></span>

<span data-ttu-id="6835a-160">Para obter mais informações sobre monikers de dispositivo, consulte [usando o enumerador de dispositivo do sistema](using-the-system-device-enumerator.md).</span><span class="sxs-lookup"><span data-stu-id="6835a-160">For more information about device monikers, see [Using the System Device Enumerator](using-the-system-device-enumerator.md).</span></span>

### <a name="clock-times"></a><span data-ttu-id="6835a-161">Horas de relógio</span><span class="sxs-lookup"><span data-stu-id="6835a-161">Clock Times</span></span>

<span data-ttu-id="6835a-162">O driver MSDV usa o relógio de barramento 1394 que está contido nos pacotes de dados 1394 para derivar o relógio.</span><span class="sxs-lookup"><span data-stu-id="6835a-162">The MSDV driver uses the 1394 bus clock that is contained in the 1394 data packets to derive the clock.</span></span> <span data-ttu-id="6835a-163">Ele usa esses valores para carimbar o tempo dos exemplos de mídia DV.</span><span class="sxs-lookup"><span data-stu-id="6835a-163">It uses these values to time stamp the DV media samples.</span></span> <span data-ttu-id="6835a-164">Como esse relógio de origem não é o relógio do sistema do computador, os horários eventualmente serão descompassos do relógio do sistema do computador.</span><span class="sxs-lookup"><span data-stu-id="6835a-164">Because this source clock is not the computer system clock, the times will eventually drift from the computer system clock.</span></span> <span data-ttu-id="6835a-165">Como observado acima, no entanto, por padrão, o Gerenciador do grafo de filtro selecionará MSDV como o relógio de referência do grafo.</span><span class="sxs-lookup"><span data-stu-id="6835a-165">As noted above, however, by default the Filter Graph Manager will select MSDV as the graph reference clock.</span></span>

<span data-ttu-id="6835a-166">A interface [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) relata a medida atual do driver dos quadros descartados; Esse valor pode não estar perfeitamente sincronizado com o número real de quadros descartados em um determinado momento.</span><span class="sxs-lookup"><span data-stu-id="6835a-166">The [**IAMDroppedFrames**](/windows/desktop/api/Strmif/nn-strmif-iamdroppedframes) interface reports the driver's current measure of dropped frames; this value may not be perfectly synchronized with the actual number of dropped frames at a given time.</span></span> <span data-ttu-id="6835a-167">Se os quadros forem descartados, isso indica que o sistema não está balanceado (a produção de dados excede o consumo de dados).</span><span class="sxs-lookup"><span data-stu-id="6835a-167">If frames are dropped, it indicates that the system is not balanced (data production exceeds data consumption).</span></span> <span data-ttu-id="6835a-168">Por exemplo, o disco rígido do usuário pode não ser rápido o suficiente para dar suporte a taxas de captura de DV.</span><span class="sxs-lookup"><span data-stu-id="6835a-168">For example, the user's hard disk may not be fast enough to support DV capture rates.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6835a-169">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6835a-169">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6835a-170">Filtros do DirectShow</span><span class="sxs-lookup"><span data-stu-id="6835a-170">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="6835a-171">Vídeo digital no DirectShow</span><span class="sxs-lookup"><span data-stu-id="6835a-171">Digital Video in DirectShow</span></span>](digital-video-in-directshow.md)
</dt> </dl>

 

 



