---
description: Diretrizes para o registro de filtros
ms.assetid: 05945937-9e01-4930-ae95-1931a711b55e
title: Diretrizes para o registro de filtros
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5ed616d90c17d232995994d8ceccfdc72d022d56
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104087232"
---
# <a name="guidelines-for-registering-filters"></a><span data-ttu-id="49419-103">Diretrizes para o registro de filtros</span><span class="sxs-lookup"><span data-stu-id="49419-103">Guidelines for Registering Filters</span></span>

<span data-ttu-id="49419-104">As informações de registro de filtro determinam como o Gerenciador de gráfico de filtro funciona durante o [Intelligent Connect](intelligent-connect.md).</span><span class="sxs-lookup"><span data-stu-id="49419-104">The filter registry information determines how the Filter Graph Manager functions during [Intelligent Connect](intelligent-connect.md).</span></span> <span data-ttu-id="49419-105">Portanto, ele afeta todos os aplicativos escritos para o DirectShow, não apenas aqueles que usarão seu filtro.</span><span class="sxs-lookup"><span data-stu-id="49419-105">Thus, it affects every application written for DirectShow, not just the ones that will use your filter.</span></span> <span data-ttu-id="49419-106">Você deve certificar-se de que o filtro se comporta corretamente, seguindo estas diretrizes.</span><span class="sxs-lookup"><span data-stu-id="49419-106">You should make sure that your filter behaves correctly, by following these guidelines.</span></span>

1.  <span data-ttu-id="49419-107">Você precisa dos dados de filtro no registro?</span><span class="sxs-lookup"><span data-stu-id="49419-107">Do you need the filter data in the registry?</span></span> <span data-ttu-id="49419-108">Para muitos filtros personalizados, não há motivo para tornar o filtro visível para o mapeador de filtro ou para o enumerador de dispositivo do sistema.</span><span class="sxs-lookup"><span data-stu-id="49419-108">For many custom filters, there is no reason to make the filter visible to the Filter Mapper or the System Device Enumerator.</span></span> <span data-ttu-id="49419-109">Contanto que você registre a DLL, seu aplicativo pode criar o filtro usando **CoCreateInstance**.</span><span class="sxs-lookup"><span data-stu-id="49419-109">As long as you register the DLL, your application can create the filter using **CoCreateInstance**.</span></span> <span data-ttu-id="49419-110">Nesse caso, basta omitir a estrutura do [**\_ filtro AMOVIESETUP**](amoviesetup-filter.md) do modelo de fábrica.</span><span class="sxs-lookup"><span data-stu-id="49419-110">In that case, simply omit the [**AMOVIESETUP\_FILTER**](amoviesetup-filter.md) structure from the factory template.</span></span> <span data-ttu-id="49419-111">(Uma desvantagem é que o filtro não estará visível no GraphEdit.</span><span class="sxs-lookup"><span data-stu-id="49419-111">(One drawback is that your filter will not be visible in GraphEdit.</span></span> <span data-ttu-id="49419-112">Para contornar isso, você pode criar uma categoria de "teste" privada usando o método [**IFilterMapper2:: createcategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) .</span><span class="sxs-lookup"><span data-stu-id="49419-112">To get around this, you can create a private "Testing" category using the [**IFilterMapper2::CreateCategory**](/windows/desktop/api/Strmif/nf-strmif-ifiltermapper2-createcategory) method.</span></span> <span data-ttu-id="49419-113">Você só deve fazer isso para compilações de depuração.)</span><span class="sxs-lookup"><span data-stu-id="49419-113">You should only do this for debug builds.)</span></span>
2.  <span data-ttu-id="49419-114">Escolha a categoria de filtro correta.</span><span class="sxs-lookup"><span data-stu-id="49419-114">Choose the correct filter category.</span></span> <span data-ttu-id="49419-115">A categoria "filtros do DirectShow" padrão é para filtros de uso geral.</span><span class="sxs-lookup"><span data-stu-id="49419-115">The default "DirectShow Filters" category is for general purpose filters.</span></span> <span data-ttu-id="49419-116">Sempre que apropriado, Registre seu filtro em uma categoria mais específica.</span><span class="sxs-lookup"><span data-stu-id="49419-116">Whenever appropriate, register your filter in a more specific category.</span></span> <span data-ttu-id="49419-117">Quando o [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) pesquisa um filtro, ele ignora qualquer categoria cujo mérito é mérito \_ \_ não \_ usa ou menos.</span><span class="sxs-lookup"><span data-stu-id="49419-117">When [**IFilterMapper2**](/windows/desktop/api/Strmif/nn-strmif-ifiltermapper2) searches for a filter, it ignores any category whose merit is MERIT\_DO\_NOT\_USE or less.</span></span> <span data-ttu-id="49419-118">As categorias não destinadas à reprodução normal têm um mérito baixo.</span><span class="sxs-lookup"><span data-stu-id="49419-118">Categories not intended for normal playback have low merit.</span></span>
3.  <span data-ttu-id="49419-119">Evite especificar MEDIATYPE \_ None, MEDIASUBTYPE \_ None ou GUID \_ NULL nas informações de [**\_ MediaType de AMOVIESETUP**](amoviesetup-mediatype.md) para um PIN.</span><span class="sxs-lookup"><span data-stu-id="49419-119">Avoid specifying MEDIATYPE\_None, MEDIASUBTYPE\_None, or GUID\_NULL in the [**AMOVIESETUP\_MEDIATYPE**](amoviesetup-mediatype.md) information for a pin.</span></span> <span data-ttu-id="49419-120">**IFilterMapper2** trata esses caracteres como curingas, o que pode retardar o processo de criação de gráficos.</span><span class="sxs-lookup"><span data-stu-id="49419-120">**IFilterMapper2** treats these as wildcards, which can slow the graph-building process.</span></span>
4.  <span data-ttu-id="49419-121">Escolha o valor de mérito mais baixo possível.</span><span class="sxs-lookup"><span data-stu-id="49419-121">Choose the lowest merit value possible.</span></span> <span data-ttu-id="49419-122">Aqui estão algumas diretrizes:</span><span class="sxs-lookup"><span data-stu-id="49419-122">Here are some guidelines:</span></span>

    | <span data-ttu-id="49419-123">Tipo de filtro</span><span class="sxs-lookup"><span data-stu-id="49419-123">Type of filter</span></span>                                                                                       | <span data-ttu-id="49419-124">Mérito recomendado</span><span class="sxs-lookup"><span data-stu-id="49419-124">Recommended merit</span></span>                                                                                   |
    |------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="49419-125">Renderizador padrão</span><span class="sxs-lookup"><span data-stu-id="49419-125">Default renderer</span></span>                                                                                     | <span data-ttu-id="49419-126">MÉRITO \_ preferencial.</span><span class="sxs-lookup"><span data-stu-id="49419-126">MERIT\_PREFERRED.</span></span> <span data-ttu-id="49419-127">Para os tipos de mídia padrão, no entanto, um renderizador personalizado nunca deve ser o padrão.</span><span class="sxs-lookup"><span data-stu-id="49419-127">For standard media types, however, a custom renderer should never be the default.</span></span> |
    | <span data-ttu-id="49419-128">Renderizador não padrão</span><span class="sxs-lookup"><span data-stu-id="49419-128">Non-default renderer</span></span>                                                                                 | <span data-ttu-id="49419-129">O \_ mérito \_ não \_ usa nem mérito \_ improvável</span><span class="sxs-lookup"><span data-stu-id="49419-129">MERIT\_DO\_NOT\_USE or MERIT\_UNLIKELY</span></span>                                                              |
    | <span data-ttu-id="49419-130">MUX</span><span class="sxs-lookup"><span data-stu-id="49419-130">Mux</span></span>                                                                                                  | <span data-ttu-id="49419-131">MÉRITO \_ \_ não \_ use</span><span class="sxs-lookup"><span data-stu-id="49419-131">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="49419-132">Decodificador</span><span class="sxs-lookup"><span data-stu-id="49419-132">Decoder</span></span>                                                                                              | <span data-ttu-id="49419-133">MÉRITO \_ normal</span><span class="sxs-lookup"><span data-stu-id="49419-133">MERIT\_NORMAL</span></span>                                                                                       |
    | <span data-ttu-id="49419-134">Spitter, analisador</span><span class="sxs-lookup"><span data-stu-id="49419-134">Spitter, parser</span></span>                                                                                      | <span data-ttu-id="49419-135">MÉRITO \_ normal ou inferior</span><span class="sxs-lookup"><span data-stu-id="49419-135">MERIT\_NORMAL or lower</span></span>                                                                              |
    | <span data-ttu-id="49419-136">Filtro de finalidade especial; qualquer filtro criado diretamente pelo aplicativo</span><span class="sxs-lookup"><span data-stu-id="49419-136">Special purpose filter; any filter that is created directly by the application</span></span>                       | <span data-ttu-id="49419-137">MÉRITO \_ \_ não \_ use</span><span class="sxs-lookup"><span data-stu-id="49419-137">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="49419-138">Capturar</span><span class="sxs-lookup"><span data-stu-id="49419-138">Capture</span></span>                                                                                              | <span data-ttu-id="49419-139">MÉRITO \_ \_ não \_ use</span><span class="sxs-lookup"><span data-stu-id="49419-139">MERIT\_DO\_NOT\_USE</span></span>                                                                                 |
    | <span data-ttu-id="49419-140">Filtro de "fallback"; por exemplo, o [filtro conversor de espaço de cor](color-space-converter-filter.md)</span><span class="sxs-lookup"><span data-stu-id="49419-140">"Fallback" filter; for example, the [Color Space Converter Filter](color-space-converter-filter.md)</span></span> | <span data-ttu-id="49419-141">MÉRITO \_ improvável</span><span class="sxs-lookup"><span data-stu-id="49419-141">MERIT\_UNLIKELY</span></span>                                                                                     |

    

     

    <span data-ttu-id="49419-142">Se você estiver dando a um filtro um mérito de mérito não \_ \_ \_ usar, considere se precisa registrar essas informações em primeiro lugar.</span><span class="sxs-lookup"><span data-stu-id="49419-142">If you are giving a filter a merit of MERIT\_DO\_NOT\_USE, consider whether you need to register this information in the first place.</span></span> <span data-ttu-id="49419-143">(Consulte o item 1.)</span><span class="sxs-lookup"><span data-stu-id="49419-143">(See item 1.)</span></span>

5.  <span data-ttu-id="49419-144">Não registre um filtro na categoria "filtros do DirectShow" que aceita RGB de 24 bits.</span><span class="sxs-lookup"><span data-stu-id="49419-144">Do not register a filter in the "DirectShow Filters" category that accepts 24-bit RGB.</span></span> <span data-ttu-id="49419-145">O filtro interferirá com o filtro de conversor de espaço de cor.</span><span class="sxs-lookup"><span data-stu-id="49419-145">Your filter will interfere with the Color Space Converter filter.</span></span>

## <a name="related-topics"></a><span data-ttu-id="49419-146">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="49419-146">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="49419-147">Como registrar filtros do DirectShow</span><span class="sxs-lookup"><span data-stu-id="49419-147">How to Register DirectShow Filters</span></span>](how-to-register-directshow-filters.md)
</dt> </dl>

 

 



