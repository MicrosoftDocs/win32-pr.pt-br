---
description: Gerenciador de portas de vídeo
ms.assetid: d70558a5-9820-432a-b4f3-ccf7bb2a34d5
title: Gerenciador de portas de vídeo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: db4f030e6be9035432207dc608a775a0e1d30b09
ms.sourcegitcommit: 63753fcfb0afbbe5ec283fb8316e62c2dc950f66
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/22/2021
ms.locfileid: "107909194"
---
# <a name="video-port-manager"></a><span data-ttu-id="0b93e-103">Gerenciador de portas de vídeo</span><span class="sxs-lookup"><span data-stu-id="0b93e-103">Video Port Manager</span></span>

<span data-ttu-id="0b93e-104">O filtro do Gerenciador de portas de vídeo (VPM) permite que o filtro de processador de mixagem de vídeo 7 (VMR-7) funcione com dispositivos de captura de vídeo ou decodificadores de hardware que usam uma porta de vídeo.</span><span class="sxs-lookup"><span data-stu-id="0b93e-104">The Video Port Manager filter (VPM) enables the Video Mixing Renderer Filter 7 (VMR-7) to work with video capture devices or hardware decoders that use a video port.</span></span> <span data-ttu-id="0b93e-105">Uma porta de vídeo é uma conexão de hardware direta com o chip de gráficos.</span><span class="sxs-lookup"><span data-stu-id="0b93e-105">A video port is a direct hardware connection to the graphics chip.</span></span> <span data-ttu-id="0b93e-106">Ele permite que o vídeo seja transferido diretamente para o chip de gráficos sem passar pelo barramento do sistema.</span><span class="sxs-lookup"><span data-stu-id="0b93e-106">It enables video to be transferred directly to the graphics chip without going over the system bus.</span></span>

> [!Note]  
> <span data-ttu-id="0b93e-107">O Gerenciador de portas de vídeo não é compatível com o VMR-9, pois o VMR-9 não oferece suporte a portas de vídeo.</span><span class="sxs-lookup"><span data-stu-id="0b93e-107">The Video Port Manager is not compatible with the VMR-9, because the VMR-9 does not support video ports.</span></span>

 



| <span data-ttu-id="0b93e-108">Label</span><span class="sxs-lookup"><span data-stu-id="0b93e-108">Label</span></span> | <span data-ttu-id="0b93e-109">Valor</span><span class="sxs-lookup"><span data-stu-id="0b93e-109">Value</span></span> |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="0b93e-110">Filtrar interfaces</span><span class="sxs-lookup"><span data-stu-id="0b93e-110">Filter Interfaces</span></span>                        | <span data-ttu-id="0b93e-111">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span><span class="sxs-lookup"><span data-stu-id="0b93e-111">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span></span> |
| <span data-ttu-id="0b93e-112">Tipos de mídia de pino de entrada</span><span class="sxs-lookup"><span data-stu-id="0b93e-112">Input Pin Media Types</span></span>                    | <span data-ttu-id="0b93e-113">\_Vídeo de MediaType, MEDIASUBTYPE \_ VPVIDEO ou MEDIASUBTYPE \_ VPVBI, Format \_ None</span><span class="sxs-lookup"><span data-stu-id="0b93e-113">MEDIATYPE\_Video, MEDIASUBTYPE\_VPVideo or MEDIASUBTYPE\_VPVBI, FORMAT\_None</span></span>                                                                                                                                         |
| <span data-ttu-id="0b93e-114">Interfaces de pino de entrada</span><span class="sxs-lookup"><span data-stu-id="0b93e-114">Input Pin Interfaces</span></span>                     | <span data-ttu-id="0b93e-115">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="0b93e-115">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span> |
| <span data-ttu-id="0b93e-116">Tipos de mídia do pino de saída</span><span class="sxs-lookup"><span data-stu-id="0b93e-116">Output Pin Media Types</span></span>                   | <span data-ttu-id="0b93e-117">\_Vídeo de MediaType, formato \_ VideoInfo2</span><span class="sxs-lookup"><span data-stu-id="0b93e-117">MEDIATYPE\_Video, FORMAT\_VideoInfo2</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="0b93e-118">Interfaces de pino de saída</span><span class="sxs-lookup"><span data-stu-id="0b93e-118">Output Pin Interfaces</span></span>                    | <span data-ttu-id="0b93e-119">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [ **IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="0b93e-119">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                     |
| <span data-ttu-id="0b93e-120">CLSID do filtro</span><span class="sxs-lookup"><span data-stu-id="0b93e-120">Filter CLSID</span></span>                             | <span data-ttu-id="0b93e-121">\_VIDEOPORTMANAGER CLSID</span><span class="sxs-lookup"><span data-stu-id="0b93e-121">CLSID\_VideoPortManager</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="0b93e-122">Núcleo</span><span class="sxs-lookup"><span data-stu-id="0b93e-122">Merit</span></span>](merit.md)                       | <span data-ttu-id="0b93e-123">MÉRITO \_ normal</span><span class="sxs-lookup"><span data-stu-id="0b93e-123">MERIT\_NORMAL</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="0b93e-124">Categoria do filtro</span><span class="sxs-lookup"><span data-stu-id="0b93e-124">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="0b93e-125">\_LEGACYAMFILTERCATEGORY CLSID</span><span class="sxs-lookup"><span data-stu-id="0b93e-125">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="0b93e-126">Comentários</span><span class="sxs-lookup"><span data-stu-id="0b93e-126">Remarks</span></span>

<span data-ttu-id="0b93e-127">O Gerenciador de portas de vídeo combina a funcionalidade de porta de vídeo do [filtro de mixer de sobreposição](overlay-mixer-filter.md) e a funcionalidade do [alocador de superfície VBI](vbi-surface-allocator.md).</span><span class="sxs-lookup"><span data-stu-id="0b93e-127">The Video Port Manager combines the video port functionality of the [Overlay Mixer Filter](overlay-mixer-filter.md) and the functionality of the [VBI Surface Allocator](vbi-surface-allocator.md).</span></span> <span data-ttu-id="0b93e-128">O VPM aloca portas de vídeo e superfícies e sincroniza a captura de dados da porta de vídeo.</span><span class="sxs-lookup"><span data-stu-id="0b93e-128">The VPM allocates video ports and surfaces, and synchronizes data capture from the video port.</span></span> <span data-ttu-id="0b93e-129">Ele permite a captura baseada em porta de vídeo que é independente da renderização.</span><span class="sxs-lookup"><span data-stu-id="0b93e-129">It allows video port-based capture that is independent of rendering.</span></span> <span data-ttu-id="0b93e-130">Se a visualização for desejada, o VPM coordenará com o VMR-7 para exibir dados de porta de vídeo capturados.</span><span class="sxs-lookup"><span data-stu-id="0b93e-130">If preview is desired, the VPM coordinates with the VMR-7 to display captured video port data.</span></span> <span data-ttu-id="0b93e-131">Quando uma porta de vídeo está presente no sistema, o filtro de captura requer buffers adicionais para extrair dados de VBI do fluxo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="0b93e-131">When a video port is present on the system, the capture filter requires additional buffers to extract VBI data from the video stream.</span></span> <span data-ttu-id="0b93e-132">Esses buffers são fornecidos pelo VPM.</span><span class="sxs-lookup"><span data-stu-id="0b93e-132">These buffers are provided by the VPM.</span></span> <span data-ttu-id="0b93e-133">Depois que o filtro de captura extrair os dados VBI, ele o entregará em um PIN separado para filtros como o decodificador CC.</span><span class="sxs-lookup"><span data-stu-id="0b93e-133">Once the capture filter has extracted the VBI data, it delivers it on a separate pin to filters such as the CC Decoder.</span></span> <span data-ttu-id="0b93e-134">A ilustração a seguir mostra o VPM e suas conexões em um grafo de filtro.</span><span class="sxs-lookup"><span data-stu-id="0b93e-134">The following illustration shows the VPM and its connections in a filter graph.</span></span>

![segmento do grafo de filtro do Gerenciador de portas de vídeo](images/vpm.png)

<span data-ttu-id="0b93e-136">O construtor de gráficos de DVD adiciona o VPM ao grafo de filtro automaticamente quando uma porta de vídeo é detectada no sistema.</span><span class="sxs-lookup"><span data-stu-id="0b93e-136">The DVD Graph Builder adds the VPM to the filter graph automatically when a video port is detected on the system.</span></span> <span data-ttu-id="0b93e-137">Depois de adicionado ao grafo, o VPM usa um objeto do DirectDraw fornecido pelo processador de mixagem de vídeo para alocar duas ou três superfícies.</span><span class="sxs-lookup"><span data-stu-id="0b93e-137">Once added to the graph, the VPM uses a DirectDraw object provided by the Video Mixing Renderer to allocate two or three surfaces.</span></span> <span data-ttu-id="0b93e-138">Essas superfícies recebem os quadros digitalizados do filtro de captura upstream.</span><span class="sxs-lookup"><span data-stu-id="0b93e-138">These surfaces receive the digitized frames from the upstream capture filter.</span></span> <span data-ttu-id="0b93e-139">Em resposta às notificações de eventos do modo de usuário enviadas quando os dados estão presentes na superfície, o VPM executa um blit automático para uma superfície fora da tela fornecida pelo VMR.</span><span class="sxs-lookup"><span data-stu-id="0b93e-139">In response to user-mode event notifications sent when data is present in the surface, the VPM performs an automatic blit to an offscreen surface provided by the VMR.</span></span>

<span data-ttu-id="0b93e-140">O fato de que o VPM usa várias superfícies para seus buffers de entrada significa que ele requer mais VRAM do que a implementação da porta de vídeo do DirectShow anterior.</span><span class="sxs-lookup"><span data-stu-id="0b93e-140">The fact that the VPM uses multiple surfaces for its input buffers means that it requires more VRAM than the previous DirectShow video port implementation.</span></span> <span data-ttu-id="0b93e-141">O blit extra do VPM para o VMR-7 requer largura de banda de memória de vídeo adicional.</span><span class="sxs-lookup"><span data-stu-id="0b93e-141">The extra blit from the VPM to the VMR-7 requires additional video memory bandwidth.</span></span> <span data-ttu-id="0b93e-142">E como a inversão automática de hardware não é mais usada, há um potencial teórico para quadros descartados, mas a evidência empírica sugere que isso não ocorre.</span><span class="sxs-lookup"><span data-stu-id="0b93e-142">And since hardware auto-flipping is not used any longer, there is a theoretical potential for dropped frames, but the empirical evidence suggests that this does not occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0b93e-143">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="0b93e-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0b93e-144">Filtros do DirectShow</span><span class="sxs-lookup"><span data-stu-id="0b93e-144">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="0b93e-145">**Interface IVPManager**</span><span class="sxs-lookup"><span data-stu-id="0b93e-145">**IVPManager Interface**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)
</dt> </dl>

 

 



