---
description: Gerenciador de portas de vídeo
ms.assetid: d70558a5-9820-432a-b4f3-ccf7bb2a34d5
title: Gerenciador de portas de vídeo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b7ca884ff009584ef2904387d872733ddf8d53dd
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103829048"
---
# <a name="video-port-manager"></a><span data-ttu-id="cd28c-103">Gerenciador de portas de vídeo</span><span class="sxs-lookup"><span data-stu-id="cd28c-103">Video Port Manager</span></span>

<span data-ttu-id="cd28c-104">O filtro do Gerenciador de portas de vídeo (VPM) permite que o filtro de processador de mixagem de vídeo 7 (VMR-7) funcione com dispositivos de captura de vídeo ou decodificadores de hardware que usam uma porta de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd28c-104">The Video Port Manager filter (VPM) enables the Video Mixing Renderer Filter 7 (VMR-7) to work with video capture devices or hardware decoders that use a video port.</span></span> <span data-ttu-id="cd28c-105">Uma porta de vídeo é uma conexão de hardware direta com o chip de gráficos.</span><span class="sxs-lookup"><span data-stu-id="cd28c-105">A video port is a direct hardware connection to the graphics chip.</span></span> <span data-ttu-id="cd28c-106">Ele permite que o vídeo seja transferido diretamente para o chip de gráficos sem passar pelo barramento do sistema.</span><span class="sxs-lookup"><span data-stu-id="cd28c-106">It enables video to be transferred directly to the graphics chip without going over the system bus.</span></span>

> [!Note]  
> <span data-ttu-id="cd28c-107">O Gerenciador de portas de vídeo não é compatível com o VMR-9, pois o VMR-9 não oferece suporte a portas de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd28c-107">The Video Port Manager is not compatible with the VMR-9, because the VMR-9 does not support video ports.</span></span>

 



|                                          |                                                                                                                                                                                                                      |
|------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cd28c-108">Filtrar interfaces</span><span class="sxs-lookup"><span data-stu-id="cd28c-108">Filter Interfaces</span></span>                        | <span data-ttu-id="cd28c-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span><span class="sxs-lookup"><span data-stu-id="cd28c-109">[**IAMVideoDecimationProperties**](/windows/desktop/api/Strmif/nn-strmif-iamvideodecimationproperties), [**IBaseFilter**](/windows/desktop/api/Strmif/nn-strmif-ibasefilter), [**IKsPropertySet**](ikspropertyset.md), [**IQualProp**](/previous-versions/windows/desktop/api/Amvideo/nn-amvideo-iqualprop), [**IVPManager**](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)</span></span> |
| <span data-ttu-id="cd28c-110">Tipos de mídia de pino de entrada</span><span class="sxs-lookup"><span data-stu-id="cd28c-110">Input Pin Media Types</span></span>                    | <span data-ttu-id="cd28c-111">\_Vídeo de MediaType, MEDIASUBTYPE \_ VPVIDEO ou MEDIASUBTYPE \_ VPVBI, Format \_ None</span><span class="sxs-lookup"><span data-stu-id="cd28c-111">MEDIATYPE\_Video, MEDIASUBTYPE\_VPVideo or MEDIASUBTYPE\_VPVBI, FORMAT\_None</span></span>                                                                                                                                         |
| <span data-ttu-id="cd28c-112">Interfaces de pino de entrada</span><span class="sxs-lookup"><span data-stu-id="cd28c-112">Input Pin Interfaces</span></span>                     | <span data-ttu-id="cd28c-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="cd28c-113">[**IKsPin**](ikspin.md), [**IKsPropertySet**](ikspropertyset.md), [**IMemInputPin**](/windows/desktop/api/Strmif/nn-strmif-imeminputpin), [**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IPinConnection**](/windows/desktop/api/Strmif/nn-strmif-ipinconnection), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span> |
| <span data-ttu-id="cd28c-114">Tipos de mídia do pino de saída</span><span class="sxs-lookup"><span data-stu-id="cd28c-114">Output Pin Media Types</span></span>                   | <span data-ttu-id="cd28c-115">\_Vídeo de MediaType, formato \_ VideoInfo2</span><span class="sxs-lookup"><span data-stu-id="cd28c-115">MEDIATYPE\_Video, FORMAT\_VideoInfo2</span></span>                                                                                                                                                                                 |
| <span data-ttu-id="cd28c-116">Interfaces de pino de saída</span><span class="sxs-lookup"><span data-stu-id="cd28c-116">Output Pin Interfaces</span></span>                    | <span data-ttu-id="cd28c-117">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [ **IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span><span class="sxs-lookup"><span data-stu-id="cd28c-117">[**IPin**](/windows/desktop/api/Strmif/nn-strmif-ipin), [**IQualityControl**](/windows/desktop/api/Strmif/nn-strmif-iqualitycontrol)</span></span>                                                                                                                                                     |
| <span data-ttu-id="cd28c-118">CLSID do filtro</span><span class="sxs-lookup"><span data-stu-id="cd28c-118">Filter CLSID</span></span>                             | <span data-ttu-id="cd28c-119">\_VIDEOPORTMANAGER CLSID</span><span class="sxs-lookup"><span data-stu-id="cd28c-119">CLSID\_VideoPortManager</span></span>                                                                                                                                                                                              |
| [<span data-ttu-id="cd28c-120">Núcleo</span><span class="sxs-lookup"><span data-stu-id="cd28c-120">Merit</span></span>](merit.md)                       | <span data-ttu-id="cd28c-121">MÉRITO \_ normal</span><span class="sxs-lookup"><span data-stu-id="cd28c-121">MERIT\_NORMAL</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="cd28c-122">Categoria do filtro</span><span class="sxs-lookup"><span data-stu-id="cd28c-122">Filter Category</span></span>](filter-categories.md) | <span data-ttu-id="cd28c-123">\_LEGACYAMFILTERCATEGORY CLSID</span><span class="sxs-lookup"><span data-stu-id="cd28c-123">CLSID\_LegacyAmFilterCategory</span></span>                                                                                                                                                                                        |



 

## <a name="remarks"></a><span data-ttu-id="cd28c-124">Comentários</span><span class="sxs-lookup"><span data-stu-id="cd28c-124">Remarks</span></span>

<span data-ttu-id="cd28c-125">O Gerenciador de portas de vídeo combina a funcionalidade de porta de vídeo do [filtro de mixer de sobreposição](overlay-mixer-filter.md) e a funcionalidade do [alocador de superfície VBI](vbi-surface-allocator.md).</span><span class="sxs-lookup"><span data-stu-id="cd28c-125">The Video Port Manager combines the video port functionality of the [Overlay Mixer Filter](overlay-mixer-filter.md) and the functionality of the [VBI Surface Allocator](vbi-surface-allocator.md).</span></span> <span data-ttu-id="cd28c-126">O VPM aloca portas de vídeo e superfícies e sincroniza a captura de dados da porta de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd28c-126">The VPM allocates video ports and surfaces, and synchronizes data capture from the video port.</span></span> <span data-ttu-id="cd28c-127">Ele permite a captura baseada em porta de vídeo que é independente da renderização.</span><span class="sxs-lookup"><span data-stu-id="cd28c-127">It allows video port-based capture that is independent of rendering.</span></span> <span data-ttu-id="cd28c-128">Se a visualização for desejada, o VPM coordenará com o VMR-7 para exibir dados de porta de vídeo capturados.</span><span class="sxs-lookup"><span data-stu-id="cd28c-128">If preview is desired, the VPM coordinates with the VMR-7 to display captured video port data.</span></span> <span data-ttu-id="cd28c-129">Quando uma porta de vídeo está presente no sistema, o filtro de captura requer buffers adicionais para extrair dados de VBI do fluxo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd28c-129">When a video port is present on the system, the capture filter requires additional buffers to extract VBI data from the video stream.</span></span> <span data-ttu-id="cd28c-130">Esses buffers são fornecidos pelo VPM.</span><span class="sxs-lookup"><span data-stu-id="cd28c-130">These buffers are provided by the VPM.</span></span> <span data-ttu-id="cd28c-131">Depois que o filtro de captura extrair os dados VBI, ele o entregará em um PIN separado para filtros como o decodificador CC.</span><span class="sxs-lookup"><span data-stu-id="cd28c-131">Once the capture filter has extracted the VBI data, it delivers it on a separate pin to filters such as the CC Decoder.</span></span> <span data-ttu-id="cd28c-132">A ilustração a seguir mostra o VPM e suas conexões em um grafo de filtro.</span><span class="sxs-lookup"><span data-stu-id="cd28c-132">The following illustration shows the VPM and its connections in a filter graph.</span></span>

![segmento do grafo de filtro do Gerenciador de portas de vídeo](images/vpm.png)

<span data-ttu-id="cd28c-134">O construtor de gráficos de DVD adiciona o VPM ao grafo de filtro automaticamente quando uma porta de vídeo é detectada no sistema.</span><span class="sxs-lookup"><span data-stu-id="cd28c-134">The DVD Graph Builder adds the VPM to the filter graph automatically when a video port is detected on the system.</span></span> <span data-ttu-id="cd28c-135">Depois de adicionado ao grafo, o VPM usa um objeto do DirectDraw fornecido pelo processador de mixagem de vídeo para alocar duas ou três superfícies.</span><span class="sxs-lookup"><span data-stu-id="cd28c-135">Once added to the graph, the VPM uses a DirectDraw object provided by the Video Mixing Renderer to allocate two or three surfaces.</span></span> <span data-ttu-id="cd28c-136">Essas superfícies recebem os quadros digitalizados do filtro de captura upstream.</span><span class="sxs-lookup"><span data-stu-id="cd28c-136">These surfaces receive the digitized frames from the upstream capture filter.</span></span> <span data-ttu-id="cd28c-137">Em resposta às notificações de eventos do modo de usuário enviadas quando os dados estão presentes na superfície, o VPM executa um blit automático para uma superfície fora da tela fornecida pelo VMR.</span><span class="sxs-lookup"><span data-stu-id="cd28c-137">In response to user-mode event notifications sent when data is present in the surface, the VPM performs an automatic blit to an offscreen surface provided by the VMR.</span></span>

<span data-ttu-id="cd28c-138">O fato de que o VPM usa várias superfícies para seus buffers de entrada significa que ele requer mais VRAM do que a implementação da porta de vídeo do DirectShow anterior.</span><span class="sxs-lookup"><span data-stu-id="cd28c-138">The fact that the VPM uses multiple surfaces for its input buffers means that it requires more VRAM than the previous DirectShow video port implementation.</span></span> <span data-ttu-id="cd28c-139">O blit extra do VPM para o VMR-7 requer largura de banda de memória de vídeo adicional.</span><span class="sxs-lookup"><span data-stu-id="cd28c-139">The extra blit from the VPM to the VMR-7 requires additional video memory bandwidth.</span></span> <span data-ttu-id="cd28c-140">E como a inversão automática de hardware não é mais usada, há um potencial teórico para quadros descartados, mas a evidência empírica sugere que isso não ocorre.</span><span class="sxs-lookup"><span data-stu-id="cd28c-140">And since hardware auto-flipping is not used any longer, there is a theoretical potential for dropped frames, but the empirical evidence suggests that this does not occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="cd28c-141">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="cd28c-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="cd28c-142">Filtros do DirectShow</span><span class="sxs-lookup"><span data-stu-id="cd28c-142">DirectShow Filters</span></span>](directshow-filters.md)
</dt> <dt>

[<span data-ttu-id="cd28c-143">**Interface IVPManager**</span><span class="sxs-lookup"><span data-stu-id="cd28c-143">**IVPManager Interface**</span></span>](/windows/desktop/api/Strmif/nn-strmif-ivpmanager)
</dt> </dl>

 

 



