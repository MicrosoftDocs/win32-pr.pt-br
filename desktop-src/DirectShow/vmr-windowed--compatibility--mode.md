---
description: Modo de janela do VMR (compatibilidade)
ms.assetid: e9fb1c83-860a-44c1-9633-c86f5d0fdadd
title: Modo de janela do VMR (compatibilidade)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7312274881642d15b844e0fa950f72e52f92db8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104557891"
---
# <a name="vmr-windowed-compatibility-mode"></a><span data-ttu-id="cd757-103">Modo de janela do VMR (compatibilidade)</span><span class="sxs-lookup"><span data-stu-id="cd757-103">VMR Windowed (Compatibility) Mode</span></span>

<span data-ttu-id="cd757-104">O VMR foi projetado para ser compatível com todos os aplicativos DirectShow existentes.</span><span class="sxs-lookup"><span data-stu-id="cd757-104">The VMR is designed to be compatible with all existing DirectShow applications.</span></span> <span data-ttu-id="cd757-105">Quando usado com um aplicativo existente, o VMR opera em modo de janela com um único fluxo de vídeo, também chamado de modo de compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="cd757-105">When it is used with an existing application, the VMR operates in windowed mode with a single video stream, also called compatibility mode.</span></span> <span data-ttu-id="cd757-106">Esse modo é fornecido porque o VMR-7 é o renderizador padrão no Windows XP e, portanto, é usado automaticamente em chamadas para métodos de [conexão inteligente](intelligent-connect.md) , como [**IGraphBuilder:: RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span><span class="sxs-lookup"><span data-stu-id="cd757-106">This mode is provided because the VMR-7 is the default renderer on Windows XP, and is therefore automatically used in calls to [Intelligent Connect](intelligent-connect.md) methods such as [**IGraphBuilder::RenderFile**](/windows/desktop/api/Strmif/nf-strmif-igraphbuilder-renderfile).</span></span> <span data-ttu-id="cd757-107">Se seu aplicativo usar o Intelligent Connect e exigir apenas recursos básicos de renderização, você não precisará de nenhum código especial para renderizar corretamente com o VMR-7 no Windows XP.</span><span class="sxs-lookup"><span data-stu-id="cd757-107">If your application uses Intelligent Connect and requires only basic rendering capabilities, you do not need any special code to render correctly with the VMR-7 on Windows XP.</span></span>

<span data-ttu-id="cd757-108">O VMR-9 também é executado em modo de janela/compatibilidade por padrão.</span><span class="sxs-lookup"><span data-stu-id="cd757-108">The VMR-9 also runs in windowed/compatibility mode by default.</span></span> <span data-ttu-id="cd757-109">No entanto, o VMR-9 nunca é o processador de vídeo padrão.</span><span class="sxs-lookup"><span data-stu-id="cd757-109">However, the VMR-9 is never the default video renderer.</span></span> <span data-ttu-id="cd757-110">Para usar o VMR-9 em um aplicativo, você deve adicioná-lo explicitamente ao gráfico de filtro.</span><span class="sxs-lookup"><span data-stu-id="cd757-110">To use the VMR-9 in an application, you must explicitly add it to the filter graph.</span></span> <span data-ttu-id="cd757-111">Por esse motivo, e como o modo sem janela fornece uma funcionalidade melhor do que o modo em janela, não há nenhuma vantagem específica em usar o VMR-9 no modo de janela/compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="cd757-111">For that reason, and because windowless mode provides better functionality than windowed mode, there is no particular advantage to using the VMR-9 in windowed/compatibility mode.</span></span>

<span data-ttu-id="cd757-112">**Usando o VMR-7 no modo de janela/compatibilidade**</span><span class="sxs-lookup"><span data-stu-id="cd757-112">**Using the VMR-7 in Windowed/Compatibility Mode**</span></span>

<span data-ttu-id="cd757-113">Nenhuma programação especial é necessária para configurar ou controlar o VMR-7 no modo de janela/compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="cd757-113">No special programming is required to set up or control the VMR-7 in windowed/compatibility mode.</span></span> <span data-ttu-id="cd757-114">Basta criar o gráfico de filtro usando as chamadas de construção de grafo padrão, e o VMR-7 usará como padrão esse modo.</span><span class="sxs-lookup"><span data-stu-id="cd757-114">Simply build the filter graph using the standard graph-building calls, and the VMR-7 will default to this mode.</span></span>

<span data-ttu-id="cd757-115">No modo em janela/compatibilidade, o VMR-7 cria sua própria janela para exibir o vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd757-115">In windowed/compatibility mode, the VMR-7 creates its own window to display the video.</span></span> <span data-ttu-id="cd757-116">Para fazer isso, ele carrega o componente do Gerenciador de janelas, que expõe as interfaces [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) e [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) .</span><span class="sxs-lookup"><span data-stu-id="cd757-116">To do so, it loads the Window Manager component, which exposes the [**IVideoWindow**](/windows/desktop/api/Control/nn-control-ivideowindow) and [**IBasicVideo**](/windows/desktop/api/Control/nn-control-ibasicvideo) interfaces.</span></span> <span data-ttu-id="cd757-117">Seu aplicativo pode consultar o Gerenciador do grafo de filtro para essas interfaces, exatamente como você faria com o filtro de processamento de vídeo antigo.</span><span class="sxs-lookup"><span data-stu-id="cd757-117">Your application can query the Filter Graph Manager for these interfaces, exactly as you would with the old Video Renderer filter.</span></span> <span data-ttu-id="cd757-118">Para obter mais informações, consulte [usando o modo de janela](using-windowed-mode.md).</span><span class="sxs-lookup"><span data-stu-id="cd757-118">For more information, see [Using Windowed Mode](using-windowed-mode.md).</span></span>

<span data-ttu-id="cd757-119">A ilustração a seguir mostra o VMR-7 no modo de janela/compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="cd757-119">The following illustration shows the VMR-7 in windowed/compatibility mode.</span></span>

![VMR no modo de compatibilidade](images/vmr-compat-mode.png)

<span data-ttu-id="cd757-121">Para garantir o nível máximo de compatibilidade, a janela de vídeo tem o mesmo nome de classe criado pelo filtro de processamento de vídeo antigo e a maior parte do código do Gerenciador de janelas do renderizador de vídeo antigo ainda é usada pelo VMR.</span><span class="sxs-lookup"><span data-stu-id="cd757-121">To guarantee the maximum level of compatibility, the video window has the same class name as the one created by the old Video Renderer filter, and most of the Window Manager code from the old Video Renderer is still used by the VMR.</span></span> <span data-ttu-id="cd757-122">No modo em janela/compatibilidade, o VMR consome mais recursos do sistema do que o antigo processador de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd757-122">In windowed/compatibility mode, the VMR consumes no more system resources than the old Video Renderer.</span></span> <span data-ttu-id="cd757-123">Como o VMR-7 tem apenas um fluxo de entrada no modo de janela/compatibilidade, ele não carrega os componentes do mixer ou do compositor.</span><span class="sxs-lookup"><span data-stu-id="cd757-123">Since the VMR-7 has only one input stream in windowed/compatibility mode, it does not load its mixer or compositor components.</span></span>

<span data-ttu-id="cd757-124">Por padrão, o VMR amplia a imagem para preencher a janela de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd757-124">By default, the VMR stretches the image to fill the video window.</span></span> <span data-ttu-id="cd757-125">Para preservar a taxa de proporção da origem, chame o método [**IVMRAspectRatioControl:: SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) com o \_ sinalizador de caixa de letra ARMODE do VMR \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="cd757-125">To preserve the aspect ratio of the source, call the [**IVMRAspectRatioControl::SetAspectRatioMode**](/windows/desktop/api/Strmif/nf-strmif-ivmraspectratiocontrol-setaspectratiomode) method with the VMR\_ARMODE\_LETTER\_BOX flag.</span></span>

> [!Note]  
> <span data-ttu-id="cd757-126">Os aplicativos MFC que colocam a janela de vídeo em uma janela filho devem definir um \_ manipulador de mensagens ERASEBKGND do WM vazio ou a área de exibição do vídeo não será redesenhada corretamente.</span><span class="sxs-lookup"><span data-stu-id="cd757-126">MFC applications that place the video window in a child window must define an empty WM\_ERASEBKGND message handler, or the video display area will not repaint correctly.</span></span>

 

<span data-ttu-id="cd757-127">**Usando o VMR-7 no modo de janela/compatibilidade com vários fluxos**</span><span class="sxs-lookup"><span data-stu-id="cd757-127">**Using the VMR-7 in Windowed/Compatibility Mode with Multiple Streams**</span></span>

<span data-ttu-id="cd757-128">No modo em janela/compatibilidade, o VMR-7 cria um único PIN de entrada por padrão e desabilita o modo de combinação.</span><span class="sxs-lookup"><span data-stu-id="cd757-128">In windowed/compatibility mode, the VMR-7 creates a single input pin by default, and disables mixing mode.</span></span> <span data-ttu-id="cd757-129">Para habilitar o modo de combinação, você deve configurar o VMR antes de conectá-lo.</span><span class="sxs-lookup"><span data-stu-id="cd757-129">To enable mixing mode, you must configure the VMR before you connect it.</span></span> <span data-ttu-id="cd757-130">Para obter mais informações, consulte [VMR com vários fluxos (modo de combinação)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="cd757-130">For more information, see [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="cd757-131">No modo de combinação, o VMR carrega os componentes de mistura e com-compositor, que exigem mais recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="cd757-131">In mixing mode, the VMR loads the mixing and compositor components, which require more system resources.</span></span>

<span data-ttu-id="cd757-132">**Usando o VMR-9 em modo de janela**</span><span class="sxs-lookup"><span data-stu-id="cd757-132">**Using the VMR-9 in Windowed Mode**</span></span>

<span data-ttu-id="cd757-133">Como o VMR-9 não é o renderizador padrão, ele não tem um modo de compatibilidade como esse.</span><span class="sxs-lookup"><span data-stu-id="cd757-133">Because the VMR-9 is not the default renderer, it does not have a compatibility mode as such.</span></span> <span data-ttu-id="cd757-134">Em vez disso, o VMR-9 usa como padrão o modo de janela com quatro pinos de entrada.</span><span class="sxs-lookup"><span data-stu-id="cd757-134">Instead, the VMR-9 defaults to windowed mode with four input pins.</span></span> <span data-ttu-id="cd757-135">Você pode usar esse modo para misturar até quatro fluxos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="cd757-135">You can use this mode to mix up to four video streams.</span></span> <span data-ttu-id="cd757-136">Se você precisar misturar um número maior de fluxos, deverá configurá-lo conforme descrito em [VMR com vários fluxos (modo de combinação)](vmr-with-multiple-streams--mixing-mode.md).</span><span class="sxs-lookup"><span data-stu-id="cd757-136">If you need to mix a larger number of streams, you must configure it as described in [VMR with Multiple Streams (Mixing Mode)](vmr-with-multiple-streams--mixing-mode.md).</span></span> <span data-ttu-id="cd757-137">Caso contrário, o VMR-9 em modo de janela se comporta exatamente como o VMR-7 no modo de janela/compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="cd757-137">Otherwise, the VMR-9 in windowed mode behaves exactly like the VMR-7 in windowed/compatibility mode.</span></span>

 

 



