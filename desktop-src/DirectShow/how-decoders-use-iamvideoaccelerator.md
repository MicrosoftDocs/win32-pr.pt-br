---
description: Como os decodificadores usam o IAMVideoAccelerator
ms.assetid: 0bc6b65b-4502-4c6f-a0f2-82a2bd444d1d
title: Como os decodificadores usam o IAMVideoAccelerator
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 436768b3561a999f6708ef4f6438b816e0ad303b
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "103919696"
---
# <a name="how-decoders-use-iamvideoaccelerator"></a><span data-ttu-id="1cda7-103">Como os decodificadores usam o IAMVideoAccelerator</span><span class="sxs-lookup"><span data-stu-id="1cda7-103">How Decoders Use IAMVideoAccelerator</span></span>

<span data-ttu-id="1cda7-104">A interface [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) permite operações genéricas de aceleração de vídeo, incluindo o DirectX Video ACCELERATION (VA).</span><span class="sxs-lookup"><span data-stu-id="1cda7-104">The [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) interface enables generic video acceleration operations, including DirectX Video Acceleration (VA).</span></span> <span data-ttu-id="1cda7-105">Para a aceleração não-DirectX VA, o decodificador e o driver de vídeo devem aderir a um protocolo comum.</span><span class="sxs-lookup"><span data-stu-id="1cda7-105">For non-DirectX VA acceleration, the decoder and video driver must both adhere to a common protocol.</span></span>

<span data-ttu-id="1cda7-106">Esta seção descreve a ordem geral das operações que qualquer decodificador deve seguir ao usar essa interface.</span><span class="sxs-lookup"><span data-stu-id="1cda7-106">This section describes the general order of operations that any decoder should follow when using this interface.</span></span> <span data-ttu-id="1cda7-107">Mais informações específicas para decodificadores baseados em DirectX VA podem ser encontradas em [mapeando aceleração de vídeo DirectX para IAMVideoAccelerator](mapping-directx-video-acceleration-to-iamvideoaccelerator.md).</span><span class="sxs-lookup"><span data-stu-id="1cda7-107">Further information specific to DirectX VA-based decoders can be found in [Mapping DirectX Video Acceleration to IAMVideoAccelerator](mapping-directx-video-acceleration-to-iamvideoaccelerator.md).</span></span>

> [!Note]  
> <span data-ttu-id="1cda7-108">Essa interface está disponível no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1cda7-108">This interface is available in Windows 2000 and later.</span></span>

 

<span data-ttu-id="1cda7-109">A interface [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) é exposta no pino de entrada do [mixer de sobreposição](overlay-mixer-filter.md) ou do processador de mixagem de vídeo (VMR).</span><span class="sxs-lookup"><span data-stu-id="1cda7-109">The [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) interface is exposed on the input pin of the [Overlay Mixer](overlay-mixer-filter.md) or Video Mixing Renderer (VMR).</span></span> <span data-ttu-id="1cda7-110">A interface [**IAMVideoAcceleratorNotify**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoacceleratornotify) é exposta no pino de saída do decodificador.</span><span class="sxs-lookup"><span data-stu-id="1cda7-110">The [**IAMVideoAcceleratorNotify**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoacceleratornotify) interface is exposed on the decoder's output pin.</span></span> <span data-ttu-id="1cda7-111">A sequência de eventos para conectar os Pins de filtro é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="1cda7-111">The sequence of events for connecting the filter pins is as follows:</span></span>

1.  <span data-ttu-id="1cda7-112">O Gerenciador do grafo de filtro chama [**IPin:: Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) no pino de saída do filtro de decodificador.</span><span class="sxs-lookup"><span data-stu-id="1cda7-112">The Filter Graph Manager calls [**IPin::Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) on the decoder filter's output pin.</span></span> <span data-ttu-id="1cda7-113">Um [**\_ \_ tipo de mídia am**](/windows/win32/api/strmif/ns-strmif-am_media_type) é um parâmetro opcional.</span><span class="sxs-lookup"><span data-stu-id="1cda7-113">An [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) is an optional parameter.</span></span>
    -   <span data-ttu-id="1cda7-114">[**Am \_ O \_ tipo de mídia**](/windows/win32/api/strmif/ns-strmif-am_media_type) é uma estrutura de dados que descreve um tipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cda7-114">[**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) is a data structure that describes a type of media.</span></span> <span data-ttu-id="1cda7-115">Ele contém um GUID de majortype (que, em nosso caso, deve ser \_ vídeo de MediaType), um GUID de subtipo (que, em nosso caso, deve ser um GUID de acelerador de vídeo) e uma variedade de outras coisas.</span><span class="sxs-lookup"><span data-stu-id="1cda7-115">It contains a majortype GUID (which in our case should be MEDIATYPE\_Video), a subtype GUID (which in our case should be a video accelerator GUID), and a variety of other things.</span></span> <span data-ttu-id="1cda7-116">Uma dessas coisas é um GUID de tipo de formato que contém informações sobre a mídia, incluindo, em nosso caso, a largura e a altura de uma imagem de vídeo descompactada, provavelmente em uma estrutura [**MPEG1VIDEOINFO**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-mpeg1videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader), [**MPEG2VIDEOINFO**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-mpeg2videoinfo)ou [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) .</span><span class="sxs-lookup"><span data-stu-id="1cda7-116">One of those things is a format type GUID containing information about the media, including in our case the width and height of an uncompressed video picture, most likely in an [**MPEG1VIDEOINFO**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-mpeg1videoinfo), [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader), [**MPEG2VIDEOINFO**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-mpeg2videoinfo), or [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) structure.</span></span>
    -   <span data-ttu-id="1cda7-117">A estrutura do [**\_ \_ tipo de mídia am**](/windows/win32/api/strmif/ns-strmif-am_media_type) , se presente, instrui o decodificador a operar usando o tipo de mídia especificado, que pode ser "totalmente especificado" ou "parcialmente especificado".</span><span class="sxs-lookup"><span data-stu-id="1cda7-117">The [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) structure, if present, tells the decoder to operate using the specified media type, which may be "fully specified" or "partially specified".</span></span> <span data-ttu-id="1cda7-118">Se "totalmente especificado", o decodificador normalmente simplesmente tentaria operar com esse tipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cda7-118">If "fully specified," the decoder would normally simply attempt to operate with that media type.</span></span> <span data-ttu-id="1cda7-119">Se "parcialmente especificado", ele tentará encontrar um modo de operação compatível "totalmente especificado" que pode ser usado para se conectar de maneira consistente com o tipo de mídia "parcialmente especificado".</span><span class="sxs-lookup"><span data-stu-id="1cda7-119">If "partially specified," it will attempt to find a "fully-specified" compatible mode of operation that it can use to connect in a manner consistent with the "partially-specified" media type.</span></span>
    -   <span data-ttu-id="1cda7-120">A maneira comum de tentar encontrar um tipo de mídia "totalmente especificado" a ser usado para uma conexão é simplesmente executar uma lista de todos os tipos de mídia "totalmente especificados" que o PIN de saída suporta, que é compatível com o tipo de mídia "parcialmente especificado" e tentar se conectar a cada um deles até que tenha êxito.</span><span class="sxs-lookup"><span data-stu-id="1cda7-120">The ordinary manner for attempting to find a "fully-specified" media type to use for a connection is to simply run through a list of every "fully-specified" media type that the output pin supports which is compatible with the "partially-specified" media type and attempt to connect with each of them until successful.</span></span> <span data-ttu-id="1cda7-121">O processo normalmente seria semelhante se nenhum tipo de \_ mídia am \_ estiver contido na chamada [**IPin:: Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) , mas com o PIN de saída que precisa verificar todos os seus tipos de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cda7-121">The process would normally be similar if no AM\_MEDIA\_TYPE is contained in the [**IPin::Connect**](/windows/desktop/api/Strmif/nf-strmif-ipin-connect) call, but with the output pin needing to check all of its media types.</span></span>
2.  <span data-ttu-id="1cda7-122">Se o decodificador quiser verificar se um [**\_ \_ tipo de mídia am**](/windows/win32/api/strmif/ns-strmif-am_media_type) específico (incluindo um GUID de acelerador de vídeo) tem suporte no pino de entrada downstream, ele poderá chamar o [**IPin:: QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) (com o GUID do acelerador de vídeo como o subtipo do **\_ \_ tipo de mídia am**) ou simplesmente tentar se conectar a esse PIN, conforme descrito no item 5 abaixo.</span><span class="sxs-lookup"><span data-stu-id="1cda7-122">If the decoder wants to check whether a specific [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) (including a video accelerator GUID) is supported by the downstream input pin, it can call that pin's [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept) (with the video accelerator GUID as the subtype of the **AM\_MEDIA\_TYPE**) or it can simply attempt to connect to that pin as described in item 5 below.</span></span>
3.  <span data-ttu-id="1cda7-123">Se o decodificador não souber qual GUID de vídeo é compatível com o PIN de entrada downstream e não quiser propor apenas algum GUID de acelerador de vídeo candidato específico chamando o [**IPin:: QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept)do pino de entrada downstream, o decodificador poderá chamar [**IAMVideoAccelerator:: GetVideoAcceleratorGUIDs**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getvideoacceleratorguids) para obter uma lista dos GUIDs do acelerador de vídeo com suporte do PIN.</span><span class="sxs-lookup"><span data-stu-id="1cda7-123">If the decoder does not know which video accelerator GUIDs the downstream input pin supports and does not wish to propose just some particular candidate video accelerator GUID by calling the downstream input pin's [**IPin::QueryAccept**](/windows/desktop/api/Strmif/nf-strmif-ipin-queryaccept), the decoder can call [**IAMVideoAccelerator::GetVideoAcceleratorGUIDs**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getvideoacceleratorguids) to get a list of the video accelerator GUIDs the pin supports.</span></span>
4.  <span data-ttu-id="1cda7-124">Para alguns GUIDs de acelerador de vídeo específicos, o decodificador pode chamar o [**IAMVideoAccelerator:: GetUncompFormatsSupported**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getuncompformatssupported) do pino de entrada downstream para obter uma lista dos formatos de pixel **DDPIXELFORMAT** que podem ser usados para renderizar um GUID de acelerador de vídeo específico.</span><span class="sxs-lookup"><span data-stu-id="1cda7-124">For some particular video accelerator GUIDs, the decoder can call the downstream input pin's [**IAMVideoAccelerator::GetUncompFormatsSupported**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getuncompformatssupported) to get a list of the **DDPIXELFORMAT** pixel formats that can be used to render a specific video accelerator GUID.</span></span> <span data-ttu-id="1cda7-125">A lista retornada deve ser considerada em ordem de preferência decrescente (ou seja, com o formato mais preferencial listado primeiro).</span><span class="sxs-lookup"><span data-stu-id="1cda7-125">The list returned should be considered to be in decreasing preference order (that is, with the most preferred format listed first).</span></span>
5.  <span data-ttu-id="1cda7-126">O decodificador chama o [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection)do pino de entrada downstream, passando-o para um [**\_ \_ tipo de mídia am**](/windows/win32/api/strmif/ns-strmif-am_media_type) com o GUID do acelerador de vídeo apropriado como o subtipo do tipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cda7-126">The decoder calls the downstream input pin's [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection), passing it an [**AM\_MEDIA\_TYPE**](/windows/win32/api/strmif/ns-strmif-am_media_type) with the proper video accelerator GUID as the subtype of the media type.</span></span> <span data-ttu-id="1cda7-127">Isso configura a conexão para a operação, incluindo a criação das superfícies de saída não compactadas (que são alocadas usando a largura e a altura encontradas no **\_ \_ tipo de mídia am** e o número de superfícies a serem alocadas por uma chamada descrita abaixo e quaisquer outras informações que o acelerador de vídeo tenha disponível e que você queira usar para essa finalidade — como o próprio Media Accelerator GUID).</span><span class="sxs-lookup"><span data-stu-id="1cda7-127">This sets up the connection for operation, including the creation of the uncompressed output surfaces (which are allocated using the width and height found in **AM\_MEDIA\_TYPE**, and the number of surfaces to allocate found by a call described below, and whatever other information the video accelerator has available and wishes to use for that purpose—such as the video accelerator GUID itself).</span></span> <span data-ttu-id="1cda7-128">Se o pino de entrada downstream rejeitar o GUID do acelerador de vídeo ou algum outro aspecto da conexão, isso poderá fazer com que **IPin:: ReceiveConnection** falhe.</span><span class="sxs-lookup"><span data-stu-id="1cda7-128">If the downstream input pin rejects the video accelerator GUID or some other aspect of the connection, this can cause the **IPin::ReceiveConnection** to fail.</span></span> <span data-ttu-id="1cda7-129">Se **IPin:: ReceiveConnection** falhar, isso será indicado em um **HRESULT** retornado e o decodificador poderá tentar fazer a chamada novamente, por exemplo, com um novo GUID de acelerador de vídeo na estrutura do **\_ \_ tipo de mídia am** .</span><span class="sxs-lookup"><span data-stu-id="1cda7-129">If **IPin::ReceiveConnection** fails, this is indicated in a returned **HRESULT**, and the decoder can try to make the call again, for example, with a new video accelerator GUID in the **AM\_MEDIA\_TYPE** structure.</span></span>
    -   [!Note]  
        > <span data-ttu-id="1cda7-130">Essa é outra maneira (e a maneira mais definitiva) para o decodificador determinar o que é suportado pelo PIN de entrada downstream, simplesmente chamando [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) e tentando se conectar e, em seguida, verificando se a tentativa de conexão foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="1cda7-130">This is another way (and the most definitive way) for the decoder to determine what is supported by the downstream input pin—simply calling [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) and trying to connect, and then checking whether the connection attempt was successful.</span></span>

         

    -   <span data-ttu-id="1cda7-131">Durante o [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection), o renderizador chama o [**IAMVideoAcceleratorNotify:: GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo)do decodificador, passando-o para o GUID do acelerador de vídeo e uma estrutura de [**AMVAUncompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompbufferinfo) , a fim de descobrir quantas superfícies descompactadas alocar.</span><span class="sxs-lookup"><span data-stu-id="1cda7-131">During the [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection), the renderer calls the decoder's [**IAMVideoAcceleratorNotify::GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo), passing it the video accelerator GUID and an [**AMVAUncompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompbufferinfo) structure, in order to figure out how many uncompressed surfaces to allocate.</span></span> <span data-ttu-id="1cda7-132">O decodificador preenche e retorna a estrutura, que contém o número mínimo e máximo de superfícies a serem alocadas do tipo específico e uma estrutura **DDPIXELFORMAT** que descreve o formato de pixel das superfícies a serem alocadas.</span><span class="sxs-lookup"><span data-stu-id="1cda7-132">The decoder fills in and returns the structure, which contains the minimum and maximum number of surfaces to be allocated of the particular type, and a **DDPIXELFORMAT** structure describing the pixel format of the surfaces to be allocated.</span></span>
    -   [!Note]  
        > <span data-ttu-id="1cda7-133">Na verdade, nada é passado para o decodificador na chamada para [**IAMVideoAcceleratorNotify:: GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo) diferente do GUID do acelerador de vídeo.</span><span class="sxs-lookup"><span data-stu-id="1cda7-133">Nothing is actually passed in to the decoder in the call to [**IAMVideoAcceleratorNotify::GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo) other than the video accelerator GUID.</span></span>

         

6.  <span data-ttu-id="1cda7-134">O renderizador chama o [**IAMVideoAcceleratorNotify:: SetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-setuncompsurfacesinfo)do decodificador, passando para o decodificador o número real de superfícies não compactadas que foram alocadas.</span><span class="sxs-lookup"><span data-stu-id="1cda7-134">The renderer calls the decoder's [**IAMVideoAcceleratorNotify::SetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-setuncompsurfacesinfo), passing to the decoder the actual number of uncompressed surfaces that were allocated.</span></span>
7.  <span data-ttu-id="1cda7-135">O renderizador chama o [**IAMVideoAcceleratorNotify:: GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata) do decodificador para obter todos os dados necessários para inicializar o acelerador de vídeo.</span><span class="sxs-lookup"><span data-stu-id="1cda7-135">The renderer calls the decoder's [**IAMVideoAcceleratorNotify::GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata) to get any data needed to initialize the video accelerator.</span></span>
8.  <span data-ttu-id="1cda7-136">O decodificador chama [**IAMVideoAccelerator:: GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo), passando a ele um GUID de acelerador de vídeo, uma estrutura [**AMVAUncompDataInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompdatainfo) e o número de tipos de buffer compactados, para retornar um conjunto de estruturas de dados [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) , um correspondente a cada tipo de buffer de dados compactado usado pelo GUID do acelerador de vídeo.</span><span class="sxs-lookup"><span data-stu-id="1cda7-136">The decoder calls [**IAMVideoAccelerator::GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo), passing it a video accelerator GUID, an [**AMVAUncompDataInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompdatainfo) structure, and the number of compressed buffer types, to get in return a set of [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) data structures, one corresponding to each type of compressed data buffer used by the video accelerator GUID.</span></span>
    -   <span data-ttu-id="1cda7-137">A estrutura [**AMVAUncompDataInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompdatainfo) contém a largura e a altura dos dados não compactados decodificados (em pixels) e o DDPIXELFORMAT da imagem não compactada.</span><span class="sxs-lookup"><span data-stu-id="1cda7-137">The [**AMVAUncompDataInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvauncompdatainfo) structure contains the width and height of the decoded uncompressed data (in pixels) and the DDPIXELFORMAT of the uncompressed picture.</span></span>
    -   <span data-ttu-id="1cda7-138">As estruturas de dados [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) retornavam cada uma delas:</span><span class="sxs-lookup"><span data-stu-id="1cda7-138">The [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) data structures returned each contain:</span></span>
        -   <span data-ttu-id="1cda7-139">O número de buffers compactados necessários do tipo específico.</span><span class="sxs-lookup"><span data-stu-id="1cda7-139">The number of compressed buffers needed of the specific type.</span></span>
        -   <span data-ttu-id="1cda7-140">A largura e a altura da superfície a ser criada (campos que podem ou não ter nenhum significado real).</span><span class="sxs-lookup"><span data-stu-id="1cda7-140">The width and height of the surface to create (fields which may or may not have any actual meaning).</span></span>
            > [!Note]  
            > <span data-ttu-id="1cda7-141">A operação de alocação de superfície do DirectDraw para os buffers compactados não fornece atualmente a largura ou a altura dessas superfícies para ser maior ou igual a 2 ^ 15, embora a chamada de alocação de superfície não possa overtly falhar se esse limite for violado.</span><span class="sxs-lookup"><span data-stu-id="1cda7-141">The DirectDraw surface allocation operation for the compressed buffers does not currently provide for the width or height of these surfaces to be greater than or equal to 2^15, although the surface allocation call may not overtly fail if this limit is violated.</span></span> <span data-ttu-id="1cda7-142">Portanto, o driver pode estruturar suas solicitações de memória de buffer compactado para evitar esses tamanhos extremos.</span><span class="sxs-lookup"><span data-stu-id="1cda7-142">Therefore, the driver could structure its requests for compressed buffer memory to avoid such extreme sizes.</span></span> <span data-ttu-id="1cda7-143">Por exemplo, em vez de solicitar um buffer com width = "1" e Height = "65536", o driver deve solicitar um buffer de Width = "1024" e Height = "64".</span><span class="sxs-lookup"><span data-stu-id="1cda7-143">For example, rather than requesting a buffer with width="1" and height="65536", the driver should request a buffer of width="1024" and height="64".</span></span>

             

        -   <span data-ttu-id="1cda7-144">O número total de bytes a serem usados pela superfície.</span><span class="sxs-lookup"><span data-stu-id="1cda7-144">The total number of bytes to be used by the surface.</span></span>
        -   <span data-ttu-id="1cda7-145">Uma estrutura do tipo **DDSCAPS2** definindo um objeto DirectDrawSurface, descrevendo os recursos para criar superfícies para armazenar dados compactados.</span><span class="sxs-lookup"><span data-stu-id="1cda7-145">A structure of type **DDSCAPS2** defining a DirectDrawSurface object, describing the capabilities to create surfaces to store compressed data.</span></span>
        -   <span data-ttu-id="1cda7-146">Um DDPIXELFORMAT, que descreve o formato de pixel usado para criar superfícies para armazenar dados compactados (um campo que pode ou não ter qualquer significado real).</span><span class="sxs-lookup"><span data-stu-id="1cda7-146">A DDPIXELFORMAT, describing the pixel format used to create surfaces to store compressed data (a field which may or may not have any actual meaning).</span></span>

> [!Note]  
> <span data-ttu-id="1cda7-147">As chamadas do renderizador para alguns dos métodos de interface [**IAMVideoAcceleratorNotify**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoacceleratornotify) de decodificador podem (e normalmente) ocorrem dentro da chamada do decodificador para [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection)do renderizador.</span><span class="sxs-lookup"><span data-stu-id="1cda7-147">The renderer's calls to some of the decoder's [**IAMVideoAcceleratorNotify**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoacceleratornotify) interface methods may (and normally would) occur inside of the decoder's call to the renderer's [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection).</span></span> <span data-ttu-id="1cda7-148">Especificamente, isso se aplica ao seguinte:</span><span class="sxs-lookup"><span data-stu-id="1cda7-148">Specifically, this applies to the following:</span></span>
>
> -   <span data-ttu-id="1cda7-149">[**IAMVideoAcceleratorNotify:: GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo),</span><span class="sxs-lookup"><span data-stu-id="1cda7-149">[**IAMVideoAcceleratorNotify::GetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getuncompsurfacesinfo),</span></span>
> -   <span data-ttu-id="1cda7-150">[**IAMVideoAcceleratorNotify:: SetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-setuncompsurfacesinfo)e</span><span class="sxs-lookup"><span data-stu-id="1cda7-150">[**IAMVideoAcceleratorNotify::SetUncompSurfacesInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-setuncompsurfacesinfo), and</span></span>
> -   <span data-ttu-id="1cda7-151">[**IAMVideoAcceleratorNotify:: GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata).</span><span class="sxs-lookup"><span data-stu-id="1cda7-151">[**IAMVideoAcceleratorNotify::GetCreateVideoAcceleratorData**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoacceleratornotify-getcreatevideoacceleratordata).</span></span>

 

> [!Note]  
> <span data-ttu-id="1cda7-152">Para dar suporte a alterações de formato dinâmico, o decodificador também pode chamar [**IPin:: ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) e outros métodos por acima enquanto os filtros estão conectados e em execução.</span><span class="sxs-lookup"><span data-stu-id="1cda7-152">To support dynamic format changes, the decoder may also call [**IPin::ReceiveConnection**](/windows/desktop/api/Strmif/nf-strmif-ipin-receiveconnection) and other methods per above while the filters are connected and running.</span></span> <span data-ttu-id="1cda7-153">Esse recurso é fornecido para dar suporte a alterações de formato dinâmico (embora não esteja no H. 263, o anexo P, Sense-como todos os conjuntos de dados são iniciados novamente do zero e todas as informações de imagem de referência são, portanto, perdidas).</span><span class="sxs-lookup"><span data-stu-id="1cda7-153">This capability is provided in order to support dynamic format changes (although not in the H.263, Annex P, sense - as all data sets are started up again from scratch and any reference picture information is therefore lost).</span></span>

 

<span data-ttu-id="1cda7-154">Veja a seguir uma descrição do uso do [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) durante a operação após a inicialização:</span><span class="sxs-lookup"><span data-stu-id="1cda7-154">The following is a description of [**IAMVideoAccelerator**](/previous-versions/windows/desktop/api/videoacc/nn-videoacc-iamvideoaccelerator) use during operation after initialization:</span></span>

1.  <span data-ttu-id="1cda7-155">Para cada superfície descompactada, o decodificador chama [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) para iniciar o processamento para criar a imagem de saída.</span><span class="sxs-lookup"><span data-stu-id="1cda7-155">For each uncompressed surface, the decoder calls [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) to begin the processing to create the output picture.</span></span> <span data-ttu-id="1cda7-156">Quando ele faz isso, o decodificador envia uma estrutura [**AMVABeginFrameInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabeginframeinfo) .</span><span class="sxs-lookup"><span data-stu-id="1cda7-156">When it does this, the decoder sends an [**AMVABeginFrameInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabeginframeinfo) structure.</span></span>
    -   <span data-ttu-id="1cda7-157">A estrutura [**AMVABeginFrameInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabeginframeinfo) contém um índice para um buffer de destino, um ponteiro para alguns dados para enviar downstream e um ponteiro para um local onde o acelerador pode colocar alguns dados para o decodificador ler.</span><span class="sxs-lookup"><span data-stu-id="1cda7-157">The [**AMVABeginFrameInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabeginframeinfo) structure contains an index for a destination buffer, a pointer to some data to send downstream, and a pointer to a place where the accelerator can put some data for the decoder to read.</span></span>
    -   <span data-ttu-id="1cda7-158">Observação 1: o acelerador não recebe realmente o índice de buffer de destino, pois ele é convertido pelo renderizador antes de passar pelo downstream.</span><span class="sxs-lookup"><span data-stu-id="1cda7-158">NOTE 1: The accelerator does not actually receive the destination buffer index, as it is translated by the renderer before going downstream.</span></span>
    -   <span data-ttu-id="1cda7-159">Observação 2: [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) pode ser chamado mais de uma vez entre as chamadas para [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe).</span><span class="sxs-lookup"><span data-stu-id="1cda7-159">NOTE 2: [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) can be called more than once between calls to [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe).</span></span>
    -   <span data-ttu-id="1cda7-160">Observação 3: não há nenhuma suposição na operação de interface que [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) e [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) precisa ser chamada para o processamento de cada imagem individual no fragmentado.</span><span class="sxs-lookup"><span data-stu-id="1cda7-160">NOTE 3: There is no assumption within the interface operation that [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) and [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) need to be called for the processing of every individual picture in the bitstream.</span></span>

        <span data-ttu-id="1cda7-161">O que [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) faz, no que diz respeito à interface, é criar uma associação dentro do renderizador entre um índice e uma superfície não compactada.</span><span class="sxs-lookup"><span data-stu-id="1cda7-161">What [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) does, as far as the interface is concerned, is create an association within the renderer between an index and an uncompressed surface.</span></span> <span data-ttu-id="1cda7-162">Ele também fornece um meio para chamar uma função específica em um driver de dispositivo (com suporte de um meio de passar dados arbitrários entre o decodificador e o driver de dispositivo).</span><span class="sxs-lookup"><span data-stu-id="1cda7-162">It also provides a means to call a specific function in a device driver (with support of a means of passing arbitrary data back and forth between the decoder and the device driver).</span></span>

        <span data-ttu-id="1cda7-163">(No entanto, na operação DirectX VA, há um requisito descrito abaixo que [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) e [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) precisam ser chamados para o processamento de cada imagem individual na fragmentado.)</span><span class="sxs-lookup"><span data-stu-id="1cda7-163">(However, in DirectX VA operation there is a requirement described below that [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) and [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) do need to be called for the processing of every individual picture in the bitstream.)</span></span>

2.  <span data-ttu-id="1cda7-164">Para enviar dados descompactados para o acelerador, o decodificador chama:</span><span class="sxs-lookup"><span data-stu-id="1cda7-164">For sending uncompressed data to the accelerator, the decoder calls:</span></span>
    -   <span data-ttu-id="1cda7-165">[**IAMVideoAccelerator:: QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) para determinar se um buffer é seguro para leitura ou gravação.</span><span class="sxs-lookup"><span data-stu-id="1cda7-165">[**IAMVideoAccelerator::QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) to determine whether a buffer is safe for reading from or writing to.</span></span>
    -   <span data-ttu-id="1cda7-166">[**IAMVideoAccelerator:: GetBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getbuffer) para bloquear e obter acesso a um buffer especificado (se ele não tiver chamado anteriormente para obter esse acesso).</span><span class="sxs-lookup"><span data-stu-id="1cda7-166">[**IAMVideoAccelerator::GetBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getbuffer) to lock and obtain access to a specified buffer (if it has not previously called this to get that access).</span></span> <span data-ttu-id="1cda7-167">**GetBuffer** também pode ser usado para obter uma cópia do conteúdo da última imagem de saída não compactada para a qual [**IAMVideoAccelerator:: BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) foi chamado, fornecendo [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) não foi chamado para esse índice de buffer de destino.</span><span class="sxs-lookup"><span data-stu-id="1cda7-167">**GetBuffer** can also be used to get a copy of the contents of the last uncompressed output picture for which [**IAMVideoAccelerator::BeginFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-beginframe) was called, providing [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) has not been called for that destination buffer index.</span></span> <span data-ttu-id="1cda7-168">Se a DDI retornar um status de renderização de DDERR \_ WASSTILLDRAWING para o buffer solicitado, um loop de suspensão será operado no **GetBuffer** até que essa condição seja apagada.</span><span class="sxs-lookup"><span data-stu-id="1cda7-168">If the DDI returns a render status of DDERR\_WASSTILLDRAWING for the requested buffer, a sleep loop will be operated within **GetBuffer** until this condition is cleared.</span></span> <span data-ttu-id="1cda7-169">Para chamar **GetBuffer**, o decodificador precisará de algumas informações de uma estrutura de dados do [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) que é obtida chamando [**IAMVideoAccelerator:: GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo).</span><span class="sxs-lookup"><span data-stu-id="1cda7-169">In order to call **GetBuffer**, the decoder will need some information from an [**AMVACompBufferInfo**](/previous-versions/windows/desktop/api/amva/ns-amva-amvacompbufferinfo) data structure which is obtained by calling [**IAMVideoAccelerator::GetCompBufferInfo**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getcompbufferinfo).</span></span>
    -   <span data-ttu-id="1cda7-170">[**IAMVideoAccelerator:: execute**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) para indicar que os dados em um conjunto de buffers compactados, conforme indicado em uma matriz de estruturas de dados [**AMVABUFFERINFO**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabufferinfo) devem ser processados.</span><span class="sxs-lookup"><span data-stu-id="1cda7-170">[**IAMVideoAccelerator::Execute**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) to indicate that the data in a set of compressed buffers as indicated in an array of [**AMVABUFFERINFO**](/previous-versions/windows/desktop/api/amva/ns-amva-amvabufferinfo) data structures should be processed.</span></span> <span data-ttu-id="1cda7-171">Um código de função dwFunction é passado para o driver nesta chamada.</span><span class="sxs-lookup"><span data-stu-id="1cda7-171">A function code dwFunction is passed to the driver in this call.</span></span> <span data-ttu-id="1cda7-172">Um ponteiro lpPrivateInputData também é passado para alguns dados para enviar downstream, e um ponteiro lpPrivateOutputData é passado para um local onde o processo downstream pode colocar alguns dados para que o decodificador seja lido.</span><span class="sxs-lookup"><span data-stu-id="1cda7-172">A lpPrivateInputData pointer is also passed to some data to send downstream, and a lpPrivateOutputData pointer is passed to a place where the downstream process can put some data for the decoder to read.</span></span>
    -   <span data-ttu-id="1cda7-173">[**IAMVideoAccelerator:: ReleaseBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-releasebuffer) para indicar que o decodificador concluiu o uso de um buffer especificado para o momento e não precisa mais de acesso bloqueado ao buffer.</span><span class="sxs-lookup"><span data-stu-id="1cda7-173">[**IAMVideoAccelerator::ReleaseBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-releasebuffer) to indicate that the decoder has completed use of a specified buffer for the moment and no longer needs locked access to the buffer.</span></span> <span data-ttu-id="1cda7-174">(Se o decodificador quiser continuar a usar o buffer, ele poderá simplesmente não chamar **IAMVideoAccelerator:: ReleaseBuffer** por enquanto, evitando a necessidade de chamar [**IAMVideoAccelerator:: GetBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getbuffer) até que realmente pretenda não usar mais o buffer.) O decodificador não deve gravar no buffer após a [**execução**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) ser chamada até que [**QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) indique que o buffer é seguro para gravação.</span><span class="sxs-lookup"><span data-stu-id="1cda7-174">(If the decoder wishes to continue to use the buffer, it can simply not call **IAMVideoAccelerator::ReleaseBuffer** for the moment, thus avoiding the need to call [**IAMVideoAccelerator::GetBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-getbuffer) until it really intends to not use the buffer anymore.) The decoder should not write into the buffer after [**Execute**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-execute) is called until [**QueryRenderStatus**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-queryrenderstatus) indicates that the buffer is safe for writing.</span></span>
3.  <span data-ttu-id="1cda7-175">Para concluir o processamento de saída para um buffer de destino, o decodificador chama [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe).</span><span class="sxs-lookup"><span data-stu-id="1cda7-175">To complete output processing for a destination buffer, the decoder calls [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe).</span></span> <span data-ttu-id="1cda7-176">Ele pode passar alguns dados arbitrários downstream com essa chamada, e isso é essencialmente tudo o que acontece como resultado dessa chamada.</span><span class="sxs-lookup"><span data-stu-id="1cda7-176">It can pass some arbitrary data downstream with this call, and that's essentially all that happens as a result of this call.</span></span> <span data-ttu-id="1cda7-177">Ele não envia um índice de buffer de destino nessa chamada, portanto, não pode indicar ao acelerador precisamente qual buffer de destino é concluído, a menos que essa indicação esteja contida nos dados arbitrários que são passados.</span><span class="sxs-lookup"><span data-stu-id="1cda7-177">It doesn't send a destination buffer index in this call, so it can't indicate to the accelerator precisely what destination buffer is completed unless this indication is contained in the arbitrary data that is passed.</span></span>
4.  <span data-ttu-id="1cda7-178">Para exibir um quadro, o decodificador chama [**IAMVideoAccelerator::D isplayframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-displayframe) com o índice do quadro a ser exibido e uma estrutura [**IMediaSample**](/windows/desktop/api/Strmif/nn-strmif-imediasample) que contém carimbos de data e hora de início e parada e sinalizadores relevantes, como **dwTypeSpecificFlags** na estrutura de [**\_ \_ Propriedades SAMPLE2 am**](/windows/win32/api/strmif/ns-strmif-am_sample2_properties) e **dwInterlaceFlags** na estrutura [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) .</span><span class="sxs-lookup"><span data-stu-id="1cda7-178">To display a frame, the decoder calls [**IAMVideoAccelerator::DisplayFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-displayframe) with the index of the frame to display and a [**IMediaSample**](/windows/desktop/api/Strmif/nn-strmif-imediasample) structure containing start and stop time stamps and relevant flags such as **dwTypeSpecificFlags** in the [**AM\_SAMPLE2\_PROPERTIES**](/windows/win32/api/strmif/ns-strmif-am_sample2_properties) structure, and **dwInterlaceFlags** in the [**VIDEOINFOHEADER2**](/previous-versions/windows/desktop/api/dvdmedia/ns-dvdmedia-videoinfoheader2) structure.</span></span> <span data-ttu-id="1cda7-179">O decodificador deve verificar se todas as operações de descompactação que afetam o conteúdo do quadro foram concluídas antes de chamar **DisplayFrame**.</span><span class="sxs-lookup"><span data-stu-id="1cda7-179">The decoder must verify that all decompression operations that affect the content of the frame have completed before calling **DisplayFrame**.</span></span>
5.  <span data-ttu-id="1cda7-180">Por fim, o decodificador deve, após a conclusão de todo o processamento, indicar a conclusão de todos os quadros de saída de início restantes chamando [**IAMVideoAccelerator:: endframe**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) e liberar todos os seus buffers bloqueados chamando [**IAMVideoAccelerator:: ReleaseBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-releasebuffer) para cada buffer não liberado.</span><span class="sxs-lookup"><span data-stu-id="1cda7-180">Finally, the decoder should, upon completion of all processing, indicate completion of all remaining begun output frames by calling [**IAMVideoAccelerator::EndFrame**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-endframe) and release all of its locked buffers by calling [**IAMVideoAccelerator::ReleaseBuffer**](/previous-versions/windows/desktop/api/videoacc/nf-videoacc-iamvideoaccelerator-releasebuffer) for each unreleased buffer.</span></span>

## <a name="related-topics"></a><span data-ttu-id="1cda7-181">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="1cda7-181">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="1cda7-182">Interfaces e especificações do decodificador</span><span class="sxs-lookup"><span data-stu-id="1cda7-182">Decoder Interfaces and Specifications</span></span>](decoder-interfaces-and-specifications.md)
</dt> </dl>

 

 



