---
description: Configurando os Pins de saída do Demux
ms.assetid: c53f3fe6-5588-4faf-ba5c-6a6cf7e16f3a
title: Configurando os Pins de saída do Demux
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b56a24af3f49f26efe4ff6afad075a3cef61fcd1
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104087723"
---
# <a name="configuring-the-demux-output-pins"></a><span data-ttu-id="c8f19-103">Configurando os Pins de saída do Demux</span><span class="sxs-lookup"><span data-stu-id="c8f19-103">Configuring the Demux Output Pins</span></span>

<span data-ttu-id="c8f19-104">Quando o Demux MPEG-2 recebe um pacote de dados, ele deve determinar qual pino de saída deve analisar e entregar os dados.</span><span class="sxs-lookup"><span data-stu-id="c8f19-104">When the MPEG-2 demux receives a packet of data, it must determine which output pin should parse and deliver the data.</span></span> <span data-ttu-id="c8f19-105">No modo de fluxo do programa, o Demux mapeia as IDs de fluxo para os Pins de saída.</span><span class="sxs-lookup"><span data-stu-id="c8f19-105">In program stream mode, the demux maps stream IDs to output pins.</span></span> <span data-ttu-id="c8f19-106">No modo de fluxo de transporte, ele mapeia PIDs para Pins de saída.</span><span class="sxs-lookup"><span data-stu-id="c8f19-106">In transport stream mode, it maps PIDs to output pins.</span></span> <span data-ttu-id="c8f19-107">Por exemplo, no modo de fluxo de transporte, se PID 0x31 for mapeado para o pino 0, todos os pacotes TS com esse número PID serão roteados para o pino de saída 0.</span><span class="sxs-lookup"><span data-stu-id="c8f19-107">For example, in transport stream mode, if PID 0x31 is mapped to pin 0, then every TS packet with that PID number is routed to output pin 0.</span></span> <span data-ttu-id="c8f19-108">Se o Demux receber um pacote cuja ID de fluxo ou PID não esteja mapeado para nenhum pino de saída, ele simplesmente descartará o pacote.</span><span class="sxs-lookup"><span data-stu-id="c8f19-108">If the demux receives a packet whose stream ID or PID is not mapped to any output pin, it simply discards the packet.</span></span>

<span data-ttu-id="c8f19-109">No modo de pull, o Demux cria automaticamente os Pins de saída para os fluxos de áudio e vídeo no arquivo e mapeia as IDs de fluxo para os Pins.</span><span class="sxs-lookup"><span data-stu-id="c8f19-109">In pull mode, the demux automatically creates output pins for the audio and video streams in the file, and maps the stream IDs to the pins.</span></span>

<span data-ttu-id="c8f19-110">No modo de push, os Pins de saída devem ser configurados pelo aplicativo ou por outro filtro.</span><span class="sxs-lookup"><span data-stu-id="c8f19-110">In push mode, the output pins must be configured by the application or by another filter.</span></span> <span data-ttu-id="c8f19-111">Para fontes de televisão digital que usam a arquitetura de driver de difusão (BDA), o filtro do provedor de rede funciona com o filtro TIF para configurar o Demux.</span><span class="sxs-lookup"><span data-stu-id="c8f19-111">For digital television sources using the Broadcast Driver Architecture (BDA), the network provider filter works with the TIF filter to configure the demux.</span></span> <span data-ttu-id="c8f19-112">O aplicativo não precisa fazer nada.</span><span class="sxs-lookup"><span data-stu-id="c8f19-112">The application does not have to do anything.</span></span> <span data-ttu-id="c8f19-113">Em outros cenários, o aplicativo deve configurar os Pins de saída.</span><span class="sxs-lookup"><span data-stu-id="c8f19-113">In other scenarios, the application must configure the output pins.</span></span>

<span data-ttu-id="c8f19-114">O Demux começa sem nenhum pino de saída.</span><span class="sxs-lookup"><span data-stu-id="c8f19-114">The demux starts with no output pins.</span></span> <span data-ttu-id="c8f19-115">Para criar um PIN de saída, chame o método [**IMpeg2Demultiplexer:: CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) no filtro.</span><span class="sxs-lookup"><span data-stu-id="c8f19-115">To create an output pin, call the [**IMpeg2Demultiplexer::CreateOutputPin**](/windows/desktop/api/Strmif/nf-strmif-impeg2demultiplexer-createoutputpin) method on the filter.</span></span> <span data-ttu-id="c8f19-116">Esse método usa um tipo de mídia e um nome de PIN e retorna um ponteiro **IPin** .</span><span class="sxs-lookup"><span data-stu-id="c8f19-116">This method takes a media type and a pin name, and returns an **IPin** pointer.</span></span> <span data-ttu-id="c8f19-117">O tipo de mídia é usado quando o PIN se conecta a outro filtro, normalmente um decodificador — um exemplo recebe a seção [usando o demux com fluxos elementares](using-the-demux-with-elementary-streams.md).</span><span class="sxs-lookup"><span data-stu-id="c8f19-117">The media type is used when the pin connects to another filter, typically a decoder—an example is given the section [Using the Demux with Elementary Streams](using-the-demux-with-elementary-streams.md).</span></span> <span data-ttu-id="c8f19-118">O nome do PIN pode ser qualquer coisa que você desejar, exceto que nomes de PIN duplicados não são permitidos.</span><span class="sxs-lookup"><span data-stu-id="c8f19-118">The pin name can be anything you like, except that duplicate pin names are not allowed.</span></span>

<span data-ttu-id="c8f19-119">Em seguida, atribua um ou mais IDs de fluxo ou PIDs ao novo pino de saída.</span><span class="sxs-lookup"><span data-stu-id="c8f19-119">Next, assign one or more stream IDs or PIDs to the new output pin.</span></span> <span data-ttu-id="c8f19-120">Para fluxos de programa, consulte o PIN para **IMPEG2StreamIdMap** e chame [**IMPEG2StreamIdMap:: MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span><span class="sxs-lookup"><span data-stu-id="c8f19-120">For program streams, query the pin for **IMPEG2StreamIdMap** and call [**IMPEG2StreamIdMap::MapStreamId**](/windows/desktop/api/Strmif/nf-strmif-impeg2streamidmap-mapstreamid).</span></span> <span data-ttu-id="c8f19-121">Para fluxos de transporte, consulte o PIN para **IMPEG2PIDMap** e chame [**IMPEG2PIDMap:: MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span><span class="sxs-lookup"><span data-stu-id="c8f19-121">For transport streams, query the pin for **IMPEG2PIDMap** and call [**IMPEG2PIDMap::MapPID**](/previous-versions/windows/desktop/api/Bdaiface/nf-bdaiface-impeg2pidmap-mappid).</span></span>

<span data-ttu-id="c8f19-122">Há várias maneiras pelas quais o Demux pode analisar pacotes TS.</span><span class="sxs-lookup"><span data-stu-id="c8f19-122">There are several ways that the demux can parse TS packets.</span></span> <span data-ttu-id="c8f19-123">Para cada pino de saída, o método de análise é determinado pelo parâmetro *MediaSampleContent* para o método **MapPID** .</span><span class="sxs-lookup"><span data-stu-id="c8f19-123">For each output pin, the parsing method is determined by the *MediaSampleContent* parameter to the **MapPID** method.</span></span>



| <span data-ttu-id="c8f19-124">Valor</span><span class="sxs-lookup"><span data-stu-id="c8f19-124">Value</span></span>                     | <span data-ttu-id="c8f19-125">Descrição</span><span class="sxs-lookup"><span data-stu-id="c8f19-125">Description</span></span>                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c8f19-126">\_fluxo elementar mídia \_</span><span class="sxs-lookup"><span data-stu-id="c8f19-126">MEDIA\_ELEMENTARY\_STREAM</span></span> | <span data-ttu-id="c8f19-127">O filtro fornece cargas de PES.</span><span class="sxs-lookup"><span data-stu-id="c8f19-127">The filter delivers PES payloads.</span></span> <span data-ttu-id="c8f19-128">Nesse modo, o filtro depacketizes os pacotes PES, de modo que o filtro downstream recebe o fluxo de ES, sem os cabeçalhos de pacote PES.</span><span class="sxs-lookup"><span data-stu-id="c8f19-128">In this mode, the filter depacketizes the PES packets, so the downstream filter receives the ES byte stream, without the PES packet headers.</span></span> <span data-ttu-id="c8f19-129">(Somente fluxos de áudio e vídeo.)</span><span class="sxs-lookup"><span data-stu-id="c8f19-129">(Audio and video streams only.)</span></span>                                                                                                                                                     |
| <span data-ttu-id="c8f19-130">MPEG2 de mídia \_ \_ psi</span><span class="sxs-lookup"><span data-stu-id="c8f19-130">MEDIA\_MPEG2\_PSI</span></span>         | <span data-ttu-id="c8f19-131">O filtro fornece as seções PSI completas, como as tabelas PAT, as tabelas PGTO, as tabelas CAT e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="c8f19-131">The filter delivers complete PSI sections, such as PAT tables, PMT tables, CAT tables, and so forth.</span></span>                                                                                                                                                                                                                                                               |
| <span data-ttu-id="c8f19-132">\_carga de transporte de mídia \_</span><span class="sxs-lookup"><span data-stu-id="c8f19-132">MEDIA\_TRANSPORT\_PAYLOAD</span></span> | <span data-ttu-id="c8f19-133">O filtro extrai as cargas dos pacotes TS e as entrega sem análise adicional.</span><span class="sxs-lookup"><span data-stu-id="c8f19-133">The filter extracts the payloads from the TS packets and delivers them without further parsing.</span></span> <span data-ttu-id="c8f19-134">Para fluxos elementares, isso significa que o Demux fornecerá pacotes PES inteiros, incluindo os cabeçalhos de pacote PES.</span><span class="sxs-lookup"><span data-stu-id="c8f19-134">For elementary streams, this means the demux will deliver entire PES packets, including the PES packet headers.</span></span>                                                                                                                                                    |
| <span data-ttu-id="c8f19-135">\_pacote de transporte de mídia \_</span><span class="sxs-lookup"><span data-stu-id="c8f19-135">MEDIA\_TRANSPORT\_PACKET</span></span>  | <span data-ttu-id="c8f19-136">O filtro fornece pacotes TS inteiros.</span><span class="sxs-lookup"><span data-stu-id="c8f19-136">The filter delivers entire TS packets.</span></span> <span data-ttu-id="c8f19-137">O Demux roteia os pacotes TS de acordo com seus PIDs, mas não examina nem processa os pacotes.</span><span class="sxs-lookup"><span data-stu-id="c8f19-137">The demux routes the TS packets according to their PIDs, but does not otherwise examine or process the packets.</span></span> <span data-ttu-id="c8f19-138">Os pacotes com erros não são filtrados. O Demux não remultiplexa os pacotes e o fluxo de saída resultante não é um fluxo de transporte MPEG-2 em conformidade.</span><span class="sxs-lookup"><span data-stu-id="c8f19-138">Packets with errors are not filtered out. The demux does not re-multiplex the packets, and the resulting output stream is not a compliant MPEG-2 transport stream.</span></span> <span data-ttu-id="c8f19-139">Esse modo é chamado de modo de *passagem* .</span><span class="sxs-lookup"><span data-stu-id="c8f19-139">This mode is called *pass through* mode.</span></span> |



 

<span data-ttu-id="c8f19-140">Para fluxos de programa, o Demux sempre entrega cargas PES.</span><span class="sxs-lookup"><span data-stu-id="c8f19-140">For program streams, the demux always delivers PES payloads.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c8f19-141">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c8f19-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c8f19-142">Usando o demultiplexador MPEG-2</span><span class="sxs-lookup"><span data-stu-id="c8f19-142">Using the MPEG-2 Demultiplexer</span></span>](using-the-mpeg-2-demultiplexer.md)
</dt> </dl>

 

 



