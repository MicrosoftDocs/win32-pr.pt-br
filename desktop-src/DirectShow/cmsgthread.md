---
description: A classe CMsgThread é uma classe de thread de trabalho que enfileira solicitações para o thread de enfileiramento para conclusão assíncrona.
ms.assetid: 57e50abf-c90d-4c8f-afd8-25f29b6a0376
title: Classe CMsgThread
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CMsgThread
api_type:
- COM
api_location: ''
ms.openlocfilehash: 307b24e1563fe0545ee6f9405f9fb53e1b6d61b7
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "103646162"
---
# <a name="cmsgthread-class"></a><span data-ttu-id="63fd4-103">Classe CMsgThread</span><span class="sxs-lookup"><span data-stu-id="63fd4-103">CMsgThread class</span></span>

<span data-ttu-id="63fd4-104">A `CMsgThread` classe é uma classe de thread de trabalho que enfileira solicitações para o thread de enfileiramento para conclusão assíncrona.</span><span class="sxs-lookup"><span data-stu-id="63fd4-104">The `CMsgThread` class is a worker-thread class that queues requests to the queuing thread for completion asynchronously.</span></span> <span data-ttu-id="63fd4-105">Para usar essa classe, derive sua classe a partir dela e substitua a função membro [**CMsgThread:: ThreadMessageProc**](cmsgthread-threadmessageproc.md) .</span><span class="sxs-lookup"><span data-stu-id="63fd4-105">To use this class, derive your class from it and override the [**CMsgThread::ThreadMessageProc**](cmsgthread-threadmessageproc.md) member function.</span></span> <span data-ttu-id="63fd4-106">A função membro **ThreadMessageProc** executa cada solicitação.</span><span class="sxs-lookup"><span data-stu-id="63fd4-106">The **ThreadMessageProc** member function carries out each request.</span></span> <span data-ttu-id="63fd4-107">As funções de cliente e a função de membro **ThreadMessageProc** devem compartilhar uma definição comum dos parâmetros no objeto [**CMsg**](cmsg.md) .</span><span class="sxs-lookup"><span data-stu-id="63fd4-107">Your client functions and the **ThreadMessageProc** member function must share a common definition of the parameters in the [**CMsg**](cmsg.md) object.</span></span>

<span data-ttu-id="63fd4-108">Um mecanismo negociado informa o thread de trabalho para sair.</span><span class="sxs-lookup"><span data-stu-id="63fd4-108">A negotiated mechanism tells the worker thread to exit.</span></span> <span data-ttu-id="63fd4-109">Normalmente, esse será um valor do código de mensagem **uMsg** da classe [**CMsg**](cmsg.md) .</span><span class="sxs-lookup"><span data-stu-id="63fd4-109">Typically, this will be one value of the [**CMsg**](cmsg.md) class's **uMsg** message code.</span></span>

<span data-ttu-id="63fd4-110">É uma boa ideia enviar essa mensagem do destruidor de sua classe derivada e chamar a função de membro [**CMsgThread:: WaitForThreadExit**](cmsgthread-waitforthreadexit.md) antes de concluir a destruição da classe derivada.</span><span class="sxs-lookup"><span data-stu-id="63fd4-110">It is a good idea to send this message from the destructor of your derived class, and call the [**CMsgThread::WaitForThreadExit**](cmsgthread-waitforthreadexit.md) member function before completing the destruction of the derived class.</span></span>



| <span data-ttu-id="63fd4-111">Membros de Dados Protegidos</span><span class="sxs-lookup"><span data-stu-id="63fd4-111">Protected Data Members</span></span>                                    | <span data-ttu-id="63fd4-112">Descrição</span><span class="sxs-lookup"><span data-stu-id="63fd4-112">Description</span></span>                                                                                                                           |
|-----------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="63fd4-113">\_hSem m</span><span class="sxs-lookup"><span data-stu-id="63fd4-113">m\_hSem</span></span>                                                   | <span data-ttu-id="63fd4-114">Indica um identificador usado para sinalização.</span><span class="sxs-lookup"><span data-stu-id="63fd4-114">Indicates a handle used for signaling.</span></span>                                                                                                |
| <span data-ttu-id="63fd4-115">bloqueio de m \_</span><span class="sxs-lookup"><span data-stu-id="63fd4-115">m\_Lock</span></span>                                                   | <span data-ttu-id="63fd4-116">Protege o acesso a listas.</span><span class="sxs-lookup"><span data-stu-id="63fd4-116">Protects access to lists.</span></span>                                                                                                             |
| <span data-ttu-id="63fd4-117">\_lWaiting m</span><span class="sxs-lookup"><span data-stu-id="63fd4-117">m\_lWaiting</span></span>                                               | <span data-ttu-id="63fd4-118">Indica aguardar um thread gratuito.</span><span class="sxs-lookup"><span data-stu-id="63fd4-118">Indicates waiting for a free thread.</span></span>                                                                                                  |
| <span data-ttu-id="63fd4-119">\_ThreadQueue m</span><span class="sxs-lookup"><span data-stu-id="63fd4-119">m\_ThreadQueue</span></span>                                            | <span data-ttu-id="63fd4-120">Substitui a função de membro [**CMsgThread:: GetThreadMsg**](cmsgthread-getthreadmsg.md) e os blocos em coisas diferentes dessa fila.</span><span class="sxs-lookup"><span data-stu-id="63fd4-120">Overrides the [**CMsgThread::GetThreadMsg**](cmsgthread-getthreadmsg.md) member function and blocks on things other than this queue.</span></span> |
| <span data-ttu-id="63fd4-121">Funções de membro</span><span class="sxs-lookup"><span data-stu-id="63fd4-121">Member Functions</span></span>                                          | <span data-ttu-id="63fd4-122">Descrição</span><span class="sxs-lookup"><span data-stu-id="63fd4-122">Description</span></span>                                                                                                                           |
| [<span data-ttu-id="63fd4-123">**CMsgThread**</span><span class="sxs-lookup"><span data-stu-id="63fd4-123">**CMsgThread**</span></span>](cmsgthread-cmsgthread.md)               | <span data-ttu-id="63fd4-124">Constrói um objeto **CMsgThread** .</span><span class="sxs-lookup"><span data-stu-id="63fd4-124">Constructs a **CMsgThread** object.</span></span>                                                                                                   |
| [<span data-ttu-id="63fd4-125">**CreateThread**</span><span class="sxs-lookup"><span data-stu-id="63fd4-125">**CreateThread**</span></span>](cmsgthread-createthread.md)           | <span data-ttu-id="63fd4-126">Cria um thread.</span><span class="sxs-lookup"><span data-stu-id="63fd4-126">Creates a thread.</span></span>                                                                                                                     |
| [<span data-ttu-id="63fd4-127">**GetThreadHandle**</span><span class="sxs-lookup"><span data-stu-id="63fd4-127">**GetThreadHandle**</span></span>](cmsgthread-getthreadhandle.md)     | <span data-ttu-id="63fd4-128">Recupera o identificador de thread.</span><span class="sxs-lookup"><span data-stu-id="63fd4-128">Retrieves the thread handle.</span></span>                                                                                                          |
| [<span data-ttu-id="63fd4-129">**GetThreadId**</span><span class="sxs-lookup"><span data-stu-id="63fd4-129">**GetThreadID**</span></span>](cmsgthread-getthreadid.md)             | <span data-ttu-id="63fd4-130">Recupera o identificador do thread.</span><span class="sxs-lookup"><span data-stu-id="63fd4-130">Retrieves the identifier of the thread.</span></span>                                                                                               |
| [<span data-ttu-id="63fd4-131">**GetThreadPriority**</span><span class="sxs-lookup"><span data-stu-id="63fd4-131">**GetThreadPriority**</span></span>](cmsgthread-getthreadpriority.md) | <span data-ttu-id="63fd4-132">Recupera a prioridade de thread atual.</span><span class="sxs-lookup"><span data-stu-id="63fd4-132">Retrieves the current thread priority.</span></span>                                                                                                |
| [<span data-ttu-id="63fd4-133">**PutThreadMsg**</span><span class="sxs-lookup"><span data-stu-id="63fd4-133">**PutThreadMsg**</span></span>](cmsgthread-putthreadmsg.md)           | <span data-ttu-id="63fd4-134">Enfileira uma solicitação de execução pelo thread de trabalho.</span><span class="sxs-lookup"><span data-stu-id="63fd4-134">Queues a request for execution by the worker thread.</span></span>                                                                                  |
| [<span data-ttu-id="63fd4-135">**ResumeThread**</span><span class="sxs-lookup"><span data-stu-id="63fd4-135">**ResumeThread**</span></span>](cmsgthread-resumethread.md)           | <span data-ttu-id="63fd4-136">Continua a operação do thread de trabalho.</span><span class="sxs-lookup"><span data-stu-id="63fd4-136">Continues the operation of the worker thread.</span></span>                                                                                         |
| [<span data-ttu-id="63fd4-137">**SetThreadPriority**</span><span class="sxs-lookup"><span data-stu-id="63fd4-137">**SetThreadPriority**</span></span>](cmsgthread-setthreadpriority.md) | <span data-ttu-id="63fd4-138">Define a prioridade do thread para um novo valor.</span><span class="sxs-lookup"><span data-stu-id="63fd4-138">Sets the priority of the thread to a new value.</span></span>                                                                                       |
| [<span data-ttu-id="63fd4-139">**SuspendThread**</span><span class="sxs-lookup"><span data-stu-id="63fd4-139">**SuspendThread**</span></span>](cmsgthread-suspendthread.md)         | <span data-ttu-id="63fd4-140">Suspende a operação de um thread em execução.</span><span class="sxs-lookup"><span data-stu-id="63fd4-140">Suspends the operation of a running thread.</span></span>                                                                                           |
| [<span data-ttu-id="63fd4-141">**WaitForThreadExit**</span><span class="sxs-lookup"><span data-stu-id="63fd4-141">**WaitForThreadExit**</span></span>](cmsgthread-waitforthreadexit.md) | <span data-ttu-id="63fd4-142">Bloqueia até que o thread seja encerrado após uma chamada para a função de membro [**CMsgThread:: SuspendThread**](cmsgthread-suspendthread.md) .</span><span class="sxs-lookup"><span data-stu-id="63fd4-142">Blocks until the thread has exited after a call to the [**CMsgThread::SuspendThread**](cmsgthread-suspendthread.md) member function.</span></span> |
| <span data-ttu-id="63fd4-143">Funções de membro substituíveis</span><span class="sxs-lookup"><span data-stu-id="63fd4-143">Overridable Member Functions</span></span>                              | <span data-ttu-id="63fd4-144">Descrição</span><span class="sxs-lookup"><span data-stu-id="63fd4-144">Description</span></span>                                                                                                                           |
| [<span data-ttu-id="63fd4-145">**GetThreadMsg**</span><span class="sxs-lookup"><span data-stu-id="63fd4-145">**GetThreadMsg**</span></span>](cmsgthread-getthreadmsg.md)           | <span data-ttu-id="63fd4-146">Recupera um objeto [**CMsg**](cmsg.md) enfileirado que contém uma solicitação.</span><span class="sxs-lookup"><span data-stu-id="63fd4-146">Retrieves a queued [**CMsg**](cmsg.md) object containing a request.</span></span>                                                                  |
| [<span data-ttu-id="63fd4-147">**OnThreadInit**</span><span class="sxs-lookup"><span data-stu-id="63fd4-147">**OnThreadInit**</span></span>](cmsgthread-onthreadinit.md)           | <span data-ttu-id="63fd4-148">Fornece inicialização em um thread.</span><span class="sxs-lookup"><span data-stu-id="63fd4-148">Provides initialization on a thread.</span></span>                                                                                                  |
| [<span data-ttu-id="63fd4-149">**ThreadMessageProc**</span><span class="sxs-lookup"><span data-stu-id="63fd4-149">**ThreadMessageProc**</span></span>](cmsgthread-threadmessageproc.md) | <span data-ttu-id="63fd4-150">Processa solicitações.</span><span class="sxs-lookup"><span data-stu-id="63fd4-150">Processes requests.</span></span> <span data-ttu-id="63fd4-151">Essa é uma função de membro virtual pura.</span><span class="sxs-lookup"><span data-stu-id="63fd4-151">This is a pure virtual member function.</span></span>                                                                           |



 

 

 



