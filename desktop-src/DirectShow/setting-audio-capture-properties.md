---
description: Definindo propriedades de captura de áudio
ms.assetid: 81400072-91d7-4db4-86d3-d072663e691f
title: Definindo propriedades de captura de áudio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 31afe61d4641906391934bafe4c3acb8a911a9fe
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104163680"
---
# <a name="setting-audio-capture-properties"></a><span data-ttu-id="e1536-103">Definindo propriedades de captura de áudio</span><span class="sxs-lookup"><span data-stu-id="e1536-103">Setting Audio Capture Properties</span></span>

<span data-ttu-id="e1536-104">Cada pino de entrada no filtro de captura de áudio expõe a interface [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) .</span><span class="sxs-lookup"><span data-stu-id="e1536-104">Each input pin on the Audio Capture Filter exposes the [**IAMAudioInputMixer**](/windows/desktop/api/Strmif/nn-strmif-iamaudioinputmixer) interface.</span></span> <span data-ttu-id="e1536-105">Use essa interface para habilitar ou desabilitar uma entrada específica, chamando o método [**IAMAudioInputMixer::p UT \_ Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) no PIN.</span><span class="sxs-lookup"><span data-stu-id="e1536-105">Use this interface to enable or disable a particular input, by calling the [**IAMAudioInputMixer::put\_Enable**](/windows/desktop/api/Strmif/nf-strmif-iamaudioinputmixer-put_enable) method on the pin.</span></span> <span data-ttu-id="e1536-106">Além disso, use essa interface para definir as propriedades de uma entrada, como os níveis de baixo, agudos e volume.</span><span class="sxs-lookup"><span data-stu-id="e1536-106">Also use this interface to set properties of an input, such as the bass, treble, and volume levels.</span></span> <span data-ttu-id="e1536-107">Se você estiver capturando várias entradas de uma só vez, poderá controlar os níveis gerais de baixo, agudo e volume por meio da interface **IAMAudioInputMixer** no próprio filtro.</span><span class="sxs-lookup"><span data-stu-id="e1536-107">If you are capturing multiple inputs at once, you can control the overall bass, treble, and volume levels through the **IAMAudioInputMixer** interface on the filter itself.</span></span>

<span data-ttu-id="e1536-108">As taxas de amostragem e os formatos de áudio disponíveis para captura são determinados pelo driver.</span><span class="sxs-lookup"><span data-stu-id="e1536-108">The available sampling rates and audio formats for capture are determined by the driver.</span></span> <span data-ttu-id="e1536-109">Use a interface [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) no pino de saída do filtro de captura de áudio para enumerar as taxas e os formatos de amostragem disponíveis e defina o formato desejado.</span><span class="sxs-lookup"><span data-stu-id="e1536-109">Use the [**IAMStreamConfig**](/windows/desktop/api/Strmif/nn-strmif-iamstreamconfig) interface on the Audio Capture Filter's output pin to enumerate the available sampling rates and formats and set the desired format.</span></span> <span data-ttu-id="e1536-110">O filtro pode conectar downstream a qualquer filtro que aceite o tipo de mídia do pino de saída.</span><span class="sxs-lookup"><span data-stu-id="e1536-110">The filter can connect downstream to any filter that accepts the output pin's media type.</span></span>

<span data-ttu-id="e1536-111">O filtro de captura de áudio também expõe a interface [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) .</span><span class="sxs-lookup"><span data-stu-id="e1536-111">The Audio Capture Filter also exposes the [**IAMBufferNegotiation**](/windows/desktop/api/Strmif/nn-strmif-iambuffernegotiation) interface.</span></span> <span data-ttu-id="e1536-112">Essa interface é útil para controlar a quantidade de latência na visualização de áudio.</span><span class="sxs-lookup"><span data-stu-id="e1536-112">This interface is useful for controlling the amount of latency in audio preview.</span></span> <span data-ttu-id="e1536-113">Por padrão, o filtro de captura de áudio usa um tamanho de buffer de meio segundo.</span><span class="sxs-lookup"><span data-stu-id="e1536-113">By default, the Audio Capture filter uses a half-second buffer size.</span></span> <span data-ttu-id="e1536-114">Esse tamanho de buffer é ideal para a captura, mas causa um atraso de visualização de meio segundo.</span><span class="sxs-lookup"><span data-stu-id="e1536-114">This buffer size is optimal for capturing but causes a half-second preview delay.</span></span> <span data-ttu-id="e1536-115">Para reduzir a latência, chame o método [**IAMBufferNegotiation:: SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) antes de conectar o pino de saída do filtro de captura de áudio.</span><span class="sxs-lookup"><span data-stu-id="e1536-115">To reduce the latency, call the [**IAMBufferNegotiation::SuggestAllocatorProperties**](/windows/desktop/api/Strmif/nf-strmif-iambuffernegotiation-suggestallocatorproperties) method before you connect the Audio Capture Filter's output pin.</span></span> <span data-ttu-id="e1536-116">Esse método usa um ponteiro para a estrutura de [**\_ Propriedades do alocador**](/windows/win32/api/strmif/ns-strmif-allocator_properties) .</span><span class="sxs-lookup"><span data-stu-id="e1536-116">This method takes a pointer to the [**ALLOCATOR\_PROPERTIES**](/windows/win32/api/strmif/ns-strmif-allocator_properties) structure.</span></span> <span data-ttu-id="e1536-117">Use o membro **cbBuffer** para especificar o tamanho do buffer, em bytes.</span><span class="sxs-lookup"><span data-stu-id="e1536-117">Use the **cbBuffer** member to specify the buffer size, in bytes.</span></span> <span data-ttu-id="e1536-118">Um buffer de 80 milissegundos é geralmente seguro, mas buffers de 30 ou 40 milissegundos podem ser suficientes.</span><span class="sxs-lookup"><span data-stu-id="e1536-118">An 80 millisecond buffer is generally safe, but buffers of 30 or 40 milliseconds might be sufficient.</span></span> <span data-ttu-id="e1536-119">Se os buffers forem muito pequenos, a qualidade do som será degradada.</span><span class="sxs-lookup"><span data-stu-id="e1536-119">If the buffers are too small, the sound quality will be degraded.</span></span>

 

 



