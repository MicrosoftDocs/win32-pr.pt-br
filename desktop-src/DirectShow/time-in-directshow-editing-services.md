---
description: Tempo nos serviços de edição do DirectShow
ms.assetid: 4e8cc766-97f3-45d5-9c4a-5cd6e9ad9c09
title: Tempo nos serviços de edição do DirectShow
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 421831742a2805f58d61c2258dad89d339131f58
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105812810"
---
# <a name="time-in-directshow-editing-services"></a><span data-ttu-id="c29d3-103">Tempo nos serviços de edição do DirectShow</span><span class="sxs-lookup"><span data-stu-id="c29d3-103">Time in DirectShow Editing Services</span></span>

<span data-ttu-id="c29d3-104">\[Essa API não tem suporte e pode ser alterada ou não estar disponível no futuro.\]</span><span class="sxs-lookup"><span data-stu-id="c29d3-104">\[This API is not supported and may be altered or unavailable in the future.\]</span></span>

<span data-ttu-id="c29d3-105">Para editar o vídeo, você deve trabalhar com alguns conceitos de tempo importantes.</span><span class="sxs-lookup"><span data-stu-id="c29d3-105">To edit video, you must work with some important timing concepts.</span></span> <span data-ttu-id="c29d3-106">Por exemplo:</span><span class="sxs-lookup"><span data-stu-id="c29d3-106">For example:</span></span>

-   <span data-ttu-id="c29d3-107">Cada clipe tem uma duração.</span><span class="sxs-lookup"><span data-stu-id="c29d3-107">Each clip has a duration.</span></span>
-   <span data-ttu-id="c29d3-108">Os clipes, as transições e os efeitos aparecem em determinados momentos em um projeto.</span><span class="sxs-lookup"><span data-stu-id="c29d3-108">Clips, transitions, and effects appear at certain times in a project.</span></span>
-   <span data-ttu-id="c29d3-109">O vídeo tem uma taxa de quadros, expressa em quadros por segundo (FPS).</span><span class="sxs-lookup"><span data-stu-id="c29d3-109">Video has a frame rate, expressed in frames per second (fps).</span></span>

<span data-ttu-id="c29d3-110">Os [serviços de edição do DirectShow](directshow-editing-services.md) (des) fornecem vários métodos que definem ou recuperam horas e taxas de quadros.</span><span class="sxs-lookup"><span data-stu-id="c29d3-110">[DirectShow Editing Services](directshow-editing-services.md) (DES) provides various methods that set or retrieve times and frame rates.</span></span> <span data-ttu-id="c29d3-111">O significado desses valores depende do contexto.</span><span class="sxs-lookup"><span data-stu-id="c29d3-111">The meaning of these values depends on the context.</span></span>

<span data-ttu-id="c29d3-112">**Valores de tempo**</span><span class="sxs-lookup"><span data-stu-id="c29d3-112">**Time Values**</span></span>

<span data-ttu-id="c29d3-113">Quando um parâmetro expressa uma hora, três significados distintos são possíveis:</span><span class="sxs-lookup"><span data-stu-id="c29d3-113">When a parameter expresses a time, three distinct meanings are possible:</span></span>

-   <span data-ttu-id="c29d3-114">*Tempo da linha do* tempo: a hora relativa ao início da linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-114">*Timeline time*: The time relative to the beginning of the timeline.</span></span> <span data-ttu-id="c29d3-115">Por exemplo, um clipe pode começar com 2 segundos na linha do tempo ou uma transição pode ocorrer 15 segundos na linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-115">For example, a clip might start 2 seconds into the timeline, or a transition might occur 15 seconds into the timeline.</span></span> <span data-ttu-id="c29d3-116">A linha do tempo determina o projeto final renderizado, para que você também possa considerar a hora da linha do tempo como "hora do projeto".</span><span class="sxs-lookup"><span data-stu-id="c29d3-116">The timeline determines the final rendered project, so you can also think of timeline time as "project time."</span></span>
-   <span data-ttu-id="c29d3-117">*Hora da mídia*: um ponto em um arquivo de origem relativo ao início do arquivo, conforme atingido durante a reprodução normal.</span><span class="sxs-lookup"><span data-stu-id="c29d3-117">*Media time*: A point in a source file relative to the start of the file, as reached during normal playback.</span></span> <span data-ttu-id="c29d3-118">Por exemplo, se você tiver um arquivo de vídeo de 10 segundos, o ponto que percorrerá o arquivo ocorrerá em 5 minutos, expresso como um tempo de mídia.</span><span class="sxs-lookup"><span data-stu-id="c29d3-118">For example, if you have a 10-second video file, the point midway through the file occurs at 5 seconds, expressed as a media time.</span></span>
-   <span data-ttu-id="c29d3-119">*Hora do pai*: hora relativa a um objeto na linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-119">*Parent time*: Time relative to an object in the timeline.</span></span> <span data-ttu-id="c29d3-120">Por exemplo, se um objeto começa em 8 segundos na linha do tempo e contém outro objeto que começa em 10 segundos na linha do tempo, o objeto filho começa em 2 segundos em relação ao pai.</span><span class="sxs-lookup"><span data-stu-id="c29d3-120">For example, if an object starts at 8 seconds on the timeline and contains another object that starts at 10 seconds on the timeline, the child object starts at 2 seconds relative to the parent.</span></span> <span data-ttu-id="c29d3-121">Todas as faixas virtuais começam no tempo zero, em relação à linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-121">Virtual tracks all start at time zero, relative to the timeline.</span></span> <span data-ttu-id="c29d3-122">Portanto, para qualquer objeto em uma faixa virtual, a hora do pai é igual ao tempo da linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-122">So for any object in a virtual track, parent time equals timeline time.</span></span>

<span data-ttu-id="c29d3-123">O tempo de mídia aplica-se somente a objetos de origem.</span><span class="sxs-lookup"><span data-stu-id="c29d3-123">Media time applies only to source objects.</span></span> <span data-ttu-id="c29d3-124">Cada objeto de origem tem uma hora de início de mídia e uma hora de parada de mídia.</span><span class="sxs-lookup"><span data-stu-id="c29d3-124">Each source object has a media start time and a media stop time.</span></span> <span data-ttu-id="c29d3-125">Por exemplo, suponha que você tenha um clipe de vídeo de 10 segundos e deseje usar apenas 5 minutos do meio do clipe, cortando os primeiros 2 segundos e os últimos 3 segundos do clipe.</span><span class="sxs-lookup"><span data-stu-id="c29d3-125">For example, suppose you have a 10-second video clip, and you want to use only 5 seconds from the middle of the clip, trimming the first 2 seconds and the last 3 seconds from the clip.</span></span> <span data-ttu-id="c29d3-126">Se você quiser que o clipe apareça 20 segundos no projeto (e supondo uma taxa de reprodução normal), você deverá especificar os seguintes horários de início e de parada.</span><span class="sxs-lookup"><span data-stu-id="c29d3-126">If you want the clip to appear 20 seconds into the project (and assuming a normal playback rate) you would specify the following start and stop times.</span></span>

-   <span data-ttu-id="c29d3-127">Início da mídia: 2 segundos</span><span class="sxs-lookup"><span data-stu-id="c29d3-127">Media start: 2 seconds</span></span>
-   <span data-ttu-id="c29d3-128">Parada de mídia: 7 segundos</span><span class="sxs-lookup"><span data-stu-id="c29d3-128">Media stop: 7 seconds</span></span>
-   <span data-ttu-id="c29d3-129">Início da linha do tempo: 20 segundos</span><span class="sxs-lookup"><span data-stu-id="c29d3-129">Timeline start: 20 seconds</span></span>
-   <span data-ttu-id="c29d3-130">Linha do tempo parada: 25 segundos</span><span class="sxs-lookup"><span data-stu-id="c29d3-130">Timeline stop: 25 seconds</span></span>

    ![inserindo um clipe de origem em uma linha do tempo](images/des-time1.png)

<span data-ttu-id="c29d3-132">**Taxas de quadros**</span><span class="sxs-lookup"><span data-stu-id="c29d3-132">**Frame Rates**</span></span>

<span data-ttu-id="c29d3-133">A taxa de quadros é a "velocidade" de um fluxo de mídia, medida em quadros por segundo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-133">Frame rate is the "speed" of a media stream, measured in frames per second.</span></span> <span data-ttu-id="c29d3-134">Assim como ocorre com valores de hora, o significado de uma taxa de quadros depende do contexto:</span><span class="sxs-lookup"><span data-stu-id="c29d3-134">As with time values, the meaning of a frame rate depends on the context:</span></span>

-   <span data-ttu-id="c29d3-135">**Taxa de quadros de saída:** A taxa de quadros do projeto renderizado final, definida pelo grupo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-135">**Output frame rate:** The frame rate of the final rendered project, defined by the group.</span></span> <span data-ttu-id="c29d3-136">Quando você renderiza o projeto, cada grupo se torna um fluxo de mídia separado com sua própria taxa de quadros.</span><span class="sxs-lookup"><span data-stu-id="c29d3-136">When you render the project, each group becomes a separate media stream with its own frame rate.</span></span>
-   <span data-ttu-id="c29d3-137">**Taxa de quadros de origem:** A taxa de quadros na qual o arquivo de origem foi originalmente criado.</span><span class="sxs-lookup"><span data-stu-id="c29d3-137">**Source frame rate:** The frame rate in which the source file was originally authored.</span></span> <span data-ttu-id="c29d3-138">A taxa de quadros criados não precisa corresponder à taxa de quadros de saída do grupo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-138">The authored frame rate does not have to match the group's output frame rate.</span></span> <span data-ttu-id="c29d3-139">O DES fará automaticamente a amostragem ou a redução do arquivo conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="c29d3-139">DES will automatically upsample or downsample the file as needed.</span></span> <span data-ttu-id="c29d3-140">Para a maioria dos formatos de mídia, o DES pode determinar a taxa de quadros examinando o formato.</span><span class="sxs-lookup"><span data-stu-id="c29d3-140">For most media formats, DES can determine the frame rate by examining the format.</span></span> <span data-ttu-id="c29d3-141">Uma sequência DIB é uma exceção; Você deve especificar a taxa de quadros de uma sequência DIB.</span><span class="sxs-lookup"><span data-stu-id="c29d3-141">A DIB sequence is an exception; you must specify the frame rate of a DIB sequence.</span></span> <span data-ttu-id="c29d3-142">(Para obter mais informações, consulte [trabalhando com fontes](working-with-sources.md).)</span><span class="sxs-lookup"><span data-stu-id="c29d3-142">(For more information, see [Working with Sources](working-with-sources.md).)</span></span>

<span data-ttu-id="c29d3-143">**Taxa de reprodução:** A velocidade aparente de um clipe de origem quando ele aparece no projeto.</span><span class="sxs-lookup"><span data-stu-id="c29d3-143">**Playback rate:** The apparent speed of a source clip when it appears in the project.</span></span> <span data-ttu-id="c29d3-144">Por exemplo, 10 segundos de vídeo pode ser ajustado em 5 segundos na linha do tempo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-144">For example, 10 seconds' of video can be fit into 5 seconds on the timeline.</span></span> <span data-ttu-id="c29d3-145">Como resultado, a velocidade do clipe aumenta em um fator de 2, como ilustra o diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="c29d3-145">As a result, the speed of the clip increases by a factor of 2, as the following diagram illustrates.</span></span>

![fazendo com que uma fonte seja executada mais rapidamente](images/des-time2.png)

<span data-ttu-id="c29d3-147">(Com uma fonte de áudio, a densidade mudaria também.) A fórmula a seguir determina a taxa de reprodução do clipe de origem:</span><span class="sxs-lookup"><span data-stu-id="c29d3-147">(With an audio source, the pitch would shift as well.) The following formula determines a source clip's playback rate:</span></span>

-   <span data-ttu-id="c29d3-148">Taxa de reprodução = (parada de mídia – início da mídia)/(linha do tempo Stop – início da linha do tempo)</span><span class="sxs-lookup"><span data-stu-id="c29d3-148">Playback rate = (Media Stop – Media Start) / (Timeline Stop – Timeline Start)</span></span>

<span data-ttu-id="c29d3-149">Observe que cada uma dessas três taxas é independente das outras:</span><span class="sxs-lookup"><span data-stu-id="c29d3-149">Note that each of these three rates is independent of the others:</span></span>

-   <span data-ttu-id="c29d3-150">Você pode acelerar ou reduzir um clipe ajustando os horários de mídia; Isso não afeta a taxa de quadros da saída final.</span><span class="sxs-lookup"><span data-stu-id="c29d3-150">You can speed up or slow down a clip by adjusting the media times; this does not affect the frame rate of the final output.</span></span>
-   <span data-ttu-id="c29d3-151">Você pode aumentar ou diminuir a taxa de quadros de saída sem afetar a velocidade de reprodução de um arquivo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-151">You can increase or decrease the output frame rate without affecting how fast a file plays.</span></span>
-   <span data-ttu-id="c29d3-152">Você pode misturar, dentro do mesmo grupo, arquivos de origem que têm taxas de quadros criadas diferentes, e o DES fará amostras ou reduzirá a resolução de cada clipe para corresponder à taxa de quadros do grupo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-152">You can mix, within the same group, source files that have different authored frame rates, and DES will upsample or downsample each clip to match the group's frame rate.</span></span>

<span data-ttu-id="c29d3-153">Quando você renderiza um projeto, todas as horas são arredondadas para o limite de quadro mais próximo, conforme determinado pela taxa de quadros do grupo.</span><span class="sxs-lookup"><span data-stu-id="c29d3-153">When you render a project, all times are rounded to the nearest frame boundary, as determined by the group frame rate.</span></span> <span data-ttu-id="c29d3-154">Por exemplo, suponha que um grupo de vídeos tenha uma taxa de quadros de 30 fps.</span><span class="sxs-lookup"><span data-stu-id="c29d3-154">For example, suppose a video group has a frame rate of 30 fps.</span></span> <span data-ttu-id="c29d3-155">Cada quadro tem aproximadamente 33 milissegundos (MS).</span><span class="sxs-lookup"><span data-stu-id="c29d3-155">Each frame is roughly 33 milliseconds (ms).</span></span> <span data-ttu-id="c29d3-156">Suponha que você adicione um clipe de origem de 1,68 segundos à linha do tempo, começando no tempo zero.</span><span class="sxs-lookup"><span data-stu-id="c29d3-156">Suppose you add a 1.68-second source clip to the timeline, starting at time zero.</span></span> <span data-ttu-id="c29d3-157">A origem não termina exatamente em um limite de quadro, portanto, o DES arredonda o tempo de parada para 1,6666 segundos (50 quadros).</span><span class="sxs-lookup"><span data-stu-id="c29d3-157">The source does not end exactly on a frame boundary, so DES rounds the stop time to 1.6666 seconds (50 frames).</span></span> <span data-ttu-id="c29d3-158">Se você buscar 1,68 segundos no projeto renderizado, você realmente buscará após o final da origem, para o quadro 51 º.</span><span class="sxs-lookup"><span data-stu-id="c29d3-158">If you seek to 1.68 seconds in the rendered project, you will actually seek past the end of the source, to the 51st frame.</span></span>

<span data-ttu-id="c29d3-159">No entanto, o DES não substitui a hora de parada da origem.</span><span class="sxs-lookup"><span data-stu-id="c29d3-159">However, DES does not overwrite the source's stop time.</span></span> <span data-ttu-id="c29d3-160">Posteriormente, você pode alterar a taxa de quadros do grupo ou mover a origem para um novo ponto na linha do tempo em que ele arredonda de forma diferente.</span><span class="sxs-lookup"><span data-stu-id="c29d3-160">You might later change the group frame rate, or move the source to a new spot in the timeline where it rounds differently.</span></span> <span data-ttu-id="c29d3-161">Portanto, o DES preserva a hora de parada original e arredonda somente quando necessário.</span><span class="sxs-lookup"><span data-stu-id="c29d3-161">Therefore, DES preserves the original stop time and rounds only when necessary.</span></span> <span data-ttu-id="c29d3-162">Para obter mais informações, consulte [**IAMTimelineObj:: FixTimes**](iamtimelineobj-fixtimes.md).</span><span class="sxs-lookup"><span data-stu-id="c29d3-162">For more information, see [**IAMTimelineObj::FixTimes**](iamtimelineobj-fixtimes.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="c29d3-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c29d3-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c29d3-164">Introdução com os serviços de edição do DirectShow</span><span class="sxs-lookup"><span data-stu-id="c29d3-164">Getting Started with DirectShow Editing Services</span></span>](getting-started-with-directshow-editing-services.md)
</dt> </dl>

 

 



