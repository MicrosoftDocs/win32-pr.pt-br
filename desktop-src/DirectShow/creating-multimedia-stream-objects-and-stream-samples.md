---
description: Criando objetos de fluxo de multimídia e amostras de fluxo
ms.assetid: 1aecdd39-f1b3-490b-b092-86d51439be02
title: Criando objetos de fluxo de multimídia e amostras de fluxo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 49cdc30129591bf1c67609ad6d15e8fd8286ae23
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/03/2021
ms.locfileid: "103930158"
---
# <a name="creating-multimedia-stream-objects-and-stream-samples"></a><span data-ttu-id="f30e1-103">Criando objetos de fluxo de multimídia e amostras de fluxo</span><span class="sxs-lookup"><span data-stu-id="f30e1-103">Creating Multimedia Stream Objects and Stream Samples</span></span>

> [!Note]  
> <span data-ttu-id="f30e1-104">Essas APIs são preteridas.</span><span class="sxs-lookup"><span data-stu-id="f30e1-104">These APIs are deprecated.</span></span> <span data-ttu-id="f30e1-105">Os aplicativos devem usar o filtro de [**apoio de exemplo**](sample-grabber-filter.md) ou implementar um filtro personalizado para obter dados de um grafo de filtro do DirectShow.</span><span class="sxs-lookup"><span data-stu-id="f30e1-105">Applications should use the [**Sample Grabber**](sample-grabber-filter.md) filter or implement a custom filter to get data from a DirectShow filter graph.</span></span>

 

<span data-ttu-id="f30e1-106">Os objetos que dão suporte à interface [**IMultiMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) são os contêineres básicos para fluxos de dados de multimídia.</span><span class="sxs-lookup"><span data-stu-id="f30e1-106">Objects that support the [**IMultiMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imultimediastream) interface are the basic containers for multimedia data streams.</span></span> <span data-ttu-id="f30e1-107">A interface **IMultiMediaStream** inclui métodos que enumeram os fluxos de dados do objeto; Normalmente, esses fluxos são dados de vídeo e áudio, mas podem incluir dados de qualquer formato, como legendas codificadas, texto sem formatação ou código de informa de SMPTE.</span><span class="sxs-lookup"><span data-stu-id="f30e1-107">The **IMultiMediaStream** interface includes methods that enumerate the object's data streams; these streams are typically video and audio data, but can include data of any format, such as closed-captioning, plain text, or SMPTE timecode.</span></span> <span data-ttu-id="f30e1-108">No entanto, a interface **IMultiMediaStream** é um contêiner genérico; os desenvolvedores podem criar outras versões da interface que dão suporte a formatos de dados específicos.</span><span class="sxs-lookup"><span data-stu-id="f30e1-108">The **IMultiMediaStream** interface is a generic container, however; developers can create other versions of the interface that support specific data formats.</span></span> <span data-ttu-id="f30e1-109">Os objetos que implementam a interface [**IAMMultiMediaStream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) , por exemplo, podem enumerar e controlar fluxos de qualquer formato de dados do DirectShow.</span><span class="sxs-lookup"><span data-stu-id="f30e1-109">Objects that implement the [**IAMMultiMediaStream**](/previous-versions/windows/desktop/api/amstream/nn-amstream-iammultimediastream) interface, for example, can enumerate and control streams of any DirectShow data format.</span></span> <span data-ttu-id="f30e1-110">Como os fluxos de dados individuais são de formato específico, eles dão suporte a pelo menos duas interfaces diferentes: uma genérica e uma específica de dados.</span><span class="sxs-lookup"><span data-stu-id="f30e1-110">Because individual data streams are format specific, they support at least two different interfaces: one generic and one data-specific.</span></span> <span data-ttu-id="f30e1-111">Cada fluxo dá suporte à interface [**IMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imediastream) , que fornece métodos para recuperar seu formato e um ponteiro para o fluxo em si.</span><span class="sxs-lookup"><span data-stu-id="f30e1-111">Every stream supports the [**IMediaStream**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-imediastream) interface, which provides methods to retrieve its format and a pointer to the stream itself.</span></span> <span data-ttu-id="f30e1-112">A interface [**IDirectDrawMediaStream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) , por outro lado, tem métodos que lidam especificamente com a renderização de dados de vídeo.</span><span class="sxs-lookup"><span data-stu-id="f30e1-112">The [**IDirectDrawMediaStream**](/previous-versions/windows/desktop/api/ddstream/nn-ddstream-idirectdrawmediastream) interface, on the other hand, has methods that deal specifically with rendering video data.</span></span> <span data-ttu-id="f30e1-113">Qualquer interface derivada de **IMultiMediaStream** também dá suporte à criação de amostras de fluxo, as unidades básicas de transmissão de dados.</span><span class="sxs-lookup"><span data-stu-id="f30e1-113">Any interface derived from **IMultiMediaStream** also supports the creation of stream samples, the basic units of streaming data.</span></span>

<span data-ttu-id="f30e1-114">Um exemplo de multimídia é uma referência a um objeto que contém os dados de mídia.</span><span class="sxs-lookup"><span data-stu-id="f30e1-114">A multimedia sample is a reference to an object containing the media data.</span></span> <span data-ttu-id="f30e1-115">Para uma imagem de vídeo, essa é uma superfície do DirectDraw.</span><span class="sxs-lookup"><span data-stu-id="f30e1-115">For a video image, this is a DirectDraw surface.</span></span> <span data-ttu-id="f30e1-116">O conteúdo exato do exemplo varia, dependendo do tipo de mídia (som, texto e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="f30e1-116">The sample's exact content varies, depending on the type of media (sound, text, and so on).</span></span> <span data-ttu-id="f30e1-117">Como um exemplo é apenas uma referência ao objeto de dados, qualquer número de amostras de fluxo pode se referir ao mesmo objeto.</span><span class="sxs-lookup"><span data-stu-id="f30e1-117">Because a sample is only a reference to the data object, any number of stream samples can refer to the same object.</span></span> <span data-ttu-id="f30e1-118">A interface [**IStreamSample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) fornece métodos que obtêm e definem as características de uma amostra, como a hora de início e de término, o status e a associação de fluxo.</span><span class="sxs-lookup"><span data-stu-id="f30e1-118">The [**IStreamSample**](/previous-versions/windows/desktop/api/mmstream/nn-mmstream-istreamsample) interface provides methods that get and set a sample's characteristics, such as its start and stop time, status, and stream association.</span></span> <span data-ttu-id="f30e1-119">O método [**IStreamSample:: Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) atualiza os dados do exemplo no caso de fluxos legíveis.</span><span class="sxs-lookup"><span data-stu-id="f30e1-119">The [**IStreamSample::Update**](/previous-versions/windows/desktop/api/mmstream/nf-mmstream-istreamsample-update) method refreshes the sample's data in the case of readable streams.</span></span> <span data-ttu-id="f30e1-120">Para fluxos graváveis, ele gravará os dados do exemplo no fluxo.</span><span class="sxs-lookup"><span data-stu-id="f30e1-120">For writable streams, it will write the sample's data to the stream.</span></span> <span data-ttu-id="f30e1-121">Normalmente, você usa o método **Update** em um loop que processa, transfere ou armazena dados de streaming.</span><span class="sxs-lookup"><span data-stu-id="f30e1-121">Typically, you use the **Update** method in a loop that renders, transfers, or stores streaming data.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f30e1-122">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f30e1-122">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f30e1-123">Sobre a arquitetura de streaming de multimídia</span><span class="sxs-lookup"><span data-stu-id="f30e1-123">About the Multimedia Streaming Architecture</span></span>](about-the-multimedia-streaming-architecture.md)
</dt> </dl>

 

 



