---
description: A classe CCmdQueue é uma classe base que fornece uma fila de objetos CDeferredCommand e funções de membro para adicionar, remover, verificar o status e invocar os comandos em fila.
ms.assetid: 6bd0f0f3-3c56-47d2-9fd8-e2863a2afa33
title: Classe CCmdQueue
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- CCmdQueue
api_type:
- COM
api_location: ''
ms.openlocfilehash: 78af7a975d54ba832bbdf1fb7f8027f87b747660
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104087354"
---
# <a name="ccmdqueue-class"></a><span data-ttu-id="876bc-103">Classe CCmdQueue</span><span class="sxs-lookup"><span data-stu-id="876bc-103">CCmdQueue class</span></span>

<span data-ttu-id="876bc-104">A `CCmdQueue` classe é uma classe base que fornece uma fila de objetos [**CDeferredCommand**](cdeferredcommand.md) e funções de membro para adicionar, remover, verificar o status e invocar os comandos em fila.</span><span class="sxs-lookup"><span data-stu-id="876bc-104">The `CCmdQueue` class is a base class that provides a queue of [**CDeferredCommand**](cdeferredcommand.md) objects and member functions to add, remove, check status, and invoke the queued commands.</span></span> <span data-ttu-id="876bc-105">Um `CCmdQueue` objeto é uma parte de um objeto que implementa os métodos [**IQueueCommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) .</span><span class="sxs-lookup"><span data-stu-id="876bc-105">A `CCmdQueue` object is a part of an object that implements [**IQueueCommand**](/windows/desktop/api/Control/nn-control-iqueuecommand) methods.</span></span> <span data-ttu-id="876bc-106">O Gerenciador de gráfico de filtro implementa métodos **IQueueCommand** para que os aplicativos possam enfileirar comandos para o grafo de filtro.</span><span class="sxs-lookup"><span data-stu-id="876bc-106">The filter graph manager implements **IQueueCommand** methods so that applications can queue commands to the filter graph.</span></span> <span data-ttu-id="876bc-107">Filtros que implementam a interface **IQueueCommand** diretamente usam essa classe.</span><span class="sxs-lookup"><span data-stu-id="876bc-107">Filters that implement the **IQueueCommand** interface directly use this class.</span></span> <span data-ttu-id="876bc-108">Se você quiser usar objetos **CDeferredCommand** , sua fila deverá ser derivada dessa classe.</span><span class="sxs-lookup"><span data-stu-id="876bc-108">If you want to use **CDeferredCommand** objects, your queue must be derived from this class.</span></span>

<span data-ttu-id="876bc-109">Há dois modos de sincronização: grande e preciso.</span><span class="sxs-lookup"><span data-stu-id="876bc-109">There are two modes of synchronization: coarse and accurate.</span></span> <span data-ttu-id="876bc-110">Em modo grosso, o aplicativo aguarda até que um tempo especificado chegue e, em seguida, execute o comando.</span><span class="sxs-lookup"><span data-stu-id="876bc-110">In coarse mode, the application waits until a specified time arrives and then executes the command.</span></span> <span data-ttu-id="876bc-111">Em modo preciso, o aplicativo aguarda até que o processamento comece no exemplo que aparece no momento e, em seguida, execute o comando.</span><span class="sxs-lookup"><span data-stu-id="876bc-111">In accurate mode, the application waits until processing begins on the sample that appears at the time, and then executes the command.</span></span> <span data-ttu-id="876bc-112">O filtro determina qual deles será implementado.</span><span class="sxs-lookup"><span data-stu-id="876bc-112">The filter determines which one it will implement.</span></span> <span data-ttu-id="876bc-113">O Gerenciador de gráfico de filtro sempre implementa o modo grosso para comandos que são enfileirados no Gerenciador de gráficos de filtro.</span><span class="sxs-lookup"><span data-stu-id="876bc-113">The filter graph manager always implements coarse mode for commands that are queued at the filter graph manager.</span></span>

<span data-ttu-id="876bc-114">Se você quiser uma sincronização grosseira, provavelmente desejará aguardar até que haja um comando devido e, em seguida, executá-lo.</span><span class="sxs-lookup"><span data-stu-id="876bc-114">If you want coarse synchronization, you probably want to wait until there is a command due, and then execute it.</span></span> <span data-ttu-id="876bc-115">Você pode fazer isso chamando [**CCmdQueue:: GetDueCommand**](ccmdqueue-getduecommand.md).</span><span class="sxs-lookup"><span data-stu-id="876bc-115">You can do this by calling [**CCmdQueue::GetDueCommand**](ccmdqueue-getduecommand.md).</span></span> <span data-ttu-id="876bc-116">Se você tiver várias coisas a aguardar, obtenha o identificador de evento de [**CCmdQueue:: GetDueHandle**](ccmdqueue-getduehandle.md) e, em seguida, chame **CCmdQueue:: GetDueCommand** quando isso for sinalizado.</span><span class="sxs-lookup"><span data-stu-id="876bc-116">If you have several things to wait for, get the event handle from [**CCmdQueue::GetDueHandle**](ccmdqueue-getduehandle.md) and then call **CCmdQueue::GetDueCommand** when this is signaled.</span></span> <span data-ttu-id="876bc-117">o [**tempo de transmissão**](stream-time.md) avançará apenas entre chamadas para as funções de membro [**CCmdQueue:: Run**](ccmdqueue-run.md) e [**CCmdQueue:: EndRun**](ccmdqueue-endrun.md) .</span><span class="sxs-lookup"><span data-stu-id="876bc-117">[**stream time**](stream-time.md) will advance only between calls to the [**CCmdQueue::Run**](ccmdqueue-run.md) and [**CCmdQueue::EndRun**](ccmdqueue-endrun.md) member functions.</span></span> <span data-ttu-id="876bc-118">Não há nenhuma garantia de que, se o identificador for definido, haverá um comando pronto.</span><span class="sxs-lookup"><span data-stu-id="876bc-118">There is no guarantee that if the handle is set, there will be a command ready.</span></span> <span data-ttu-id="876bc-119">Cada vez que o evento é sinalizado, chame a função de membro **GetDueCommand** (provavelmente com um tempo limite de zero); Isso pode retornar E \_ abortar se nenhum comando estiver pronto.</span><span class="sxs-lookup"><span data-stu-id="876bc-119">Each time the event is signaled, call the **GetDueCommand** member function (probably with a time-out of zero); this can return E\_ABORT if no command is ready.</span></span>

<span data-ttu-id="876bc-120">Se você quiser uma sincronização precisa, chame a função de membro [**CCmdQueue:: GetCommandDueFor**](ccmdqueue-getcommandduefor.md) e passe os exemplos que você está prestes a processar como um parâmetro.</span><span class="sxs-lookup"><span data-stu-id="876bc-120">If you want accurate synchronization, call the [**CCmdQueue::GetCommandDueFor**](ccmdqueue-getcommandduefor.md) member function and pass the samples you are about to process as a parameter.</span></span> <span data-ttu-id="876bc-121">Isso retorna o seguinte:</span><span class="sxs-lookup"><span data-stu-id="876bc-121">This returns the following:</span></span>

-   <span data-ttu-id="876bc-122">Um comando de tempo de fluxo devido à hora do fluxo ou antes dela.</span><span class="sxs-lookup"><span data-stu-id="876bc-122">A stream-time command due at or before that stream time.</span></span>
-   <span data-ttu-id="876bc-123">Um comando de tempo de apresentação devido à apresentação do horário do fluxo ou antes dela.</span><span class="sxs-lookup"><span data-stu-id="876bc-123">A presentation-time command due at or before the presentation of the stream time.</span></span> <span data-ttu-id="876bc-124">Faça isso somente entre as funções de membro [**CCmdQueue:: Run**](ccmdqueue-run.md) e [**CCmdQueue:: EndRun**](ccmdqueue-endrun.md) , porque fora disso, o mapeamento do tempo de transmissão para o tempo de apresentação não é conhecido.</span><span class="sxs-lookup"><span data-stu-id="876bc-124">Do this only between the [**CCmdQueue::Run**](ccmdqueue-run.md) and [**CCmdQueue::EndRun**](ccmdqueue-endrun.md) member functions, because outside of this, the mapping from stream time to presentation time is not known.</span></span>
-   <span data-ttu-id="876bc-125">Qualquer comando de tempo de apresentação devido ao momento.</span><span class="sxs-lookup"><span data-stu-id="876bc-125">Any presentation-time command due now.</span></span>

<span data-ttu-id="876bc-126">Se você quiser uma sincronização precisa para exemplos que possam ser processados durante o modo de pausa, você deve usar comandos de tempo de transmissão.</span><span class="sxs-lookup"><span data-stu-id="876bc-126">If you want accurate synchronization for samples that might be processed during paused mode, you must use stream-time commands.</span></span>

<span data-ttu-id="876bc-127">Em todos os casos, os comandos permanecem na fila até que sejam chamados ou cancelados.</span><span class="sxs-lookup"><span data-stu-id="876bc-127">In all cases, commands remain queued until called or canceled.</span></span> <span data-ttu-id="876bc-128">A configuração e a redefinição do identificador de eventos são totalmente gerenciadas por esse objeto de fila.</span><span class="sxs-lookup"><span data-stu-id="876bc-128">The setting and resetting of the event handle is managed entirely by this queue object.</span></span>



| <span data-ttu-id="876bc-129">Membros de Dados Protegidos</span><span class="sxs-lookup"><span data-stu-id="876bc-129">Protected Data Members</span></span>                                 | <span data-ttu-id="876bc-130">Descrição</span><span class="sxs-lookup"><span data-stu-id="876bc-130">Description</span></span>                                                                                            |
|--------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="876bc-131">\_bRunning m</span><span class="sxs-lookup"><span data-stu-id="876bc-131">m\_bRunning</span></span>                                            | <span data-ttu-id="876bc-132">Sinalizador para estado de execução; Defina **true** ao executar.</span><span class="sxs-lookup"><span data-stu-id="876bc-132">Flag for running state; set **TRUE** when running.</span></span>                                                     |
| <span data-ttu-id="876bc-133">\_dwAdvise m</span><span class="sxs-lookup"><span data-stu-id="876bc-133">m\_dwAdvise</span></span>                                            | <span data-ttu-id="876bc-134">Identificador de aviso do relógio de referência (zero se não houver aviso pendente).</span><span class="sxs-lookup"><span data-stu-id="876bc-134">Advise identifier from the reference clock (zero if no outstanding advise).</span></span>                            |
| <span data-ttu-id="876bc-135">\_evDue m</span><span class="sxs-lookup"><span data-stu-id="876bc-135">m\_evDue</span></span>                                               | <span data-ttu-id="876bc-136">Define a hora em que os comandos são devidos.</span><span class="sxs-lookup"><span data-stu-id="876bc-136">Sets the time when any commands are due.</span></span>                                                               |
| <span data-ttu-id="876bc-137">\_listPresentation m</span><span class="sxs-lookup"><span data-stu-id="876bc-137">m\_listPresentation</span></span>                                    | <span data-ttu-id="876bc-138">Armazena comandos enfileirados em tempo de apresentação.</span><span class="sxs-lookup"><span data-stu-id="876bc-138">Stores commands queued in presentation time.</span></span>                                                           |
| <span data-ttu-id="876bc-139">\_listStream m</span><span class="sxs-lookup"><span data-stu-id="876bc-139">m\_listStream</span></span>                                          | <span data-ttu-id="876bc-140">Armazena comandos enfileirados em tempo de transmissão.</span><span class="sxs-lookup"><span data-stu-id="876bc-140">Stores commands queued in stream time.</span></span>                                                                 |
| <span data-ttu-id="876bc-141">bloqueio de m \_</span><span class="sxs-lookup"><span data-stu-id="876bc-141">m\_Lock</span></span>                                                | <span data-ttu-id="876bc-142">Protege o acesso a listas.</span><span class="sxs-lookup"><span data-stu-id="876bc-142">Protects access to lists.</span></span>                                                                              |
| <span data-ttu-id="876bc-143">\_pClock m</span><span class="sxs-lookup"><span data-stu-id="876bc-143">m\_pClock</span></span>                                              | <span data-ttu-id="876bc-144">Relógio de referência atual.</span><span class="sxs-lookup"><span data-stu-id="876bc-144">Current reference clock.</span></span>                                                                               |
| <span data-ttu-id="876bc-145">\_StreamTimeOffset m</span><span class="sxs-lookup"><span data-stu-id="876bc-145">m\_StreamTimeOffset</span></span>                                    | <span data-ttu-id="876bc-146">Contém o deslocamento de tempo do fluxo quando **m \_ BRunning** é **verdadeiro**.</span><span class="sxs-lookup"><span data-stu-id="876bc-146">Contains the stream time offset when **m\_bRunning** is **TRUE**.</span></span>                                      |
| <span data-ttu-id="876bc-147">\_StreamTimeOffset m</span><span class="sxs-lookup"><span data-stu-id="876bc-147">m\_StreamTimeOffset</span></span>                                    | <span data-ttu-id="876bc-148">Contém o deslocamento de tempo do fluxo quando **m \_ BRunning** é **verdadeiro**.</span><span class="sxs-lookup"><span data-stu-id="876bc-148">Contains the stream time offset when **m\_bRunning** is **TRUE**.</span></span>                                      |
| <span data-ttu-id="876bc-149">Funções de membro</span><span class="sxs-lookup"><span data-stu-id="876bc-149">Member Functions</span></span>                                       | <span data-ttu-id="876bc-150">Descrição</span><span class="sxs-lookup"><span data-stu-id="876bc-150">Description</span></span>                                                                                            |
| [<span data-ttu-id="876bc-151">**CCmdQueue**</span><span class="sxs-lookup"><span data-stu-id="876bc-151">**CCmdQueue**</span></span>](ccmdqueue-ccmdqueue.md)               | <span data-ttu-id="876bc-152">Constrói um objeto **CCmdQueue** .</span><span class="sxs-lookup"><span data-stu-id="876bc-152">Constructs a **CCmdQueue** object.</span></span>                                                                     |
| [<span data-ttu-id="876bc-153">**Checktime**</span><span class="sxs-lookup"><span data-stu-id="876bc-153">**CheckTime**</span></span>](ccmdqueue-checktime.md)               | <span data-ttu-id="876bc-154">Determina se um determinado tempo é devido.</span><span class="sxs-lookup"><span data-stu-id="876bc-154">Determines if a given time is due.</span></span>                                                                     |
| [<span data-ttu-id="876bc-155">**GetDueHandle**</span><span class="sxs-lookup"><span data-stu-id="876bc-155">**GetDueHandle**</span></span>](ccmdqueue-getduehandle.md)         | <span data-ttu-id="876bc-156">Recupera o identificador de evento que será sinalizado.</span><span class="sxs-lookup"><span data-stu-id="876bc-156">Retrieves the event handle that will be signaled.</span></span>                                                      |
| <span data-ttu-id="876bc-157">Funções de membro substituíveis</span><span class="sxs-lookup"><span data-stu-id="876bc-157">Overridable Member Functions</span></span>                           | <span data-ttu-id="876bc-158">Descrição</span><span class="sxs-lookup"><span data-stu-id="876bc-158">Description</span></span>                                                                                            |
| [<span data-ttu-id="876bc-159">**EndRun**</span><span class="sxs-lookup"><span data-stu-id="876bc-159">**EndRun**</span></span>](ccmdqueue-endrun.md)                     | <span data-ttu-id="876bc-160">Alterna para o modo parado ou pausado.</span><span class="sxs-lookup"><span data-stu-id="876bc-160">Switches to stopped or paused mode.</span></span>                                                                    |
| [<span data-ttu-id="876bc-161">**GetCommandDueFor**</span><span class="sxs-lookup"><span data-stu-id="876bc-161">**GetCommandDueFor**</span></span>](ccmdqueue-getcommandduefor.md) | <span data-ttu-id="876bc-162">Recupera um comando adiado que está agendado em um horário especificado.</span><span class="sxs-lookup"><span data-stu-id="876bc-162">Retrieves a deferred command that is scheduled at a specified time.</span></span>                                    |
| [<span data-ttu-id="876bc-163">**GetDueCommand**</span><span class="sxs-lookup"><span data-stu-id="876bc-163">**GetDueCommand**</span></span>](ccmdqueue-getduecommand.md)       | <span data-ttu-id="876bc-164">Recupera um ponteiro para o próximo comando que está vencido.</span><span class="sxs-lookup"><span data-stu-id="876bc-164">Retrieves a pointer to the next command that is due.</span></span>                                                   |
| [<span data-ttu-id="876bc-165">**Inserido**</span><span class="sxs-lookup"><span data-stu-id="876bc-165">**Insert**</span></span>](ccmdqueue-insert.md)                     | <span data-ttu-id="876bc-166">Adiciona o objeto [**CDeferredCommand**](cdeferredcommand.md) à fila.</span><span class="sxs-lookup"><span data-stu-id="876bc-166">Adds the [**CDeferredCommand**](cdeferredcommand.md) object to the queue.</span></span>                             |
| [<span data-ttu-id="876bc-167">**Novo**</span><span class="sxs-lookup"><span data-stu-id="876bc-167">**New**</span></span>](ccmdqueue-new.md)                           | <span data-ttu-id="876bc-168">Inicializa um comando a ser executado e retorna um novo objeto [**CDeferredCommand**](cdeferredcommand.md) .</span><span class="sxs-lookup"><span data-stu-id="876bc-168">Initializes a command to be run and returns a new [**CDeferredCommand**](cdeferredcommand.md) object.</span></span> |
| [<span data-ttu-id="876bc-169">**Remover**</span><span class="sxs-lookup"><span data-stu-id="876bc-169">**Remove**</span></span>](ccmdqueue-remove.md)                     | <span data-ttu-id="876bc-170">Remove o objeto [**CDeferredCommand**](cdeferredcommand.md) da fila.</span><span class="sxs-lookup"><span data-stu-id="876bc-170">Removes the [**CDeferredCommand**](cdeferredcommand.md) object from the queue.</span></span>                        |
| [<span data-ttu-id="876bc-171">**Funcionam**</span><span class="sxs-lookup"><span data-stu-id="876bc-171">**Run**</span></span>](ccmdqueue-run.md)                           | <span data-ttu-id="876bc-172">Alterna para o modo de execução.</span><span class="sxs-lookup"><span data-stu-id="876bc-172">Switches to running mode.</span></span>                                                                              |
| [<span data-ttu-id="876bc-173">**Setsynce**</span><span class="sxs-lookup"><span data-stu-id="876bc-173">**SetSyncSource**</span></span>](ccmdqueue-setsyncsource.md)       | <span data-ttu-id="876bc-174">Define o relógio usado para o tempo.</span><span class="sxs-lookup"><span data-stu-id="876bc-174">Sets the clock used for timing.</span></span>                                                                        |
| [<span data-ttu-id="876bc-175">**SetTimeAdvise**</span><span class="sxs-lookup"><span data-stu-id="876bc-175">**SetTimeAdvise**</span></span>](ccmdqueue-settimeadvise.md)       | <span data-ttu-id="876bc-176">Configura um evento de temporizador com o relógio de referência.</span><span class="sxs-lookup"><span data-stu-id="876bc-176">Sets up a timer event with the reference clock.</span></span>                                                        |



 

 

 



