---
description: A CNG tem os seguintes recursos.
ms.assetid: 400a2b6e-6bbe-4ba4-abde-a2f625007517
title: Recursos da CNG
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df40606a255adc90bd36540571979c1c34579611
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105750766"
---
# <a name="cng-features"></a><span data-ttu-id="29902-103">Recursos da CNG</span><span class="sxs-lookup"><span data-stu-id="29902-103">CNG Features</span></span>

<span data-ttu-id="29902-104">A CNG tem os seguintes recursos.</span><span class="sxs-lookup"><span data-stu-id="29902-104">CNG has the following features.</span></span>

-   [<span data-ttu-id="29902-105">Agilidade criptográfica</span><span class="sxs-lookup"><span data-stu-id="29902-105">Cryptographic Agility</span></span>](#cryptographic-agility)
-   [<span data-ttu-id="29902-106">Certificação e conformidade</span><span class="sxs-lookup"><span data-stu-id="29902-106">Certification and Compliance</span></span>](#certification-and-compliance)
-   [<span data-ttu-id="29902-107">Suporte a Suite B</span><span class="sxs-lookup"><span data-stu-id="29902-107">Suite B Support</span></span>](#suite-b-support)
-   [<span data-ttu-id="29902-108">Suporte herdado</span><span class="sxs-lookup"><span data-stu-id="29902-108">Legacy Support</span></span>](#legacy-support)
-   [<span data-ttu-id="29902-109">Suporte ao modo kernel</span><span class="sxs-lookup"><span data-stu-id="29902-109">Kernel Mode Support</span></span>](#kernel-mode-support)
-   [<span data-ttu-id="29902-110">Auditoria</span><span class="sxs-lookup"><span data-stu-id="29902-110">Auditing</span></span>](#auditing)
-   [<span data-ttu-id="29902-111">Geradores de números aleatórios substituíveis</span><span class="sxs-lookup"><span data-stu-id="29902-111">Replaceable Random Number Generators</span></span>](#replaceable-random-number-generators)
-   [<span data-ttu-id="29902-112">Acesso thread-safe</span><span class="sxs-lookup"><span data-stu-id="29902-112">Thread Safety</span></span>](#thread-safety)
-   [<span data-ttu-id="29902-113">Modo de operação</span><span class="sxs-lookup"><span data-stu-id="29902-113">Mode of Operation</span></span>](#mode-of-operation)

## <a name="cryptographic-agility"></a><span data-ttu-id="29902-114">Agilidade criptográfica</span><span class="sxs-lookup"><span data-stu-id="29902-114">Cryptographic Agility</span></span>

<span data-ttu-id="29902-115">Uma das principais proposições de valor da CNG é a agilidade criptográfica, às vezes chamada de independente de criptografia.</span><span class="sxs-lookup"><span data-stu-id="29902-115">One of the key value propositions of CNG is cryptographic agility, sometimes called cryptographic agnosticism.</span></span> <span data-ttu-id="29902-116">No entanto, a conversão de implementação de protocolos como [*protocolo de protocolo SSL*](/windows/desktop/SecGloss/s-gly) (SSL) ou TLS (segurança de [*camada de transporte*](/windows/desktop/SecGloss/t-gly) ), CMS (S/MIME), IPsec, Kerberos e assim por diante, foi necessária para tornar essa capacidade valiosa.</span><span class="sxs-lookup"><span data-stu-id="29902-116">Converting implementation of protocols like [*Secure Sockets Layer protocol*](/windows/desktop/SecGloss/s-gly) (SSL) or [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), CMS (S/MIME), IPsec, Kerberos, and so on, to CNG, however, was required to make this ability valuable.</span></span> <span data-ttu-id="29902-117">No nível da CNG, era necessário fornecer substituição e descoberta para todos os tipos de algoritmos (funções simétricas, assimétricas, de hash), geração de números aleatórios e outras funções de utilitário.</span><span class="sxs-lookup"><span data-stu-id="29902-117">At the CNG level, it was necessary to provide substitution and discoverability for all the algorithm types (symmetric, asymmetric, hash functions), random number generation, and other utility functions.</span></span> <span data-ttu-id="29902-118">As alterações no nível de protocolo são mais significativas porque, em muitos casos, as APIs de protocolo precisavam adicionar a seleção de algoritmos e outras opções de flexibilidade que não existiam anteriormente.</span><span class="sxs-lookup"><span data-stu-id="29902-118">The protocol-level changes are more significant because in many cases the protocol APIs needed to add algorithm selection and other flexibility options that did not previously exist.</span></span>

<span data-ttu-id="29902-119">A CNG está disponível primeiro no Windows Vista e está posicionada para substituir os usos existentes de [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) em toda a pilha de software da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="29902-119">CNG is first available in Windows Vista and is positioned to replace existing uses of [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) throughout the Microsoft software stack.</span></span> <span data-ttu-id="29902-120">Os desenvolvedores de terceiros encontrarão muitos recursos novos na CNG, incluindo:</span><span class="sxs-lookup"><span data-stu-id="29902-120">Third-party developers will find lots of new features in CNG, including:</span></span>

-   <span data-ttu-id="29902-121">Um novo sistema de configuração de criptografia, dando suporte à melhor agilidade de criptografia.</span><span class="sxs-lookup"><span data-stu-id="29902-121">A new crypto configuration system, supporting better cryptographic agility.</span></span>
-   <span data-ttu-id="29902-122">Abstração mais refinada para armazenamento de chaves (e separação de armazenamento de operações de algoritmos).</span><span class="sxs-lookup"><span data-stu-id="29902-122">Finer-grained abstraction for key storage (and separation of storage from algorithm operations).</span></span>
-   <span data-ttu-id="29902-123">Isolamento de processo para operações com chaves de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="29902-123">Process isolation for operations with long-term keys.</span></span>
-   <span data-ttu-id="29902-124">Geradores de números aleatórios substituíveis.</span><span class="sxs-lookup"><span data-stu-id="29902-124">Replaceable random number generators.</span></span>
-   <span data-ttu-id="29902-125">Alívio da exportação de restrições de assinatura.</span><span class="sxs-lookup"><span data-stu-id="29902-125">Relief from export signing restrictions.</span></span>
-   <span data-ttu-id="29902-126">Segurança de thread em toda a pilha.</span><span class="sxs-lookup"><span data-stu-id="29902-126">Thread-safety throughout the stack.</span></span>
-   <span data-ttu-id="29902-127">API criptográfica do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-127">Kernel-mode cryptographic API.</span></span>

<span data-ttu-id="29902-128">Além disso, a CNG inclui suporte para todos os algoritmos de Suite B necessários, incluindo o ECC ( [*criptografia de curva elíptica*](/windows/desktop/SecGloss/e-gly) ).</span><span class="sxs-lookup"><span data-stu-id="29902-128">In addition, CNG includes support for all required Suite B algorithms, including [*elliptic curve cryptography*](/windows/desktop/SecGloss/e-gly) (ECC).</span></span> <span data-ttu-id="29902-129">Os aplicativos CryptoAPI existentes continuarão funcionando conforme a CNG se tornar disponível.</span><span class="sxs-lookup"><span data-stu-id="29902-129">Existing CryptoAPI applications will continue to work as CNG becomes available.</span></span>

## <a name="certification-and-compliance"></a><span data-ttu-id="29902-130">Certificação e conformidade</span><span class="sxs-lookup"><span data-stu-id="29902-130">Certification and Compliance</span></span>

<span data-ttu-id="29902-131">A CNG é validada para o FIPS 140-2 (Federal Information Processing Standards) e faz parte do destino da avaliação para a certificação de critérios comuns do Windows.</span><span class="sxs-lookup"><span data-stu-id="29902-131">CNG is validated to Federal Information Processing Standards (FIPS) 140-2 and is part of the Target of Evaluation for the Windows Common Criteria certification.</span></span> <span data-ttu-id="29902-132">A CNG foi projetada para ser utilizável como um componente em um sistema validado pelo FIPS nível 2.</span><span class="sxs-lookup"><span data-stu-id="29902-132">CNG was designed to be usable as a component in a FIPS level 2 validated system.</span></span>

<span data-ttu-id="29902-133">A CNG está em conformidade com os requisitos de critérios comuns por meio do armazenamento e uso de chaves de vida longa em um processo seguro.</span><span class="sxs-lookup"><span data-stu-id="29902-133">CNG complies with Common Criteria requirements by storing and using long lived keys in a secure process.</span></span>

## <a name="suite-b-support"></a><span data-ttu-id="29902-134">Suporte a Suite B</span><span class="sxs-lookup"><span data-stu-id="29902-134">Suite B Support</span></span>

<span data-ttu-id="29902-135">Um recurso importante da CNG é seu suporte para os algoritmos de Suite B.</span><span class="sxs-lookup"><span data-stu-id="29902-135">An important feature of CNG is its support for the Suite B algorithms.</span></span> <span data-ttu-id="29902-136">Em fevereiro de 2005, a NSA (Agência de segurança nacional) do Estados Unidos anunciou um conjunto coordenado de criptografia simétrica, contrato de segredo simétrico (também conhecido como troca de chaves), assinatura digital e funções de hash para uso futuro do governo dos EUA chamados *Suite B*. A NSA anunciou que as implementações de Suite B certificadas podem e serão usadas para proteção de informações designadas como principais segredos, segredos e informações privadas que, no passado, foram descritas como confidenciais, mas não classificadas.</span><span class="sxs-lookup"><span data-stu-id="29902-136">In February of 2005, the National Security Agency (NSA) of the United States announced a coordinated set of symmetric encryption, asymmetric secret agreement (also known as key exchange), digital signature and hash functions for future U.S. government use called *Suite B*. The NSA has announced that certified Suite B implementations can and will be used for the protection of information designated as Top Secret, Secret, and private information that, in the past was described as Sensitive-But-Unclassified.</span></span> <span data-ttu-id="29902-137">Por isso, Suite B suporte é muito importante para fornecedores de software de aplicativo e integradores de sistema, bem como para a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="29902-137">Because of this, Suite B support is very important to application software vendors and system integrators as well as to Microsoft.</span></span>

<span data-ttu-id="29902-138">Todos os algoritmos de Suite B são conhecidos publicamente.</span><span class="sxs-lookup"><span data-stu-id="29902-138">All Suite B algorithms are publicly known.</span></span> <span data-ttu-id="29902-139">Eles foram desenvolvidos fora do escopo do sigilo governamental historicamente associado ao desenvolvimento de algoritmos criptográficos.</span><span class="sxs-lookup"><span data-stu-id="29902-139">They have been developed outside the scope of the government secrecy historically associated with cryptographic algorithm development.</span></span> <span data-ttu-id="29902-140">Nesse mesmo período de tempo, alguns países e regiões europeus também propuseram os mesmos requisitos de Suite B para proteger suas informações.</span><span class="sxs-lookup"><span data-stu-id="29902-140">In this same time frame, some European countries and regions have also proposed the same Suite B requirements for protecting their information.</span></span>

<span data-ttu-id="29902-141">A criptografia de Suite B recomenda o uso de Diffie-Hellman de curva elíptica (ECDH) em muitos protocolos existentes, como o protocolo IKE (IKE, usado principalmente no IPsec), TLS ( [*Transport Layer Security*](/windows/desktop/SecGloss/t-gly) ) e MIME (S/MIME) seguros.</span><span class="sxs-lookup"><span data-stu-id="29902-141">Suite B cryptography recommends use of elliptic curve Diffie-Hellman (ECDH) in many existing protocols such as the Internet Key Exchange (IKE, mainly used in IPsec), [*transport layer security*](/windows/desktop/SecGloss/t-gly) (TLS), and Secure MIME (S/MIME).</span></span>

<span data-ttu-id="29902-142">A CNG inclui suporte para Suite B que se estende a todos os algoritmos necessários: AES (todos os tamanhos de chave), família SHA-2 (SHA-256, SHA-384 e SHA-512) de algoritmos de hashing, ECDH e o ECDSA (DSA de curva elíptica) nas curvas elementares padrão do NIST P-256, P-384 e P-521.</span><span class="sxs-lookup"><span data-stu-id="29902-142">CNG includes support for Suite B that extends to all required algorithms: AES (all key sizes), the SHA-2 family (SHA-256, SHA-384 and SHA-512) of hashing algorithms, ECDH, and elliptic curve DSA (ECDSA) over the NIST-standard prime curves P-256, P-384, and P-521.</span></span> <span data-ttu-id="29902-143">As curvas binárias, as curvas Koblitz, as curvas primos personalizadas e a curva elíptica Menezes-t-Vanstone (ECMQV) não têm suporte dos provedores de algoritmos da Microsoft incluídos no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="29902-143">Binary curves, Koblitz curves, custom prime curves, and elliptic curve Menezes-Qu-Vanstone (ECMQV) are not supported by the Microsoft algorithm providers included with Windows Vista.</span></span>

## <a name="legacy-support"></a><span data-ttu-id="29902-144">Suporte herdado</span><span class="sxs-lookup"><span data-stu-id="29902-144">Legacy Support</span></span>

<span data-ttu-id="29902-145">A CNG fornece suporte para o conjunto atual de algoritmos no [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1,0.</span><span class="sxs-lookup"><span data-stu-id="29902-145">CNG provides support for the current set of algorithms in [*CryptoAPI*](/windows/desktop/SecGloss/c-gly) 1.0.</span></span> <span data-ttu-id="29902-146">Todos os algoritmos que atualmente têm suporte no *CryptoAPI* 1,0 continuarão a ter suporte na CNG.</span><span class="sxs-lookup"><span data-stu-id="29902-146">Every algorithm that is currently supported in *CryptoAPI* 1.0 will continue to be supported in CNG.</span></span>

## <a name="kernel-mode-support"></a><span data-ttu-id="29902-147">Suporte ao modo kernel</span><span class="sxs-lookup"><span data-stu-id="29902-147">Kernel Mode Support</span></span>

<span data-ttu-id="29902-148">A CNG dá suporte à criptografia no modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-148">CNG supports cryptography in kernel mode.</span></span> <span data-ttu-id="29902-149">As mesmas APIs são usadas no modo kernel e de usuário para oferecer suporte total aos recursos de criptografia.</span><span class="sxs-lookup"><span data-stu-id="29902-149">The same APIs are used in both kernel and user mode to fully support the cryptography features.</span></span> <span data-ttu-id="29902-150">O SSL/TLS e o IPsec operam no modo kernel, além dos processos de inicialização que usarão a CNG.</span><span class="sxs-lookup"><span data-stu-id="29902-150">Both SSL/TLS and IPsec operate in kernel mode in addition to boot processes that will be using CNG.</span></span> <span data-ttu-id="29902-151">Nem todas as funções CNG podem ser chamadas do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-151">Not all CNG functions can be called from kernel mode.</span></span> <span data-ttu-id="29902-152">O tópico de referência para as funções que não podem ser chamadas do modo kernel irá declarar explicitamente que a função não pode ser chamada do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-152">The reference topic for the functions that cannot be called from kernel mode will explicitly state that the function cannot be called from kernel mode.</span></span> <span data-ttu-id="29902-153">Caso contrário, todas as funções CNG poderão ser chamadas do modo kernel se o chamador estiver sendo executado no [*IRQL*](/windows/desktop/SecGloss/i-gly)de **\_ nível passivo** .</span><span class="sxs-lookup"><span data-stu-id="29902-153">Otherwise, all CNG functions can be called from kernel mode if the caller is running at **PASSIVE\_LEVEL** [*IRQL*](/windows/desktop/SecGloss/i-gly).</span></span> <span data-ttu-id="29902-154">Além disso, algumas funções CNG de modo kernel podem ser chamadas **no \_ nível de expedição IRQL**, dependendo dos recursos do provedor.</span><span class="sxs-lookup"><span data-stu-id="29902-154">In addition, some kernel mode CNG functions may be callable at **DISPATCH\_LEVEL IRQL**, depending on the provider's capabilities.</span></span>

<span data-ttu-id="29902-155">A interface do provedor de suporte do Microsoft kernel Security (Ksecdd.sys) é um módulo criptográfico baseado em software e de uso geral que reside no nível do modo kernel do Windows.</span><span class="sxs-lookup"><span data-stu-id="29902-155">The Microsoft kernel security support provider interface (Ksecdd.sys) is a general purpose, software-based, cryptographic module residing at the kernel mode level of Windows.</span></span> <span data-ttu-id="29902-156">Ksecdd.sys é executado como um driver de exportação de modo kernel e fornece serviços de criptografia por meio de suas interfaces documentadas para componentes de kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-156">Ksecdd.sys runs as a kernel mode export driver, and provides cryptographic services through their documented interfaces to kernel components.</span></span> <span data-ttu-id="29902-157">O único algoritmo de provedor da Microsoft interno que não tem suporte pelo Ksecdd.sys é DSA.</span><span class="sxs-lookup"><span data-stu-id="29902-157">The only built-in Microsoft provider algorithm that is not supported by Ksecdd.sys is DSA.</span></span>

<span data-ttu-id="29902-158">**Windows Server 2008 e Windows Vista:** A CNG não dá suporte a algoritmos e provedores conectáveis no modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-158">**Windows Server 2008 and Windows Vista:** CNG does not support pluggable algorithms and providers in kernel mode.</span></span> <span data-ttu-id="29902-159">Os únicos algoritmos de criptografia com suporte disponíveis no modo kernel são as implementações fornecidas pela Microsoft por meio das APIs CNG do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-159">The only supported cryptographic algorithms available in kernel mode are those implementations provided by Microsoft through the kernel mode CNG APIs.</span></span>

## <a name="auditing"></a><span data-ttu-id="29902-160">Auditoria</span><span class="sxs-lookup"><span data-stu-id="29902-160">Auditing</span></span>

<span data-ttu-id="29902-161">Para atender a alguns dos requisitos de critérios comuns, além de fornecer segurança abrangente, muitas ações que ocorrem na camada CNG são auditadas no KSP (provedor de armazenamento de chaves de software) da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="29902-161">To comply with some of the Common Criteria requirements in addition to providing comprehensive security, many actions that happen in the CNG layer are audited in the Microsoft software key storage provider (KSP).</span></span> <span data-ttu-id="29902-162">O KSP da Microsoft segue as seguintes diretrizes para criar registros de auditoria no log de segurança:</span><span class="sxs-lookup"><span data-stu-id="29902-162">The Microsoft KSP adheres to the following guidelines to create audit records in the security log:</span></span>

-   <span data-ttu-id="29902-163">Falhas de geração de chave e par de chaves, incluindo falhas de teste automático, devem ser auditadas.</span><span class="sxs-lookup"><span data-stu-id="29902-163">Key and key-pair generation failures, including self-test failures, must be audited.</span></span>
-   <span data-ttu-id="29902-164">A importação e a exportação de chave devem ser auditadas.</span><span class="sxs-lookup"><span data-stu-id="29902-164">Key import and export must be audited.</span></span>
-   <span data-ttu-id="29902-165">As falhas de destruição de chave devem ser auditadas.</span><span class="sxs-lookup"><span data-stu-id="29902-165">Key destruction failures must be audited.</span></span>
-   <span data-ttu-id="29902-166">As chaves persistentes precisam ser auditadas quando são gravadas e lidas a partir de arquivos.</span><span class="sxs-lookup"><span data-stu-id="29902-166">Persistent keys need to be audited when they are written to and read from files.</span></span>
-   <span data-ttu-id="29902-167">As falhas de verificação de consistência por pares devem ser auditadas.</span><span class="sxs-lookup"><span data-stu-id="29902-167">Pair-wise consistency check failures must be audited.</span></span>
-   <span data-ttu-id="29902-168">As falhas de validação da chave secreta, se houver, devem ser auditadas, por exemplo, verificações de paridade em chaves 3DES.</span><span class="sxs-lookup"><span data-stu-id="29902-168">Secret key validation failures, if any, must be audited, for example, parity checks on 3DES keys.</span></span>
-   <span data-ttu-id="29902-169">As falhas na criptografia, na descriptografia, no hash, na assinatura, na verificação, na troca de chaves e na geração de números aleatórios devem ser auditadas.</span><span class="sxs-lookup"><span data-stu-id="29902-169">Failures in encryption, decryption, hashing, signature, verification, key exchange, and random number generation must be audited.</span></span>
-   <span data-ttu-id="29902-170">Os autotestes de criptografia devem ser auditados.</span><span class="sxs-lookup"><span data-stu-id="29902-170">Cryptographic self-tests must be audited.</span></span>

<span data-ttu-id="29902-171">Em geral, se uma chave não tiver um nome, ela será uma chave efêmera.</span><span class="sxs-lookup"><span data-stu-id="29902-171">In general, if a key does not have a name, it is an ephemeral key.</span></span> <span data-ttu-id="29902-172">Uma chave efêmera não persiste e o KSP da Microsoft não gera registros de auditoria para chaves efêmeras.</span><span class="sxs-lookup"><span data-stu-id="29902-172">An ephemeral key does not persist, and the Microsoft KSP does not generate audit records for ephemeral keys.</span></span> <span data-ttu-id="29902-173">O KSP da Microsoft gera registros de auditoria no modo de usuário somente no processo LSA.</span><span class="sxs-lookup"><span data-stu-id="29902-173">The Microsoft KSP generates audit records in user mode in the LSA process only.</span></span> <span data-ttu-id="29902-174">Nenhum registro de auditoria é gerado pelo CNG do modo kernel.</span><span class="sxs-lookup"><span data-stu-id="29902-174">No audit record is generated by kernel mode CNG.</span></span> <span data-ttu-id="29902-175">Os administradores precisam configurar a política de auditoria para obter todos os logs de auditoria do KSP do log de segurança.</span><span class="sxs-lookup"><span data-stu-id="29902-175">Administrators need to configure the audit policy to obtain all KSP audit logs from the security log.</span></span> <span data-ttu-id="29902-176">Um administrador deve executar a seguinte linha de comando para configurar auditorias adicionais geradas pelo KSPs:</span><span class="sxs-lookup"><span data-stu-id="29902-176">An administrator must run the following command line to configure additional audits generated by KSPs:</span></span>

<span data-ttu-id="29902-177">**Auditpol/set/SubCategory: "outros eventos do sistema"/success: habilitar/Failure: habilitar**</span><span class="sxs-lookup"><span data-stu-id="29902-177">**auditpol /set /subcategory:"other system events" /success:enable /failure:enable**</span></span>

## <a name="replaceable-random-number-generators"></a><span data-ttu-id="29902-178">Geradores de números aleatórios substituíveis</span><span class="sxs-lookup"><span data-stu-id="29902-178">Replaceable Random Number Generators</span></span>

<span data-ttu-id="29902-179">Outra melhoria que a CNG fornece é a capacidade de substituir o gerador de número aleatório padrão (RNG).</span><span class="sxs-lookup"><span data-stu-id="29902-179">Another improvement that CNG provides is the ability to replace the default random number generator (RNG).</span></span> <span data-ttu-id="29902-180">No CryptoAPI, é possível fornecer um RNG alternativo como parte de um CSP (provedor de serviços de criptografia), mas não é possível redirecionar os CSPs de base da Microsoft para usar outro RNG.</span><span class="sxs-lookup"><span data-stu-id="29902-180">In CryptoAPI, it is possible to provide an alternate RNG as part of a cryptographic service provider (CSP), but it is not possible to redirect the Microsoft Base CSPs to use another RNG.</span></span> <span data-ttu-id="29902-181">A CNG possibilita especificar explicitamente um determinado RNG a ser usado em chamadas específicas.</span><span class="sxs-lookup"><span data-stu-id="29902-181">CNG makes it possible to explicitly specify a particular RNG to use within particular calls.</span></span>

## <a name="thread-safety"></a><span data-ttu-id="29902-182">Acesso thread-safe</span><span class="sxs-lookup"><span data-stu-id="29902-182">Thread Safety</span></span>

<span data-ttu-id="29902-183">Todas as funções que modificam a mesma área de memória ao mesmo tempo (seções críticas) quando são chamadas de threads separados não são thread-safe.</span><span class="sxs-lookup"><span data-stu-id="29902-183">Any functions that modify the same area of memory at the same time (critical sections) when being called from separate threads are not thread safe.</span></span>

## <a name="mode-of-operation"></a><span data-ttu-id="29902-184">Modo de operação</span><span class="sxs-lookup"><span data-stu-id="29902-184">Mode of Operation</span></span>

<span data-ttu-id="29902-185">A CNG dá suporte a cinco modos de operações que podem ser usadas com codificações de bloco simétricas por meio de APIs de criptografia.</span><span class="sxs-lookup"><span data-stu-id="29902-185">CNG supports five modes of operations that can be used with symmetric block ciphers through the encryption APIs.</span></span> <span data-ttu-id="29902-186">Esses modos e sua compatibilidade são listados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="29902-186">These modes and their supportability are listed in the following table.</span></span> <span data-ttu-id="29902-187">O modo de operação pode ser alterado definindo a propriedade [**de \_ \_ modo de encadeamento BCRYPT**](cng-property-identifiers.md) para o provedor de algoritmo usando a função [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) .</span><span class="sxs-lookup"><span data-stu-id="29902-187">The mode of operation can be changed by setting the [**BCRYPT\_CHAINING\_MODE**](cng-property-identifiers.md) property for the algorithm provider by using the [**BCryptSetProperty**](/windows/desktop/api/Bcrypt/nf-bcrypt-bcryptsetproperty) function.</span></span>



| <span data-ttu-id="29902-188">Modo de operação</span><span class="sxs-lookup"><span data-stu-id="29902-188">Mode of operation</span></span>           | <span data-ttu-id="29902-189">Valor do modo de \_ ENCADEAMENTO BCRYPT \_</span><span class="sxs-lookup"><span data-stu-id="29902-189">BCRYPT\_CHAINING\_MODE value</span></span> | <span data-ttu-id="29902-190">Algoritmos</span><span class="sxs-lookup"><span data-stu-id="29902-190">Algorithms</span></span>              | <span data-ttu-id="29902-191">Standard</span><span class="sxs-lookup"><span data-stu-id="29902-191">Standard</span></span>  |
|-----------------------------|------------------------------|-------------------------|-----------|
| <span data-ttu-id="29902-192">ECB (Electronic Codebook)</span><span class="sxs-lookup"><span data-stu-id="29902-192">ECB (Electronic Codebook)</span></span>   | <span data-ttu-id="29902-193">**\_ \_ ECB modo de cadeia de BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="29902-193">**BCRYPT\_CHAIN\_MODE\_ECB**</span></span> | <span data-ttu-id="29902-194">Codificações de bloco simétrico</span><span class="sxs-lookup"><span data-stu-id="29902-194">Symmetric block ciphers</span></span> | <span data-ttu-id="29902-195">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="29902-195">SP800-38A</span></span> |
| <span data-ttu-id="29902-196">CBC (encadeamento de blocos de codificação)</span><span class="sxs-lookup"><span data-stu-id="29902-196">CBC (Cipher Block Chaining)</span></span> | <span data-ttu-id="29902-197">**\_CBC do \_ modo de cadeia BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="29902-197">**BCRYPT\_CHAIN\_MODE\_CBC**</span></span> | <span data-ttu-id="29902-198">Codificações de bloco simétrico</span><span class="sxs-lookup"><span data-stu-id="29902-198">Symmetric block ciphers</span></span> | <span data-ttu-id="29902-199">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="29902-199">SP800-38A</span></span> |
| <span data-ttu-id="29902-200">CFB (comentários cifrados)</span><span class="sxs-lookup"><span data-stu-id="29902-200">CFB (Cipher Feedback)</span></span>       | <span data-ttu-id="29902-201">**\_modo de cadeia BCRYPT \_ \_ CFB**</span><span class="sxs-lookup"><span data-stu-id="29902-201">**BCRYPT\_CHAIN\_MODE\_CFB**</span></span> | <span data-ttu-id="29902-202">Codificações de bloco simétrico</span><span class="sxs-lookup"><span data-stu-id="29902-202">Symmetric block ciphers</span></span> | <span data-ttu-id="29902-203">SP800-38A</span><span class="sxs-lookup"><span data-stu-id="29902-203">SP800-38A</span></span> |
| <span data-ttu-id="29902-204">CCM (contador com CBC)</span><span class="sxs-lookup"><span data-stu-id="29902-204">CCM (Counter with CBC)</span></span>      | <span data-ttu-id="29902-205">**\_CCM de \_ modo de cadeia BCRYPT \_**</span><span class="sxs-lookup"><span data-stu-id="29902-205">**BCRYPT\_CHAIN\_MODE\_CCM**</span></span> | <span data-ttu-id="29902-206">AES</span><span class="sxs-lookup"><span data-stu-id="29902-206">AES</span></span>                     | <span data-ttu-id="29902-207">SP800-38C</span><span class="sxs-lookup"><span data-stu-id="29902-207">SP800-38C</span></span> |
| <span data-ttu-id="29902-208">GCM (modo Galois/Counter)</span><span class="sxs-lookup"><span data-stu-id="29902-208">GCM (Galois/Counter Mode)</span></span>   | <span data-ttu-id="29902-209">**\_modo de cadeia BCRYPT \_ \_ GCM**</span><span class="sxs-lookup"><span data-stu-id="29902-209">**BCRYPT\_CHAIN\_MODE\_GCM**</span></span> | <span data-ttu-id="29902-210">AES</span><span class="sxs-lookup"><span data-stu-id="29902-210">AES</span></span>                     | <span data-ttu-id="29902-211">SP800-38D</span><span class="sxs-lookup"><span data-stu-id="29902-211">SP800-38D</span></span> |



 

> [!Note]  
> <span data-ttu-id="29902-212">Somente os modos ECB, CBC e CFB da operação são definidos no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="29902-212">Only ECB, CBC, and CFB modes of operation are defined in Windows Vista.</span></span> <span data-ttu-id="29902-213">O GCM e CCM exigem o Windows Vista com Service Pack 1 (SP1) ou o Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="29902-213">GCM and CCM require Windows Vista with Service Pack 1 (SP1) or Windows Server 2008.</span></span>

 

 

 
