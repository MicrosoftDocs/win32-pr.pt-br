---
description: A criptografia de chave pública (também chamada de criptografia de chave assimétrica) usa um par de chaves para criptografar e descriptografar conteúdo.
ms.assetid: 93f65367-ca4b-4b44-9833-0653cfd3f3d3
title: Infraestrutura de chave pública
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55e4ff0b2b3912bc44851be105c2e2b15200eb62
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105755960"
---
# <a name="public-key-infrastructure"></a><span data-ttu-id="c066b-103">Infraestrutura de chave pública</span><span class="sxs-lookup"><span data-stu-id="c066b-103">Public Key Infrastructure</span></span>

<span data-ttu-id="c066b-104">A criptografia de chave pública (também chamada de criptografia de chave assimétrica) usa um par de chaves para criptografar e descriptografar conteúdo.</span><span class="sxs-lookup"><span data-stu-id="c066b-104">Public-key cryptography (also called asymmetric-key cryptography) uses a key pair to encrypt and decrypt content.</span></span> <span data-ttu-id="c066b-105">O par de chaves consiste em uma chave pública e uma privada que estão matematicamente relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c066b-105">The key pair consists of one public and one private key that are mathematically related.</span></span> <span data-ttu-id="c066b-106">Um indivíduo que pretende se comunicar com segurança com outras pessoas pode distribuir a [*chave pública*](/windows/desktop/SecGloss/p-gly) , mas deve manter o segredo da [*chave privada*](/windows/desktop/SecGloss/p-gly) .</span><span class="sxs-lookup"><span data-stu-id="c066b-106">An individual who intends to communicate securely with others can distribute the [*public key*](/windows/desktop/SecGloss/p-gly) but must keep the [*private key*](/windows/desktop/SecGloss/p-gly) secret.</span></span> <span data-ttu-id="c066b-107">O conteúdo criptografado usando uma das chaves pode ser descriptografado usando o outro.</span><span class="sxs-lookup"><span data-stu-id="c066b-107">Content encrypted by using one of the keys can be decrypted by using the other.</span></span> <span data-ttu-id="c066b-108">Suponha, por exemplo, que Bob deseja enviar uma mensagem de email segura para Alice.</span><span class="sxs-lookup"><span data-stu-id="c066b-108">Assume, for example, that Bob wants to send a secure email message to Alice.</span></span> <span data-ttu-id="c066b-109">Isso pode ser feito da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="c066b-109">This can be accomplished in the following manner:</span></span>

1.  <span data-ttu-id="c066b-110">Bob e Alice têm seus próprios pares de chaves.</span><span class="sxs-lookup"><span data-stu-id="c066b-110">Both Bob and Alice have their own key pairs.</span></span> <span data-ttu-id="c066b-111">Eles mantiveram suas chaves privadas com segurança e enviaram suas chaves públicas diretamente entre si.</span><span class="sxs-lookup"><span data-stu-id="c066b-111">They have kept their private keys securely to themselves and have sent their public keys directly to each other.</span></span>
2.  <span data-ttu-id="c066b-112">Bob usa a chave pública de Alice para criptografar a mensagem e a envia para ela.</span><span class="sxs-lookup"><span data-stu-id="c066b-112">Bob uses Alice's public key to encrypt the message and sends it to her.</span></span>
3.  <span data-ttu-id="c066b-113">Alice usa sua chave privada para descriptografar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c066b-113">Alice uses her private key to decrypt the message.</span></span>

<span data-ttu-id="c066b-114">Este exemplo simplificado destaca pelo menos uma preocupação óbvia que Bob deve ter sobre a chave pública que ele usou para criptografar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c066b-114">This simplified example highlights at least one obvious concern Bob must have about the public key he used to encrypt the message.</span></span> <span data-ttu-id="c066b-115">Ou seja, ele não pode saber com certeza que a chave que ele usou para criptografia realmente pertencia a Alice.</span><span class="sxs-lookup"><span data-stu-id="c066b-115">That is, he cannot know with certainty that the key he used for encryption actually belonged to Alice.</span></span> <span data-ttu-id="c066b-116">É possível que outra parte que esteja monitorando o canal de comunicação entre Bob e Alice substitua uma chave diferente.</span><span class="sxs-lookup"><span data-stu-id="c066b-116">It is possible that another party monitoring the communication channel between Bob and Alice substituted a different key.</span></span>

<span data-ttu-id="c066b-117">O conceito de infraestrutura de chave pública evoluiu para ajudar a resolver esse problema e outros.</span><span class="sxs-lookup"><span data-stu-id="c066b-117">The public key infrastructure concept has evolved to help address this problem and others.</span></span> <span data-ttu-id="c066b-118">Uma PKI (infraestrutura de chave pública) consiste em elementos de software e hardware que um terceiro confiável pode usar para estabelecer a integridade e a propriedade de uma chave pública.</span><span class="sxs-lookup"><span data-stu-id="c066b-118">A public key infrastructure (PKI) consists of software and hardware elements that a trusted third party can use to establish the integrity and ownership of a public key.</span></span> <span data-ttu-id="c066b-119">A parte confiável, chamada de [*autoridade de certificação*](/windows/desktop/SecGloss/c-gly) (CA), normalmente faz isso emitindo certificados binários assinados (criptografados) que afirmam a identidade da entidade do certificado e associam essa identidade à chave pública contida no certificado.</span><span class="sxs-lookup"><span data-stu-id="c066b-119">The trusted party, called a [*certification authority*](/windows/desktop/SecGloss/c-gly) (CA), typically accomplishes this by issuing signed (encrypted) binary certificates that affirm the identity of the certificate subject and bind that identity to the public key contained in the certificate.</span></span> <span data-ttu-id="c066b-120">A CA assina o certificado usando sua chave privada.</span><span class="sxs-lookup"><span data-stu-id="c066b-120">The CA signs the certificate by using its private key.</span></span> <span data-ttu-id="c066b-121">Ele emite a chave pública correspondente a todas as partes interessadas em um certificado de autoridade de certificação autoassinado.</span><span class="sxs-lookup"><span data-stu-id="c066b-121">It issues the corresponding public key to all interested parties in a self-signed CA certificate.</span></span> <span data-ttu-id="c066b-122">Quando uma AC é usada, o exemplo anterior pode ser modificado da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="c066b-122">When a CA is used, the preceding example can be modified in the following manner:</span></span>

1.  <span data-ttu-id="c066b-123">Suponha que a autoridade de certificação emitiu um certificado digital assinado que contém sua chave pública.</span><span class="sxs-lookup"><span data-stu-id="c066b-123">Assume that the CA has issued a signed digital certificate that contains its public key.</span></span> <span data-ttu-id="c066b-124">A AC assina automaticamente esse certificado usando a chave privada que corresponde à chave pública no certificado.</span><span class="sxs-lookup"><span data-stu-id="c066b-124">The CA self-signs this certificate by using the private key that corresponds to the public key in the certificate.</span></span>
2.  <span data-ttu-id="c066b-125">Alice e Bob concordam em usar a AC para verificar suas identidades.</span><span class="sxs-lookup"><span data-stu-id="c066b-125">Alice and Bob agree to use the CA to verify their identities.</span></span>
3.  <span data-ttu-id="c066b-126">Alice solicita um certificado de chave pública da AC.</span><span class="sxs-lookup"><span data-stu-id="c066b-126">Alice requests a public key certificate from the CA.</span></span>
4.  <span data-ttu-id="c066b-127">A autoridade de certificação verifica sua identidade, computa um hash do conteúdo que criará seu certificado, assina o hash usando a chave privada que corresponde à chave pública no certificado de autoridade de certificação publicado, cria um novo certificado concatenando o conteúdo do certificado e o hash assinado e disponibiliza o novo certificado publicamente.</span><span class="sxs-lookup"><span data-stu-id="c066b-127">The CA verifies her identity, computes a hash of the content that will make up her certificate, signs the hash by using the private key that corresponds to the public key in the published CA certificate, creates a new certificate by concatenating the certificate content and the signed hash, and makes the new certificate publicly available.</span></span>
5.  <span data-ttu-id="c066b-128">Bob recupera o certificado, descriptografa o hash assinado usando a chave pública da autoridade de certificação, computa um novo hash do conteúdo do certificado e compara os dois hashes.</span><span class="sxs-lookup"><span data-stu-id="c066b-128">Bob retrieves the certificate, decrypts the signed hash by using the public key of the CA, computes a new hash of the certificate content, and compares the two hashes.</span></span> <span data-ttu-id="c066b-129">Se os hashes corresponderem, a assinatura será verificada e Bob poderá pressupor que a chave pública no certificado realmente pertence a Alice.</span><span class="sxs-lookup"><span data-stu-id="c066b-129">If the hashes match, the signature is verified and Bob can assume that the public key in the certificate does indeed belong to Alice.</span></span>
6.  <span data-ttu-id="c066b-130">Bob usa a chave pública verificada de Alice para criptografar uma mensagem para ela.</span><span class="sxs-lookup"><span data-stu-id="c066b-130">Bob uses Alice's verified public key to encrypt a message to her.</span></span>
7.  <span data-ttu-id="c066b-131">Alice usa sua chave privada para descriptografar a mensagem de Bob.</span><span class="sxs-lookup"><span data-stu-id="c066b-131">Alice uses her private key to decrypt the message from Bob.</span></span>

<span data-ttu-id="c066b-132">Em resumo, o processo de assinatura de certificado permite que Bob Verifique se a chave pública não foi violada ou corrompida durante o trânsito.</span><span class="sxs-lookup"><span data-stu-id="c066b-132">In summary, the certificate signing process enables Bob to verify that the public key was not tampered with or corrupted during transit.</span></span> <span data-ttu-id="c066b-133">Antes de emitir um certificado, a autoridade de certificação armazena em hash o conteúdo, assina (criptografa) o hash usando sua própria chave privada e inclui o hash criptografado no certificado emitido.</span><span class="sxs-lookup"><span data-stu-id="c066b-133">Before issuing a certificate, the CA hashes the contents, signs (encrypts) the hash by using its own private key, and includes the encrypted hash in the issued certificate.</span></span> <span data-ttu-id="c066b-134">Bob verifica o conteúdo do certificado descriptografando o hash com a chave pública da CA, executando um hash separado do conteúdo do certificado e comparando os dois hashes.</span><span class="sxs-lookup"><span data-stu-id="c066b-134">Bob verifies the certificate contents by decrypting the hash with the CA public key, performing a separate hash of the certificate contents, and comparing the two hashes.</span></span> <span data-ttu-id="c066b-135">Se eles corresponderem, Bob poderá ser razoavelmente certo de que o certificado e a chave pública que ele contém não foram alterados.</span><span class="sxs-lookup"><span data-stu-id="c066b-135">If they match, Bob can be reasonably certain that the certificate and the public key it contains have not been altered.</span></span>

<span data-ttu-id="c066b-136">Uma PKI típica consiste nos seguintes elementos.</span><span class="sxs-lookup"><span data-stu-id="c066b-136">A typical PKI consists of the following elements.</span></span>

| <span data-ttu-id="c066b-137">Elemento</span><span class="sxs-lookup"><span data-stu-id="c066b-137">Element</span></span>                            | <span data-ttu-id="c066b-138">Descrição</span><span class="sxs-lookup"><span data-stu-id="c066b-138">Description</span></span>                                                                                                                                                                               |
|------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c066b-139">Autoridade de certificação</span><span class="sxs-lookup"><span data-stu-id="c066b-139">Certification Authority</span></span><br/> | <span data-ttu-id="c066b-140">Atua como a raiz de confiança em uma infraestrutura de chave pública e fornece serviços que autenticam a identidade de indivíduos, computadores e outras entidades em uma rede.</span><span class="sxs-lookup"><span data-stu-id="c066b-140">Acts as the root of trust in a public key infrastructure and provides services that authenticate the identity of individuals, computers, and other entities in a network.</span></span><br/>      |
| <span data-ttu-id="c066b-141">Autoridade de registro</span><span class="sxs-lookup"><span data-stu-id="c066b-141">Registration Authority</span></span><br/>  | <span data-ttu-id="c066b-142">É certificado por uma autoridade de certificação raiz para emitir certificados para usos específicos permitidos pela raiz.</span><span class="sxs-lookup"><span data-stu-id="c066b-142">Is certified by a root CA to issue certificates for specific uses permitted by the root.</span></span> <span data-ttu-id="c066b-143">Em uma PKI da Microsoft, uma RA (autoridade de registro) é geralmente chamada de autoridade de certificação subordinada.</span><span class="sxs-lookup"><span data-stu-id="c066b-143">In a Microsoft PKI, a registration authority (RA) is usually called a subordinate CA.</span></span><br/> |
| <span data-ttu-id="c066b-144">Banco de dados de certificados</span><span class="sxs-lookup"><span data-stu-id="c066b-144">Certificate Database</span></span><br/>    | <span data-ttu-id="c066b-145">Salva solicitações de certificado e certificados emitidos e revogados e solicitações de certificado na CA ou RA.</span><span class="sxs-lookup"><span data-stu-id="c066b-145">Saves certificate requests and issued and revoked certificates and certificate requests on the CA or RA.</span></span><br/>                                                                       |
| <span data-ttu-id="c066b-146">Repositório de certificados</span><span class="sxs-lookup"><span data-stu-id="c066b-146">Certificate Store</span></span><br/>       | <span data-ttu-id="c066b-147">Salva os certificados emitidos e solicitações de certificado pendentes ou rejeitadas no computador local.</span><span class="sxs-lookup"><span data-stu-id="c066b-147">Saves issued certificates and pending or rejected certificate requests on the local computer.</span></span><br/>                                                                                  |
| <span data-ttu-id="c066b-148">Servidor de arquivamento de chave</span><span class="sxs-lookup"><span data-stu-id="c066b-148">Key Archival Server</span></span><br/>     | <span data-ttu-id="c066b-149">Salva as chaves privadas criptografadas no banco de dados de certificado para recuperação após a perda.</span><span class="sxs-lookup"><span data-stu-id="c066b-149">Saves encrypted private keys in the certificate database for recovery after loss.</span></span><br/>                                                                                              |



 

<span data-ttu-id="c066b-150">A API de registro de certificado permite que você envie solicitações de arquivamento de certificado e chave para autoridades de certificação e de registro e instale o certificado emitido em um computador local.</span><span class="sxs-lookup"><span data-stu-id="c066b-150">The Certificate Enrollment API enables you to submit certificate and key archival requests to certification and registration authorities and install the issued certificate on a local computer.</span></span> <span data-ttu-id="c066b-151">Ele não permite que você manipule diretamente o repositório de certificados ou o banco de dados de certificado.</span><span class="sxs-lookup"><span data-stu-id="c066b-151">It does not enable you to directly manipulate the certificate database or certificate store.</span></span>

<span data-ttu-id="c066b-152">Os tópicos a seguir abordam a infraestrutura de chave pública da Microsoft com mais detalhes:</span><span class="sxs-lookup"><span data-stu-id="c066b-152">The following topics discuss the Microsoft public key infrastructure in more detail:</span></span>

-   [<span data-ttu-id="c066b-153">Certificados de chave pública X. 509</span><span class="sxs-lookup"><span data-stu-id="c066b-153">X.509 Public Key Certificates</span></span>](about-x-509-public-key-certificates.md)
-   [<span data-ttu-id="c066b-154">Elementos PKI</span><span class="sxs-lookup"><span data-stu-id="c066b-154">PKI Elements</span></span>](about-pki-components.md)
-   [<span data-ttu-id="c066b-155">Modelos de confiança</span><span class="sxs-lookup"><span data-stu-id="c066b-155">Trust Models</span></span>](about-trust-models.md)

## <a name="related-topics"></a><span data-ttu-id="c066b-156">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c066b-156">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c066b-157">Sobre a API de registro de certificado</span><span class="sxs-lookup"><span data-stu-id="c066b-157">About the Certificate Enrollment API</span></span>](about-the-certificate-enrollment-api.md)
</dt> </dl>

 

