---
title: Sobre a entrada do teclado
description: Este tópico discute a entrada do teclado.
ms.assetid: de34727e-e8c7-481d-982d-0e42a02704db
keywords:
- entrada do usuário, entrada de teclado
- capturando entrada do usuário, entrada de teclado
- entrada do teclado
- foco do teclado
- mensagens de pressionamento de tecla
- mensagens de caracteres
- pressionamentos de tecla do sistema
- pressionamentos de tecla não do sistema
- mensagens de caracteres não do sistema
- chaves inativas
- mensagens de caracteres inativos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 65ad481bad6756bb374b98a5510bdc26f1cded6a
ms.sourcegitcommit: ac62be2f60f757f61ea647a95c168c9841ffabac
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/10/2021
ms.locfileid: "104558501"
---
# <a name="about-keyboard-input"></a><span data-ttu-id="e93fe-114">Sobre a entrada do teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-114">About Keyboard Input</span></span>

<span data-ttu-id="e93fe-115">Os aplicativos devem aceitar a entrada do usuário do teclado, bem como do mouse.</span><span class="sxs-lookup"><span data-stu-id="e93fe-115">Applications should accept user input from the keyboard as well as from the mouse.</span></span> <span data-ttu-id="e93fe-116">Um aplicativo recebe entrada de teclado na forma de mensagens postadas em suas janelas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-116">An application receives keyboard input in the form of messages posted to its windows.</span></span>

<span data-ttu-id="e93fe-117">Esta seção contém os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="e93fe-117">This section covers the following topics:</span></span>

-   [<span data-ttu-id="e93fe-118">Modelo de entrada do teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-118">Keyboard Input Model</span></span>](#keyboard-input-model)
-   [<span data-ttu-id="e93fe-119">Foco e ativação do teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-119">Keyboard Focus and Activation</span></span>](#keyboard-focus-and-activation)
-   [<span data-ttu-id="e93fe-120">Mensagens de pressionamento de tecla</span><span class="sxs-lookup"><span data-stu-id="e93fe-120">Keystroke Messages</span></span>](#keystroke-messages)
    -   [<span data-ttu-id="e93fe-121">Pressionamentos de tecla do sistema e não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-121">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
    -   [<span data-ttu-id="e93fe-122">Códigos de chave virtual descritos</span><span class="sxs-lookup"><span data-stu-id="e93fe-122">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
    -   [<span data-ttu-id="e93fe-123">Sinalizadores de mensagem de pressionamento de tecla</span><span class="sxs-lookup"><span data-stu-id="e93fe-123">Keystroke Message Flags</span></span>](#keystroke-message-flags)
-   [<span data-ttu-id="e93fe-124">Mensagens de caracteres</span><span class="sxs-lookup"><span data-stu-id="e93fe-124">Character Messages</span></span>](#character-messages)
    -   [<span data-ttu-id="e93fe-125">Mensagens de caracteres não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-125">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
    -   [<span data-ttu-id="e93fe-126">Mensagens de caracteres inativos</span><span class="sxs-lookup"><span data-stu-id="e93fe-126">Dead-Character Messages</span></span>](#dead-character-messages)
-   [<span data-ttu-id="e93fe-127">Status da chave</span><span class="sxs-lookup"><span data-stu-id="e93fe-127">Key Status</span></span>](#key-status)
-   [<span data-ttu-id="e93fe-128">Conversões de teclas e de caracteres</span><span class="sxs-lookup"><span data-stu-id="e93fe-128">Keystroke and Character Translations</span></span>](#keystroke-and-character-translations)
-   [<span data-ttu-id="e93fe-129">Suporte a teclas de atalho</span><span class="sxs-lookup"><span data-stu-id="e93fe-129">Hot-Key Support</span></span>](#hot-key-support)
-   [<span data-ttu-id="e93fe-130">Teclas de teclado para navegação e outras funções</span><span class="sxs-lookup"><span data-stu-id="e93fe-130">Keyboard Keys for Browsing and Other Functions</span></span>](#keyboard-keys-for-browsing-and-other-functions)
-   [<span data-ttu-id="e93fe-131">Simulando entrada</span><span class="sxs-lookup"><span data-stu-id="e93fe-131">Simulating Input</span></span>](#simulating-input)
-   [<span data-ttu-id="e93fe-132">Idiomas, localidades e layouts de teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-132">Languages, Locales, and Keyboard Layouts</span></span>](#languages-locales-and-keyboard-layouts)

## <a name="keyboard-input-model"></a><span data-ttu-id="e93fe-133">Modelo de entrada do teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-133">Keyboard Input Model</span></span>

<span data-ttu-id="e93fe-134">O sistema fornece suporte de teclado independente de dispositivo para aplicativos instalando um driver de dispositivo de teclado apropriado para o teclado atual.</span><span class="sxs-lookup"><span data-stu-id="e93fe-134">The system provides device-independent keyboard support for applications by installing a keyboard device driver appropriate for the current keyboard.</span></span> <span data-ttu-id="e93fe-135">O sistema fornece suporte de teclado independente de idioma usando o layout de teclado específico do idioma selecionado no momento pelo usuário ou pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-135">The system provides language-independent keyboard support by using the language-specific keyboard layout currently selected by the user or the application.</span></span> <span data-ttu-id="e93fe-136">O driver de dispositivo de teclado recebe códigos de verificação do teclado, que são enviados para o layout de teclado onde eles são convertidos em mensagens e postados para as janelas apropriadas em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-136">The keyboard device driver receives scan codes from the keyboard, which are sent to the keyboard layout where they are translated into messages and posted to the appropriate windows in your application.</span></span>

<span data-ttu-id="e93fe-137">Atribuído a cada chave em um teclado é um valor exclusivo chamado de *código de verificação*, um identificador dependente de dispositivo para a chave no teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-137">Assigned to each key on a keyboard is a unique value called a *scan code*, a device-dependent identifier for the key on the keyboard.</span></span> <span data-ttu-id="e93fe-138">Um teclado gera dois códigos de verificação quando o usuário digita uma chave — uma quando o usuário pressiona a tecla e outra quando o usuário libera a chave.</span><span class="sxs-lookup"><span data-stu-id="e93fe-138">A keyboard generates two scan codes when the user types a key—one when the user presses the key and another when the user releases the key.</span></span>

<span data-ttu-id="e93fe-139">O driver de dispositivo de teclado interpreta um código de verificação e traduz (mapeia)-o para um *código de chave virtual*, um valor independente de dispositivo definido pelo sistema que identifica a finalidade de uma chave.</span><span class="sxs-lookup"><span data-stu-id="e93fe-139">The keyboard device driver interprets a scan code and translates (maps) it to a *virtual-key code*, a device-independent value defined by the system that identifies the purpose of a key.</span></span> <span data-ttu-id="e93fe-140">Depois de converter um código de verificação, o layout do teclado cria uma mensagem que inclui o código de verificação, o código de chave virtual e outras informações sobre a tecla e, em seguida, coloca a mensagem na fila de mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="e93fe-140">After translating a scan code, the keyboard layout creates a message that includes the scan code, the virtual-key code, and other information about the keystroke, and then places the message in the system message queue.</span></span> <span data-ttu-id="e93fe-141">O sistema remove a mensagem da fila de mensagens do sistema e a posta na fila de mensagens do thread apropriado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-141">The system removes the message from the system message queue and posts it to the message queue of the appropriate thread.</span></span> <span data-ttu-id="e93fe-142">Eventualmente, o loop de mensagem do thread remove a mensagem e a passa para o procedimento de janela apropriado para processamento.</span><span class="sxs-lookup"><span data-stu-id="e93fe-142">Eventually, the thread's message loop removes the message and passes it to the appropriate window procedure for processing.</span></span> <span data-ttu-id="e93fe-143">A figura a seguir ilustra o modelo de entrada do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-143">The following figure illustrates the keyboard input model.</span></span>

![modelo de processamento de entrada de teclado](images/csinp-01.png)

## <a name="keyboard-focus-and-activation"></a><span data-ttu-id="e93fe-145">Foco e ativação do teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-145">Keyboard Focus and Activation</span></span>

<span data-ttu-id="e93fe-146">O sistema posta mensagens de teclado na fila de mensagens do thread em primeiro plano que criou a janela com o foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-146">The system posts keyboard messages to the message queue of the foreground thread that created the window with the keyboard focus.</span></span> <span data-ttu-id="e93fe-147">O *foco do teclado* é uma propriedade temporária de uma janela.</span><span class="sxs-lookup"><span data-stu-id="e93fe-147">The *keyboard focus* is a temporary property of a window.</span></span> <span data-ttu-id="e93fe-148">O sistema compartilha o teclado entre todas as janelas na exibição alternando o foco do teclado, na direção do usuário, de uma janela para outra.</span><span class="sxs-lookup"><span data-stu-id="e93fe-148">The system shares the keyboard among all windows on the display by shifting the keyboard focus, at the user's direction, from one window to another.</span></span> <span data-ttu-id="e93fe-149">A janela que tem o foco do teclado recebe (da fila de mensagens do thread que a criou) todas as mensagens de teclado até que o foco seja alterado para uma janela diferente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-149">The window that has the keyboard focus receives (from the message queue of the thread that created it) all keyboard messages until the focus changes to a different window.</span></span>

<span data-ttu-id="e93fe-150">Um thread pode chamar a função [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus) para determinar qual das suas janelas (se houver) atualmente tem o foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-150">A thread can call the [**GetFocus**](/windows/win32/api/winuser/nf-winuser-getfocus) function to determine which of its windows (if any) currently has the keyboard focus.</span></span> <span data-ttu-id="e93fe-151">Um thread pode dar o foco do teclado a uma de suas janelas chamando a função [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-151">A thread can give the keyboard focus to one of its windows by calling the [**SetFocus**](/windows/win32/api/winuser/nf-winuser-setfocus) function.</span></span> <span data-ttu-id="e93fe-152">Quando o foco do teclado muda de uma janela para outra, o sistema envia uma mensagem do [**WM \_ KILLFOCUS**](wm-killfocus.md) para a janela que perdeu o foco e, em seguida, envia uma mensagem do [**WM \_ SETFOCUS**](wm-setfocus.md) para a janela que ganhou o foco.</span><span class="sxs-lookup"><span data-stu-id="e93fe-152">When the keyboard focus changes from one window to another, the system sends a [**WM\_KILLFOCUS**](wm-killfocus.md) message to the window that has lost the focus, and then sends a [**WM\_SETFOCUS**](wm-setfocus.md) message to the window that has gained the focus.</span></span>

<span data-ttu-id="e93fe-153">O conceito de foco do teclado está relacionado ao da janela ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-153">The concept of keyboard focus is related to that of the active window.</span></span> <span data-ttu-id="e93fe-154">A *janela ativa* é a janela de nível superior com a qual o usuário está trabalhando no momento.</span><span class="sxs-lookup"><span data-stu-id="e93fe-154">The *active window* is the top-level window the user is currently working with.</span></span> <span data-ttu-id="e93fe-155">A janela com o foco do teclado é a janela ativa ou uma janela filho da janela ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-155">The window with the keyboard focus is either the active window, or a child window of the active window.</span></span> <span data-ttu-id="e93fe-156">Para ajudar o usuário a identificar a janela ativa, o sistema a coloca na parte superior da ordem Z e realça sua barra de título (se tiver uma) e uma borda.</span><span class="sxs-lookup"><span data-stu-id="e93fe-156">To help the user identify the active window, the system places it at the top of the Z order and highlights its title bar (if it has one) and border.</span></span>

<span data-ttu-id="e93fe-157">O usuário pode ativar uma janela de nível superior clicando nela, selecionando-a usando a combinação de teclas ALT + TAB ou ALT + ESC ou selecionando-a na Lista de Tarefas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-157">The user can activate a top-level window by clicking it, selecting it using the ALT+TAB or ALT+ESC key combination, or selecting it from the Task List.</span></span> <span data-ttu-id="e93fe-158">Um thread pode ativar uma janela de nível superior usando a função [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-158">A thread can activate a top-level window by using the [**SetActiveWindow**](/windows/win32/api/winuser/nf-winuser-setactivewindow) function.</span></span> <span data-ttu-id="e93fe-159">Ele pode determinar se uma janela de nível superior criada por ele está ativa usando a função [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-159">It can determine whether a top-level window it created is active by using the [**GetActiveWindow**](/windows/win32/api/winuser/nf-winuser-getactivewindow) function.</span></span>

<span data-ttu-id="e93fe-160">Quando uma janela é desativada e outra ativada, o sistema envia a mensagem de [**\_ ativação do WM**](wm-activate.md) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-160">When one window is deactivated and another activated, the system sends the [**WM\_ACTIVATE**](wm-activate.md) message.</span></span> <span data-ttu-id="e93fe-161">A palavra de ordem inferior do parâmetro *wParam* será zero se a janela estiver sendo desativada e diferente de zero se estiver sendo ativada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-161">The low-order word of the *wParam* parameter is zero if the window is being deactivated and nonzero if it is being activated.</span></span> <span data-ttu-id="e93fe-162">Quando o procedimento de janela padrão recebe a mensagem de **\_ ativação do WM** , ele define o foco do teclado para a janela ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-162">When the default window procedure receives the **WM\_ACTIVATE** message, it sets the keyboard focus to the active window.</span></span>

<span data-ttu-id="e93fe-163">Para bloquear a entrada de eventos de teclado e de mouse para aplicativos, use [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span><span class="sxs-lookup"><span data-stu-id="e93fe-163">To block keyboard and mouse input events from reaching applications, use [**BlockInput**](/windows/win32/api/winuser/nf-winuser-blockinput).</span></span> <span data-ttu-id="e93fe-164">Observe que a função **BlockInput** não interferirá na tabela de estado de entrada do teclado assíncrono.</span><span class="sxs-lookup"><span data-stu-id="e93fe-164">Note, the **BlockInput** function will not interfere with the asynchronous keyboard input-state table.</span></span> <span data-ttu-id="e93fe-165">Isso significa que chamar a função [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) enquanto a entrada está bloqueada alterará a tabela de estado de entrada do teclado assíncrono.</span><span class="sxs-lookup"><span data-stu-id="e93fe-165">This means that calling the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function while input is blocked will change the asynchronous keyboard input-state table.</span></span>

## <a name="keystroke-messages"></a><span data-ttu-id="e93fe-166">Mensagens de pressionamento de tecla</span><span class="sxs-lookup"><span data-stu-id="e93fe-166">Keystroke Messages</span></span>

<span data-ttu-id="e93fe-167">Pressionar uma chave faz com que uma mensagem do [**WM \_ KEYDOWN**](wm-keydown.md) ou [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) seja colocada na fila de mensagens do thread anexada à janela que tem o foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-167">Pressing a key causes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to be placed in the thread message queue attached to the window that has the keyboard focus.</span></span> <span data-ttu-id="e93fe-168">A liberação de uma chave faz com que uma mensagem do [**WM \_ KEYUP**](wm-keyup.md) ou do [**WM \_ SYSKEYUP**](wm-syskeyup.md) seja colocada na fila.</span><span class="sxs-lookup"><span data-stu-id="e93fe-168">Releasing a key causes a [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message to be placed in the queue.</span></span>

<span data-ttu-id="e93fe-169">As mensagens de chave e de baixo normalmente ocorrem em pares, mas se o usuário mantiver uma chave longa o suficiente para iniciar o recurso de repetição automático do teclado, o sistema gerará várias mensagens do [**WM \_ KEYDOWN**](wm-keydown.md) ou do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) em uma linha.</span><span class="sxs-lookup"><span data-stu-id="e93fe-169">Key-up and key-down messages typically occur in pairs, but if the user holds down a key long enough to start the keyboard's automatic repeat feature, the system generates a number of [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages in a row.</span></span> <span data-ttu-id="e93fe-170">Em seguida, ele gera uma única mensagem do [**WM \_ KEYUP**](wm-keyup.md) ou do [**WM \_ SYSKEYUP**](wm-syskeyup.md) quando o usuário libera a chave.</span><span class="sxs-lookup"><span data-stu-id="e93fe-170">It then generates a single [**WM\_KEYUP**](wm-keyup.md) or [**WM\_SYSKEYUP**](wm-syskeyup.md) message when the user releases the key.</span></span>

<span data-ttu-id="e93fe-171">Esta seção contém os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="e93fe-171">This section covers the following topics:</span></span>

-   [<span data-ttu-id="e93fe-172">Pressionamentos de tecla do sistema e não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-172">System and Nonsystem Keystrokes</span></span>](#system-and-nonsystem-keystrokes)
-   [<span data-ttu-id="e93fe-173">Códigos de chave virtual descritos</span><span class="sxs-lookup"><span data-stu-id="e93fe-173">Virtual-Key Codes Described</span></span>](#virtual-key-codes-described)
-   [<span data-ttu-id="e93fe-174">Sinalizadores de mensagem de pressionamento de tecla</span><span class="sxs-lookup"><span data-stu-id="e93fe-174">Keystroke Message Flags</span></span>](#keystroke-message-flags)

### <a name="system-and-nonsystem-keystrokes"></a><span data-ttu-id="e93fe-175">Pressionamentos de tecla do sistema e não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-175">System and Nonsystem Keystrokes</span></span>

<span data-ttu-id="e93fe-176">O sistema faz uma distinção entre pressionamentos de tecla do sistema e pressionamentos de tecla não do sistema.</span><span class="sxs-lookup"><span data-stu-id="e93fe-176">The system makes a distinction between system keystrokes and nonsystem keystrokes.</span></span> <span data-ttu-id="e93fe-177">As teclas do sistema produzem mensagens de pressionamento de tecla do sistema, o [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) e o [**WM \_ SYSKEYUP**](wm-syskeyup.md).</span><span class="sxs-lookup"><span data-stu-id="e93fe-177">System keystrokes produce system keystroke messages, [**WM\_SYSKEYDOWN**](wm-syskeydown.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md).</span></span> <span data-ttu-id="e93fe-178">As teclas não do sistema produzem mensagens de pressionamento de tecla que não são do sistema, o [**WM \_ KEYDOWN**](wm-keydown.md) e o [**WM \_ KEYUP**](wm-keyup.md).</span><span class="sxs-lookup"><span data-stu-id="e93fe-178">Nonsystem keystrokes produce nonsystem keystroke messages, [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_KEYUP**](wm-keyup.md).</span></span>

<span data-ttu-id="e93fe-179">Se o procedimento de janela precisar processar uma mensagem de pressionamento de tecla do sistema, verifique se depois de processar a mensagem o procedimento a transmite para a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-179">If your window procedure must process a system keystroke message, make sure that after processing the message the procedure passes it to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="e93fe-180">Caso contrário, todas as operações do sistema que envolvem a tecla ALT serão desabilitadas sempre que a janela tiver o foco do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-180">Otherwise, all system operations involving the ALT key will be disabled whenever the window has the keyboard focus.</span></span> <span data-ttu-id="e93fe-181">Ou seja, o usuário não poderá acessar os menus ou o menu do sistema da janela ou usar a combinação de teclas ALT + ESC ou ALT + TAB para ativar uma janela diferente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-181">That is, the user won't be able to access the window's menus or System menu, or use the ALT+ESC or ALT+TAB key combination to activate a different window.</span></span>

<span data-ttu-id="e93fe-182">As mensagens de pressionamento de tecla do sistema são usadas principalmente pelo sistema em vez de por um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-182">System keystroke messages are primarily for use by the system rather than by an application.</span></span> <span data-ttu-id="e93fe-183">O sistema as usa para fornecer sua interface de teclado interna para menus e permitir que o usuário controle qual janela está ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-183">The system uses them to provide its built-in keyboard interface to menus and to allow the user to control which window is active.</span></span> <span data-ttu-id="e93fe-184">As mensagens de pressionamento de tecla do sistema são geradas quando o usuário digita uma chave em combinação com a tecla ALT, ou quando o usuário digita e nenhuma janela tem o foco do teclado (por exemplo, quando o aplicativo ativo é minimizado).</span><span class="sxs-lookup"><span data-stu-id="e93fe-184">System keystroke messages are generated when the user types a key in combination with the ALT key, or when the user types and no window has the keyboard focus (for example, when the active application is minimized).</span></span> <span data-ttu-id="e93fe-185">Nesse caso, as mensagens são postadas na fila de mensagens anexada à janela ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-185">In this case, the messages are posted to the message queue attached to the active window.</span></span>

<span data-ttu-id="e93fe-186">As mensagens de pressionamento de tecla não do sistema são para uso pelas janelas do aplicativo; a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) não faz nada com eles.</span><span class="sxs-lookup"><span data-stu-id="e93fe-186">Nonsystem keystroke messages are for use by application windows; the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function does nothing with them.</span></span> <span data-ttu-id="e93fe-187">Um procedimento de janela pode descartar qualquer mensagem de pressionamento de tecla não do sistema que não seja necessária.</span><span class="sxs-lookup"><span data-stu-id="e93fe-187">A window procedure can discard any nonsystem keystroke messages that it does not need.</span></span>

### <a name="virtual-key-codes-described"></a><span data-ttu-id="e93fe-188">Códigos de Virtual-Key descritos</span><span class="sxs-lookup"><span data-stu-id="e93fe-188">Virtual-Key Codes Described</span></span>

<span data-ttu-id="e93fe-189">O parâmetro **wParam** de uma mensagem de pressionamento de tecla contém o código de chave virtual da chave que foi pressionada ou liberada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-189">The **wParam** parameter of a keystroke message contains the virtual-key code of the key that was pressed or released.</span></span> <span data-ttu-id="e93fe-190">Um procedimento de janela processa ou ignora uma mensagem de pressionamento de tecla, dependendo do valor do código de chave virtual.</span><span class="sxs-lookup"><span data-stu-id="e93fe-190">A window procedure processes or ignores a keystroke message, depending on the value of the virtual-key code.</span></span>

<span data-ttu-id="e93fe-191">Um procedimento de janela típico processa apenas um pequeno subconjunto das mensagens de pressionamento de tecla que recebe e ignora o restante.</span><span class="sxs-lookup"><span data-stu-id="e93fe-191">A typical window procedure processes only a small subset of the keystroke messages that it receives and ignores the rest.</span></span> <span data-ttu-id="e93fe-192">Por exemplo, um procedimento de janela pode processar apenas mensagens de pressionamentos de tecla [**\_ KEYDOWN do WM**](wm-keydown.md) e apenas aquelas que contêm códigos de chave virtual para as chaves de movimento do cursor, teclas Shift (também chamadas de chaves de controle) e teclas de função.</span><span class="sxs-lookup"><span data-stu-id="e93fe-192">For example, a window procedure might process only [**WM\_KEYDOWN**](wm-keydown.md) keystroke messages, and only those that contain virtual-key codes for the cursor movement keys, shift keys (also called control keys), and function keys.</span></span> <span data-ttu-id="e93fe-193">Um procedimento de janela típico não processa mensagens de pressionamento de teclas de chaves de caractere.</span><span class="sxs-lookup"><span data-stu-id="e93fe-193">A typical window procedure does not process keystroke messages from character keys.</span></span> <span data-ttu-id="e93fe-194">Em vez disso, ele usa a função [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) para converter a mensagem em mensagens de caracteres.</span><span class="sxs-lookup"><span data-stu-id="e93fe-194">Instead, it uses the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function to convert the message into character messages.</span></span> <span data-ttu-id="e93fe-195">Para obter mais informações sobre **TranslateMessage** e mensagens de caracteres, consulte [mensagens de caracteres](#character-messages).</span><span class="sxs-lookup"><span data-stu-id="e93fe-195">For more information about **TranslateMessage** and character messages, see [Character Messages](#character-messages).</span></span>

### <a name="keystroke-message-flags"></a><span data-ttu-id="e93fe-196">Sinalizadores de mensagem de pressionamento de tecla</span><span class="sxs-lookup"><span data-stu-id="e93fe-196">Keystroke Message Flags</span></span>

<span data-ttu-id="e93fe-197">O parâmetro **lParam** de uma mensagem de pressionamento de tecla contém informações adicionais sobre a tecla que gerou a mensagem.</span><span class="sxs-lookup"><span data-stu-id="e93fe-197">The **lParam** parameter of a keystroke message contains additional information about the keystroke that generated the message.</span></span> <span data-ttu-id="e93fe-198">Essas informações incluem a contagem de repetição, o código de verificação, o sinalizador de chave estendida, o código de contexto, o sinalizador de estado de chave anterior e o sinalizador de estado de transição.</span><span class="sxs-lookup"><span data-stu-id="e93fe-198">This information includes the repeat count, the scan code, the extended-key flag, the context code, the previous key-state flag, and the transition-state flag.</span></span> <span data-ttu-id="e93fe-199">A ilustração a seguir mostra os locais desses sinalizadores e valores no parâmetro **lParam** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-199">The following illustration shows the locations of these flags and values in the **lParam** parameter.</span></span>

![os locais dos sinalizadores e valores no parâmetro lParam de uma mensagem de pressionamento de tecla](images/csinp-02.png)

<span data-ttu-id="e93fe-201">Um aplicativo pode usar os valores a seguir para manipular os sinalizadores de pressionamento de tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-201">An application can use the following values to manipulate the keystroke flags.</span></span>



| <span data-ttu-id="e93fe-202">Valor</span><span class="sxs-lookup"><span data-stu-id="e93fe-202">Value</span></span>            | <span data-ttu-id="e93fe-203">Descrição</span><span class="sxs-lookup"><span data-stu-id="e93fe-203">Description</span></span>                                                                       |
|------------------|-----------------------------------------------------------------------------------|
| <span data-ttu-id="e93fe-204">**KF \_ ALTDOWN**</span><span class="sxs-lookup"><span data-stu-id="e93fe-204">**KF\_ALTDOWN**</span></span>  | <span data-ttu-id="e93fe-205">Manipula o sinalizador de tecla ALT, que indica se a tecla ALT é pressionada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-205">Manipulates the ALT key flag, which indicates whether the ALT key is pressed.</span></span>     |
| <span data-ttu-id="e93fe-206">**KF \_ DLGMODE**</span><span class="sxs-lookup"><span data-stu-id="e93fe-206">**KF\_DLGMODE**</span></span>  | <span data-ttu-id="e93fe-207">Manipula o sinalizador de modo de caixa de diálogo, que indica se uma caixa de diálogo está ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-207">Manipulates the dialog mode flag, which indicates whether a dialog box is active.</span></span> |
| <span data-ttu-id="e93fe-208">**KF \_ estendido**</span><span class="sxs-lookup"><span data-stu-id="e93fe-208">**KF\_EXTENDED**</span></span> | <span data-ttu-id="e93fe-209">Manipula o sinalizador de chave estendida.</span><span class="sxs-lookup"><span data-stu-id="e93fe-209">Manipulates the extended key flag.</span></span>                                                |
| <span data-ttu-id="e93fe-210">**menu de KFmode \_**</span><span class="sxs-lookup"><span data-stu-id="e93fe-210">**KF\_MENUMODE**</span></span> | <span data-ttu-id="e93fe-211">Manipula o sinalizador de modo de menu, que indica se um menu está ativo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-211">Manipulates the menu mode flag, which indicates whether a menu is active.</span></span>         |
| <span data-ttu-id="e93fe-212">**KF \_ repetir**</span><span class="sxs-lookup"><span data-stu-id="e93fe-212">**KF\_REPEAT**</span></span>   | <span data-ttu-id="e93fe-213">Manipula o sinalizador de estado de chave anterior.</span><span class="sxs-lookup"><span data-stu-id="e93fe-213">Manipulates the previous key state flag.</span></span>                                          |
| <span data-ttu-id="e93fe-214">**KF \_ up**</span><span class="sxs-lookup"><span data-stu-id="e93fe-214">**KF\_UP**</span></span>       | <span data-ttu-id="e93fe-215">Manipula o sinalizador de estado de transição.</span><span class="sxs-lookup"><span data-stu-id="e93fe-215">Manipulates the transition state flag.</span></span>                                            |



 

### <a name="repeat-count"></a><span data-ttu-id="e93fe-216">Contagem repetida</span><span class="sxs-lookup"><span data-stu-id="e93fe-216">Repeat Count</span></span>

<span data-ttu-id="e93fe-217">Você pode verificar a contagem de repetição para determinar se uma mensagem de pressionamento de tecla representa mais de uma tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-217">You can check the repeat count to determine whether a keystroke message represents more than one keystroke.</span></span> <span data-ttu-id="e93fe-218">O sistema incrementa a contagem quando o teclado gera mensagens do [**WM \_ KEYDOWN**](wm-keydown.md) ou do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) mais rápido do que um aplicativo pode processá-las.</span><span class="sxs-lookup"><span data-stu-id="e93fe-218">The system increments the count when the keyboard generates [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages faster than an application can process them.</span></span> <span data-ttu-id="e93fe-219">Isso geralmente ocorre quando o usuário mantém uma chave longa o suficiente para iniciar o recurso de repetição automática do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-219">This often occurs when the user holds down a key long enough to start the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="e93fe-220">Em vez de preencher a fila de mensagens do sistema com as mensagens de chave suspensa resultantes, o sistema combina as mensagens em uma mensagem de chave única e incrementa a contagem de repetição.</span><span class="sxs-lookup"><span data-stu-id="e93fe-220">Instead of filling the system message queue with the resulting key-down messages, the system combines the messages into a single key down message and increments the repeat count.</span></span> <span data-ttu-id="e93fe-221">A liberação de uma chave não pode iniciar o recurso de repetição automática, portanto, a contagem de repetição para as mensagens do [**WM \_ KEYUP**](wm-keyup.md) e do [**WM \_ SYSKEYUP**](wm-syskeyup.md) é sempre definida como 1.</span><span class="sxs-lookup"><span data-stu-id="e93fe-221">Releasing a key cannot start the automatic repeat feature, so the repeat count for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages is always set to 1.</span></span>

### <a name="scan-code"></a><span data-ttu-id="e93fe-222">Código de verificação</span><span class="sxs-lookup"><span data-stu-id="e93fe-222">Scan Code</span></span>

<span data-ttu-id="e93fe-223">O código de verificação é o valor que o hardware do teclado gera quando o usuário pressiona uma tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-223">The scan code is the value that the keyboard hardware generates when the user presses a key.</span></span> <span data-ttu-id="e93fe-224">É um valor dependente do dispositivo que identifica a chave pressionada, ao contrário do caractere representado pela chave.</span><span class="sxs-lookup"><span data-stu-id="e93fe-224">It is a device-dependent value that identifies the key pressed, as opposed to the character represented by the key.</span></span> <span data-ttu-id="e93fe-225">Um aplicativo normalmente ignora códigos de verificação.</span><span class="sxs-lookup"><span data-stu-id="e93fe-225">An application typically ignores scan codes.</span></span> <span data-ttu-id="e93fe-226">Em vez disso, ele usa os códigos de chave virtual independentes de dispositivo para interpretar mensagens de pressionamento de tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-226">Instead, it uses the device-independent virtual-key codes to interpret keystroke messages.</span></span>

### <a name="extended-key-flag"></a><span data-ttu-id="e93fe-227">Sinalizador de Extended-Key</span><span class="sxs-lookup"><span data-stu-id="e93fe-227">Extended-Key Flag</span></span>

<span data-ttu-id="e93fe-228">O sinalizador de chave estendida indica se a mensagem de pressionamento de tecla foi originada de uma das chaves adicionais no teclado avançado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-228">The extended-key flag indicates whether the keystroke message originated from one of the additional keys on the enhanced keyboard.</span></span> <span data-ttu-id="e93fe-229">As chaves estendidas consistem nas teclas ALT e CTRL no lado direito do teclado; as teclas INS, DEL, HOME, END, PAGE UP, PAGE DOWN e Arrow nos clusters à esquerda do teclado numérico; a tecla NUM LOCK; a tecla BREAK (CTRL + PAUSE); a chave de SCRN de impressão; e a divisão (/) e inserir chaves no teclado numérico.</span><span class="sxs-lookup"><span data-stu-id="e93fe-229">The extended keys consist of the ALT and CTRL keys on the right-hand side of the keyboard; the INS, DEL, HOME, END, PAGE UP, PAGE DOWN, and arrow keys in the clusters to the left of the numeric keypad; the NUM LOCK key; the BREAK (CTRL+PAUSE) key; the PRINT SCRN key; and the divide (/) and ENTER keys in the numeric keypad.</span></span> <span data-ttu-id="e93fe-230">O sinalizador de chave estendida será definido se a chave for uma chave estendida.</span><span class="sxs-lookup"><span data-stu-id="e93fe-230">The extended-key flag is set if the key is an extended key.</span></span>

### <a name="context-code"></a><span data-ttu-id="e93fe-231">Código de contexto</span><span class="sxs-lookup"><span data-stu-id="e93fe-231">Context Code</span></span>

<span data-ttu-id="e93fe-232">O código de contexto indica se a tecla ALT estava inoperante quando a mensagem de pressionamento de tecla foi gerada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-232">The context code indicates whether the ALT key was down when the keystroke message was generated.</span></span> <span data-ttu-id="e93fe-233">O código será 1 se a tecla ALT estava inoperante e 0 se ela estava ativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-233">The code is 1 if the ALT key was down and 0 if it was up.</span></span>

### <a name="previous-key-state-flag"></a><span data-ttu-id="e93fe-234">Sinalizador de Key-State anterior</span><span class="sxs-lookup"><span data-stu-id="e93fe-234">Previous Key-State Flag</span></span>

<span data-ttu-id="e93fe-235">O sinalizador de estado de chave anterior indica se a chave que gerou a mensagem de pressionamento de tecla foi anteriormente ativada ou inativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-235">The previous key-state flag indicates whether the key that generated the keystroke message was previously up or down.</span></span> <span data-ttu-id="e93fe-236">Será 1 se a chave tiver sido desativada e 0 se a chave já tiver sido ativada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-236">It is 1 if the key was previously down and 0 if the key was previously up.</span></span> <span data-ttu-id="e93fe-237">Você pode usar esse sinalizador para identificar as mensagens de pressionamento de tecla geradas pelo recurso de repetição automática do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-237">You can use this flag to identify keystroke messages generated by the keyboard's automatic repeat feature.</span></span> <span data-ttu-id="e93fe-238">Esse sinalizador é definido como 1 para mensagens de pressionamento de tecla do [**WM \_ KEYDOWN**](wm-keydown.md) e do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) geradas pelo recurso de repetição automática.</span><span class="sxs-lookup"><span data-stu-id="e93fe-238">This flag is set to 1 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) keystroke messages generated by the automatic repeat feature.</span></span> <span data-ttu-id="e93fe-239">Ele é sempre definido como 1 para mensagens do [**WM \_ KEYUP**](wm-keyup.md) e do [**WM \_ SYSKEYUP**](wm-syskeyup.md) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-239">It is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

### <a name="transition-state-flag"></a><span data-ttu-id="e93fe-240">Sinalizador de Transition-State</span><span class="sxs-lookup"><span data-stu-id="e93fe-240">Transition-State Flag</span></span>

<span data-ttu-id="e93fe-241">O sinalizador de estado de transição indica se pressionar uma tecla ou liberar uma chave gerou a mensagem de pressionamento de tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-241">The transition-state flag indicates whether pressing a key or releasing a key generated the keystroke message.</span></span> <span data-ttu-id="e93fe-242">Esse sinalizador é sempre definido como 0 para mensagens do [**WM \_ KEYDOWN**](wm-keydown.md) e do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) ; ele é sempre definido como 1 para mensagens do WM [**\_ KEYUP**](wm-keyup.md) e do [**WM \_ SYSKEYUP**](wm-syskeyup.md) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-242">This flag is always set to 0 for [**WM\_KEYDOWN**](wm-keydown.md) and [**WM\_SYSKEYDOWN**](wm-syskeydown.md) messages; it is always set to 1 for [**WM\_KEYUP**](wm-keyup.md) and [**WM\_SYSKEYUP**](wm-syskeyup.md) messages.</span></span>

## <a name="character-messages"></a><span data-ttu-id="e93fe-243">Mensagens de caracteres</span><span class="sxs-lookup"><span data-stu-id="e93fe-243">Character Messages</span></span>

<span data-ttu-id="e93fe-244">As mensagens de pressionamento de tecla fornecem muitas informações sobre pressionamentos de teclas, mas não fornecem códigos de caracteres para pressionamentos de teclas de caractere.</span><span class="sxs-lookup"><span data-stu-id="e93fe-244">Keystroke messages provide a lot of information about keystrokes, but they do not provide character codes for character keystrokes.</span></span> <span data-ttu-id="e93fe-245">Para recuperar códigos de caracteres, um aplicativo deve incluir a função [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) em seu loop de mensagem de thread.</span><span class="sxs-lookup"><span data-stu-id="e93fe-245">To retrieve character codes, an application must include the [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function in its thread message loop.</span></span> <span data-ttu-id="e93fe-246">**TranslateMessage** passa uma mensagem do [**WM \_ KEYDOWN**](wm-keydown.md) ou do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) para o layout do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-246">**TranslateMessage** passes a [**WM\_KEYDOWN**](wm-keydown.md) or [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message to the keyboard layout.</span></span> <span data-ttu-id="e93fe-247">O layout examina o código de chave virtual da mensagem e, se ele corresponder a uma chave de caractere, fornecerá o código de caractere equivalente (levando em conta o estado das teclas SHIFT e CAPS LOCK).</span><span class="sxs-lookup"><span data-stu-id="e93fe-247">The layout examines the message's virtual-key code and, if it corresponds to a character key, provides the character code equivalent (taking into account the state of the SHIFT and CAPS LOCK keys).</span></span> <span data-ttu-id="e93fe-248">Em seguida, ele gera uma mensagem de caractere que inclui o código de caractere e coloca a mensagem na parte superior da fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="e93fe-248">It then generates a character message that includes the character code and places the message at the top of the message queue.</span></span> <span data-ttu-id="e93fe-249">A próxima iteração do loop de mensagem remove a mensagem de caractere da fila e envia a mensagem para o procedimento de janela apropriado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-249">The next iteration of the message loop removes the character message from the queue and dispatches the message to the appropriate window procedure.</span></span>

<span data-ttu-id="e93fe-250">Esta seção contém os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="e93fe-250">This section covers the following topics:</span></span>

-   [<span data-ttu-id="e93fe-251">Mensagens de caracteres não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-251">Nonsystem Character Messages</span></span>](#nonsystem-character-messages)
-   [<span data-ttu-id="e93fe-252">Mensagens de caracteres inativos</span><span class="sxs-lookup"><span data-stu-id="e93fe-252">Dead-Character Messages</span></span>](#dead-character-messages)

### <a name="nonsystem-character-messages"></a><span data-ttu-id="e93fe-253">Mensagens de caracteres não do sistema</span><span class="sxs-lookup"><span data-stu-id="e93fe-253">Nonsystem Character Messages</span></span>

<span data-ttu-id="e93fe-254">Um procedimento de janela pode receber as seguintes mensagens de caractere: [**WM \_ Char**](wm-char.md), [**WM \_ DEADCHAR**](wm-deadchar.md), [**WM \_ SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md)e [**WM \_ UNICHAR**](wm-unichar.md).</span><span class="sxs-lookup"><span data-stu-id="e93fe-254">A window procedure can receive the following character messages: [**WM\_CHAR**](wm-char.md), [**WM\_DEADCHAR**](wm-deadchar.md), [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar), [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md), and [**WM\_UNICHAR**](wm-unichar.md).</span></span> <span data-ttu-id="e93fe-255">A função [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) gera uma mensagem do **WM \_ Char** ou do **WM \_ DEADCHAR** quando processa uma mensagem do [**WM \_ KEYDOWN**](wm-keydown.md) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-255">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates a **WM\_CHAR** or **WM\_DEADCHAR** message when it processes a [**WM\_KEYDOWN**](wm-keydown.md) message.</span></span> <span data-ttu-id="e93fe-256">Da mesma forma, ele gera uma mensagem do **WM \_ SYSCHAR** ou do **WM \_ SYSDEADCHAR** quando processa uma mensagem do [**WM \_ SYSKEYDOWN**](wm-syskeydown.md) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-256">Similarly, it generates a **WM\_SYSCHAR** or **WM\_SYSDEADCHAR** message when it processes a [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message.</span></span>

<span data-ttu-id="e93fe-257">Um aplicativo que processa a entrada de teclado normalmente ignora todas as mensagens do [**WM \_ Char**](wm-char.md) e do [**WM \_ UNICHAR**](wm-unichar.md) , passando quaisquer outras mensagens para a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-257">An application that processes keyboard input typically ignores all but the [**WM\_CHAR**](wm-char.md) and [**WM\_UNICHAR**](wm-unichar.md) messages, passing any other messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span> <span data-ttu-id="e93fe-258">Observe que o **WM \_ Char** usa o formato de transformação Unicode de 16 bits (UTF), enquanto o **WM \_ UNICHAR** usa UTF-32.</span><span class="sxs-lookup"><span data-stu-id="e93fe-258">Note that **WM\_CHAR** uses 16-bit Unicode Transformation Format (UTF) while **WM\_UNICHAR** uses UTF-32.</span></span> <span data-ttu-id="e93fe-259">O sistema usa as mensagens do [**WM \_ SYSCHAR**](/windows/desktop/menurc/wm-syschar) e do [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) para implementar mnemônicos do menu.</span><span class="sxs-lookup"><span data-stu-id="e93fe-259">The system uses the [**WM\_SYSCHAR**](/windows/desktop/menurc/wm-syschar) and [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) messages to implement menu mnemonics.</span></span>

<span data-ttu-id="e93fe-260">O parâmetro **wParam** de todas as mensagens de caractere contém o código de caractere da tecla de caractere que foi pressionada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-260">The **wParam** parameter of all character messages contains the character code of the character key that was pressed.</span></span> <span data-ttu-id="e93fe-261">O valor do código de caractere depende da classe de janela da janela que recebe a mensagem.</span><span class="sxs-lookup"><span data-stu-id="e93fe-261">The value of the character code depends on the window class of the window receiving the message.</span></span> <span data-ttu-id="e93fe-262">Se a versão Unicode da função [**registerClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) foi usada para registrar a classe de janela, o sistema fornecerá caracteres Unicode para todas as janelas dessa classe.</span><span class="sxs-lookup"><span data-stu-id="e93fe-262">If the Unicode version of the [**RegisterClass**](/windows/desktop/api/winuser/nf-winuser-registerclassa) function was used to register the window class, the system provides Unicode characters to all windows of that class.</span></span> <span data-ttu-id="e93fe-263">Caso contrário, o sistema fornece códigos de caracteres ASCII.</span><span class="sxs-lookup"><span data-stu-id="e93fe-263">Otherwise, the system provides ASCII character codes.</span></span> <span data-ttu-id="e93fe-264">Para obter mais informações, consulte [Unicode e conjuntos de caracteres](/windows/desktop/Intl/unicode-and-character-sets).</span><span class="sxs-lookup"><span data-stu-id="e93fe-264">For more information, see [Unicode and Character Sets](/windows/desktop/Intl/unicode-and-character-sets).</span></span>

<span data-ttu-id="e93fe-265">O conteúdo do parâmetro **lParam** de uma mensagem de caractere é idêntico ao conteúdo do parâmetro **lParam** da mensagem de chave que foi convertida para produzir a mensagem de caractere.</span><span class="sxs-lookup"><span data-stu-id="e93fe-265">The contents of the **lParam** parameter of a character message are identical to the contents of the **lParam** parameter of the key-down message that was translated to produce the character message.</span></span> <span data-ttu-id="e93fe-266">Para obter informações, consulte [sinalizadores de mensagem de pressionamento de tecla](#keystroke-message-flags).</span><span class="sxs-lookup"><span data-stu-id="e93fe-266">For information, see [Keystroke Message Flags](#keystroke-message-flags).</span></span>

### <a name="dead-character-messages"></a><span data-ttu-id="e93fe-267">Dead-Character mensagens</span><span class="sxs-lookup"><span data-stu-id="e93fe-267">Dead-Character Messages</span></span>

<span data-ttu-id="e93fe-268">Alguns teclados que não são do inglês contêm chaves de caracteres que não devem produzir caracteres por conta própria.</span><span class="sxs-lookup"><span data-stu-id="e93fe-268">Some non-English keyboards contain character keys that are not expected to produce characters by themselves.</span></span> <span data-ttu-id="e93fe-269">Em vez disso, eles são usados para adicionar um diacrítico ao caractere produzido pelo pressionamento de tecla subsequente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-269">Instead, they are used to add a diacritic to the character produced by the subsequent keystroke.</span></span> <span data-ttu-id="e93fe-270">Essas chaves são chamadas de *chaves inativas*.</span><span class="sxs-lookup"><span data-stu-id="e93fe-270">These keys are called *dead keys*.</span></span> <span data-ttu-id="e93fe-271">A chave de circunflexo em um teclado alemão é um exemplo de uma chave inoperante.</span><span class="sxs-lookup"><span data-stu-id="e93fe-271">The circumflex key on a German keyboard is an example of a dead key.</span></span> <span data-ttu-id="e93fe-272">Para inserir o caractere que consiste em um "o" com um acento circunflexo, um usuário em alemão digitaria a tecla circunflexo seguida da chave "o".</span><span class="sxs-lookup"><span data-stu-id="e93fe-272">To enter the character consisting of an "o" with a circumflex, a German user would type the circumflex key followed by the "o" key.</span></span> <span data-ttu-id="e93fe-273">A janela com o foco do teclado receberia a seguinte sequência de mensagens:</span><span class="sxs-lookup"><span data-stu-id="e93fe-273">The window with the keyboard focus would receive the following sequence of messages:</span></span>

1.  [<span data-ttu-id="e93fe-274">**o WM \_ KEYDOWN**</span><span class="sxs-lookup"><span data-stu-id="e93fe-274">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
2.  [<span data-ttu-id="e93fe-275">**DEADCHAR do WM \_**</span><span class="sxs-lookup"><span data-stu-id="e93fe-275">**WM\_DEADCHAR**</span></span>](wm-deadchar.md)
3.  [<span data-ttu-id="e93fe-276">**o WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="e93fe-276">**WM\_KEYUP**</span></span>](wm-keyup.md)
4.  [<span data-ttu-id="e93fe-277">**o WM \_ KEYDOWN**</span><span class="sxs-lookup"><span data-stu-id="e93fe-277">**WM\_KEYDOWN**</span></span>](wm-keydown.md)
5.  [<span data-ttu-id="e93fe-278">**caractere do WM \_**</span><span class="sxs-lookup"><span data-stu-id="e93fe-278">**WM\_CHAR**</span></span>](wm-char.md)
6.  [<span data-ttu-id="e93fe-279">**o WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="e93fe-279">**WM\_KEYUP**</span></span>](wm-keyup.md)

<span data-ttu-id="e93fe-280">O [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) gera a mensagem do [**WM \_ DEADCHAR**](wm-deadchar.md) quando processa a mensagem do [**WM \_ KEYDOWN**](wm-keydown.md) de uma chave inativa.</span><span class="sxs-lookup"><span data-stu-id="e93fe-280">[**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) generates the [**WM\_DEADCHAR**](wm-deadchar.md) message when it processes the [**WM\_KEYDOWN**](wm-keydown.md) message from a dead key.</span></span> <span data-ttu-id="e93fe-281">Embora o parâmetro *wParam* da mensagem **\_ DEADCHAR do WM** contenha o código de caractere do diacríticos para a chave inativa, um aplicativo normalmente ignora a mensagem.</span><span class="sxs-lookup"><span data-stu-id="e93fe-281">Although the *wParam* parameter of the **WM\_DEADCHAR** message contains the character code of the diacritic for the dead key, an application typically ignores the message.</span></span> <span data-ttu-id="e93fe-282">Em vez disso, ele processa a mensagem do [**WM \_ Char**](wm-char.md) gerada pelo pressionamento de tecla subsequente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-282">Instead, it processes the [**WM\_CHAR**](wm-char.md) message generated by the subsequent keystroke.</span></span> <span data-ttu-id="e93fe-283">O parâmetro *wParam* da mensagem do **WM \_ Char** contém o código de caractere da letra com o diacrítico.</span><span class="sxs-lookup"><span data-stu-id="e93fe-283">The *wParam* parameter of the **WM\_CHAR** message contains the character code of the letter with the diacritic.</span></span> <span data-ttu-id="e93fe-284">Se a tecla subsequente gerar um caractere que não pode ser combinado com um diacrítico, o sistema gerará duas mensagens do **WM \_ Char** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-284">If the subsequent keystroke generates a character that cannot be combined with a diacritic, the system generates two **WM\_CHAR** messages.</span></span> <span data-ttu-id="e93fe-285">O parâmetro *wParam* da primeira contém o código de caractere do diacrítico; o parâmetro *wParam* do segundo contém o código de caractere da chave de caractere subsequente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-285">The *wParam* parameter of the first contains the character code of the diacritic; the *wParam* parameter of the second contains the character code of the subsequent character key.</span></span>

<span data-ttu-id="e93fe-286">A função [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) gera a mensagem do [**WM \_ SYSDEADCHAR**](wm-sysdeadchar.md) ao processar a [**mensagem \_ SYSKEYDOWN do WM**](wm-syskeydown.md) de uma chave inativa do sistema (uma chave inativa que é pressionada em combinação com a tecla Alt).</span><span class="sxs-lookup"><span data-stu-id="e93fe-286">The [**TranslateMessage**](/windows/desktop/api/winuser/nf-winuser-translatemessage) function generates the [**WM\_SYSDEADCHAR**](wm-sysdeadchar.md) message when it processes the [**WM\_SYSKEYDOWN**](wm-syskeydown.md) message from a system dead key (a dead key that is pressed in combination with the ALT key).</span></span> <span data-ttu-id="e93fe-287">Um aplicativo normalmente ignora a mensagem **\_ SYSDEADCHAR do WM** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-287">An application typically ignores the **WM\_SYSDEADCHAR** message.</span></span>

## <a name="key-status"></a><span data-ttu-id="e93fe-288">Status da chave</span><span class="sxs-lookup"><span data-stu-id="e93fe-288">Key Status</span></span>

<span data-ttu-id="e93fe-289">Ao processar uma mensagem de teclado, um aplicativo pode precisar determinar o status de outra chave além da que gerou a mensagem atual.</span><span class="sxs-lookup"><span data-stu-id="e93fe-289">While processing a keyboard message, an application may need to determine the status of another key besides the one that generated the current message.</span></span> <span data-ttu-id="e93fe-290">Por exemplo, um aplicativo de processamento de texto que permite ao usuário pressionar SHIFT + END para selecionar um bloco de texto deve verificar o status da tecla SHIFT sempre que receber uma mensagem de pressionamento de tecla da chave final.</span><span class="sxs-lookup"><span data-stu-id="e93fe-290">For example, a word-processing application that allows the user to press SHIFT+END to select a block of text must check the status of the SHIFT key whenever it receives a keystroke message from the END key.</span></span> <span data-ttu-id="e93fe-291">O aplicativo pode usar a função [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) para determinar o status de uma chave virtual no momento em que a mensagem atual foi gerada; Ele pode usar a função [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) para recuperar o status atual de uma chave virtual.</span><span class="sxs-lookup"><span data-stu-id="e93fe-291">The application can use the [**GetKeyState**](/windows/win32/api/winuser/nf-winuser-getkeystate) function to determine the status of a virtual key at the time the current message was generated; it can use the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function to retrieve the current status of a virtual key.</span></span>

<span data-ttu-id="e93fe-292">O layout do teclado mantém uma lista de nomes.</span><span class="sxs-lookup"><span data-stu-id="e93fe-292">The keyboard layout maintains a list of names.</span></span> <span data-ttu-id="e93fe-293">O nome de uma chave que produz um único caractere é o mesmo que o caractere produzido pela chave.</span><span class="sxs-lookup"><span data-stu-id="e93fe-293">The name of a key that produces a single character is the same as the character produced by the key.</span></span> <span data-ttu-id="e93fe-294">O nome de uma chave não caractere, como TAB e ENTER, é armazenado como uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="e93fe-294">The name of a noncharacter key such as TAB and ENTER is stored as a character string.</span></span> <span data-ttu-id="e93fe-295">Um aplicativo pode recuperar o nome de qualquer chave do driver de dispositivo chamando a função [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-295">An application can retrieve the name of any key from the device driver by calling the [**GetKeyNameText**](/windows/win32/api/winuser/nf-winuser-getkeynametexta) function.</span></span>

## <a name="keystroke-and-character-translations"></a><span data-ttu-id="e93fe-296">Conversões de teclas e de caracteres</span><span class="sxs-lookup"><span data-stu-id="e93fe-296">Keystroke and Character Translations</span></span>

<span data-ttu-id="e93fe-297">O sistema inclui várias funções de finalidade especial que convertem códigos de verificação, códigos de caracteres e códigos de chave virtuais fornecidos por várias mensagens de tecla.</span><span class="sxs-lookup"><span data-stu-id="e93fe-297">The system includes several special purpose functions that translate scan codes, character codes, and virtual-key codes provided by various keystroke messages.</span></span> <span data-ttu-id="e93fe-298">Essas funções incluem [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya), [**toascii**](/windows/win32/api/winuser/nf-winuser-toascii), [**tounicode**](/windows/win32/api/winuser/nf-winuser-tounicode)e [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana).</span><span class="sxs-lookup"><span data-stu-id="e93fe-298">These functions include [**MapVirtualKey**](/windows/win32/api/winuser/nf-winuser-mapvirtualkeya), [**ToAscii**](/windows/win32/api/winuser/nf-winuser-toascii), [**ToUnicode**](/windows/win32/api/winuser/nf-winuser-tounicode), and [**VkKeyScan**](/windows/win32/api/winuser/nf-winuser-vkkeyscana).</span></span>

<span data-ttu-id="e93fe-299">Além disso, o Microsoft Rich Edit 3,0 dá suporte ao [IME HexToUnicode](/windows/desktop/Intl/hextounicode-ime), que permite que um usuário converta entre caracteres hexadecimais e Unicode usando teclas de acesso.</span><span class="sxs-lookup"><span data-stu-id="e93fe-299">In addition, Microsoft Rich Edit 3.0 supports the [HexToUnicode IME](/windows/desktop/Intl/hextounicode-ime), which allows a user to convert between hexadecimal and Unicode characters by using hot keys.</span></span> <span data-ttu-id="e93fe-300">Isso significa que, quando o Microsoft Rich Edit 3,0 é incorporado a um aplicativo, o aplicativo herdará os recursos do IME HexToUnicode.</span><span class="sxs-lookup"><span data-stu-id="e93fe-300">This means that when Microsoft Rich Edit 3.0 is incorporated into an application, the application will inherit the features of the HexToUnicode IME.</span></span>

## <a name="hot-key-support"></a><span data-ttu-id="e93fe-301">Suporte a Hot-Key</span><span class="sxs-lookup"><span data-stu-id="e93fe-301">Hot-Key Support</span></span>

<span data-ttu-id="e93fe-302">Uma *tecla de atalho* é uma combinação de teclas que gera uma mensagem de [**\_ tecla**](wm-hotkey.md) de acesso do WM, uma mensagem que o sistema coloca na parte superior da fila de mensagens de um thread, ignorando todas as mensagens existentes na fila.</span><span class="sxs-lookup"><span data-stu-id="e93fe-302">A *hot key* is a key combination that generates a [**WM\_HOTKEY**](wm-hotkey.md) message, a message the system places at the top of a thread's message queue, bypassing any existing messages in the queue.</span></span> <span data-ttu-id="e93fe-303">Os aplicativos usam teclas de acesso para obter a entrada de teclado de alta prioridade do usuário.</span><span class="sxs-lookup"><span data-stu-id="e93fe-303">Applications use hot keys to obtain high-priority keyboard input from the user.</span></span> <span data-ttu-id="e93fe-304">Por exemplo, ao definir uma tecla de atalho que consiste na combinação de teclas CTRL + C, um aplicativo pode permitir que o usuário cancele uma operação demorada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-304">For example, by defining a hot key consisting of the CTRL+C key combination, an application can allow the user to cancel a lengthy operation.</span></span>

<span data-ttu-id="e93fe-305">Para definir uma tecla de acesso, um aplicativo chama a função [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) , especificando a combinação de chaves que gera a mensagem de [**tecla de \_ atalho do WM**](wm-hotkey.md) , o identificador para a janela a fim de receber a mensagem e o identificador da tecla de acesso.</span><span class="sxs-lookup"><span data-stu-id="e93fe-305">To define a hot key, an application calls the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) function, specifying the combination of keys that generates the [**WM\_HOTKEY**](wm-hotkey.md) message, the handle to the window to receive the message, and the identifier of the hot key.</span></span> <span data-ttu-id="e93fe-306">Quando o usuário pressiona a tecla de atalho, uma mensagem de **\_ tecla** de acesso do WM é colocada na fila de mensagens do thread que criou a janela.</span><span class="sxs-lookup"><span data-stu-id="e93fe-306">When the user presses the hot key, a **WM\_HOTKEY** message is placed in the message queue of the thread that created the window.</span></span> <span data-ttu-id="e93fe-307">O parâmetro *wParam* da mensagem contém o identificador da tecla de acesso.</span><span class="sxs-lookup"><span data-stu-id="e93fe-307">The *wParam* parameter of the message contains the identifier of the hot key.</span></span> <span data-ttu-id="e93fe-308">O aplicativo pode definir várias teclas de acesso para um thread, mas cada tecla de acesso no thread deve ter um identificador exclusivo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-308">The application can define multiple hot keys for a thread, but each hot key in the thread must have a unique identifier.</span></span> <span data-ttu-id="e93fe-309">Antes de o aplicativo ser encerrado, ele deve usar a função [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) para destruir a tecla de acesso.</span><span class="sxs-lookup"><span data-stu-id="e93fe-309">Before the application terminates, it should use the [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) function to destroy the hot key.</span></span>

<span data-ttu-id="e93fe-310">Os aplicativos podem usar um controle de tecla de atalho para facilitar o usuário a escolher uma tecla de atalho.</span><span class="sxs-lookup"><span data-stu-id="e93fe-310">Applications can use a hot key control to make it easy for the user to choose a hot key.</span></span> <span data-ttu-id="e93fe-311">Os controles de teclas de acesso normalmente são usados para definir uma tecla de atalho que ativa uma janela; Eles não usam as funções [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) e [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-311">Hot key controls are typically used to define a hot key that activates a window; they do not use the [**RegisterHotKey**](/windows/win32/api/winuser/nf-winuser-registerhotkey) and [**UnregisterHotKey**](/windows/win32/api/winuser/nf-winuser-unregisterhotkey) functions.</span></span> <span data-ttu-id="e93fe-312">Em vez disso, um aplicativo que usa um controle de tecla de atalho normalmente envia a mensagem de [**\_ settecla do WM**](wm-sethotkey.md) para definir a tecla de atalho.</span><span class="sxs-lookup"><span data-stu-id="e93fe-312">Instead, an application that uses a hot key control typically sends the [**WM\_SETHOTKEY**](wm-sethotkey.md) message to set the hot key.</span></span> <span data-ttu-id="e93fe-313">Sempre que o usuário pressionar a tecla de atalho, o sistema enviará uma mensagem do [**WM \_ SYSCOMMAND**](/windows/desktop/menurc/wm-syscommand) especificando a tecla de acesso SC \_ .</span><span class="sxs-lookup"><span data-stu-id="e93fe-313">Whenever the user presses the hot key, the system sends a [**WM\_SYSCOMMAND**](/windows/desktop/menurc/wm-syscommand) message specifying SC\_HOTKEY.</span></span> <span data-ttu-id="e93fe-314">Para obter mais informações sobre os controles de tecla de atalho, consulte "usando controles de tecla quente" em [controles de tecla de atalho](../controls/hot-key-controls.md).</span><span class="sxs-lookup"><span data-stu-id="e93fe-314">For more information about hot key controls, see "Using Hot Key Controls" in [Hot Key Controls](../controls/hot-key-controls.md).</span></span>

## <a name="keyboard-keys-for-browsing-and-other-functions"></a><span data-ttu-id="e93fe-315">Teclas de teclado para navegação e outras funções</span><span class="sxs-lookup"><span data-stu-id="e93fe-315">Keyboard Keys for Browsing and Other Functions</span></span>

<span data-ttu-id="e93fe-316">O Windows oferece suporte a teclados com chaves especiais para funções de navegador, funções de mídia, inicialização de aplicativos e gerenciamento de energia.</span><span class="sxs-lookup"><span data-stu-id="e93fe-316">Windows provides support for keyboards with special keys for browser functions, media functions, application launching, and power management.</span></span> <span data-ttu-id="e93fe-317">O [**\_ APPCOMMAND do WM**](wm-appcommand.md) dá suporte às teclas de teclado adicionais.</span><span class="sxs-lookup"><span data-stu-id="e93fe-317">The [**WM\_APPCOMMAND**](wm-appcommand.md) supports the extra keyboard keys.</span></span> <span data-ttu-id="e93fe-318">Além disso, a função [**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) é modificada para dar suporte às teclas de teclado adicionais.</span><span class="sxs-lookup"><span data-stu-id="e93fe-318">In addition, the [**ShellProc**](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85)) function is modified to support the extra keyboard keys.</span></span>

<span data-ttu-id="e93fe-319">É improvável que uma janela filho em um aplicativo de componente seja capaz de implementar diretamente os comandos para essas teclas de teclado adicionais.</span><span class="sxs-lookup"><span data-stu-id="e93fe-319">It is unlikely that a child window in a component application will be able to directly implement commands for these extra keyboard keys.</span></span> <span data-ttu-id="e93fe-320">Assim, quando uma dessas chaves for pressionada, o [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) enviará uma mensagem do [**WM \_ APPCOMMAND**](wm-appcommand.md) para uma janela.</span><span class="sxs-lookup"><span data-stu-id="e93fe-320">So when one of these keys is pressed, [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) will send a [**WM\_APPCOMMAND**](wm-appcommand.md) message to a window.</span></span> <span data-ttu-id="e93fe-321">**DefWindowProc** também produzirá a mensagem do **WM \_ APPCOMMAND** em sua janela pai.</span><span class="sxs-lookup"><span data-stu-id="e93fe-321">**DefWindowProc** will also bubble the **WM\_APPCOMMAND** message to its parent window.</span></span> <span data-ttu-id="e93fe-322">Isso é semelhante à maneira como os menus de contexto são invocados com o botão direito do mouse, que é o **DefWindowProc** envia uma mensagem de [**\_ CONTEXTMENU do WM**](/windows/desktop/menurc/wm-contextmenu) em um clique com o botão direito e o Bubble para seu pai.</span><span class="sxs-lookup"><span data-stu-id="e93fe-322">This is similar to the way context menus are invoked with the right mouse button, which is that **DefWindowProc** sends a [**WM\_CONTEXTMENU**](/windows/desktop/menurc/wm-contextmenu) message on a right button click, and bubbles it to its parent.</span></span> <span data-ttu-id="e93fe-323">Além disso, se o **DefWindowProc** receber uma mensagem do **WM \_ APPCOMMAND** para uma janela de nível superior, ele chamará um gancho de shell com o código **HSHELL \_ APPCOMMAND**.</span><span class="sxs-lookup"><span data-stu-id="e93fe-323">Additionally, if **DefWindowProc** receives a **WM\_APPCOMMAND** message for a top-level window, it will call a shell hook with code **HSHELL\_APPCOMMAND**.</span></span>

<span data-ttu-id="e93fe-324">O Windows também dá suporte ao Microsoft IntelliMouse Explorer, que é um mouse com cinco botões.</span><span class="sxs-lookup"><span data-stu-id="e93fe-324">Windows also supports the Microsoft IntelliMouse Explorer, which is a mouse with five buttons.</span></span> <span data-ttu-id="e93fe-325">Os dois botões extras dão suporte à navegação do navegador para frente e para trás.</span><span class="sxs-lookup"><span data-stu-id="e93fe-325">The two extra buttons support forward and backward browser navigation.</span></span> <span data-ttu-id="e93fe-326">Para obter mais informações, consulte [XBUTTONs](about-mouse-input.md).</span><span class="sxs-lookup"><span data-stu-id="e93fe-326">For more information, see [XBUTTONs](about-mouse-input.md).</span></span>

## <a name="simulating-input"></a><span data-ttu-id="e93fe-327">Simulando entrada</span><span class="sxs-lookup"><span data-stu-id="e93fe-327">Simulating Input</span></span>

<span data-ttu-id="e93fe-328">Para simular uma série ininterrupta de eventos de entrada do usuário, use a função [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-328">To simulate an uninterrupted series of user input events, use the [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function.</span></span> <span data-ttu-id="e93fe-329">A função aceita três parâmetros.</span><span class="sxs-lookup"><span data-stu-id="e93fe-329">The function accepts three parameters.</span></span> <span data-ttu-id="e93fe-330">O primeiro parâmetro, *cInputs*, indica o número de eventos de entrada que serão simulados.</span><span class="sxs-lookup"><span data-stu-id="e93fe-330">The first parameter, *cInputs*, indicates the number of input events that will be simulated.</span></span> <span data-ttu-id="e93fe-331">O segundo parâmetro, *rgInputs*, é uma matriz de estruturas de [**entrada**](/windows/win32/api/winuser/ns-winuser-input) , cada uma descrevendo um tipo de evento de entrada e informações adicionais sobre esse evento.</span><span class="sxs-lookup"><span data-stu-id="e93fe-331">The second parameter, *rgInputs*, is an array of [**INPUT**](/windows/win32/api/winuser/ns-winuser-input) structures, each describing a type of input event and additional information about that event.</span></span> <span data-ttu-id="e93fe-332">O último parâmetro, *cbSize*, aceita o tamanho da estrutura de **entrada** , em bytes.</span><span class="sxs-lookup"><span data-stu-id="e93fe-332">The last parameter, *cbSize*, accepts the size of the **INPUT** structure, in bytes.</span></span>

<span data-ttu-id="e93fe-333">A função [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) funciona injetando uma série de eventos de entrada simulados no fluxo de entrada de um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-333">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function works by injecting a series of simulated input events into a device's input stream.</span></span> <span data-ttu-id="e93fe-334">O efeito é semelhante a chamar o [**\_ evento KEYBD**](/windows/win32/api/winuser/nf-winuser-keybd_event) ou a função de [**\_ evento mouse**](/windows/win32/api/winuser/nf-winuser-mouse_event) repetidamente, exceto que o sistema garante que nenhum outro evento de entrada seja intermisturado com os eventos simulados.</span><span class="sxs-lookup"><span data-stu-id="e93fe-334">The effect is similar to calling the [**keybd\_event**](/windows/win32/api/winuser/nf-winuser-keybd_event) or [**mouse\_event**](/windows/win32/api/winuser/nf-winuser-mouse_event) function repeatedly, except that the system ensures that no other input events intermingle with the simulated events.</span></span> <span data-ttu-id="e93fe-335">Quando a chamada é concluída, o valor de retorno indica o número de eventos de entrada que foram reproduzidos com êxito.</span><span class="sxs-lookup"><span data-stu-id="e93fe-335">When the call completes, the return value indicates the number of input events successfully played.</span></span> <span data-ttu-id="e93fe-336">Se esse valor for zero, a entrada foi bloqueada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-336">If this value is zero, then input was blocked.</span></span>

<span data-ttu-id="e93fe-337">A função [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) não redefine o estado atual do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-337">The [**SendInput**](/windows/win32/api/winuser/nf-winuser-sendinput) function does not reset the keyboard's current state.</span></span> <span data-ttu-id="e93fe-338">Portanto, se o usuário tiver alguma tecla pressionada quando você chamar essa função, poderá interferir nos eventos que essa função gera.</span><span class="sxs-lookup"><span data-stu-id="e93fe-338">Therefore, if the user has any keys pressed when you call this function, they might interfere with the events that this function generates.</span></span> <span data-ttu-id="e93fe-339">Se você estiver preocupado com a possibilidade de interferência, verifique o estado do teclado com a função [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) e corrija conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="e93fe-339">If you are concerned about possible interference, check the keyboard's state with the [**GetAsyncKeyState**](/windows/win32/api/winuser/nf-winuser-getasynckeystate) function and correct as necessary.</span></span>

## <a name="languages-locales-and-keyboard-layouts"></a><span data-ttu-id="e93fe-340">Idiomas, localidades e layouts de teclado</span><span class="sxs-lookup"><span data-stu-id="e93fe-340">Languages, Locales, and Keyboard Layouts</span></span>

<span data-ttu-id="e93fe-341">Uma *linguagem* é uma linguagem natural, como Inglês, francês e japonês.</span><span class="sxs-lookup"><span data-stu-id="e93fe-341">A *language* is a natural language, such as English, French, and Japanese.</span></span> <span data-ttu-id="e93fe-342">Um *subidioma* é uma variante de um idioma natural que é falado em uma região geográfica específica, como os subidiomas em inglês falados no Reino Unido e o Estados Unidos.</span><span class="sxs-lookup"><span data-stu-id="e93fe-342">A *sublanguage* is a variant of a natural language that is spoken in a specific geographical region, such as the English sublanguages spoken in the United Kingdom and the United States.</span></span> <span data-ttu-id="e93fe-343">Os aplicativos usam valores, chamados de [identificadores de idioma](/windows/desktop/Intl/language-identifiers), para identificar exclusivamente idiomas e subidiomas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-343">Applications use values, called [language identifiers](/windows/desktop/Intl/language-identifiers), to uniquely identify languages and sublanguages.</span></span>

<span data-ttu-id="e93fe-344">Normalmente, os aplicativos usam *localidades* para definir o idioma no qual a entrada e a saída são processadas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-344">Applications typically use *locales* to set the language in which input and output is processed.</span></span> <span data-ttu-id="e93fe-345">Definir a localidade para o teclado, por exemplo, afeta os valores de caracteres gerados pelo teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-345">Setting the locale for the keyboard, for example, affects the character values generated by the keyboard.</span></span> <span data-ttu-id="e93fe-346">Definir a localidade para a exibição ou impressora afeta os glifos exibidos ou impressos.</span><span class="sxs-lookup"><span data-stu-id="e93fe-346">Setting the locale for the display or printer affects the glyphs displayed or printed.</span></span> <span data-ttu-id="e93fe-347">Os aplicativos definem a localidade de um teclado carregando e usando layouts de teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-347">Applications set the locale for a keyboard by loading and using keyboard layouts.</span></span> <span data-ttu-id="e93fe-348">Eles definem a localidade para uma exibição ou impressora selecionando uma fonte que ofereça suporte à localidade especificada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-348">They set the locale for a display or printer by selecting a font that supports the specified locale.</span></span>

<span data-ttu-id="e93fe-349">Um layout de teclado não apenas especifica a posição física das chaves no teclado, mas também determina os valores de caracteres gerados pressionando essas chaves.</span><span class="sxs-lookup"><span data-stu-id="e93fe-349">A keyboard layout not only specifies the physical position of the keys on the keyboard but also determines the character values generated by pressing those keys.</span></span> <span data-ttu-id="e93fe-350">Cada layout identifica a linguagem de entrada atual e determina quais valores de caracteres são gerados por quais chaves e combinações de teclas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-350">Each layout identifies the current input language and determines which character values are generated by which keys and key combinations.</span></span>

<span data-ttu-id="e93fe-351">Cada layout de teclado tem um identificador correspondente que identifica o layout e o idioma.</span><span class="sxs-lookup"><span data-stu-id="e93fe-351">Every keyboard layout has a corresponding handle that identifies the layout and language.</span></span> <span data-ttu-id="e93fe-352">A palavra inferior do identificador é um identificador de idioma.</span><span class="sxs-lookup"><span data-stu-id="e93fe-352">The low word of the handle is a language identifier.</span></span> <span data-ttu-id="e93fe-353">A palavra alta é um identificador de dispositivo, especificando o layout físico ou é zero, indicando um layout físico padrão.</span><span class="sxs-lookup"><span data-stu-id="e93fe-353">The high word is a device handle, specifying the physical layout, or is zero, indicating a default physical layout.</span></span> <span data-ttu-id="e93fe-354">O usuário pode associar qualquer idioma de entrada a um layout físico.</span><span class="sxs-lookup"><span data-stu-id="e93fe-354">The user can associate any input language with a physical layout.</span></span> <span data-ttu-id="e93fe-355">Por exemplo, um usuário de fala em inglês que ocasionalmente trabalha em francês pode definir o idioma de entrada do teclado para francês sem alterar o layout físico do teclado.</span><span class="sxs-lookup"><span data-stu-id="e93fe-355">For example, an English-speaking user who very occasionally works in French can set the input language of the keyboard to French without changing the physical layout of the keyboard.</span></span> <span data-ttu-id="e93fe-356">Isso significa que o usuário pode inserir texto em francês usando o layout familiar em inglês.</span><span class="sxs-lookup"><span data-stu-id="e93fe-356">This means the user can enter text in French using the familiar English layout.</span></span>

<span data-ttu-id="e93fe-357">Os aplicativos geralmente não são esperados para manipular idiomas de entrada diretamente.</span><span class="sxs-lookup"><span data-stu-id="e93fe-357">Applications are generally not expected to manipulate input languages directly.</span></span> <span data-ttu-id="e93fe-358">Em vez disso, o usuário configura combinações de idioma e layout e, em seguida, alterna entre elas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-358">Instead, the user sets up language and layout combinations, then switches among them.</span></span> <span data-ttu-id="e93fe-359">Quando o usuário clica no texto marcado com um idioma diferente, o aplicativo chama a função [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) para ativar o layout padrão do usuário para esse idioma.</span><span class="sxs-lookup"><span data-stu-id="e93fe-359">When the user clicks into text marked with a different language, the application calls the [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function to activate the user's default layout for that language.</span></span> <span data-ttu-id="e93fe-360">Se o usuário editar o texto em um idioma que não está na lista ativa, o aplicativo poderá chamar a função [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) com o idioma para obter um layout baseado nesse idioma.</span><span class="sxs-lookup"><span data-stu-id="e93fe-360">If the user edits text in a language which is not in the active list, the application can call the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function with the language to get a layout based on that language.</span></span>

<span data-ttu-id="e93fe-361">A função [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) define o idioma de entrada para a tarefa atual.</span><span class="sxs-lookup"><span data-stu-id="e93fe-361">The [**ActivateKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-activatekeyboardlayout) function sets the input language for the current task.</span></span> <span data-ttu-id="e93fe-362">O parâmetro *HKL* pode ser o identificador para o layout do teclado ou um identificador de idioma com extensão zero.</span><span class="sxs-lookup"><span data-stu-id="e93fe-362">The *hkl* parameter can be either the handle to the keyboard layout or a zero-extended language identifier.</span></span> <span data-ttu-id="e93fe-363">As alças de layout do teclado podem ser obtidas na função [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) ou [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) .</span><span class="sxs-lookup"><span data-stu-id="e93fe-363">Keyboard layout handles can be obtained from the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) or [**GetKeyboardLayoutList**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutlist) function.</span></span> <span data-ttu-id="e93fe-364">Os valores de **HKL \_ Next** e **HKL \_** Previous também podem ser usados para selecionar o teclado seguinte ou anterior.</span><span class="sxs-lookup"><span data-stu-id="e93fe-364">The **HKL\_NEXT** and **HKL\_PREV** values can also be used to select the next or previous keyboard.</span></span>

<span data-ttu-id="e93fe-365">A função [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) recupera o nome do layout de teclado ativo para o thread de chamada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-365">The [**GetKeyboardLayoutName**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayoutnamea) function retrieves the name of the active keyboard layout for the calling thread.</span></span> <span data-ttu-id="e93fe-366">Se um aplicativo criar o layout ativo usando a função [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) , **GetKeyboardLayoutName** recuperará a mesma cadeia de caracteres usada para criar o layout.</span><span class="sxs-lookup"><span data-stu-id="e93fe-366">If an application creates the active layout using the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function, **GetKeyboardLayoutName** retrieves the same string used to create the layout.</span></span> <span data-ttu-id="e93fe-367">Caso contrário, a cadeia de caracteres é o identificador de idioma primário correspondente à localidade do layout ativo.</span><span class="sxs-lookup"><span data-stu-id="e93fe-367">Otherwise, the string is the primary language identifier corresponding to the locale of the active layout.</span></span> <span data-ttu-id="e93fe-368">Isso significa que a função pode não necessariamente diferenciar entre layouts diferentes com o mesmo idioma principal, portanto, não é possível retornar informações específicas sobre o idioma de entrada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-368">This means the function may not necessarily differentiate among different layouts with the same primary language, so cannot return specific information about the input language.</span></span> <span data-ttu-id="e93fe-369">No entanto, a função [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) pode ser usada para determinar o idioma de entrada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-369">The [**GetKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-getkeyboardlayout) function, however, can be used to determine the input language.</span></span>

<span data-ttu-id="e93fe-370">A função [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) carrega um layout de teclado e torna o layout disponível para o usuário.</span><span class="sxs-lookup"><span data-stu-id="e93fe-370">The [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function loads a keyboard layout and makes the layout available to the user.</span></span> <span data-ttu-id="e93fe-371">Os aplicativos podem tornar o layout imediatamente ativo para o thread atual usando o valor de **\_ ativação KLF** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-371">Applications can make the layout immediately active for the current thread by using the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="e93fe-372">Um aplicativo pode usar o valor de **\_ reordenação KLF** para reordenar os layouts sem especificar também o valor de **\_ ativação KLF** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-372">An application can use the **KLF\_REORDER** value to reorder the layouts without also specifying the **KLF\_ACTIVATE** value.</span></span> <span data-ttu-id="e93fe-373">Os aplicativos sempre devem usar o valor **\_ \_ OK KLF substituto** ao carregar layouts de teclado para garantir que a preferência do usuário, se houver, esteja selecionada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-373">Applications should always use the **KLF\_SUBSTITUTE\_OK** value when loading keyboard layouts to ensure that the user's preference, if any, is selected.</span></span>

<span data-ttu-id="e93fe-374">Para suporte multilíngue, a função [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) fornece os sinalizadores **KLF \_ REPLACELANG** e **KLF \_ NOTELLSHELL** .</span><span class="sxs-lookup"><span data-stu-id="e93fe-374">For multilingual support, the [**LoadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-loadkeyboardlayouta) function provides the **KLF\_REPLACELANG** and **KLF\_NOTELLSHELL** flags.</span></span> <span data-ttu-id="e93fe-375">O sinalizador **KLF \_ REPLACELANG** direciona a função para substituir um layout de teclado existente sem alterar o idioma.</span><span class="sxs-lookup"><span data-stu-id="e93fe-375">The **KLF\_REPLACELANG** flag directs the function to replace an existing keyboard layout without changing the language.</span></span> <span data-ttu-id="e93fe-376">A tentativa de substituir um layout existente usando o mesmo identificador de idioma, mas sem especificar **KLF \_ REPLACELANG** , é um erro.</span><span class="sxs-lookup"><span data-stu-id="e93fe-376">Attempting to replace an existing layout using the same language identifier but without specifying **KLF\_REPLACELANG** is an error.</span></span> <span data-ttu-id="e93fe-377">O sinalizador **KLF \_ NOTELLSHELL** impede que a função notifique o shell quando um layout de teclado é adicionado ou substituído.</span><span class="sxs-lookup"><span data-stu-id="e93fe-377">The **KLF\_NOTELLSHELL** flag prevents the function from notifying the shell when a keyboard layout is added or replaced.</span></span> <span data-ttu-id="e93fe-378">Isso é útil para aplicativos que adicionam vários layouts em uma série de chamadas consecutivas.</span><span class="sxs-lookup"><span data-stu-id="e93fe-378">This is useful for applications that add multiple layouts in a consecutive series of calls.</span></span> <span data-ttu-id="e93fe-379">Esse sinalizador deve ser usado em todos, exceto na última chamada.</span><span class="sxs-lookup"><span data-stu-id="e93fe-379">This flag should be used in all but the last call.</span></span>

<span data-ttu-id="e93fe-380">A função [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) é restrita, pois não pode descarregar o idioma de entrada padrão do sistema.</span><span class="sxs-lookup"><span data-stu-id="e93fe-380">The [**UnloadKeyboardLayout**](/windows/win32/api/winuser/nf-winuser-unloadkeyboardlayout) function is restricted in that it cannot unload the system default input language.</span></span> <span data-ttu-id="e93fe-381">Isso garante que o usuário sempre tenha um layout disponível para inserir texto usando o mesmo conjunto de caracteres usado pelo shell e pelo sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="e93fe-381">This ensures that the user always has one layout available for enter text using the same character set as used by the shell and file system.</span></span>

 

 
