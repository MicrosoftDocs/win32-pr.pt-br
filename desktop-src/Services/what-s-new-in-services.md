---
description: O Windows 7 e o Windows Server 2008 R2 incluem os seguintes elementos de programação novos e atualizados para serviços.
ms.assetid: 4be7e244-ad4c-440d-b04e-23afb4c7ddf2
title: Novidades em serviços para o Windows 7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 51bd2e8bfa5426447e24485ed026f27e90fdcaa1
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105755945"
---
# <a name="whats-new-in-services-for-windows-7"></a><span data-ttu-id="2789e-103">O que há de novo nos serviços do Windows 7</span><span class="sxs-lookup"><span data-stu-id="2789e-103">What's New in Services for Windows 7</span></span>

<span data-ttu-id="2789e-104">O Windows 7 e o Windows Server 2008 R2 incluem os seguintes elementos de programação novos e atualizados para serviços.</span><span class="sxs-lookup"><span data-stu-id="2789e-104">Windows 7 and Windows Server 2008 R2 include the following new and updated programming elements for services.</span></span>

## <a name="new-capabilities"></a><span data-ttu-id="2789e-105">Novos recursos</span><span class="sxs-lookup"><span data-stu-id="2789e-105">New Capabilities</span></span>

<span data-ttu-id="2789e-106">Um serviço pode se registrar para ser iniciado ou interrompido quando ocorrer um evento de gatilho.</span><span class="sxs-lookup"><span data-stu-id="2789e-106">A service can register to be started or stopped when a trigger event occurs.</span></span> <span data-ttu-id="2789e-107">Isso elimina a necessidade de que os serviços sejam iniciados quando o sistema é iniciado, ou para que os serviços sejam sondados ou aguardam ativamente um evento; um serviço pode ser iniciado quando necessário, em vez de iniciar automaticamente se o trabalho deve ou não ser feito.</span><span class="sxs-lookup"><span data-stu-id="2789e-107">This eliminates the need for services to start when the system starts, or for services to poll or actively wait for an event; a service can start when it is needed, instead of starting automatically whether or not there is work to do.</span></span> <span data-ttu-id="2789e-108">Para obter mais informações, consulte [eventos de gatilho de serviço](service-trigger-events.md).</span><span class="sxs-lookup"><span data-stu-id="2789e-108">For more information, see [Service Trigger Events](service-trigger-events.md).</span></span>

## <a name="updated-functions"></a><span data-ttu-id="2789e-109">Funções atualizadas</span><span class="sxs-lookup"><span data-stu-id="2789e-109">Updated Functions</span></span>



| <span data-ttu-id="2789e-110">Função</span><span class="sxs-lookup"><span data-stu-id="2789e-110">Function</span></span>                                                        | <span data-ttu-id="2789e-111">Descrição</span><span class="sxs-lookup"><span data-stu-id="2789e-111">Description</span></span>                                                                                                                                                                                                                                                                                |
|-----------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="2789e-112">**ChangeServiceConfig**</span><span class="sxs-lookup"><span data-stu-id="2789e-112">**ChangeServiceConfig**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga)<br/>   | <span data-ttu-id="2789e-113">Altera os parâmetros de configuração de um serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-113">Changes the configuration parameters of a service.</span></span> <span data-ttu-id="2789e-114">Essa função dá suporte a contas de serviço gerenciadas e contas virtuais.</span><span class="sxs-lookup"><span data-stu-id="2789e-114">This function supports managed service accounts and virtual accounts.</span></span> <span data-ttu-id="2789e-115">Para obter mais informações, consulte Guia passo a [passo das contas de serviço](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="2789e-115">For more information, see [Service Accounts Step-by-Step Guide](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span></span><br/>                                      |
| [<span data-ttu-id="2789e-116">**ChangeServiceConfig2**</span><span class="sxs-lookup"><span data-stu-id="2789e-116">**ChangeServiceConfig2**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfig2a)<br/> | <span data-ttu-id="2789e-117">Altera os parâmetros de configuração opcionais de um serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-117">Changes the optional configuration parameters of a service.</span></span> <span data-ttu-id="2789e-118">Essa função dá suporte a novos níveis de informações de configuração para grupos de processador e eventos de gatilho de serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-118">This function supports new configuration information levels for processor groups and service trigger events.</span></span><br/>                                                                                                        |
| [<span data-ttu-id="2789e-119">**CreateService**</span><span class="sxs-lookup"><span data-stu-id="2789e-119">**CreateService**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-createservicea)<br/>               | <span data-ttu-id="2789e-120">Cria um objeto de serviço e o adiciona ao banco de dados do Gerenciador de controle de serviço especificado.</span><span class="sxs-lookup"><span data-stu-id="2789e-120">Creates a service object and adds it to the specified service control manager database.</span></span> <span data-ttu-id="2789e-121">Essa função dá suporte a contas de serviço gerenciadas e contas virtuais.</span><span class="sxs-lookup"><span data-stu-id="2789e-121">This function supports managed service accounts and virtual accounts.</span></span> <span data-ttu-id="2789e-122">Para obter mais informações, consulte Guia passo a [passo das contas de serviço](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="2789e-122">For more information, see [Service Accounts Step-by-Step Guide](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/dd548356(v=ws.10)).</span></span><br/> |
| [<span data-ttu-id="2789e-123">**HandlerEx**</span><span class="sxs-lookup"><span data-stu-id="2789e-123">**HandlerEx**</span></span>](/windows/desktop/api/WinSvc/nc-winsvc-lphandler_function_ex)<br/>                       | <span data-ttu-id="2789e-124">Uma função de retorno de chamada definida pelo aplicativo usada com a função [**RegisterServiceCtrlHandlerEx**](/windows/desktop/api/Winsvc/nf-winsvc-registerservicectrlhandlerexa) .</span><span class="sxs-lookup"><span data-stu-id="2789e-124">An application-defined callback function used with the [**RegisterServiceCtrlHandlerEx**](/windows/desktop/api/Winsvc/nf-winsvc-registerservicectrlhandlerexa) function.</span></span> <span data-ttu-id="2789e-125">Essa função de retorno de chamada dá suporte a novos códigos de controle estendidos para alterações de horário do sistema e eventos de gatilho de serviço</span><span class="sxs-lookup"><span data-stu-id="2789e-125">This callback function supports new extended control codes for system time changes and service trigger events.</span></span><br/>                            |
| [<span data-ttu-id="2789e-126">**QueryServiceConfig2**</span><span class="sxs-lookup"><span data-stu-id="2789e-126">**QueryServiceConfig2**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-queryserviceconfig2a)<br/>   | <span data-ttu-id="2789e-127">Recupera os parâmetros de configuração opcionais de um serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-127">Retrieves the optional configuration parameters of a service.</span></span> <span data-ttu-id="2789e-128">Essa função dá suporte a novos níveis de informações de configuração para grupos de processador e eventos de gatilho de serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-128">This function supports new configuration information levels for processor groups and service trigger events.</span></span><br/>                                                                                                      |
| [<span data-ttu-id="2789e-129">**Falha em SetServiceStatus**</span><span class="sxs-lookup"><span data-stu-id="2789e-129">**SetServiceStatus**</span></span>](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus)<br/>         | <span data-ttu-id="2789e-130">Atualiza as informações de status do Gerenciador de controle de serviço para o serviço de chamada.</span><span class="sxs-lookup"><span data-stu-id="2789e-130">Updates the service control manager's status information for the calling service.</span></span> <span data-ttu-id="2789e-131">Essa função dá suporte a novos códigos de controle estendidos para alterações de horário do sistema e eventos de gatilho de serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-131">This function supports new extended control codes for system time changes and service trigger events.</span></span><br/>                                                                                         |



 

## <a name="new-structures"></a><span data-ttu-id="2789e-132">Novas estruturas</span><span class="sxs-lookup"><span data-stu-id="2789e-132">New Structures</span></span>



| <span data-ttu-id="2789e-133">Estrutura</span><span class="sxs-lookup"><span data-stu-id="2789e-133">Structure</span></span>                                                                                       | <span data-ttu-id="2789e-134">Descrição</span><span class="sxs-lookup"><span data-stu-id="2789e-134">Description</span></span>                                                            |
|-------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| [<span data-ttu-id="2789e-135">**\_informações de TIMEchange do serviço \_**</span><span class="sxs-lookup"><span data-stu-id="2789e-135">**SERVICE\_TIMECHANGE\_INFO**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_timechange_info)<br/>                         | <span data-ttu-id="2789e-136">Contém configurações de alteração de horário do sistema.</span><span class="sxs-lookup"><span data-stu-id="2789e-136">Contains system time change settings.</span></span> <br/>                      |
| [<span data-ttu-id="2789e-137">**gatilho de serviço \_**</span><span class="sxs-lookup"><span data-stu-id="2789e-137">**SERVICE\_TRIGGER**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger)<br/>                                          | <span data-ttu-id="2789e-138">Representa um evento de gatilho de serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-138">Represents a service trigger event.</span></span><br/>                         |
| [<span data-ttu-id="2789e-139">**\_informações do gatilho de serviço \_**</span><span class="sxs-lookup"><span data-stu-id="2789e-139">**SERVICE\_TRIGGER\_INFO**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger_info)<br/>                               | <span data-ttu-id="2789e-140">Contém informações de evento de gatilho para um serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-140">Contains trigger event information for a service.</span></span><br/>           |
| [<span data-ttu-id="2789e-141">**\_item de \_ \_ dados específico do gatilho \_ de serviço**</span><span class="sxs-lookup"><span data-stu-id="2789e-141">**SERVICE\_TRIGGER\_SPECIFIC\_DATA\_ITEM**</span></span>](/windows/desktop/api/winsvc/ns-winsvc-service_trigger_specific_data_item)<br/> | <span data-ttu-id="2789e-142">Contém dados específicos do gatilho para um evento de gatilho de serviço.</span><span class="sxs-lookup"><span data-stu-id="2789e-142">Contains trigger-specific data for a service trigger event.</span></span><br/> |



 

 

