---
description: À medida que cada entrada de serviço é lida do banco de dados dos serviços instalados, o SCM cria um registro de serviço para o serviço.
ms.assetid: c0ee43e2-af9b-4578-9017-46a5ed50b938
title: Lista de registros de serviço
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1143625de977c7e5c488c5cc56620adc3a5454db
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105762892"
---
# <a name="service-record-list"></a><span data-ttu-id="61e25-103">Lista de registros de serviço</span><span class="sxs-lookup"><span data-stu-id="61e25-103">Service Record List</span></span>

<span data-ttu-id="61e25-104">À medida que cada entrada de serviço é lida do banco de dados dos serviços instalados, o SCM cria um registro de serviço para o serviço.</span><span class="sxs-lookup"><span data-stu-id="61e25-104">As each service entry is read from the database of installed services, the SCM creates a service record for the service.</span></span> <span data-ttu-id="61e25-105">Um registro de serviço inclui:</span><span class="sxs-lookup"><span data-stu-id="61e25-105">A service record includes:</span></span>

-   <span data-ttu-id="61e25-106">Nome do serviço</span><span class="sxs-lookup"><span data-stu-id="61e25-106">Service name</span></span>
-   <span data-ttu-id="61e25-107">Tipo de início (início automático ou início de demanda)</span><span class="sxs-lookup"><span data-stu-id="61e25-107">Start type (auto-start or demand-start)</span></span>
-   <span data-ttu-id="61e25-108">Status do serviço (consulte a estrutura de [**\_ status do serviço**](/windows/desktop/api/Winsvc/ns-winsvc-service_status) )</span><span class="sxs-lookup"><span data-stu-id="61e25-108">Service status (see the [**SERVICE\_STATUS**](/windows/desktop/api/Winsvc/ns-winsvc-service_status) structure)</span></span> <dl> <span data-ttu-id="61e25-109">Tipo</span><span class="sxs-lookup"><span data-stu-id="61e25-109">Type</span></span>  
    <span data-ttu-id="61e25-110">Estado atual</span><span class="sxs-lookup"><span data-stu-id="61e25-110">Current state</span></span>  
    <span data-ttu-id="61e25-111">Códigos de controle aceitáveis</span><span class="sxs-lookup"><span data-stu-id="61e25-111">Acceptable control codes</span></span>  
    <span data-ttu-id="61e25-112">Código de saída</span><span class="sxs-lookup"><span data-stu-id="61e25-112">Exit code</span></span>  
    <span data-ttu-id="61e25-113">Dica de espera</span><span class="sxs-lookup"><span data-stu-id="61e25-113">Wait hint</span></span>  
    </dl>
-   Pointer to dependency list

<span data-ttu-id="61e25-114">O nome de usuário e a senha de uma conta são especificados no momento em que o serviço é instalado.</span><span class="sxs-lookup"><span data-stu-id="61e25-114">The user name and password of an account are specified at the time the service is installed.</span></span> <span data-ttu-id="61e25-115">O SCM armazena o nome de usuário no registro e a senha em uma parte segura da autoridade de segurança local (LSA).</span><span class="sxs-lookup"><span data-stu-id="61e25-115">The SCM stores the user name in the registry and the password in a secure portion of the Local Security Authority (LSA).</span></span> <span data-ttu-id="61e25-116">O administrador do sistema pode criar contas com senhas que nunca expiram.</span><span class="sxs-lookup"><span data-stu-id="61e25-116">The system administrator can create accounts with passwords that never expire.</span></span> <span data-ttu-id="61e25-117">Como alternativa, o administrador do sistema pode criar contas com senhas que expiram e gerenciam as contas alterando as senhas periodicamente.</span><span class="sxs-lookup"><span data-stu-id="61e25-117">Alternatively, the system administrator can create accounts with passwords that expire and manage the accounts by changing the passwords periodically.</span></span>

<span data-ttu-id="61e25-118">O SCM mantém duas cópias da senha de uma conta de usuário, uma senha atual e uma senha de backup.</span><span class="sxs-lookup"><span data-stu-id="61e25-118">The SCM keeps two copies of a user account's password, a current password and a backup password.</span></span> <span data-ttu-id="61e25-119">A senha especificada na primeira vez em que o serviço está instalado é armazenada como a senha atual e a senha de backup não é inicializada.</span><span class="sxs-lookup"><span data-stu-id="61e25-119">The password specified the first time the service is installed is stored as the current password and the backup password is not initialized.</span></span> <span data-ttu-id="61e25-120">Quando o SCM tenta executar o serviço no contexto de segurança da conta de usuário, ele usa a senha atual.</span><span class="sxs-lookup"><span data-stu-id="61e25-120">When the SCM attempts to run the service in the security context of the user account, it uses the current password.</span></span> <span data-ttu-id="61e25-121">Se a senha atual for usada com êxito, ela também será salva como a senha de backup.</span><span class="sxs-lookup"><span data-stu-id="61e25-121">If the current password is used successfully, it is also saved as the backup password.</span></span> <span data-ttu-id="61e25-122">Se a senha for modificada com a função [**ChangeServiceConfig**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga) ou o utilitário do painel de controle de serviços, a nova senha será armazenada como a senha atual e a senha anterior será armazenada como a senha de backup.</span><span class="sxs-lookup"><span data-stu-id="61e25-122">If the password is modified with the [**ChangeServiceConfig**](/windows/desktop/api/Winsvc/nf-winsvc-changeserviceconfiga) function, or the Services control panel utility, the new password is stored as the current password and the previous password is stored as the backup password.</span></span> <span data-ttu-id="61e25-123">Se o SCM tentar iniciar o serviço e a senha atual falhar, ele usará a senha de backup.</span><span class="sxs-lookup"><span data-stu-id="61e25-123">If the SCM attempts to start the service and the current password fails, then it uses the backup password.</span></span> <span data-ttu-id="61e25-124">Se a senha de backup for usada com êxito, ela será salva como a senha atual.</span><span class="sxs-lookup"><span data-stu-id="61e25-124">If the backup password is used successfully, it is saved as the current password.</span></span>

<span data-ttu-id="61e25-125">O SCM atualiza o status do serviço quando um serviço envia notificações de status usando a função [**falha em SetServiceStatus**](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus) .</span><span class="sxs-lookup"><span data-stu-id="61e25-125">The SCM updates the service status when a service sends it status notifications using the [**SetServiceStatus**](/windows/desktop/api/Winsvc/nf-winsvc-setservicestatus) function.</span></span> <span data-ttu-id="61e25-126">O SCM mantém o status de um serviço de driver consultando o sistema de e/s, em vez de receber notificações de status, como faz de um serviço.</span><span class="sxs-lookup"><span data-stu-id="61e25-126">The SCM maintains the status of a driver service by querying the I/O system, instead of receiving status notifications, as it does from a service.</span></span>

<span data-ttu-id="61e25-127">Um serviço pode registrar informações de tipo adicionais chamando a função [**SetServiceBits**](/windows/desktop/api/Lmserver/nf-lmserver-setservicebits) .</span><span class="sxs-lookup"><span data-stu-id="61e25-127">A service can register additional type information by calling the [**SetServiceBits**](/windows/desktop/api/Lmserver/nf-lmserver-setservicebits) function.</span></span> <span data-ttu-id="61e25-128">As funções [**NetServerGetInfo**](/windows/desktop/api/lmserver/nf-lmserver-netservergetinfo) e [**NetServerEnum**](/windows/desktop/api/lmserver/nf-lmserver-netserverenum) obtêm os tipos de serviço com suporte.</span><span class="sxs-lookup"><span data-stu-id="61e25-128">The [**NetServerGetInfo**](/windows/desktop/api/lmserver/nf-lmserver-netservergetinfo) and [**NetServerEnum**](/windows/desktop/api/lmserver/nf-lmserver-netserverenum) functions obtain the supported service types.</span></span>

 

 
