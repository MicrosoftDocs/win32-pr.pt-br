---
description: Quando ocorre um erro, a maioria das funções do sistema retorna um código de erro, geralmente 0, nulo ou &\# 8211; 1.
ms.assetid: fd5b0d6e-78cf-4f51-b61d-d32576cd485a
title: Código de Last-Error
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 80bf0fe2f544fc3d87690be81b0d09767745ef95
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103920202"
---
# <a name="last-error-code"></a><span data-ttu-id="fd24b-103">Código de Last-Error</span><span class="sxs-lookup"><span data-stu-id="fd24b-103">Last-Error Code</span></span>

<span data-ttu-id="fd24b-104">Quando ocorre um erro, a maioria das funções do sistema retorna um código de erro, geralmente 0, **nulo** ou – 1.</span><span class="sxs-lookup"><span data-stu-id="fd24b-104">When an error occurs, most system functions return an error code, usually 0, **NULL**, or –1.</span></span> <span data-ttu-id="fd24b-105">Muitas funções do sistema também definem um código de erro adicional chamado *código de último erro*.</span><span class="sxs-lookup"><span data-stu-id="fd24b-105">Many system functions also set an additional error code called the *last-error code*.</span></span> <span data-ttu-id="fd24b-106">Esse código de erro é mantido separadamente para cada thread em execução; um erro em um thread não substitui o último código de erro em outro thread.</span><span class="sxs-lookup"><span data-stu-id="fd24b-106">This error code is maintained separately for each running thread; an error in one thread does not overwrite the last-error code in another thread.</span></span> <span data-ttu-id="fd24b-107">Qualquer função pode chamar a função [**SetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-setlasterror) ou [**SetLastErrorEx**](/windows/desktop/api/Winuser/nf-winuser-setlasterrorex) para definir o último código de erro para o thread atual.</span><span class="sxs-lookup"><span data-stu-id="fd24b-107">Any function can call the [**SetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-setlasterror) or [**SetLastErrorEx**](/windows/desktop/api/Winuser/nf-winuser-setlasterrorex) function to set the last-error code for the current thread.</span></span> <span data-ttu-id="fd24b-108">Essas funções são destinadas principalmente às bibliotecas de vínculo dinâmico (DLL), para que possam fornecer informações ao aplicativo de chamada.</span><span class="sxs-lookup"><span data-stu-id="fd24b-108">These functions are intended primarily for dynamic-link libraries (DLL), so they can provide information to the calling application.</span></span> <span data-ttu-id="fd24b-109">Observe que algumas funções chamam **SetLastError** ou **SetLastErrorEx** com 0 quando tiverem êxito, apagando o código de erro definido pela função com falha mais recentemente, enquanto outros não.</span><span class="sxs-lookup"><span data-stu-id="fd24b-109">Note that some functions call **SetLastError** or **SetLastErrorEx** with 0 when they succeed, wiping out the error code set by the most recently failed function, while others do not.</span></span>

<span data-ttu-id="fd24b-110">Um aplicativo pode recuperar o código do último erro usando a função [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) ; o código de erro pode informar mais sobre o que realmente ocorreu para fazer a função falhar.</span><span class="sxs-lookup"><span data-stu-id="fd24b-110">An application can retrieve the last-error code by using the [**GetLastError**](/windows/win32/api/errhandlingapi/nf-errhandlingapi-getlasterror) function; the error code may tell more about what actually occurred to make the function fail.</span></span> <span data-ttu-id="fd24b-111">A documentação para funções do sistema indicará as condições sob as quais a função define o último código de erro.</span><span class="sxs-lookup"><span data-stu-id="fd24b-111">The documentation for system functions will indicate the conditions under which the function sets the last-error code.</span></span>

<span data-ttu-id="fd24b-112">O sistema define um conjunto de códigos de erro que podem ser definidos como códigos de último erro ou retornados por essas funções.</span><span class="sxs-lookup"><span data-stu-id="fd24b-112">The system defines a set of error codes that can be set as last-error codes or be returned by these functions.</span></span> <span data-ttu-id="fd24b-113">Os códigos de erro são valores de 32 bits (o bit 31 é o bit mais significativo).</span><span class="sxs-lookup"><span data-stu-id="fd24b-113">Error codes are 32-bit values (bit 31 is the most significant bit).</span></span> <span data-ttu-id="fd24b-114">O bit 29 é reservado para códigos de erro definidos pelo aplicativo; nenhum código de erro do sistema tem este conjunto de bits.</span><span class="sxs-lookup"><span data-stu-id="fd24b-114">Bit 29 is reserved for application-defined error codes; no system error code has this bit set.</span></span> <span data-ttu-id="fd24b-115">Se você definir códigos de erro para seu aplicativo, defina esse bit para indicar que o código de erro foi definido por um aplicativo e para garantir que os códigos de erro não entrem em conflito com nenhum código de erro definido pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="fd24b-115">If you define error codes for your application, set this bit to indicate that the error code has been defined by an application and to ensure that the error codes do not conflict with any system-defined error codes.</span></span> <span data-ttu-id="fd24b-116">Para obter mais informações, consulte WinError. h e [códigos de erro do sistema](system-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="fd24b-116">For more information, see WinError.h and [System Error Codes](system-error-codes.md).</span></span>

 

 
