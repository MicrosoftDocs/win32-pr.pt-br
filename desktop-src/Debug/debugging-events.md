---
description: Um evento de depuração é um incidente no processo que está sendo depurado que faz com que o sistema notifique o depurador.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Eventos de depuração
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e7d1f9f723e55b75b32d9f9e3cbf4baac0a8cc683dd3a5aa1b95a2931bceba29
ms.sourcegitcommit: e6600f550f79bddfe58bd4696ac50dd52cb03d7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/11/2021
ms.locfileid: "119642186"
---
# <a name="debugging-events"></a>Eventos de depuração

Um evento de depuração é um incidente no processo que está sendo depurado que faz com que o sistema notifique o depurador. Os eventos de depuração incluem a criação de um processo, a criação de um thread, o carregamento de uma DLL (biblioteca de vínculo dinâmico), o descarregamento de uma DLL, o envio de uma cadeia de caracteres de saída e a geração de uma exceção.

Se um evento de depuração ocorrer enquanto um depurador estiver aguardando um, o sistema preencherá a estrutura [**DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) especificada por [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) com informações que descrevem o evento.

Quando o sistema notifica o depurador de um evento de depuração, ele também suspende todos os threads no processo afetado. Os threads não retomam a execução até que o depurador continue o evento de depuração usando [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Os seguintes eventos de depuração podem ocorrer enquanto um processo está sendo depurado.



| Evento de depuração                          | Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CRIAR \_ EVENTO DE \_ DEPURAÇÃO DE \_ PROCESSO<br/> | Gerado sempre que um novo processo é criado em um processo que está sendo depurado ou sempre que o depurador começa a depurar um processo já ativo. O sistema gera esse evento de depuração antes que o processo comece a ser executado no modo de usuário e antes que o sistema gere outros eventos de depuração para o novo processo. <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma [**estrutura CREATE PROCESS \_ \_ DEBUG \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) Essa estrutura inclui um alça para o novo processo, um handle para o arquivo de imagem do processo, um alçamento para o thread inicial do processo e outras informações que descrevem o novo processo.<br/> O handle para o processo tem ACESSO DE GRAVAÇÃO DE VM DE PROCESSO DE LEITURA e \_ \_ GRAVAÇÃO de \_ \_ VM. Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar na memória do processo usando as funções [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) e [**WriteProcessMemory.**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) Se o sistema tiver relatado anteriormente um evento EXIT PROCESS DEBUG EVENT, o sistema fechará esse tratamento quando o depurador chamar a \_ \_ função \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> O handle para o arquivo de imagem do processo tem acesso DE LEITURA GENÉRICO \_ e é aberto para compartilhamento de leitura. O depurador deve fechar esse handle durante o processamento de CREATE \_ PROCESS \_ DEBUG \_ EVENT.<br/> O handle para o thread inicial do processo tem acesso THREAD GET CONTEXT, THREAD SET CONTEXT e \_ THREAD SUSPEND RESUME ao \_ \_ \_ \_ \_ thread. Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar nos registros do thread usando as funções [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e poderá suspender e retomar o thread usando as funções [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) Se o sistema tiver relatado anteriormente um evento EXIT PROCESS DEBUG EVENT, o sistema fechará esse tratamento quando o depurador chamar a \_ \_ função \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/> |
| CRIAR \_ EVENTO DE \_ DEPURAÇÃO DE \_ THREAD<br/>  | Gerado sempre que um novo thread é criado em um processo que está sendo depurado ou sempre que o depurador começa a depurar um processo já ativo. Esse evento de depuração é gerado antes que o novo thread comece a ser executado no modo de usuário. <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma [**estrutura CREATE THREAD \_ \_ DEBUG \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) Essa estrutura inclui um alça para o novo thread e o endereço inicial do thread. O handle tem acesso THREAD \_ GET \_ CONTEXT, THREAD \_ SET CONTEXT e THREAD SUSPEND RESUME ao \_ \_ \_ thread. Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar nos registros do thread usando as funções [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e poderá suspender e retomar o thread usando as funções [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread)<br/> Se o sistema tiver relatado anteriormente um evento EXIT THREAD DEBUG EVENT, o sistema fechará o handle para o novo thread quando o depurador chamar a \_ \_ função \_ [**ContinueDebugEvent.**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent)<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| EVENTO DE \_ DEPURAÇÃO DE \_ EXCEÇÃO<br/>       | Gerado sempre que ocorre uma exceção no processo que está sendo depurado. As possíveis exceções incluem a tentativa de acessar a memória inacessível, a execução de instruções de ponto de interrupção, a tentativa de divisão por zero ou qualquer outra exceção notada em Tratamento de Exceções [Estruturadas](structured-exception-handling.md). <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma [**estrutura EXCEPTION \_ DEBUG \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) Essa estrutura descreve a exceção que causou o evento de depuração.<br/> Além das condições de exceção padrão, um código de exceção adicional pode ocorrer durante a depuração do processo do console. O sistema gera um código de exceção DBG CONTROL C quando CTRL+C é entrada para um processo de console que lida com sinais CTRL+C e está \_ \_ sendo depurado. Esse código de exceção não deve ser tratado por aplicativos. Um aplicativo nunca deve usar um manipulador de exceção para lidar com ele. Ele é gerado somente para o benefício do depurador e só é usado quando um depurador é anexado ao processo de console.<br/> Se um processo não estiver sendo depurado ou se o depurador passar a exceção DBG CONTROL C sem tratamento (por meio do comando gn), a lista de funções de manipulador do aplicativo será pesquisada, conforme documentado para a função \_ \_ [**SetConsoleCtrlHandler.**](/windows/console/setconsolectrlhandler)<br/> Se o depurador tratar a exceção DBG CONTROL C (por meio do comando gh), um aplicativo não observará \_ CTRL+C, exceto no código \_ como este.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Portanto, o depurador não pode ser usado para impedir que a espera de leitura nesse código seja terminada.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| EVENTO EXIT \_ PROCESS \_ DEBUG \_<br/>   | Gerado sempre que o último thread em um processo que está sendo depurado sai. Esse evento de depuração ocorre imediatamente depois que o sistema descarrega as DLLs do processo e atualiza o código de saída do processo. <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura [**EXIT PROCESS \_ \_ DEBUG \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info) que especifica o código de saída.<br/> O depurador desaloca todas as estruturas internas associadas ao processo no recebimento desse evento de depuração. O sistema fecha o handle do depurador para o processo de saída e todos os threads do processo. O depurador não deve fechar esses alças.<br/> A parte do modo kernel do desligamento do processo não pode ser concluída até que o depurador que recebe esse evento [**chama ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Até lá, os alças do processo estão abertos e o espaço de endereço virtual não é liberado, portanto, o depurador pode examinar o processo filho. Para receber notificação quando a parte do modo kernel do desligamento do processo for concluída, duplique o handle retornado com CREATE \_ PROCESS \_ DEBUG EVENT, chame \_ **ContinueDebugEvent** e aguarde a sinalização do handle do processo duplicado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| EVENTO EXIT \_ THREAD \_ DEBUG \_<br/>    | Gerado sempre que um thread que faz parte de um processo que está sendo depurado sai. O sistema gera esse evento de depuração imediatamente depois de atualizar o código de saída do thread. <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura [**EXIT THREAD \_ \_ DEBUG \_ INFO**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info) que especifica o código de saída.<br/> Esse evento de depuração não ocorrerá se o thread de saída for o último thread de um processo. Nesse caso, o evento EXIT \_ PROCESS \_ DEBUG \_ EVENT depuração ocorre.<br/> O depurador desaloca todas as estruturas internas associadas ao thread no recebimento desse evento de depuração. O sistema fecha o alça do depurador para o thread de saída. O depurador não deve fechar esse alça.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CARREGAR \_ EVENTO DE \_ DEPURAÇÃO DE \_ DLL<br/>       | Gerado sempre que um processo que está sendo depurado carrega uma DLL. Esse evento de depuração ocorre quando o carregador do sistema resolve links para uma DLL ou quando o processo depurado usa a [**função LoadLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) Esse evento de depuração ocorre apenas na primeira vez que o sistema anexa uma DLL ao espaço de endereço virtual de um processo. <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma [**estrutura LOAD \_ DLL \_ DEBUG \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) Essa estrutura inclui um handle para a DLL carregada recentemente, o endereço base da DLL e outras informações que descrevem a DLL. O depurador deve fechar o handle para o alça DLL durante o processamento de LOAD \_ DLL \_ DEBUG \_ EVENT.<br/> Normalmente, um depurador carrega uma tabela de símbolos associada à DLL no recebimento desse evento de depuração.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| EVENTO OUTPUT \_ DEBUG \_ STRING \_<br/>  | Gerado quando um processo que está sendo depurado usa o <br/>[**Função OutputDebugString.**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura [**OUTPUT \_ DEBUG STRING \_ \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) Essa estrutura especifica o endereço, o comprimento e o formato da cadeia de caracteres de depuração.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| EVENTO UNLOAD \_ DLL \_ DEBUG \_<br/>     | Gerado sempre que um processo que está sendo depurado descarrega uma DLL usando a [**função FreeLibrary.**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) Esse evento de depuração ocorre apenas na última vez que uma DLL é descarregada do espaço de endereço de um processo (ou seja, quando a contagem de uso da DLL é zero). <br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura [**UNLOAD \_ DLL \_ DEBUG \_ INFO.**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) Essa estrutura especifica o endereço base da DLL no espaço de endereço do processo que descarrega a DLL.<br/> Normalmente, um depurador descarrega uma tabela de símbolos associada à DLL ao receber esse evento de depuração.<br/> Quando um processo é final, o sistema descarrega automaticamente as DLLs do processo, mas não gera um evento de depuração UNLOAD \_ DLL \_ DEBUG \_ EVENT.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| EVENTO DE \_ ONDULAÇÃO<br/>                    | Gerado sempre que um processo que está sendo depurado sai do controle do depurador do sistema.<br/> A [**estrutura DEBUG \_ EVENT**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma [**estrutura DE INFORMAÇÕES \_ DEPURAÇÃO.**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) Essa estrutura especifica o erro e o tipo de erro.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
