---
description: Um evento de depuração é um incidente no processo que está sendo depurado que faz com que o sistema notifique o depurador.
ms.assetid: 43ca51f1-ba73-4031-96c3-5815311ce6f6
title: Eventos de depuração
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bee6d159dded992e56ac05bc1d751246cd051733
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104010093"
---
# <a name="debugging-events"></a>Eventos de depuração

Um evento de depuração é um incidente no processo que está sendo depurado que faz com que o sistema notifique o depurador. Os eventos de depuração incluem a criação de um processo, a criação de um thread, o carregamento de uma DLL (biblioteca de vínculo dinâmico), o descarregamento de uma DLL, o envio de uma cadeia de caracteres de saída e a geração de uma exceção.

Se um evento de depuração ocorrer enquanto um depurador estiver aguardando um, o sistema preencherá a estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) especificada por [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) com informações que descrevem o evento.

Quando o sistema notifica o depurador de um evento de depuração, ele também suspende todos os threads no processo afetado. Os threads não reiniciam a execução até que o depurador continue o evento de depuração usando [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Os eventos de depuração a seguir podem ocorrer enquanto um processo está sendo depurado.



| Evento de depuração                          | Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
|------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| CRIAR \_ \_ evento de depuração de processo \_<br/> | Gerado sempre que um novo processo é criado em um processo que está sendo depurado ou sempre que o depurador começa a depurar um processo já ativo. O sistema gera esse evento de depuração antes que o processo comece a ser executado no modo de usuário e antes de o sistema gerar outros eventos de depuração para o novo processo. <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de \_ \_ depuração \_ criar processo**](/windows/win32/api/minwinbase/ns-minwinbase-create_process_debug_info) . Essa estrutura inclui um identificador para o novo processo, um identificador para o arquivo de imagem do processo, um identificador para o thread inicial do processo e outras informações que descrevem o novo processo.<br/> O identificador para o processo tem acesso de gravação de VM de processo de \_ \_ leitura e processamento de VM \_ \_ . Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar na memória do processo usando as funções [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory) . Se o sistema reportou anteriormente um evento de evento de depuração de processo de saída \_ \_ \_ , o sistema fechará esse identificador quando o depurador chamar a função [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> O identificador para o arquivo de imagem do processo tem \_ acesso de leitura genérico e é aberto para compartilhamento de leitura. O depurador deve fechar esse identificador durante o processamento do evento de depuração de processo de criação \_ \_ \_ .<br/> O identificador para o thread inicial do processo tem contexto de obtenção de THREAD \_ \_ , \_ contexto de conjunto de threads \_ e \_ acesso de retomada de thread de suspensão \_ ao thread. Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar nos registros do thread usando as funções [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e poderá suspender e retomar o thread usando as funções [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) . Se o sistema reportou anteriormente um evento de evento de depuração de processo de saída \_ \_ \_ , o sistema fechará esse identificador quando o depurador chamar a função [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/> |
| CRIAR \_ \_ evento de depuração de thread \_<br/>  | Gerado sempre que um novo thread é criado em um processo que está sendo depurado ou sempre que o depurador começa a depurar um processo já ativo. Este evento de depuração é gerado antes que o novo thread comece a ser executado no modo de usuário. <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de \_ \_ depuração \_ criar thread**](/windows/win32/api/minwinbase/ns-minwinbase-create_thread_debug_info) . Essa estrutura inclui um identificador para o novo thread e o endereço inicial do thread. O identificador tem o \_ contexto de obtenção de thread \_ , o \_ contexto de conjunto de threads \_ e \_ a suspensão de thread \_ . retome o acesso ao thread. Se um depurador tiver esses tipos de acesso a um thread, ele poderá ler e gravar nos registros do thread usando as funções [**GetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getthreadcontext) e [**SetThreadContext**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setthreadcontext) e poderá suspender e retomar o thread usando as funções [**SuspendThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-suspendthread) e [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) .<br/> Se o sistema anteriormente reportou um evento de evento de depuração de thread de saída \_ \_ \_ , o sistema fechará o identificador para o novo thread quando o depurador chamar a função [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| \_evento de depuração de exceção \_<br/>       | Gerado sempre que ocorre uma exceção no processo que está sendo depurado. As possíveis exceções incluem a tentativa de acessar a memória inacessível, a execução de instruções de ponto de interrupção, a tentativa de dividir por zero ou qualquer outra exceção observada na [manipulação de exceção estruturada](structured-exception-handling.md). <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de \_ depuração \_ de exceção**](/windows/win32/api/minwinbase/ns-minwinbase-exception_debug_info) . Esta estrutura descreve a exceção que causou o evento de depuração.<br/> Além das condições de exceção padrão, um código de exceção adicional pode ocorrer durante a depuração do processo do console. O sistema gera um \_ código de exceção de controle DBG \_ C quando Ctrl + c é inserido para um processo de console que MANIPULA sinais Ctrl + c e está sendo depurado. Esse código de exceção não deve ser tratado por aplicativos. Um aplicativo nunca deve usar um manipulador de exceção para lidar com ele. Ele é gerado apenas para o benefício do depurador e é usado apenas quando um depurador é anexado ao processo do console.<br/> Se um processo não estiver sendo depurado ou se o depurador passar na exceção de \_ controle DBG \_ C sem tratamento (através do comando GN), a lista de funções de manipulador do aplicativo será pesquisada, conforme documentado para a função [**SetConsoleCtrlHandler**](/windows/console/setconsolectrlhandler) .<br/> Se o depurador tratar a \_ exceção de controle DBG \_ C (por meio do comando GH), um aplicativo não notará o CTRL + C, exceto no código como este.<br/> `while ((inputChar = getchar()) != EOF) ...`<br/> Portanto, o depurador não pode ser usado para interromper a espera de leitura nesse código de encerrar.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                           |
| SAIR \_ do \_ evento de depuração do processo \_<br/>   | Gerado sempre que o último thread em um processo que está sendo depurado é encerrado. Esse evento de depuração ocorre imediatamente depois que o sistema descarrega as DLLs do processo e atualiza o código de saída do processo. <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de informações de depuração do processo de saída que especifica o código de saída. [**\_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-exit_process_debug_info)<br/> O depurador desaloca quaisquer estruturas internas associadas ao processo no recebimento deste evento de depuração. O sistema fecha o identificador do depurador para o processo de saída e todos os threads do processo. O depurador não deve fechar esses identificadores.<br/> A parte do modo kernel do desligamento do processo não pode ser concluída até que o depurador que recebe esse evento chame [**ContinueDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-continuedebugevent). Até lá, os identificadores de processo são abertos e o espaço de endereço virtual não é liberado, portanto, o depurador pode examinar o processo filho. Para receber a notificação quando a parte do modo kernel do desligamento do processo for concluída, duplique o identificador retornado com criar \_ evento de depuração de processo \_ \_ , chame **ContinueDebugEvent** e aguarde até que o identificador de processo duplicado seja sinalizado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| SAIR \_ do \_ evento de depuração de thread \_<br/>    | Gerado sempre que um thread que faz parte de um processo que está sendo depurado é encerrado. O sistema gera esse evento de depuração imediatamente após atualizar o código de saída do thread. <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de informações de depuração de thread de saída que especifica o código de saída. [**\_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-exit_thread_debug_info)<br/> Esse evento de depuração não ocorrerá se o thread existente for o último thread de um processo. Nesse caso, o evento de \_ depuração do evento de depuração do processo de saída \_ \_ ocorre em vez disso.<br/> O depurador desaloca quaisquer estruturas internas associadas ao thread no recebimento deste evento de depuração. O sistema fecha o identificador do depurador para o thread existente. O depurador não deve fechar esse identificador.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| CARREGAR \_ \_ evento de depuração de dll \_<br/>       | Gerado sempre que um processo que está sendo depurado carrega uma DLL. Esse evento de depuração ocorre quando o carregador do sistema resolve links para uma DLL ou quando o processo depurado usa a função [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) . Esse evento de depuração ocorre apenas na primeira vez em que o sistema anexa uma DLL ao espaço de endereço virtual de um processo. <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de depuração de DLL de carregamento \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-load_dll_debug_info) . Essa estrutura inclui um identificador para a DLL carregada recentemente, o endereço base da DLL e outras informações que descrevem a DLL. O depurador deve fechar o identificador para o identificador de DLL ao processar o evento de depuração de DLL de carregamento \_ \_ \_ .<br/> Normalmente, um depurador carrega uma tabela de símbolos associada à DLL no recebimento deste evento de depuração.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| \_evento de \_ cadeia de depuração de saída \_<br/>  | Gerado quando um processo que está sendo depurado usa o <br/>Função [**OutputDebugString**](/windows/win32/api/debugapi/nf-debugapi-outputdebugstringa) . A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de cadeia de depuração de saída \_ \_ \_**](/windows/win32/api/minwinbase/ns-minwinbase-output_debug_string_info) . Essa estrutura especifica o endereço, o comprimento e o formato da cadeia de caracteres de depuração.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Descarregar \_ \_ evento de depuração de dll \_<br/>     | Gerado sempre que um processo que está sendo depurado descarrega uma DLL usando a função [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary) . Esse evento de depuração ocorre apenas na última vez em que uma DLL é descarregada do espaço de endereço de um processo (ou seja, quando a contagem de uso da DLL é zero). <br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**informações de \_ \_ depuração \_ de dll Unload**](/windows/win32/api/minwinbase/ns-minwinbase-unload_dll_debug_info) . Essa estrutura especifica o endereço base da DLL no espaço de endereço do processo que descarrega a DLL.<br/> Normalmente, um depurador descarrega uma tabela de símbolos associada à DLL após receber esse evento de depuração.<br/> Quando um processo é encerrado, o sistema automaticamente descarrega as DLLs do processo, mas não gera um \_ evento unload dll \_ debug de \_ depuração de evento.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| evento de RIP \_<br/>                    | Gerado sempre que um processo que está sendo depurado se tornar fora do controle do depurador do sistema.<br/> A estrutura do [**\_ evento de depuração**](/windows/win32/api/minwinbase/ns-minwinbase-debug_event) contém uma estrutura de [**\_ informações de RIP**](/windows/win32/api/minwinbase/ns-minwinbase-rip_info) . Essa estrutura especifica o erro e o tipo de erro.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

 

 
