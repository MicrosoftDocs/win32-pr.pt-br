---
description: A configuração por aplicativo redireciona a dependência de um aplicativo específico de uma versão de um assembly lado a lado para outra versão do assembly.
ms.assetid: b7988385-c87e-443c-8ec3-84ab3c172eab
title: Configuração por aplicativo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7b17543c9972deefe2a2beda1f5eeba1c5ace2ba
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104171283"
---
# <a name="per-application-configuration"></a><span data-ttu-id="c209a-103">Configuração por aplicativo</span><span class="sxs-lookup"><span data-stu-id="c209a-103">Per-application Configuration</span></span>

<span data-ttu-id="c209a-104">A configuração por aplicativo redireciona a dependência de um aplicativo específico de uma versão de um assembly lado a lado para outra versão do assembly.</span><span class="sxs-lookup"><span data-stu-id="c209a-104">Per-application configuration redirects the dependence of a particular application from one version of a side-by-side assembly to another version of the assembly.</span></span> <span data-ttu-id="c209a-105">Uma configuração por aplicativo pode se tornar necessária se a operação correta de um aplicativo específico exigir uma versão de assembly diferente da versão normalmente especificada como configuração [padrão](default-configuration.md) ou [configuração de Publicador](publisher-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="c209a-105">A per-application configuration may become necessary if the correct operation of a particular application requires an assembly version that is different than the version normally specified as a [default configuration](default-configuration.md) or [publisher configuration](publisher-configuration.md).</span></span> <span data-ttu-id="c209a-106">Por exemplo, uma atualização global da versão do assembly pelo Publicador pode corrigir o assembly, mas interromper esse aplicativo específico.</span><span class="sxs-lookup"><span data-stu-id="c209a-106">For example, a global update of the assembly version by the publisher might fix the assembly but break this particular application.</span></span> <span data-ttu-id="c209a-107">Nesse caso, a configuração por aplicativo pode ser usada para permitir que o aplicativo continue a ser executado com a versão anterior do assembly.</span><span class="sxs-lookup"><span data-stu-id="c209a-107">In this case, per-application configuration might be used to enable the application to continue to run with the previous assembly version.</span></span>

<span data-ttu-id="c209a-108">A partir do Windows Server 2003, a configuração por aplicativo sempre substitui a [configuração padrão](default-configuration.md) por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-108">Starting with Windows Server 2003, per-application configuration always overrides the [default configuration](default-configuration.md) on a per-application basis.</span></span> <span data-ttu-id="c209a-109">A configuração por aplicativo substitui a [configuração do editor](publisher-configuration.md) em uma base por aplicativo somente se o arquivo de configuração do [aplicativo](application-configuration-files.md) especificar *Apply = "no"* em **publisherPolicy Apply** e houver uma entrada correspondente presente no banco de dados de compatibilidade de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c209a-109">Per-application configuration overrides [publisher configuration](publisher-configuration.md) on a per-application basis only if the [application configuration file](application-configuration-files.md) specifies *apply="no"* in **publisherPolicy** and there is a corresponding entry present in the Application Compatibility database.</span></span>

> [!Note]  
> <span data-ttu-id="c209a-110">No Windows XP, a configuração por aplicativo substitui a configuração [padrão](default-configuration.md) e a [configuração do editor](publisher-configuration.md) em uma base por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-110">On Windows XP, per-application configuration overrides both [default configuration](default-configuration.md) and [publisher configuration](publisher-configuration.md) on a per-application basis.</span></span> <span data-ttu-id="c209a-111">Para obter informações, consulte [configuração por aplicativo no Windows XP](per-application-configuration-on-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="c209a-111">For information, see [Per-application Configuration on Windows XP](per-application-configuration-on-windows-xp.md).</span></span>

 

<span data-ttu-id="c209a-112">A partir do Windows Server 2003, uma configuração por aplicativo substituirá uma [configuração de Publicador](publisher-configuration.md) se o [arquivo de configuração de aplicativo](application-configuration-files.md) especificar *Apply = "Yes"* em **publisherPolicy Apply** e o sinalizador EnableAppConfig for definido para o aplicativo no banco de dados de compatibilidade de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c209a-112">Starting with Windows Server 2003, a per-application configuration will override a [publisher configuration](publisher-configuration.md) if the [application configuration file](application-configuration-files.md) specifies *apply="yes"* in **publisherPolicy** and the EnableAppConfig flag is set for the application in the Application Compatibility database.</span></span> <span data-ttu-id="c209a-113">Essa capacidade de substituir uma configuração de Publicador usando uma configuração por aplicativo permite que o aplicativo seja executado em modo de modo de execução.</span><span class="sxs-lookup"><span data-stu-id="c209a-113">This capability to override a publisher configuration using a per-application configuration enables the application to be run in Safemode.</span></span> <span data-ttu-id="c209a-114">Para obter mais informações sobre o banco de dados e a compatibilidade de aplicativos, consulte o kit de ferramentas de compatibilidade de aplicativos do Windows.</span><span class="sxs-lookup"><span data-stu-id="c209a-114">For more information about the Application Compatibility database and Safemode, see the Windows Application Compatibility Toolkit.</span></span> <span data-ttu-id="c209a-115">Você pode obter o kit de ferramentas de compatibilidade de aplicativos do Windows a partir do [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) .</span><span class="sxs-lookup"><span data-stu-id="c209a-115">You can obtain the Windows Application Compatibility Toolkit from [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/).</span></span>

> [!Note]  
> <span data-ttu-id="c209a-116">Se você enviar componentes com um [arquivo de configuração de aplicativo](application-configuration-files.md) (arquivo. config) que especifica *Apply = "no"* em **publisherPolicy Apply**, isso fará com que a geração do contexto de ativação falhe.</span><span class="sxs-lookup"><span data-stu-id="c209a-116">If you ship components with an [application configuration file](application-configuration-files.md) (.config file) that specifies *apply="no"* in **publisherPolicy**, this will cause the generation of the activation context to fail.</span></span> <span data-ttu-id="c209a-117">A configuração por aplicativo será ignorada se você enviar componentes com um arquivo. config especificando *Apply = "Yes"* em **publisherPolicy Apply**.</span><span class="sxs-lookup"><span data-stu-id="c209a-117">The per-application configuration will be ignored if you ship components with a .config file specifying *apply="yes"* in **publisherPolicy**.</span></span>

 

<span data-ttu-id="c209a-118">Os administradores de aplicativos podem implementar uma configuração por aplicativo Criando e instalando arquivos de configuração de aplicativos e atualizando o banco de dados de compatibilidade de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c209a-118">Application administrators can implement a per-application configuration by authoring and installing application configuration files and updating the application compatibility database.</span></span> <span data-ttu-id="c209a-119">O arquivo de configuração de aplicativo deve ser implantado e instalado na mesma pasta que o arquivo executável do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-119">The application configuration file should then be deployed and installed into the same folder as the application's executable file.</span></span> <span data-ttu-id="c209a-120">Para obter uma lista do esquema de arquivo, consulte [esquema de arquivo de configuração de aplicativo](application-configuration-file-schema.md).</span><span class="sxs-lookup"><span data-stu-id="c209a-120">For a listing of the file schema, see [Application Configuration File Schema](application-configuration-file-schema.md).</span></span> <span data-ttu-id="c209a-121">O banco de dados de compatibilidade de aplicativos deve ser distribuído conforme descrito no kit de ferramentas de compatibilidade de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c209a-121">The application compatibility database must be distributed as described in the Application Compatibility Toolkit.</span></span>

> [!Note]  
> <span data-ttu-id="c209a-122">Se seu aplicativo for executado em modo de segurança, ele não receberá correções importantes ou correções de bugs que o editor do assembly pode emitir como arquivos de configuração do Publicador.</span><span class="sxs-lookup"><span data-stu-id="c209a-122">If your application runs in Safemode, it will not receive any important security fixes or bug fixes the publisher of the assembly might issue as publisher configuration files.</span></span> <span data-ttu-id="c209a-123">O aplicativo que usa a configuração por aplicativo pode, portanto, permanecer inseguro ou continuar a funcionar incorretamente mesmo depois que um novo assembly com essas correções for aplicado ao sistema.</span><span class="sxs-lookup"><span data-stu-id="c209a-123">An application that uses per-application configuration may therefore remain unsecure or continue to work incorrectly even after a new assembly with these fixes are applied to the system.</span></span> <span data-ttu-id="c209a-124">Por esse motivo, os desenvolvedores de aplicativos nunca devem enviar um aplicativo com uma configuração por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-124">For this reason, application developers should never ship an application with a per-application configuration.</span></span> <span data-ttu-id="c209a-125">A configuração por aplicativo só deve ser usada por administradores corporativos como uma correção temporária quando o aplicativo é interrompido por uma configuração de Publicador.</span><span class="sxs-lookup"><span data-stu-id="c209a-125">Per-application configuration should only be used by corporate administrators as a temporary fix when the application is broken by a publisher configuration.</span></span> <span data-ttu-id="c209a-126">Nesse caso, a solução permanente é que os desenvolvedores do assembly e os desenvolvedores do aplicativo precisarão trabalhar juntos para garantir que os assemblies com a configuração do Publicador sejam totalmente compatíveis com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="c209a-126">In this case, the permanent solution is that the developers of the assembly and the developers of the application will need to work together to ensure that the assemblies with publisher configuration are fully backwards compatible.</span></span>

 

<span data-ttu-id="c209a-127">Veja a seguir um exemplo de um arquivo de configuração de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-127">The following is an example of an application configuration file.</span></span> <span data-ttu-id="c209a-128">Para obter mais informações, consulte arquivos de configuração do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c209a-128">For more information, see Application Configuration Files.</span></span>

``` syntax
<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<configuration>
 <windows>
  <assemblyBinding xmlns="urn:schemas-microsoft-com:asm.v1">
   <assemblyIdentity  processorArchitecture="X86" name="Microsoft.Windows.mysampleApp" type="win32" version="1.0.0.0"/>
   <publisherPolicy apply="no"/>                     
   <dependentAssembly>
    <assemblyIdentity type="win32" processorArchitecture="x86" name="Microsoft.Windows.SampleAssembly" publicKeyToken="0000000000000000"/>
    <bindingRedirect oldVersion="2.0.0.0" newVersion="2.0.1.0"/>
   </dependentAssembly>
  </assemblyBinding>
 </windows>
</configuration>
```

<span data-ttu-id="c209a-129">O administrador do aplicativo deve adicionar as entradas necessárias ao banco de dados de compatibilidade de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c209a-129">The application administrator should add the required entries to the Application Compatibility database.</span></span> <span data-ttu-id="c209a-130">Baixe e instale o kit de ferramentas de compatibilidade de aplicativos do Windows 2,6 do [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/) .</span><span class="sxs-lookup"><span data-stu-id="c209a-130">Download and install the Windows Application Compatibility Toolkit 2.6 from [https://www.microsoft.com/downloads](https://www.microsoft.com/Downloads/).</span></span> <span data-ttu-id="c209a-131">Crie um novo personalizado ou atualize seu banco de dados existente usando o administrador de compatibilidade conforme descrito no kit de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="c209a-131">Create a new custom or update your existing database using the Compatibility Administrator as outlined in the toolkit.</span></span> <span data-ttu-id="c209a-132">A correção de compatibilidade que você deseja escolher para a camada de compatibilidade para seu aplicativo é EnableAppConfig.</span><span class="sxs-lookup"><span data-stu-id="c209a-132">The Compatibility Fix you want to choose for the compatibility layer for your application is EnableAppConfig.</span></span> <span data-ttu-id="c209a-133">Você deve sempre testar os aplicativos antes de instalar um novo banco de dados de compatibilidade.</span><span class="sxs-lookup"><span data-stu-id="c209a-133">You must always test applications before installing a new compatibility database.</span></span>

 

 



