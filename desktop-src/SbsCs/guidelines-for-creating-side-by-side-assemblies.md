---
description: As diretrizes a seguir discutem como criar seus próprios assemblies do COM ou do Win32 lado a lado.
ms.assetid: e10fe92c-bce8-420e-a84c-2748e929eb1b
title: Diretrizes para criar assemblies lado a lado
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: af8e8fd2bd31a65477b44d3afcf2156d5160a72a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104090211"
---
# <a name="guidelines-for-creating-side-by-side-assemblies"></a><span data-ttu-id="ae196-103">Diretrizes para criar assemblies lado a lado</span><span class="sxs-lookup"><span data-stu-id="ae196-103">Guidelines for Creating Side-by-side Assemblies</span></span>

<span data-ttu-id="ae196-104">As diretrizes a seguir discutem como criar seus próprios assemblies do COM ou do Win32 lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ae196-104">The following guidelines discuss how to author your own COM or Win32 side-by-side assemblies.</span></span> <span data-ttu-id="ae196-105">Talvez não seja necessário criar seus próprios assemblies lado a lado se a funcionalidade necessária for fornecida por um dos [assemblies da Microsoft lado a lado com suporte](supported-microsoft-side-by-side-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-105">You may not need to create your own side-by-side assemblies if the functionality needed is provided by one of the [supported Microsoft side-by-side assemblies](supported-microsoft-side-by-side-assemblies.md).</span></span> <span data-ttu-id="ae196-106">Nesse caso, use os assemblies fornecidos pela Microsoft e siga os procedimentos para usar assemblies lado a lado no [usando aplicativos isolados e assemblies lado a lado](using-isolated-applications-and-side-by-side-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-106">In this case, use the assemblies provided by Microsoft and follow the procedures for using side-by-side assemblies in [Using Isolated Applications and Side-by-side Assemblies](using-isolated-applications-and-side-by-side-assemblies.md).</span></span>

<span data-ttu-id="ae196-107">Primeiro, considere se o componente faz um candidato adequado para um assembly lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ae196-107">First, consider whether your component makes a suitable candidate for a side-by-side assembly.</span></span> <span data-ttu-id="ae196-108">Para obter mais informações, consulte [se você deve fornecer um componente compartilhado como um assembly lado a lado?](should-you-provide-a-shared-component-as-a-side-by-side-assembly.md)</span><span class="sxs-lookup"><span data-stu-id="ae196-108">For more information, see [Should you provide a shared component as a side-by-side assembly?](should-you-provide-a-shared-component-as-a-side-by-side-assembly.md)</span></span>

<span data-ttu-id="ae196-109">Para criar um assembly lado a lado, siga estas diretrizes:</span><span class="sxs-lookup"><span data-stu-id="ae196-109">To create a side-by-side assembly, follow these guidelines:</span></span>

-   <span data-ttu-id="ae196-110">Decida quais recursos incluir no assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-110">Decide which resources to include in the assembly.</span></span> <span data-ttu-id="ae196-111">Tenha em mente que um assembly consiste em um ou mais arquivos que são sempre fornecidos a aplicativos e clientes juntos.</span><span class="sxs-lookup"><span data-stu-id="ae196-111">Keep in mind that an assembly consists of one or more files that are always provided to applications and customers together.</span></span> <span data-ttu-id="ae196-112">O assembly serve como a unidade fundamental usada para nomenclatura, associação, controle de versão, implantação e [configuração padrão](default-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-112">The assembly serves as the fundamental unit used for naming, binding, versioning, deployment, and [default configuration](default-configuration.md).</span></span> <span data-ttu-id="ae196-113">Como regra geral, quando não se sabe se dois recursos pertencem ao mesmo assembly, é recomendável que eles sejam criados para entrar em assemblies separados.</span><span class="sxs-lookup"><span data-stu-id="ae196-113">As a general rule, when uncertain about whether two resources belong in the same assembly, it is recommended that they be authored to go into separate assemblies.</span></span> <span data-ttu-id="ae196-114">Normalmente, um assembly lado a lado consiste em uma única DLL.</span><span class="sxs-lookup"><span data-stu-id="ae196-114">Typically, a side-by-side assembly consists of a single DLL.</span></span>
-   <span data-ttu-id="ae196-115">Crie um [manifesto](manifests.md) do assembly para o assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-115">Create an assembly [manifest](manifests.md) for the assembly.</span></span> <span data-ttu-id="ae196-116">O manifesto deve descrever o objeto COM ou as bibliotecas de tipo no assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-116">The manifest should describe the COM object or type libraries in the assembly.</span></span> <span data-ttu-id="ae196-117">Para obter mais informações sobre o que deve ser criado em um manifesto de assembly, consulte [manifestos de assembly](assembly-manifests.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-117">For more information about what should be authored into an assembly manifest, see [assembly manifests](assembly-manifests.md).</span></span>
-   <span data-ttu-id="ae196-118">Avalie o uso de objetos quando mais de uma versão do assembly for executada no sistema.</span><span class="sxs-lookup"><span data-stu-id="ae196-118">Evaluate the usage of objects when more than one version of your assembly is run on the system.</span></span> <span data-ttu-id="ae196-119">Determine se versões diferentes do assembly exigem estruturas de dados separadas, como arquivos mapeados de memória, pipes nomeados, mensagens e classes registradas do Windows, memória compartilhada, semáforos, mutexes e drivers de hardware.</span><span class="sxs-lookup"><span data-stu-id="ae196-119">Determine whether different versions of the assembly require separate data structures, such as memory-mapped files, named pipes, registered Windows messages and classes, shared memory, semaphores, mutexes, and hardware drivers.</span></span> <span data-ttu-id="ae196-120">Quaisquer estruturas de dados usadas nas versões de assembly devem ser versões compatíveis com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="ae196-120">Any data structures used across assembly versions must be backward-compatible versions.</span></span> <span data-ttu-id="ae196-121">Decida quais estruturas de dados podem ser usadas em versões e quais estruturas de dados devem ser privadas para uma versão.</span><span class="sxs-lookup"><span data-stu-id="ae196-121">Decide which data structures can be used across versions and which data structures must be private to a version.</span></span> <span data-ttu-id="ae196-122">Determine se as estruturas de dados compartilhados exigem objetos de sincronização separados, como semáforos e mutexes.</span><span class="sxs-lookup"><span data-stu-id="ae196-122">Determine whether shared data structures require separate synchronization objects such as semaphores and mutexes.</span></span>
-   <span data-ttu-id="ae196-123">Crie sua DLL para funcionar bem como um assembly lado a lado, respeitando as diretrizes de [criação de uma dll para um assembly lado a lado](authoring-a-dll-for-a-side-by-side-assembly.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-123">Author your DLL to work well as a side-by-side assembly by adhering to the guidelines in [Authoring a DLL for a Side-by-Side Assembly](authoring-a-dll-for-a-side-by-side-assembly.md).</span></span>
-   <span data-ttu-id="ae196-124">Crie um conjunto de arquivos de cabeçalho e funções auxiliares para fornecer uma maneira fácil para as chaves de registro de versão que contêm o estado do assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-124">Author a set of header files and helper functions to provide an easy way to version registry keys containing the assembly state.</span></span> <span data-ttu-id="ae196-125">Os assemblies normalmente salvam suas configurações de estado nas chaves do registro.</span><span class="sxs-lookup"><span data-stu-id="ae196-125">Assemblies commonly save their state settings in registry keys.</span></span> <span data-ttu-id="ae196-126">As configurações do registro devem ser gravadas em uma base de versão individual para isolar várias versões de assembly que podem ser executadas ao mesmo tempo.</span><span class="sxs-lookup"><span data-stu-id="ae196-126">Registry settings must be written on an individual version basis to isolate multiple assembly versions that may be run at the same time.</span></span> <span data-ttu-id="ae196-127">Projete seu assembly lado a lado e a DLL para armazenar corretamente e manipular o estado do assembly durante cenários de compartilhamento lado a lado.</span><span class="sxs-lookup"><span data-stu-id="ae196-127">Design your side-by-side assembly and DLL to correctly store and handle the state of the assembly during side-by-side sharing scenarios.</span></span> <span data-ttu-id="ae196-128">Siga as diretrizes em [armazenamento de estado de criação para assemblies lado a lado](authoring-state-storage-for-side-by-side-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="ae196-128">Follow the guidelines in [Authoring State Storage for Side-by-Side Assemblies](authoring-state-storage-for-side-by-side-assemblies.md).</span></span>
-   <span data-ttu-id="ae196-129">Os desenvolvedores de aplicativos que usam [assemblies privados](/windows/desktop/Msi/private-assemblies) devem proteger o diretório do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ae196-129">Developers of applications that use [private assemblies](/windows/desktop/Msi/private-assemblies) should secure the application directory.</span></span> <span data-ttu-id="ae196-130">Se o aplicativo for instalado usando o [Windows Installer](../msi/windows-installer-portal.md), o diretório do aplicativo poderá ser protegido usando a Tabela LockPermissions.</span><span class="sxs-lookup"><span data-stu-id="ae196-130">If the application is installed using the [Windows Installer](../msi/windows-installer-portal.md), then the application directory can be secured by using the LockPermissions table.</span></span> <span data-ttu-id="ae196-131">Normalmente, o sistema recebe acesso de leitura, gravação e execução a assemblies privados; todos os outros processos recebem apenas acesso de execução e leitura.</span><span class="sxs-lookup"><span data-stu-id="ae196-131">Typically, the system is given read, write, and execute access to private assemblies; all other processes are given only execute and read access.</span></span>
-   <span data-ttu-id="ae196-132">Teste o assembly usando cenários com compartilhamento lado a lado para garantir que ele seja um assembly lado a lado válido.</span><span class="sxs-lookup"><span data-stu-id="ae196-132">Test the assembly using scenarios with side-by-side sharing to ensure that it is a valid side-by-side assembly.</span></span> <span data-ttu-id="ae196-133">A instalação bem-sucedida do assembly não é suficiente para garantir que ele funcionará conforme o esperado.</span><span class="sxs-lookup"><span data-stu-id="ae196-133">Successful installation of the assembly is not sufficient to guarantee that it will work as expected.</span></span>
-   <span data-ttu-id="ae196-134">Adote um método para numerar atualizações para seu assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-134">Adopt a method for numbering updates for your assembly.</span></span> <span data-ttu-id="ae196-135">Cada assembly é associado a um número de versão de quatro partes.</span><span class="sxs-lookup"><span data-stu-id="ae196-135">Each assembly is associated with a four-part version number.</span></span> <span data-ttu-id="ae196-136">Da esquerda para a direita, as partes principal, secundária, de compilação e de revisão são separadas por pontos.</span><span class="sxs-lookup"><span data-stu-id="ae196-136">Left-to-right, the major, minor, build, and revision parts are separated by periods.</span></span> <span data-ttu-id="ae196-137">Alterar o número principal ou secundário de um assembly para uma versão incompatível com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="ae196-137">Change the major or minor number of an assembly for a version that is incompatible with earlier versions.</span></span> <span data-ttu-id="ae196-138">Altere somente as partes de Build e de revisão para alterações compatíveis com versões anteriores para o assembly.</span><span class="sxs-lookup"><span data-stu-id="ae196-138">Change only the build and revision parts for backward-compatible changes to the assembly.</span></span> <span data-ttu-id="ae196-139">Por exemplo, um desenvolvedor pode adotar um método de numeração no qual todo o 1.0.0. \* os números de versão referem-se às versões de atualização para o assembly versão 1.0.0.0.</span><span class="sxs-lookup"><span data-stu-id="ae196-139">For example, a developer might adopt a numbering method in which all 1.0.0.\* version numbers refer to update versions to assembly version 1.0.0.0.</span></span>

 

 
