---
description: Para que um provedor de namespace possa ser acessado por meio do Windows Sockets, ele deve ser instalado corretamente no sistema e registrado com o Windows Sockets.
ms.assetid: c73baf62-b862-476c-b381-be00699e78ca
title: Configuração e instalação da resolução de nomes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 423e0ca7c9c5290a040a17e0f1ded2a97a1aed15
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105789929"
---
# <a name="name-resolution-configuration-and-installation"></a><span data-ttu-id="c9972-103">Configuração e instalação da resolução de nomes</span><span class="sxs-lookup"><span data-stu-id="c9972-103">Name Resolution Configuration and Installation</span></span>

<span data-ttu-id="c9972-104">Para que um provedor de namespace possa ser acessado por meio do Windows Sockets, ele deve ser instalado corretamente no sistema e registrado com o Windows Sockets.</span><span class="sxs-lookup"><span data-stu-id="c9972-104">In order for a namespace provider to be accessible through Windows Sockets it must be properly installed on the system and registered with Windows Sockets.</span></span> <span data-ttu-id="c9972-105">Quando um provedor de namespace é instalado invocando o programa de instalação de um fornecedor, as informações de configuração devem ser adicionadas a um banco de dados de configuração para fornecer ao Ws2 \_32.dll informações necessárias sobre o provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="c9972-105">When a namespace provider is installed by invoking a vendor's installation program, configuration information must be added to a configuration database to give the Ws2\_32.dll required information regarding the service provider.</span></span> <span data-ttu-id="c9972-106">O ws2 \_32.dll exporta [**WSCInstallNameSpace**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace) para o programa de instalação do fornecedor usar.</span><span class="sxs-lookup"><span data-stu-id="c9972-106">The Ws2\_32.dll exports [**WSCInstallNameSpace**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace) for the vendor's installation program to use.</span></span> <span data-ttu-id="c9972-107">Essa função é usada para fornecer informações relevantes sobre o provedor de serviços a ser instalado.</span><span class="sxs-lookup"><span data-stu-id="c9972-107">This function is used to supply relevant information about the service provider to be installed.</span></span> <span data-ttu-id="c9972-108">Essas informações incluem:</span><span class="sxs-lookup"><span data-stu-id="c9972-108">This information includes:</span></span>

-   <span data-ttu-id="c9972-109">Nome do provedor — uma cadeia de caracteres que representa o provedor para exibição no painel de controle.</span><span class="sxs-lookup"><span data-stu-id="c9972-109">Provider Name — A string representing the provider for display in Control Panel.</span></span>
-   <span data-ttu-id="c9972-110">Versão do provedor — a versão deste provedor.</span><span class="sxs-lookup"><span data-stu-id="c9972-110">Provider Version — The version of this provider.</span></span>
-   <span data-ttu-id="c9972-111">Caminho do provedor — um nome de caminho para a DLL do provedor.</span><span class="sxs-lookup"><span data-stu-id="c9972-111">Provider Path — A path name to the provider DLL.</span></span>
-   <span data-ttu-id="c9972-112">Namespace — o namespace com suporte no provedor.</span><span class="sxs-lookup"><span data-stu-id="c9972-112">Namespace — The namespace supported by the provider.</span></span>
-   <span data-ttu-id="c9972-113">GUID do provedor — um número exclusivo fornecido pelo fornecedor que representa essa combinação de provedor/namespace.</span><span class="sxs-lookup"><span data-stu-id="c9972-113">Provider GUID — A unique, vendor-supplied number representing this provider/namespace combination.</span></span> <span data-ttu-id="c9972-114">Isso é usado como uma chave para todas as referências subsequentes para esse provedor e para a desinstalação.</span><span class="sxs-lookup"><span data-stu-id="c9972-114">This is used as a key for all subsequent references to this provider, and for uninstall.</span></span> <span data-ttu-id="c9972-115">Esses valores são criados usando o utilitário Uuidgen.exe.</span><span class="sxs-lookup"><span data-stu-id="c9972-115">These values are created using the Uuidgen.exe utility.</span></span>
-   <span data-ttu-id="c9972-116">Armazena todos os sinalizadores — um sinalizador que indica se este provedor de namespace será responsável por reter todas as informações de esquema de classe de serviço para todas as classes de serviço.</span><span class="sxs-lookup"><span data-stu-id="c9972-116">Stores all flags — a flag indicating whether this namespace provider will be responsible for retaining all service class schema information for all service classes.</span></span> <span data-ttu-id="c9972-117">Se esse provedor existir, o32.dll Ws2 \_ não precisará consultar cada provedor de namespace individual para obter essas informações.</span><span class="sxs-lookup"><span data-stu-id="c9972-117">If such a provider exists, the Ws2\_32.dll does not need to query each individual namespace provider for this information.</span></span>

<span data-ttu-id="c9972-118">No Windows Vista e posterior, é fornecida uma função [**WSCInstallNameSpaceEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespaceex32) avançada que permite que o provedor de namespace transmita um blob adicional de dados específicos para o namespace.</span><span class="sxs-lookup"><span data-stu-id="c9972-118">On Windows Vista and later, an enhanced [**WSCInstallNameSpaceEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespaceex32) function is provided that allows the namespace provider to pass an additional blob of data specific to the namespace.</span></span>

<span data-ttu-id="c9972-119">Em plataformas de 64 bits, as funções [**WSCInstallNameSpace32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace32) e [**WSCInstallNameSpaceEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespaceex32) semelhantes são fornecidas para instalar um namespace no catálogo de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c9972-119">On 64-bit platforms, similar [**WSCInstallNameSpace32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace32) and [**WSCInstallNameSpaceEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespaceex32) functions are provided to install a namespace in the 32-bit catalog.</span></span>

<span data-ttu-id="c9972-120">O \_32.dll Ws2 também fornece uma função, [**WSCUnInstallNameSpace**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscuninstallnamespace), para o programa de desinstalação de um fornecedor para remover todas as informações relevantes do banco de dados de configuração.</span><span class="sxs-lookup"><span data-stu-id="c9972-120">The Ws2\_32.dll also provides a function, [**WSCUnInstallNameSpace**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscuninstallnamespace), for a vendor's deinstallation program to remove all the relevant information from the configuration database.</span></span> <span data-ttu-id="c9972-121">O local exato e o formato dessas informações de configuração são privados para o \_32.dll Ws2 e só podem ser manipulados pelas funções mencionadas acima.</span><span class="sxs-lookup"><span data-stu-id="c9972-121">The exact location and format of this configuration information is private to the Ws2\_32.dll, and can only be manipulated by the above-mentioned functions.</span></span>

<span data-ttu-id="c9972-122">Em plataformas de 64 bits, uma função [**WSCInstallNameSpace32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace32) semelhante é fornecida para desinstalar um namespace no catálogo de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="c9972-122">On 64-bit platforms, a similar [**WSCInstallNameSpace32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscinstallnamespace32) function is provided to uninstall a namespace in the 32-bit catalog.</span></span>

<span data-ttu-id="c9972-123">A qualquer momento, um provedor de namespace é considerado ativo ou inativo, com essa configuração controlada por meio das funções [**WSCEnableNSProvider**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider) e [**WSCEnableNSProvider32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider32) .</span><span class="sxs-lookup"><span data-stu-id="c9972-123">At any point, an namespace provider is considered to be either active or inactive, with this setting controlled through the [**WSCEnableNSProvider**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider) and [**WSCEnableNSProvider32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider32) functions.</span></span> <span data-ttu-id="c9972-124">Provedores de namespace que estão inativos continuam a aparecer quando enumerados (usando as funções [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa), [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa), [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32)e [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) ), mas o ws2 \_32.dll não roteará nenhuma consulta ou operações de registro de serviço para esses provedores.</span><span class="sxs-lookup"><span data-stu-id="c9972-124">Namespace providers that are inactive continue to show up when enumerated (using the [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa), [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa), [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32), and [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) functions), but the Ws2\_32.dll will not route any query or service registration operations to these providers.</span></span> <span data-ttu-id="c9972-125">Esse recurso pode ser útil em situações em que mais de um dos provedores de namespaces instalados pode dar suporte a um namespace específico.</span><span class="sxs-lookup"><span data-stu-id="c9972-125">This capability can be useful in situations where more than one of the installed namespace providers can support a given namespace.</span></span>

<span data-ttu-id="c9972-126">Quando vários provedores de namespace são referenciados em uma única função de API, a ordem na qual as operações de consultas e de registro são roteadas para provedores de namespace não é especificada.</span><span class="sxs-lookup"><span data-stu-id="c9972-126">When multiple namespace providers are referenced in a single API function, the order in which the order in which the queries and registration operations are routed to namespace providers is unspecified.</span></span> <span data-ttu-id="c9972-127">A ordem não está relacionada à ordem na qual os provedores de namespace são instalados.</span><span class="sxs-lookup"><span data-stu-id="c9972-127">The order is unrelated to the order in which namespace providers are installed.</span></span> <span data-ttu-id="c9972-128">Há duas maneiras de controlar quais provedores de namespace são usados para resolver uma consulta de nome.</span><span class="sxs-lookup"><span data-stu-id="c9972-128">There are two ways to control which namespace providers are used to resolve a name query.</span></span> <span data-ttu-id="c9972-129">Primeiro, as funções [**WSCEnableNSProvider**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider) e [**WSCEnableNSProvider32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider32) podem ser usadas para habilitar e desabilitar namespaces de forma persistente em todo o computador.</span><span class="sxs-lookup"><span data-stu-id="c9972-129">First, the [**WSCEnableNSProvider**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider) and [**WSCEnableNSProvider32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenablensprovider32) functions can be used to enable and disable namespaces in a computer-wide, persistent way.</span></span> <span data-ttu-id="c9972-130">Em segundo lugar, os aplicativos podem direcionar uma consulta individual para um provedor específico especificando o GUID de identificação do provedor como parte da consulta.</span><span class="sxs-lookup"><span data-stu-id="c9972-130">Second, applications can direct an individual query to a particular provider by specifying that provider's identifying GUID as part of the query.</span></span>

 

 



