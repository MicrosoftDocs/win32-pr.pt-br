---
description: Um provedor de namespace implementa um mapeamento de interface entre o SPI do namespace do Winsock e a interface programática nativa de um serviço de nome existente, como DNS, X. 500 ou Serviços de diretório do NetWare (NDS).
ms.assetid: 9b35aa58-9011-4e0d-8c93-02714952b4a5
title: Provedores de serviço de namespace
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4e975c7ad0e5df29910624bb8f0b9d94fd24d9b8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105752384"
---
# <a name="namespace-service-providers"></a><span data-ttu-id="0511c-103">Provedores de serviço de namespace</span><span class="sxs-lookup"><span data-stu-id="0511c-103">Namespace Service Providers</span></span>

<span data-ttu-id="0511c-104">Um provedor de namespace implementa um mapeamento de interface entre o SPI do namespace do Winsock e a interface programática nativa de um serviço de nome existente, como DNS, X. 500 ou Serviços de diretório do NetWare (NDS).</span><span class="sxs-lookup"><span data-stu-id="0511c-104">A namespace provider implements an interface mapping between the Winsock namespace SPI and the native programmatic interface of an existing name service such as DNS, X.500, or NetWare Directory Services (NDS).</span></span> <span data-ttu-id="0511c-105">Embora um provedor de namespace dê suporte a exatamente um namespace, é possível que vários provedores de um determinado namespace sejam instalados.</span><span class="sxs-lookup"><span data-stu-id="0511c-105">While a namespace provider supports exactly one namespace, it is possible for multiple providers for a given namespace to be installed.</span></span> <span data-ttu-id="0511c-106">Também é possível que uma única DLL crie uma instância de vários provedores de namespace.</span><span class="sxs-lookup"><span data-stu-id="0511c-106">It is also possible for a single DLL to create an instance of multiple namespace providers.</span></span> <span data-ttu-id="0511c-107">Como os provedores de namespace são instalados, um catálogo das estruturas de [**\_ informações do WSANAMESPACE**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) é mantido.</span><span class="sxs-lookup"><span data-stu-id="0511c-107">As namespace providers are installed, a catalog of [**WSANAMESPACE\_INFO**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infow) structures is maintained.</span></span> <span data-ttu-id="0511c-108">Um aplicativo pode usar o [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) para descobrir quais namespaces têm suporte em um computador.</span><span class="sxs-lookup"><span data-stu-id="0511c-108">An application may use [**WSAEnumNameSpaceProviders**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersa) to discover which namespaces are supported on a computer.</span></span>

<span data-ttu-id="0511c-109">No Windows Vista e posterior, uma estrutura [**\_ INFOEX WSANAMESPACE**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) e uma função [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) aprimoradas são fornecidas.</span><span class="sxs-lookup"><span data-stu-id="0511c-109">On Windows Vista and later, an enhanced [**WSANAMESPACE\_INFOEX**](/windows/desktop/api/Winsock2/ns-winsock2-wsanamespace_infoexw) structure and [**WSAEnumNameSpaceProvidersEx**](/windows/desktop/api/Winsock2/nf-winsock2-wsaenumnamespaceprovidersexa) function are provided.</span></span>

<span data-ttu-id="0511c-110">Em plataformas de 64 bits, as funções [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) e [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) semelhantes são fornecidas para enumerar o catálogo de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="0511c-110">On 64-bit platforms, similar [**WSCEnumNameSpaceProviders32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceproviders32) and [**WSCEnumNameSpaceProvidersEx32**](/windows/desktop/api/Ws2spi/nf-ws2spi-wscenumnamespaceprovidersex32) functions are provided to enumerate the 32-bit catalog.</span></span>

<span data-ttu-id="0511c-111">Consulte [requisitos do provedor de serviço de namespace do Winsock](winsock-namespace-service-provider-requirements.md) para obter informações detalhadas.</span><span class="sxs-lookup"><span data-stu-id="0511c-111">Refer to [Winsock Namespace Service Provider Requirements](winsock-namespace-service-provider-requirements.md) for detailed information.</span></span>

## <a name="legacy-getxbyy-service-providers"></a><span data-ttu-id="0511c-112">Provedores de serviço GetXbyY herdados</span><span class="sxs-lookup"><span data-stu-id="0511c-112">Legacy GetXbyY Service Providers</span></span>

<span data-ttu-id="0511c-113">O Windows Sockets 2 dá suporte total a instalações de resolução de nomes específicas de TCP/IP encontradas no Windows Sockets versão 1,1.</span><span class="sxs-lookup"><span data-stu-id="0511c-113">Windows Sockets 2 fully supports the TCP/IP-specific name resolution facilities found in Windows Sockets version 1.1.</span></span> <span data-ttu-id="0511c-114">Ele faz isso incluindo o conjunto de funções **GetXbyY** no SPI.</span><span class="sxs-lookup"><span data-stu-id="0511c-114">It does this by including the set of **GetXbyY** functions in the SPI.</span></span> <span data-ttu-id="0511c-115">No entanto, o tratamento desse conjunto de funções é um pouco diferente do restante das funções SPI.</span><span class="sxs-lookup"><span data-stu-id="0511c-115">However, the treatment of this set of functions is somewhat different from the rest of the SPI functions.</span></span> <span data-ttu-id="0511c-116">As funções **GetXbyY** exibidas no SPI são precedidas de GETXBYYSP \_ e resumidas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="0511c-116">The **GetXbyY** functions appearing in the SPI are prefaced with GETXBYYSP\_, and are summarized in the following table.</span></span>

<span data-ttu-id="0511c-117">Funções de estilo Berkeley</span><span class="sxs-lookup"><span data-stu-id="0511c-117">Berkeley Style Functions</span></span>



| <span data-ttu-id="0511c-118">Nome da função SPI</span><span class="sxs-lookup"><span data-stu-id="0511c-118">SPI function name</span></span>           | <span data-ttu-id="0511c-119">Descrição</span><span class="sxs-lookup"><span data-stu-id="0511c-119">Description</span></span>                                                                              |
|-----------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="0511c-120">GETXBYYSP \_ GetHostbyaddr</span><span class="sxs-lookup"><span data-stu-id="0511c-120">GETXBYYSP\_gethostbyaddr</span></span>    | <span data-ttu-id="0511c-121">Fornece uma estrutura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) para o endereço de host especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-121">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="0511c-122">GETXBYYSP \_ gethostbyname</span><span class="sxs-lookup"><span data-stu-id="0511c-122">GETXBYYSP\_gethostbyname</span></span>    | <span data-ttu-id="0511c-123">Fornece uma estrutura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) para o nome de host especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-123">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="0511c-124">GETXBYYSP \_ getprotobyname</span><span class="sxs-lookup"><span data-stu-id="0511c-124">GETXBYYSP\_getprotobyname</span></span>   | <span data-ttu-id="0511c-125">Fornece uma estrutura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) para o nome de protocolo especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-125">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="0511c-126">GETXBYYSP \_ getprotobynumber</span><span class="sxs-lookup"><span data-stu-id="0511c-126">GETXBYYSP\_getprotobynumber</span></span> | <span data-ttu-id="0511c-127">Fornece uma estrutura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) para o número de protocolo especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-127">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="0511c-128">GETXBYYSP \_ getservbyname</span><span class="sxs-lookup"><span data-stu-id="0511c-128">GETXBYYSP\_getservbyname</span></span>    | <span data-ttu-id="0511c-129">Fornece uma estrutura [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) para o ServiceName especificado. e</span><span class="sxs-lookup"><span data-stu-id="0511c-129">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service nam.e</span></span>        |
| <span data-ttu-id="0511c-130">GETXBYYSP \_ getservbyport</span><span class="sxs-lookup"><span data-stu-id="0511c-130">GETXBYYSP\_getservbyport</span></span>    | <span data-ttu-id="0511c-131">Fornece uma estrutura [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) para o serviço na porta especificada.</span><span class="sxs-lookup"><span data-stu-id="0511c-131">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="0511c-132">GETXBYYSP \_ GetHostName</span><span class="sxs-lookup"><span data-stu-id="0511c-132">GETXBYYSP\_gethostname</span></span>      | <span data-ttu-id="0511c-133">Retorna o nome de host padrão para o computador local.</span><span class="sxs-lookup"><span data-stu-id="0511c-133">Returns the standard host name for the local computer.</span></span>                                   |



 

<span data-ttu-id="0511c-134">Funções de estilo assíncrono</span><span class="sxs-lookup"><span data-stu-id="0511c-134">Async Style Functions</span></span>



| <span data-ttu-id="0511c-135">Nome da função SPI</span><span class="sxs-lookup"><span data-stu-id="0511c-135">SPI function name</span></span>                   | <span data-ttu-id="0511c-136">Descrição</span><span class="sxs-lookup"><span data-stu-id="0511c-136">Description</span></span>                                                                              |
|-------------------------------------|------------------------------------------------------------------------------------------|
| <span data-ttu-id="0511c-137">GETXBYYSP \_ WSAAsyncGetHostByAddr</span><span class="sxs-lookup"><span data-stu-id="0511c-137">GETXBYYSP\_WSAAsyncGetHostByAddr</span></span>    | <span data-ttu-id="0511c-138">Fornece uma estrutura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) para o endereço de host especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-138">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host address.</span></span>        |
| <span data-ttu-id="0511c-139">GETXBYYSP \_ WSAAsyncGetHostByName</span><span class="sxs-lookup"><span data-stu-id="0511c-139">GETXBYYSP\_WSAAsyncGetHostByName</span></span>    | <span data-ttu-id="0511c-140">Fornece uma estrutura [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) para o nome de host especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-140">Supplies a [**hostent**](/windows/desktop/api/winsock/ns-winsock-hostent) structure for the specified host name.</span></span>           |
| <span data-ttu-id="0511c-141">GETXBYYSP \_ WSAAsyncGetProtoByName</span><span class="sxs-lookup"><span data-stu-id="0511c-141">GETXBYYSP\_WSAAsyncGetProtoByName</span></span>   | <span data-ttu-id="0511c-142">Fornece uma estrutura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) para o nome de protocolo especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-142">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol name.</span></span>     |
| <span data-ttu-id="0511c-143">GETXBYYSP \_ WSAAsyncGetProtoByNumber</span><span class="sxs-lookup"><span data-stu-id="0511c-143">GETXBYYSP\_WSAAsyncGetProtoByNumber</span></span> | <span data-ttu-id="0511c-144">Fornece uma estrutura [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) para o número de protocolo especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-144">Supplies a [**protoent**](/windows/desktop/api/winsock/ns-winsock-protoent) structure for the specified protocol number.</span></span>   |
| <span data-ttu-id="0511c-145">GETXBYYSP \_ WSAAsyncGetServByName</span><span class="sxs-lookup"><span data-stu-id="0511c-145">GETXBYYSP\_WSAAsyncGetServByName</span></span>    | <span data-ttu-id="0511c-146">Fornece uma estrutura [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) para o nome do serviço especificado.</span><span class="sxs-lookup"><span data-stu-id="0511c-146">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the specified service name.</span></span>        |
| <span data-ttu-id="0511c-147">GETXBYYSP \_ WSAAsyncGetServByPort</span><span class="sxs-lookup"><span data-stu-id="0511c-147">GETXBYYSP\_WSAAsyncGetServByPort</span></span>    | <span data-ttu-id="0511c-148">Fornece uma estrutura [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) para o serviço na porta especificada.</span><span class="sxs-lookup"><span data-stu-id="0511c-148">Supplies a [**servent**](/windows/desktop/api/winsock/ns-winsock-servent) structure for the service at the specified port.</span></span> |
| <span data-ttu-id="0511c-149">GETXBYYSP \_ WSACancelAsyncRequest</span><span class="sxs-lookup"><span data-stu-id="0511c-149">GETXBYYSP\_WSACancelAsyncRequest</span></span>    | <span data-ttu-id="0511c-150">Cancela uma operação assíncrona de **GetXbyY** .</span><span class="sxs-lookup"><span data-stu-id="0511c-150">Cancels an asynchronous **GetXbyY** operation.</span></span>                                           |



 

<span data-ttu-id="0511c-151">A sintaxe e a semântica dessas funções **GetXbyY** no SPI são exatamente as mesmas que aquelas documentadas na especificação de API e são, portanto, não repetidas aqui.</span><span class="sxs-lookup"><span data-stu-id="0511c-151">The syntax and semantics of these **GetXbyY** functions in the SPI are exactly the same as those documented in the API Specification and are, therefore, not repeated here.</span></span>

<span data-ttu-id="0511c-152">A DLL do Windows Sockets 2 permite que exatamente um provedor de serviços ofereça esses serviços.</span><span class="sxs-lookup"><span data-stu-id="0511c-152">The Windows Sockets 2 DLL allows exactly one service provider to offer these services.</span></span> <span data-ttu-id="0511c-153">Portanto, não há necessidade de incluir ponteiros para essas funções na tabela de procedimento recebida de provedores de serviço na inicialização.</span><span class="sxs-lookup"><span data-stu-id="0511c-153">Therefore, there is no need to include pointers to these functions in the procedure table received from service providers at startup.</span></span> <span data-ttu-id="0511c-154">Em ambientes do Windows, o caminho para a DLL que implementa essas funções é recuperado do valor encontrado no seguinte caminho de registro.</span><span class="sxs-lookup"><span data-stu-id="0511c-154">In Windows environments the path to the DLL that implements these functions is retrieved from the value found in the following registry path.</span></span> <span data-ttu-id="0511c-155">Essa entrada de registro não existe por padrão:</span><span class="sxs-lookup"><span data-stu-id="0511c-155">This registry entry does not exist by default:</span></span>

<span data-ttu-id="0511c-156">**HKEY \_ Sistemas do \_ computador local** \\  \\ **CurrentControlSet** \\ **Services** \\ **Winsock2** \\ **Parameters** \\ **GetXByYLibraryPath**</span><span class="sxs-lookup"><span data-stu-id="0511c-156">**HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Services**\\**WinSock2**\\**Parameters**\\**GetXByYLibraryPath**</span></span>

## <a name="built-in-default-getxbyy-service-provider"></a><span data-ttu-id="0511c-157">Built-In provedor de serviço GetXbyY padrão</span><span class="sxs-lookup"><span data-stu-id="0511c-157">Built-In Default GetXbyY Service Provider</span></span>

<span data-ttu-id="0511c-158">Um provedor de serviços **GetXbyY** padrão é integrado aos componentes de tempo de execução padrão do Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="0511c-158">A default **GetXbyY** service provider is integrated into the standard Windows Sockets 2 run-time components.</span></span> <span data-ttu-id="0511c-159">Esse provedor padrão implementa todas as funções acima, portanto, não é necessário que essas funções sejam implementadas por qualquer provedor de namespace.</span><span class="sxs-lookup"><span data-stu-id="0511c-159">This default provider implements all of the above functions, thus it is not required for these functions to be implemented by any namespace provider.</span></span> <span data-ttu-id="0511c-160">No entanto, um provedor de namespace é gratuito para fornecer qualquer ou todas essas funções (e, portanto, substituir os padrões) simplesmente armazenando a cadeia de caracteres que é o caminho para a DLL que implementa essas funções na chave do Registro indicada.</span><span class="sxs-lookup"><span data-stu-id="0511c-160">However, a namespace provider is free to provide any or all of these functions (and thus override the defaults) by simply storing the string which is the path to the DLL that implements these functions in the indicated registry key.</span></span> <span data-ttu-id="0511c-161">Qualquer uma das funções **GetXbyY** não exportadas pela DLL do provedor nomeado será fornecida por meio dos padrões internos.</span><span class="sxs-lookup"><span data-stu-id="0511c-161">Any of the **GetXbyY** functions not exported by the named provider DLL will be supplied through the built-in defaults.</span></span> <span data-ttu-id="0511c-162">No entanto, observe que se um provedor optar por fornecer qualquer versão assíncrona das funções **GetXbyY** , ele deverá fornecer todas as funções assíncronas para que a operação de cancelamento funcione adequadamente.</span><span class="sxs-lookup"><span data-stu-id="0511c-162">Note, however, that if a provider elects to supply any of the async version of the **GetXbyY** functions, he should supply all of the async functions so that the cancel operation will work appropriately.</span></span>

<span data-ttu-id="0511c-163">A implementação atual do provedor de serviços **GetXbyY** padrão reside dentro do Wsock32.dll.</span><span class="sxs-lookup"><span data-stu-id="0511c-163">The current implementation of the default **GetXbyY** service provider resides within the Wsock32.dll.</span></span> <span data-ttu-id="0511c-164">Dependendo de como as configurações de TCP/IP tiverem sido estabelecidas por meio do painel de controle, a resolução de nomes ocorrerá usando arquivos de host DNS ou locais.</span><span class="sxs-lookup"><span data-stu-id="0511c-164">Depending on how the TCP/IP settings have been established through Control Panel, name resolution will occur using either DNS or local host files.</span></span> <span data-ttu-id="0511c-165">Quando o DNS é usado, o provedor de serviço padrão do **GetXbyY** usa chamadas à API do Windows sockets 1,1 para se comunicar com o servidor DNS.</span><span class="sxs-lookup"><span data-stu-id="0511c-165">When DNS is used, the default **GetXbyY** service provider uses standard Windows Sockets 1.1 API calls to communicate with the DNS server.</span></span> <span data-ttu-id="0511c-166">Essas transações ocorrerão usando qualquer pilha TCP/IP configurada como a pilha TCP/IP padrão.</span><span class="sxs-lookup"><span data-stu-id="0511c-166">These transactions will occur using whatever TCP/IP stack is configured as the default TCP/IP stack.</span></span> <span data-ttu-id="0511c-167">No entanto, dois casos especiais merecem menção especial.</span><span class="sxs-lookup"><span data-stu-id="0511c-167">Two special cases however, deserve special mention.</span></span>

<span data-ttu-id="0511c-168">A implementação padrão de GETXBYYSP \_ GetHostName Obtém o nome do host local do registro.</span><span class="sxs-lookup"><span data-stu-id="0511c-168">The default implementation of GETXBYYSP\_gethostname obtains the local host name from the registry.</span></span> <span data-ttu-id="0511c-169">Isso corresponderá ao nome atribuído a "Meu Computador".</span><span class="sxs-lookup"><span data-stu-id="0511c-169">This will correspond to the name assigned to "My Computer".</span></span> <span data-ttu-id="0511c-170">A implementação padrão de GETXBYYSP \_ GetHostByName e GETXBYYSP \_ WSAAsyncGetHostByName sempre compara o nome de host fornecido com o nome de host local.</span><span class="sxs-lookup"><span data-stu-id="0511c-170">The default implementation of GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName always compares the supplied host name with the local host name.</span></span> <span data-ttu-id="0511c-171">Se eles corresponderem, a implementação padrão usará uma interface privada para investigar a pilha do Microsoft TCP/IP a fim de descobrir seu endereço IP local.</span><span class="sxs-lookup"><span data-stu-id="0511c-171">If they match, the default implementation uses a private interface to probe the Microsoft TCP/IP stack in order to discover its local IP address.</span></span> <span data-ttu-id="0511c-172">Portanto, para ser completamente independente da pilha do Microsoft TCP/IP, um provedor de namespace deve implementar GETXBYYSP \_ GetHostByName e GETXBYYSP \_ WSAAsyncGetHostByName.</span><span class="sxs-lookup"><span data-stu-id="0511c-172">Thus, in order to be completely independent of the Microsoft TCP/IP stack, a namespace provider must implement both GETXBYYSP\_gethostbyname and GETXBYYSP\_WSAAsyncGetHostByName.</span></span>

 

 



