---
description: Tópico de navegação para os IOCTLs de soquete do Windows Sockets (Winsock).
ms.assetid: 6a63c2c9-4e09-4a62-b39f-3ccb26287da8
title: Winsock IOCTLs (Winsock2.h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: eadf4a0e2799d6123bf81069fe65ea16313af444
ms.sourcegitcommit: f848119a8faa29b27585f4df53f6e50ee9666684
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/27/2021
ms.locfileid: "110550251"
---
# <a name="winsock-ioctls"></a><span data-ttu-id="1017f-103">Winsock IOCTLs</span><span class="sxs-lookup"><span data-stu-id="1017f-103">Winsock IOCTLs</span></span>

<span data-ttu-id="1017f-104">Esta seção descreve os controles de entrada/saída de soquete do Winsock (IOCTLs) para várias edições de sistemas operacionais Windows.</span><span class="sxs-lookup"><span data-stu-id="1017f-104">This section describes Winsock Socket input/output controls (IOCTLs) for various editions of Windows operating systems.</span></span> <span data-ttu-id="1017f-105">Use a função [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) ou [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) para emitir um Winsock IOCTL para controlar o modo de um soquete, o protocolo de transporte ou o subsistema de comunicações.</span><span class="sxs-lookup"><span data-stu-id="1017f-105">Use the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) function to issue a Winsock IOCTL to control the mode of a socket, the transport protocol, or the communications subsystem.</span></span>

<span data-ttu-id="1017f-106">Alguns IOCTLs Winsock exigem mais explicações do que essa tabela pode transmitir; essas opções contêm links para tópicos adicionais.</span><span class="sxs-lookup"><span data-stu-id="1017f-106">Some Winsock IOCTLs require more explanation than this table can convey; such options contain links to additional topics.</span></span>

<span data-ttu-id="1017f-107">É possível adotar um esquema de codificação que preserve os opcodes [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) definidos atualmente, fornecendo uma maneira conveniente de particionar o espaço do identificador de opcode em tanto quanto o parâmetro *dwIoControlCode* agora é uma entidade de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="1017f-107">It is possible to adopt an encoding scheme that preserves the currently defined [**ioctlsocket**](/windows/desktop/api/winsock/nf-winsock-ioctlsocket) opcodes while providing a convenient way to partition the opcode identifier space in as much as the *dwIoControlCode* parameter is now a 32-bit entity.</span></span> <span data-ttu-id="1017f-108">O parâmetro *dwIoControlCode* foi criado para permitir a independência de protocolo e fornecedor ao adicionar novos códigos de controle, mantendo a compatibilidade com versões anteriores com os códigos de controle do Windows sockets 1,1 e UNIX.</span><span class="sxs-lookup"><span data-stu-id="1017f-108">The *dwIoControlCode* parameter is built to allow for protocol and vendor independence when adding new control codes while retaining backward compatibility with the Windows Sockets 1.1 and Unix control codes.</span></span> <span data-ttu-id="1017f-109">O parâmetro *dwIoControlCode* tem o seguinte formato.</span><span class="sxs-lookup"><span data-stu-id="1017f-109">The *dwIoControlCode* parameter has the following form.</span></span>

| <span data-ttu-id="1017f-110">I</span><span class="sxs-lookup"><span data-stu-id="1017f-110">I</span></span>  | <span data-ttu-id="1017f-111">O</span><span class="sxs-lookup"><span data-stu-id="1017f-111">O</span></span>  | <span data-ttu-id="1017f-112">V</span><span class="sxs-lookup"><span data-stu-id="1017f-112">V</span></span>  | <span data-ttu-id="1017f-113">T</span><span class="sxs-lookup"><span data-stu-id="1017f-113">T</span></span>  | <span data-ttu-id="1017f-114">Família de fornecedor/endereço</span><span class="sxs-lookup"><span data-stu-id="1017f-114">Vendor/address family</span></span> | <span data-ttu-id="1017f-115">Código</span><span class="sxs-lookup"><span data-stu-id="1017f-115">Code</span></span>                   |
|-|-|-|-|-|-|
| <span data-ttu-id="1017f-116">3</span><span class="sxs-lookup"><span data-stu-id="1017f-116">3</span></span>  | <span data-ttu-id="1017f-117">3</span><span class="sxs-lookup"><span data-stu-id="1017f-117">3</span></span>  | <span data-ttu-id="1017f-118">2</span><span class="sxs-lookup"><span data-stu-id="1017f-118">2</span></span>  | <span data-ttu-id="1017f-119">2 2</span><span class="sxs-lookup"><span data-stu-id="1017f-119">2 2</span></span> | <span data-ttu-id="1017f-120">2 2 2 2 2 2 2 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="1017f-120">2 2 2 2 2 2 2 1 1 1 1</span></span> | <span data-ttu-id="1017f-121">1 1 1 1 1 1</span><span class="sxs-lookup"><span data-stu-id="1017f-121">1 1 1 1 1 1</span></span>              |
| <span data-ttu-id="1017f-122">1</span><span class="sxs-lookup"><span data-stu-id="1017f-122">1</span></span>  | <span data-ttu-id="1017f-123">0</span><span class="sxs-lookup"><span data-stu-id="1017f-123">0</span></span>  | <span data-ttu-id="1017f-124">9</span><span class="sxs-lookup"><span data-stu-id="1017f-124">9</span></span>  | <span data-ttu-id="1017f-125">8 7</span><span class="sxs-lookup"><span data-stu-id="1017f-125">8 7</span></span> | <span data-ttu-id="1017f-126">6 5 4 3 2 1 0 9 8 7 6</span><span class="sxs-lookup"><span data-stu-id="1017f-126">6 5 4 3 2 1 0 9 8 7 6</span></span> | <span data-ttu-id="1017f-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span><span class="sxs-lookup"><span data-stu-id="1017f-127">5 4 3 2 1 0 9 8 7 6 5 4 3 2 1 0</span></span> |

> [!Note] 
> <span data-ttu-id="1017f-128">Os bits no parâmetro *dwIoControlCode* exibidos na tabela devem ser lidos verticalmente de cima para baixo por coluna.</span><span class="sxs-lookup"><span data-stu-id="1017f-128">The bits in *dwIoControlCode* parameter displayed in the table must be read vertically from top to bottom by column.</span></span> <span data-ttu-id="1017f-129">Assim, o bit mais à esquerda é 31 bit, o bit seguinte é 30 e o bit mais à direita é bit 0.</span><span class="sxs-lookup"><span data-stu-id="1017f-129">So the left-most bit is bit 31, the next bit is bit 30, and the right-most bit is bit 0.</span></span>

<span data-ttu-id="1017f-130">Vou definir se o buffer de entrada é válido para o código, assim como com **IOC_IN**.</span><span class="sxs-lookup"><span data-stu-id="1017f-130">I is set if the input buffer is valid for the code, as with **IOC_IN**.</span></span>

<span data-ttu-id="1017f-131">O será definido se o buffer de saída for válido para o código, assim como ocorre com **IOC_OUT**.</span><span class="sxs-lookup"><span data-stu-id="1017f-131">O is set if the output buffer is valid for the code, as with **IOC_OUT**.</span></span> <span data-ttu-id="1017f-132">Os códigos de controle que usam os buffers de entrada e saída definem I e O.</span><span class="sxs-lookup"><span data-stu-id="1017f-132">Control codes using both input and output buffers set both I and O.</span></span>

<span data-ttu-id="1017f-133">V será definido se não houver parâmetros para o código, como com **IOC_VOID**.</span><span class="sxs-lookup"><span data-stu-id="1017f-133">V is set if there are no parameters for the code, as with **IOC_VOID**.</span></span>

<span data-ttu-id="1017f-134">T é uma quantidade de 2 bits que define o tipo do IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-134">T is a 2-bit quantity that defines the type of the IOCTL.</span></span> <span data-ttu-id="1017f-135">Os seguintes valores são definidos:</span><span class="sxs-lookup"><span data-stu-id="1017f-135">The following values are defined:</span></span>

<span data-ttu-id="1017f-136">0 O IOCTL é um código IOCTL Unix padrão, assim como ocorre com **FIONREAD** e **FIONBIO.**</span><span class="sxs-lookup"><span data-stu-id="1017f-136">0 The IOCTL is a standard Unix IOCTL code, as with **FIONREAD** and **FIONBIO**.</span></span>

<span data-ttu-id="1017f-137">1 O IOCTL é um código IOCTL genérico do Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1017f-137">1 The IOCTL is a generic Windows Sockets 2 IOCTL code.</span></span> <span data-ttu-id="1017f-138">Novos códigos IOCTL definidos para Windows Sockets 2 terão T == 1.</span><span class="sxs-lookup"><span data-stu-id="1017f-138">New IOCTL codes defined for Windows Sockets 2 will have T == 1.</span></span>

<span data-ttu-id="1017f-139">2 O IOCTL se aplica somente a uma família de endereços específica.</span><span class="sxs-lookup"><span data-stu-id="1017f-139">2 The IOCTL applies only to a specific address family.</span></span>

<span data-ttu-id="1017f-140">3 O IOCTL aplica-se somente ao provedor de um fornecedor específico, assim como ocorre com **IOC_VENDOR**.</span><span class="sxs-lookup"><span data-stu-id="1017f-140">3 The IOCTL applies only to a specific vendor's provider, as with **IOC_VENDOR**.</span></span> <span data-ttu-id="1017f-141">Esse tipo permite que as empresas sejam atribuídas a um número de fornecedor que aparece no parâmetro **família Vendor/Address.**</span><span class="sxs-lookup"><span data-stu-id="1017f-141">This type allows companies to be assigned a vendor number that appears in the **Vendor/Address family** parameter.</span></span> <span data-ttu-id="1017f-142">Em seguida, o fornecedor pode definir novas IOCTLs específicas para esse fornecedor sem precisar registrar o IOCTL em uma limpeza, fornecendo flexibilidade e privacidade ao fornecedor.</span><span class="sxs-lookup"><span data-stu-id="1017f-142">Then, the vendor can define new IOCTLs specific to that vendor without having to register the IOCTL with a clearinghouse, thereby providing vendor flexibility and privacy.</span></span>

<span data-ttu-id="1017f-143">**Família de fornecedores/endereços** Uma quantidade de 11 bits que define o fornecedor que possui o código (se T == 3) ou que contém a família de endereços à qual o código se aplica (se T == 2).</span><span class="sxs-lookup"><span data-stu-id="1017f-143">**Vendor/Address family** An 11-bit quantity that defines the vendor who owns the code (if T == 3) or that contains the address family to which the code applies (if T == 2).</span></span> <span data-ttu-id="1017f-144">Se esse for um código unix IOCTL (T == 0), esse parâmetro terá o mesmo valor que o código no Unix.</span><span class="sxs-lookup"><span data-stu-id="1017f-144">If this is a Unix IOCTL code (T == 0) then this parameter has the same value as the code on Unix.</span></span> <span data-ttu-id="1017f-145">Se esse for um IOCTL genérico do Windows Sockets 2 (T == 1), esse parâmetro poderá ser usado como uma extensão do parâmetro de código para fornecer valores de código adicionais.</span><span class="sxs-lookup"><span data-stu-id="1017f-145">If this is a generic Windows Sockets 2 IOCTL (T == 1) then this parameter can be used as an extension of the code parameter to provide additional code values.</span></span>

<span data-ttu-id="1017f-146">**Código** A quantidade de 16 bits que contém o código IOCTL específico para a operação.</span><span class="sxs-lookup"><span data-stu-id="1017f-146">**Code** The 16-bit quantity that contains the specific IOCTL code for the operation.</span></span>

## <a name="unix-ioctl-codes"></a><span data-ttu-id="1017f-147">Códigos IOCTL do Unix</span><span class="sxs-lookup"><span data-stu-id="1017f-147">Unix IOCTL codes</span></span>

<span data-ttu-id="1017f-148">Há suporte para os seguintes códigos unix IOCTL (comandos).</span><span class="sxs-lookup"><span data-stu-id="1017f-148">The following Unix IOCTL codes (commands) are supported.</span></span>

### <a name="fionbio"></a><span data-ttu-id="1017f-149">FIONBIO</span><span class="sxs-lookup"><span data-stu-id="1017f-149">FIONBIO</span></span>

<span data-ttu-id="1017f-150">Habilita ou desabilita o modo sem bloqueio no *soquete.*</span><span class="sxs-lookup"><span data-stu-id="1017f-150">Enable or disable non-blocking mode on socket *s*.</span></span> <span data-ttu-id="1017f-151">O *parâmetro lpvInBuffer* aponta para um QoS (unsigned **long),** que será diferente de zero se o modo sem bloqueio for habilitado e zero se ele for desabilitado.</span><span class="sxs-lookup"><span data-stu-id="1017f-151">The *lpvInBuffer* parameter points at an **unsigned long** (QoS), which is nonzero if non-blocking mode is to be enabled and zero if it is to be disabled.</span></span> <span data-ttu-id="1017f-152">Quando um soquete é criado, ele opera no modo de bloqueio (ou seja, o modo sem bloqueio está desabilitado).</span><span class="sxs-lookup"><span data-stu-id="1017f-152">When a socket is created, it operates in blocking mode (that is, non-blocking mode is disabled).</span></span> <span data-ttu-id="1017f-153">Isso é consistente com os soquetes BSD.</span><span class="sxs-lookup"><span data-stu-id="1017f-153">This is consistent with BSD sockets.</span></span>

<span data-ttu-id="1017f-154">A rotina [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) ou [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) define automaticamente um soquete para o modo sem bloqueio.</span><span class="sxs-lookup"><span data-stu-id="1017f-154">The [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) or [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) routine automatically sets a socket to non-blocking mode.</span></span> <span data-ttu-id="1017f-155">Se **WSAAsyncSelect** ou **WSAEventSelect** tiver sido emitido em um soquete, qualquer tentativa de usar o [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) para definir o soquete de volta para o modo de bloqueio falhará com WSAEINVAL.</span><span class="sxs-lookup"><span data-stu-id="1017f-155">If **WSAAsyncSelect** or **WSAEventSelect** has been issued on a socket, then any attempt to use [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) to set the socket back to blocking mode will fail with WSAEINVAL.</span></span> <span data-ttu-id="1017f-156">Para definir o soquete de volta para o modo de bloqueio, um aplicativo deve primeiro desabilitar **WSAAsyncSelect** chamando **WSAAsyncSelect** com o parâmetro *Levent* igual a zero ou desabilitar **WSAEventSelect** chamando **WSAEventSelect** com o parâmetro *lNetworkEvents* igual a zero.</span><span class="sxs-lookup"><span data-stu-id="1017f-156">To set the socket back to blocking mode, an application must first disable **WSAAsyncSelect** by calling **WSAAsyncSelect** with the *lEvent* parameter equal to zero, or disable **WSAEventSelect** by calling **WSAEventSelect** with the *lNetworkEvents* parameter equal to zero.</span></span>

### <a name="fionread"></a><span data-ttu-id="1017f-157">FIONREAD</span><span class="sxs-lookup"><span data-stu-id="1017f-157">FIONREAD</span></span>

<span data-ttu-id="1017f-158">Determine a quantidade de dados que podem ser lidos atomicamente do soquete *s*.</span><span class="sxs-lookup"><span data-stu-id="1017f-158">Determine the amount of data that can be read atomically from socket *s*.</span></span> <span data-ttu-id="1017f-159">O parâmetro *lpvOutBuffer* aponta para um **longo não assinado** no qual o [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) armazena o resultado.</span><span class="sxs-lookup"><span data-stu-id="1017f-159">The *lpvOutBuffer* parameter points at an **unsigned long** in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

<span data-ttu-id="1017f-160">Se o soquete passado no parâmetro *s* for orientado a fluxo (por exemplo, tipo Sock \_ Stream), **FIONREAD** retornará a quantidade total de dados que podem ser lidos em uma única operação de recebimento; normalmente, isso é o mesmo que a quantidade total de dados enfileirados no soquete (uma vez que um fluxo de dados é orientado por byte, isso não é garantido).</span><span class="sxs-lookup"><span data-stu-id="1017f-160">If the socket passed in the *s* parameter is stream oriented (for example, type SOCK\_STREAM), **FIONREAD** returns the total amount of data that can be read in a single receive operation; this is normally the same as the total amount of data queued on the socket (since a data stream is byte-oriented, this is not guaranteed).</span></span>

<span data-ttu-id="1017f-161">Se o soquete passado no parâmetro *s* for orientado a mensagens (por exemplo, digite Sock \_ DGRAM), **FIONREAD** retornará os relatórios o número total de bytes disponíveis para leitura, não o tamanho do primeiro datagrama (mensagem) na fila do soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-161">If the socket passed in the *s* parameter is message oriented (for example, type SOCK\_DGRAM), **FIONREAD** returns the reports the total number of bytes available to read, not the size of the first datagram (message) queued on the socket.</span></span>

### <a name="siocatmark"></a><span data-ttu-id="1017f-162">SIOCATMARK</span><span class="sxs-lookup"><span data-stu-id="1017f-162">SIOCATMARK</span></span>

<span data-ttu-id="1017f-163">Determine se todos os dados OOB foram lidos ou não.</span><span class="sxs-lookup"><span data-stu-id="1017f-163">Determine whether or not all OOB data has been read.</span></span> <span data-ttu-id="1017f-164">Isso se aplica somente a um soquete de estilo de fluxo (por exemplo, tipo SOCK \_ Stream) que foi configurado para a recepção embutida de qualquer dado OOB (portanto, \_ OOBINLINE).</span><span class="sxs-lookup"><span data-stu-id="1017f-164">This applies only to a socket of stream-style (for example, type SOCK\_STREAM) that has been configured for inline reception of any OOB data (SO\_OOBINLINE).</span></span> <span data-ttu-id="1017f-165">Se nenhum dado OOB estiver aguardando para ser lido, a operação retornará TRUE.</span><span class="sxs-lookup"><span data-stu-id="1017f-165">If no OOB data is waiting to be read, the operation returns TRUE.</span></span> <span data-ttu-id="1017f-166">Caso contrário, ele retorna **false** e a próxima operação Receive executada no soquete recuperará alguns ou todos os dados que antecedem a marca; o aplicativo deve usar a operação **SIOCATMARK** para determinar se um deles permanece.</span><span class="sxs-lookup"><span data-stu-id="1017f-166">Otherwise, it returns **FALSE**, and the next receive operation performed on the socket will retrieve some or all of the data preceding the mark; the application should use the **SIOCATMARK** operation to determine whether any remains.</span></span> <span data-ttu-id="1017f-167">Se houver dados normais que antecedem os dados urgentes (fora de banda), eles serão recebidos na ordem.</span><span class="sxs-lookup"><span data-stu-id="1017f-167">If there is any normal data preceding the urgent (out of band) data, it will be received in order.</span></span> <span data-ttu-id="1017f-168">(Observe que as operações de [**recebimento**](/windows/desktop/api/winsock/nf-winsock-recv) nunca misturarão dados OOB e normais na mesma chamada.) *lpvOutBuffer* aponta para um bool no qual o [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) armazena o resultado.</span><span class="sxs-lookup"><span data-stu-id="1017f-168">(Note that [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) operations will never mix OOB and normal data in the same call.) *lpvOutBuffer* points at a BOOL in which [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) stores the result.</span></span>

## <a name="windows-sockets-2-commands"></a><span data-ttu-id="1017f-169">Comandos do Windows Sockets 2</span><span class="sxs-lookup"><span data-stu-id="1017f-169">Windows Sockets 2 commands</span></span>

<span data-ttu-id="1017f-170">Há suporte para os seguintes comandos do Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1017f-170">The following Windows Sockets 2 commands are supported.</span></span>

### <a name="sio_acquire_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1017f-171">SIO_ACQUIRE_PORT_RESERVATION (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-171">SIO_ACQUIRE_PORT_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-172">Solicite uma reserva de tempo de execução para um bloco de portas TCP ou UDP.</span><span class="sxs-lookup"><span data-stu-id="1017f-172">Request a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="1017f-173">Para reservas de porta de tempo de execução, o pool de portas requer que as reservas sejam consumidas do processo em cujo soquete a reserva foi concedida.</span><span class="sxs-lookup"><span data-stu-id="1017f-173">For runtime port reservations, the port pool requires that reservations be consumed from the process on whose socket the reservation was granted.</span></span> <span data-ttu-id="1017f-174">As reservas de porta de tempo de execução duram apenas desde o tempo de vida do soquete no qual o IOCTL de [**\_ reserva de \_ porta \_ de aquisição sio**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) foi chamado.</span><span class="sxs-lookup"><span data-stu-id="1017f-174">Runtime port reservations last only as long as the lifetime of the socket on which the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL was called.</span></span> <span data-ttu-id="1017f-175">Por outro lado, as reservas de porta persistentes criadas usando a função [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) ou [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) podem ser consumidas por qualquer processo com a capacidade de obter reservas persistentes.</span><span class="sxs-lookup"><span data-stu-id="1017f-175">In contrast, persistent port reservations created using the [**CreatePersistentTcpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistenttcpportreservation) or [**CreatePersistentUdpPortReservation**](/windows/win32/api/iphlpapi/nf-iphlpapi-createpersistentudpportreservation) function may be consumed by any process with the ability to obtain persistent reservations.</span></span>

<span data-ttu-id="1017f-176">Para obter informações mais detalhadas, consulte a referência de [**\_ reserva de \_ porta \_ sio Acquire**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-176">For more detailed information, see the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-177">[**Sio \_ A \_ \_ reserva de porta de aquisição**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) tem suporte no Windows Vista e em versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-177">[**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_address_list_change-opcode-setting-v-t1"></a><span data-ttu-id="1017f-178">\_Alteração da \_ lista de endereços sio \_ (configuração de opcode: V, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-178">SIO\_ADDRESS\_LIST\_CHANGE (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1017f-179">Para receber a notificação de alterações na lista de endereços de transporte locais da família de protocolos do soquete à qual o aplicativo pode se associar.</span><span class="sxs-lookup"><span data-stu-id="1017f-179">To receive notification of changes in the list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="1017f-180">Nenhuma informação de saída será fornecida após a conclusão deste IOCTL; a conclusão simplesmente indica que a lista de endereços locais disponíveis foi alterada e deve ser consultada novamente por meio da **consulta de lista de endereços do sio \_ \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="1017f-180">No output information will be provided upon completion of this IOCTL; the completion merely indicates that list of available local address has changed and should be queried again through **SIO\_ADDRESS\_LIST\_QUERY**.</span></span>

<span data-ttu-id="1017f-181">Presume-se (embora não seja necessário) que o aplicativo usa e/s sobreposta para ser notificado da alteração pela conclusão da solicitação de **\_ alteração da \_ lista \_ de endereços sio** .</span><span class="sxs-lookup"><span data-stu-id="1017f-181">It is assumed (although not required) that the application uses overlapped I/O to be notified of change by completion of **SIO\_ADDRESS\_LIST\_CHANGE** request.</span></span> <span data-ttu-id="1017f-182">Como alternativa, se o IOCTL de **alteração da \_ lista de endereços \_ \_ sio** for emitido em um soquete sem bloqueio e sem parâmetros sobrepostos (*lpOverlapped* /  *lpCompletionRoutine* forem definidos como **NULL**), ele será concluído imediatamente com o erro [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-182">Alternatively, if the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL is issued on a non-blocking socket and without overlapped parameters (*lpOverlapped*/ *lpCompletionRoutine* are set to **NULL**), it will complete immediately with error [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="1017f-183">O aplicativo pode aguardar os eventos de alteração da lista de endereços por meio de uma chamada para [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) ou [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) com o \_ bit de \_ alteração da lista de endereços FD \_ definido no bitmask do evento de rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-183">The application can then wait for address list change events through a call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ADDRESS\_LIST\_CHANGE bit set in the network event bitmask.</span></span>

### <a name="sio_address_list_query-opcode-setting-o-t1"></a><span data-ttu-id="1017f-184">\_ \_ \_ Consulta de lista de endereços do SiO (configuração de opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-184">SIO\_ADDRESS\_LIST\_QUERY (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-185">Obtém uma lista de endereços de transporte locais da família de protocolos do soquete à qual o aplicativo pode ser associado.</span><span class="sxs-lookup"><span data-stu-id="1017f-185">Obtains a list of local transport addresses of the socket's protocol family to which the application can bind.</span></span> <span data-ttu-id="1017f-186">A lista de endereços varia de acordo com a família de endereços e alguns endereços são excluídos da lista.</span><span class="sxs-lookup"><span data-stu-id="1017f-186">The list of addresses varies based on address family and some addresses are excluded from the list.</span></span>

> [!Note] 
> <span data-ttu-id="1017f-187">Em ambientes Windows plug-n-play, os endereços podem ser adicionados e removidos dinamicamente.</span><span class="sxs-lookup"><span data-stu-id="1017f-187">In Windows Plug-n-Play environments, addresses can be added and removed dynamically.</span></span> <span data-ttu-id="1017f-188">Portanto, os aplicativos não podem contar com as informações retornadas pela **\_ consulta de \_ lista \_ de endereços sio** para serem persistentes.</span><span class="sxs-lookup"><span data-stu-id="1017f-188">Therefore, applications cannot rely on the information returned by **SIO\_ADDRESS\_LIST\_QUERY** to be persistent.</span></span> <span data-ttu-id="1017f-189">Os aplicativos podem se registrar para notificações de alteração de endereço por meio do IOCTL de **\_ alteração da \_ lista \_ de endereços sio** , que fornece notificação por meio do evento de alteração da lista de endereços e/s sobreposta ou FD \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="1017f-189">Applications may register for address change notifications through the **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL which provides for notification through either overlapped I/O or FD\_ADDRESS\_LIST\_CHANGE event.</span></span> <span data-ttu-id="1017f-190">A seguinte sequência de ações pode ser usada para garantir que o aplicativo sempre tenha informações da lista de endereços atual:</span><span class="sxs-lookup"><span data-stu-id="1017f-190">The following sequence of actions can be used to guarantee that the application always has current address list information:</span></span>

-  <span data-ttu-id="1017f-191">Problema **de \_ \_ \_ alteração da lista de endereços sio** do IOCTL</span><span class="sxs-lookup"><span data-stu-id="1017f-191">Issue **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL</span></span>
-  <span data-ttu-id="1017f-192">Problema **de \_ \_ \_ consulta da lista de endereços do sio** IOCTL</span><span class="sxs-lookup"><span data-stu-id="1017f-192">Issue **SIO\_ADDRESS\_LIST\_QUERY** IOCTL</span></span>
-  <span data-ttu-id="1017f-193">Sempre que o IOCTL de alteração da lista de endereços do sio notifica a aplicação da alteração da lista de endereços (por meio de e/s sobreposta ou sinalizando o evento de alteração da lista de **\_ \_ \_** \_ endereços FD \_ \_ ), toda a sequência de ações deve ser repetida.</span><span class="sxs-lookup"><span data-stu-id="1017f-193">Whenever **SIO\_ADDRESS\_LIST\_CHANGE** IOCTL notifies the application of address list change (either through overlapped I/O or by signaling FD\_ADDRESS\_LIST\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="1017f-194">Para obter informações mais detalhadas, consulte a referência de [**consulta da lista de endereços do sio \_ \_ \_**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-194">For more detailed information, see the [**SIO\_ADDRESS\_LIST\_QUERY**](/previous-versions/windows/desktop/legacy/dd877219(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-195">**Sio \_ A \_ \_ consulta de lista de endereços** tem suporte no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-195">**SIO\_ADDRESS\_LIST\_QUERY** is supported on Windows 2000 and later.</span></span>

### <a name="sio_apply_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="1017f-196">SIO \_ aplicar \_ \_ configuração de transporte (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-196">SIO\_APPLY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-197">Aplica uma configuração de transporte a um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-197">Applies a transport setting to a socket.</span></span> <span data-ttu-id="1017f-198">A configuração de transporte sendo aplicada baseia-se [**na \_ \_ ID de configuração de transporte**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passada no parâmetro *lpvInBuffer* .</span><span class="sxs-lookup"><span data-stu-id="1017f-198">The transport setting being applied is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="1017f-199">A única configuração de transporte definida atualmente é para o recurso de **\_ capacidade de \_ notificação \_ em tempo real** em um soquete TCP.</span><span class="sxs-lookup"><span data-stu-id="1017f-199">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="1017f-200">Se a [**\_ \_ ID da configuração de transporte**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passada tiver o membro **GUID** definido como **\_ \_ \_ recurso de notificação em tempo real**, essa será uma solicitação para aplicar configurações de notificação em tempo real para o soquete TCP usado com o [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) para receber notificações de rede em segundo plano em um aplicativo da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="1017f-200">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to apply real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span>

<span data-ttu-id="1017f-201">Para obter informações mais detalhadas, consulte a referência de [**\_ configuração de \_ transporte \_ sio Apply**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-201">For more detailed information, see the [**SIO\_APPLY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553481(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-202">**Sio \_ A \_ \_ opção aplicar transporte** tem suporte no Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-202">**SIO\_APPLY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_associate_handle-opcode-setting-i-t1"></a><span data-ttu-id="1017f-203">\_ \_ Identificador de associação de SiO (configuração de opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-203">SIO\_ASSOCIATE\_HANDLE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1017f-204">Associe esse soquete com o identificador especificado de uma interface de assistente.</span><span class="sxs-lookup"><span data-stu-id="1017f-204">Associate this socket with the specified handle of a companion interface.</span></span> <span data-ttu-id="1017f-205">O buffer de entrada contém o valor inteiro correspondente à constante de manifesto para a interface complementar (por exemplo, TH \_ NETDEV e th \_ TAPI.), seguido por um valor que é um identificador da interface complementar especificada, juntamente com quaisquer outras informações necessárias.</span><span class="sxs-lookup"><span data-stu-id="1017f-205">The input buffer contains the integer value corresponding to the manifest constant for the companion interface (for example, TH\_NETDEV and TH\_TAPI.), followed by a value that is a handle of the specified companion interface, along with any other required information.</span></span> <span data-ttu-id="1017f-206">Consulte a seção apropriada em [anexos do Winsock](winsock-annexes.md) para obter detalhes específicos de uma interface complementar específica.</span><span class="sxs-lookup"><span data-stu-id="1017f-206">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="1017f-207">O tamanho total é refletido no comprimento do buffer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1017f-207">The total size is reflected in the input buffer length.</span></span> <span data-ttu-id="1017f-208">Nenhum buffer de saída é necessário.</span><span class="sxs-lookup"><span data-stu-id="1017f-208">No output buffer is required.</span></span> <span data-ttu-id="1017f-209">O código de erro [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviço que não dão suporte a este IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-209">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span> <span data-ttu-id="1017f-210">O identificador associado por este IOCTL pode ser recuperado usando **o \_ \_ identificador de conversão sio**.</span><span class="sxs-lookup"><span data-stu-id="1017f-210">The handle associated by this IOCTL can be retrieved using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="1017f-211">Uma interface complementar pode ser usada, por exemplo, se um provedor específico fornece (1) uma grande quantidade de controles adicionais sobre o comportamento de um soquete e (2) os controles são específicos do provedor o suficiente para que eles não mapeiem para funções existentes do Windows Socket ou aqueles que provavelmente serão definidos no futuro.</span><span class="sxs-lookup"><span data-stu-id="1017f-211">A companion interface might be used, for example, if a particular provider provides (1) a great deal of additional controls over the behavior of a socket and (2) the controls are provider-specific enough that they do not map to existing Windows Socket functions or ones likely to be defined in the future.</span></span> <span data-ttu-id="1017f-212">É recomendável que o Component Object Model (COM) seja usado em vez desse IOCTL para descobrir e acompanhar outras interfaces que podem ter suporte por um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-212">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="1017f-213">Esse IOCTL está presente para compatibilidade (inversa) com sistemas em que o COM não está disponível ou não pode ser usado por algum outro motivo.</span><span class="sxs-lookup"><span data-stu-id="1017f-213">This IOCTL is present for (reverse) compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_associate_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1017f-214">SIO \_ ASSOCIATE PORT RESERVATION \_ \_ (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-214">SIO\_ASSOCIATE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-215">Associe um soquete a uma reserva persistente ou de runtime para um bloco de portas TCP ou UDP identificadas pelo token de reserva de porta.</span><span class="sxs-lookup"><span data-stu-id="1017f-215">Associate a socket with a persistent or runtime reservation for a block of TCP or UDP ports identified by the port reservation token.</span></span> <span data-ttu-id="1017f-216">O [**IOCTL SIO \_ ASSOCIATE \_ PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) deve ser emitido antes que o soquete seja associado.</span><span class="sxs-lookup"><span data-stu-id="1017f-216">The [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) IOCTL must be issued before the socket is bound.</span></span> <span data-ttu-id="1017f-217">Se e quando o soquete estiver vinculado, a porta atribuída a ele será selecionada na reserva de porta identificada pelo token determinado.</span><span class="sxs-lookup"><span data-stu-id="1017f-217">If and when the socket is bound, the port assigned to it will be selected from the port reservation identified by the given token.</span></span> <span data-ttu-id="1017f-218">Se nenhuma porta estiver disponível na reserva especificada, a chamada da função [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) falhará.</span><span class="sxs-lookup"><span data-stu-id="1017f-218">If no ports are available from the specified reservation, the [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) function call will fail.</span></span>

<span data-ttu-id="1017f-219">Para obter informações mais detalhadas, consulte a referência [**SIO \_ ASSOCIATE PORT \_ \_ RESERVATION.**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-219">For more detailed information, see the [**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-220">[**SIO \_ HÁ \_ suporte para ASSOCIATE PORT \_ RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) no Windows Vista e em versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-220">[**SIO\_ASSOCIATE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699721(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_base_handle-opcode-setting-o-t1"></a><span data-ttu-id="1017f-221">SIO \_ BASE \_ HANDLE (configuração de opcode: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-221">SIO\_BASE\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-222">Recupera o alça do provedor de serviços base para um determinado soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-222">Retrieves the base service provider handle for a given socket.</span></span> <span data-ttu-id="1017f-223">O valor retornado é um **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="1017f-223">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1017f-224">Um provedor de serviços em camadas nunca interceptaria esse IOCTL, pois o valor de retorno deve ser o alça de soquete do provedor de serviços base.</span><span class="sxs-lookup"><span data-stu-id="1017f-224">A layered service provider would never intercept this IOCTL since the return value must be the socket handle from the base service provider.</span></span>

<span data-ttu-id="1017f-225">Se o buffer de saída não for grande o suficiente para um identificador de soquete (o *cbOutBuffer* é menor que o tamanho de um **soquete**) ou o parâmetro *lpvOutBuffer* for um ponteiro **NULL** , o **\_ erro de soquete** será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-225">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-226">**Sio \_ O \_ identificador base** é definido no arquivo de cabeçalho *mswsock. h* e tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-226">**SIO\_BASE\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle-opcode-setting-o-t1"></a><span data-ttu-id="1017f-227">\_Identificador BSP sio \_ (configuração de opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-227">SIO\_BSP\_HANDLE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-228">Recupera o identificador do provedor de serviços base para um soquete usado pela função [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="1017f-228">Retrieves the base service provider handle for a socket used by the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span> <span data-ttu-id="1017f-229">O valor retornado é um **soquete**.</span><span class="sxs-lookup"><span data-stu-id="1017f-229">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1017f-230">Esse IOCTL é usado por um provedor de serviços em camadas para garantir que o provedor intercepte a função [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) .</span><span class="sxs-lookup"><span data-stu-id="1017f-230">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) function.</span></span>

<span data-ttu-id="1017f-231">Se o buffer de saída não for grande o suficiente para um identificador de soquete (o *cbOutBuffer* é menor que o tamanho de um **soquete**) ou o parâmetro *lpvOutBuffer* for um ponteiro **NULL** , o **\_ erro de soquete** será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-231">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-232">**Sio \_ O \_ identificador BSP** é definido no arquivo de cabeçalho *mswsock. h* e tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-232">**SIO\_BSP\_HANDLE** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_select-opcode-setting-o-t1"></a><span data-ttu-id="1017f-233">SIO \_ \_ de identificador \_ de BSP (configuração de opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-233">SIO\_BSP\_HANDLE\_SELECT (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-234">Recupera o identificador do provedor de serviços base para um soquete usado pela função [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="1017f-234">Retrieves the base service provider handle for a socket used by the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span> <span data-ttu-id="1017f-235">O valor retornado é um **soquete**.</span><span class="sxs-lookup"><span data-stu-id="1017f-235">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1017f-236">Esse IOCTL é usado por um provedor de serviços em camadas para garantir que o provedor intercepte a função [**Select**](/windows/desktop/api/Winsock2/nf-winsock2-select) .</span><span class="sxs-lookup"><span data-stu-id="1017f-236">This Ioctl is used by a layered service provider to ensure the provider intercept the [**select**](/windows/desktop/api/Winsock2/nf-winsock2-select) function.</span></span>

<span data-ttu-id="1017f-237">Se o buffer de saída não for grande o suficiente para um identificador de soquete (o *cbOutBuffer* é menor que o tamanho de um **soquete**) ou o parâmetro *lpvOutBuffer* for um ponteiro **NULL** , o **\_ erro de soquete** será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-237">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-238">**SIO \_ BSP \_ HANDLE \_ SELECT** é definido no arquivo de header *Mswsock.h* e tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-238">**SIO\_BSP\_HANDLE\_SELECT** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_bsp_handle_poll-opcode-setting-o-t1"></a><span data-ttu-id="1017f-239">SIO \_ BSP \_ HANDLE POLL \_ (configuração de opcode: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-239">SIO\_BSP\_HANDLE\_POLL (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-240">Recupera o alça do provedor de serviços base para um soquete usado pela [**função WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="1017f-240">Retrieves the base service provider handle for a socket used by the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span> <span data-ttu-id="1017f-241">O *parâmetro lpOverlapped* deve ser um **ponteiro NULL.**</span><span class="sxs-lookup"><span data-stu-id="1017f-241">The *lpOverlapped* parameter must be a **NULL** pointer.</span></span> <span data-ttu-id="1017f-242">O valor retornado é um **SOCKET.**</span><span class="sxs-lookup"><span data-stu-id="1017f-242">The returned value is a **SOCKET**.</span></span>

<span data-ttu-id="1017f-243">Esse Ioctl é usado por um provedor de serviços em camadas para garantir que o provedor intercepte a [**função WSAPoll.**](/windows/win32/api/winsock2/nf-winsock2-wsapoll)</span><span class="sxs-lookup"><span data-stu-id="1017f-243">This Ioctl is used by a layered service provider to ensure the provider intercept the [**WSAPoll**](/windows/win32/api/winsock2/nf-winsock2-wsapoll) function.</span></span>

<span data-ttu-id="1017f-244">Se o buffer de saída não for grande o suficiente para um alçamento de soquete (o *cbOutBuffer* for menor que o tamanho de um **SOCKET**), o parâmetro *lpvOutBuffer* será um ponteiro **NULL** ou o parâmetro *lpOverlapped* não for um ponteiro **NULL,** **SOCKET \_ ERROR** será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-244">If the output buffer is not large enough for a socket handle (the *cbOutBuffer* is less than the size of a **SOCKET**), the *lpvOutBuffer* parameter is a **NULL** pointer, or the *lpOverlapped* parameter is not a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-245">**SIO \_ O BSP \_ HANDLE \_ POLL** é definido no arquivo de header *Mswsock.h* e tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-245">**SIO\_BSP\_HANDLE\_POLL** is defined in the *Mswsock.h* header file and supported on Windows Vista and later.</span></span>

### <a name="sio_chk_qos-opcode-setting-i-o-t3"></a><span data-ttu-id="1017f-246">QOS do SIO \_ CHK \_ (configuração de opcode: I, O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-246">SIO\_CHK\_QOS (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="1017f-247">Recupera informações sobre características de tráfego de QoS.</span><span class="sxs-lookup"><span data-stu-id="1017f-247">Retrieves information about QoS traffic characteristics.</span></span> <span data-ttu-id="1017f-248">Durante a fase de transição no sistema de envio entre a configuração de fluxo e o recebimento de uma mensagem RESV (consulte Como o serviço [RSVP](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) invoca o TC para obter mais informações sobre a fase de transição), o tráfego associado a um fluxo RSVP é formaado com base no tipo de serviço[(BEST EFFORT,](/previous-versions/windows/desktop/qos/best-effort) [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load)ou [GUARANTEED).](/previous-versions/windows/desktop/qos/guaranteed)</span><span class="sxs-lookup"><span data-stu-id="1017f-248">During the transitional phase on the sending system between flow setup and the receipt of a RESV message (see [How the RSVP Service Invokes TC](/previous-versions/windows/desktop/qos/how-the-rsvp-service-invokes-tc) for more information on the transitional phase), traffic associated with an RSVP flow is shaped based on service type ([BEST EFFORT](/previous-versions/windows/desktop/qos/best-effort), [CONTROLLED LOAD](/previous-versions/windows/desktop/qos/controlled-load), or [GUARANTEED](/previous-versions/windows/desktop/qos/guaranteed)).</span></span> <span data-ttu-id="1017f-249">Para obter mais informações, [consulte Usando O \_ \_ QOS do SIO CHK](/previous-versions/windows/desktop/qos/using-sio-chk-qos) na seção [Qualidade](/previous-versions/windows/desktop/qos/qos-start-page) de Serviço do SDK da Plataforma.</span><span class="sxs-lookup"><span data-stu-id="1017f-249">For more information, see [Using SIO\_CHK\_QOS](/previous-versions/windows/desktop/qos/using-sio-chk-qos) in the [Quality of Service](/previous-versions/windows/desktop/qos/qos-start-page) section of the Platform SDK.</span></span>

### <a name="sio_cpu_affinity-opcode-setting-i-t3"></a><span data-ttu-id="1017f-250">SIO_CPU_AFFINITY (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-250">SIO_CPU_AFFINITY (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-251">Habilita o compartilhamento de porta e a paralelização de indicação de recebimento.</span><span class="sxs-lookup"><span data-stu-id="1017f-251">Enables port sharing and receive indication parallelization.</span></span> <span data-ttu-id="1017f-252">Quando seu aplicativo usa essa opção de soquete para associar soquetes a processadores diferentes e, em seguida, associa os soquetes ao mesmo endereço, as indicações de recebimento serão distribuídas entre os soquetes com base no hash RSS (Receive Side Scaling).</span><span class="sxs-lookup"><span data-stu-id="1017f-252">When your application uses this socket option to associate sockets to different processors, and then binds the sockets to the same address, receive indications will be distributed across the sockets based on Receive Side Scaling (RSS) hash.</span></span> <span data-ttu-id="1017f-253">As configurações do RSS não mudam, portanto, qualquer fluxo determinado (ponto de extremidade local, par de ponto de extremidade remoto) sempre será indicado no mesmo processador.</span><span class="sxs-lookup"><span data-stu-id="1017f-253">The RSS settings don't change, so any given flow (local endpoint, remote endpoint pair) will always be indicated on the same processor.</span></span> <span data-ttu-id="1017f-254">Como resultado, todos os pacotes que pertencem a um determinado fluxo serão indicados para o mesmo soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-254">As a result, all packets belonging to a given flow will be indicated to the same socket.</span></span> <span data-ttu-id="1017f-255">Esse IOCTL deve ser chamado antes da vinculação; caso contrário, WSAEINVAL será retornado.</span><span class="sxs-lookup"><span data-stu-id="1017f-255">This IOCTL must be called prior to bind, otherwise WSAEINVAL will be returned.</span></span> <span data-ttu-id="1017f-256">O buffer de entrada é um índice de processador (baseado em 0) do tipo USHORT.</span><span class="sxs-lookup"><span data-stu-id="1017f-256">The input buffer is a processor index (0-based) of type USHORT.</span></span> <span data-ttu-id="1017f-257">O IOCTL é incompatível com SO_REUSEADDR e SO_REUSE_MULTICASTPORT.</span><span class="sxs-lookup"><span data-stu-id="1017f-257">The IOCTL is incompatible with SO_REUSEADDR and SO_REUSE_MULTICASTPORT.</span></span> <span data-ttu-id="1017f-258">Suporte apenas para soquetes UDP.</span><span class="sxs-lookup"><span data-stu-id="1017f-258">Only supported for UDP sockets.</span></span>

> [!NOTE]
> <span data-ttu-id="1017f-259">Se você estiver direcionando a versão 10.0.19041.0 (Windows 10, versão 2004) do SDK do Windows, use o valor em vez do nome `0x98000015` **SIO_CPU_AFFINITY**.</span><span class="sxs-lookup"><span data-stu-id="1017f-259">If you're targeting version 10.0.19041.0 (Windows 10, version 2004) of the Windows SDK, then use the value `0x98000015` instead of the name **SIO_CPU_AFFINITY**.</span></span>

### <a name="sio_enable_circular_queueing-opcode-setting-v-t1"></a><span data-ttu-id="1017f-260">SIO \_ ENABLE \_ CIRCULAR \_ QUEUEING (configuração de opcode: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-260">SIO\_ENABLE\_CIRCULAR\_QUEUEING (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1017f-261">Indica ao provedor de serviços orientado a mensagens subjacente que uma mensagem recém-chegada nunca deve ser descartado devido a um estouro de fila de buffer.</span><span class="sxs-lookup"><span data-stu-id="1017f-261">Indicates to the underlying message-oriented service provider that a newly arrived message should never be dropped because of a buffer queue overflow.</span></span> <span data-ttu-id="1017f-262">Em vez disso, a mensagem mais antiga na fila deve ser eliminada para acomodar a mensagem recém-chegada.</span><span class="sxs-lookup"><span data-stu-id="1017f-262">Instead, the oldest message in the queue should be eliminated in order to accommodate the newly arrived message.</span></span> <span data-ttu-id="1017f-263">Nenhum buffer de entrada e saída é necessário.</span><span class="sxs-lookup"><span data-stu-id="1017f-263">No input and output buffers are required.</span></span> <span data-ttu-id="1017f-264">Observe que esse IOCTL só é válido para soquetes associados a protocolos não confiáveis orientados a mensagens.</span><span class="sxs-lookup"><span data-stu-id="1017f-264">Note that this IOCTL is only valid for sockets associated with unreliable, message-oriented protocols.</span></span> <span data-ttu-id="1017f-265">O [código de erro WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviços que não são suportados por esse IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-265">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_find_route-opcode-setting-o-t1"></a><span data-ttu-id="1017f-266">SIO \_ FIND \_ ROUTE (configuração de opcode: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-266">SIO\_FIND\_ROUTE (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-267">Quando emitido, esse IOCTL solicita que a rota para o endereço remoto especificado como [**um sockaddr**](sockaddr-2.md) no buffer de entrada seja descoberta.</span><span class="sxs-lookup"><span data-stu-id="1017f-267">When issued, this IOCTL requests that the route to the remote address specified as a [**sockaddr**](sockaddr-2.md) in the input buffer be discovered.</span></span> <span data-ttu-id="1017f-268">Se o endereço já existir no cache local, sua entrada será invalidada.</span><span class="sxs-lookup"><span data-stu-id="1017f-268">If the address already exists in the local cache, its entry is invalidated.</span></span> <span data-ttu-id="1017f-269">No caso do IPX da Novell, essa chamada inicia um GLT (GetLocalTarget) IPX, que consulta a rede para o endereço remoto determinado.</span><span class="sxs-lookup"><span data-stu-id="1017f-269">In the case of Novell's IPX, this call initiates an IPX GetLocalTarget (GLT), which queries the network for the given remote address.</span></span>

### <a name="sio_flush-opcode-setting-v-t1"></a><span data-ttu-id="1017f-270">SIO \_ FLUSH (configuração de opcode: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-270">SIO\_FLUSH (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1017f-271">Descarta o conteúdo atual da fila de envio associada a esse soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-271">Discards current contents of the sending queue associated with this socket.</span></span> <span data-ttu-id="1017f-272">Nenhum buffer de entrada e saída é necessário.</span><span class="sxs-lookup"><span data-stu-id="1017f-272">No input and output buffers are required.</span></span> <span data-ttu-id="1017f-273">O [código de erro WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviços que não são suportados por esse IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-273">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL.</span></span>

### <a name="sio_get_broadcast_address-opcode-setting-o-t1"></a><span data-ttu-id="1017f-274">SIO \_ GET BROADCAST ADDRESS \_ \_ (configuração de opcode: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-274">SIO\_GET\_BROADCAST\_ADDRESS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-275">Esse IOCTL preenche o buffer de saída com uma estrutura [sockaddr](sockaddr-2.md) que contém um endereço de difusão adequado para uso com [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto) /  [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span><span class="sxs-lookup"><span data-stu-id="1017f-275">This IOCTL fills the output buffer with a [sockaddr](sockaddr-2.md) structure containing a suitable broadcast address for use with [**sendto**](/windows/desktop/api/winsock/nf-winsock-sendto)/ [**WSASendTo**](/windows/desktop/api/Winsock2/nf-winsock2-wsasendto).</span></span> <span data-ttu-id="1017f-276">Esse IOCTL não tem suporte para soquetes IPv6 e retorna o código de erro [WSAENOPROTOOPT.](windows-sockets-error-codes-2.md)</span><span class="sxs-lookup"><span data-stu-id="1017f-276">This IOCTL is not supported for IPv6 sockets and returns the [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code.</span></span>

### <a name="sio_get_extension_function_pointer-opcode-setting-o-i-t1"></a><span data-ttu-id="1017f-277">SIO \_ GET EXTENSION FUNCTION POINTER \_ \_ \_ (configuração de opcode: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-277">SIO\_GET\_EXTENSION\_FUNCTION\_POINTER (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="1017f-278">Recupere um ponteiro para a função de extensão especificada com suporte pelo provedor de serviços associado.</span><span class="sxs-lookup"><span data-stu-id="1017f-278">Retrieve a pointer to the specified extension function supported by the associated service provider.</span></span> <span data-ttu-id="1017f-279">O buffer de entrada contém um **GUID**(identificador global exclusivo) cujo valor identifica a função de extensão em questão.</span><span class="sxs-lookup"><span data-stu-id="1017f-279">The input buffer contains a globally unique identifier (**GUID**) whose value identifies the extension function in question.</span></span> <span data-ttu-id="1017f-280">O ponteiro para a função desejada é retornado no buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="1017f-280">The pointer to the desired function is returned in the output buffer.</span></span> <span data-ttu-id="1017f-281">Os identificadores de função de extensão são estabelecidos por fornecedores do provedor de serviços e devem ser incluídos na documentação do fornecedor que descreve as funcionalidades e a semântica da função de extensão.</span><span class="sxs-lookup"><span data-stu-id="1017f-281">Extension function identifiers are established by service provider vendors and should be included in vendor documentation that describes extension function capabilities and semantics.</span></span>

<span data-ttu-id="1017f-282">Os valores de GUID para funções de extensão com suporte pelo provedor de serviços TCP/IP do Windows são definidos no arquivo de header *Mswsock.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-282">The GUID values for extension functions supported by the Windows TCP/IP service provider are defined in the *Mswsock.h* header file.</span></span> <span data-ttu-id="1017f-283">O valor possível para esses GUIDs é o seguinte:</span><span class="sxs-lookup"><span data-stu-id="1017f-283">The possible value for these GUIDs are as follows:</span></span>

| <span data-ttu-id="1017f-284">Termo</span><span class="sxs-lookup"><span data-stu-id="1017f-284">Term</span></span>                                                                                                                | <span data-ttu-id="1017f-285">Descrição</span><span class="sxs-lookup"><span data-stu-id="1017f-285">Description</span></span>                                                                               |
|-|-|
| <span data-ttu-id="1017f-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID \_ ACCEPTEX</span><span class="sxs-lookup"><span data-stu-id="1017f-286"><span id="WSAID_ACCEPTEX"></span><span id="wsaid_acceptex"></span>WSAID\_ACCEPTEX</span></span><br/>                                     | <span data-ttu-id="1017f-287">A [**função de extensão AcceptEx.**](/windows/win32/api/mswsock/nf-mswsock-acceptex)</span><span class="sxs-lookup"><span data-stu-id="1017f-287">The [**AcceptEx**](/windows/win32/api/mswsock/nf-mswsock-acceptex) extension function.</span></span><br/>                         |
| <span data-ttu-id="1017f-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID \_ CONNECTEX</span><span class="sxs-lookup"><span data-stu-id="1017f-288"><span id="WSAID_CONNECTEX"></span><span id="wsaid_connectex"></span>WSAID\_CONNECTEX</span></span><br/>                                  | <span data-ttu-id="1017f-289">A [**função de extensão ConnectEx.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex)</span><span class="sxs-lookup"><span data-stu-id="1017f-289">The [**ConnectEx**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_connectex) extension function.</span></span> <br/>                      |
| <span data-ttu-id="1017f-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WS \_ DISCONNECTEX</span><span class="sxs-lookup"><span data-stu-id="1017f-290"><span id="WSAID_DISCONNECTEX"></span><span id="wsaid_disconnectex"></span>WSAID\_DISCONNECTEX</span></span><br/>                         | <span data-ttu-id="1017f-291">A [**função de extensão DisconnectEx.**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-291">The [**DisconnectEx**](/previous-versions/windows/desktop/legacy/ms737757(v=vs.85)) extension function.</span></span> <br/>                |
| <span data-ttu-id="1017f-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSOCK \_ GETACCEPTEXSOCKADDRS</span><span class="sxs-lookup"><span data-stu-id="1017f-292"><span id="WSAID_GETACCEPTEXSOCKADDRS"></span><span id="wsaid_getacceptexsockaddrs"></span>WSAID\_GETACCEPTEXSOCKADDRS</span></span><br/> | <span data-ttu-id="1017f-293">A [**função de extensão GetAcceptExSockaddrs.**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs)</span><span class="sxs-lookup"><span data-stu-id="1017f-293">The [**GetAcceptExSockaddrs**](/windows/win32/api/mswsock/nf-mswsock-getacceptexsockaddrs) extension function.</span></span><br/> |
| <span data-ttu-id="1017f-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSFILE \_ TRANSMITFILE</span><span class="sxs-lookup"><span data-stu-id="1017f-294"><span id="WSAID_TRANSMITFILE"></span><span id="wsaid_transmitfile"></span>WSAID\_TRANSMITFILE</span></span><br/>                         | <span data-ttu-id="1017f-295">A [**função de extensão TransmitFile.**](/windows/win32/api/mswsock/nf-mswsock-transmitfile)</span><span class="sxs-lookup"><span data-stu-id="1017f-295">The [**TransmitFile**](/windows/win32/api/mswsock/nf-mswsock-transmitfile) extension function.</span></span><br/>                 |
| <span data-ttu-id="1017f-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>\_TRANSMITPACKETS WSPACKETS</span><span class="sxs-lookup"><span data-stu-id="1017f-296"><span id="WSAID_TRANSMITPACKETS"></span><span id="wsaid_transmitpackets"></span>WSAID\_TRANSMITPACKETS</span></span><br/>                | <span data-ttu-id="1017f-297">A [**função de extensão TransmitPackets.**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets)</span><span class="sxs-lookup"><span data-stu-id="1017f-297">The [**TransmitPackets**](/windows/desktop/api/Mswsock/nc-mswsock-lpfn_transmitpackets) extension function.</span></span> <br/>          |
| <span data-ttu-id="1017f-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID \_ WSARECVMSG</span><span class="sxs-lookup"><span data-stu-id="1017f-298"><span id="WSAID_WSARECVMSG"></span><span id="wsaid_wsarecvmsg"></span>WSAID\_WSARECVMSG</span></span><br/>                               | <span data-ttu-id="1017f-299">A [**função LPFN_WSARECVMSG extensão (WSARecvMsg).**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)</span><span class="sxs-lookup"><span data-stu-id="1017f-299">The [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg) extension function.</span></span><br/>                     |
| <span data-ttu-id="1017f-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSEA \_ WSASENDMSG</span><span class="sxs-lookup"><span data-stu-id="1017f-300"><span id="WSAID_WSASENDMSG"></span><span id="wsaid_wsasendmsg"></span>WSAID\_WSASENDMSG</span></span><br/>                               | <span data-ttu-id="1017f-301">A [**função de extensão WSASendMsg.**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg)</span><span class="sxs-lookup"><span data-stu-id="1017f-301">The [**WSASendMsg**](/windows/desktop/api/winsock2/nf-winsock2-wsasendmsg) extension function.</span></span> <br/>                      |

### <a name="sio_get_group_qos-opcode-setting-o-i-t1"></a><span data-ttu-id="1017f-302">SIO \_ GET \_ GROUP \_ QOS (configuração de opcode: O, I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-302">SIO\_GET\_GROUP\_QOS (opcode setting: O, I, T==1)</span></span>

<span data-ttu-id="1017f-303">Reservado para uso futuro com soquetes.</span><span class="sxs-lookup"><span data-stu-id="1017f-303">Reserved for future use with sockets.</span></span>

<span data-ttu-id="1017f-304">Recupere a [**estrutura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) associada ao grupo de soquetes ao qual esse soquete pertence.</span><span class="sxs-lookup"><span data-stu-id="1017f-304">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket group to which this socket belongs.</span></span> <span data-ttu-id="1017f-305">O buffer de entrada é opcional.</span><span class="sxs-lookup"><span data-stu-id="1017f-305">The input buffer is optional.</span></span> <span data-ttu-id="1017f-306">Alguns protocolos (por exemplo, RSVP) permitem que o buffer de entrada seja usado para qualificar uma qualidade de solicitação de serviço.</span><span class="sxs-lookup"><span data-stu-id="1017f-306">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="1017f-307">A **estrutura QOS** será copiada para o buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="1017f-307">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="1017f-308">Se esse soquete não pertencer a um grupo de soquete apropriado, os membros **SendingFlowspec** e **ReceivingFlowspec** da estrutura **QOS** retornada serão definidos como **NULL.**</span><span class="sxs-lookup"><span data-stu-id="1017f-308">If this socket does not belong to an appropriate socket group, the **SendingFlowspec** and **ReceivingFlowspec** members of the returned **QOS** structure are set to **NULL**.</span></span> <span data-ttu-id="1017f-309">O [código de erro WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviços que não suportam a qualidade do serviço.</span><span class="sxs-lookup"><span data-stu-id="1017f-309">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_get_interface_list-opcode-setting-o-t0"></a><span data-ttu-id="1017f-310">SIO \_ GET INTERFACE LIST \_ \_ (configuração de opcode: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1017f-310">SIO\_GET\_INTERFACE\_LIST (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1017f-311">Retorna uma lista de interfaces IP configuradas e seus parâmetros como uma matriz de estruturas [**INTERFACE \_ INFO.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info)</span><span class="sxs-lookup"><span data-stu-id="1017f-311">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures.</span></span>

> [!Note]  
> <span data-ttu-id="1017f-312">O suporte a esse comando é obrigatório para provedores de serviços TCP/IP compatíveis com Windows Sockets 2.</span><span class="sxs-lookup"><span data-stu-id="1017f-312">Support of this command is mandatory for Windows Sockets 2-compliant TCP/IP service providers.</span></span>

<span data-ttu-id="1017f-313">O *parâmetro lpvOutBuffer* aponta para o buffer no qual armazenar as informações sobre interfaces como uma matriz de estruturas [**INTERFACE \_ INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) para endereços IP unicast nas interfaces.</span><span class="sxs-lookup"><span data-stu-id="1017f-313">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info) structures for unicast IP addresses on the interfaces.</span></span> <span data-ttu-id="1017f-314">O *parâmetro cbOutBuffer* especifica o comprimento do buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="1017f-314">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="1017f-315">O número de interfaces retornadas (número de estruturas retornadas no buffer apontado pelo parâmetro *lpvOutBuffer)* pode ser determinado com base no comprimento real do buffer de saída retornado no parâmetro *lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="1017f-315">The number of interfaces returned (number of structures returned in the buffer pointed to by *lpvOutBuffer* parameter) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="1017f-316">Se a [**função WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) for chamada com **SIO \_ GET INTERFACE \_ \_ LIST** e o membro de nível do parâmetro *do* soquete não for definido como **\_ IPPROTO,** **WSAEINVAL** será retornado.</span><span class="sxs-lookup"><span data-stu-id="1017f-316">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function is called with **SIO\_GET\_INTERFACE\_LIST** and the level member of the socket *s* parameter is not defined as **IPPROTO\_IP**, **WSAEINVAL** is returned.</span></span> <span data-ttu-id="1017f-317">Uma chamada para a função **WSAIoctl** com **SIO \_ GET INTERFACE \_ \_ LIST** retornará **WSAEFAULT** se o parâmetro *cbOutBuffer* que especifica o comprimento do buffer de saída for muito pequeno e receber a lista de interfaces configuradas.</span><span class="sxs-lookup"><span data-stu-id="1017f-317">A call to the **WSAIoctl** function with **SIO\_GET\_INTERFACE\_LIST** returns **WSAEFAULT** if the *cbOutBuffer* parameter that specifies the length of the output buffer is too small ro receive the list of configured interfaces.</span></span>

<span data-ttu-id="1017f-318">**SIO \_ HÁ \_ suporte para GET INTERFACE \_ LIST** no Windows Me/98 e Windows NT 4.0 com SP4 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-318">**SIO\_GET\_INTERFACE\_LIST** is supported on Windows Me/98 and Windows NT 4.0 with SP4 and later.</span></span>

### <a name="sio_get_interface_list_ex-opcode-setting-o-t0"></a><span data-ttu-id="1017f-319">SIO \_ GET INTERFACE LIST EX \_ \_ \_ (configuração de opcode: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1017f-319">SIO\_GET\_INTERFACE\_LIST\_EX (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1017f-320">Reservado para uso futuro com soquetes.</span><span class="sxs-lookup"><span data-stu-id="1017f-320">Reserved for future use with sockets.</span></span>

<span data-ttu-id="1017f-321">Retorna uma lista de interfaces IP configuradas e seus parâmetros como uma matriz de [**estruturas INTERFACE \_ INFO \_ EX.**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex)</span><span class="sxs-lookup"><span data-stu-id="1017f-321">Returns a list of configured IP interfaces and their parameters as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures.</span></span>

<span data-ttu-id="1017f-322">O *parâmetro lpvOutBuffer* aponta para o buffer no qual armazenar as informações sobre interfaces como uma matriz de estruturas [**INTERFACE INFO \_ \_ EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) para endereços IP unicast na interface.</span><span class="sxs-lookup"><span data-stu-id="1017f-322">The *lpvOutBuffer* parameter points to the buffer in which to store the information about interfaces as an array of [**INTERFACE\_INFO\_EX**](/windows/desktop/api/Ws2ipdef/ns-ws2ipdef-interface_info_ex) structures for unicast IP addresses on the interface.</span></span> <span data-ttu-id="1017f-323">O *parâmetro cbOutBuffer* especifica o comprimento do buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="1017f-323">The *cbOutBuffer* parameter specifies the length of the output buffer.</span></span> <span data-ttu-id="1017f-324">O número de interfaces retornadas (número de estruturas retornadas em *lpvOutBuffer*) pode ser determinado com base no tamanho real do buffer de saída retornado no *parâmetro lpcbBytesReturned.*</span><span class="sxs-lookup"><span data-stu-id="1017f-324">The number of interfaces returned (number of structures returned in *lpvOutBuffer*) can be determined based on the actual length of the output buffer returned in *lpcbBytesReturned* parameter.</span></span>

<span data-ttu-id="1017f-325">**SIO \_ No \_ \_ momento, não \_** há suporte para GET INTERFACE LIST EX no Windows.</span><span class="sxs-lookup"><span data-stu-id="1017f-325">**SIO\_GET\_INTERFACE\_LIST\_EX** is not currently supported on Windows.</span></span>

### <a name="sio_get_qos-opcode-setting-o-t1"></a><span data-ttu-id="1017f-326">SIO \_ GET \_ QOS (configuração de opcode: O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-326">SIO\_GET\_QOS (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-327">Reservado para uso futuro com soquetes.</span><span class="sxs-lookup"><span data-stu-id="1017f-327">Reserved for future use with sockets.</span></span> <span data-ttu-id="1017f-328">Recupere a [**estrutura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) associada ao soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-328">Retrieve the [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure associated with the socket.</span></span> <span data-ttu-id="1017f-329">O buffer de entrada é opcional.</span><span class="sxs-lookup"><span data-stu-id="1017f-329">The input buffer is optional.</span></span> <span data-ttu-id="1017f-330">Alguns protocolos (por exemplo, RSVP) permitem que o buffer de entrada seja usado para qualificar uma qualidade de solicitação de serviço.</span><span class="sxs-lookup"><span data-stu-id="1017f-330">Some protocols (for example, RSVP) allow the input buffer to be used to qualify a quality of service request.</span></span> <span data-ttu-id="1017f-331">A **estrutura QOS** será copiada para o buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="1017f-331">The **QOS** structure will be copied into the output buffer.</span></span> <span data-ttu-id="1017f-332">O buffer de saída deve ser dimensionado o suficiente para poder conter a estrutura **completa do QOS.**</span><span class="sxs-lookup"><span data-stu-id="1017f-332">The output buffer must be sized large enough to be able to contain the full **QOS** structure.</span></span> <span data-ttu-id="1017f-333">O [código de erro WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviços que não suportam a qualidade do serviço.</span><span class="sxs-lookup"><span data-stu-id="1017f-333">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

<span data-ttu-id="1017f-334">Um remetente não pode chamar **SIO \_ GET \_ QOS até** que o soquete esteja conectado.</span><span class="sxs-lookup"><span data-stu-id="1017f-334">A sender may not call **SIO\_GET\_QOS** until the socket is connected.</span></span>

<span data-ttu-id="1017f-335">Um receptor pode chamar **SIO \_ GET \_ QOS** assim que ele é vinculado.</span><span class="sxs-lookup"><span data-stu-id="1017f-335">A receiver may call **SIO\_GET\_QOS** as soon as it is bound.</span></span>

### <a name="sio_get_tx_timestamp"></a><span data-ttu-id="1017f-336">SIO_GET_TX_TIMESTAMP</span><span class="sxs-lookup"><span data-stu-id="1017f-336">SIO_GET_TX_TIMESTAMP</span></span>

<span data-ttu-id="1017f-337">Um IOCTL de soquete usado para obter os timestamps para pacotes transmitidos (TX).</span><span class="sxs-lookup"><span data-stu-id="1017f-337">A socket IOCTL used to get timestamps for transmitted (TX) packets.</span></span> <span data-ttu-id="1017f-338">Válido somente para soquetes de datagrama.</span><span class="sxs-lookup"><span data-stu-id="1017f-338">Valid only for datagram sockets.</span></span>

<span data-ttu-id="1017f-339">O **SIO_GET_TX_TIMESTAMP** de controle remove um timestamp de transmissão da fila de data/hora de transmissão de um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-339">The **SIO_GET_TX_TIMESTAMP** control code removes a transmit timestamp from a socket's transmit timestamp queue.</span></span> <span data-ttu-id="1017f-340">Habilita a recepção de timestamp primeiro usando [**o IOCTL SIO_TIMESTAMPING**](#sio_timestamping) soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-340">Enable timestamp reception first by using the [**SIO_TIMESTAMPING**](#sio_timestamping) socket IOCTL.</span></span> <span data-ttu-id="1017f-341">Em seguida, recupere os timestamps tx por ID chamando a função [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (ou [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) com os parâmetros a seguir.</span><span class="sxs-lookup"><span data-stu-id="1017f-341">Then retrieve tx timestamps by ID by calling the [**WSAIoctl**](/windows/win32/api/winsock2/nf-winsock2-wsaioctl) (or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85))) function with the following parameters.</span></span>

<span data-ttu-id="1017f-342">Por **SIO_GET_TX_TIMESTAMP**, a entrada é uma ID de data/hora **UINT32** e a saída é um valor de data/hora **UINT64.**</span><span class="sxs-lookup"><span data-stu-id="1017f-342">For **SIO_GET_TX_TIMESTAMP**, the input is a **UINT32** timestamp ID, and the output is a **UINT64** timestamp value.</span></span> <span data-ttu-id="1017f-343">Em caso de êxito, o timestamp tx está disponível e é retornado.</span><span class="sxs-lookup"><span data-stu-id="1017f-343">On success, the tx timestamp is available, and is returned.</span></span> <span data-ttu-id="1017f-344">Se nenhum timestamp de transmissão estiver disponível, [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) retornará **WSAEBLOCKBLOCK**.</span><span class="sxs-lookup"><span data-stu-id="1017f-344">If no transmit timestamps are available, then [**WSAGetLastError**](/windows/win32/api/winsock/nf-winsock-wsagetlasterror) returns **WSAEWOULDBLOCK**.</span></span>

> [!NOTE]
> <span data-ttu-id="1017f-345">Não há suporte para osstamps de data/hora TX ao fazer um envio coalesced via **UDP_SEND_MSG_SIZE**.</span><span class="sxs-lookup"><span data-stu-id="1017f-345">TX timestamps are not supported when doing a coalesced send via **UDP_SEND_MSG_SIZE**.</span></span>

<span data-ttu-id="1017f-346">Consulte também [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span><span class="sxs-lookup"><span data-stu-id="1017f-346">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_ideal_send_backlog_change-opcode-setting-v-t0"></a><span data-ttu-id="1017f-347">SIO \_ IDEAL \_ SEND \_ BACKLOG CHANGE \_ (configuração de opcode: V, T==0)</span><span class="sxs-lookup"><span data-stu-id="1017f-347">SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE (opcode setting: V, T==0)</span></span>

<span data-ttu-id="1017f-348">Notifica um aplicativo quando o valor ideal de ISB (backlog de envio) muda para a conexão subjacente.</span><span class="sxs-lookup"><span data-stu-id="1017f-348">Notifies an application when the ideal send backlog (ISB) value changes for the underlying connection.</span></span>

<span data-ttu-id="1017f-349">Ao enviar dados por uma conexão TCP usando soquetes do Windows, é importante manter uma quantidade suficiente de dados pendentes (enviados, mas ainda não confirmados) em TCP para obter a taxa de transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="1017f-349">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="1017f-350">O valor ideal para a quantidade de dados pendentes para obter a melhor produtividade para a conexão TCP é chamado de tamanho ideal de ISB (backlog de envio).</span><span class="sxs-lookup"><span data-stu-id="1017f-350">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="1017f-351">O valor isb é uma função do produto de atraso de largura de banda da conexão TCP e da janela de recebimento anunciada do receptor (e, em parte, a quantidade de congestionamento na rede).</span><span class="sxs-lookup"><span data-stu-id="1017f-351">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="1017f-352">O valor isb por conexão está disponível na implementação do protocolo TCP no Windows Server 2008, windows Vista com SP1 e versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-352">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span> <span data-ttu-id="1017f-353">O IOCTL DE ALTERAÇÃO DA **\_ \_ \_ LISTA \_** DE PENDÊNCIAS IDEAL DO SIO pode ser usado por um aplicativo para receber notificação quando o valor isb é alterado dinamicamente para uma conexão.</span><span class="sxs-lookup"><span data-stu-id="1017f-353">The **SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE** IOCTL can be used by an application to get notification when the ISB value changes dynamically for a connection.</span></span>

<span data-ttu-id="1017f-354">Para obter informações mais detalhadas, consulte a referência [**SIO \_ IDEAL SEND \_ \_ BACKLOG \_ CHANGE.**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-354">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-355">[**SIO \_ HÁ suporte para a ALTERAÇÃO DE \_ \_ BACKLOG \_ DE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) ENVIO IDEAL no Windows Server 2008, no Windows Vista com SP1 e em versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-355">[**SIO\_IDEAL\_SEND\_BACKLOG\_CHANGE**](/previous-versions/windows/desktop/legacy/bb736548(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_ideal_send_backlog_query-opcode-setting-o-t0"></a><span data-ttu-id="1017f-356">CONSULTA SIO \_ IDEAL \_ SEND \_ BACKLOG \_ (configuração de opcode: O, T==0)</span><span class="sxs-lookup"><span data-stu-id="1017f-356">SIO\_IDEAL\_SEND\_BACKLOG\_QUERY (opcode setting: O, T==0)</span></span>

<span data-ttu-id="1017f-357">Recupera o valor ideal de ISB (backlog de envio) para a conexão subjacente.</span><span class="sxs-lookup"><span data-stu-id="1017f-357">Retrieves the ideal send backlog (ISB) value for the underlying connection.</span></span>

<span data-ttu-id="1017f-358">Ao enviar dados por uma conexão TCP usando soquetes do Windows, é importante manter uma quantidade suficiente de dados pendentes (enviados, mas ainda não confirmados) em TCP para obter a taxa de transferência mais alta.</span><span class="sxs-lookup"><span data-stu-id="1017f-358">When sending data over a TCP connection using Windows sockets, it is important to keep a sufficient amount of data outstanding (sent but not acknowledged yet) in TCP in order to achieve the highest throughput.</span></span> <span data-ttu-id="1017f-359">O valor ideal para a quantidade de dados pendentes para obter a melhor produtividade para a conexão TCP é chamado de tamanho ideal de ISB (backlog de envio).</span><span class="sxs-lookup"><span data-stu-id="1017f-359">The ideal value for the amount of data outstanding to achieve the best throughput for the TCP connection is called the ideal send backlog (ISB) size.</span></span> <span data-ttu-id="1017f-360">O valor isb é uma função do produto de atraso de largura de banda da conexão TCP e da janela de recebimento anunciada do receptor (e, em parte, a quantidade de congestionamento na rede).</span><span class="sxs-lookup"><span data-stu-id="1017f-360">The ISB value is a function of the bandwidth-delay product of the TCP connection and the receiver's advertised receive window (and partly the amount of congestion in the network).</span></span>

<span data-ttu-id="1017f-361">O valor isb por conexão está disponível na implementação do protocolo TCP no Windows Server 2008 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-361">The ISB value per connection is available from the TCP protocol implementation in Windows Server 2008 and later.</span></span> <span data-ttu-id="1017f-362">O IOCTL DE CONSULTA **\_ DE \_ \_ BACKLOG \_** DO SIO IDEAL SEND pode ser usado por um aplicativo para consultar o valor isb de uma conexão.</span><span class="sxs-lookup"><span data-stu-id="1017f-362">The **SIO\_IDEAL\_SEND\_BACKLOG\_QUERY** IOCTL can be used by an application to query the ISB value for a connection.</span></span>

<span data-ttu-id="1017f-363">Para obter informações mais detalhadas, consulte a referência de [**\_ CONSULTA DE \_ \_ BACKLOG \_ SEND DO SIO IDEAL.**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-363">For more detailed information, see the [**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-364">[**Sio \_ A \_ \_ \_ consulta do registro posterior de envio ideal**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) tem suporte no Windows Server 2008, no Windows Vista com SP1 e em versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-364">[**SIO\_IDEAL\_SEND\_BACKLOG\_QUERY**](/previous-versions/windows/desktop/legacy/bb736549(v=vs.85)) is supported on Windows Server 2008, Windows Vista with SP1, and later versions of the operating system.</span></span>

### <a name="sio_keepalive_vals-opcode-setting-i-t3"></a><span data-ttu-id="1017f-365">SIO \_ KeepAlive \_ Vals (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-365">SIO\_KEEPALIVE\_VALS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-366">Habilita ou desabilita a configuração por conexão da opção TCP **Keep-Alive** que especifica o tempo limite e o intervalo de Keep-Alive TCP.</span><span class="sxs-lookup"><span data-stu-id="1017f-366">Enables or disables the per-connection setting of the TCP **keep-alive** option which specifies the TCP keep-alive timeout and interval.</span></span> <span data-ttu-id="1017f-367">Para obter mais informações sobre a opção keep-alive, consulte a seção 4.2.3.6 sobre os *requisitos para hosts da Internet — camadas de comunicação* especificadas no RFC 1122 disponíveis no [site da IETF](https://www.ietf.org/rfc/rfc1122.txt).</span><span class="sxs-lookup"><span data-stu-id="1017f-367">For more information on the keep-alive option, see section 4.2.3.6 on the *Requirements for Internet Hosts—Communication Layers* specified in RFC 1122 available at the [IETF website](https://www.ietf.org/rfc/rfc1122.txt).</span></span> <span data-ttu-id="1017f-368">(Este recurso só pode estar disponível em inglês.)</span><span class="sxs-lookup"><span data-stu-id="1017f-368">(This resource may only be available in English.)</span></span>

<span data-ttu-id="1017f-369">**Sio \_ KEEPALIVE \_ Vals** pode ser usado para habilitar ou desabilitar investigações Keep-Alive e definir o tempo limite e o intervalo de Keep-Alive.</span><span class="sxs-lookup"><span data-stu-id="1017f-369">**SIO\_KEEPALIVE\_VALS** can be used to enable or disable keep-alive probes and set the keep-alive timeout and interval.</span></span> <span data-ttu-id="1017f-370">O tempo limite de Keep-Alive especifica o tempo limite, em milissegundos, sem atividade até que o primeiro pacote keep-alive seja enviado.</span><span class="sxs-lookup"><span data-stu-id="1017f-370">The keep-alive timeout specifies the timeout, in milliseconds, with no activity until the first keep-alive packet is sent.</span></span> <span data-ttu-id="1017f-371">O intervalo Keep-Alive especifica o intervalo, em milissegundos, entre quando os pacotes Keep Alive sucessivos são enviados, caso nenhuma confirmação seja recebida.</span><span class="sxs-lookup"><span data-stu-id="1017f-371">The keep-alive interval specifies the interval, in milliseconds, between when successive keep-alive packets are sent if no acknowledgement is received.</span></span>

<span data-ttu-id="1017f-372">A opção de [**\_ KeepAlive**](so-keepalive.md) , que é uma das [Opções de \_ soquete de soquete de sol](sol-socket-socket-options.md), também pode ser usada para habilitar ou desabilitar o TCP Keep-Alive em uma conexão, bem como consultar o estado atual dessa opção.</span><span class="sxs-lookup"><span data-stu-id="1017f-372">The [**SO\_KEEPALIVE**](so-keepalive.md) option, which is one of the [SOL\_SOCKET Socket Options](sol-socket-socket-options.md), can also be used to enable or disable the TCP keep-alive on a connection, as well as query the current state of this option.</span></span> <span data-ttu-id="1017f-373">Para consultar se o TCP Keep-Alive está habilitado em um soquete, a função [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) pode ser chamada com a opção de **\_ KeepAlive** .</span><span class="sxs-lookup"><span data-stu-id="1017f-373">To query whether TCP keep-alive is enabled on a socket, the [**getsockopt**](/windows/desktop/api/winsock/nf-winsock-getsockopt) function can be called with the **SO\_KEEPALIVE** option.</span></span> <span data-ttu-id="1017f-374">Para habilitar ou desabilitar o TCP Keep-Alive, a função [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) pode ser chamada com a opção de [**\_ KeepAlive**](so-keepalive.md) .</span><span class="sxs-lookup"><span data-stu-id="1017f-374">To enable or disable TCP keep-alive, the [**setsockopt**](/windows/desktop/api/winsock/nf-winsock-setsockopt) function can be called with the [**SO\_KEEPALIVE**](so-keepalive.md) option.</span></span> <span data-ttu-id="1017f-375">Se o TCP Keep-Alive estiver habilitado com o **\_ KeepAlive**, as configurações de TCP padrão serão usadas para tempo limite e intervalo de Keep-Alive, a menos que esses valores tenham sido alterados usando **sio \_ KeepAlive \_ Vals**.</span><span class="sxs-lookup"><span data-stu-id="1017f-375">If TCP keep-alive is enabled with **SO\_KEEPALIVE**, then the default TCP settings are used for keep-alive timeout and interval unless these values have been changed using **SIO\_KEEPALIVE\_VALS**.</span></span>

<span data-ttu-id="1017f-376">Para obter informações mais detalhadas, consulte a referência do [**sio \_ KeepAlive \_ Vals**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-376">For more detailed information, see the [**SIO\_KEEPALIVE\_VALS**](/previous-versions/windows/desktop/legacy/dd877220(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-377">**Sio \_ O KEEPALIVE \_ Vals** tem suporte no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-377">**SIO\_KEEPALIVE\_VALS** is supported on Windows 2000 and later.</span></span>

### <a name="sio_loopback_fast_path-opcode-setting-i-t3"></a><span data-ttu-id="1017f-378">SIO \_ LOOPBACK \_ FAST PATH \_ (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-378">SIO\_LOOPBACK\_FAST\_PATH (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-379">Configura um soquete TCP para operações de menor latência e mais rápidas na interface de loopback.</span><span class="sxs-lookup"><span data-stu-id="1017f-379">Configures a TCP socket for lower latency and faster operations on the loopback interface.</span></span> <span data-ttu-id="1017f-380">Esse IOCTL solicita que a pilha TCP/IP use um caminho rápido especial para operações de loopback nesse soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-380">This IOCTL requests that the TCP/IP stack uses a special fast path for loopback operations on this socket.</span></span> <span data-ttu-id="1017f-381">O IOCTL de CAMINHO RÁPIDO DO [**\_ \_ \_ LOOPBACK SIO**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) só pode ser usado com soquetes TCP.</span><span class="sxs-lookup"><span data-stu-id="1017f-381">The [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) IOCTL can be used only with TCP sockets.</span></span> <span data-ttu-id="1017f-382">Esse IOCTL deve ser usado em ambos os lados da sessão de loopback.</span><span class="sxs-lookup"><span data-stu-id="1017f-382">This IOCTL must be used on both sides of the loopback session.</span></span> <span data-ttu-id="1017f-383">Há suporte para o caminho rápido de loopback TCP usando a interface de loopback IPv4 ou IPv6.</span><span class="sxs-lookup"><span data-stu-id="1017f-383">The TCP loopback fast path is supported using either the IPv4 or IPv6 loopback interface.</span></span> <span data-ttu-id="1017f-384">Por padrão, **o SIO \_ LOOPBACK \_ FAST \_ PATH** está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="1017f-384">By default, **SIO\_LOOPBACK\_FAST\_PATH** is disabled.</span></span>

<span data-ttu-id="1017f-385">Para obter informações mais detalhadas, consulte a referência [**SIO \_ LOOPBACK \_ FAST \_ PATH.**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-385">For more detailed information, see the [**SIO\_LOOPBACK\_FAST\_PATH**](/previous-versions/windows/desktop/legacy/jj841212(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-386">**SIO \_ HÁ suporte \_ para \_ LOOPBACK FAST PATH** Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-386">**SIO\_LOOPBACK\_FAST\_PATH** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_multipoint_loopback-opcode-setting-v-t1"></a><span data-ttu-id="1017f-387">LOOPBACK \_ DO SIO MULTIPOINT \_ (configuração de opcode: V, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-387">SIO\_MULTIPOINT\_LOOPBACK (opcode setting: V, T==1)</span></span>

<span data-ttu-id="1017f-388">Controla se os dados enviados por um aplicativo no computador local (não necessariamente pelo mesmo soquete) em uma sessão multicast serão recebidos por um soquete ingressado no grupo de destino multicast na interface de loopback.</span><span class="sxs-lookup"><span data-stu-id="1017f-388">Controls whether data sent by an application on the local computer (not necessarily by the same socket) in a multicast session will be received by a socket joined to the multicast destination group on the loopback interface.</span></span> <span data-ttu-id="1017f-389">Um valor true **faz com** que os dados multicast enviados por um aplicativo no computador local sejam entregues a um soquete de escuta na interface de loopback.</span><span class="sxs-lookup"><span data-stu-id="1017f-389">A value of **TRUE** causes multicast data sent by an application on the local computer to be delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="1017f-390">Um valor false **impede** que os dados multicast enviados por um aplicativo no computador local seja entregue a um soquete de escuta na interface de loopback.</span><span class="sxs-lookup"><span data-stu-id="1017f-390">A value of **FALSE** prevents multicast data sent by an application on the local computer from being delivered to a listening socket on the loopback interface.</span></span> <span data-ttu-id="1017f-391">Por padrão, **o SIO \_ MULTIPOINT \_ LOOPBACK** está habilitado.</span><span class="sxs-lookup"><span data-stu-id="1017f-391">By default, **SIO\_MULTIPOINT\_LOOPBACK** is enabled.</span></span>

### <a name="sio_multicast_scope-opcode-setting-i-t1"></a><span data-ttu-id="1017f-392">ESCOPO DO MULTICAST SIO \_ \_ (configuração de opcode: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-392">SIO\_MULTICAST\_SCOPE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1017f-393">Especifica o escopo sobre o qual as transmissões multicast ocorrerão.</span><span class="sxs-lookup"><span data-stu-id="1017f-393">Specifies the scope over which multicast transmissions will occur.</span></span> <span data-ttu-id="1017f-394">O escopo é definido como o número de segmentos de rede roteados a serem cobertos.</span><span class="sxs-lookup"><span data-stu-id="1017f-394">Scope is defined as the number of routed network segments to be covered.</span></span> <span data-ttu-id="1017f-395">Um escopo de zero indicaria que a transmissão multicast não seria colocada na transmissão, mas poderia ser disseminada entre soquetes dentro do host local.</span><span class="sxs-lookup"><span data-stu-id="1017f-395">A scope of zero would indicate that the multicast transmission would not be placed on the wire but could be disseminated across sockets within the local host.</span></span> <span data-ttu-id="1017f-396">Um valor de escopo de um (o padrão) indica que a transmissão será colocada na transmissão, mas não cruzará nenhum roteador.</span><span class="sxs-lookup"><span data-stu-id="1017f-396">A scope value of one (the default) indicates that the transmission will be placed on the wire, but will not cross any routers.</span></span> <span data-ttu-id="1017f-397">Valores de escopo mais altos determinam o número de roteadores que podem ser cruzados.</span><span class="sxs-lookup"><span data-stu-id="1017f-397">Higher scope values determine the number of routers that can be crossed.</span></span> <span data-ttu-id="1017f-398">Observe que isso corresponde ao parâmetro time-to-Live (TTL) no multicast de IP.</span><span class="sxs-lookup"><span data-stu-id="1017f-398">Note that this corresponds to the time-to-live (TTL) parameter in IP multicasting.</span></span> <span data-ttu-id="1017f-399">Por padrão, o escopo é 1.</span><span class="sxs-lookup"><span data-stu-id="1017f-399">By default, scope is 1.</span></span>

### <a name="sio_query_rss_processor_info-opcode-setting-o-t1"></a><span data-ttu-id="1017f-400">SIO \_ consultar \_ \_ \_ informações do processador RSS (configuração de opcode: O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-400">SIO\_QUERY\_RSS\_PROCESSOR\_INFO (opcode setting: O, T==1)</span></span>

<span data-ttu-id="1017f-401">Consulta a associação entre um soquete e um núcleo de processador RSS e um nó NUMA.</span><span class="sxs-lookup"><span data-stu-id="1017f-401">Queries the association between a socket and an RSS processor core and NUMA node.</span></span>

<span data-ttu-id="1017f-402">As [**\_ informações do \_ \_ processador \_ RSS da consulta sio**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL retorna uma estrutura de [**\_ \_ afinidade de processador de soquete**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) que contém o [**\_ número do processador**](/windows/win32/api/winnt/ns-winnt-processor_number) e a ID do nó numa.</span><span class="sxs-lookup"><span data-stu-id="1017f-402">The [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) IOCTL returns a [**SOCKET\_PROCESSOR\_AFFINITY**](/windows/desktop/api/Ws2def/ns-ws2def-socket_processor_affinity) structure that contains the [**PROCESSOR\_NUMBER**](/windows/win32/api/winnt/ns-winnt-processor_number) and the NUMA node ID.</span></span> <span data-ttu-id="1017f-403">A estrutura **de \_ número de processador** retornada contém um número de grupo e um número de processador relativo no grupo.</span><span class="sxs-lookup"><span data-stu-id="1017f-403">The returned **PROCESSOR\_NUMBER** structure contains a group number and relative processor number within the group.</span></span>

<span data-ttu-id="1017f-404">Para obter informações mais detalhadas, consulte a referência de [**\_ \_ \_ \_ informações do processador RSS de consulta sio**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-404">For more detailed information, see the [**SIO\_QUERY\_RSS\_PROCESSOR\_INFO**](/previous-versions/windows/desktop/legacy/jj553482(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-405">**Sio \_ As \_ \_ \_ informações do processador RSS de consulta** têm suporte no Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-405">**SIO\_QUERY\_RSS\_PROCESSOR\_INFO** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_rss_scalability_info-opcode-setting-o-t3"></a><span data-ttu-id="1017f-406">\_ \_ \_ Informações de escalabilidade de RSS da consulta sio \_ (configuração de opcode: O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-406">SIO\_QUERY\_RSS\_SCALABILITY\_INFO (opcode setting: O, T==3)</span></span>

<span data-ttu-id="1017f-407">As consultas descarregam interfaces para o recurso de dimensionamento no lado do recebimento (RSS).</span><span class="sxs-lookup"><span data-stu-id="1017f-407">Queries offload interfaces for receive-side scaling (RSS) capability.</span></span> <span data-ttu-id="1017f-408">A estrutura de argumentos retornada para as **\_ \_ \_ \_ informações de escalabilidade de RSS de consulta sio** é especificada na estrutura de **\_ \_ informações de escalabilidade de RSS** definida no arquivo de cabeçalho *Mstcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="1017f-408">The argument structure returned for **SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is specified in the **RSS\_SCALABILITY\_INFO** structure defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="1017f-409">Essa estrutura é definida da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="1017f-409">This structure is defined as follows:</span></span>

```cpp
// Scalability info for the transport
typedef struct _RSS_SCALABILITY_INFO {
   BOOLEAN RssEnabled;
} RSS_SCALABILITY_INFO, *PRSS_SCALABILITY_INFO;
```

<span data-ttu-id="1017f-410">O valor retornado no membro **RssEnabled** indica se o RSS está habilitado em pelo menos uma interface.</span><span class="sxs-lookup"><span data-stu-id="1017f-410">The value returned in the **RssEnabled** member indicates if RSS is enabled on at least one interface.</span></span>

<span data-ttu-id="1017f-411">Se o buffer de saída não for grande o suficiente para a estrutura de **\_ \_ informações de escalabilidade RSS** (o *cbOutBuffer* é menor que o tamanho de uma **\_ \_ informação de escalabilidade de RSS**) ou o parâmetro *lpvOutBuffer* é um ponteiro **nulo** , o **\_ erro de soquete** é retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retorna [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-411">If the output buffer is not large enough for the **RSS\_SCALABILITY\_INFO** structure (the *cbOutBuffer* is less than the size of a **RSS\_SCALABILITY\_INFO**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-412">Em uma rede de alta velocidade em que várias CPUs residem em um único sistema, a capacidade da pilha de protocolos de rede de dimensionar bem em um sistema de várias CPU é inibida porque a arquitetura do NDIS 5.1 e versões anteriores limita o processamento de protocolo para uma única CPU.</span><span class="sxs-lookup"><span data-stu-id="1017f-412">In high-speed networking where multiple CPUs reside within a single system, the ability of the networking protocol stack to scale well on a multi-CPU system is inhibited because the architecture of NDIS 5.1 and earlier versions limits receive protocol processing to a single CPU.</span></span> <span data-ttu-id="1017f-413">O RSS (dimensionamento do lado do recebimento) resolve esse problema permitindo que a carga de rede de um adaptador de rede seja balanceada em várias CPUs.</span><span class="sxs-lookup"><span data-stu-id="1017f-413">Receive-side scaling (RSS) resolves this issue by allowing the network load from a network adapter to be balanced across multiple CPUs.</span></span>

<span data-ttu-id="1017f-414">**SIO \_ AS INFORMAÇÕES \_ DE ESCALABILIDADE do RSS \_ \_ DE CONSULTA** são suportadas no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-414">**SIO\_QUERY\_RSS\_SCALABILITY\_INFO** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_transport_setting-opcode-setting-i-t3"></a><span data-ttu-id="1017f-415">CONFIGURAÇÃO DE TRANSPORTE DE CONSULTA DO SIO \_ \_ \_ (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-415">SIO\_QUERY\_TRANSPORT\_SETTING (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-416">Consulta as configurações de transporte em um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-416">Queries the transport settings on a socket.</span></span> <span data-ttu-id="1017f-417">A configuração de transporte que está sendo consultada baseia-se na [**\_ \_ ID TRANSPORT SETTING**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passada no *parâmetro lpvInBuffer.*</span><span class="sxs-lookup"><span data-stu-id="1017f-417">The transport setting being queried is based on the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) passed in the *lpvInBuffer* parameter.</span></span>

<span data-ttu-id="1017f-418">A única configuração de transporte atualmente definida é para a funcionalidade **\_ DE \_ NOTIFICAÇÃO \_ EM** TEMPO REAL em um soquete TCP.</span><span class="sxs-lookup"><span data-stu-id="1017f-418">The only transport setting currently defines is for the **REAL\_TIME\_NOTIFICATION\_CAPABILITY** capability on a TCP socket.</span></span>

<span data-ttu-id="1017f-419">Se a [**\_ \_ ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) DE CONFIGURAÇÃO DE TRANSPORTE tiver o membro **Guid** definido como CAPACIDADE DE NOTIFICAÇÃO EM TEMPO **REAL, \_ \_ \_** essa será uma solicitação para consultar as configurações de notificação em tempo real para o soquete TCP usado com [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) para receber notificações de rede em segundo plano em um aplicativo da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="1017f-419">If the [**TRANSPORT\_SETTING\_ID**](/windows/win32/api/transportsettingcommon/ns-transportsettingcommon-transport_setting_id) has the **Guid** member set to **REAL\_TIME\_NOTIFICATION\_CAPABILITY**, then this is a request to query the real time notification settings for the TCP socket used with the [**ControlChannelTrigger**](/uwp/api/Windows.Networking.Sockets.ControlChannelTrigger) to receive background network notifications in a Windows Store app.</span></span> <span data-ttu-id="1017f-420">Se a [**chamada WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) ou [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) for bem-sucedida, esse IOCTL retornará uma estrutura DE SAÍDA DE CONFIGURAÇÃO DE NOTIFICAÇÃO EM TEMPO REAL com o status atual. [**\_ \_ \_ \_**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input)</span><span class="sxs-lookup"><span data-stu-id="1017f-420">If the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) or [**WSPIoctl**](/previous-versions/windows/hardware/network/ff566296(v=vs.85)) call is successful, this IOCTL returns a [**REAL\_TIME\_NOTIFICATION\_SETTING\_OUTPUT**](/windows/desktop/api/Mstcpip/ns-mstcpip-real_time_notification_setting_input) structure with the current status.</span></span>

<span data-ttu-id="1017f-421">Para obter informações mais detalhadas, consulte a referência DE CONFIGURAÇÃO DE TRANSPORTE DE [**\_ CONSULTA \_ \_ SIO.**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-421">For more detailed information, see the [**SIO\_QUERY\_TRANSPORT\_SETTING**](/previous-versions/windows/desktop/legacy/jj553483(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-422">**SIO \_ A CONFIGURAÇÃO \_ \_ DE TRANSPORTE DE** CONSULTA tem suporte Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-422">**SIO\_QUERY\_TRANSPORT\_SETTING** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_ale_endpoint_handle-opcode-setting-o-t3"></a><span data-ttu-id="1017f-423">SIO \_ QUERY \_ WFP \_ ALE \_ ENDPOINT \_ HANDLE (configuração de opcode: O, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-423">SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE (opcode setting: O, T==3)</span></span>

<span data-ttu-id="1017f-424">Consulta o alça do ponto de extremidade ALE (Imposição de Camada de Aplicativo).</span><span class="sxs-lookup"><span data-stu-id="1017f-424">Queries the Application Layer Enforcement (ALE) endpoint handle.</span></span>

<span data-ttu-id="1017f-425">A WFP (Plataforma de Filtragem do Windows) dá suporte à inspeção e modificação de tráfego de rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-425">The Windows Filtering Platform (WFP) supports network traffic inspection and modification.</span></span> <span data-ttu-id="1017f-426">No Windows Vista, a WFP se concentra em cenários em que a máquina host é o ponto de extremidade de comunicação.</span><span class="sxs-lookup"><span data-stu-id="1017f-426">On Windows Vista, WFP focuses on scenarios where the host machine is the communication endpoint.</span></span> <span data-ttu-id="1017f-427">No Windows Server 2008, no entanto, há implementações de firewall do Edge que gostariam de aproveitar a plataforma WFP para inspecionar e fazer proxy do tráfego de passagem.</span><span class="sxs-lookup"><span data-stu-id="1017f-427">On Windows Server 2008 , however, there are edge firewall implementations which would like to leverage the WFP platform to inspect and proxy pass-through traffic.</span></span> <span data-ttu-id="1017f-428">O ISA (Internet Security and Acceleration) Server é um exemplo desse tipo de dispositivo de borda.</span><span class="sxs-lookup"><span data-stu-id="1017f-428">The Internet Security and Acceleration (ISA) server is an example of such an edge device.</span></span>

<span data-ttu-id="1017f-429">Há alguns cenários de firewall que podem exigir a capacidade de injetar um pacote de entrada no caminho de envio associado a um ponto de extremidade existente.</span><span class="sxs-lookup"><span data-stu-id="1017f-429">There are some firewall scenarios that may require the ability to inject an inbound packet into the send path associated with an existing endpoint.</span></span> <span data-ttu-id="1017f-430">Deve haver um mecanismo para descobrir o identificador de ponto de extremidade da camada de transporte associado ao ponto de extremidade de destino.</span><span class="sxs-lookup"><span data-stu-id="1017f-430">There needs to be a mechanism to discover the transport layer endpoint handle associated with the destination endpoint.</span></span> <span data-ttu-id="1017f-431">O aplicativo que criou o ponto de extremidade possui esses pontos de extremidades da camada de transporte.</span><span class="sxs-lookup"><span data-stu-id="1017f-431">The application that created the endpoint owns these transport layer endpoints.</span></span> <span data-ttu-id="1017f-432">Esse IOCTL é usado para fornecer um identificador de soquete ao mapeamento de identificador de ponto de extremidade de camada de transporte.</span><span class="sxs-lookup"><span data-stu-id="1017f-432">This IOCTL is used to provide socket handle to transport layer endpoint handle mapping.</span></span>

<span data-ttu-id="1017f-433">Se o buffer de saída não for grande o suficiente para o identificador do ponto de extremidade (o *cbOutBuffer* é menor que o tamanho de um **UINT64**) ou o parâmetro *lpvOutBuffer* for um ponteiro **NULL** , o **\_ erro de soquete** será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEINVAL](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-433">If the output buffer is not large enough for the endpoint handle (the *cbOutBuffer* is less than the size of a **UINT64**) or the *lpvOutBuffer* parameter is a **NULL** pointer, **SOCKET\_ERROR** is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEINVAL](windows-sockets-error-codes-2.md).</span></span>

<span data-ttu-id="1017f-434">**Sio \_ A consulta do \_ \_ identificador de ponto de \_ extremidade \_ Ale WFP** tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-434">**SIO\_QUERY\_WFP\_ALE\_ENDPOINT\_HANDLE** is supported on Windows Vista and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_context-opcode-setting-i-t3"></a><span data-ttu-id="1017f-435">SIO \_ consultar \_ \_ \_ contexto de redirecionamento de conexão WFP \_ (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-435">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-436">Consulta o contexto de redirecionamento para um registro de redirecionamento usado por um serviço de redirecionamento WFP (Windows Filtering Platform).</span><span class="sxs-lookup"><span data-stu-id="1017f-436">Queries the redirect context for a redirect record used by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1017f-437">O [**\_ contexto de \_ \_ \_ redirecionamento \_ de conexão WFP de consulta sio**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) é usado para fornecer rastreamento de conexão com proxy em conexões de soquete redirecionadas.</span><span class="sxs-lookup"><span data-stu-id="1017f-437">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1017f-438">Esse recurso de WFP facilita o rastreamento de registros de redirecionamento do redirecionamento inicial de uma conexão com a conexão final com o destino.</span><span class="sxs-lookup"><span data-stu-id="1017f-438">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1017f-439">Para obter informações mais detalhadas, consulte a referência de [**\_ \_ \_ \_ \_ contexto de redirecionamento de conexão WFP de consulta sio**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-439">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT**](/previous-versions/windows/desktop/legacy/hh859712(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-440">**SIO \_ HÁ suporte \_ para \_ \_ \_** O CONTEXTO DE REDIRECIONAMENTO DE CONEXÃO DO WFP Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-440">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_CONTEXT** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_query_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="1017f-441">SIO \_ QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-441">SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-442">Consulta o registro de redirecionamento para a conexão TCP/IP aceita para uso por um serviço de redirecionamento do WFP (Windows Filtering Platform).</span><span class="sxs-lookup"><span data-stu-id="1017f-442">Queries the redirect record for the accepted TCP/IP connection for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1017f-443">O IOCTL DE REGISTROS DE REDIRECIONAMENTO DE CONEXÃO [**\_ \_ WFP \_ \_ \_**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) DE CONSULTA SIO é usado para fornecer o acompanhamento de conexão proxied em conexões de soquete redirecionadas.</span><span class="sxs-lookup"><span data-stu-id="1017f-443">The [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) IOCTL is used to provide proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1017f-444">Esse recurso WFP facilita o acompanhamento de registros de redirecionamento do redirecionamento inicial de uma conexão com a conexão final com o destino.</span><span class="sxs-lookup"><span data-stu-id="1017f-444">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1017f-445">Para obter informações mais detalhadas, consulte a referência DE REGISTROS DE REDIRECIONAMENTO DE [**\_ CONEXÃO \_ WFP \_ \_ \_ DA CONSULTA SIO.**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-445">For more detailed information, see the [**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859713(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-446">**SIO \_ O QUERY \_ WFP \_ CONNECTION REDIRECT \_ \_ RECORDS** tem suporte Windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-446">**SIO\_QUERY\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_rcvall-opcode-setting-i-t3"></a><span data-ttu-id="1017f-447">SIO \_ RCCODE (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-447">SIO\_RCVALL (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-448">Permite que um soquete receba todos os pacotes IPv4 ou IPv6 passando por um adaptador de rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-448">Enables a socket to receive all IPv4 or IPv6 packets passing throuigh a network interface.</span></span> <span data-ttu-id="1017f-449">O alça de soquete passado [**para a função WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve ser um dos seguintes:</span><span class="sxs-lookup"><span data-stu-id="1017f-449">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be one of the following:</span></span>

-   <span data-ttu-id="1017f-450">Um soquete IPv4 criado com a família de endereços definida como AF INET, o tipo de soquete definido como SOCK RAW e o protocolo definido \_ \_ como IP IPPROTO. \_</span><span class="sxs-lookup"><span data-stu-id="1017f-450">An IPv4 socket that was created with the address family set to AF\_INET, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IP.</span></span>
-   <span data-ttu-id="1017f-451">Um soquete IPv6 criado com a família de endereços definida como AF INET6, o tipo de soquete definido como SOCK RAW e o protocolo definido como \_ \_ IPPROTO \_ IPV6.</span><span class="sxs-lookup"><span data-stu-id="1017f-451">An IPv6 socket that was created with the address family set to AF\_INET6, the socket type set to SOCK\_RAW, and the protocol set to IPPROTO\_IPV6.</span></span>

<span data-ttu-id="1017f-452">O soquete também deve ser vinculado a uma interface IPv4 ou IPv6 local explícita, o que significa que você não pode se vincular a **INADDR \_ ANY** ou **in6addr \_ a qualquer**.</span><span class="sxs-lookup"><span data-stu-id="1017f-452">The socket also must be bound to an explicit local IPv4 or IPv6 interface, which means that you cannot bind to **INADDR\_ANY** or **in6addr\_any**.</span></span>

<span data-ttu-id="1017f-453">No Windows Server 2008 e anteriores, a configuração de IOCTL [**do SIO \_ RCTLE**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) não capturaria pacotes locais enviados de um interface de rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-453">On Windows Server 2008 and earlier, the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL setting would not capture local packets sent out of a network interface.</span></span> <span data-ttu-id="1017f-454">Isso incluiu pacotes recebidos em outra interface e encaminhou o interface de rede especificado para o **IOCTL do SIO \_ RCTLE.**</span><span class="sxs-lookup"><span data-stu-id="1017f-454">This included packets received on another interface and forwarded out the network interface specified for the **SIO\_RCVALL** IOCTL.</span></span>

<span data-ttu-id="1017f-455">No Windows 7 e no Windows Server 2008 R2, isso foi alterado para que os pacotes locais enviados de uma interface de rede também sejam capturados.</span><span class="sxs-lookup"><span data-stu-id="1017f-455">On Windows 7 and Windows Server 2008 R2 , this was changed so that local packets sent out of a network interface are also captured.</span></span> <span data-ttu-id="1017f-456">Isso inclui os pacotes recebidos em outra interface e, em seguida, encaminhado o adaptador de rede associado ao soquete com [**sio \_ RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-456">This includes packets received on another interface and then forwarded out the network interface bound to the socket with [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="1017f-457">Definir esse IOCTL requer privilégio de administrador no computador local.</span><span class="sxs-lookup"><span data-stu-id="1017f-457">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1017f-458">Esse recurso é, às vezes, chamado de modo promíscuo.</span><span class="sxs-lookup"><span data-stu-id="1017f-458">This feature is sometimes referred to as promiscuous mode.</span></span>

<span data-ttu-id="1017f-459">Os valores possíveis para a opção **sio \_ RCVALL** IOCTL são especificados na enumeração **de \_ valor RCVALL** definida no arquivo de cabeçalho *Mstcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="1017f-459">The possible values for the **SIO\_RCVALL** IOCTL option are specified in the **RCVALL\_VALUE** enumeration defined in the *Mstcpip.h* header file.</span></span> <span data-ttu-id="1017f-460">Os valores possíveis para SIO \_ RCVALL são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="1017f-460">The possible values for SIO\_RCVALL are as follows:</span></span>

| <span data-ttu-id="1017f-461">Termo</span><span class="sxs-lookup"><span data-stu-id="1017f-461">Term</span></span>                                                                                                                 | <span data-ttu-id="1017f-462">Descrição</span><span class="sxs-lookup"><span data-stu-id="1017f-462">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-|-|
| <span data-ttu-id="1017f-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL \_ desativado</span><span class="sxs-lookup"><span data-stu-id="1017f-463"><span id="RCVALL_OFF"></span><span id="rcvall_off"></span>RCVALL\_OFF</span></span><br/>                                     | <span data-ttu-id="1017f-464">Desabilite essa opção para que um soquete não receba todos os pacotes IPv4 ou IPv6 na rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-464">Disable this option so a socket does not receive all IPv4 or IPv6 packets on the network.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="1017f-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL \_ em</span><span class="sxs-lookup"><span data-stu-id="1017f-465"><span id="RCVALL_ON"></span><span id="rcvall_on"></span>RCVALL\_ON</span></span><br/>                                        | <span data-ttu-id="1017f-466">Habilite essa opção para que um soquete receba todos os pacotes IPv4 ou IPv6 na rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-466">Enable this option so a socket receives all IPv4 or IPv6 packets on the network.</span></span> <span data-ttu-id="1017f-467">Essa opção habilita o modo promíscuo na NIC (placa de interface de rede), se a NIC der suporte ao modo promíscuo.</span><span class="sxs-lookup"><span data-stu-id="1017f-467">This option enables promiscuous mode on the network interface card (NIC), if the NIC supports promiscuous mode.</span></span> <span data-ttu-id="1017f-468">Em um segmento de LAN com um hub de rede, uma NIC que dá suporte ao modo promíscuo capturará todo o tráfego IPv4 ou IPv6 na LAN, incluindo o tráfego entre outros computadores no mesmo segmento de LAN.</span><span class="sxs-lookup"><span data-stu-id="1017f-468">On a LAN segment with a network hub, a NIC that supports promiscuous mode will capture all IPv4 or IPv6 traffic on the LAN, including traffic between other computers on the same LAN segment.</span></span> <span data-ttu-id="1017f-469">Todos os pacotes capturados (IPv4 ou IPv6, dependendo do soquete) serão entregues ao soquete bruto.</span><span class="sxs-lookup"><span data-stu-id="1017f-469">All of the captured packets (IPv4 or IPv6, depending on the socket) will be delivered to the raw socket.</span></span> <br/> <span data-ttu-id="1017f-470">Essa opção não capturará outros pacotes (ARP, IPX e pacotes NetBEUI, por exemplo) na interface.</span><span class="sxs-lookup"><span data-stu-id="1017f-470">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) on the interface.</span></span><br/> <span data-ttu-id="1017f-471">O Netmon usa o mesmo modo para a interface de rede, mas não usa essa opção para capturar o tráfego.</span><span class="sxs-lookup"><span data-stu-id="1017f-471">Netmon uses the same mode for the network interface, but does not use this option to capture traffic.</span></span><br/> |
| <span data-ttu-id="1017f-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL \_ SOCKETLEVELONLY</span><span class="sxs-lookup"><span data-stu-id="1017f-472"><span id="RCVALL_SOCKETLEVELONLY"></span><span id="rcvall_socketlevelonly"></span>RCVALL\_SOCKETLEVELONLY</span></span><br/> | <span data-ttu-id="1017f-473">Este recurso não está implementado no momento; portanto, definir essa opção não tem nenhum efeito.</span><span class="sxs-lookup"><span data-stu-id="1017f-473">This feature is not currently implemented, so setting this option does not have any affect.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="1017f-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL \_ IPLEVEL</span><span class="sxs-lookup"><span data-stu-id="1017f-474"><span id="RCVALL_IPLEVEL"></span><span id="rcvall_iplevel"></span>RCVALL\_IPLEVEL</span></span><br/>                         | <span data-ttu-id="1017f-475">Habilite essa opção para que um soquete IPv4 ou IPv6 receba todos os pacotes no nível de IP na rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-475">Enable this option so an IPv4 or IPv6 socket receives all packets at the IP level on the network.</span></span> <span data-ttu-id="1017f-476">Essa opção não habilita o modo promíscuo na placa de interface de rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-476">This option does not enable promiscuous mode on the network interface card.</span></span> <span data-ttu-id="1017f-477">Essa opção afeta apenas o processamento de pacotes no nível de IP.</span><span class="sxs-lookup"><span data-stu-id="1017f-477">This option only affects packet processing at the IP level.</span></span> <span data-ttu-id="1017f-478">A NIC ainda recebe apenas pacotes direcionados para seus endereços unicast e multicast configurados.</span><span class="sxs-lookup"><span data-stu-id="1017f-478">The NIC still receives only packets directed to its configured unicast and multicast addresses.</span></span> <span data-ttu-id="1017f-479">No entanto, um soquete com essa opção habilitada receberá não apenas pacotes direcionados a endereços IP específicos, mas receberá todos os pacotes IPv4 ou IPv6 recebidos pela NIC.</span><span class="sxs-lookup"><span data-stu-id="1017f-479">However, a socket with this option enabled will receive not only packets directed to specific IP addresses, but will receive all the IPv4 or IPv6 packets the NIC receives.</span></span><br/> <span data-ttu-id="1017f-480">Essa opção não capturará outros pacotes (pacotes ARP, IPX e NetBEUI, por exemplo) recebidos na interface .</span><span class="sxs-lookup"><span data-stu-id="1017f-480">This option will not capture other packets (ARP, IPX, and NetBEUI packets, for example) received on the interface.</span></span><br/>                                                                                             |



 

<span data-ttu-id="1017f-481">Para obter informações mais detalhadas, consulte a [**referência do SIO \_ RC LTD.**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="1017f-481">For more detailed information, see the [**SIO\_RCVALL**](/previous-versions/windows/desktop/legacy/ee309610(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-482">**SIO \_ Há suporte** para RC LTDA no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-482">**SIO\_RCVALL** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_igmpmcast-opcode-setting-i-t3"></a><span data-ttu-id="1017f-483">SIO \_ RCCODE \_ IGMPMCAST (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-483">SIO\_RCVALL\_IGMPMCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-484">Permite que um soquete receba todo o tráfego IP multicast IGMP na rede, sem receber outro tráfego IP multicast.</span><span class="sxs-lookup"><span data-stu-id="1017f-484">Enables a socket to receive all IGMP multicast IP traffic on the network, without receiving other multicast IP traffic.</span></span> <span data-ttu-id="1017f-485">O identificador de soquete passado para a [**função WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve ser da família de endereços INET af, do tipo de soquete SOCK RAW e do \_ protocolo \_ \_ IGMP IPPROTO.</span><span class="sxs-lookup"><span data-stu-id="1017f-485">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_IGMP protocol.</span></span> <span data-ttu-id="1017f-486">O soquete também deve ser vinculado a uma interface local explícita, o que significa que você não pode se vincular a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="1017f-486">The socket also must be bound to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span>

<span data-ttu-id="1017f-487">Depois que o soquete é vinculado e o conjunto IOCTL, as chamadas para as funções [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) ou [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) retornam datagramas IP multicast passando pela interface determinada.</span><span class="sxs-lookup"><span data-stu-id="1017f-487">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="1017f-488">Observe que você deve fornecer um buffer suficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="1017f-488">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="1017f-489">Definir esse IOCTL requer o privilégio de Administrador no computador local.</span><span class="sxs-lookup"><span data-stu-id="1017f-489">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1017f-490">**SIO \_ Há suporte para RC CHROME \_ IGMPMCAST** no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-490">**SIO\_RCVALL\_IGMPMCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_rcvall_mcast-opcode-setting-i-t3"></a><span data-ttu-id="1017f-491">SIO \_ RCCODE \_ MCAST (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-491">SIO\_RCVALL\_MCAST (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-492">Permite que um soquete receba todo o tráfego IP multicast na rede (ou seja, todos os pacotes IP destinados a endereços IP no intervalo de 224.0.0.0 a 239.255.255.255).</span><span class="sxs-lookup"><span data-stu-id="1017f-492">Enables a socket to receive all multicast IP traffic on the network (that is, all IP packets destined for IP addresses in the range of 224.0.0.0 to 239.255.255.255).</span></span> <span data-ttu-id="1017f-493">O identificador de soquete passado para a [**função WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) deve ser da família de endereços INET af, do tipo de soquete SOCK RAW e do \_ protocolo \_ UDP IPPROTO. \_</span><span class="sxs-lookup"><span data-stu-id="1017f-493">The socket handle passed to the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function must be of AF\_INET address family, SOCK\_RAW socket type, and IPPROTO\_UDP protocol.</span></span> <span data-ttu-id="1017f-494">O soquete também deve se vincular a uma interface local explícita, o que significa que você não pode se vincular a INADDR \_ ANY.</span><span class="sxs-lookup"><span data-stu-id="1017f-494">The socket also must bind to an explicit local interface, which means that you cannot bind to INADDR\_ANY.</span></span> <span data-ttu-id="1017f-495">O soquete deve se vincular à porta zero.</span><span class="sxs-lookup"><span data-stu-id="1017f-495">The socket should bind to port zero.</span></span>

<span data-ttu-id="1017f-496">Depois que o soquete é associado e o IOCTL definido, as chamadas para as funções [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) ou [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) retornam datagrams de IP de multicast que passam pela interface fornecida.</span><span class="sxs-lookup"><span data-stu-id="1017f-496">Once the socket is bound and the IOCTL set, calls to the [**WSARecv**](/windows/desktop/api/Winsock2/nf-winsock2-wsarecv) or [**recv**](/windows/desktop/api/winsock/nf-winsock-recv) functions return multicast IP datagrams passing through the given interface.</span></span> <span data-ttu-id="1017f-497">Observe que você deve fornecer um buffer suficientemente grande.</span><span class="sxs-lookup"><span data-stu-id="1017f-497">Note that you must supply a sufficiently large buffer.</span></span> <span data-ttu-id="1017f-498">Definir esse IOCTL requer privilégio de administrador no computador local.</span><span class="sxs-lookup"><span data-stu-id="1017f-498">Setting this IOCTL requires Administrator privilege on the local computer.</span></span>

<span data-ttu-id="1017f-499">**Sio \_ O RCVALL \_ mcast** tem suporte no Windows 2000 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-499">**SIO\_RCVALL\_MCAST** is supported on Windows 2000 and later.</span></span>

### <a name="sio_release_port_reservation-opcode-setting-i-t3"></a><span data-ttu-id="1017f-500">\_ \_ \_ Reserva de porta de liberação SiO (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-500">SIO\_RELEASE\_PORT\_RESERVATION (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-501">Libera uma reserva de tempo de execução para um bloco de portas TCP ou UDP.</span><span class="sxs-lookup"><span data-stu-id="1017f-501">Releases a runtime reservation for a block of TCP or UDP ports.</span></span> <span data-ttu-id="1017f-502">A reserva de tempo de execução a ser lançada deve ter sido obtida do processo emissora usando o IOCTL de [**\_ reserva de \_ porta \_ de aquisição sio**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-502">The runtime reservation to be released must have been obtained from the issuing process using the [**SIO\_ACQUIRE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699720(v=vs.85)) IOCTL.</span></span>

<span data-ttu-id="1017f-503">Para obter informações mais detalhadas, consulte a referência de [**reserva de porta de liberação do sio \_ \_ \_**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-503">For more detailed information, see the [**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-504">[**Sio \_ A \_ \_ reserva de porta de liberação**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) tem suporte no Windows Vista e em versões posteriores do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="1017f-504">[**SIO\_RELEASE\_PORT\_RESERVATION**](/previous-versions/windows/desktop/legacy/gg699722(v=vs.85)) is supported on Windows Vista and later versions of the operating system.</span></span>

### <a name="sio_routing_interface_change-opcode-setting-i-t1"></a><span data-ttu-id="1017f-505">\_Alteração da \_ interface de roteamento sio \_ (configuração de opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-505">SIO\_ROUTING\_INTERFACE\_CHANGE (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1017f-506">Para receber a notificação de uma alteração de interface de roteamento que deve ser usada para alcançar o endereço remoto no buffer de entrada (especificado como uma estrutura [**SOCKADDR**](sockaddr-2.md) ).</span><span class="sxs-lookup"><span data-stu-id="1017f-506">To receive notification of a routing interface change that should be used to reach the remote address in the input buffer (specified as a [**sockaddr**](sockaddr-2.md) structure).</span></span> <span data-ttu-id="1017f-507">Nenhuma informação de saída na nova interface de roteamento será fornecida após a conclusão deste IOCTL; a conclusão indica apenas que a interface de roteamento de um determinado destino foi alterada e deve ser consultada usando o IOCTL de **\_ consulta de \_ interface \_ de roteamento sio** .</span><span class="sxs-lookup"><span data-stu-id="1017f-507">No output information on the new routing interface will be provided upon completion of this IOCTL; the completion merely indicates that the routing interface for a given destination has changed and should be queried using the **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL.</span></span>

<span data-ttu-id="1017f-508">Presume-se, embora não seja necessário, que o aplicativo use a e/s sobreposta para ser notificado da alteração da interface de roteamento por meio da conclusão da solicitação de **\_ alteração da \_ interface \_ de roteamento sio** .</span><span class="sxs-lookup"><span data-stu-id="1017f-508">It is assumed, although not required, that the application uses overlapped I/O to be notified of the routing interface change through completion of **SIO\_ROUTING\_INTERFACE\_CHANGE** request.</span></span> <span data-ttu-id="1017f-509">Como alternativa, se o IOCTL de ALTERAÇÃO da **\_ \_ INTERFACE \_** DE ROTEAMENTO do SIO for emitido em um soquete sem bloqueio com os parâmetros *lpOverlapped* e *lpCompletionRoutine* definidos como **NULL**), ele será concluído imediatamente retornando e [WSAEBLOCKBLOCK](windows-sockets-error-codes-2.md) como um erro e o aplicativo poderá aguardar o roteamento de eventos de alteração por meio da chamada para [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) ou [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) com o bit CHANGE da INTERFACE de ROTEAMENTO FD definido no \_ \_ bitmask de evento de \_ rede.</span><span class="sxs-lookup"><span data-stu-id="1017f-509">Alternatively, if the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL is issued on a non-blocking socket with the *lpOverlapped* and *lpCompletionRoutine* parameters set to **NULL**), it will complete immediately returning and [WSAEWOULDBLOCK](windows-sockets-error-codes-2.md) as an error, and the application can then wait for routing change events through call to [**WSAEventSelect**](/windows/desktop/api/Winsock2/nf-winsock2-wsaeventselect) or [**WSAAsyncSelect**](/windows/desktop/api/winsock/nf-winsock-wsaasyncselect) with FD\_ROUTING\_INTERFACE\_CHANGE bit set in the network event bitmask.</span></span>

<span data-ttu-id="1017f-510">É reconhecido que as informações de roteamento permanecem estáveis na maioria dos casos, de modo que exigir que o aplicativo mantenha várias IOCTLs pendentes para obter notificações sobre todos os destinos nos quais está interessado, bem como fazer com que o provedor de serviços acompanhe essas solicitações de notificação usará uma quantidade significativa de recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="1017f-510">It is recognized that routing information remains stable in most cases so that requiring the application to keep multiple outstanding IOCTLs to get notifications about all destinations that it is interested in as well as having the service provider keep track of these notification requests will use a significant amount system resources.</span></span> <span data-ttu-id="1017f-511">Essa situação pode ser evitada estendendo o significado dos parâmetros de entrada e flexibilizar os requisitos do provedor de serviços da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="1017f-511">This situation can be avoided by extending the meaning of the input parameters and relaxing the service provider requirements as follows:</span></span>

-   <span data-ttu-id="1017f-512">O aplicativo pode especificar um endereço curinga específico [](/windows/desktop/api/winsock/nf-winsock-bind) da família de protocolos (o mesmo usado na chamada de ligação ao solicitar a vinculação a qualquer endereço disponível) para solicitar notificações de quaisquer alterações de roteamento.</span><span class="sxs-lookup"><span data-stu-id="1017f-512">The application can specify a protocol family specific wildcard address (same as one used in [**bind**](/windows/desktop/api/winsock/nf-winsock-bind) call when requesting to bind to any available address) to request notifications of any routing changes.</span></span> <span data-ttu-id="1017f-513">Isso permite que o aplicativo mantenha apenas uma ALTERAÇÃO de **\_ \_ INTERFACE \_** DE ROTEAMENTO de SIO pendente para todos os soquetes e destinos que ele tem e, em seguida, use a CONSULTA **DE \_ \_ INTERFACE \_** de ROTEAMENTO SIO para obter as informações reais de roteamento.</span><span class="sxs-lookup"><span data-stu-id="1017f-513">This allows the application to keep only one outstanding **SIO\_ROUTING\_INTERFACE\_CHANGE** for all the sockets and destinations it has and then use **SIO\_ROUTING\_INTERFACE\_QUERY** to get the actual routing information.</span></span>
-   <span data-ttu-id="1017f-514">Um provedor de serviços tem a opção de ignorar as informações especificadas pelo aplicativo no buffer de entrada da ALTERAÇÃO da INTERFACE DE ROTEAMENTO **SIO \_ \_ \_** (como se o aplicativo especificasse um endereço curinga) e concluir o evento CHANGE IOCTL ou signal FD ROUTING INTERFACE CHANGE no caso de qualquer alteração de informações de roteamento (não apenas a rota para o destino especificado no buffer de **\_ \_ \_** \_ \_ \_ entrada).</span><span class="sxs-lookup"><span data-stu-id="1017f-514">A service provider has the option to ignore the information specified by the application in the input buffer of the **SIO\_ROUTING\_INTERFACE\_CHANGE** (as though the application specified a wildcard address) and complete the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL or signal FD\_ROUTING\_INTERFACE\_CHANGE event in the event of any routing information change (not just the route to the destination specified in the input buffer).</span></span>

### <a name="sio_routing_interface_query-opcode-setting-i-o-t1"></a><span data-ttu-id="1017f-515">\_Consulta da \_ interface de roteamento sio \_ (configuração de opcode: i, O, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-515">SIO\_ROUTING\_INTERFACE\_QUERY (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="1017f-516">Para obter o endereço da interface local (representada como estrutura [**SOCKADDR**](sockaddr-2.md) ) que deve ser usada para enviar para o endereço remoto especificado no buffer de entrada (como **SOCKADDR**).</span><span class="sxs-lookup"><span data-stu-id="1017f-516">To obtain the address of the local interface (represented as [**sockaddr**](sockaddr-2.md) structure) which should be used to send to the remote address specified in the input buffer (as **sockaddr**).</span></span> <span data-ttu-id="1017f-517">Os endereços de multicast remotos podem ser enviados no buffer de entrada para obter o endereço da interface preferencial para transmissão multicast.</span><span class="sxs-lookup"><span data-stu-id="1017f-517">Remote multicast addresses may be submitted in the input buffer to get the address of the preferred interface for multicast transmission.</span></span> <span data-ttu-id="1017f-518">Em qualquer caso, o endereço de interface retornado pode ser usado pelo aplicativo em uma solicitação de BIND () subsequente.</span><span class="sxs-lookup"><span data-stu-id="1017f-518">In any case, the interface address returned may be used by the application in a subsequent bind() request.</span></span>

<span data-ttu-id="1017f-519">Observe que as rotas estão sujeitas a alterações.</span><span class="sxs-lookup"><span data-stu-id="1017f-519">Note that routes are subject to change.</span></span> <span data-ttu-id="1017f-520">Portanto, os aplicativos não podem contar com as informações retornadas pela **\_ consulta de \_ interface \_ de roteamento sio** para serem persistentes.</span><span class="sxs-lookup"><span data-stu-id="1017f-520">Therefore, applications cannot rely on the information returned by **SIO\_ROUTING\_INTERFACE\_QUERY** to be persistent.</span></span> <span data-ttu-id="1017f-521">Os aplicativos podem se registrar para rotear notificações de alteração por meio do IOCTL de **\_ alteração da \_ interface \_ de roteamento sio** , que fornece notificação por meio de e/s sobreposta ou um \_ evento de alteração da interface de roteamento FD \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="1017f-521">Applications may register for routing change notifications through the **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL which provides for notification through either overlapped I/O or a FD\_ROUTING\_INTERFACE\_CHANGE event.</span></span> <span data-ttu-id="1017f-522">A seguinte sequência de ações pode ser usada para garantir que o aplicativo sempre tenha informações de interface de roteamento atuais para um determinado destino:</span><span class="sxs-lookup"><span data-stu-id="1017f-522">The following sequence of actions can be used to guarantee that the application always has current routing interface information for a given destination:</span></span>

-   <span data-ttu-id="1017f-523">Emitir IOCTL de **\_ alteração da \_ interface \_ de roteamento sio**</span><span class="sxs-lookup"><span data-stu-id="1017f-523">Issue **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL</span></span>
-   <span data-ttu-id="1017f-524">Emitir **sio \_ de \_ \_ consulta de interface de roteamento** do IOCTL</span><span class="sxs-lookup"><span data-stu-id="1017f-524">Issue **SIO\_ROUTING\_INTERFACE\_QUERY** IOCTL</span></span>
-   <span data-ttu-id="1017f-525">Sempre que o IOCTL de **\_ alteração da \_ interface \_ de roteamento sio** notifica a aplicação da alteração de roteamento (por meio de e/s sobreposta ou sinalizando o \_ evento de \_ alteração da interface de roteamento FD \_ ), toda a sequência de ações deve ser repetida.</span><span class="sxs-lookup"><span data-stu-id="1017f-525">Whenever **SIO\_ROUTING\_INTERFACE\_CHANGE** IOCTL notifies the application of routing change (either through overlapped I/O or by signaling FD\_ROUTING\_INTERFACE\_CHANGE event), the whole sequence of actions should be repeated.</span></span>

<span data-ttu-id="1017f-526">Se o buffer de saída não for grande o suficiente para conter o endereço de interface, o \_ erro de soquete será retornado como resultado desse IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAEFAULT](windows-sockets-error-codes-2.md).</span><span class="sxs-lookup"><span data-stu-id="1017f-526">If the output buffer is not large enough to contain the interface address, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAEFAULT](windows-sockets-error-codes-2.md).</span></span> <span data-ttu-id="1017f-527">O tamanho necessário do buffer de saída será retornado em *lpcbBytesReturned* nesse caso.</span><span class="sxs-lookup"><span data-stu-id="1017f-527">The required size of the output buffer will be returned in *lpcbBytesReturned* in this case.</span></span> <span data-ttu-id="1017f-528">Observe que o código de erro WSAEFAULT também será retornado se o parâmetro *lpvInBuffer*, *lpvOutBuffer* ou *lpcbBytesReturned* não estiver totalmente contido em uma parte válida do espaço de endereço de usuário.</span><span class="sxs-lookup"><span data-stu-id="1017f-528">Note the WSAEFAULT error code is also returned if the *lpvInBuffer*, *lpvOutBuffer*, or *lpcbBytesReturned* parameter is not totally contained in a valid part of the user address space.</span></span>

<span data-ttu-id="1017f-529">Se o endereço de destino especificado no buffer de entrada não puder ser alcançado por meio de qualquer uma das interfaces disponíveis, SOCKET ERROR será retornado como resultado desse \_ IOCTL e [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) retornará [WSAENETUNREACH](windows-sockets-error-codes-2.md) ou até [mesmo WSAENETDOWN](windows-sockets-error-codes-2.md) se toda a conectividade de rede for perdida.</span><span class="sxs-lookup"><span data-stu-id="1017f-529">If the destination address specified in the input buffer cannot be reached through any of the available interfaces, SOCKET\_ERROR is returned as the result of this IOCTL and [**WSAGetLastError**](/windows/desktop/api/winsock/nf-winsock-wsagetlasterror) returns [WSAENETUNREACH](windows-sockets-error-codes-2.md) or even [WSAENETDOWN](windows-sockets-error-codes-2.md) if all of the network connectivity is lost.</span></span>

### <a name="sio_set_compatibility_mode-opcode-setting-i-t3"></a><span data-ttu-id="1017f-530">SIO \_ SET \_ \_ COMPATIBILITY MODE (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-530">SIO\_SET\_COMPATIBILITY\_MODE (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-531">Solicita como a pilha de rede deve lidar com determinados comportamentos para os quais a maneira padrão de lidar com o comportamento pode ser diferente entre as versões do Windows.</span><span class="sxs-lookup"><span data-stu-id="1017f-531">Requests how the networking stack should handle certain behaviors for which the default way of handling the behavior may differ across Windows versions.</span></span> <span data-ttu-id="1017f-532">A estrutura de argumentos para O MODO DE COMPATIBILIDADE DO SET SIO é especificada na estrutura MODO DE COMPATIBILIDADE do **WSA \_ \_** definida no arquivo de título *Mswsockdef.h.* **\_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="1017f-532">The argument structure for **SIO\_SET\_COMPATIBILITY\_MODE** is specified in the **WSA\_COMPATIBILITY\_MODE** structure defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="1017f-533">Essa estrutura é definida da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="1017f-533">This structure is defined as follows:</span></span>

```cpp
/* Argument structure for SIO_SET_COMPATIBILITY_MODE */
typedef struct _WSA_COMPATIBILITY_MODE {
    WSA_COMPATIBILITY_BEHAVIOR_ID BehaviorId;
    ULONG TargetOsVersion;
} WSA_COMPATIBILITY_MODE, *PWSA_COMPATIBILITY_MODE;
```

<span data-ttu-id="1017f-534">O valor especificado no membro **BehaviorId** indica o comportamento solicitado.</span><span class="sxs-lookup"><span data-stu-id="1017f-534">The value specified in the **BehaviorId** member indicates the behavior requested.</span></span> <span data-ttu-id="1017f-535">O valor especificado no membro **TargetOsVersion** indica a versão do Windows que está sendo solicitada para o comportamento.</span><span class="sxs-lookup"><span data-stu-id="1017f-535">The value specified in the **TargetOsVersion** member indicates the Windows version that is being requested for the behavior.</span></span>

<span data-ttu-id="1017f-536">O **membro BehaviorId** pode ser um dos valores do tipo de enumeração **\_ \_ \_ ID** DE COMPORTAMENTO DE COMPATIBILIDADE do WSA definido no arquivo de título *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-536">The **BehaviorId** member can be one of the values from the **WSA\_COMPATIBILITY\_BEHAVIOR\_ID** enumeration type defined in the *Mswsockdef.h* header file.</span></span> <span data-ttu-id="1017f-537">Os valores possíveis para **o membro BehaviorId** são os valores a seguir.</span><span class="sxs-lookup"><span data-stu-id="1017f-537">The possible values for the **BehaviorId** member are as follows.</span></span>

| <span data-ttu-id="1017f-538">Termo</span><span class="sxs-lookup"><span data-stu-id="1017f-538">Term</span></span>                                                                                                                                                                             | <span data-ttu-id="1017f-539">Descrição</span><span class="sxs-lookup"><span data-stu-id="1017f-539">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-|-|
| <span data-ttu-id="1017f-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span><span class="sxs-lookup"><span data-stu-id="1017f-540"><span id="WsaBehaviorAll"></span><span id="wsabehaviorall"></span><span id="WSABEHAVIORALL"></span>WsaBehaviorAll</span></span><br/>                                                     | <span data-ttu-id="1017f-541">Isso é equivalente a solicitar todos os possíveis comportamentos compatíveis definidos para a ID DE COMPORTAMENTO DE **\_ \_ \_ COMPATIBILIDADE do WSA**.</span><span class="sxs-lookup"><span data-stu-id="1017f-541">This is equivalent to requesting all of the possible compatible behaviors defined for **WSA\_COMPATIBILITY\_BEHAVIOR\_ID**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="1017f-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span><span class="sxs-lookup"><span data-stu-id="1017f-542"><span id="WsaBehaviorReceiveBuffering"></span><span id="wsabehaviorreceivebuffering"></span><span id="WSABEHAVIORRECEIVEBUFFERING"></span>WsaBehaviorReceiveBuffering</span></span><br/> | <span data-ttu-id="1017f-543">Quando o membro **TargetOsVersion** é definido como um valor para o Windows Vista ou posterior, as reduções para o tamanho do buffer de recebimento TCP nesse soquete usando a opção **\_ soquete SO RCVBUF** são permitidas mesmo depois que uma conexão TCP é estabelecida.</span><span class="sxs-lookup"><span data-stu-id="1017f-543">When the **TargetOsVersion** member is set to a value for Windows Vista or later, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are allowed even after a TCP connection has been establishment.</span></span> <br/> <span data-ttu-id="1017f-544">Quando o membro **TargetOsVersion** é definido como um valor anterior ao Windows Vista, as reduções para o tamanho do buffer de recebimento TCP nesse soquete usando a opção **\_ soquete SO RCVBUF** não são permitidas após o estabelecimento da conexão.</span><span class="sxs-lookup"><span data-stu-id="1017f-544">When the **TargetOsVersion** member is set to a value earlier than Windows Vista, reductions to the TCP receive buffer size on this socket using the **SO\_RCVBUF** socket option are not allowed after connection establishment.</span></span> <br/>                                                                                                                                                                                  |
| <span data-ttu-id="1017f-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span><span class="sxs-lookup"><span data-stu-id="1017f-545"><span id="WsaBehaviorAutoTuning"></span><span id="wsabehaviorautotuning"></span><span id="WSABEHAVIORAUTOTUNING"></span>WsaBehaviorAutoTuning</span></span><br/>                         | <span data-ttu-id="1017f-546">Quando o membro **TargetOsVersion** é definido como um valor para o Windows Vista ou posterior, o ajuste automático da janela de recebimento é habilitado e o fator de escala da janela TCP é reduzido para 2 a partir do valor padrão de 8.</span><span class="sxs-lookup"><span data-stu-id="1017f-546">When the **TargetOsVersion** member is set to a value for Windows Vista or later, receive window auto-tuning is enabled and the TCP window scale factor is reduced to 2 from the default value of 8.</span></span><br/> <span data-ttu-id="1017f-547">Quando **TargetOsVersion** é definido como um valor anterior ao Windows Vista, o ajuste automático da janela de recebimento está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="1017f-547">When the **TargetOsVersion** is set to a value earlier than Windows Vista, receive window auto-tuning is disabled.</span></span> <span data-ttu-id="1017f-548">A opção de dimensionamento da janela TCP também está desabilitada e o tamanho máximo da janela de recepção é limitado a 65.535 bytes.</span><span class="sxs-lookup"><span data-stu-id="1017f-548">The TCP window scaling option is also disabled and the maximum true receive window size is limited to 65,535 bytes.</span></span> <span data-ttu-id="1017f-549">A opção de dimensionamento da janela TCP não pode ser negociada na conexão mesmo que a opção de soquete **\_ RCVBUF** seja chamada nesse soquete especificando um valor maior que 65.535 bytes antes da conexão ser estabelecida.</span><span class="sxs-lookup"><span data-stu-id="1017f-549">The TCP window scaling option can't be negotiated on the connection even if the **SO\_RCVBUF** socket option was called on this socket specifying a value greater than 65,535 bytes before the connection was established.</span></span><br/> |



 

<span data-ttu-id="1017f-550">Para obter informações mais detalhadas, consulte a referência do [**\_ modo de \_ compatibilidade \_ sio Set**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-550">For more detailed information, see the [**SIO\_SET\_COMPATIBILITY\_MODE**](/previous-versions/windows/desktop/legacy/cc136103(v=vs.85)) reference.</span></span>

<span data-ttu-id="1017f-551">**Sio \_ O \_ \_ modo de compatibilidade definido** tem suporte no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-551">**SIO\_SET\_COMPATIBILITY\_MODE** is supported on Windows Vista and later.</span></span>

### <a name="sio_set_group_qos-opcode-setting-i-t1"></a><span data-ttu-id="1017f-552">SIO \_ definir \_ \_ QoS do grupo (configuração de opcode: I, T = = 1)</span><span class="sxs-lookup"><span data-stu-id="1017f-552">SIO\_SET\_GROUP\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1017f-553">Reservado.</span><span class="sxs-lookup"><span data-stu-id="1017f-553">Reserved.</span></span>

### <a name="sio_set_priority_hint-opcode-setting-i-t3"></a><span data-ttu-id="1017f-554">SIO_SET_PRIORITY_HINT (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-554">SIO_SET_PRIORITY_HINT (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-555">Fornece uma dica para o protocolo de transporte subjacente para tratar o tráfego nesse soquete com uma prioridade específica.</span><span class="sxs-lookup"><span data-stu-id="1017f-555">Provides a hint to the underlying transport protocol to treat the traffic on this socket with a specific priority.</span></span> <span data-ttu-id="1017f-556">O *lpvInBuffer* deve apontar para uma variável do tipo **PRIORITY_HINT** com *cbInBuffer* definido como sizeof (PRIORITY_HINT).</span><span class="sxs-lookup"><span data-stu-id="1017f-556">The *lpvInBuffer* must point to a variable of type **PRIORITY_HINT** with *cbInBuffer* set to sizeof(PRIORITY_HINT).</span></span> <span data-ttu-id="1017f-557">Os parâmetros *lpvOutBuffer* e *CbOutBuffer* devem ser **NULL** e 0, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="1017f-557">The *lpvOutBuffer* and *cbOutBuffer* parameters must be **NULL** and 0, respectively.</span></span> <span data-ttu-id="1017f-558">A implementação do Microsoft Windows TCP dá suporte a este IOCTL a partir do Windows 10, versão 1809 (10,0; Build 17763) e posterior da seguinte maneira: quando o valor de prioridade solicitado é definido como **IoPriorityHintVeryLow**, o TCP usa uma versão modificada do algoritmo LEDBAT (definido na RFC 6817) para controlar a taxa de tráfego de saída no soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-558">The Microsoft Windows TCP implementation supports this IOCTL starting with Windows 10, version 1809 (10.0; Build 17763) and later as follows: when the requested priority value is set to **IoPriorityHintVeryLow**, TCP uses a modified version of the LEDBAT algorithm (defined in RFC 6817) for controlling the outbound traffic rate on the socket.</span></span> <span data-ttu-id="1017f-559">O tráfego de entrada não é afetado por este IOCTL.</span><span class="sxs-lookup"><span data-stu-id="1017f-559">The inbound traffic is not affected by this IOCTL.</span></span> <span data-ttu-id="1017f-560">LEDBAT é um algoritmo de recuperação, e seu objetivo é manter a latência baixa e evitar qualquer efeito adverso no tráfego de prioridade normal ao sair do caminho quando o tráfego de prioridade normal estiver presente.</span><span class="sxs-lookup"><span data-stu-id="1017f-560">LEDBAT is a scavenger algorithm, and its goal is to keep latency low and prevent any adverse effect on normal-priority traffic by getting out of the way when normal-priority traffic is present.</span></span>

<span data-ttu-id="1017f-561">Consulte também [RFC 6817](https://tools.ietf.org/html/rfc6817).</span><span class="sxs-lookup"><span data-stu-id="1017f-561">Also see [RFC 6817](https://tools.ietf.org/html/rfc6817).</span></span>

<span data-ttu-id="1017f-562">**SIO_SET_PRIORITY_HINT** há suporte no Windows 10, versão 1809 (10.0; Build 17763) e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-562">**SIO_SET_PRIORITY_HINT** is supported on Windows 10, version 1809 (10.0; Build 17763) and later.</span></span>

### <a name="sio_set_qos-opcode-setting-i-t1"></a><span data-ttu-id="1017f-563">SIO \_ SET \_ QOS (configuração de opcode: I, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-563">SIO\_SET\_QOS (opcode setting: I, T==1)</span></span>

<span data-ttu-id="1017f-564">Associe a [**estrutura QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) especificada ao soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-564">Associate the specified [**QOS**](/windows/win32/api/winsock2/ns-winsock2-qos) structure with the socket.</span></span> <span data-ttu-id="1017f-565">Nenhum buffer de saída é necessário, a **estrutura QOS** será obtida do buffer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1017f-565">No output buffer is required, the **QOS** structure will be obtained from the input buffer.</span></span> <span data-ttu-id="1017f-566">O [código de erro WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviços que não suportam a qualidade do serviço.</span><span class="sxs-lookup"><span data-stu-id="1017f-566">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support quality of service.</span></span>

### <a name="sio_tcp_initial_rto-opcode-setting-i-t3"></a><span data-ttu-id="1017f-567">SIO_TCP_INITIAL_RTO (configuração de opcode: I, T==3)</span><span class="sxs-lookup"><span data-stu-id="1017f-567">SIO_TCP_INITIAL_RTO (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-568">Controla as características de retransmissão iniciais (SYN/SYN+ACK) de um soquete TCP configurando parâmetros de RTO (tempo de retransmissão inicial).</span><span class="sxs-lookup"><span data-stu-id="1017f-568">Controls the initial (SYN / SYN+ACK) retransmission characteristics of a TCP socket by configuring initial retransmission timeout (RTO) parameters.</span></span> <span data-ttu-id="1017f-569">Os parâmetros de configuração são especificados em uma [**estrutura TCP \_ INITIAL \_ RTO \_ PARAMETERS.**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers)</span><span class="sxs-lookup"><span data-stu-id="1017f-569">The configuration parameters are specified in a [**TCP\_INITIAL\_RTO\_PARAMETERS**](/windows/desktop/api/mswsock/ns-mswsock-transmit_file_buffers) structure.</span></span>

<span data-ttu-id="1017f-570">Para obter informações mais detalhadas, consulte a [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) referência.</span><span class="sxs-lookup"><span data-stu-id="1017f-570">For more detailed information, see the [**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) reference.</span></span> <span data-ttu-id="1017f-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) há suporte no Windows 8, no Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-571">[**SIO_TCP_INITIAL_RTO**](./sio-tcp-initial-rto.md) is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_timestamping"></a><span data-ttu-id="1017f-572">SIO_TIMESTAMPING</span><span class="sxs-lookup"><span data-stu-id="1017f-572">SIO_TIMESTAMPING</span></span>

<span data-ttu-id="1017f-573">Um IOCTL de soquete usado para configurar a recepção de data/hora de transmissão/recebimento de soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-573">A socket IOCTL used to configure reception of socket transmit/receive timestamps.</span></span> <span data-ttu-id="1017f-574">Válido somente para soquetes de datagrama.</span><span class="sxs-lookup"><span data-stu-id="1017f-574">Valid only for datagram sockets.</span></span> <span data-ttu-id="1017f-575">O tipo de entrada **para SIO_TIMESTAMPING** é a [**estrutura TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) dados.</span><span class="sxs-lookup"><span data-stu-id="1017f-575">The input type for **SIO_TIMESTAMPING** is the [**TIMESTAMPING_CONFIG**](/windows/win32/api/mstcpip/ns-mstcpip-timestamping_config) structure.</span></span>

<span data-ttu-id="1017f-576">Consulte também [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span><span class="sxs-lookup"><span data-stu-id="1017f-576">Also see [Winsock timestamping](/windows/win32/winsock/winsock-timestamping).</span></span>

### <a name="sio_translate_handle-opcode-setting-i-o-t1"></a><span data-ttu-id="1017f-577">SIO \_ TRANSLATE \_ HANDLE (configuração de opcode: I, O, T==1)</span><span class="sxs-lookup"><span data-stu-id="1017f-577">SIO\_TRANSLATE\_HANDLE (opcode setting: I, O, T==1)</span></span>

<span data-ttu-id="1017f-578">Para obter um alça correspondente para *s* de soquete válido no contexto de uma interface de adendo (por exemplo, TH \_ NETDEV e TH \_ TAPI).</span><span class="sxs-lookup"><span data-stu-id="1017f-578">To obtain a corresponding handle for socket *s* that is valid in the context of a companion interface (for example, TH\_NETDEV and TH\_TAPI).</span></span> <span data-ttu-id="1017f-579">Uma constante de manifesto que identifica a interface de adoção juntamente com quaisquer outros parâmetros necessários são especificados no buffer de entrada.</span><span class="sxs-lookup"><span data-stu-id="1017f-579">A manifest constant identifying the companion interface along with any other needed parameters are specified in the input buffer.</span></span> <span data-ttu-id="1017f-580">O alça correspondente estará disponível no buffer de saída após a conclusão dessa função.</span><span class="sxs-lookup"><span data-stu-id="1017f-580">The corresponding handle will be available in the output buffer upon completion of this function.</span></span> <span data-ttu-id="1017f-581">Consulte a seção apropriada em [Anexos winsock para](winsock-annexes.md) obter detalhes específicos para uma interface de parceiro específica.</span><span class="sxs-lookup"><span data-stu-id="1017f-581">Refer to the appropriate section in [Winsock Annexes](winsock-annexes.md) for details specific to a particular companion interface.</span></span> <span data-ttu-id="1017f-582">O código de erro [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) é indicado para provedores de serviço que não dão suporte a este ioctl para a interface complementar especificada.</span><span class="sxs-lookup"><span data-stu-id="1017f-582">The [WSAENOPROTOOPT](windows-sockets-error-codes-2.md) error code is indicated for service providers that do not support this IOCTL for the specified companion interface.</span></span> <span data-ttu-id="1017f-583">Esse IOCTL recupera o identificador associado usando **o \_ \_ identificador de conversão sio**.</span><span class="sxs-lookup"><span data-stu-id="1017f-583">This IOCTL retrieves the handle associated using **SIO\_TRANSLATE\_HANDLE**.</span></span>

<span data-ttu-id="1017f-584">É recomendável que o COM (Component Object Model) seja usado em vez deste IOCTL para descobrir e acompanhar outras interfaces que podem ter suporte em um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-584">It is recommend that the Component Object Model (COM) be used instead of this IOCTL to discover and track other interfaces that might be supported by a socket.</span></span> <span data-ttu-id="1017f-585">Este IOCTL está presente para compatibilidade com versões anteriores com sistemas em que o COM não está disponível ou não pode ser usado por algum outro motivo.</span><span class="sxs-lookup"><span data-stu-id="1017f-585">This IOCTL is present for backward compatibility with systems where COM is not available or cannot be used for some other reason.</span></span>

### <a name="sio_udp_connreset-opcode-setting-i-t3"></a><span data-ttu-id="1017f-586">SIO \_ UDP \_ CONNRESET (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-586">SIO\_UDP\_CONNRESET (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-587">**Windows XP:** Controla se \_ as mensagens INacessíveis da porta UDP são relatadas.</span><span class="sxs-lookup"><span data-stu-id="1017f-587">**Windows XP:** Controls whether UDP PORT\_UNREACHABLE messages are reported.</span></span> <span data-ttu-id="1017f-588">Defina como **true** para habilitar o relatório.</span><span class="sxs-lookup"><span data-stu-id="1017f-588">Set to **TRUE** to enable reporting.</span></span> <span data-ttu-id="1017f-589">Defina como **false** para desabilitar os relatórios.</span><span class="sxs-lookup"><span data-stu-id="1017f-589">Set to **FALSE** to disable reporting.</span></span>

### <a name="sio_set_wfp_connection_redirect_records-opcode-setting-i-t3"></a><span data-ttu-id="1017f-590">SIO \_ definir \_ \_ \_ registros de redirecionamento de conexão WFP \_ (configuração de opcode: I, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-590">SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS (opcode setting: I, T==3)</span></span>

<span data-ttu-id="1017f-591">Define o registro de redirecionamento para o novo soquete TCP usado para se conectar ao destino final para uso por um serviço de redirecionamento WFP (Windows Filtering Platform).</span><span class="sxs-lookup"><span data-stu-id="1017f-591">Sets the redirect record to the new TCP socket used for connecting to the final destination for use by a Windows Filtering Platform (WFP) redirect service.</span></span>

<span data-ttu-id="1017f-592">O [**sio \_ set \_ WFP \_ Connection \_ Redirect \_ Records**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL é usado como parte do rastreamento de conexão com proxy em conexões de soquete redirecionadas.</span><span class="sxs-lookup"><span data-stu-id="1017f-592">The [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) IOCTL is used as part of proxied connection tracking on redirected socket connections.</span></span> <span data-ttu-id="1017f-593">Esse recurso de WFP facilita o rastreamento de registros de redirecionamento do redirecionamento inicial de uma conexão com a conexão final com o destino.</span><span class="sxs-lookup"><span data-stu-id="1017f-593">This WFP feature facilitates tracking of redirection records from the initial redirect of a connection to the final connection to the destination.</span></span>

<span data-ttu-id="1017f-594">Para obter informações mais detalhadas, consulte a referência de [**\_ \_ \_ \_ \_ registros de redirecionamento de conexão WFP sio Set**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1017f-594">For more detailed information, see the [**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS**](/previous-versions/windows/desktop/legacy/hh859714(v=vs.85)) reference.</span></span> <span data-ttu-id="1017f-595">**Sio \_ A definição de \_ \_ \_ \_ registros de redirecionamento de conexão WFP** tem suporte no windows 8, Windows Server 2012 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-595">**SIO\_SET\_WFP\_CONNECTION\_REDIRECT\_RECORDS** is supported on Windows 8, Windows Server 2012, and later.</span></span>

### <a name="sio_tcp_info-opcode-setting-i-o-t3"></a><span data-ttu-id="1017f-596">\_ \_ Informações de TCP do SiO (configuração de opcode: i, O, T = = 3)</span><span class="sxs-lookup"><span data-stu-id="1017f-596">SIO\_TCP\_INFO (opcode setting: I, O, T==3)</span></span>

<span data-ttu-id="1017f-597">Recupera as estatísticas de TCP para um soquete.</span><span class="sxs-lookup"><span data-stu-id="1017f-597">Retrieves the TCP statistics for a socket.</span></span> <span data-ttu-id="1017f-598">As estatísticas TCP são fornecidas em uma [**estrutura \_ \_ V0 de informações de TCP**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) .</span><span class="sxs-lookup"><span data-stu-id="1017f-598">The TCP statistics are provided in a [**TCP\_INFO\_v0**](/windows/desktop/api/Mstcpip/ns-mstcpip-tcp_info_v0) structure.</span></span>

<span data-ttu-id="1017f-599">Ao contrário da recuperação de estatísticas TCP com a função [**GetPerTcpConnectionEStats,**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) a recuperação de estatísticas TCP com esse código de controle não exige que o código do usuário carregue, armazene e filtre a tabela de conexão TCP e não exige privilégios elevados para usar.</span><span class="sxs-lookup"><span data-stu-id="1017f-599">Unlike retrieving TCP statistics with the [**GetPerTcpConnectionEStats**](/windows/win32/api/iphlpapi/nf-iphlpapi-getpertcpconnectionestats) function, retrieving TCP statistics with this control code does not require the user code to load, store, and filter the TCP connection table, and does not require elevated privileges to use.</span></span>

<span data-ttu-id="1017f-600">Para obter mais informações, consulte [**SIO \_ TCP \_ INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="1017f-600">For more information, see [**SIO\_TCP\_INFO**](/previous-versions/windows/desktop/legacy/mt823415(v=vs.85)).</span></span> <span data-ttu-id="1017f-601">**SIO \_ Há \_ suporte para TCP INFO** Windows 10, versão 1703, Windows Server 2016 e posterior.</span><span class="sxs-lookup"><span data-stu-id="1017f-601">**SIO\_TCP\_INFO** is supported on Windows 10, version 1703, Windows Server 2016, and later.</span></span>

## <a name="remarks"></a><span data-ttu-id="1017f-602">Comentários</span><span class="sxs-lookup"><span data-stu-id="1017f-602">Remarks</span></span>

<span data-ttu-id="1017f-603">Os Ioctls winsock são definidos em vários arquivos de título diferentes.</span><span class="sxs-lookup"><span data-stu-id="1017f-603">Winsock Ioctls are defined in a number of different header files.</span></span> <span data-ttu-id="1017f-604">Eles incluem o arquivo de título *Winsock2.h,* *Mswsock.h* e *Mstcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-604">These include the *Winsock2.h*, *Mswsock.h*, and *Mstcpip.h* header file.</span></span>

<span data-ttu-id="1017f-605">No Microsoft Software Development Kit do Windows (SDK do Windows) (SDK) lançado para o Windows Vista e posterior, a organização dos arquivos de título foi alterada e vários Ioctls winsock também são definidos nos arquivos de título *Ws2def.h*, *Ws2ipdef.h* e *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-605">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and a number of Winsock Ioctls are also defined in the *Ws2def.h*, *Ws2ipdef.h*, and *Mswsockdef.h* header files.</span></span> <span data-ttu-id="1017f-606">O *arquivo de título Ws2def.h* é incluído automaticamente pelo arquivo de título *Winsock2.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-606">The *Ws2def.h* header file is automatically included by the *Winsock2.h* header file.</span></span> <span data-ttu-id="1017f-607">O *arquivo de título Ws2ipdef.h* é incluído automaticamente pelo arquivo de título *Ws2tcpip.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-607">The *Ws2ipdef.h* header file is automatically included by the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="1017f-608">O *arquivo de header Mswsockdef.h* é incluído automaticamente no arquivo de header *Mswsockdef.h.*</span><span class="sxs-lookup"><span data-stu-id="1017f-608">The *Mswsockdef.h* header file is automatically included in the *Mswsockdef.h* header file.</span></span>

## <a name="requirements"></a><span data-ttu-id="1017f-609">Requisitos</span><span class="sxs-lookup"><span data-stu-id="1017f-609">Requirements</span></span>

|<span data-ttu-id="1017f-610">Requisito</span><span class="sxs-lookup"><span data-stu-id="1017f-610">Requirement</span></span>|<span data-ttu-id="1017f-611">Valor</span><span class="sxs-lookup"><span data-stu-id="1017f-611">Value</span></span>|
|-|-|
| <span data-ttu-id="1017f-612">parâmetro</span><span class="sxs-lookup"><span data-stu-id="1017f-612">Header</span></span><br/> | <dl> <span data-ttu-id="1017f-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h no Windows Vista, Windows Server 2008 e Windows 7 (inclua Mswsock.h); </dt> <dt>Ws2def.h no Windows Vista, Windows Server 2008 e Windows 7 (inclua Winsock2.h); </dt> <dt>Ws2ipdef.h no Windows Vista, Windows Server 2008 e Windows 7 (inclua Ws2tcpip.h)</dt></span><span class="sxs-lookup"><span data-stu-id="1017f-613"><dt>Winsock2.h; </dt> <dt>Mstcpip.h; </dt> <dt>Mswsock.h; </dt> <dt>Mswsockdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Mswsock.h); </dt> <dt>Ws2def.h on Windows Vista, Windows Server 2008 and Windows 7 (include Winsock2.h); </dt> <dt>Ws2ipdef.h on Windows Vista, Windows Server 2008 and Windows 7 (include Ws2tcpip.h)</dt></span></span> </dl> |
