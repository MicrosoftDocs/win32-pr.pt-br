---
description: A tabela a seguir descreve \_ as opções de soquete UDP IPPROTO que se aplicam aos soquetes criados para as famílias de endereços IPv4 e IPv6 (AF \_ inet e AF \_ INET6) com o parâmetro Protocol para a função socket especificada como UDP (IPPROTO \_ UDP).
ms.assetid: 579448a1-22af-488f-a1f5-97ba69a15524
title: Opções de soquete IPPROTO_UDP
ms.topic: article
ms.date: 10/02/2019
ms.openlocfilehash: 6f1f25ebae34d7db4290ab23bbf799fc0e0b68df
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/22/2021
ms.locfileid: "105784529"
---
# <a name="ipproto_udp-socket-options"></a><span data-ttu-id="29951-103">\_Opções de soquete UDP IPPROTO</span><span class="sxs-lookup"><span data-stu-id="29951-103">IPPROTO\_UDP socket options</span></span>

<span data-ttu-id="29951-104">A tabela a seguir descreve as opções de soquete **\_ UDP IPPROTO** que se aplicam aos soquetes criados para as famílias de endereços IPv4 e IPv6 (AF \_ inet e AF \_ INET6) com o parâmetro *Protocol* para a função [**Socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) especificada como UDP (IPPROTO \_ UDP).</span><span class="sxs-lookup"><span data-stu-id="29951-104">The following table describes **IPPROTO\_UDP** socket options that apply to sockets created for the IPv4 and IPv6 address families (AF\_INET and AF\_INET6) with the *protocol* parameter to the [**socket**](/windows/win32/api/Winsock2/nf-winsock2-socket) function specified as UDP (IPPROTO\_UDP).</span></span> <span data-ttu-id="29951-105">Consulte as páginas de referência de função [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) e [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) para obter mais informações sobre como obter e definir opções de soquete.</span><span class="sxs-lookup"><span data-stu-id="29951-105">See the [**getsockopt**](/windows/win32/api/winsock/nf-winsock-getsockopt) and [**setsockopt**](/windows/win32/api/winsock/nf-winsock-setsockopt) function reference pages for more information on getting and setting socket options.</span></span>

<span data-ttu-id="29951-106">Para enumerar protocolos e descobrir Propriedades com suporte para cada protocolo instalado, use a função [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols)ou [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) .</span><span class="sxs-lookup"><span data-stu-id="29951-106">To enumerate protocols and discover supported properties for each installed protocol, use the [**WSAEnumProtocols**](/windows/win32/api/Winsock2/nf-winsock2-wsaenumprotocolsa), [**WSCEnumProtocols**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols), or [**WSCEnumProtocols32**](/windows/win32/api/Ws2spi/nf-ws2spi-wscenumprotocols32) function.</span></span>

## <a name="options"></a><span data-ttu-id="29951-107">Opções</span><span class="sxs-lookup"><span data-stu-id="29951-107">Options</span></span>

| <span data-ttu-id="29951-108">Opção</span><span class="sxs-lookup"><span data-stu-id="29951-108">Option</span></span> | <span data-ttu-id="29951-109">Obter</span><span class="sxs-lookup"><span data-stu-id="29951-109">Get</span></span> | <span data-ttu-id="29951-110">Definir</span><span class="sxs-lookup"><span data-stu-id="29951-110">Set</span></span> | <span data-ttu-id="29951-111">Tipo de optval</span><span class="sxs-lookup"><span data-stu-id="29951-111">Optval type</span></span> | <span data-ttu-id="29951-112">Descrição</span><span class="sxs-lookup"><span data-stu-id="29951-112">Description</span></span> |
|-|-|-|-|-|
| <span data-ttu-id="29951-113">\_ \_ Cobertura de soma de verificação UDP (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="29951-113">UDP\_CHECKSUM\_COVERAGE (ws2tcpip.h)</span></span> | <span data-ttu-id="29951-114">sim</span><span class="sxs-lookup"><span data-stu-id="29951-114">yes</span></span> | <span data-ttu-id="29951-115">sim</span><span class="sxs-lookup"><span data-stu-id="29951-115">yes</span></span> | <span data-ttu-id="29951-116">DWORD (booliano)</span><span class="sxs-lookup"><span data-stu-id="29951-116">DWORD (boolean)</span></span> | <span data-ttu-id="29951-117">Quando **true**, os datagramas UDP são enviados com uma soma de verificação.</span><span class="sxs-lookup"><span data-stu-id="29951-117">When **TRUE**, UDP datagrams are sent with a checksum.</span></span> |
| <span data-ttu-id="29951-118">UDP \_ NoChecksum (Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="29951-118">UDP\_NOCHECKSUM (ws2tcpip.h)</span></span> | <span data-ttu-id="29951-119">sim</span><span class="sxs-lookup"><span data-stu-id="29951-119">yes</span></span> | <span data-ttu-id="29951-120">sim</span><span class="sxs-lookup"><span data-stu-id="29951-120">yes</span></span> | <span data-ttu-id="29951-121">DWORD (booliano)</span><span class="sxs-lookup"><span data-stu-id="29951-121">DWORD (boolean)</span></span> | <span data-ttu-id="29951-122">Quando **true**, os datagramas UDP são enviados com a soma de verificação zero.</span><span class="sxs-lookup"><span data-stu-id="29951-122">When **TRUE**, UDP datagrams are sent with the checksum of zero.</span></span> <span data-ttu-id="29951-123">Necessário para provedores de serviços.</span><span class="sxs-lookup"><span data-stu-id="29951-123">Required for service providers.</span></span> <span data-ttu-id="29951-124">Se um provedor de serviços não tiver um mecanismo para desabilitar o cálculo da soma de verificação UDP, ele poderá simplesmente armazenar essa opção sem realizar nenhuma ação.</span><span class="sxs-lookup"><span data-stu-id="29951-124">If a service provider does not have a mechanism to disable UDP checksum calculation, it may simply store this option without taking any action.</span></span> <span data-ttu-id="29951-125">Essa opção não tem suporte para IPv6.</span><span class="sxs-lookup"><span data-stu-id="29951-125">This option is not supported for IPv6.</span></span> |
| <span data-ttu-id="29951-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef. h; inclui Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="29951-126">UDP_RECV_MAX_COALESCED_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="29951-127">sim</span><span class="sxs-lookup"><span data-stu-id="29951-127">yes</span></span> | <span data-ttu-id="29951-128">sim</span><span class="sxs-lookup"><span data-stu-id="29951-128">yes</span></span> | <span data-ttu-id="29951-129">DWORD</span><span class="sxs-lookup"><span data-stu-id="29951-129">DWORD</span></span> | <span data-ttu-id="29951-130">Quando definido como um valor diferente de zero, vários datagramas recebidos podem ser agrupados em um único buffer de mensagens antes de serem indicados para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="29951-130">When set to a non-zero value, multiple received datagrams may be coalesced into a single message buffer before being indicated to your application.</span></span> <span data-ttu-id="29951-131">O valor da opção representa o tamanho máximo da mensagem em bytes para mensagens Unidas que podem ser indicadas para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="29951-131">The option value represents the maximum message size in bytes for coalesced messages that can be indicated to your application.</span></span> <span data-ttu-id="29951-132">Mensagens não Unidas maiores que o valor da opção ainda podem ser indicadas.</span><span class="sxs-lookup"><span data-stu-id="29951-132">Un-coalesced messages larger than the option value may still be indicated.</span></span> <span data-ttu-id="29951-133">O valor padrão é 0 (sem União).</span><span class="sxs-lookup"><span data-stu-id="29951-133">The default value is 0 (no coalescing).</span></span> <span data-ttu-id="29951-134">Os datagramas serão agrupados somente se forem originados do mesmo endereço de origem e porta.</span><span class="sxs-lookup"><span data-stu-id="29951-134">Datagrams will only be coalesced if they originated from the same source address and port.</span></span> <span data-ttu-id="29951-135">Todos os datagrams Unidos serão do mesmo tamanho &mdash; , exceto o último datagrama, que pode ser menor.</span><span class="sxs-lookup"><span data-stu-id="29951-135">All datagrams coalesced will be of the same size&mdash;except the last datagram, which may be smaller.</span></span> <span data-ttu-id="29951-136">Se seu aplicativo quiser recuperar os tamanhos de datagramas (exceto o último datagrama, que pode diferir) que foram agrupados, você deverá usar uma API de recebimento que dê suporte a informações de controle (como [**LPFN_WSARECVMSG (WSARECVMSG)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span><span class="sxs-lookup"><span data-stu-id="29951-136">If your application wants to retrieve the datagram sizes (except the last datagram, which may differ) that were coalesced, you must use a receive API that supports control information (such as [**LPFN_WSARECVMSG (WSARecvMsg)**](/windows/win32/api/mswsock/nc-mswsock-lpfn_wsarecvmsg)).</span></span> <span data-ttu-id="29951-137">O tamanho de todos, exceto a última mensagem, pode ser encontrado na mensagem de controle de **UDP_COALESCED_INFO** , que é do tipo DWORD.</span><span class="sxs-lookup"><span data-stu-id="29951-137">The size of all but the last message can be found in the **UDP_COALESCED_INFO** control message, which is of type DWORD.</span></span> <span data-ttu-id="29951-138">Para a segurança de tipo, seu aplicativo deve usar as funções [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) e [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) em vez da opção socket diretamente.</span><span class="sxs-lookup"><span data-stu-id="29951-138">For type safety, your application should use the [WSAGetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudprecvmaxcoalescedsize) and [WSASetUdpRecvMaxCoalescedSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudprecvmaxcoalescedsize) functions instead of the socket option directly.</span></span> |
| <span data-ttu-id="29951-139">UDP_SEND_MSG_SIZE (ws2ipdef. h; inclui Ws2tcpip. h)</span><span class="sxs-lookup"><span data-stu-id="29951-139">UDP_SEND_MSG_SIZE (ws2ipdef.h; include ws2tcpip.h)</span></span> | <span data-ttu-id="29951-140">sim</span><span class="sxs-lookup"><span data-stu-id="29951-140">yes</span></span> | <span data-ttu-id="29951-141">sim</span><span class="sxs-lookup"><span data-stu-id="29951-141">yes</span></span> | <span data-ttu-id="29951-142">DWORD</span><span class="sxs-lookup"><span data-stu-id="29951-142">DWORD</span></span> | <span data-ttu-id="29951-143">Quando definido como um valor diferente de zero, os buffers enviados pelo seu aplicativo são divididos em várias mensagens pela pilha de rede.</span><span class="sxs-lookup"><span data-stu-id="29951-143">When set to a non-zero value, buffers sent by your application are broken down into multiple messages by the networking stack.</span></span> <span data-ttu-id="29951-144">O valor da opção representa o tamanho de cada mensagem desfeita.</span><span class="sxs-lookup"><span data-stu-id="29951-144">The option value represents the size of each broken-down message.</span></span> <span data-ttu-id="29951-145">O valor da opção é representado em bytes.</span><span class="sxs-lookup"><span data-stu-id="29951-145">The option value is represented in bytes.</span></span> <span data-ttu-id="29951-146">O tamanho do último segmento pode ser menor que o valor da opção.</span><span class="sxs-lookup"><span data-stu-id="29951-146">The last segment's size may be less than the value of the option.</span></span> <span data-ttu-id="29951-147">O valor padrão é 0 (sem segmentação).</span><span class="sxs-lookup"><span data-stu-id="29951-147">The default value is 0 (no segmentation).</span></span> <span data-ttu-id="29951-148">Seu aplicativo deve definir um valor menor do que o MTU do caminho para os destinos a fim de evitar a fragmentação de IP.</span><span class="sxs-lookup"><span data-stu-id="29951-148">Your application should set a value that is lower than the MTU of the path to the destination(s) in order to avoid IP fragmentation.</span></span> <span data-ttu-id="29951-149">Para a segurança de tipo, seu aplicativo deve usar as funções [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) e [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) em vez da opção socket diretamente.</span><span class="sxs-lookup"><span data-stu-id="29951-149">For type safety, your application should use the [WSAGetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsagetudpsendmessagesize) and [WSASetUdpSendMessageSize](/windows/win32/api/ws2tcpip/nf-ws2tcpip-wsasetudpsendmessagesize) functions instead of the socket option directly.</span></span> |

## <a name="legacy-windows-support-for-ipproto_udp-options"></a><span data-ttu-id="29951-150">Suporte herdado do Windows para \_ Opções de UDP IPPROTO</span><span class="sxs-lookup"><span data-stu-id="29951-150">Legacy Windows support for IPPROTO\_UDP options</span></span>

<span data-ttu-id="29951-151">**UDP \_ A \_ cobertura de soma de verificação** não está disponível no Windows 2000 e no Windows NT4.</span><span class="sxs-lookup"><span data-stu-id="29951-151">**UDP\_CHECKSUM\_COVERAGE** is unavailable on Windows 2000 and on Windows NT4.</span></span> <span data-ttu-id="29951-152">**UDP \_ A \_ cobertura de soma de verificação** e o UDP NoChecksum não estão disponíveis no Windows 9x/me. **\_**</span><span class="sxs-lookup"><span data-stu-id="29951-152">**UDP\_CHECKSUM\_COVERAGE** and **UDP\_NOCHECKSUM** are unavailable on Windows 9x/Me.</span></span> 

## <a name="remarks"></a><span data-ttu-id="29951-153">Comentários</span><span class="sxs-lookup"><span data-stu-id="29951-153">Remarks</span></span>

<span data-ttu-id="29951-154">No SDK (Software Development Kit) do Microsoft Windows lançado para Windows Vista e posterior, a organização dos arquivos de cabeçalho foi alterada e o nível de **\_ UDP IPPROTO** é definido no arquivo de cabeçalho *Ws2def. h* , que é incluído automaticamente no arquivo de cabeçalho *Winsock2. h* .</span><span class="sxs-lookup"><span data-stu-id="29951-154">On the Microsoft Windows Software Development Kit (SDK) released for Windows Vista and later, the organization of header files has changed and **IPPROTO\_UDP** level is defined in the *Ws2def.h* header file which is automatically included in the *Winsock2.h* header file.</span></span> <span data-ttu-id="29951-155">As opções de soquete **\_ UDP IPPROTO** são definidas no arquivo de cabeçalho *Ws2tcpip. h* .</span><span class="sxs-lookup"><span data-stu-id="29951-155">The **IPPROTO\_UDP** socket options are defined in the *Ws2tcpip.h* header file.</span></span> <span data-ttu-id="29951-156">O arquivo de cabeçalho *Ws2def. h* nunca deve ser usado diretamente.</span><span class="sxs-lookup"><span data-stu-id="29951-156">The *Ws2def.h* header file should never be used directly.</span></span>

## <a name="requirements"></a><span data-ttu-id="29951-157">Requisitos</span><span class="sxs-lookup"><span data-stu-id="29951-157">Requirements</span></span>

| <span data-ttu-id="29951-158">Requisito</span><span class="sxs-lookup"><span data-stu-id="29951-158">Requirement</span></span> | <span data-ttu-id="29951-159">Valor</span><span class="sxs-lookup"><span data-stu-id="29951-159">Value</span></span> |
|-|-|
| <span data-ttu-id="29951-160">parâmetro</span><span class="sxs-lookup"><span data-stu-id="29951-160">Header</span></span><br/> | <dl> <span data-ttu-id="29951-161"><dt>ws2ipdef. h (incluir Ws2tcpip. h) e Ws2tcpip. h</dt> <dt>Winsock2. h no Windows Server 2003, Windows XP e Windows 2000</dt></span><span class="sxs-lookup"><span data-stu-id="29951-161"><dt>ws2ipdef.h (include ws2tcpip.h), and ws2tcpip.h</dt> <dt>Winsock2.h on Windows Server 2003, Windows XP, and Windows 2000</dt></span></span> </dl> |
