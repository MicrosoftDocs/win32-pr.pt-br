---
description: Como a própria DLL do Winsock não é mais fornecida por cada fornecedor de pilha individual, não é possível que um fornecedor de pilha ofereça funcionalidade estendida adicionando pontos de entrada à DLL do Winsock.
ms.assetid: 5c71532a-c565-4f65-ab36-ca0e23190718
title: Mecanismo de extensão de função no SPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7cfa6c9dfaf3afcec8e6861a9a0d3545a7ed0c5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105765270"
---
# <a name="function-extension-mechanism-in-the-spi"></a><span data-ttu-id="bbe91-103">Mecanismo de extensão de função no SPI</span><span class="sxs-lookup"><span data-stu-id="bbe91-103">Function Extension Mechanism in the SPI</span></span>

<span data-ttu-id="bbe91-104">Como a própria DLL do Winsock não é mais fornecida por cada fornecedor de pilha individual, não é possível que um fornecedor de pilha ofereça funcionalidade estendida adicionando pontos de entrada à DLL do Winsock.</span><span class="sxs-lookup"><span data-stu-id="bbe91-104">Because the Winsock DLL itself is no longer supplied by each individual stack vendor, it is not possible for a stack vendor to offer extended functionality by adding entry points to the Winsock DLL.</span></span> <span data-ttu-id="bbe91-105">Para superar essa limitação, o Winsock aproveita a nova função [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) para acomodar os provedores de serviço que desejam oferecer extensões de funcionalidade específicas do provedor.</span><span class="sxs-lookup"><span data-stu-id="bbe91-105">To overcome this limitation, Winsock takes advantage of the new [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function to accommodate service providers who wish to offer provider-specific functionality extensions.</span></span> <span data-ttu-id="bbe91-106">Esse mecanismo pressupõe que um aplicativo esteja ciente de uma extensão específica e entenda a semântica e a sintaxe envolvidas.</span><span class="sxs-lookup"><span data-stu-id="bbe91-106">This mechanism presupposes that an application is aware of a particular extension and understands both the semantics and syntax involved.</span></span> <span data-ttu-id="bbe91-107">Essas informações normalmente seriam fornecidas pelo fornecedor do provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="bbe91-107">Such information would typically be supplied by the service provider vendor.</span></span>

<span data-ttu-id="bbe91-108">Para invocar uma função de extensão, o aplicativo deve primeiro solicitar um ponteiro para a função desejada.</span><span class="sxs-lookup"><span data-stu-id="bbe91-108">To invoke an extension function, the application must first ask for a pointer to the desired function.</span></span> <span data-ttu-id="bbe91-109">Isso é feito por meio da função [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) usando o \_ código de comando do ponteiro da função de extensão sio get \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="bbe91-109">This is done through the [**WSAIoctl**](/windows/desktop/api/Winsock2/nf-winsock2-wsaioctl) function using the SIO\_GET\_EXTENSION\_FUNCTION\_POINTER command code.</span></span> <span data-ttu-id="bbe91-110">O buffer de entrada para a função **WSAIoctl** contém um identificador para a função de extensão desejada e o buffer de saída conterá o próprio ponteiro de função.</span><span class="sxs-lookup"><span data-stu-id="bbe91-110">The input buffer to the **WSAIoctl** function contains an identifier for the desired extension function and the output buffer will contain the function pointer itself.</span></span> <span data-ttu-id="bbe91-111">O aplicativo pode invocar a função de extensão diretamente sem passar pelo \_32.dll Ws2.</span><span class="sxs-lookup"><span data-stu-id="bbe91-111">The application can then invoke the extension function directly without passing through the Ws2\_32.dll.</span></span>

<span data-ttu-id="bbe91-112">Os identificadores atribuídos às funções de extensão são identificadores globais exclusivos (GUIDs) alocados por fornecedores de provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="bbe91-112">The identifiers assigned to extension functions are globally unique identifiers (GUIDs) that are allocated by service provider vendors.</span></span> <span data-ttu-id="bbe91-113">Fornecedores que criam funções de extensão são instruídos a publicar detalhes completos sobre a função, incluindo a sintaxe do protótipo de função.</span><span class="sxs-lookup"><span data-stu-id="bbe91-113">Vendors who create extension functions are urged to publish full details about the function including the syntax of the function prototype.</span></span> <span data-ttu-id="bbe91-114">Isso facilita a oferta de funções de extensão comuns e/ou populares por vários provedores de serviços.</span><span class="sxs-lookup"><span data-stu-id="bbe91-114">This facilitates common and/or popular extension functions to be offered by multiple service providers.</span></span> <span data-ttu-id="bbe91-115">Um aplicativo pode obter o ponteiro de função e usar a função sem precisar saber nada sobre o provedor de serviços específico que implementa a função.</span><span class="sxs-lookup"><span data-stu-id="bbe91-115">An application can obtain the function pointer and use the function without needing to know anything about the particular service provider that implements the function.</span></span>

 

 



