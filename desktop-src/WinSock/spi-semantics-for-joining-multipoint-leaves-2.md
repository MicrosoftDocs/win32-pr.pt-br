---
description: A seguir, um soquete do MultiPoint é geralmente caracterizado com a descrição de sua função em um dos dois planos (controle ou dados).
ms.assetid: 35e4a8c9-d943-44b8-be61-605b60a6cf5d
title: Semântica SPI para unir folhas do MultiPoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa0e77203e5405f6cb820baba5d545de03e3a8ce
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105768275"
---
# <a name="spi-semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="79f96-103">Semântica SPI para unir folhas do MultiPoint</span><span class="sxs-lookup"><span data-stu-id="79f96-103">SPI Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="79f96-104">A seguir, um soquete do MultiPoint é geralmente caracterizado com a descrição de sua função em um dos dois planos (controle ou dados).</span><span class="sxs-lookup"><span data-stu-id="79f96-104">In the following, a multipoint socket is frequently characterized by describing its role in one of the two planes (control or data).</span></span> <span data-ttu-id="79f96-105">Deve-se entender que esse mesmo soquete tem uma função no outro plano, mas isso não é mencionado para manter as referências curtas.</span><span class="sxs-lookup"><span data-stu-id="79f96-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="79f96-106">Por exemplo, uma referência a um \_ soquete raiz c poderia se referir a uma \_ raiz c raiz/d \_ ou a um \_ soquete folha c raiz/d \_ .</span><span class="sxs-lookup"><span data-stu-id="79f96-106">For example a reference to a c\_root socket could refer to either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="79f96-107">Em esquemas de plano de controle com raiz, novos nós folha são adicionados a uma sessão do MultiPoint em uma ou ambas as duas maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="79f96-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="79f96-108">No primeiro método, a raiz usa [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) para iniciar uma conexão com um nó folha e convidá-la para se tornar um participante.</span><span class="sxs-lookup"><span data-stu-id="79f96-108">In the first method, the root uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate a connection with a leaf node and invite it to become a participant.</span></span> <span data-ttu-id="79f96-109">No nó folha, o aplicativo par deve ter criado um \_ soquete folha c e usado [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) para defini-lo no modo de escuta.</span><span class="sxs-lookup"><span data-stu-id="79f96-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**WSPListen**](/previous-versions/windows/hardware/network/ff566297(v=vs.85)) to set it into listen mode.</span></span> <span data-ttu-id="79f96-110">O nó folha receberá uma \_ indicação FD Accept quando convidado para ingressar na sessão e sinalizará sua disposição para ingressar chamando [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="79f96-110">The leaf node will receive an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="79f96-111">O aplicativo raiz receberá uma \_ indicação FD Connect quando a operação de junção for concluída.</span><span class="sxs-lookup"><span data-stu-id="79f96-111">The root application will receive an FD\_CONNECT indication when the join operation has been completed.</span></span>

<span data-ttu-id="79f96-112">No segundo método, as funções são essencialmente invertidas.</span><span class="sxs-lookup"><span data-stu-id="79f96-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="79f96-113">O cliente raiz cria um \_ soquete raiz c e o define no modo de escuta.</span><span class="sxs-lookup"><span data-stu-id="79f96-113">The root client creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="79f96-114">Um nó folha que deseja ingressar na sessão cria um \_ soquete folha c e usa [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) para iniciar a conexão e solicitar Admittance.</span><span class="sxs-lookup"><span data-stu-id="79f96-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="79f96-115">O cliente raiz recebe \_ o FD Accept quando chega uma solicitação Admittance de entrada e admite o nó folha chamando [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span><span class="sxs-lookup"><span data-stu-id="79f96-115">The root client receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSPAccept**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspaccept).</span></span> <span data-ttu-id="79f96-116">O nó folha recebe o FD \_ Connect quando ele foi admitido.</span><span class="sxs-lookup"><span data-stu-id="79f96-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="79f96-117">Em um plano de controle não raiz, em que todos os nós são \_ folhas c, a função [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) é usada para iniciar a inclusão de um nó em uma sessão de MultiPoint existente.</span><span class="sxs-lookup"><span data-stu-id="79f96-117">In a nonrooted control plane, where all nodes are c\_leafs, the [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf) function is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="79f96-118">Uma indicação do FD \_ Connect é fornecida quando a junção é concluída e o descritor de soquete retornado é utilizável na sessão do MultiPoint.</span><span class="sxs-lookup"><span data-stu-id="79f96-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="79f96-119">No caso do multicast de IP, isso corresponderia à \_ opção IP adicionar \_ soquete de associação.</span><span class="sxs-lookup"><span data-stu-id="79f96-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="79f96-120">Há, portanto, três instâncias em que um cliente usaria [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span><span class="sxs-lookup"><span data-stu-id="79f96-120">There are, therefore, three instances where a client would use [**WSPJoinLeaf**](/windows/desktop/api/Ws2spi/nc-ws2spi-lpwspjoinleaf):</span></span>

-   <span data-ttu-id="79f96-121">Atuando como uma raiz do MultiPoint e convidando uma nova folha para ingressar na sessão.</span><span class="sxs-lookup"><span data-stu-id="79f96-121">Acting as a multipoint root and inviting a new leaf to join the session.</span></span>
-   <span data-ttu-id="79f96-122">Atuar como uma folha fazendo uma solicitação Admittance para uma sessão do MultiPoint com raiz.</span><span class="sxs-lookup"><span data-stu-id="79f96-122">Acting as a leaf making an admittance request to a rooted multipoint session.</span></span>
-   <span data-ttu-id="79f96-123">Atuando como uma folha que procura Admittance a uma sessão multiponto não-enraizada (por exemplo, multicast de IP).</span><span class="sxs-lookup"><span data-stu-id="79f96-123">Acting as a leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast.)</span></span>

 

 
