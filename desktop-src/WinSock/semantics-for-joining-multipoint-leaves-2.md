---
description: A seguir, um soquete do MultiPoint é frequentemente descrito definindo sua função em um dos dois planos (controle ou dados).
ms.assetid: 34f639e2-9363-4f3f-a8de-b7c5d12618c9
title: Semântica para unir as folhas do MultiPoint
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: df12683838fbad89f717b08d7a19802f24556761
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105811587"
---
# <a name="semantics-for-joining-multipoint-leaves"></a><span data-ttu-id="00db0-103">Semântica para unir as folhas do MultiPoint</span><span class="sxs-lookup"><span data-stu-id="00db0-103">Semantics for Joining Multipoint Leaves</span></span>

<span data-ttu-id="00db0-104">A seguir, um soquete do MultiPoint é frequentemente descrito definindo sua função em um dos dois planos (controle ou dados).</span><span class="sxs-lookup"><span data-stu-id="00db0-104">In the following, a multipoint socket is frequently described by defining its role in one of the two planes (control or data).</span></span> <span data-ttu-id="00db0-105">Deve-se entender que esse mesmo soquete tem uma função no outro plano, mas isso não é mencionado para manter as referências curtas.</span><span class="sxs-lookup"><span data-stu-id="00db0-105">It should be understood that this same socket has a role in the other plane, but this is not mentioned in order to keep the references short.</span></span> <span data-ttu-id="00db0-106">Por exemplo, quando uma referência é feita a um " \_ soquete raiz c", ela pode ser uma \_ raiz c/d \_ ou um soquete de \_ folha c raiz/d \_ .</span><span class="sxs-lookup"><span data-stu-id="00db0-106">For example when a reference is made to a "c\_root socket", this could be either a c\_root/d\_root or a c\_root/d\_leaf socket.</span></span>

<span data-ttu-id="00db0-107">Em esquemas de plano de controle com raiz, novos nós folha são adicionados a uma sessão do MultiPoint em uma ou ambas as duas maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="00db0-107">In rooted control plane schemes, new leaf nodes are added to a multipoint session in one or both of two different ways.</span></span> <span data-ttu-id="00db0-108">No primeiro método, a raiz usa [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para iniciar uma conexão com um nó folha e convidá-la para se tornar um participante.</span><span class="sxs-lookup"><span data-stu-id="00db0-108">In the first method, the root uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate a connection with a leaf node and to invite it to become a participant.</span></span> <span data-ttu-id="00db0-109">No nó folha, o aplicativo par deve ter criado um \_ soquete folha c e usado [**escutar**](/windows/desktop/api/Winsock2/nf-winsock2-listen) para defini-lo no modo de escuta.</span><span class="sxs-lookup"><span data-stu-id="00db0-109">On the leaf node, the peer application must have created a c\_leaf socket and used [**listen**](/windows/desktop/api/Winsock2/nf-winsock2-listen) to set it into listen mode.</span></span> <span data-ttu-id="00db0-110">O nó folha recebe uma \_ indicação FD Accept quando convidado para ingressar na sessão e sinaliza sua disposição para ingressar chamando [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="00db0-110">The leaf node receives an FD\_ACCEPT indication when invited to join the session, and signals its willingness to join by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="00db0-111">Em seguida, o aplicativo raiz recebe uma \_ indicação FD Connect quando a operação de **junção** é concluída.</span><span class="sxs-lookup"><span data-stu-id="00db0-111">The root application then receives an FD\_CONNECT indication when the **join** operation has been completed.</span></span>

<span data-ttu-id="00db0-112">No segundo método, as funções são essencialmente invertidas.</span><span class="sxs-lookup"><span data-stu-id="00db0-112">In the second method, the roles are essentially reversed.</span></span> <span data-ttu-id="00db0-113">O aplicativo raiz cria um \_ soquete raiz c e o define no modo de escuta.</span><span class="sxs-lookup"><span data-stu-id="00db0-113">The root application creates a c\_root socket and sets it into listen mode.</span></span> <span data-ttu-id="00db0-114">Um nó folha que deseja ingressar na sessão cria um \_ soquete folha c e usa [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) para iniciar a conexão e solicitar Admittance.</span><span class="sxs-lookup"><span data-stu-id="00db0-114">A leaf node wishing to join the session creates a c\_leaf socket and uses [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) to initiate the connection and request admittance.</span></span> <span data-ttu-id="00db0-115">O aplicativo raiz recebe \_ o FD Accept quando chega uma solicitação Admittance de entrada e admite o nó folha chamando [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span><span class="sxs-lookup"><span data-stu-id="00db0-115">The root application receives FD\_ACCEPT when an incoming admittance request arrives, and admits the leaf node by calling [**WSAAccept**](/windows/desktop/api/Winsock2/nf-winsock2-wsaaccept).</span></span> <span data-ttu-id="00db0-116">O nó folha recebe o FD \_ Connect quando ele foi admitido.</span><span class="sxs-lookup"><span data-stu-id="00db0-116">The leaf node receives FD\_CONNECT when it has been admitted.</span></span>

<span data-ttu-id="00db0-117">Em um plano de controle não raiz, em que todos os nós são \_ folhas c, o [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) é usado para iniciar a inclusão de um nó em uma sessão de MultiPoint existente.</span><span class="sxs-lookup"><span data-stu-id="00db0-117">In a nonrooted control plane, where all nodes are c\_leaf's, the [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) is used to initiate the inclusion of a node into an existing multipoint session.</span></span> <span data-ttu-id="00db0-118">Uma indicação do FD \_ Connect é fornecida quando a junção é concluída e o descritor de soquete retornado é utilizável na sessão do MultiPoint.</span><span class="sxs-lookup"><span data-stu-id="00db0-118">An FD\_CONNECT indication is provided when the join has been completed and the returned socket descriptor is usable in the multipoint session.</span></span> <span data-ttu-id="00db0-119">No caso do multicast de IP, isso corresponderia à \_ opção IP adicionar \_ soquete de associação.</span><span class="sxs-lookup"><span data-stu-id="00db0-119">In the case of IP multicast, this would correspond to the IP\_ADD\_MEMBERSHIP socket option.</span></span>

<span data-ttu-id="00db0-120">(Os leitores familiarizados com o uso de multicast IP do protocolo UDP sem conexão podem estar preocupados com a semântica orientada por conexão apresentada aqui.</span><span class="sxs-lookup"><span data-stu-id="00db0-120">(Readers familiar with IP multicast's use of the connectionless UDP protocol may be concerned by the connection-oriented semantics presented here.</span></span> <span data-ttu-id="00db0-121">Em particular, a noção de usar [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) em um soquete UDP e aguardar uma \_ indicação FD Connect pode ser preocupantes.</span><span class="sxs-lookup"><span data-stu-id="00db0-121">In particular the notion of using [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) on a UDP socket and waiting for an FD\_CONNECT indication may be troubling.</span></span> <span data-ttu-id="00db0-122">No entanto, há uma ampla preprecedente para aplicar a semântica orientada a conexão a protocolos sem conexão.</span><span class="sxs-lookup"><span data-stu-id="00db0-122">There is, however, ample precedent for applying connection-oriented semantics to connectionless protocols.</span></span> <span data-ttu-id="00db0-123">Ele é permitido e, às vezes, útil, por exemplo, para invocar a função [**Connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) padrão em um soquete UDP.</span><span class="sxs-lookup"><span data-stu-id="00db0-123">It is allowed and sometimes useful, for example, to invoke the standard [**connect**](/windows/desktop/api/Winsock2/nf-winsock2-connect) function on a UDP socket.</span></span> <span data-ttu-id="00db0-124">O resultado geral da aplicação de semântica orientada a conexão a soquetes sem conexão é uma restrição de como esses soquetes podem ser usados, e esse também é o caso aqui.</span><span class="sxs-lookup"><span data-stu-id="00db0-124">The general result of applying connection-oriented semantics to connectionless sockets is a restriction in how such sockets may be used, and this is the case here, as well.</span></span> <span data-ttu-id="00db0-125">Um soquete UDP usado em **WSAJoinLeaf** terá certas restrições e aguardando uma \_ indicação FD Connect (que, nesse caso, simplesmente indica que a mensagem IGMP correspondente foi enviada) é uma dessas limitações.)</span><span class="sxs-lookup"><span data-stu-id="00db0-125">A UDP socket used in **WSAJoinLeaf** will have certain restrictions, and waiting for an FD\_CONNECT indication (which in this case simply indicates that the corresponding IGMP message has been sent) is one such limitation.)</span></span>

<span data-ttu-id="00db0-126">Portanto, há três instâncias em que um aplicativo usaria [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) atuando como:</span><span class="sxs-lookup"><span data-stu-id="00db0-126">There are therefore, three instances where an application would use [**WSAJoinLeaf**](/windows/desktop/api/Winsock2/nf-winsock2-wsajoinleaf) acting as a:</span></span>

-   <span data-ttu-id="00db0-127">Raiz do MultiPoint e convidando uma nova folha para ingressar na sessão</span><span class="sxs-lookup"><span data-stu-id="00db0-127">Multipoint root and inviting a new leaf to join the session</span></span>
-   <span data-ttu-id="00db0-128">Folha fazendo uma solicitação de Admittance para uma sessão do MultiPoint com raiz</span><span class="sxs-lookup"><span data-stu-id="00db0-128">Leaf making an admittance request to a rooted multipoint session</span></span>
-   <span data-ttu-id="00db0-129">Folha buscando Admittance a uma sessão do MultiPoint não enraizada (por exemplo, multicast de IP)</span><span class="sxs-lookup"><span data-stu-id="00db0-129">Leaf seeking admittance to a nonrooted multipoint session (for example, IP multicast)</span></span>

 

 



