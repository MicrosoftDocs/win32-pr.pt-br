---
description: Uma das alterações mais óbvias de IPv4 para IPv6 é o tamanho do endereço IP. Muitas interfaces de usuário fornecem caixas de diálogo que permitem que um usuário insira um endereço IP, como exemplificado na figura a seguir.
ms.assetid: e2d7fd41-297a-400b-ae59-5d67db2be6f6
title: Problemas de interface do usuário para aplicativos Winsock do IPv6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 03305073687cdd77e17c529d70ffe5959df40960
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105764415"
---
# <a name="user-interface-issues-for-ipv6-winsock-applications"></a><span data-ttu-id="75de1-104">Problemas de interface do usuário para aplicativos Winsock do IPv6</span><span class="sxs-lookup"><span data-stu-id="75de1-104">User Interface Issues for IPv6 Winsock Applications</span></span>

<span data-ttu-id="75de1-105">Uma das alterações mais óbvias de IPv4 para IPv6 é o tamanho do endereço IP.</span><span class="sxs-lookup"><span data-stu-id="75de1-105">One of the most obvious changes from IPv4 to IPv6 is the size of the IP address.</span></span> <span data-ttu-id="75de1-106">Muitas interfaces de usuário fornecem caixas de diálogo que permitem que um usuário insira um endereço IP, como exemplificado na figura a seguir.</span><span class="sxs-lookup"><span data-stu-id="75de1-106">Many user interfaces provide dialog boxes that enable a user to enter an IP address, as exemplified in the following figure.</span></span>

![caixa de endereço IPv4 comum em uma interface do usuário](images/portingguide001.jpg)

<span data-ttu-id="75de1-108">O endereçamento no IPv6, devido a muitos fatores, como comprimento, complexidade e o significado das seções dentro do espaço de endereço IPv6, não é voltado para modificação ou especificação por usuários.</span><span class="sxs-lookup"><span data-stu-id="75de1-108">Addressing in IPv6, due to many factors such as length, complexity, and the significance of sections within the IPv6 address space, is not conducive to modification or specification by users.</span></span> <span data-ttu-id="75de1-109">Portanto, a necessidade de fornecer aos usuários a capacidade de especificar seu próprio endereço é reduzida.</span><span class="sxs-lookup"><span data-stu-id="75de1-109">Therefore, the need to provide users with the capability of specifying their own address is reduced.</span></span> <span data-ttu-id="75de1-110">Além disso, devido à complexidade associada ao endereçamento IPv6, é provável que os administradores com a capacidade de especificar informações de endereço IPv6 não ocorram em uma base por nó.</span><span class="sxs-lookup"><span data-stu-id="75de1-110">Additionally, due to the complexity associated with IPv6 addressing, providing administrators with the capability of specifying IPv6 address information is not likely to occur on a per-node basis.</span></span>

<span data-ttu-id="75de1-111">A exibição de um endereço IPv6 na interface do usuário não é inconcebível e, portanto, os desenvolvedores devem considerar a variabilidade no tamanho de um endereço IPv6 ao modificar um aplicativo para dar suporte a IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-111">Displaying an IPv6 address in the UI is not inconceivable, and therefore developers should consider the variability in the size of an IPv6 address when modifying an application to support IPv6.</span></span>

<span data-ttu-id="75de1-112">O restante desta seção aborda a diferença entre a previsibilidade de comprimento de endereço IPv4 e as considerações de comprimento de endereço IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-112">The rest of this section discusses the difference between IPv4 address length predictability and IPv6 address length considerations.</span></span> <span data-ttu-id="75de1-113">Esta seção presume que os endereços IPv6 estejam sendo exibidos em sua representação hexadecimal.</span><span class="sxs-lookup"><span data-stu-id="75de1-113">This section presumes IPv6 addresses are being displayed in their hexadecimal representation.</span></span>

<span data-ttu-id="75de1-114">Os endereços IPv4 são previsíveis em tamanho, pois eles seguem rigidamente a notação decimal pontilhada, como ilustra o seguinte exemplo de endereço:</span><span class="sxs-lookup"><span data-stu-id="75de1-114">IPv4 addresses are predictable in size, because they rigidly follow dotted decimal notation, as the following address example illustrates:</span></span>

``` syntax
10.10.256.1
```

<span data-ttu-id="75de1-115">Os endereços IPv6 não são tão previsíveis, devido à Convenção de endereço IPv6 que permite o uso de dois-pontos duplos (::) para representar uma série de zeros.</span><span class="sxs-lookup"><span data-stu-id="75de1-115">IPv6 addresses are not so predictable, due to the IPv6 address convention that enables the use of a double-colon (::) to represent a series of zeros.</span></span> <span data-ttu-id="75de1-116">Assim, as seguintes representações de endereço IPv6 são equivalentes ao mesmo endereço IPv6:</span><span class="sxs-lookup"><span data-stu-id="75de1-116">As such, the following IPv6 address representations equate to the same IPv6 address:</span></span>

``` syntax
1040:0:0:0:0:0:0:1
1040::1
```

<span data-ttu-id="75de1-117">A capacidade de representar uma série de zeros com dois pontos duplos resulta em um comprimento imprevisível para qualquer IPv6 específico, o que exige que os programadores Tomem essa capacidade em consideração ao criar exibições de interface do usuário de endereços IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-117">The capability to represent a series of zeros with a double-colon results in an unpredictable length for any given IPv6, which requires programmers to take this capability into consideration when creating user interface displays of IPv6 addresses.</span></span> <span data-ttu-id="75de1-118">Certamente, os desenvolvedores devem garantir que a interface do usuário seja capaz de exibir endereços IP que não usam dois-pontos duplos para representar uma série de zeros (primeiro endereço abaixo), além de ser capaz de exibir o endereço IPv6 mais longo possível (segundo endereço abaixo, com o endereço IPv4 inserido) ao criar sua interface de usuário compatível com IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-118">Certainly, developers should ensure that the user interface is capable of displaying IP addresses that do not use a double-colon to represent a series of zeros (first address below), as well as being capable of displaying the longest possible IPv6 address (second address below, with the embedded IPv4 address) when creating their IPv6-capable user interface.</span></span> <span data-ttu-id="75de1-119">Observe também que a adição do identificador de escopo (ID) para o seguinte endereço aumentaria seu comprimento até outros onze caracteres:</span><span class="sxs-lookup"><span data-stu-id="75de1-119">Note, too, that adding the Scope identifier (ID) to the following address would increase its length by as much as another eleven characters:</span></span>

``` syntax
21DA:00D3:0010:2F3B:02AA:00FF:FE28:9C5A
0000:0000:0000:0000:0000:ffff:123.123.123.123
```

<span data-ttu-id="75de1-120">Outra consideração importante é se os endereços baseados em nome são mais apropriados do que os endereços IPv6 baseados em número.</span><span class="sxs-lookup"><span data-stu-id="75de1-120">Another important consideration is whether name-based addresses are more appropriate than number-based IPv6 addresses.</span></span> <span data-ttu-id="75de1-121">Se os endereços baseados em nome forem mais apropriados, a consideração para convenções de nomenclatura deve ser incorporada à interface do usuário, incluindo qualquer verificação de erro de entrada apropriada para a tarefa.</span><span class="sxs-lookup"><span data-stu-id="75de1-121">If name-based addresses are more appropriate, consideration for naming conventions should be built into the user interface, including any input error-checking appropriate for the task.</span></span>

<span data-ttu-id="75de1-122">Há outras complexidades associadas à exibição de endereços IPv6 que os desenvolvedores devem levar em consideração ao modificar seus aplicativos e ao criar representações de interface do usuário de endereços IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-122">There are other complexities associated with displaying IPv6 addresses that developers must take into consideration when modifying their application, and when designing user interface representations of IPv6 addresses.</span></span> <span data-ttu-id="75de1-123">Algumas dessas considerações são as seguintes:</span><span class="sxs-lookup"><span data-stu-id="75de1-123">Some of these considerations are the following:</span></span>

-   <span data-ttu-id="75de1-124">O endereço deve conter todas as sequências de zeros ou usar a notação de dois-pontos duplo?</span><span class="sxs-lookup"><span data-stu-id="75de1-124">Should the address contain all sequences of zeros, or use the double-colon notation?</span></span>
-   <span data-ttu-id="75de1-125">É mais apropriado usar uma representação de endereço baseada em número ou uma representação baseada em nome?</span><span class="sxs-lookup"><span data-stu-id="75de1-125">Is it more appropriate to use a number-based address representation or a name-based representation?</span></span>
-   <span data-ttu-id="75de1-126">O usuário está interessado em discernir um determinado aspecto do esquema de endereçamento, como o prefixo de sub-rede, o identificador de escopo ou outros subcampos?</span><span class="sxs-lookup"><span data-stu-id="75de1-126">Is the user interested in discerning a certain aspect of the addressing scheme, such as the subnet prefix, scope identifier, or other subfields?</span></span>
-   <span data-ttu-id="75de1-127">O usuário está interessado em determinar outros aspectos do endereço, como o identificador TLA, o identificador de NLA ou o identificador SLA?</span><span class="sxs-lookup"><span data-stu-id="75de1-127">Is the user interested in determining other aspects of the address, such as the TLA identifier, the NLA identifier, or the SLA identifier?</span></span>
-   <span data-ttu-id="75de1-128">Sua interface do usuário será capaz de distinguir endereços IPv6 incorporados e, nesse caso, como eles serão tratados e exibidos?</span><span class="sxs-lookup"><span data-stu-id="75de1-128">Will your user interface be capable of discerning embedded IPv6 addresses, and if so, how will those be handled and displayed?</span></span> <span data-ttu-id="75de1-129">Você fará discernimento entre endereços compatíveis com IPv4 e endereços IPv6 mapeados por IPv4 ao exibir informações de endereço para o usuário?</span><span class="sxs-lookup"><span data-stu-id="75de1-129">Will you discern between IPv4-compatible addresses and IPv4-mapped IPv6 addresses when displaying address information to the user?</span></span>

<span data-ttu-id="75de1-130">Também há outras considerações, e os desenvolvedores devem considerar cuidadosamente seu público-alvo do cliente ao desenvolver interfaces de usuário de endereço IP.</span><span class="sxs-lookup"><span data-stu-id="75de1-130">There are other considerations as well, and developers should carefully consider their customer audience when developing IP address user interfaces.</span></span>

<span data-ttu-id="75de1-131">Práticas Recomendadas</span><span class="sxs-lookup"><span data-stu-id="75de1-131">Best Practices</span></span>

-   <span data-ttu-id="75de1-132">Os desenvolvedores devem considerar a abordagem apropriada para cada interface do usuário ao modificar seu aplicativo para dar suporte a IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-132">Developers must consider the appropriate approach to each user interface when modifying their application to support IPv6.</span></span> <span data-ttu-id="75de1-133">Garantir que a interface do usuário contenha comprimento suficiente para exibir endereços IPv6 é imperativo, como está determinando se esse endereço é baseado em número ou nome.</span><span class="sxs-lookup"><span data-stu-id="75de1-133">Ensuring that the user interface contains sufficient length to display IPv6 addresses is imperative, as is determining whether that address is number or name based.</span></span>
-   <span data-ttu-id="75de1-134">Sempre que possível, use as funções Winsock e IP auxiliar existentes ao usar endereços IPv6 em vez de implementar novamente essa lógica.</span><span class="sxs-lookup"><span data-stu-id="75de1-134">Whenever possible, use existing Winsock and IP Helper functions when using IPv6 addresses rather than re-implementing this logic.</span></span> <span data-ttu-id="75de1-135">Por exemplo, as funções [**RtlIpv6AddressToString**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6addresstostringa), [**RtlIpv6AddressToStringEx**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6addresstostringexw), [**RtlIpv6StringToAddress**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6stringtoaddressa)e [**RtlIpv6StringToAddressEx**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6stringtoaddressexw) podem ser usadas para converter entre os endereços IPv6 e representações de cadeia de caracteres desses endereços IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-135">For example, the [**RtlIpv6AddressToString**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6addresstostringa), [**RtlIpv6AddressToStringEx**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6addresstostringexw), [**RtlIpv6StringToAddress**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6stringtoaddressa), and [**RtlIpv6StringToAddressEx**](/windows/win32/api/ip2string/nf-ip2string-rtlipv6stringtoaddressexw) functions can be used to convert between IPv6 addresses and string representations of these IPv6 addresses.</span></span>

<span data-ttu-id="75de1-136">Código a ser evitado</span><span class="sxs-lookup"><span data-stu-id="75de1-136">Code To Avoid</span></span>

-   <span data-ttu-id="75de1-137">Os elementos da interface do usuário que dependem de um endereço de tamanho IPv4 devem sofrer investigações e parte dessa investigação deve incluir se as informações que você estava fornecendo (em IPv4) são apropriadas para IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-137">User interface elements that depend on an IPv4-sized address must undergo scrutiny, and part of that scrutiny should include whether the information you were providing (under IPv4) is appropriate for IPv6.</span></span>
-   <span data-ttu-id="75de1-138">A capacidade de especificar um endereço IP também deve depender se o IPv4 está em uso ou se o IPv6 está disponível.</span><span class="sxs-lookup"><span data-stu-id="75de1-138">The capability to specify an IP address should also depend on whether IPv4 is in use, or IPv6 is available.</span></span> <span data-ttu-id="75de1-139">Se o IPv6 estiver disponível, é apropriado especificar endereços baseados em números (hexadecimais) ou endereços com base em nomes?</span><span class="sxs-lookup"><span data-stu-id="75de1-139">If IPv6 is available, is it appropriate to specify number-based (hexadecimal) addresses or name-based addresses?</span></span>

<span data-ttu-id="75de1-140">Tarefas de codificação</span><span class="sxs-lookup"><span data-stu-id="75de1-140">Coding Tasks</span></span>

<span data-ttu-id="75de1-141">**Para revisar sua base de código existente de IPv4 para IPv4-interoperabilidade de IPv6**</span><span class="sxs-lookup"><span data-stu-id="75de1-141">**To revise your existing code base from IPv4 to IPv4- and IPv6-interoperability**</span></span>

1.  <span data-ttu-id="75de1-142">Execute uma revisão Visual da interface do usuário, procurando qualquer elemento que seja dependente de um comprimento específico para a cadeia de caracteres do endereço IP.</span><span class="sxs-lookup"><span data-stu-id="75de1-142">Perform a visual review of the user interface, looking for any element that is dependent on a specific length for the IP address string.</span></span> <span data-ttu-id="75de1-143">Controles com a notação decimal com quatro seções facilmente identificada são fáceis de detectar, mas outros não.</span><span class="sxs-lookup"><span data-stu-id="75de1-143">Controls with the easily identified four-section dotted decimal notation are easy to spot, but others are not.</span></span> <span data-ttu-id="75de1-144">Pode haver lugares onde os endereços IP podem ser exibidos, como nas caixas de diálogo, em que um endereço IPv6 pode ficar sem espaço de exibição.</span><span class="sxs-lookup"><span data-stu-id="75de1-144">There may be places where IP addresses could be displayed, such as in dialog boxes, where an IPv6 address might run out of display room.</span></span>
2.  <span data-ttu-id="75de1-145">Após encontrar qualquer um desses controles, mostre se é apropriado exibir o endereço ao usar o IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-145">Upon finding any of these controls, scrutinize whether it is appropriate to display the address when using IPv6.</span></span> <span data-ttu-id="75de1-146">Se for possível que o IPv4 ou o IPv6 esteja em uso, verifique se a interface do usuário pode acomodar um deles.</span><span class="sxs-lookup"><span data-stu-id="75de1-146">If it is possible that either IPv4 or IPv6 is in use, ensure that the user interface can accommodate either.</span></span> <span data-ttu-id="75de1-147">Substitua ou amplie todos os controles com controles de interface do usuário que possam exibir um endereço IPv6 inteiro.</span><span class="sxs-lookup"><span data-stu-id="75de1-147">Replace or augment any controls with user interface controls that can display an entire IPv6 address.</span></span>
3.  <span data-ttu-id="75de1-148">Acompanhamento do teste da interface do usuário para garantir que as alterações que habilitam a exibição de endereço IPv6 mantenham a usabilidade pretendida ao usar endereços IPv4.</span><span class="sxs-lookup"><span data-stu-id="75de1-148">Follow up with testing of the user interface to ensure the changes that enable IPv6 address display maintain the intended usability when using IPv4 addresses.</span></span> <span data-ttu-id="75de1-149">Além disso, teste para locais de exibição de endereço de protocolo, como caixas de diálogo informativas, para garantir que eles manipulem adequadamente os endereços IPv6.</span><span class="sxs-lookup"><span data-stu-id="75de1-149">Also, test for protocol address display locations, such as informational dialog boxes, to ensure they properly handle IPv6 addresses.</span></span>

## <a name="related-topics"></a><span data-ttu-id="75de1-150">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="75de1-150">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="75de1-151">Guia IPv6 para aplicativos do Windows Sockets</span><span class="sxs-lookup"><span data-stu-id="75de1-151">IPv6 Guide for Windows Sockets Applications</span></span>](ipv6-guide-for-windows-sockets-applications-2.md)
</dt> <dt>

[<span data-ttu-id="75de1-152">Alterando estruturas de dados para aplicativos Winsock do IPv6</span><span class="sxs-lookup"><span data-stu-id="75de1-152">Changing Data Structures for IPv6 Winsock Appications</span></span>](changing-data-structures-2.md)
</dt> <dt>

[<span data-ttu-id="75de1-153">Soquetes de pilha dupla para aplicativos Winsock do IPv6</span><span class="sxs-lookup"><span data-stu-id="75de1-153">Dual-Stack Sockets for IPv6 Winsock Applications</span></span>](dual-stack-sockets.md)
</dt> <dt>

[<span data-ttu-id="75de1-154">Chamadas de função para aplicativos Winsock IPv6</span><span class="sxs-lookup"><span data-stu-id="75de1-154">Function Calls for IPv6 Winsock Applications</span></span>](function-calls-2.md)
</dt> <dt>

[<span data-ttu-id="75de1-155">Uso de endereços IPv4 codificados</span><span class="sxs-lookup"><span data-stu-id="75de1-155">Use of Hardcoded IPv4 Addresses</span></span>](use-of-hardcoded-ipv4-addresses-2.md)
</dt> <dt>

[<span data-ttu-id="75de1-156">Protocolos subjacentes para aplicativos Winsock IPv6</span><span class="sxs-lookup"><span data-stu-id="75de1-156">Underlying Protocols for IPv6 Winsock Applications</span></span>](underlying-protocols-2.md)
</dt> </dl>

 

 
