---
description: Esta seção discute mensagens e filas de mensagens do Windows.
ms.assetid: 21a4d40b-52da-49e4-a374-afc4927e96e8
title: Sobre mensagens e filas de mensagens
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7f0bcf68dbacaae868de3aea1fdc4a5d11290821
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105783318"
---
# <a name="about-messages-and-message-queues"></a><span data-ttu-id="c4389-103">Sobre mensagens e filas de mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-103">About Messages and Message Queues</span></span>

<span data-ttu-id="c4389-104">Ao contrário dos aplicativos baseados em MS-dos, os aplicativos baseados no Windows são controlados por evento.</span><span class="sxs-lookup"><span data-stu-id="c4389-104">Unlike MS-DOS-based applications, Windows-based applications are event-driven.</span></span> <span data-ttu-id="c4389-105">Eles não fazem chamadas de função explícitas (como chamadas de biblioteca de tempo de execução C) para obter entrada.</span><span class="sxs-lookup"><span data-stu-id="c4389-105">They do not make explicit function calls (such as C run-time library calls) to obtain input.</span></span> <span data-ttu-id="c4389-106">Em vez disso, eles esperam que o sistema passe a entrada para eles.</span><span class="sxs-lookup"><span data-stu-id="c4389-106">Instead, they wait for the system to pass input to them.</span></span>

<span data-ttu-id="c4389-107">O sistema passa todas as entradas de um aplicativo para as várias janelas no aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-107">The system passes all input for an application to the various windows in the application.</span></span> <span data-ttu-id="c4389-108">Cada janela tem uma função, chamada de procedimento de janela, que o sistema chama sempre que tem entrada para a janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-108">Each window has a function, called a window procedure, that the system calls whenever it has input for the window.</span></span> <span data-ttu-id="c4389-109">O procedimento de janela processa a entrada e retorna o controle para o sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-109">The window procedure processes the input and returns control to the system.</span></span> <span data-ttu-id="c4389-110">Para obter mais informações sobre procedimentos de janela, consulte [procedimentos de janela](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="c4389-110">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

<span data-ttu-id="c4389-111">Se uma janela de nível superior parar de responder às mensagens por mais de vários segundos, o sistema considerará que a janela não está respondendo.</span><span class="sxs-lookup"><span data-stu-id="c4389-111">If a top-level window stops responding to messages for more than several seconds, the system considers the window to be not responding.</span></span> <span data-ttu-id="c4389-112">Nesse caso, o sistema oculta a janela e a substitui por uma janela fantasma que tem a mesma ordem Z, local, tamanho e atributos visuais.</span><span class="sxs-lookup"><span data-stu-id="c4389-112">In this case, the system hides the window and replaces it with a ghost window that has the same Z order, location, size, and visual attributes.</span></span> <span data-ttu-id="c4389-113">Isso permite que o usuário o mova, redimensione ou até mesmo feche o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-113">This allows the user to move it, resize it, or even close the application.</span></span> <span data-ttu-id="c4389-114">No entanto, essas são as únicas ações disponíveis porque o aplicativo não está realmente respondendo.</span><span class="sxs-lookup"><span data-stu-id="c4389-114">However, these are the only actions available because the application is actually not responding.</span></span> <span data-ttu-id="c4389-115">Quando estiver no modo de depurador, o sistema não gerará uma janela fantasma.</span><span class="sxs-lookup"><span data-stu-id="c4389-115">When in the debugger mode, the system does not generate a ghost window.</span></span>

<span data-ttu-id="c4389-116">Esta seção aborda os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="c4389-116">This section discusses the following topics:</span></span>

-   [<span data-ttu-id="c4389-117">Mensagens do Windows</span><span class="sxs-lookup"><span data-stu-id="c4389-117">Windows Messages</span></span>](#windows-messages)
-   [<span data-ttu-id="c4389-118">Tipos de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-118">Message Types</span></span>](#message-types)
    -   [<span data-ttu-id="c4389-119">Mensagens definidas pelo sistema</span><span class="sxs-lookup"><span data-stu-id="c4389-119">System-Defined Messages</span></span>](#system-defined-messages)
    -   [<span data-ttu-id="c4389-120">Mensagens definidas pelo aplicativo</span><span class="sxs-lookup"><span data-stu-id="c4389-120">Application-Defined Messages</span></span>](#application-defined-messages)
-   [<span data-ttu-id="c4389-121">Roteamento de mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-121">Message Routing</span></span>](#message-routing)
    -   [<span data-ttu-id="c4389-122">Mensagens em fila</span><span class="sxs-lookup"><span data-stu-id="c4389-122">Queued Messages</span></span>](#queued-messages)
    -   [<span data-ttu-id="c4389-123">Mensagens não enfileiradas</span><span class="sxs-lookup"><span data-stu-id="c4389-123">Nonqueued Messages</span></span>](#nonqueued-messages)
-   [<span data-ttu-id="c4389-124">Manipulação de mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-124">Message Handling</span></span>](#message-handling)
    -   [<span data-ttu-id="c4389-125">Loop de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-125">Message Loop</span></span>](#message-loop)
    -   [<span data-ttu-id="c4389-126">Procedimento de janela</span><span class="sxs-lookup"><span data-stu-id="c4389-126">Window Procedure</span></span>](#window-procedure)
-   [<span data-ttu-id="c4389-127">Filtragem de Mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-127">Message Filtering</span></span>](#message-filtering)
-   [<span data-ttu-id="c4389-128">Postando e enviando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-128">Posting and Sending Messages</span></span>](#posting-and-sending-messages)
    -   [<span data-ttu-id="c4389-129">Postando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-129">Posting Messages</span></span>](#posting-messages)
    -   [<span data-ttu-id="c4389-130">Enviando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-130">Sending Messages</span></span>](#sending-messages)
-   [<span data-ttu-id="c4389-131">Deadlocks de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-131">Message Deadlocks</span></span>](#message-deadlocks)
-   [<span data-ttu-id="c4389-132">Transmitindo mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-132">Broadcasting Messages</span></span>](#broadcasting-messages)
-   [<span data-ttu-id="c4389-133">Mensagens de consulta</span><span class="sxs-lookup"><span data-stu-id="c4389-133">Query Messages</span></span>](#query-messages)

## <a name="windows-messages"></a><span data-ttu-id="c4389-134">Mensagens do Windows</span><span class="sxs-lookup"><span data-stu-id="c4389-134">Windows Messages</span></span>

<span data-ttu-id="c4389-135">O sistema passa a entrada para um procedimento de janela na forma de uma *mensagem*.</span><span class="sxs-lookup"><span data-stu-id="c4389-135">The system passes input to a window procedure in the form of a *message*.</span></span> <span data-ttu-id="c4389-136">As mensagens são geradas pelo sistema e pelos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c4389-136">Messages are generated by both the system and applications.</span></span> <span data-ttu-id="c4389-137">O sistema gera uma mensagem em cada evento de entrada — por exemplo, quando o usuário digita, move o mouse ou clica em um controle como uma barra de rolagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-137">The system generates a message at each input event—for example, when the user types, moves the mouse, or clicks a control such as a scroll bar.</span></span> <span data-ttu-id="c4389-138">O sistema também gera mensagens em resposta a alterações no sistema trazidas por um aplicativo, como quando um aplicativo altera o pool de recursos de fonte do sistema ou redimensiona uma de suas janelas.</span><span class="sxs-lookup"><span data-stu-id="c4389-138">The system also generates messages in response to changes in the system brought about by an application, such as when an application changes the pool of system font resources or resizes one of its windows.</span></span> <span data-ttu-id="c4389-139">Um aplicativo pode gerar mensagens para direcionar suas próprias janelas para executar tarefas ou para se comunicar com o Windows em outros aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c4389-139">An application can generate messages to direct its own windows to perform tasks or to communicate with windows in other applications.</span></span>

<span data-ttu-id="c4389-140">O sistema envia uma mensagem para um procedimento de janela com um conjunto de quatro parâmetros: um identificador de janela, um identificador de mensagem e dois valores chamados de *parâmetros de mensagem*.</span><span class="sxs-lookup"><span data-stu-id="c4389-140">The system sends a message to a window procedure with a set of four parameters: a window handle, a message identifier, and two values called *message parameters*.</span></span> <span data-ttu-id="c4389-141">O *identificador de janela* identifica a janela para a qual a mensagem é destinada.</span><span class="sxs-lookup"><span data-stu-id="c4389-141">The *window handle* identifies the window for which the message is intended.</span></span> <span data-ttu-id="c4389-142">O sistema o utiliza para determinar qual procedimento de janela deve receber a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-142">The system uses it to determine which window procedure should receive the message.</span></span>

<span data-ttu-id="c4389-143">Um *identificador de mensagem* é uma constante nomeada que identifica a finalidade de uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-143">A *message identifier* is a named constant that identifies the purpose of a message.</span></span> <span data-ttu-id="c4389-144">Quando um procedimento de janela recebe uma mensagem, ele usa um identificador de mensagem para determinar como processar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-144">When a window procedure receives a message, it uses a message identifier to determine how to process the message.</span></span> <span data-ttu-id="c4389-145">Por exemplo, o identificador de mensagem do [**WM \_ Paint**](/windows/desktop/gdi/wm-paint) informa ao procedimento de janela que a área do cliente da janela foi alterada e deve ser redesenhada.</span><span class="sxs-lookup"><span data-stu-id="c4389-145">For example, the message identifier [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) tells the window procedure that the window's client area has changed and must be repainted.</span></span>

<span data-ttu-id="c4389-146">Os parâmetros de mensagem especificam dados ou o local dos dados usados por um procedimento de janela ao processar uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-146">Message parameters specify data or the location of data used by a window procedure when processing a message.</span></span> <span data-ttu-id="c4389-147">O significado e o valor dos parâmetros da mensagem dependem da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-147">The meaning and value of the message parameters depend on the message.</span></span> <span data-ttu-id="c4389-148">Um parâmetro de mensagem pode conter um inteiro, sinalizadores de bits empacotados, um ponteiro para uma estrutura que contém dados adicionais e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="c4389-148">A message parameter can contain an integer, packed bit flags, a pointer to a structure containing additional data, and so on.</span></span> <span data-ttu-id="c4389-149">Quando uma mensagem não usa parâmetros de mensagem, elas normalmente são definidas como **NULL**.</span><span class="sxs-lookup"><span data-stu-id="c4389-149">When a message does not use message parameters, they are typically set to **NULL**.</span></span> <span data-ttu-id="c4389-150">Um procedimento de janela deve verificar o identificador da mensagem para determinar como interpretar os parâmetros da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-150">A window procedure must check the message identifier to determine how to interpret the message parameters.</span></span>

## <a name="message-types"></a><span data-ttu-id="c4389-151">Tipos de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-151">Message Types</span></span>

<span data-ttu-id="c4389-152">Esta seção descreve os dois tipos de mensagens:</span><span class="sxs-lookup"><span data-stu-id="c4389-152">This section describes the two types of messages:</span></span>

-   [<span data-ttu-id="c4389-153">Mensagens definidas pelo sistema</span><span class="sxs-lookup"><span data-stu-id="c4389-153">System-Defined Messages</span></span>](#system-defined-messages)
-   [<span data-ttu-id="c4389-154">Mensagens definidas pelo aplicativo</span><span class="sxs-lookup"><span data-stu-id="c4389-154">Application-Defined Messages</span></span>](#application-defined-messages)

### <a name="system-defined-messages"></a><span data-ttu-id="c4389-155">System-Defined mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-155">System-Defined Messages</span></span>

<span data-ttu-id="c4389-156">O sistema envia ou posta uma *mensagem definida pelo sistema* quando se comunica com um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-156">The system sends or posts a *system-defined message* when it communicates with an application.</span></span> <span data-ttu-id="c4389-157">Ele usa essas mensagens para controlar as operações de aplicativos e fornecer entradas e outras informações para que os aplicativos sejam processados.</span><span class="sxs-lookup"><span data-stu-id="c4389-157">It uses these messages to control the operations of applications and to provide input and other information for applications to process.</span></span> <span data-ttu-id="c4389-158">Um aplicativo também pode enviar ou postar mensagens definidas pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-158">An application can also send or post system-defined messages.</span></span> <span data-ttu-id="c4389-159">Os aplicativos geralmente usam essas mensagens para controlar a operação de janelas de controle criadas usando classes de janela preregistradas.</span><span class="sxs-lookup"><span data-stu-id="c4389-159">Applications generally use these messages to control the operation of control windows created by using preregistered window classes.</span></span>

<span data-ttu-id="c4389-160">Cada mensagem definida pelo sistema tem um identificador de mensagem exclusivo e uma constante simbólica correspondente (definida nos arquivos de cabeçalho Software Development Kit (SDK)) que indica a finalidade da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-160">Each system-defined message has a unique message identifier and a corresponding symbolic constant (defined in the software development kit (SDK) header files) that states the purpose of the message.</span></span> <span data-ttu-id="c4389-161">Por exemplo, a constante de [**\_ pintura do WM**](/windows/desktop/gdi/wm-paint) solicita que uma janela Pinte seu conteúdo.</span><span class="sxs-lookup"><span data-stu-id="c4389-161">For example, the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) constant requests that a window paint its contents.</span></span>

<span data-ttu-id="c4389-162">As constantes simbólicas especificam a categoria à qual as mensagens definidas pelo sistema pertencem.</span><span class="sxs-lookup"><span data-stu-id="c4389-162">Symbolic constants specify the category to which system-defined messages belong.</span></span> <span data-ttu-id="c4389-163">O prefixo da constante identifica o tipo de janela que pode interpretar e processar a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-163">The prefix of the constant identifies the type of window that can interpret and process the message.</span></span> <span data-ttu-id="c4389-164">A seguir estão os prefixos e suas categorias de mensagens relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c4389-164">Following are the prefixes and their related message categories.</span></span>



| <span data-ttu-id="c4389-165">Prefixo</span><span class="sxs-lookup"><span data-stu-id="c4389-165">Prefix</span></span>                               | <span data-ttu-id="c4389-166">Categoria da mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-166">Message category</span></span>             | <span data-ttu-id="c4389-167">Documentação</span><span class="sxs-lookup"><span data-stu-id="c4389-167">Documentation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|--------------------------------------|------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="c4389-168">**ABM** e **ABN**</span><span class="sxs-lookup"><span data-stu-id="c4389-168">**ABM** and **ABN**</span></span>                  | <span data-ttu-id="c4389-169">Barra de ferramentas do aplicativo de desktop</span><span class="sxs-lookup"><span data-stu-id="c4389-169">Application desktop toolbar</span></span>  | [<span data-ttu-id="c4389-170">Mensagens e notificações do Shell</span><span class="sxs-lookup"><span data-stu-id="c4389-170">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="c4389-171">**ACM** e **ACN**</span><span class="sxs-lookup"><span data-stu-id="c4389-171">**ACM** and **ACN**</span></span>                  | <span data-ttu-id="c4389-172">Controle de animação</span><span class="sxs-lookup"><span data-stu-id="c4389-172">Animation control</span></span>            | <span data-ttu-id="c4389-173">[Mensagens de controle de animação](/windows/desktop/Controls/bumper-animation-control-reference-messages) e [notificações de controle de animação](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-173">[Animation Control Messages](/windows/desktop/Controls/bumper-animation-control-reference-messages) and [Animation Control Notifications](/windows/desktop/Controls/bumper-animation-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c4389-174">**BCM**, **BCN**, **BM** e **bilhão**</span><span class="sxs-lookup"><span data-stu-id="c4389-174">**BCM**, **BCN**, **BM**, and **BN**</span></span> | <span data-ttu-id="c4389-175">Controle de botão</span><span class="sxs-lookup"><span data-stu-id="c4389-175">Button control</span></span>               | <span data-ttu-id="c4389-176">[Mensagens de controle](/windows/desktop/Controls/bumper-button-control-reference-messages) de botão e [notificações de controle de botão](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-176">[Button Control Messages](/windows/desktop/Controls/bumper-button-control-reference-messages) and [Button Control Notifications](/windows/desktop/Controls/bumper-button-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-177">**CB** e **CBN**</span><span class="sxs-lookup"><span data-stu-id="c4389-177">**CB** and **CBN**</span></span>                   | <span data-ttu-id="c4389-178">Controle ComboBox</span><span class="sxs-lookup"><span data-stu-id="c4389-178">ComboBox control</span></span>             | <span data-ttu-id="c4389-179">[Mensagens de controle](/windows/desktop/Controls/bumper-combobox-control-reference-messages) de ComboBox e [notificações de controle de ComboBox](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-179">[ComboBox Control Messages](/windows/desktop/Controls/bumper-combobox-control-reference-messages) and [ComboBox Control Notifications](/windows/desktop/Controls/bumper-combobox-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c4389-180">**CBEM** e **CBEN**</span><span class="sxs-lookup"><span data-stu-id="c4389-180">**CBEM** and **CBEN**</span></span>                | <span data-ttu-id="c4389-181">Controle ComboBoxEx</span><span class="sxs-lookup"><span data-stu-id="c4389-181">ComboBoxEx control</span></span>           | <span data-ttu-id="c4389-182">[Mensagens ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) e [notificações de ComboBoxEx](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-182">[ComboBoxEx Messages](/windows/desktop/Controls/bumper-comboboxex-control-reference-messages) and [ComboBoxEx Notifications](/windows/desktop/Controls/bumper-comboboxex-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-183">**CCM**</span><span class="sxs-lookup"><span data-stu-id="c4389-183">**CCM**</span></span>                              | <span data-ttu-id="c4389-184">Controle geral</span><span class="sxs-lookup"><span data-stu-id="c4389-184">General control</span></span>              | [<span data-ttu-id="c4389-185">Mensagens de controle</span><span class="sxs-lookup"><span data-stu-id="c4389-185">Control Messages</span></span>](/windows/desktop/Controls/bumper-general-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="c4389-186">**CDM**</span><span class="sxs-lookup"><span data-stu-id="c4389-186">**CDM**</span></span>                              | <span data-ttu-id="c4389-187">Caixa de diálogo comum</span><span class="sxs-lookup"><span data-stu-id="c4389-187">Common dialog box</span></span>            | [<span data-ttu-id="c4389-188">Mensagens comuns da caixa de diálogo</span><span class="sxs-lookup"><span data-stu-id="c4389-188">Common Dialog Box Messages</span></span>](/windows/desktop/dlgbox/common-dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c4389-189">**DFM**</span><span class="sxs-lookup"><span data-stu-id="c4389-189">**DFM**</span></span>                              | <span data-ttu-id="c4389-190">Menu de contexto padrão</span><span class="sxs-lookup"><span data-stu-id="c4389-190">Default context menu</span></span>         | [<span data-ttu-id="c4389-191">Mensagens e notificações do Shell</span><span class="sxs-lookup"><span data-stu-id="c4389-191">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="c4389-192">**DL**</span><span class="sxs-lookup"><span data-stu-id="c4389-192">**DL**</span></span>                               | <span data-ttu-id="c4389-193">Caixa de listagem de arrastar</span><span class="sxs-lookup"><span data-stu-id="c4389-193">Drag list box</span></span>                | <span data-ttu-id="c4389-194">[Arrastar notificações da caixa de listagem](/previous-versions//ff485914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c4389-194">[Drag List Box Notifications](/previous-versions//ff485914(v=vs.85))</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="c4389-195">**DM**</span><span class="sxs-lookup"><span data-stu-id="c4389-195">**DM**</span></span>                               | <span data-ttu-id="c4389-196">Controle de botão de ação padrão</span><span class="sxs-lookup"><span data-stu-id="c4389-196">Default push button control</span></span>  | [<span data-ttu-id="c4389-197">Mensagens da caixa de diálogo</span><span class="sxs-lookup"><span data-stu-id="c4389-197">Dialog Box Messages</span></span>](/windows/desktop/dlgbox/dialog-box-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="c4389-198">**DTM** e **DTN**</span><span class="sxs-lookup"><span data-stu-id="c4389-198">**DTM** and **DTN**</span></span>                  | <span data-ttu-id="c4389-199">Controle de seletor de data e hora</span><span class="sxs-lookup"><span data-stu-id="c4389-199">Date and time picker control</span></span> | <span data-ttu-id="c4389-200">[Mensagens do seletor de data e hora](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) e [notificações de seletor de data e hora](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-200">[Date and Time Picker Messages](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-messages) and [Date and Time Picker Notifications](/windows/desktop/Controls/bumper-date-and-time-picker-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c4389-201">**Em** e **en**</span><span class="sxs-lookup"><span data-stu-id="c4389-201">**EM** and **EN**</span></span>                    | <span data-ttu-id="c4389-202">Controle de edição</span><span class="sxs-lookup"><span data-stu-id="c4389-202">Edit control</span></span>                 | <span data-ttu-id="c4389-203">[Editar mensagens de controle](/windows/desktop/Controls/bumper-edit-control-reference-messages), [Editar notificações de controle](/windows/desktop/Controls/bumper-edit-control-reference-notifications), mensagens de [edição avançadas](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages)e [notificações de edição avançadas](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-203">[Edit Control Messages](/windows/desktop/Controls/bumper-edit-control-reference-messages), [Edit Control Notifications](/windows/desktop/Controls/bumper-edit-control-reference-notifications), [Rich Edit Messages](/windows/desktop/Controls/bumper-rich-edit-control-reference-messages), and [Rich Edit Notifications](/windows/desktop/Controls/bumper-rich-edit-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="c4389-204">**HDM** e **HDN**</span><span class="sxs-lookup"><span data-stu-id="c4389-204">**HDM** and **HDN**</span></span>                  | <span data-ttu-id="c4389-205">Controle de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="c4389-205">Header control</span></span>               | <span data-ttu-id="c4389-206">[Mensagens de controle de cabeçalho](/windows/desktop/Controls/bumper-header-control-reference-messages) e [notificações de controle de cabeçalho](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-206">[Header Control Messages](/windows/desktop/Controls/bumper-header-control-reference-messages) and [Header Control Notifications](/windows/desktop/Controls/bumper-header-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-207">**HKM**</span><span class="sxs-lookup"><span data-stu-id="c4389-207">**HKM**</span></span>                              | <span data-ttu-id="c4389-208">Controle de teclas de acesso</span><span class="sxs-lookup"><span data-stu-id="c4389-208">Hot key control</span></span>              | [<span data-ttu-id="c4389-209">Mensagens de controle de tecla quente</span><span class="sxs-lookup"><span data-stu-id="c4389-209">Hot Key Control Messages</span></span>](/windows/desktop/Controls/bumper-hot-key-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="c4389-210">**IPM** e **IPN**</span><span class="sxs-lookup"><span data-stu-id="c4389-210">**IPM** and **IPN**</span></span>                  | <span data-ttu-id="c4389-211">Controle de endereço IP</span><span class="sxs-lookup"><span data-stu-id="c4389-211">IP address control</span></span>           | <span data-ttu-id="c4389-212">[Mensagens de endereço IP](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) e [notificações de endereço IP](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-212">[IP Address Messages](/windows/desktop/Controls/bumper-ip-address-control-reference-messages) and [IP Address Notifications](/windows/desktop/Controls/bumper-ip-address-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-213">**Lb** e **lbn**</span><span class="sxs-lookup"><span data-stu-id="c4389-213">**LB** and **LBN**</span></span>                   | <span data-ttu-id="c4389-214">Controle de caixa de listagem</span><span class="sxs-lookup"><span data-stu-id="c4389-214">List box control</span></span>             | <span data-ttu-id="c4389-215">[Mensagens da caixa de listagem](/windows/desktop/Controls/bumper-list-box-control-reference-messages) e [notificações da caixa de listagem](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-215">[List Box Messages](/windows/desktop/Controls/bumper-list-box-control-reference-messages) and [List Box Notifications](/windows/desktop/Controls/bumper-list-box-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c4389-216">**LM**</span><span class="sxs-lookup"><span data-stu-id="c4389-216">**LM**</span></span>                               | <span data-ttu-id="c4389-217">Controle SysLink</span><span class="sxs-lookup"><span data-stu-id="c4389-217">SysLink control</span></span>              | [<span data-ttu-id="c4389-218">Mensagens de controle de SysLink</span><span class="sxs-lookup"><span data-stu-id="c4389-218">SysLink Control Messages</span></span>](/windows/desktop/Controls/bumper-syslink-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="c4389-219">**LVM** e **LVN**</span><span class="sxs-lookup"><span data-stu-id="c4389-219">**LVM** and **LVN**</span></span>                  | <span data-ttu-id="c4389-220">Controle de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="c4389-220">List view control</span></span>            | <span data-ttu-id="c4389-221">[Mensagens de exibição de lista](/windows/desktop/Controls/bumper-list-view-control-reference-messages) e [notificações de exibição de lista](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-221">[List View Messages](/windows/desktop/Controls/bumper-list-view-control-reference-messages) and [List View Notifications](/windows/desktop/Controls/bumper-list-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c4389-222">**MCM** e **MCN**</span><span class="sxs-lookup"><span data-stu-id="c4389-222">**MCM** and **MCN**</span></span>                  | <span data-ttu-id="c4389-223">Controle de calendário mensal</span><span class="sxs-lookup"><span data-stu-id="c4389-223">Month calendar control</span></span>       | <span data-ttu-id="c4389-224">[Mensagens do calendário mensal](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) e [notificações de calendário mensal](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-224">[Month Calendar Messages](/windows/desktop/Controls/bumper-month-calendar-control-reference-messages) and [Month Calendar Notifications](/windows/desktop/Controls/bumper-month-calendar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-225">**PBM**</span><span class="sxs-lookup"><span data-stu-id="c4389-225">**PBM**</span></span>                              | <span data-ttu-id="c4389-226">Barra de progresso</span><span class="sxs-lookup"><span data-stu-id="c4389-226">Progress bar</span></span>                 | [<span data-ttu-id="c4389-227">Mensagens da barra de progresso</span><span class="sxs-lookup"><span data-stu-id="c4389-227">Progress Bar Messages</span></span>](/windows/desktop/Controls/bumper-progress-bar-control-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="c4389-228">**PGM** e **PGN**</span><span class="sxs-lookup"><span data-stu-id="c4389-228">**PGM** and **PGN**</span></span>                  | <span data-ttu-id="c4389-229">Controle de pager</span><span class="sxs-lookup"><span data-stu-id="c4389-229">Pager control</span></span>                | <span data-ttu-id="c4389-230">[Mensagens de controle de pager](/windows/desktop/Controls/bumper-pager-control-reference-messages) e [notificações de controle de pager](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-230">[Pager Control Messages](/windows/desktop/Controls/bumper-pager-control-reference-messages) and [Pager Control Notifications](/windows/desktop/Controls/bumper-pager-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c4389-231">**PSM** e **PSN**</span><span class="sxs-lookup"><span data-stu-id="c4389-231">**PSM** and **PSN**</span></span>                  | <span data-ttu-id="c4389-232">Folha de propriedades</span><span class="sxs-lookup"><span data-stu-id="c4389-232">Property sheet</span></span>               | <span data-ttu-id="c4389-233">[Mensagens da folha de propriedades](/windows/desktop/Controls/bumper-property-sheets-reference-messages) e [notificações da folha de propriedades](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-233">[Property Sheet Messages](/windows/desktop/Controls/bumper-property-sheets-reference-messages) and [Property Sheet Notifications](/windows/desktop/Controls/bumper-property-sheets-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="c4389-234">**RB** e **RBN**</span><span class="sxs-lookup"><span data-stu-id="c4389-234">**RB** and **RBN**</span></span>                   | <span data-ttu-id="c4389-235">Controle rebar</span><span class="sxs-lookup"><span data-stu-id="c4389-235">Rebar control</span></span>                | <span data-ttu-id="c4389-236">[Mensagens de controle rebar](/windows/desktop/Controls/bumper-rebar-control-reference-messages) e [notificações de controle rebar](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-236">[Rebar Control Messages](/windows/desktop/Controls/bumper-rebar-control-reference-messages) and [Rebar Control Notifications](/windows/desktop/Controls/bumper-rebar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c4389-237">**SB** e **SBN**</span><span class="sxs-lookup"><span data-stu-id="c4389-237">**SB** and **SBN**</span></span>                   | <span data-ttu-id="c4389-238">Janela de barra de status</span><span class="sxs-lookup"><span data-stu-id="c4389-238">Status bar window</span></span>            | <span data-ttu-id="c4389-239">[Mensagens da barra de status](/windows/desktop/Controls/bumper-status-bars-reference-messages) e [notificações da barra de status](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-239">[Status Bar Messages](/windows/desktop/Controls/bumper-status-bars-reference-messages) and [Status Bar Notifications](/windows/desktop/Controls/bumper-status-bars-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="c4389-240">**SBM**</span><span class="sxs-lookup"><span data-stu-id="c4389-240">**SBM**</span></span>                              | <span data-ttu-id="c4389-241">Controle da barra de rolagem</span><span class="sxs-lookup"><span data-stu-id="c4389-241">Scroll bar control</span></span>           | [<span data-ttu-id="c4389-242">Mensagens da barra de rolagem</span><span class="sxs-lookup"><span data-stu-id="c4389-242">Scroll Bar Messages</span></span>](/windows/desktop/Controls/bumper-scroll-bars-reference-messages)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span data-ttu-id="c4389-243">**SMC**</span><span class="sxs-lookup"><span data-stu-id="c4389-243">**SMC**</span></span>                              | <span data-ttu-id="c4389-244">Menu do Shell</span><span class="sxs-lookup"><span data-stu-id="c4389-244">Shell menu</span></span>                   | [<span data-ttu-id="c4389-245">Mensagens e notificações do Shell</span><span class="sxs-lookup"><span data-stu-id="c4389-245">Shell Messages and Notifications</span></span>](/windows/desktop/shell/control-panel-applications)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="c4389-246">**STM** e **STN**</span><span class="sxs-lookup"><span data-stu-id="c4389-246">**STM** and **STN**</span></span>                  | <span data-ttu-id="c4389-247">Controle estático</span><span class="sxs-lookup"><span data-stu-id="c4389-247">Static control</span></span>               | <span data-ttu-id="c4389-248">[Mensagens de controle estático](/windows/desktop/Controls/bumper-static-control-reference-messages) e [notificações de controle estático](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-248">[Static Control Messages](/windows/desktop/Controls/bumper-static-control-reference-messages) and [Static Control Notifications](/windows/desktop/Controls/bumper-static-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="c4389-249">**TB** e **tbn**</span><span class="sxs-lookup"><span data-stu-id="c4389-249">**TB** and **TBN**</span></span>                   | <span data-ttu-id="c4389-250">Barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="c4389-250">Toolbar</span></span>                      | <span data-ttu-id="c4389-251">[Mensagens de controle](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) da barra de ferramentas e [notificações de controle Toolbar](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-251">[Toolbar Control Messages](/windows/desktop/Controls/bumper-toolbar-control-reference-messages) and [Toolbar Control Notifications](/windows/desktop/Controls/bumper-toolbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c4389-252">**Tbm** e **TRBN**</span><span class="sxs-lookup"><span data-stu-id="c4389-252">**TBM** and **TRBN**</span></span>                 | <span data-ttu-id="c4389-253">Controle TrackBar</span><span class="sxs-lookup"><span data-stu-id="c4389-253">Trackbar control</span></span>             | <span data-ttu-id="c4389-254">[Mensagens de controle de TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) e [notificações de controle de TrackBar](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-254">[Trackbar Control Messages](/windows/desktop/Controls/bumper-trackbar-control-reference-messages) and [Trackbar Control Notifications](/windows/desktop/Controls/bumper-trackbar-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c4389-255">**TCM** e **TCN**</span><span class="sxs-lookup"><span data-stu-id="c4389-255">**TCM** and **TCN**</span></span>                  | <span data-ttu-id="c4389-256">Controle guia</span><span class="sxs-lookup"><span data-stu-id="c4389-256">Tab control</span></span>                  | <span data-ttu-id="c4389-257">[Mensagens de controle de guia](/windows/desktop/Controls/bumper-tab-control-reference-messages) e [notificações de controle de guia](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-257">[Tab Control Messages](/windows/desktop/Controls/bumper-tab-control-reference-messages) and [Tab Control Notifications](/windows/desktop/Controls/bumper-tab-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c4389-258">**TDM** e **TDN**</span><span class="sxs-lookup"><span data-stu-id="c4389-258">**TDM** and **TDN**</span></span>                  | <span data-ttu-id="c4389-259">Caixa de diálogo tarefa</span><span class="sxs-lookup"><span data-stu-id="c4389-259">Task dialog</span></span>                  | <span data-ttu-id="c4389-260">[Mensagens de diálogo de tarefa](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) e [notificações da caixa de diálogo](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications) de tarefa</span><span class="sxs-lookup"><span data-stu-id="c4389-260">[Task Dialog Messages](/windows/desktop/Controls/bumper-task-dialogs-reference-messages) and [Task Dialog Notifications](/windows/desktop/Controls/bumper-task-dialogs-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="c4389-261">**TTM** e **TTN**</span><span class="sxs-lookup"><span data-stu-id="c4389-261">**TTM** and **TTN**</span></span>                  | <span data-ttu-id="c4389-262">Controle ToolTip</span><span class="sxs-lookup"><span data-stu-id="c4389-262">Tooltip control</span></span>              | <span data-ttu-id="c4389-263">[Mensagens de controle ToolTip](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) e [notificações de controle de dica de ferramenta](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-263">[Tooltip Control Messages](/windows/desktop/Controls/bumper-tooltip-control-reference-messages) and [Tooltip Control Notifications](/windows/desktop/Controls/bumper-tooltip-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c4389-264">**TVM** e **TVN**</span><span class="sxs-lookup"><span data-stu-id="c4389-264">**TVM** and **TVN**</span></span>                  | <span data-ttu-id="c4389-265">Controle de exibição de árvore</span><span class="sxs-lookup"><span data-stu-id="c4389-265">Tree-view control</span></span>            | <span data-ttu-id="c4389-266">[Mensagens de exibição de árvore](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) e [notificações de exibição de árvore](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications)</span><span class="sxs-lookup"><span data-stu-id="c4389-266">[Tree View Messages](/windows/desktop/Controls/bumper-tree-view-control-reference-messages) and [Tree View Notifications](/windows/desktop/Controls/bumper-tree-view-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="c4389-267">**UDM** e **UDN**</span><span class="sxs-lookup"><span data-stu-id="c4389-267">**UDM** and **UDN**</span></span>                  | <span data-ttu-id="c4389-268">Controle de cima para baixo</span><span class="sxs-lookup"><span data-stu-id="c4389-268">Up-down control</span></span>              | <span data-ttu-id="c4389-269">[Mensagens](/windows/desktop/Controls/bumper-up-down-control-reference-messages) e [notificações de cima](/windows/desktop/Controls/bumper-up-down-control-reference-notifications) para baixo</span><span class="sxs-lookup"><span data-stu-id="c4389-269">[Up-Down Messages](/windows/desktop/Controls/bumper-up-down-control-reference-messages) and [Up-Down Notifications](/windows/desktop/Controls/bumper-up-down-control-reference-notifications)</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c4389-270">**WM**</span><span class="sxs-lookup"><span data-stu-id="c4389-270">**WM**</span></span>                               | <span data-ttu-id="c4389-271">Geral</span><span class="sxs-lookup"><span data-stu-id="c4389-271">General</span></span>                      | <dl> <span data-ttu-id="c4389-272"><dt>[Mensagens da área de transferência](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[notificações de área](/windows/desktop/dataxchg/clipboard-notifications)</dt> de transferência caixa de <dt>[diálogo comum](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> notificações de <dt>[cursor](/windows/desktop/menurc/cursor-notifications)</dt> mensagens de cópia de <dt>[mensagem](/windows/desktop/dataxchg/wm-copydata)</dt> <dt>[Gerenciador de Janelas da Área de Trabalho mensagens](/windows/desktop/dwm/dwm-messages)</dt> caixa de diálogo mensagens de gerenciamento de <dt>[dispositivos](/windows/desktop/DevIO/device-management-messages)</dt> <dt>[notificações](/windows/desktop/dlgbox/dialog-box-notifications)</dt> <dt>[troca dinâmica de dados mensagens](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[troca dinâmica de dados notificações](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[Hook notificações](hook-notifications.md)</dt> <dt>[teclado acelerador de mensagens](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> <dt>[notificações](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[de entrada](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[de teclado](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[mensagens de entradas](/windows/desktop/inputdev/keyboard-input-messages)</dt> <dt>[de teclado notificações](/windows/desktop/inputdev/keyboard-input-notifications)</dt> de entrada de <dt>[tela notificações de](/windows/desktop/menurc/menu-notifications)</dt> <dt>[timer](timer-notifications.md)</dt> <dt>[de entrada de](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[mensagens](window-messages.md)</dt> <dt>[](window-notifications.md)</dt> de <dt>[interface](multiple-document-interface-messages.md)</dt></span><span class="sxs-lookup"><span data-stu-id="c4389-272"><dt>[Clipboard Messages](/windows/desktop/dataxchg/clipboard-messages)</dt> <dt>[Clipboard Notifications](/windows/desktop/dataxchg/clipboard-notifications)</dt> <dt>[Common Dialog Box Notifications](/windows/desktop/dlgbox/common-dialog-box-notifications)</dt> <dt>[Cursor Notifications](/windows/desktop/menurc/cursor-notifications)</dt> <dt>[Data Copy Message](/windows/desktop/dataxchg/wm-copydata)</dt> <dt>[Desktop Window Manager Messages](/windows/desktop/dwm/dwm-messages)</dt> <dt>[Device Management Messages](/windows/desktop/DevIO/device-management-messages)</dt> <dt>[Dialog Box Notifications](/windows/desktop/dlgbox/dialog-box-notifications)</dt> <dt>[Dynamic Data Exchange Messages](/windows/desktop/dataxchg/dynamic-data-exchange-messages)</dt> <dt>[Dynamic Data Exchange Notifications](/windows/desktop/dataxchg/dynamic-data-exchange-notifications)</dt> <dt>[Hook Notifications](hook-notifications.md)</dt> <dt>[Keyboard Accelerator Messages](/windows/desktop/menurc/keyboard-accelerator-messages)</dt> <dt>[Keyboard Accelerator Notifications](/windows/desktop/menurc/keyboard-accelerator-notifications)</dt> <dt>[Keyboard Input Messages](/windows/desktop/inputdev/keyboard-input-messages)</dt> <dt>[Keyboard Input Notifications](/windows/desktop/inputdev/keyboard-input-notifications)</dt> <dt>[Menu Notifications](/windows/desktop/menurc/menu-notifications)</dt> <dt>[Mouse Input Notifications](/windows/desktop/inputdev/mouse-input-notifications)</dt> <dt>[Multiple Document Interface Messages](multiple-document-interface-messages.md)</dt> <dt>[Raw Input Notifications](/windows/desktop/inputdev/raw-input-notifications)</dt> <dt>[Scroll Bar Notifications](/windows/desktop/Controls/bumper-scroll-bars-reference-notifications)</dt> <dt>[Timer Notifications](timer-notifications.md)</dt> <dt>[Window Messages](window-messages.md)</dt> <dt>[Window Notifications](window-notifications.md)</dt></span></span> </dl> |



 

<span data-ttu-id="c4389-273">As mensagens de janela geral abrangem uma ampla gama de informações e solicitações, incluindo mensagens de entrada de mouse e teclado, entrada de menu e caixa de diálogo, criação e gerenciamento de janelas e troca dinâmica de dados (DDE).</span><span class="sxs-lookup"><span data-stu-id="c4389-273">General window messages cover a wide range of information and requests, including messages for mouse and keyboard input, menu and dialog box input, window creation and management, and Dynamic Data Exchange (DDE).</span></span>

### <a name="application-defined-messages"></a><span data-ttu-id="c4389-274">Application-Defined mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-274">Application-Defined Messages</span></span>

<span data-ttu-id="c4389-275">Um aplicativo pode criar mensagens a serem usadas por seu próprio Windows ou para se comunicar com o Windows em outros processos.</span><span class="sxs-lookup"><span data-stu-id="c4389-275">An application can create messages to be used by its own windows or to communicate with windows in other processes.</span></span> <span data-ttu-id="c4389-276">Se um aplicativo cria suas próprias mensagens, o procedimento de janela que as recebe deve interpretar as mensagens e fornecer o processamento apropriado.</span><span class="sxs-lookup"><span data-stu-id="c4389-276">If an application creates its own messages, the window procedure that receives them must interpret the messages and provide appropriate processing.</span></span>

<span data-ttu-id="c4389-277">Os valores de identificador de mensagem são usados da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="c4389-277">Message-identifier values are used as follows:</span></span>

-   <span data-ttu-id="c4389-278">O sistema reserva valores de identificador de mensagem no intervalo de 0x0000 por meio de 0x03FF (o valor do [**\_ usuário do WM**](wm-user.md)  – 1) para mensagens definidas pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-278">The system reserves message-identifier values in the range 0x0000 through 0x03FF (the value of [**WM\_USER**](wm-user.md)  – 1) for system-defined messages.</span></span> <span data-ttu-id="c4389-279">Os aplicativos não podem usar esses valores para mensagens privadas.</span><span class="sxs-lookup"><span data-stu-id="c4389-279">Applications cannot use these values for private messages.</span></span>
-   <span data-ttu-id="c4389-280">Os valores no intervalo 0x0400 (o valor do [**\_ usuário do WM**](wm-user.md)) por meio de 0x7FFF estão disponíveis para identificadores de mensagem para classes de janela privada.</span><span class="sxs-lookup"><span data-stu-id="c4389-280">Values in the range 0x0400 (the value of [**WM\_USER**](wm-user.md)) through 0x7FFF are available for message identifiers for private window classes.</span></span>
-   <span data-ttu-id="c4389-281">Se seu aplicativo estiver marcado como versão 4,0, você poderá usar valores de identificador de mensagem no intervalo 0x8000 [**( \_ aplicativo do WM**](wm-app.md)) por meio de 0xBFFF para mensagens privadas.</span><span class="sxs-lookup"><span data-stu-id="c4389-281">If your application is marked version 4.0, you can use message-identifier values in the range 0x8000 ([**WM\_APP**](wm-app.md)) through 0xBFFF for private messages.</span></span>
-   <span data-ttu-id="c4389-282">O sistema retorna um identificador de mensagem no intervalo de 0xC000 a 0xFFFF quando um aplicativo chama a função [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) para registrar uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-282">The system returns a message identifier in the range 0xC000 through 0xFFFF when an application calls the [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea) function to register a message.</span></span> <span data-ttu-id="c4389-283">O identificador de mensagem retornado por essa função tem a garantia de ser exclusivo em todo o sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-283">The message identifier returned by this function is guaranteed to be unique throughout the system.</span></span> <span data-ttu-id="c4389-284">O uso dessa função evita conflitos que podem surgir se outros aplicativos usarem o mesmo identificador de mensagem para finalidades diferentes.</span><span class="sxs-lookup"><span data-stu-id="c4389-284">Use of this function prevents conflicts that can arise if other applications use the same message identifier for different purposes.</span></span>

## <a name="message-routing"></a><span data-ttu-id="c4389-285">Roteamento de mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-285">Message Routing</span></span>

<span data-ttu-id="c4389-286">O sistema usa dois métodos para rotear mensagens para um procedimento de janela: postar mensagens em uma fila de primeiro a entrar, primeiro a sair chamada de *fila de mensagens*, um objeto de memória definido pelo sistema que armazena temporariamente mensagens e enviando mensagens diretamente a um procedimento de janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-286">The system uses two methods to route messages to a window procedure: posting messages to a first-in, first-out queue called a *message queue*, a system-defined memory object that temporarily stores messages, and sending messages directly to a window procedure.</span></span>

<span data-ttu-id="c4389-287">As mensagens que são postadas em uma fila de mensagens são chamadas de *mensagem em fila*.</span><span class="sxs-lookup"><span data-stu-id="c4389-287">A messages that is posted to a message queue is called a *queued message*.</span></span> <span data-ttu-id="c4389-288">Esses são principalmente o resultado da entrada do usuário inserida por meio do mouse ou do teclado, como o [**WM \_ MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), o [**WM \_ LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), o [**WM \_ KEYDOWN**](/windows/desktop/inputdev/wm-keydown)e as mensagens do [**WM \_ Char**](/windows/desktop/inputdev/wm-char) .</span><span class="sxs-lookup"><span data-stu-id="c4389-288">These are primarily the result of user input entered through the mouse or keyboard, such as [**WM\_MOUSEMOVE**](/windows/desktop/inputdev/wm-mousemove), [**WM\_LBUTTONDOWN**](/windows/desktop/inputdev/wm-lbuttondown), [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown), and [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) messages.</span></span> <span data-ttu-id="c4389-289">Outras mensagens em fila incluem as mensagens timer, Paint e sair: o [**\_ temporizador do WM**](wm-timer.md), o [**WM \_ Paint**](/windows/desktop/gdi/wm-paint)e o [**WM \_ Quit**](wm-quit.md).</span><span class="sxs-lookup"><span data-stu-id="c4389-289">Other queued messages include the timer, paint, and quit messages: [**WM\_TIMER**](wm-timer.md), [**WM\_PAINT**](/windows/desktop/gdi/wm-paint), and [**WM\_QUIT**](wm-quit.md).</span></span> <span data-ttu-id="c4389-290">A maioria das outras mensagens, que são enviadas diretamente a um procedimento de janela, são chamadas de *mensagens não enfileiradas*.</span><span class="sxs-lookup"><span data-stu-id="c4389-290">Most other messages, which are sent directly to a window procedure, are called *nonqueued messages*.</span></span>

-   [<span data-ttu-id="c4389-291">Mensagens em fila</span><span class="sxs-lookup"><span data-stu-id="c4389-291">Queued Messages</span></span>](#queued-messages)
-   [<span data-ttu-id="c4389-292">Mensagens não enfileiradas</span><span class="sxs-lookup"><span data-stu-id="c4389-292">Nonqueued Messages</span></span>](#nonqueued-messages)

### <a name="queued-messages"></a><span data-ttu-id="c4389-293">Mensagens em fila</span><span class="sxs-lookup"><span data-stu-id="c4389-293">Queued Messages</span></span>

<span data-ttu-id="c4389-294">O sistema pode exibir qualquer número de janelas de cada vez.</span><span class="sxs-lookup"><span data-stu-id="c4389-294">The system can display any number of windows at a time.</span></span> <span data-ttu-id="c4389-295">Para rotear a entrada do mouse e do teclado para a janela apropriada, o sistema usa filas de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-295">To route mouse and keyboard input to the appropriate window, the system uses message queues.</span></span>

<span data-ttu-id="c4389-296">O sistema mantém uma única fila de mensagens do sistema e uma fila de mensagens específica do thread para cada thread de GUI.</span><span class="sxs-lookup"><span data-stu-id="c4389-296">The system maintains a single system message queue and one thread-specific message queue for each GUI thread.</span></span> <span data-ttu-id="c4389-297">Para evitar a sobrecarga de criar uma fila de mensagens para threads não-GUI, todos os threads são criados inicialmente sem uma fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-297">To avoid the overhead of creating a message queue for non–GUI threads, all threads are created initially without a message queue.</span></span> <span data-ttu-id="c4389-298">O sistema cria uma fila de mensagens específica do thread somente quando o thread faz sua primeira chamada para uma das funções de usuário específicas; nenhuma chamada de função de GUI resulta na criação de uma fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-298">The system creates a thread-specific message queue only when the thread makes its first call to one of the specific user functions; no GUI function calls result in the creation of a message queue.</span></span>

<span data-ttu-id="c4389-299">Sempre que o usuário move o mouse, clica nos botões do mouse ou tipos no teclado, o driver do dispositivo para o mouse ou o teclado converte a entrada em mensagens e os coloca na fila de mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-299">Whenever the user moves the mouse, clicks the mouse buttons, or types on the keyboard, the device driver for the mouse or keyboard converts the input into messages and places them in the system message queue.</span></span> <span data-ttu-id="c4389-300">O sistema remove as mensagens, uma de cada vez, da fila de mensagens do sistema, examina-as para determinar a janela de destino e, em seguida, as publica na fila de mensagens do thread que criou a janela de destino.</span><span class="sxs-lookup"><span data-stu-id="c4389-300">The system removes the messages, one at a time, from the system message queue, examines them to determine the destination window, and then posts them to the message queue of the thread that created the destination window.</span></span> <span data-ttu-id="c4389-301">A fila de mensagens de um thread recebe todas as mensagens de mouse e teclado para o Windows criado pelo thread.</span><span class="sxs-lookup"><span data-stu-id="c4389-301">A thread's message queue receives all mouse and keyboard messages for the windows created by the thread.</span></span> <span data-ttu-id="c4389-302">O thread remove mensagens de sua fila e direciona o sistema para enviá-las ao procedimento de janela apropriado para processamento.</span><span class="sxs-lookup"><span data-stu-id="c4389-302">The thread removes messages from its queue and directs the system to send them to the appropriate window procedure for processing.</span></span>

<span data-ttu-id="c4389-303">Com exceção da mensagem do [**WM \_ Paint**](/windows/desktop/gdi/wm-paint) , da mensagem [**do \_ temporizador do WM**](wm-timer.md) e da mensagem de [**\_ encerramento do WM**](wm-quit.md) , o sistema sempre posta mensagens no final de uma fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-303">With the exception of the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message, the [**WM\_TIMER**](wm-timer.md) message, and the [**WM\_QUIT**](wm-quit.md) message, the system always posts messages at the end of a message queue.</span></span> <span data-ttu-id="c4389-304">Isso garante que uma janela receba suas mensagens de entrada na sequência de PEPS (primeiro a entrar, primeiro a sair) correta.</span><span class="sxs-lookup"><span data-stu-id="c4389-304">This ensures that a window receives its input messages in the proper first in, first out (FIFO) sequence.</span></span> <span data-ttu-id="c4389-305">A mensagem do **WM \_ Paint** , a mensagem do **\_ temporizador do WM** e a mensagem de **\_ encerramento do WM** , no entanto, são mantidas na fila e são encaminhadas para o procedimento de janela somente quando a fila não contém outras mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-305">The **WM\_PAINT** message, the **WM\_TIMER** message, and the **WM\_QUIT** message, however, are kept in the queue and are forwarded to the window procedure only when the queue contains no other messages.</span></span> <span data-ttu-id="c4389-306">Além disso, várias mensagens de **\_ pintura do WM** para a mesma janela são combinadas em uma única mensagem de **\_ pintura do WM** , consolidando todas as partes inválidas da área do cliente em uma única área.</span><span class="sxs-lookup"><span data-stu-id="c4389-306">In addition, multiple **WM\_PAINT** messages for the same window are combined into a single **WM\_PAINT** message, consolidating all invalid parts of the client area into a single area.</span></span> <span data-ttu-id="c4389-307">A combinação de mensagens de **\_ pintura do WM** reduz o número de vezes que uma janela deve redesenhar o conteúdo de sua área de cliente.</span><span class="sxs-lookup"><span data-stu-id="c4389-307">Combining **WM\_PAINT** messages reduces the number of times a window must redraw the contents of its client area.</span></span>

<span data-ttu-id="c4389-308">O sistema posta uma mensagem na fila de mensagens de um thread preenchendo uma estrutura de [**msg**](/windows/win32/api/winuser/ns-winuser-msg) e, em seguida, copiando-a para a fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-308">The system posts a message to a thread's message queue by filling an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure and then copying it to the message queue.</span></span> <span data-ttu-id="c4389-309">As informações em **msg** incluem: o identificador da janela para a qual a mensagem é destinada, o identificador de mensagem, os dois parâmetros de mensagem, a hora em que a mensagem foi postada e a posição do cursor do mouse.</span><span class="sxs-lookup"><span data-stu-id="c4389-309">Information in **MSG** includes: the handle of the window for which the message is intended, the message identifier, the two message parameters, the time the message was posted, and the mouse cursor position.</span></span> <span data-ttu-id="c4389-310">Um thread pode postar uma mensagem em sua própria fila de mensagens ou na fila de outro thread usando a função [**CreateMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) ou [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-310">A thread can post a message to its own message queue or to the queue of another thread by using the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) or [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) function.</span></span>

<span data-ttu-id="c4389-311">Um aplicativo pode remover uma mensagem de sua fila usando a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .</span><span class="sxs-lookup"><span data-stu-id="c4389-311">An application can remove a message from its queue by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function.</span></span> <span data-ttu-id="c4389-312">Para examinar uma mensagem sem removê-la de sua fila, um aplicativo pode usar a função [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-312">To examine a message without removing it from its queue, an application can use the [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="c4389-313">Essa função preenche [**msg**](/windows/win32/api/winuser/ns-winuser-msg) com informações sobre a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-313">This function fills [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) with information about the message.</span></span>

<span data-ttu-id="c4389-314">Depois de remover uma mensagem de sua fila, um aplicativo pode usar a função [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) para instruir o sistema a enviar a mensagem a um procedimento de janela para processamento.</span><span class="sxs-lookup"><span data-stu-id="c4389-314">After removing a message from its queue, an application can use the [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function to direct the system to send the message to a window procedure for processing.</span></span> <span data-ttu-id="c4389-315">**DispatchMessage** usa um ponteiro para [**msg**](/windows/win32/api/winuser/ns-winuser-msg) que foi preenchido por uma chamada anterior para a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-315">**DispatchMessage** takes a pointer to [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) that was filled by a previous call to the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span> <span data-ttu-id="c4389-316">**DispatchMessage** passa o identificador de janela, o identificador de mensagem e os dois parâmetros de mensagem para o procedimento de janela, mas não passa a hora em que a mensagem foi postada ou a posição do cursor do mouse.</span><span class="sxs-lookup"><span data-stu-id="c4389-316">**DispatchMessage** passes the window handle, the message identifier, and the two message parameters to the window procedure, but it does not pass the time the message was posted or mouse cursor position.</span></span> <span data-ttu-id="c4389-317">Um aplicativo pode recuperar essas informações chamando as funções [**Getmessagetime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) e [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) ao processar uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-317">An application can retrieve this information by calling the [**GetMessageTime**](/windows/win32/api/winuser/nf-winuser-getmessagetime) and [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos) functions while processing a message.</span></span>

<span data-ttu-id="c4389-318">Um thread pode usar a função [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) para produzir controle para outros threads quando ele não tem mensagens em sua fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-318">A thread can use the [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) function to yield control to other threads when it has no messages in its message queue.</span></span> <span data-ttu-id="c4389-319">A função suspende o thread e não retorna até que uma nova mensagem seja colocada na fila de mensagens do thread.</span><span class="sxs-lookup"><span data-stu-id="c4389-319">The function suspends the thread and does not return until a new message is placed in the thread's message queue.</span></span>

<span data-ttu-id="c4389-320">Você pode chamar a função [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) para associar um valor à fila de mensagens do thread atual.</span><span class="sxs-lookup"><span data-stu-id="c4389-320">You can call the [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo) function to associate a value with the current thread's message queue.</span></span> <span data-ttu-id="c4389-321">Em seguida, chame a função [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) para obter o valor associado à última mensagem recuperada pela função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-321">Then call the [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) function to get the value associated with the last message retrieved by the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function.</span></span>

### <a name="nonqueued-messages"></a><span data-ttu-id="c4389-322">Mensagens não enfileiradas</span><span class="sxs-lookup"><span data-stu-id="c4389-322">Nonqueued Messages</span></span>

<span data-ttu-id="c4389-323">As mensagens não enfileiradas são enviadas imediatamente para o procedimento da janela de destino, ignorando a fila de mensagens do sistema e a fila de mensagens do thread.</span><span class="sxs-lookup"><span data-stu-id="c4389-323">Nonqueued messages are sent immediately to the destination window procedure, bypassing the system message queue and thread message queue.</span></span> <span data-ttu-id="c4389-324">O sistema normalmente envia mensagens não enfileiradas para notificar uma janela de eventos que o afetam.</span><span class="sxs-lookup"><span data-stu-id="c4389-324">The system typically sends nonqueued messages to notify a window of events that affect it.</span></span> <span data-ttu-id="c4389-325">Por exemplo, quando o usuário ativa uma nova janela de aplicativo, o sistema envia a janela uma série de mensagens, incluindo o [**WM \_ Activate**](/windows/desktop/inputdev/wm-activate), o [**WM \_ SETFOCUS**](/windows/desktop/inputdev/wm-setfocus)e o [**WM \_ SetCursor**](/windows/desktop/menurc/wm-setcursor).</span><span class="sxs-lookup"><span data-stu-id="c4389-325">For example, when the user activates a new application window, the system sends the window a series of messages, including [**WM\_ACTIVATE**](/windows/desktop/inputdev/wm-activate), [**WM\_SETFOCUS**](/windows/desktop/inputdev/wm-setfocus), and [**WM\_SETCURSOR**](/windows/desktop/menurc/wm-setcursor).</span></span> <span data-ttu-id="c4389-326">Essas mensagens notificam a janela que ela foi ativada, que a entrada do teclado está sendo direcionada para a janela e que o cursor do mouse foi movido dentro das bordas da janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-326">These messages notify the window that it has been activated, that keyboard input is being directed to the window, and that the mouse cursor has been moved within the borders of the window.</span></span> <span data-ttu-id="c4389-327">As mensagens não enfileiradas também podem resultar quando um aplicativo chama determinadas funções do sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-327">Nonqueued messages can also result when an application calls certain system functions.</span></span> <span data-ttu-id="c4389-328">Por exemplo, o sistema envia a mensagem do [**WM \_ WINDOWPOSCHANGED**](wm-windowposchanged.md) depois que um aplicativo usa a função [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) para mover uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-328">For example, the system sends the [**WM\_WINDOWPOSCHANGED**](wm-windowposchanged.md) message after an application uses the [**SetWindowPos**](/windows/win32/api/winuser/nf-winuser-setwindowpos) function to move a window.</span></span>

<span data-ttu-id="c4389-329">Algumas funções que enviam mensagens não enfileiradas são [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)e [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span><span class="sxs-lookup"><span data-stu-id="c4389-329">Some functions that send nonqueued messages are [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa), [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), and [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea).</span></span>

## <a name="message-handling"></a><span data-ttu-id="c4389-330">Manipulação de mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-330">Message Handling</span></span>

<span data-ttu-id="c4389-331">Um aplicativo deve remover e processar mensagens postadas nas filas de mensagens de seus threads.</span><span class="sxs-lookup"><span data-stu-id="c4389-331">An application must remove and process messages posted to the message queues of its threads.</span></span> <span data-ttu-id="c4389-332">Um aplicativo de thread único geralmente usa um *loop de mensagem* em sua função [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) para remover e enviar mensagens para os procedimentos de janela apropriados para processamento.</span><span class="sxs-lookup"><span data-stu-id="c4389-332">A single-threaded application usually uses a *message loop* in its [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) function to remove and send messages to the appropriate window procedures for processing.</span></span> <span data-ttu-id="c4389-333">Aplicativos com vários threads podem incluir um loop de mensagem em cada thread que cria uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-333">Applications with multiple threads can include a message loop in each thread that creates a window.</span></span> <span data-ttu-id="c4389-334">As seções a seguir descrevem como um loop de mensagem funciona e explicam a função de um procedimento de janela:</span><span class="sxs-lookup"><span data-stu-id="c4389-334">The following sections describe how a message loop works and explain the role of a window procedure:</span></span>

-   [<span data-ttu-id="c4389-335">Loop de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-335">Message Loop</span></span>](#message-loop)
-   [<span data-ttu-id="c4389-336">Procedimento de janela</span><span class="sxs-lookup"><span data-stu-id="c4389-336">Window Procedure</span></span>](#window-procedure)

### <a name="message-loop"></a><span data-ttu-id="c4389-337">Loop de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-337">Message Loop</span></span>

<span data-ttu-id="c4389-338">Um loop de mensagem simples consiste em uma chamada de função para cada uma dessas três funções: [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)e [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span><span class="sxs-lookup"><span data-stu-id="c4389-338">A simple message loop consists of one function call to each of these three functions: [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage), and [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage).</span></span> <span data-ttu-id="c4389-339">Observe que, se houver um erro, **GetMessage** retornará – 1, portanto, a necessidade do teste especial.</span><span class="sxs-lookup"><span data-stu-id="c4389-339">Note that if there is an error, **GetMessage** returns –1, thus the need for the special testing.</span></span>


```
MSG msg;
BOOL bRet;

while( (bRet = GetMessage( &msg, NULL, 0, 0 )) != 0)
{ 
    if (bRet == -1)
    {
        // handle the error and possibly exit
    }
    else
    {
        TranslateMessage(&msg); 
        DispatchMessage(&msg); 
    }
}
```



<span data-ttu-id="c4389-340">A função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) recupera uma mensagem da fila e a copia para uma estrutura do tipo [**msg**](/windows/win32/api/winuser/ns-winuser-msg).</span><span class="sxs-lookup"><span data-stu-id="c4389-340">The [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function retrieves a message from the queue and copies it to a structure of type [**MSG**](/windows/win32/api/winuser/ns-winuser-msg).</span></span> <span data-ttu-id="c4389-341">Ele retorna um valor diferente de zero, a menos que ele encontre a mensagem do [**WM \_ Quit**](wm-quit.md) ; nesse caso, ele retorna **false** e termina o loop.</span><span class="sxs-lookup"><span data-stu-id="c4389-341">It returns a nonzero value, unless it encounters the [**WM\_QUIT**](wm-quit.md) message, in which case it returns **FALSE** and ends the loop.</span></span> <span data-ttu-id="c4389-342">Em um aplicativo de thread único, finalizar o loop de mensagem é geralmente a primeira etapa no fechamento do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-342">In a single-threaded application, ending the message loop is often the first step in closing the application.</span></span> <span data-ttu-id="c4389-343">Um aplicativo pode encerrar seu próprio loop usando a função [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) , normalmente em resposta à mensagem de [**\_ destruição do WM**](wm-destroy.md) no procedimento de janela da janela principal do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-343">An application can end its own loop by using the [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage) function, typically in response to the [**WM\_DESTROY**](wm-destroy.md) message in the window procedure of the application's main window.</span></span>

<span data-ttu-id="c4389-344">Se você especificar um identificador de janela como o segundo parâmetro de [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), somente as mensagens para a janela especificada serão recuperadas da fila.</span><span class="sxs-lookup"><span data-stu-id="c4389-344">If you specify a window handle as the second parameter of [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), only messages for the specified window are retrieved from the queue.</span></span> <span data-ttu-id="c4389-345">**GetMessage** também pode filtrar mensagens na fila, recuperando somente as mensagens que se enquadram em um intervalo especificado.</span><span class="sxs-lookup"><span data-stu-id="c4389-345">**GetMessage** can also filter messages in the queue, retrieving only those messages that fall within a specified range.</span></span> <span data-ttu-id="c4389-346">Para obter mais informações sobre como filtrar mensagens, consulte [filtragem de mensagens](#message-filtering).</span><span class="sxs-lookup"><span data-stu-id="c4389-346">For more information about filtering messages, see [Message Filtering](#message-filtering).</span></span>

<span data-ttu-id="c4389-347">O loop de mensagem de um thread deve incluir [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) se o thread for receber a entrada de caracteres do teclado.</span><span class="sxs-lookup"><span data-stu-id="c4389-347">A thread's message loop must include [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage) if the thread is to receive character input from the keyboard.</span></span> <span data-ttu-id="c4389-348">O sistema gera mensagens de chave virtual ([**WM \_ KEYDOWN**](/windows/desktop/inputdev/wm-keydown) e [**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup)) sempre que o usuário pressiona uma tecla.</span><span class="sxs-lookup"><span data-stu-id="c4389-348">The system generates virtual-key messages ([**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown) and [**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup)) each time the user presses a key.</span></span> <span data-ttu-id="c4389-349">Uma mensagem de chave virtual contém um código de chave virtual que identifica qual chave foi pressionada, mas não seu valor de caractere.</span><span class="sxs-lookup"><span data-stu-id="c4389-349">A virtual-key message contains a virtual-key code that identifies which key was pressed, but not its character value.</span></span> <span data-ttu-id="c4389-350">Para recuperar esse valor, o loop de mensagem deve conter **TranslateMessage**, que traduz a mensagem de chave virtual em uma mensagem de caractere ([**WM \_ Char**](/windows/desktop/inputdev/wm-char)) e a coloca de volta na fila de mensagens do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-350">To retrieve this value, the message loop must contain **TranslateMessage**, which translates the virtual-key message into a character message ([**WM\_CHAR**](/windows/desktop/inputdev/wm-char)) and places it back into the application message queue.</span></span> <span data-ttu-id="c4389-351">A mensagem de caractere pode então ser removida em uma iteração subsequente do loop de mensagem e expedida para um procedimento de janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-351">The character message can then be removed upon a subsequent iteration of the message loop and dispatched to a window procedure.</span></span>

<span data-ttu-id="c4389-352">A função [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) envia uma mensagem para o procedimento de janela associado ao identificador de janela especificado na estrutura [**msg**](/windows/win32/api/winuser/ns-winuser-msg) .</span><span class="sxs-lookup"><span data-stu-id="c4389-352">The [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) function sends a message to the window procedure associated with the window handle specified in the [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure.</span></span> <span data-ttu-id="c4389-353">Se o identificador de janela for **HWND \_ superior**, **DispatchMessage** enviará a mensagem para os procedimentos de janela de todas as janelas de nível superior no sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-353">If the window handle is **HWND\_TOPMOST**, **DispatchMessage** sends the message to the window procedures of all top-level windows in the system.</span></span> <span data-ttu-id="c4389-354">Se o identificador de janela for **nulo**, o **DispatchMessage** não fará nada com a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-354">If the window handle is **NULL**, **DispatchMessage** does nothing with the message.</span></span>

<span data-ttu-id="c4389-355">O thread principal de um aplicativo inicia seu loop de mensagem depois de inicializar o aplicativo e criar pelo menos uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-355">An application's main thread starts its message loop after initializing the application and creating at least one window.</span></span> <span data-ttu-id="c4389-356">Depois de iniciado, o loop de mensagem continua recuperando mensagens da fila de mensagens do thread e para expedir para as janelas apropriadas.</span><span class="sxs-lookup"><span data-stu-id="c4389-356">After it is started, the message loop continues to retrieve messages from the thread's message queue and to dispatch them to the appropriate windows.</span></span> <span data-ttu-id="c4389-357">O loop de mensagem termina quando a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) remove a mensagem do [**WM \_ Quit**](wm-quit.md) da fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-357">The message loop ends when the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function removes the [**WM\_QUIT**](wm-quit.md) message from the message queue.</span></span>

<span data-ttu-id="c4389-358">Apenas um loop de mensagem é necessário para uma fila de mensagens, mesmo que um aplicativo contenha muitas janelas.</span><span class="sxs-lookup"><span data-stu-id="c4389-358">Only one message loop is needed for a message queue, even if an application contains many windows.</span></span> <span data-ttu-id="c4389-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) sempre despacha a mensagem para a janela apropriada; Isso ocorre porque cada mensagem na fila é uma estrutura de [**msg**](/windows/win32/api/winuser/ns-winuser-msg) que contém o identificador da janela à qual a mensagem pertence.</span><span class="sxs-lookup"><span data-stu-id="c4389-359">[**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage) always dispatches the message to the proper window; this is because each message in the queue is an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure that contains the handle of the window to which the message belongs.</span></span>

<span data-ttu-id="c4389-360">Você pode modificar um loop de mensagem de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="c4389-360">You can modify a message loop in a variety of ways.</span></span> <span data-ttu-id="c4389-361">Por exemplo, você pode recuperar mensagens da fila sem expedir para uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-361">For example, you can retrieve messages from the queue without dispatching them to a window.</span></span> <span data-ttu-id="c4389-362">Isso é útil para aplicativos que postam mensagens que não especificam uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-362">This is useful for applications that post messages not specifying a window.</span></span> <span data-ttu-id="c4389-363">Você também pode direcionar o [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) para pesquisar mensagens específicas, deixando outras mensagens na fila.</span><span class="sxs-lookup"><span data-stu-id="c4389-363">You can also direct [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) to search for specific messages, leaving other messages in the queue.</span></span> <span data-ttu-id="c4389-364">Isso será útil se você precisar ignorar temporariamente a ordem de FIFO usual da fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-364">This is useful if you must temporarily bypass the usual FIFO order of the message queue.</span></span>

<span data-ttu-id="c4389-365">Um aplicativo que usa teclas de aceleração deve ser capaz de converter mensagens de teclado em mensagens de comando.</span><span class="sxs-lookup"><span data-stu-id="c4389-365">An application that uses accelerator keys must be able to translate keyboard messages into command messages.</span></span> <span data-ttu-id="c4389-366">Para fazer isso, o loop de mensagem do aplicativo deve incluir uma chamada para a função [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) .</span><span class="sxs-lookup"><span data-stu-id="c4389-366">To do this, the application's message loop must include a call to the [**TranslateAccelerator**](/windows/desktop/api/winuser/nf-winuser-translateacceleratora) function.</span></span> <span data-ttu-id="c4389-367">Para obter mais informações sobre teclas de aceleração, consulte [aceleradores de teclado](/windows/desktop/menurc/keyboard-accelerators).</span><span class="sxs-lookup"><span data-stu-id="c4389-367">For more information about accelerator keys, see [Keyboard Accelerators](/windows/desktop/menurc/keyboard-accelerators).</span></span>

<span data-ttu-id="c4389-368">Se um thread usar uma caixa de diálogo sem janela restrita, o loop de mensagem deverá incluir a função [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) para que a caixa de diálogo possa receber entrada de teclado.</span><span class="sxs-lookup"><span data-stu-id="c4389-368">If a thread uses a modeless dialog box, the message loop must include the [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function so that the dialog box can receive keyboard input.</span></span>

### <a name="window-procedure"></a><span data-ttu-id="c4389-369">Procedimento de janela</span><span class="sxs-lookup"><span data-stu-id="c4389-369">Window Procedure</span></span>

<span data-ttu-id="c4389-370">Um procedimento de janela é uma função que recebe e processa todas as mensagens enviadas para a janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-370">A window procedure is a function that receives and processes all messages sent to the window.</span></span> <span data-ttu-id="c4389-371">Cada classe de janela tem um procedimento de janela, e cada janela criada com essa classe usa o mesmo procedimento de janela para responder às mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-371">Every window class has a window procedure, and every window created with that class uses that same window procedure to respond to messages.</span></span>

<span data-ttu-id="c4389-372">O sistema envia uma mensagem para um procedimento de janela passando os dados da mensagem como argumentos para o procedimento.</span><span class="sxs-lookup"><span data-stu-id="c4389-372">The system sends a message to a window procedure by passing the message data as arguments to the procedure.</span></span> <span data-ttu-id="c4389-373">Em seguida, o procedimento de janela executa uma ação apropriada para a mensagem; Ele verifica o identificador da mensagem e, ao processar a mensagem, usa as informações especificadas pelos parâmetros da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-373">The window procedure then performs an appropriate action for the message; it checks the message identifier and, while processing the message, uses the information specified by the message parameters.</span></span>

<span data-ttu-id="c4389-374">Um procedimento de janela geralmente não ignora uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-374">A window procedure does not usually ignore a message.</span></span> <span data-ttu-id="c4389-375">Se ele não processar uma mensagem, ele deverá enviar a mensagem de volta ao sistema para o processamento padrão.</span><span class="sxs-lookup"><span data-stu-id="c4389-375">If it does not process a message, it must send the message back to the system for default processing.</span></span> <span data-ttu-id="c4389-376">O procedimento de janela faz isso chamando a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) , que executa uma ação padrão e retorna um resultado de mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-376">The window procedure does this by calling the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function, which performs a default action and returns a message result.</span></span> <span data-ttu-id="c4389-377">O procedimento de janela deve retornar esse valor como seu próprio resultado de mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-377">The window procedure must then return this value as its own message result.</span></span> <span data-ttu-id="c4389-378">A maioria dos procedimentos de janela processa apenas algumas mensagens e passa as outras para o sistema chamando **DefWindowProc**.</span><span class="sxs-lookup"><span data-stu-id="c4389-378">Most window procedures process just a few messages and pass the others on to the system by calling **DefWindowProc**.</span></span>

<span data-ttu-id="c4389-379">Como um procedimento de janela é compartilhado por todas as janelas que pertencem à mesma classe, ele pode processar mensagens para várias janelas diferentes.</span><span class="sxs-lookup"><span data-stu-id="c4389-379">Because a window procedure is shared by all windows belonging to the same class, it can process messages for several different windows.</span></span> <span data-ttu-id="c4389-380">Para identificar a janela específica afetada pela mensagem, um procedimento de janela pode examinar o identificador de janela passado com uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-380">To identify the specific window affected by the message, a window procedure can examine the window handle passed with a message.</span></span> <span data-ttu-id="c4389-381">Para obter mais informações sobre procedimentos de janela, consulte [procedimentos de janela](window-procedures.md).</span><span class="sxs-lookup"><span data-stu-id="c4389-381">For more information about window procedures, see [Window Procedures](window-procedures.md).</span></span>

## <a name="message-filtering"></a><span data-ttu-id="c4389-382">Filtragem de Mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-382">Message Filtering</span></span>

<span data-ttu-id="c4389-383">Um aplicativo pode escolher mensagens específicas para recuperar da fila de mensagens (enquanto ignora outras mensagens) usando a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) para especificar um filtro de mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-383">An application can choose specific messages to retrieve from the message queue (while ignoring other messages) by using the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function to specify a message filter.</span></span> <span data-ttu-id="c4389-384">O filtro é um intervalo de identificadores de mensagens (especificado por um primeiro e último identificador), um identificador de janela ou ambos.</span><span class="sxs-lookup"><span data-stu-id="c4389-384">The filter is a range of message identifiers (specified by a first and last identifier), a window handle, or both.</span></span> <span data-ttu-id="c4389-385">**GetMessage** e **PeekMessage** usam um filtro de mensagem para selecionar quais mensagens recuperar da fila.</span><span class="sxs-lookup"><span data-stu-id="c4389-385">**GetMessage** and **PeekMessage** use a message filter to select which messages to retrieve from the queue.</span></span> <span data-ttu-id="c4389-386">A filtragem de mensagens será útil se um aplicativo precisar pesquisar as mensagens que chegaram mais tarde na fila na fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-386">Message filtering is useful if an application must search the message queue for messages that have arrived later in the queue.</span></span> <span data-ttu-id="c4389-387">Também será útil se um aplicativo precisar processar mensagens de entrada (hardware) antes de processar mensagens postadas.</span><span class="sxs-lookup"><span data-stu-id="c4389-387">It is also useful if an application must process input (hardware) messages before processing posted messages.</span></span>

<span data-ttu-id="c4389-388">As constantes do **WM \_ keyfirst** e do **WM \_ keylast** podem ser usadas como valores de filtro para recuperar todas as mensagens do teclado; as constantes do **WM \_ MOUSEFIRST** e do **WM \_ MOUSELAST** podem ser usadas para recuperar todas as mensagens do mouse.</span><span class="sxs-lookup"><span data-stu-id="c4389-388">The **WM\_KEYFIRST** and **WM\_KEYLAST** constants can be used as filter values to retrieve all keyboard messages; the **WM\_MOUSEFIRST** and **WM\_MOUSELAST** constants can be used to retrieve all mouse messages.</span></span>

<span data-ttu-id="c4389-389">Qualquer aplicativo que Filtre mensagens deve garantir que uma mensagem que satisfaça o filtro de mensagens possa ser postada.</span><span class="sxs-lookup"><span data-stu-id="c4389-389">Any application that filters messages must ensure that a message satisfying the message filter can be posted.</span></span> <span data-ttu-id="c4389-390">Por exemplo, se um aplicativo filtrar uma mensagem do [**WM \_ Char**](/windows/desktop/inputdev/wm-char) em uma janela que não recebe entrada de teclado, a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) não retornará.</span><span class="sxs-lookup"><span data-stu-id="c4389-390">For example, if an application filters for a [**WM\_CHAR**](/windows/desktop/inputdev/wm-char) message in a window that does not receive keyboard input, the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) function does not return.</span></span> <span data-ttu-id="c4389-391">Isso efetivamente "trava" o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-391">This effectively "hangs" the application.</span></span>

## <a name="posting-and-sending-messages"></a><span data-ttu-id="c4389-392">Postando e enviando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-392">Posting and Sending Messages</span></span>

<span data-ttu-id="c4389-393">Qualquer aplicativo pode postar e enviar mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-393">Any application can post and send messages.</span></span> <span data-ttu-id="c4389-394">Assim como o sistema, um aplicativo posta uma mensagem copiando-a para uma fila de mensagens e envia uma mensagem passando os dados da mensagem como argumentos para um procedimento de janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-394">Like the system, an application posts a message by copying it to a message queue and sends a message by passing the message data as arguments to a window procedure.</span></span> <span data-ttu-id="c4389-395">Para postar mensagens, um aplicativo usa a função [**CreateMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-395">To post messages, an application uses the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function.</span></span> <span data-ttu-id="c4389-396">Um aplicativo pode enviar uma mensagem chamando a função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)ou [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-396">An application can send a message by calling the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea), or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span>

### <a name="posting-messages"></a><span data-ttu-id="c4389-397">Postando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-397">Posting Messages</span></span>

<span data-ttu-id="c4389-398">Um aplicativo normalmente posta uma mensagem para notificar uma janela específica para executar uma tarefa.</span><span class="sxs-lookup"><span data-stu-id="c4389-398">An application typically posts a message to notify a specific window to perform a task.</span></span> <span data-ttu-id="c4389-399">O [**CreateMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) cria uma estrutura de [**msg**](/windows/win32/api/winuser/ns-winuser-msg) para a mensagem e copia a mensagem para a fila de mensagens.</span><span class="sxs-lookup"><span data-stu-id="c4389-399">[**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) creates an [**MSG**](/windows/win32/api/winuser/ns-winuser-msg) structure for the message and copies the message to the message queue.</span></span> <span data-ttu-id="c4389-400">O loop de mensagem do aplicativo eventualmente recupera a mensagem e a envia para o procedimento de janela apropriado.</span><span class="sxs-lookup"><span data-stu-id="c4389-400">The application's message loop eventually retrieves the message and dispatches it to the appropriate window procedure.</span></span>

<span data-ttu-id="c4389-401">Um aplicativo pode postar uma mensagem sem especificar uma janela.</span><span class="sxs-lookup"><span data-stu-id="c4389-401">An application can post a message without specifying a window.</span></span> <span data-ttu-id="c4389-402">Se o aplicativo fornecer um identificador de janela **nulo** ao chamar a [**mensagem**](/windows/win32/api/winuser/nf-winuser-postmessagea)de postagem, a mensagem será postada na fila associada ao thread atual.</span><span class="sxs-lookup"><span data-stu-id="c4389-402">If the application supplies a **NULL** window handle when calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea), the message is posted to the queue associated with the current thread.</span></span> <span data-ttu-id="c4389-403">Como nenhum identificador de janela é especificado, o aplicativo deve processar a mensagem no loop de mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-403">Because no window handle is specified, the application must process the message in the message loop.</span></span> <span data-ttu-id="c4389-404">Essa é uma maneira de criar uma mensagem que se aplica a todo o aplicativo, em vez de a uma janela específica.</span><span class="sxs-lookup"><span data-stu-id="c4389-404">This is one way to create a message that applies to the entire application, instead of to a specific window.</span></span>

<span data-ttu-id="c4389-405">Ocasionalmente, talvez você queira postar uma mensagem em todas as janelas de nível superior no sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-405">Occasionally, you may want to post a message to all top-level windows in the system.</span></span> <span data-ttu-id="c4389-406">Um aplicativo pode postar uma mensagem em todas as janelas de nível superior chamando [**post e especificando**](/windows/win32/api/winuser/nf-winuser-postmessagea) a **parte \_ superior do HWND** no parâmetro *HWND* .</span><span class="sxs-lookup"><span data-stu-id="c4389-406">An application can post a message to all top-level windows by calling [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span>

<span data-ttu-id="c4389-407">Um erro de programação comum é assumir [**que a função**](/windows/win32/api/winuser/nf-winuser-postmessagea) de postagem sempre publica uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-407">A common programming error is to assume that the [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) function always posts a message.</span></span> <span data-ttu-id="c4389-408">Isso não é verdadeiro quando a fila de mensagens está cheia.</span><span class="sxs-lookup"><span data-stu-id="c4389-408">This is not true when the message queue is full.</span></span> <span data-ttu-id="c4389-409">Um aplicativo deve verificar o **valor de retorno da função de** postagem para determinar se a mensagem foi postada e, se não tiver sido, repostá-la.</span><span class="sxs-lookup"><span data-stu-id="c4389-409">An application should check the return value of the **PostMessage** function to determine whether the message has been posted and, if it has not been, repost it.</span></span>

### <a name="sending-messages"></a><span data-ttu-id="c4389-410">enviando mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-410">Sending Messages</span></span>

<span data-ttu-id="c4389-411">Um aplicativo normalmente envia uma mensagem para notificar um procedimento de janela para executar uma tarefa imediatamente.</span><span class="sxs-lookup"><span data-stu-id="c4389-411">An application typically sends a message to notify a window procedure to perform a task immediately.</span></span> <span data-ttu-id="c4389-412">A função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) envia a mensagem para o procedimento de janela correspondente à janela especificada.</span><span class="sxs-lookup"><span data-stu-id="c4389-412">The [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function sends the message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="c4389-413">A função aguarda até que o procedimento de janela conclua o processamento e, em seguida, retorne o resultado da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-413">The function waits until the window procedure completes processing and then returns the message result.</span></span> <span data-ttu-id="c4389-414">As janelas pai e filho geralmente se comunicam enviando mensagens entre si.</span><span class="sxs-lookup"><span data-stu-id="c4389-414">Parent and child windows often communicate by sending messages to each other.</span></span> <span data-ttu-id="c4389-415">Por exemplo, uma janela pai que tem um controle de edição como sua janela filho pode definir o texto do controle enviando uma mensagem para ele.</span><span class="sxs-lookup"><span data-stu-id="c4389-415">For example, a parent window that has an edit control as its child window can set the text of the control by sending a message to it.</span></span> <span data-ttu-id="c4389-416">O controle pode notificar a janela pai sobre as alterações no texto que são executadas pelo usuário enviando mensagens de volta para o pai.</span><span class="sxs-lookup"><span data-stu-id="c4389-416">The control can notify the parent window of changes to the text that are carried out by the user by sending messages back to the parent.</span></span>

<span data-ttu-id="c4389-417">A função [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) também envia uma mensagem para o procedimento de janela correspondente à janela especificada.</span><span class="sxs-lookup"><span data-stu-id="c4389-417">The [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) function also sends a message to the window procedure corresponding to the given window.</span></span> <span data-ttu-id="c4389-418">No entanto, essa função retorna imediatamente.</span><span class="sxs-lookup"><span data-stu-id="c4389-418">However, this function returns immediately.</span></span> <span data-ttu-id="c4389-419">Depois que o procedimento de janela processa a mensagem, o sistema chama a função de retorno de chamada especificada.</span><span class="sxs-lookup"><span data-stu-id="c4389-419">After the window procedure processes the message, the system calls the specified callback function.</span></span> <span data-ttu-id="c4389-420">Para obter mais informações sobre a função de retorno de chamada, consulte a função [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) .</span><span class="sxs-lookup"><span data-stu-id="c4389-420">For more information about the callback function, see the [**SendAsyncProc**](/windows/win32/api/winuser/nc-winuser-sendasyncproc) function.</span></span>

<span data-ttu-id="c4389-421">Ocasionalmente, talvez você queira enviar uma mensagem para todas as janelas de nível superior no sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-421">Occasionally, you may want to send a message to all top-level windows in the system.</span></span> <span data-ttu-id="c4389-422">Por exemplo, se o aplicativo alterar a hora do sistema, ele deverá notificar todas as janelas de nível superior sobre a alteração enviando uma mensagem do [**WM \_ timechange**](../sysinfo/wm-timechange.md) .</span><span class="sxs-lookup"><span data-stu-id="c4389-422">For example, if the application changes the system time, it must notify all top-level windows about the change by sending a [**WM\_TIMECHANGE**](../sysinfo/wm-timechange.md) message.</span></span> <span data-ttu-id="c4389-423">Um aplicativo pode enviar uma mensagem para todas as janelas de nível superior chamando [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) e especificando a parte **\_ superior do HWND** no parâmetro *HWND* .</span><span class="sxs-lookup"><span data-stu-id="c4389-423">An application can send a message to all top-level windows by calling [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) and specifying **HWND\_TOPMOST** in the *hwnd* parameter.</span></span> <span data-ttu-id="c4389-424">Você também pode transmitir uma mensagem para todos os aplicativos chamando a função [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) e especificando **\_ aplicativos BSM** no parâmetro *lpdwRecipients* .</span><span class="sxs-lookup"><span data-stu-id="c4389-424">You can also broadcast a message to all applications by calling the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function and specifying **BSM\_APPLICATIONS** in the *lpdwRecipients* parameter.</span></span>

<span data-ttu-id="c4389-425">Usando a função [**insendmessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) ou [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) , um procedimento de janela pode determinar se está processando uma mensagem enviada por outro thread.</span><span class="sxs-lookup"><span data-stu-id="c4389-425">By using the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function, a window procedure can determine whether it is processing a message sent by another thread.</span></span> <span data-ttu-id="c4389-426">Esse recurso é útil quando o processamento de mensagens depende da origem da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-426">This capability is useful when message processing depends on the origin of the message.</span></span>

## <a name="message-deadlocks"></a><span data-ttu-id="c4389-427">Deadlocks de mensagem</span><span class="sxs-lookup"><span data-stu-id="c4389-427">Message Deadlocks</span></span>

<span data-ttu-id="c4389-428">Um thread que chama a função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) para enviar uma mensagem para outro thread não pode continuar sendo executado até que o procedimento de janela que recebe a mensagem retorne.</span><span class="sxs-lookup"><span data-stu-id="c4389-428">A thread that calls the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function to send a message to another thread cannot continue executing until the window procedure that receives the message returns.</span></span> <span data-ttu-id="c4389-429">Se o thread receptor produz o controle durante o processamento da mensagem, o thread de envio não pode continuar executando, porque está aguardando que **SendMessage** retorne.</span><span class="sxs-lookup"><span data-stu-id="c4389-429">If the receiving thread yields control while processing the message, the sending thread cannot continue executing, because it is waiting for **SendMessage** to return.</span></span> <span data-ttu-id="c4389-430">Se o thread de recebimento for anexado à mesma fila que o remetente, isso poderá causar a ocorrência de um deadlock de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c4389-430">If the receiving thread is attached to the same queue as the sender, it can cause an application deadlock to occur.</span></span> <span data-ttu-id="c4389-431">(Observe que os ganchos de diário anexam threads à mesma fila.)</span><span class="sxs-lookup"><span data-stu-id="c4389-431">(Note that journal hooks attach threads to the same queue.)</span></span>

<span data-ttu-id="c4389-432">Observe que o thread receptor não precisa produzir controle explicitamente; chamar qualquer uma das funções a seguir pode fazer com que um thread gere o controle implicitamente.</span><span class="sxs-lookup"><span data-stu-id="c4389-432">Note that the receiving thread need not yield control explicitly; calling any of the following functions can cause a thread to yield control implicitly.</span></span>

-   [<span data-ttu-id="c4389-433">**Caixa**</span><span class="sxs-lookup"><span data-stu-id="c4389-433">**DialogBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxa)
-   [<span data-ttu-id="c4389-434">**DialogBoxIndirect**</span><span class="sxs-lookup"><span data-stu-id="c4389-434">**DialogBoxIndirect**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirecta)
-   [<span data-ttu-id="c4389-435">**DialogBoxIndirectParam**</span><span class="sxs-lookup"><span data-stu-id="c4389-435">**DialogBoxIndirectParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxindirectparama)
-   [<span data-ttu-id="c4389-436">**DialogBoxParam**</span><span class="sxs-lookup"><span data-stu-id="c4389-436">**DialogBoxParam**</span></span>](/windows/desktop/api/winuser/nf-winuser-dialogboxparama)
-   [<span data-ttu-id="c4389-437">**GetMessage**</span><span class="sxs-lookup"><span data-stu-id="c4389-437">**GetMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-getmessage)
-   [<span data-ttu-id="c4389-438">**MessageBox**</span><span class="sxs-lookup"><span data-stu-id="c4389-438">**MessageBox**</span></span>](/windows/desktop/api/winuser/nf-winuser-messagebox)
-   [<span data-ttu-id="c4389-439">**PeekMessage**</span><span class="sxs-lookup"><span data-stu-id="c4389-439">**PeekMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-peekmessagea)
-   [<span data-ttu-id="c4389-440">**SendMessage**</span><span class="sxs-lookup"><span data-stu-id="c4389-440">**SendMessage**</span></span>](/windows/win32/api/winuser/nf-winuser-sendmessage)

<span data-ttu-id="c4389-441">Para evitar possíveis deadlocks em seu aplicativo, considere o uso das funções [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) ou [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) .</span><span class="sxs-lookup"><span data-stu-id="c4389-441">To avoid potential deadlocks in your application, consider using the [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) or [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta) functions.</span></span> <span data-ttu-id="c4389-442">Caso contrário, um procedimento de janela pode determinar se uma mensagem recebida foi enviada por outro thread chamando a função [**insendmessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) ou [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .</span><span class="sxs-lookup"><span data-stu-id="c4389-442">Otherwise, a window procedure can determine whether a message it has received was sent by another thread by calling the [**InSendMessage**](/windows/win32/api/winuser/nf-winuser-insendmessage) or [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) function.</span></span> <span data-ttu-id="c4389-443">Antes de chamar qualquer uma das funções na lista anterior durante o processamento de uma mensagem, o procedimento de janela deve primeiro chamar **insendmessage** ou **InSendMessageEx**.</span><span class="sxs-lookup"><span data-stu-id="c4389-443">Before calling any of the functions in the preceding list while processing a message, the window procedure should first call **InSendMessage** or **InSendMessageEx**.</span></span> <span data-ttu-id="c4389-444">Se essa função retornar **true**, o procedimento de janela deverá chamar a função [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) antes de qualquer função que faça com que o thread gere controle.</span><span class="sxs-lookup"><span data-stu-id="c4389-444">If this function returns **TRUE**, the window procedure must call the [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage) function before any function that causes the thread to yield control.</span></span>

## <a name="broadcasting-messages"></a><span data-ttu-id="c4389-445">Transmitindo mensagens</span><span class="sxs-lookup"><span data-stu-id="c4389-445">Broadcasting Messages</span></span>

<span data-ttu-id="c4389-446">Cada mensagem consiste em um identificador de mensagem e dois parâmetros, *wParam* e *lParam*.</span><span class="sxs-lookup"><span data-stu-id="c4389-446">Each message consists of a message identifier and two parameters, *wParam* and *lParam*.</span></span> <span data-ttu-id="c4389-447">O identificador de mensagem é um valor exclusivo que especifica a finalidade da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-447">The message identifier is a unique value that specifies the message purpose.</span></span> <span data-ttu-id="c4389-448">Os parâmetros fornecem informações adicionais que são específicas da mensagem, mas o parâmetro *wParam* geralmente é um valor de tipo que fornece mais informações sobre a mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-448">The parameters provide additional information that is message-specific, but the *wParam* parameter is generally a type value that provides more information about the message.</span></span>

<span data-ttu-id="c4389-449">Uma *difusão de mensagens* é simplesmente o envio de uma mensagem para vários destinatários no sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-449">A *message broadcast* is simply the sending of a message to multiple recipients in the system.</span></span> <span data-ttu-id="c4389-450">Para transmitir uma mensagem de um aplicativo, use a função [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , especificando os destinatários da mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-450">To broadcast a message from an application, use the [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) function, specifying the recipients of the message.</span></span> <span data-ttu-id="c4389-451">Em vez de especificar destinatários individuais, você deve especificar um ou mais tipos de destinatários.</span><span class="sxs-lookup"><span data-stu-id="c4389-451">Rather than specify individual recipients, you must specify one or more types of recipients.</span></span> <span data-ttu-id="c4389-452">Esses tipos são aplicativos, drivers instaláveis, drivers de rede e drivers de dispositivo de nível de sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-452">These types are applications, installable drivers, network drivers, and system-level device drivers.</span></span> <span data-ttu-id="c4389-453">O sistema envia mensagens de difusão para todos os membros de cada tipo especificado.</span><span class="sxs-lookup"><span data-stu-id="c4389-453">The system sends broadcast messages to all members of each specified type.</span></span>

<span data-ttu-id="c4389-454">O sistema normalmente transmite mensagens em resposta a alterações que ocorrem em drivers de dispositivo de nível de sistema ou componentes relacionados.</span><span class="sxs-lookup"><span data-stu-id="c4389-454">The system typically broadcasts messages in response to changes that take place within system-level device drivers or related components.</span></span> <span data-ttu-id="c4389-455">O driver ou componente relacionado transmite a mensagem para aplicativos e outros componentes para notificá-los da alteração.</span><span class="sxs-lookup"><span data-stu-id="c4389-455">The driver or related component broadcasts the message to applications and other components to notify them of the change.</span></span> <span data-ttu-id="c4389-456">Por exemplo, o componente responsável por unidades de disco transmite uma mensagem sempre que o driver de dispositivo da unidade de disquete detecta uma alteração de mídia, como quando o usuário insere um disco na unidade.</span><span class="sxs-lookup"><span data-stu-id="c4389-456">For example, the component responsible for disk drives broadcasts a message whenever the device driver for the floppy disk drive detects a change of media such as when the user inserts a disk in the drive.</span></span>

<span data-ttu-id="c4389-457">O sistema transmite mensagens para os destinatários nesta ordem: drivers de dispositivo no nível do sistema, drivers de rede, drivers instaláveis e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c4389-457">The system broadcasts messages to recipients in this order: system-level device drivers, network drivers, installable drivers, and applications.</span></span> <span data-ttu-id="c4389-458">Isso significa que os drivers de dispositivo no nível do sistema, se escolhidos como destinatários, sempre obtêm a primeira oportunidade de responder a uma mensagem.</span><span class="sxs-lookup"><span data-stu-id="c4389-458">This means that system-level device drivers, if chosen as recipients, always get the first opportunity to respond to a message.</span></span> <span data-ttu-id="c4389-459">Dentro de um determinado tipo de destinatário, nenhum driver é garantido para receber uma determinada mensagem antes de qualquer outro driver.</span><span class="sxs-lookup"><span data-stu-id="c4389-459">Within a given recipient type, no driver is guaranteed to receive a given message before any other driver.</span></span> <span data-ttu-id="c4389-460">Isso significa que uma mensagem destinada a um driver específico deve ter um identificador de mensagem globalmente exclusivo para que nenhum outro driver o processe de forma não intencional.</span><span class="sxs-lookup"><span data-stu-id="c4389-460">This means that a message intended for a specific driver must have a globally-unique message identifier so that no other driver unintentionally processes it.</span></span>

<span data-ttu-id="c4389-461">Você também pode transmitir mensagens para todas as janelas de nível superior especificando **a \_ difusão HWND** na função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)ou [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) .</span><span class="sxs-lookup"><span data-stu-id="c4389-461">You can also broadcast messages to all top-level windows by specifying **HWND\_BROADCAST** in the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage), [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka), [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta), or [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) function.</span></span>

<span data-ttu-id="c4389-462">Os aplicativos recebem mensagens por meio do procedimento de janela de suas janelas de nível superior.</span><span class="sxs-lookup"><span data-stu-id="c4389-462">Applications receive messages through the window procedure of their top-level windows.</span></span> <span data-ttu-id="c4389-463">As mensagens não são enviadas para janelas filhas.</span><span class="sxs-lookup"><span data-stu-id="c4389-463">Messages are not sent to child windows.</span></span> <span data-ttu-id="c4389-464">Os serviços podem receber mensagens por meio de um procedimento de janela ou seus manipuladores de controle de serviço.</span><span class="sxs-lookup"><span data-stu-id="c4389-464">Services can receive messages through a window procedure or their service control handlers.</span></span>

> [!Note]  
> <span data-ttu-id="c4389-465">Os drivers de dispositivo de nível de sistema usam uma função de nível de sistema relacionada para transmitir mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-465">System-level device drivers use a related, system-level function to broadcast system messages.</span></span>

 

## <a name="query-messages"></a><span data-ttu-id="c4389-466">Mensagens de consulta</span><span class="sxs-lookup"><span data-stu-id="c4389-466">Query Messages</span></span>

<span data-ttu-id="c4389-467">Você pode criar suas próprias mensagens personalizadas e usá-las para coordenar atividades entre seus aplicativos e outros componentes no sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-467">You can create your own custom messages and use them to coordinate activities between your applications and other components in the system.</span></span> <span data-ttu-id="c4389-468">Isso é especialmente útil se você tiver criado seus próprios drivers instaláveis ou drivers de dispositivo de nível de sistema.</span><span class="sxs-lookup"><span data-stu-id="c4389-468">This is especially useful if you have created your own installable drivers or system-level device drivers.</span></span> <span data-ttu-id="c4389-469">Suas mensagens personalizadas podem transportar informações de e para o driver e os aplicativos que usam o driver.</span><span class="sxs-lookup"><span data-stu-id="c4389-469">Your custom messages can carry information to and from your driver and the applications that use the driver.</span></span>

<span data-ttu-id="c4389-470">Para sondar os destinatários para obter permissão para realizar uma determinada ação, use uma *mensagem de consulta*.</span><span class="sxs-lookup"><span data-stu-id="c4389-470">To poll recipients for permission to carry out a given action, use a *query message*.</span></span> <span data-ttu-id="c4389-471">Você pode gerar suas próprias mensagens de consulta definindo o valor de **\_ consulta BSF** no parâmetro *dwFlags* ao chamar [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span><span class="sxs-lookup"><span data-stu-id="c4389-471">You can generate your own query messages by setting the **BSF\_QUERY** value in the *dwFlags* parameter when calling [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage).</span></span> <span data-ttu-id="c4389-472">Cada destinatário da mensagem de consulta deve retornar **true** para que a função envie a mensagem para o próximo destinatário.</span><span class="sxs-lookup"><span data-stu-id="c4389-472">Each recipient of the query message must return **TRUE** for the function to send the message to the next recipient.</span></span> <span data-ttu-id="c4389-473">Se qualquer destinatário retornar **a \_ \_ negação de consulta de difusão**, a difusão terminará imediatamente e a função retornará um zero.</span><span class="sxs-lookup"><span data-stu-id="c4389-473">If any recipient returns **BROADCAST\_QUERY\_DENY**, the broadcast ends immediately and the function returns a zero.</span></span>

 

 
