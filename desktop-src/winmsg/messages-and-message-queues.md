---
description: Esta seção descreve mensagens e filas de mensagem e como usá-las em seus aplicativos.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\messagesandmessagequeues.htm
title: Mensagens e filas de mensagens
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d0233af932d1aa9a4130e244af002d6180fdf055
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105793284"
---
# <a name="messages-and-message-queues"></a>Mensagens e filas de mensagens

Esta seção descreve mensagens e filas de mensagem e como usá-las em seus aplicativos.

### <a name="in-this-section"></a>Nesta seção



| Nome                                                                       | Descrição                                                                                                                                |
|----------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------|
| [Sobre mensagens e filas de mensagens](about-messages-and-message-queues.md) | Esta seção discute mensagens e filas de mensagens do Windows.<br/>                                                                     |
| [Usando mensagens e filas de mensagens](using-messages-and-message-queues.md) | Os exemplos de código a seguir demonstram como executar as seguintes tarefas associadas a mensagens e filas de mensagens do Windows.<br/> |
| [Referência de mensagem](message-and-message-queue-reference.md)               | Contém a referência de API.<br/>                                                                                                     |



 

### <a name="system-provided-messages"></a>System-Provided mensagens

Para obter listas das mensagens fornecidas pelo sistema, consulte [mensagens definidas pelo sistema](about-messages-and-message-queues.md).

### <a name="message-functions"></a>Funções de mensagem



| Nome                                                         | Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|--------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage)     | Envia uma mensagem para os destinatários especificados. Os destinatários podem ser aplicativos, drivers instaláveis, drivers de rede, drivers de dispositivo de nível de sistema ou qualquer combinação desses componentes do sistema. <br/> Para receber informações adicionais se a solicitação for definida, use a função [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) .<br/>                                                                                                                                                                                                                                  |
| [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa) | Envia uma mensagem para os destinatários especificados. Os destinatários podem ser aplicativos, drivers instaláveis, drivers de rede, drivers de dispositivo de nível de sistema ou qualquer combinação desses componentes do sistema. <br/> Essa função é semelhante a [**BroadcastSystemMessage**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessage) , exceto que essa função pode retornar mais informações dos destinatários.<br/>                                                                                                                                                                                                              |
| [**DispatchMessage**](/windows/win32/api/winuser/nf-winuser-dispatchmessage)                   | Despacha uma mensagem para um procedimento de janela. Normalmente, ele é usado para enviar uma mensagem recuperada pela função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**Getinputstate**](/windows/win32/api/winuser/nf-winuser-getinputstate)                       | Determina se há mensagens de teclado ou botão do mouse na fila de mensagens do thread de chamada. <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage)                             | Recupera uma mensagem da fila de mensagens do thread de chamada. A função distribui mensagens enviadas de entrada até que uma mensagem postada esteja disponível para recuperação. <br/> Diferentemente do [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage), a função [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) não espera que uma mensagem seja postada antes de retornar.<br/>                                                                                                                                                                                                                                                              |
| [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo)           | Recupera as informações de mensagem extra para o thread atual. Informações de mensagem extra são um valor definido por aplicativo ou de driver associado à fila de mensagens do thread atual. <br/>                                                                                                                                                                                                                                                                                                                                                                                                   |
| [**GetMessagePos**](/windows/win32/api/winuser/nf-winuser-getmessagepos)                       | Recupera a posição do cursor para a última mensagem recuperada pela função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . <br/> Para determinar a posição atual do cursor, use a função [**GetCursorPos**](/windows/desktop/api/winuser/nf-winuser-getcursorpos) .<br/>                                                                                                                                                                                                                                                                                                                                                       |
| [**Getmessagetime**](/windows/win32/api/winuser/nf-winuser-getmessagetime)                     | Recupera a hora da mensagem para a última mensagem recuperada pela função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) . O tempo é um inteiro longo que especifica o tempo decorrido, em milissegundos, a partir do momento em que o sistema foi iniciado até a hora em que a mensagem foi criada (ou seja, colocada na fila de mensagens do thread). <br/>                                                                                                                                                                                                                                                                         |
| [**GetQueueStatus**](/windows/win32/api/winuser/nf-winuser-getqueuestatus)                     | Indica o tipo de mensagens encontrado na fila de mensagens do thread de chamada.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| [**Insendmessage**](/windows/win32/api/winuser/nf-winuser-insendmessage)                       | Determina se o procedimento de janela atual está processando uma mensagem que foi enviada de outro thread (no mesmo processo ou um processo diferente) por uma chamada para a função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) . <br/> Para obter informações adicionais sobre como a mensagem foi enviada, use a função [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex) .<br/>                                                                                                                                                                                                                              |
| [**InSendMessageEx**](/windows/win32/api/winuser/nf-winuser-insendmessageex)                   | Determina se o procedimento de janela atual está processando uma mensagem que foi enviada de outro thread (no mesmo processo ou em um processo diferente).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea)                           | Despacha mensagens enviadas de entrada, verifica a fila de mensagens de thread de uma mensagem postada e recupera a mensagem (se houver alguma).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| [**PostMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea)                           | Posta uma mensagem na fila de mensagens associada ao thread que criou a janela especificada e retorna sem esperar que o thread processe a mensagem. <br/> Para postar uma mensagem na fila de mensagens associada a um thread, use a função [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/>                                                                                                                                                                                                                                                                          |
| [**PostQuitMessage**](/windows/win32/api/winuser/nf-winuser-postquitmessage)                   | Indica ao sistema que um thread fez uma solicitação para terminar (sair). Normalmente, ele é usado em resposta a uma mensagem de [**\_ destruição do WM**](wm-destroy.md) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                              |
| [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea)               | Posta uma mensagem na fila de mensagens do thread especificado. Ele retorna sem esperar que o thread processe a mensagem.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| [**RegisterWindowMessage**](/windows/win32/api/winuser/nf-winuser-registerwindowmessagea)       | Define uma nova mensagem de janela que tem a garantia de ser exclusiva em todo o sistema. O valor da mensagem pode ser usado ao enviar ou postar mensagens.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**ReplyMessage**](/windows/win32/api/winuser/nf-winuser-replymessage)                         | Responde a uma mensagem enviada por meio da função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) sem retornar o controle à função que chamou **SendMessage**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc)                         | Uma função de retorno de chamada definida pelo aplicativo usada com a função [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) . O sistema passa a mensagem para a função de retorno de chamada depois de passar a mensagem para o procedimento de janela de destino. O tipo **SENDASYNCPROC** define um ponteiro para essa função de retorno de chamada. [*SendAsyncProc*](/windows/win32/api/winuser/nc-winuser-sendasyncproc) é um espaço reservado para o nome da função definida pelo aplicativo.<br/>                                                                                                                                                                          |
| [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage)                           | Envia a mensagem especificada para uma janela ou Windows. A função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) chama o procedimento de janela para a janela especificada e não retorna até que o procedimento de janela tenha processado a mensagem. <br/> Para enviar uma mensagem e retornar imediatamente, use a função [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka) ou [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) . Para postar uma mensagem na fila de mensagens de um thread e retornar imediatamente, use a função [**CreateMessage**](/windows/win32/api/winuser/nf-winuser-postmessagea) ou [**PostThreadMessage**](/windows/win32/api/winuser/nf-winuser-postthreadmessagea) .<br/> |
| [**SendMessageCallback**](/windows/win32/api/winuser/nf-winuser-sendmessagecallbacka)           | Envia a mensagem especificada para uma janela ou Windows. Ele chama o procedimento de janela para a janela especificada e retorna imediatamente. Depois que o procedimento de janela processa a mensagem, o sistema chama a função de retorno de chamada especificada, passando o resultado do processamento da mensagem e um valor definido pelo aplicativo para a função de retorno de chamada.<br/>                                                                                                                                                                                                                                             |
| [**SendMessageTimeout**](/windows/win32/api/winuser/nf-winuser-sendmessagetimeouta)             | Envia a mensagem especificada para uma ou mais janelas.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea)               | Envia a mensagem especificada para uma janela ou Windows. Se a janela tiver sido criada pelo thread de chamada, [**SendNotifyMessage**](/windows/win32/api/winuser/nf-winuser-sendnotifymessagea) chamará o procedimento de janela para a janela e não retornará até que o procedimento de janela tenha processado a mensagem. Se a janela foi criada por um thread diferente, **SendNotifyMessage** passa a mensagem para o procedimento de janela e retorna imediatamente; Ele não aguarda o procedimento de janela concluir o processamento da mensagem.<br/>                                                                                              |
| [**SetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-setmessageextrainfo)           | Define as informações de mensagem extra para o thread atual. Informações de mensagem extra são um valor definido por aplicativo ou de driver associado à fila de mensagens do thread atual. Um aplicativo pode usar a função [**GetMessageExtraInfo**](/windows/win32/api/winuser/nf-winuser-getmessageextrainfo) para recuperar informações de mensagens extras de um thread.<br/>                                                                                                                                                                                                                                                                |
| [**TranslateMessage**](/windows/win32/api/winuser/nf-winuser-translatemessage)                 | Traduz mensagens de chave virtual em mensagens de caracteres. As mensagens de caracteres são postadas na fila de mensagens do thread de chamada, para serem lidas na próxima vez que o thread chamar a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) .<br/>                                                                                                                                                                                                                                                                                                                            |
| [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage)                           | Produz o controle para outros threads quando um thread não tem nenhuma outra mensagem em sua fila de mensagens. A função [**WaitMessage**](/windows/win32/api/winuser/nf-winuser-waitmessage) suspende o thread e não retorna até que uma nova mensagem seja colocada na fila de mensagens do thread.<br/>                                                                                                                                                                                                                                                                                                                                              |



 

### <a name="message-constants"></a>Constantes de mensagem



| Nome                             | Descrição                                                                    |
|----------------------------------|--------------------------------------------------------------------------------|
| [**\_ \_ base OCM**](ocm--base.md) | Usado para definir mensagens privadas para uso por classes de janela privada. <br/> |
| [**aplicativo do WM \_**](wm-app.md)        | Usado para definir mensagens privadas. <br/>                                   |
| [**usuário do WM \_**](wm-user.md)      | Usado por definir mensagens privadas para uso por classes de janela privada. <br/>  |



 

### <a name="message-structures"></a>Estruturas de mensagem



| Nome                       | Descrição                                                                                                                              |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------|
| [**BSMINFO**](/windows/win32/api/winuser/ns-winuser-bsminfo) | Contém informações sobre uma janela que negou uma solicitação de [**BroadcastSystemMessageEx**](/windows/win32/api/winuser/nf-winuser-broadcastsystemmessageexa). <br/> |
| [**MSG**](/windows/win32/api/winuser/ns-winuser-msg)         | Contém informações da mensagem da fila de mensagens do thread. <br/>                                                                  |



 

 

