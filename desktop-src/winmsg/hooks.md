---
description: Esta seção aborda os ganchos. Um gancho é um ponto no mecanismo de manipulação de mensagens do sistema em que um aplicativo pode instalar uma sub-rotina para monitorar o tráfego da mensagem.
ms.assetid: vs|winui|~\winui\windowsuserinterface\windowing\hooks.htm
title: Ganchos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 74057d25e3152c8782c2be364688bb971b08ddf5
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104171308"
---
# <a name="hooks"></a><span data-ttu-id="c7877-104">Ganchos</span><span class="sxs-lookup"><span data-stu-id="c7877-104">Hooks</span></span>

<span data-ttu-id="c7877-105">Um gancho é um ponto no mecanismo de manipulação de mensagens do sistema em que um aplicativo pode instalar uma sub-rotina para monitorar o tráfego da mensagem no sistema e processar determinados tipos de mensagens antes que elas atinjam o procedimento da janela de destino.</span><span class="sxs-lookup"><span data-stu-id="c7877-105">A hook is a point in the system message-handling mechanism where an application can install a subroutine to monitor the message traffic in the system and process certain types of messages before they reach the target window procedure.</span></span>

### <a name="in-this-section"></a><span data-ttu-id="c7877-106">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="c7877-106">In This Section</span></span>



| <span data-ttu-id="c7877-107">Nome</span><span class="sxs-lookup"><span data-stu-id="c7877-107">Name</span></span>                                 | <span data-ttu-id="c7877-108">Descrição</span><span class="sxs-lookup"><span data-stu-id="c7877-108">Description</span></span>                                                         |
|--------------------------------------|---------------------------------------------------------------------|
| [<span data-ttu-id="c7877-109">Visão geral do gancho</span><span class="sxs-lookup"><span data-stu-id="c7877-109">Hook Overview</span></span>](about-hooks.md)     | <span data-ttu-id="c7877-110">Discute como os ganchos devem ser usados.</span><span class="sxs-lookup"><span data-stu-id="c7877-110">Discusses how hooks should be used.</span></span><br/>                      |
| [<span data-ttu-id="c7877-111">Usando ganchos</span><span class="sxs-lookup"><span data-stu-id="c7877-111">Using Hooks</span></span>](using-hooks.md)       | <span data-ttu-id="c7877-112">Demonstra como executar tarefas associadas a ganchos.</span><span class="sxs-lookup"><span data-stu-id="c7877-112">Demonstrates how to perform tasks associated with hooks.</span></span><br/> |
| [<span data-ttu-id="c7877-113">Referência de gancho</span><span class="sxs-lookup"><span data-stu-id="c7877-113">Hook Reference</span></span>](hook-reference.md) | <span data-ttu-id="c7877-114">Contém a referência de API.</span><span class="sxs-lookup"><span data-stu-id="c7877-114">Contains the API reference.</span></span><br/>                              |



 

### <a name="hook-functions"></a><span data-ttu-id="c7877-115">Funções de Hook</span><span class="sxs-lookup"><span data-stu-id="c7877-115">Hook Functions</span></span>



| <span data-ttu-id="c7877-116">Nome</span><span class="sxs-lookup"><span data-stu-id="c7877-116">Name</span></span>                                               | <span data-ttu-id="c7877-117">Descrição</span><span class="sxs-lookup"><span data-stu-id="c7877-117">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|----------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="c7877-118">**CallMsgFilter**</span><span class="sxs-lookup"><span data-stu-id="c7877-118">**CallMsgFilter**</span></span>](/windows/win32/api/winuser/nf-winuser-callmsgfiltera)             | <span data-ttu-id="c7877-119">Passa a mensagem especificada e o código de gancho para os procedimentos de gancho associados aos procedimentos de gancho [**\_ SYSMSGFILTER**](about-hooks.md) e **qu \_ MSGFILTER** .</span><span class="sxs-lookup"><span data-stu-id="c7877-119">Passes the specified message and hook code to the hook procedures associated with the [**WH\_SYSMSGFILTER**](about-hooks.md) and **WH\_MSGFILTER** hook procedures.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="c7877-120">**CallNextHookEx**</span><span class="sxs-lookup"><span data-stu-id="c7877-120">**CallNextHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-callnexthookex)           | <span data-ttu-id="c7877-121">Passa as informações do gancho para o próximo procedimento de gancho na cadeia de ganchos atual.</span><span class="sxs-lookup"><span data-stu-id="c7877-121">Passes the hook information to the next hook procedure in the current hook chain.</span></span> <span data-ttu-id="c7877-122">Um procedimento de gancho pode chamar essa função antes ou depois de processar as informações do gancho.</span><span class="sxs-lookup"><span data-stu-id="c7877-122">A hook procedure can call this function either before or after processing the hook information.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c7877-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-123">[*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85))</span></span>                   | <span data-ttu-id="c7877-124">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-124">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-125">O sistema chama essa função antes de chamar o procedimento de janela para processar uma mensagem enviada para o thread.</span><span class="sxs-lookup"><span data-stu-id="c7877-125">The system calls this function before calling the window procedure to process a message sent to the thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="c7877-126">*CallWndRetProc*</span><span class="sxs-lookup"><span data-stu-id="c7877-126">*CallWndRetProc*</span></span>](/windows/win32/api/winuser/nc-winuser-hookproc)             | <span data-ttu-id="c7877-127">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-127">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-128">O sistema chama essa função depois que a função [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) é chamada.</span><span class="sxs-lookup"><span data-stu-id="c7877-128">The system calls this function after the [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) function is called.</span></span> <span data-ttu-id="c7877-129">O procedimento de gancho pode examinar a mensagem; Ele não pode modificá-lo.</span><span class="sxs-lookup"><span data-stu-id="c7877-129">The hook procedure can examine the message; it cannot modify it.</span></span> <br/>                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="c7877-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-130">[*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85))</span></span>                           | <span data-ttu-id="c7877-131">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-131">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-132">O sistema chama essa função antes de ativar, criar, destruir, minimizar, maximizar, mover ou dimensionar uma janela; antes de concluir um comando do sistema; antes de remover um evento de mouse ou de teclado da fila de mensagens do sistema; antes de definir o foco do teclado; ou antes de sincronizar com a fila de mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-132">The system calls this function before activating, creating, destroying, minimizing, maximizing, moving, or sizing a window; before completing a system command; before removing a mouse or keyboard event from the system message queue; before setting the keyboard focus; or before synchronizing with the system message queue.</span></span> <span data-ttu-id="c7877-133">Um aplicativo de treinamento baseado em computador (CBT) usa esse procedimento de conexão para receber notificações úteis do sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-133">A computer-based training (CBT) application uses this hook procedure to receive useful notifications from the system.</span></span> <br/> |
| <span data-ttu-id="c7877-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-134">[*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85))</span></span>                       | <span data-ttu-id="c7877-135">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-135">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-136">O sistema chama essa função antes de chamar os procedimentos de gancho associados a qualquer tipo de gancho.</span><span class="sxs-lookup"><span data-stu-id="c7877-136">The system calls this function before calling the hook procedures associated with any type of hook.</span></span> <span data-ttu-id="c7877-137">O sistema passa informações sobre o gancho a ser chamado para o procedimento de gancho [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) , que examina as informações e determina se deve permitir que o gancho seja chamado.</span><span class="sxs-lookup"><span data-stu-id="c7877-137">The system passes information about the hook to be called to the [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)) hook procedure, which examines the information and determines whether to allow the hook to be called.</span></span> <br/>                                                                                                                                                  |
| <span data-ttu-id="c7877-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-138">[*ForegroundIdleProc*](/previous-versions/windows/desktop/legacy/ms644980(v=vs.85))</span></span>     | <span data-ttu-id="c7877-139">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-139">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-140">O sistema chama essa função sempre que o thread em primeiro plano está prestes a ficar ocioso.</span><span class="sxs-lookup"><span data-stu-id="c7877-140">The system calls this function whenever the foreground thread is about to become idle.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="c7877-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-141">[*GetMsgProc*](/previous-versions/windows/desktop/legacy/ms644981(v=vs.85))</span></span>                     | <span data-ttu-id="c7877-142">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-142">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-143">O sistema chama essa função sempre que a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) recuperou uma mensagem de uma fila de mensagens do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c7877-143">The system calls this function whenever the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function has retrieved a message from an application message queue.</span></span> <span data-ttu-id="c7877-144">Antes de retornar a mensagem recuperada para o chamador, o sistema passa a mensagem para o procedimento de gancho.</span><span class="sxs-lookup"><span data-stu-id="c7877-144">Before returning the retrieved message to the caller, the system passes the message to the hook procedure.</span></span> <br/>                                                                                                                                                        |
| <span data-ttu-id="c7877-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-145">[*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85))</span></span>   | <span data-ttu-id="c7877-146">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-146">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-147">Normalmente, um aplicativo usa essa função para reproduzir uma série de mensagens de mouse e teclado registradas anteriormente pelo procedimento de gancho [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="c7877-147">Typically, an application uses this function to play back a series of mouse and keyboard messages recorded previously by the [*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85)) hook procedure.</span></span> <span data-ttu-id="c7877-148">Desde que um procedimento de gancho [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) esteja instalado, a entrada regular de mouse e teclado estará desabilitada.</span><span class="sxs-lookup"><span data-stu-id="c7877-148">As long as a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure is installed, regular mouse and keyboard input is disabled.</span></span> <br/>                                                                                                                       |
| <span data-ttu-id="c7877-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-149">[*JournalRecordProc*](/previous-versions/windows/desktop/legacy/ms644983(v=vs.85))</span></span>       | <span data-ttu-id="c7877-150">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-150">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-151">A função registra as mensagens que o sistema remove da fila de mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-151">The function records messages the system removes from the system message queue.</span></span> <span data-ttu-id="c7877-152">Posteriormente, um aplicativo pode usar um procedimento de gancho [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) para reproduzir as mensagens.</span><span class="sxs-lookup"><span data-stu-id="c7877-152">Later, an application can use a [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) hook procedure to play back the messages.</span></span> <br/>                                                                                                                                                                                                                                               |
| <span data-ttu-id="c7877-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-153">[*KeyboardProc*](/previous-versions/windows/desktop/legacy/ms644984(v=vs.85))</span></span>                 | <span data-ttu-id="c7877-154">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-154">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-155">O sistema chama essa função sempre que um aplicativo chama a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) e há uma mensagem de teclado ([**WM \_ KEYUP**](/windows/desktop/inputdev/wm-keyup) ou [**WM \_ KEYDOWN**](/windows/desktop/inputdev/wm-keydown)) a ser processada.</span><span class="sxs-lookup"><span data-stu-id="c7877-155">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a keyboard message ([**WM\_KEYUP**](/windows/desktop/inputdev/wm-keyup) or [**WM\_KEYDOWN**](/windows/desktop/inputdev/wm-keydown)) to be processed.</span></span> <br/>                                                                                                                                                                         |
| <span data-ttu-id="c7877-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-156">[*LowLevelKeyboardProc*](/previous-versions/windows/desktop/legacy/ms644985(v=vs.85))</span></span> | <span data-ttu-id="c7877-157">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-157">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-158">O sistema chama essa função toda vez que um novo evento de entrada de teclado está prestes a ser Postado em uma fila de entrada de thread.</span><span class="sxs-lookup"><span data-stu-id="c7877-158">The system calls this function every time a new keyboard input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="c7877-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-159">[*LowLevelMouseProc*](/previous-versions/windows/desktop/legacy/ms644986(v=vs.85))</span></span>       | <span data-ttu-id="c7877-160">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-160">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-161">O sistema chama essa função toda vez que um novo evento de entrada do mouse está prestes a ser Postado em uma fila de entrada de thread.</span><span class="sxs-lookup"><span data-stu-id="c7877-161">The system calls this function every time a new mouse input event is about to be posted into a thread input queue.</span></span><br/>                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="c7877-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-162">[*MessageProc*](/previous-versions/windows/desktop/legacy/ms644987(v=vs.85))</span></span>                   | <span data-ttu-id="c7877-163">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-163">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-164">O sistema chama essa função depois que um evento de entrada ocorre em uma caixa de diálogo, caixa de mensagem, menu ou barra de rolagem, mas antes que a mensagem gerada pelo evento de entrada seja processada.</span><span class="sxs-lookup"><span data-stu-id="c7877-164">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="c7877-165">O procedimento de gancho pode monitorar mensagens de uma caixa de diálogo, caixa de mensagem, menu ou barra de rolagem criada por um determinado aplicativo ou por todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c7877-165">The hook procedure can monitor messages for a dialog box, message box, menu, or scroll bar created by a particular application or all applications.</span></span><br/>                                                                                                                       |
| <span data-ttu-id="c7877-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-166">[*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85))</span></span>                       | <span data-ttu-id="c7877-167">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-167">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-168">O sistema chama essa função sempre que um aplicativo chama a função [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) ou [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) e há uma mensagem do mouse a ser processada.</span><span class="sxs-lookup"><span data-stu-id="c7877-168">The system calls this function whenever an application calls the [**GetMessage**](/windows/win32/api/winuser/nf-winuser-getmessage) or [**PeekMessage**](/windows/win32/api/winuser/nf-winuser-peekmessagea) function and there is a mouse message to be processed.</span></span> <br/>                                                                                                                                                                                                                                                           |
| [<span data-ttu-id="c7877-169">**SetWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="c7877-169">**SetWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-setwindowshookexa)       | <span data-ttu-id="c7877-170">Instala um procedimento de gancho definido pelo aplicativo em uma cadeia de ganchos.</span><span class="sxs-lookup"><span data-stu-id="c7877-170">Installs an application-defined hook procedure into a hook chain.</span></span> <span data-ttu-id="c7877-171">Você instalaria um procedimento de gancho para monitorar o sistema em busca de determinados tipos de eventos.</span><span class="sxs-lookup"><span data-stu-id="c7877-171">You would install a hook procedure to monitor the system for certain types of events.</span></span> <span data-ttu-id="c7877-172">Esses eventos são associados a um thread específico ou a todos os threads na mesma área de trabalho que o thread de chamada.</span><span class="sxs-lookup"><span data-stu-id="c7877-172">These events are associated either with a specific thread or with all threads in the same desktop as the calling thread.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="c7877-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-173">[*ShellProc*](/previous-versions/windows/desktop/legacy/ms644991(v=vs.85))</span></span>                       | <span data-ttu-id="c7877-174">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-174">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-175">A função recebe notificações de eventos do shell do sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-175">The function receives notifications of Shell events from the system.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="c7877-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c7877-176">[*SysMsgProc*](/previous-versions/windows/desktop/legacy/ms644992(v=vs.85))</span></span>                     | <span data-ttu-id="c7877-177">Uma função de retorno de chamada definida por aplicativo ou definida pela biblioteca usada com a função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-177">An application-defined or library-defined callback function used with the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <span data-ttu-id="c7877-178">O sistema chama essa função depois que um evento de entrada ocorre em uma caixa de diálogo, caixa de mensagem, menu ou barra de rolagem, mas antes que a mensagem gerada pelo evento de entrada seja processada.</span><span class="sxs-lookup"><span data-stu-id="c7877-178">The system calls this function after an input event occurs in a dialog box, message box, menu, or scroll bar, but before the message generated by the input event is processed.</span></span> <span data-ttu-id="c7877-179">A função pode monitorar mensagens para qualquer caixa de diálogo, caixa de mensagem, menu ou barra de rolagem no sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-179">The function can monitor messages for any dialog box, message box, menu, or scroll bar in the system.</span></span> <br/>                                                                                                                                                                    |
| [<span data-ttu-id="c7877-180">**UnhookWindowsHookEx**</span><span class="sxs-lookup"><span data-stu-id="c7877-180">**UnhookWindowsHookEx**</span></span>](/windows/win32/api/winuser/nf-winuser-unhookwindowshookex) | <span data-ttu-id="c7877-181">Remove um procedimento de gancho instalado em uma cadeia de gancho pela função [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) .</span><span class="sxs-lookup"><span data-stu-id="c7877-181">Removes a hook procedure installed in a hook chain by the [**SetWindowsHookEx**](/windows/win32/api/winuser/nf-winuser-setwindowshookexa) function.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |



 

### <a name="hook-notifications"></a><span data-ttu-id="c7877-182">Notificações de gancho</span><span class="sxs-lookup"><span data-stu-id="c7877-182">Hook Notifications</span></span>



| <span data-ttu-id="c7877-183">Nome</span><span class="sxs-lookup"><span data-stu-id="c7877-183">Name</span></span>                                          | <span data-ttu-id="c7877-184">Descrição</span><span class="sxs-lookup"><span data-stu-id="c7877-184">Description</span></span>                                                                                                                                                                         |
|-----------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="c7877-185">**CANCELJOURNAL do WM \_**</span><span class="sxs-lookup"><span data-stu-id="c7877-185">**WM\_CANCELJOURNAL**</span></span>](wm-canceljournal.md) | <span data-ttu-id="c7877-186">Postado em um aplicativo quando um usuário cancela as atividades de registro em diário do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c7877-186">Posted to an application when a user cancels the application's journaling activities.</span></span> <span data-ttu-id="c7877-187">A mensagem é postada com um identificador de janela **nulo** .</span><span class="sxs-lookup"><span data-stu-id="c7877-187">The message is posted with a **NULL** window handle.</span></span> <br/>                              |
| [<span data-ttu-id="c7877-188">**QUEUESYNC do WM \_**</span><span class="sxs-lookup"><span data-stu-id="c7877-188">**WM\_QUEUESYNC**</span></span>](wm-queuesync.md)         | <span data-ttu-id="c7877-189">Enviado por um aplicativo CBT para separar mensagens de entrada de usuário de outras mensagens enviadas por meio do procedimento [**\_ JOURNALPLAYBACK do qu**](about-hooks.md) .</span><span class="sxs-lookup"><span data-stu-id="c7877-189">Sent by a CBT application to separate user-input messages from other messages sent through the [**WH\_JOURNALPLAYBACK**](about-hooks.md) procedure.</span></span> <br/> |



 

### <a name="hook-structures"></a><span data-ttu-id="c7877-190">Estruturas de gancho</span><span class="sxs-lookup"><span data-stu-id="c7877-190">Hook Structures</span></span>



| <span data-ttu-id="c7877-191">Nome</span><span class="sxs-lookup"><span data-stu-id="c7877-191">Name</span></span>                                           | <span data-ttu-id="c7877-192">Descrição</span><span class="sxs-lookup"><span data-stu-id="c7877-192">Description</span></span>                                                                                                                                                                                                                 |
|------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="c7877-193">**CBT \_ CREATEWND**</span><span class="sxs-lookup"><span data-stu-id="c7877-193">**CBT\_CREATEWND**</span></span>](/windows/win32/api/winuser/ns-winuser-cbt_createwnda)        | <span data-ttu-id="c7877-194">Contém informações passadas para um procedimento de gancho **\_ CBT** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), antes de uma janela ser criada.</span><span class="sxs-lookup"><span data-stu-id="c7877-194">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is created.</span></span><br/>                                                                                               |
| [<span data-ttu-id="c7877-195">**CBTACTIVATESTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-195">**CBTACTIVATESTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cbtactivatestruct) | <span data-ttu-id="c7877-196">Contém informações passadas para um procedimento de gancho **\_ CBT** , [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), antes de uma janela ser ativada.</span><span class="sxs-lookup"><span data-stu-id="c7877-196">Contains information passed to a **WH\_CBT** hook procedure, [*CBTProc*](/previous-versions/windows/desktop/legacy/ms644977(v=vs.85)), before a window is activated.</span></span> <br/>                                                                                            |
| [<span data-ttu-id="c7877-197">**CWPRETSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-197">**CWPRETSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpretstruct)           | <span data-ttu-id="c7877-198">Define os parâmetros de mensagem passados para um procedimento de gancho **\_ CALLWNDPROCRET** , [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span><span class="sxs-lookup"><span data-stu-id="c7877-198">Defines the message parameters passed to a **WH\_CALLWNDPROCRET** hook procedure, [*CallWndRetProc*](/windows/win32/api/winuser/nc-winuser-hookproc).</span></span> <br/>                                                                                       |
| [<span data-ttu-id="c7877-199">**CWPSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-199">**CWPSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-cwpstruct)                 | <span data-ttu-id="c7877-200">Define os parâmetros de mensagem passados para um procedimento de gancho **\_ CALLWNDPROC** , [*CALLWNDPROC*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="c7877-200">Defines the message parameters passed to a **WH\_CALLWNDPROC** hook procedure, [*CallWndProc*](/previous-versions/windows/desktop/legacy/ms644975(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="c7877-201">**DEBUGHOOKINFO**</span><span class="sxs-lookup"><span data-stu-id="c7877-201">**DEBUGHOOKINFO**</span></span>](/windows/win32/api/winuser/ns-winuser-debughookinfo)         | <span data-ttu-id="c7877-202">Contém informações de depuração passadas para um procedimento de gancho de **\_ depuração do qu** , [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="c7877-202">Contains debugging information passed to a **WH\_DEBUG** hook procedure, [*DebugProc*](/previous-versions/windows/desktop/legacy/ms644978(v=vs.85)).</span></span> <br/>                                                                                                          |
| [<span data-ttu-id="c7877-203">**EVENTMSG**</span><span class="sxs-lookup"><span data-stu-id="c7877-203">**EVENTMSG**</span></span>](/windows/win32/api/winuser/ns-winuser-eventmsg)                   | <span data-ttu-id="c7877-204">Contém informações sobre uma mensagem de hardware enviada para a fila de mensagens do sistema.</span><span class="sxs-lookup"><span data-stu-id="c7877-204">Contains information about a hardware message sent to the system message queue.</span></span> <span data-ttu-id="c7877-205">Essa estrutura é usada para armazenar informações de mensagem para a função de retorno de chamada [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="c7877-205">This structure is used to store message information for the [*JournalPlaybackProc*](/previous-versions/windows/desktop/legacy/ms644982(v=vs.85)) callback function.</span></span> <br/> |
| [<span data-ttu-id="c7877-206">**KBDLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-206">**KBDLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-kbdllhookstruct)     | <span data-ttu-id="c7877-207">Contém informações sobre um evento de entrada de teclado de baixo nível.</span><span class="sxs-lookup"><span data-stu-id="c7877-207">Contains information about a low-level keyboard input event.</span></span> <br/>                                                                                                                                                    |
| [<span data-ttu-id="c7877-208">**MOUSEHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-208">**MOUSEHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstruct)     | <span data-ttu-id="c7877-209">Contém informações sobre um evento de mouse passado para um procedimento de gancho **\_ do mouse de qu** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="c7877-209">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="c7877-210">**MOUSEHOOKSTRUCTEX**</span><span class="sxs-lookup"><span data-stu-id="c7877-210">**MOUSEHOOKSTRUCTEX**</span></span>](/windows/win32/api/winuser/ns-winuser-mousehookstructex) | <span data-ttu-id="c7877-211">Contém informações sobre um evento de mouse passado para um procedimento de gancho **\_ do mouse de qu** , [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="c7877-211">Contains information about a mouse event passed to a **WH\_MOUSE** hook procedure, [*MouseProc*](/previous-versions/windows/desktop/legacy/ms644988(v=vs.85)).</span></span> <br/>                                                                                                |
| [<span data-ttu-id="c7877-212">**MSLLHOOKSTRUCT**</span><span class="sxs-lookup"><span data-stu-id="c7877-212">**MSLLHOOKSTRUCT**</span></span>](/windows/win32/api/winuser/ns-winuser-msllhookstruct)       | <span data-ttu-id="c7877-213">Contém informações sobre um evento de entrada do mouse de baixo nível.</span><span class="sxs-lookup"><span data-stu-id="c7877-213">Contains information about a low-level mouse input event.</span></span> <br/>                                                                                                                                                       |



 

## <a name="related-topics"></a><span data-ttu-id="c7877-214">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c7877-214">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c7877-215">**SetWinEventHook**</span><span class="sxs-lookup"><span data-stu-id="c7877-215">**SetWinEventHook**</span></span>](/windows/desktop/api/winuser/nf-winuser-setwineventhook)
</dt> </dl>

 

