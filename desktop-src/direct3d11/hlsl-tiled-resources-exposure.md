---
title: Exposição dos recursos do lado do HLSL
description: A nova sintaxe de HLSL (linguagem de sombreamento de alto nível) da Microsoft é necessária para dar suporte a recursos de lado do sombreado no modelo de Shader
ms.assetid: B6CE51E6-1BA9-4D15-9654-86FE9BAAF585
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2b266b98045b38645e1e8d24ed0014a5f448a38
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104454186"
---
# <a name="hlsl-tiled-resources-exposure"></a><span data-ttu-id="4463c-103">Exposição dos recursos do lado do HLSL</span><span class="sxs-lookup"><span data-stu-id="4463c-103">HLSL tiled resources exposure</span></span>

<span data-ttu-id="4463c-104">A nova sintaxe de HLSL (linguagem de sombreamento de alto nível) da Microsoft é necessária para dar suporte a recursos de lado do [sombreado no modelo de Shader](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5)</span><span class="sxs-lookup"><span data-stu-id="4463c-104">New Microsoft High Level Shader Language (HLSL) syntax is required to support tiled resources in [Shader Model 5](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5).</span></span>

<span data-ttu-id="4463c-105">A nova sintaxe HLSL é permitida somente em dispositivos com suporte a recursos de lado.</span><span class="sxs-lookup"><span data-stu-id="4463c-105">The new HLSL syntax is allowed only on devices with tiled resources support.</span></span> <span data-ttu-id="4463c-106">Cada método HLSL relevante para os recursos ao lado do quadro na tabela a seguir aceita um (feedback) ou dois (fixe e comentários nesta ordem) parâmetros opcionais adicionais.</span><span class="sxs-lookup"><span data-stu-id="4463c-106">Each relevant HLSL method for tiled resources in the following table accepts either one (feedback) or two (clamp and feedback in this order) additional optional parameters.</span></span> <span data-ttu-id="4463c-107">Por exemplo, um método de **Amostra** é:</span><span class="sxs-lookup"><span data-stu-id="4463c-107">For example, a **Sample** method is:</span></span>

<span data-ttu-id="4463c-108">**Exemplo (amostra, local \[ , deslocamento \[ , fixe \[ , comentários \] \] \] )**</span><span class="sxs-lookup"><span data-stu-id="4463c-108">**Sample(sampler, location \[, offset \[, clamp \[, feedback\] \] \])**</span></span>

<span data-ttu-id="4463c-109">Um exemplo de um método de **Amostra** é [**Texture2D.Sample(S,float,int,float,uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-).</span><span class="sxs-lookup"><span data-stu-id="4463c-109">An example of a **Sample** method is [**Texture2D.Sample(S,float,int,float,uint)**](/windows/desktop/direct3dhlsl/t2darray-sample-s-float-int-float-uint-).</span></span>

<span data-ttu-id="4463c-110">Os parâmetros de deslocamento, vinculação e feedback são opcionais.</span><span class="sxs-lookup"><span data-stu-id="4463c-110">The offset, clamp and feedback parameters are optional.</span></span> <span data-ttu-id="4463c-111">Você deve especificar todos os parâmetros opcionais até aquele que você precisa, que é consistente com as regras do C++ para argumentos de função padrão.</span><span class="sxs-lookup"><span data-stu-id="4463c-111">You must specify all optional parameters up to the one you need, which is consistent with the C++ rules for default function arguments.</span></span> <span data-ttu-id="4463c-112">Por exemplo, se for necessário o status de feedback, parâmetros de compensação e vinculação precisam ser fornecidos explicitamente à **Amostra**, mesmo que eles talvez não sejam logicamente necessários.</span><span class="sxs-lookup"><span data-stu-id="4463c-112">For example, if the feedback status is needed, both offset and clamp parameters need to be explicitly supplied to **Sample**, even though they may not be logically needed.</span></span>

<span data-ttu-id="4463c-113">O parâmetro de vinculação é um valor flutuante escalar.</span><span class="sxs-lookup"><span data-stu-id="4463c-113">The clamp parameter is a scalar float value.</span></span> <span data-ttu-id="4463c-114">O valor literal de vinculação = 0.0f indica que a operação de vinculação não é executada.</span><span class="sxs-lookup"><span data-stu-id="4463c-114">The literal value of clamp=0.0f indicates that the clamp operation isn't performed.</span></span>

<span data-ttu-id="4463c-115">O parâmetro de feedback é uma variável **uint** que você pode fornecer para o acesso à memória consultando a função intrínseca [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped).</span><span class="sxs-lookup"><span data-stu-id="4463c-115">The feedback parameter is a **uint** variable that you can supply to the memory-access querying intrinsic [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) function.</span></span> <span data-ttu-id="4463c-116">Você não deve modificar ou interpretar o valor do parâmetro de feedback; porém, o compilador não fornece qualquer análise avançada e diagnóstico para detectar se você modificou o valor.</span><span class="sxs-lookup"><span data-stu-id="4463c-116">You must not modify or interpret the value of the feedback parameter; but, the compiler doesn't provide any advanced analysis and diagnostics to detect whether you modified the value.</span></span>

<span data-ttu-id="4463c-117">Veja aqui a sintaxe de [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span><span class="sxs-lookup"><span data-stu-id="4463c-117">Here is the syntax of [**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped):</span></span>

<span data-ttu-id="4463c-118">**bool CheckAccessFullyMapped(em uint FeedbackVar);**</span><span class="sxs-lookup"><span data-stu-id="4463c-118">**bool CheckAccessFullyMapped(in uint FeedbackVar);**</span></span>

<span data-ttu-id="4463c-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interpreta o valor de *FeedbackVar* e retorna true se todos os dados que estão sendo acessados foram mapeados no recurso; caso contrário, **CheckAccessFullyMapped** retorna false.</span><span class="sxs-lookup"><span data-stu-id="4463c-119">[**CheckAccessFullyMapped**](/windows/desktop/direct3dhlsl/checkaccessfullymapped) interprets the value of *FeedbackVar* and returns true if all data being accessed was mapped in the resource; otherwise, **CheckAccessFullyMapped** returns false.</span></span>

<span data-ttu-id="4463c-120">Se o parâmetro de feedback ou vinculação estiver presente, o compilador emite uma variante de instrução básica.</span><span class="sxs-lookup"><span data-stu-id="4463c-120">If either the clamp or feedback parameter is present, the compiler emits a variant of the basic instruction.</span></span> <span data-ttu-id="4463c-121">Por exemplo, um exemplo de um recurso de lado-a-botão gera a `sample_cl_s` instrução.</span><span class="sxs-lookup"><span data-stu-id="4463c-121">For example, sample of a tiled resource generates the `sample_cl_s` instruction.</span></span> <span data-ttu-id="4463c-122">Se nem a vinculação nem o feedback forem especificados, o compilador emite a instrução básica, para que não haja nenhuma alteração do comportamento atual.</span><span class="sxs-lookup"><span data-stu-id="4463c-122">If neither clamp nor feedback is specified, the compiler emits the basic instruction, so that there is no change from the current behavior.</span></span> <span data-ttu-id="4463c-123">O valor de vinculação de 0.0f indica que nenhuma vinculação é realizada; dessa forma, o compilador de driver adicional pode continuar adaptando a instrução para o hardware de destino.</span><span class="sxs-lookup"><span data-stu-id="4463c-123">The clamp value of 0.0f indicates that no clamp is performed; thus, the driver compiler can further tailor the instruction to the target hardware.</span></span> <span data-ttu-id="4463c-124">Se o feedback for um registro NULL em uma instrução, o feedback não é utilizado; dessa forma, o compilador de driver pode continuar adaptando a instrução para a arquitetura de destino.</span><span class="sxs-lookup"><span data-stu-id="4463c-124">If feedback is a NULL register in an instruction, the feedback is unused; thus, the driver compiler can further tailor the instruction to the target architecture.</span></span>

<span data-ttu-id="4463c-125">Se o compilador HLSL infere que vinculação é 0.0f e feedback não é utilizado, o compilador emite a instrução básica correspondente (por exemplo, `sample` em vez de `sample_cl_s`).</span><span class="sxs-lookup"><span data-stu-id="4463c-125">If the HLSL compiler infers that clamp is 0.0f and feedback is unused, the compiler emits the corresponding basic instruction (for example, `sample` rather than `sample_cl_s`).</span></span>

<span data-ttu-id="4463c-126">Se um acesso a recursos de lado ladrilho consistir em várias instruções de código de byte constituintes, por exemplo, para recursos estruturados, o compilador agregará valores de Comentários individuais por meio da operação ou para produzir o valor de comentários final.</span><span class="sxs-lookup"><span data-stu-id="4463c-126">If a tiled resource access consists of several constituent byte code instructions, for example, for structured resources, the compiler aggregates individual feedback values via the OR operation to produce the final feedback value.</span></span> <span data-ttu-id="4463c-127">Portanto, você pode ver um único valor de feedback para tal acesso complexo.</span><span class="sxs-lookup"><span data-stu-id="4463c-127">Therefore, you see a single feedback value for such a complex access.</span></span>

<span data-ttu-id="4463c-128">Esta é a tabela resumida dos métodos HLSL que são alterados para dar suporte a feedback e/ou vinculação.</span><span class="sxs-lookup"><span data-stu-id="4463c-128">This is the summary table of HLSL methods that are changed to support feedback and/or clamp.</span></span> <span data-ttu-id="4463c-129">Tudo isso funciona em recursos ao lado e fora do lado da região de todas as dimensões.</span><span class="sxs-lookup"><span data-stu-id="4463c-129">These all work on tiled and non-tiled resources of all dimensions.</span></span> <span data-ttu-id="4463c-130">Os recursos sem ladrilhos sempre parecem estar totalmente mapeados.</span><span class="sxs-lookup"><span data-stu-id="4463c-130">Non-tiled resources always appear to be fully mapped.</span></span>



| [<span data-ttu-id="4463c-131">Objetos HLSL</span><span class="sxs-lookup"><span data-stu-id="4463c-131">HLSL objects</span></span>](/windows/desktop/direct3dhlsl/d3d11-graphics-reference-sm5-objects)                                                                                                                                                                                                                                | <span data-ttu-id="4463c-132">Os métodos intrínsecos com a opção de comentários ( \* ) – também tem a opção fixe</span><span class="sxs-lookup"><span data-stu-id="4463c-132">Intrinsic methods with feedback option (\*) - also has clamp option</span></span>                                                                                                                                                                  |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="4463c-133">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-133">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4463c-134">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="4463c-134">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4463c-135">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="4463c-135">TextureCUBE</span></span><br/> <span data-ttu-id="4463c-136">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="4463c-136">TextureCUBEArray</span></span><br/>                                                                                                                                                                                    | <span data-ttu-id="4463c-137">Coletar</span><span class="sxs-lookup"><span data-stu-id="4463c-137">Gather</span></span><br/> <span data-ttu-id="4463c-138">GatherRed</span><span class="sxs-lookup"><span data-stu-id="4463c-138">GatherRed</span></span><br/> <span data-ttu-id="4463c-139">GatherGreen</span><span class="sxs-lookup"><span data-stu-id="4463c-139">GatherGreen</span></span><br/> <span data-ttu-id="4463c-140">GatherBlue</span><span class="sxs-lookup"><span data-stu-id="4463c-140">GatherBlue</span></span><br/> <span data-ttu-id="4463c-141">GatherAlpha</span><span class="sxs-lookup"><span data-stu-id="4463c-141">GatherAlpha</span></span><br/> <span data-ttu-id="4463c-142">GatherCmp</span><span class="sxs-lookup"><span data-stu-id="4463c-142">GatherCmp</span></span><br/> <span data-ttu-id="4463c-143">GatherCmpRed</span><span class="sxs-lookup"><span data-stu-id="4463c-143">GatherCmpRed</span></span><br/> <span data-ttu-id="4463c-144">GatherCmpGreen</span><span class="sxs-lookup"><span data-stu-id="4463c-144">GatherCmpGreen</span></span><br/> <span data-ttu-id="4463c-145">GatherCmpBlue</span><span class="sxs-lookup"><span data-stu-id="4463c-145">GatherCmpBlue</span></span><br/> <span data-ttu-id="4463c-146">GatherCmpAlpha</span><span class="sxs-lookup"><span data-stu-id="4463c-146">GatherCmpAlpha</span></span><br/> |
| <span data-ttu-id="4463c-147">\[\]TEXTURE1D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-147">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="4463c-148">\[\]TEXTURE1DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="4463c-148">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="4463c-149">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-149">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4463c-150">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="4463c-150">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4463c-151">\[\]TEXTURE3D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-151">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="4463c-152">TextureCUBE</span><span class="sxs-lookup"><span data-stu-id="4463c-152">TextureCUBE</span></span><br/> <span data-ttu-id="4463c-153">TextureCUBEArray</span><span class="sxs-lookup"><span data-stu-id="4463c-153">TextureCUBEArray</span></span><br/>                                                                                              | <span data-ttu-id="4463c-154">Nova\*</span><span class="sxs-lookup"><span data-stu-id="4463c-154">Sample\*</span></span><br/> <span data-ttu-id="4463c-155">SampleBias\*</span><span class="sxs-lookup"><span data-stu-id="4463c-155">SampleBias\*</span></span><br/> <span data-ttu-id="4463c-156">SampleCmp\*</span><span class="sxs-lookup"><span data-stu-id="4463c-156">SampleCmp\*</span></span><br/> <span data-ttu-id="4463c-157">SampleCmpLevelZero</span><span class="sxs-lookup"><span data-stu-id="4463c-157">SampleCmpLevelZero</span></span><br/> <span data-ttu-id="4463c-158">SampleGrad\*</span><span class="sxs-lookup"><span data-stu-id="4463c-158">SampleGrad\*</span></span><br/> <span data-ttu-id="4463c-159">SampleLevel</span><span class="sxs-lookup"><span data-stu-id="4463c-159">SampleLevel</span></span><br/>                                                                                      |
| <span data-ttu-id="4463c-160">\[\]TEXTURE1D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-160">\[RW\]Texture1D</span></span><br/> <span data-ttu-id="4463c-161">\[\]TEXTURE1DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="4463c-161">\[RW\]Texture1DArray</span></span><br/> <span data-ttu-id="4463c-162">\[\]TEXTURE2D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-162">\[RW\]Texture2D</span></span><br/> <span data-ttu-id="4463c-163">Texture2DMS</span><span class="sxs-lookup"><span data-stu-id="4463c-163">Texture2DMS</span></span><br/> <span data-ttu-id="4463c-164">\[\]TEXTURE2DARRAY RW</span><span class="sxs-lookup"><span data-stu-id="4463c-164">\[RW\]Texture2DArray</span></span><br/> <span data-ttu-id="4463c-165">Texture2DArrayMS</span><span class="sxs-lookup"><span data-stu-id="4463c-165">Texture2DArrayMS</span></span><br/> <span data-ttu-id="4463c-166">\[\]TEXTURE3D RW</span><span class="sxs-lookup"><span data-stu-id="4463c-166">\[RW\]Texture3D</span></span><br/> <span data-ttu-id="4463c-167">\[Buffer de RW \]</span><span class="sxs-lookup"><span data-stu-id="4463c-167">\[RW\]Buffer</span></span><br/> <span data-ttu-id="4463c-168">\[\]BYTEADDRESSBUFFER RW</span><span class="sxs-lookup"><span data-stu-id="4463c-168">\[RW\]ByteAddressBuffer</span></span><br/> <span data-ttu-id="4463c-169">\[\]STRUCTUREDBUFFER RW</span><span class="sxs-lookup"><span data-stu-id="4463c-169">\[RW\]StructuredBuffer</span></span><br/> | <span data-ttu-id="4463c-170">Carregamento</span><span class="sxs-lookup"><span data-stu-id="4463c-170">Load</span></span>                                                                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="4463c-171">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="4463c-171">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="4463c-172">Acesso ao pipeline para recursos lado a lado</span><span class="sxs-lookup"><span data-stu-id="4463c-172">Pipeline access to tiled resources</span></span>](pipeline-access-to-tiled-resources.md)
</dt> </dl>

 

