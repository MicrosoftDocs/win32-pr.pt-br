---
title: Regras de rasterização
description: As regras de rasterização definem como os dados de vetor são mapeados nos dados de rasterização.
ms.assetid: 2b3894eb-dff3-401f-8b14-4af98db86e39
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e256c6fc171c1cce9b63b79fac6a480e507a306e
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104366049"
---
# <a name="rasterization-rules"></a><span data-ttu-id="f2903-103">Regras de rasterização</span><span class="sxs-lookup"><span data-stu-id="f2903-103">Rasterization Rules</span></span>

<span data-ttu-id="f2903-104">As regras de rasterização definem como os dados de vetor são mapeados nos dados de rasterização.</span><span class="sxs-lookup"><span data-stu-id="f2903-104">Rasterization rules define how vector data is mapped into raster data.</span></span> <span data-ttu-id="f2903-105">Os dados de rasterização são ajustados para locais de inteiro que são, em seguida, removidos e recortados (para desenhar o número mínimo de pixels) e atributos de por pixel são interpolados (de atributos de vértice) antes de serem passados para um sombreador de pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-105">The raster data is snapped to integer locations that are then culled and clipped (to draw the minimum number of pixels), and per-pixel attributes are interpolated (from per-vertex attributes) before being passed to a pixel shader.</span></span>

<span data-ttu-id="f2903-106">Existem vários tipos de regras, que dependem do tipo de primitivo que está sendo mapeado, bem como se os dados usam ou não várias amostras para reduzir o serrilhado.</span><span class="sxs-lookup"><span data-stu-id="f2903-106">There are several types of rules, which depend on the type of primitive that is being mapped, as well as whether or not the data uses multisampling to reduce aliasing.</span></span> <span data-ttu-id="f2903-107">As ilustrações a seguir demonstram como os casos de canto são manipulados.</span><span class="sxs-lookup"><span data-stu-id="f2903-107">The following illustrations demonstrate how the corner cases are handled.</span></span>

-   [<span data-ttu-id="f2903-108">Regras de rasterização de triângulo (sem multiamostragem)</span><span class="sxs-lookup"><span data-stu-id="f2903-108">Triangle Rasterization Rules (Without Multisampling)</span></span>](#triangle-rasterization-rules-without-multisampling)
-   [<span data-ttu-id="f2903-109">Regras de rasterização de linha (com alias, sem multiamostragem)</span><span class="sxs-lookup"><span data-stu-id="f2903-109">Line Rasterization Rules (Aliased, Without Multisampling)</span></span>](#line-rasterization-rules-aliased-without-multisampling)
-   [<span data-ttu-id="f2903-110">Regras de rasterização de linha (com alias sem multiamostragem)</span><span class="sxs-lookup"><span data-stu-id="f2903-110">Line Rasterization Rules (Antialiased, Without Multisampling)</span></span>](#line-rasterization-rules-antialiased-without-multisampling)
-   [<span data-ttu-id="f2903-111">Regras de rasterização de ponto (sem multiamostragem)</span><span class="sxs-lookup"><span data-stu-id="f2903-111">Point Rasterization Rules (Without Multisampling)</span></span>](#point-rasterization-rules-without-multisampling)
-   [<span data-ttu-id="f2903-112">Regras de rasterização de suavização de multiamostra</span><span class="sxs-lookup"><span data-stu-id="f2903-112">Multisample Anti-Aliasing Rasterization Rules</span></span>](#multisample-anti-aliasing-rasterization-rules)
    -   [<span data-ttu-id="f2903-113">Suporte a hardware</span><span class="sxs-lookup"><span data-stu-id="f2903-113">Hardware Support</span></span>](#hardware-support)
    -   [<span data-ttu-id="f2903-114">Amostragem de atributos de centróide quando a suavização de multiamostras</span><span class="sxs-lookup"><span data-stu-id="f2903-114">Centroid Sampling of Attributes when Multisample Antialiasing</span></span>](#centroid-sampling-of-attributes-when-multisample-antialiasing)
    -   [<span data-ttu-id="f2903-115">Cálculos derivativos quando multiamostra</span><span class="sxs-lookup"><span data-stu-id="f2903-115">Derivative Calculations When Multisampling</span></span>](#derivative-calculations-when-multisampling)
-   [<span data-ttu-id="f2903-116">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f2903-116">Related topics</span></span>](#related-topics)

## <a name="triangle-rasterization-rules-without-multisampling"></a><span data-ttu-id="f2903-117">Regras de rasterização de triângulo (sem várias amostragens)</span><span class="sxs-lookup"><span data-stu-id="f2903-117">Triangle Rasterization Rules (Without Multisampling)</span></span>

<span data-ttu-id="f2903-118">Qualquer centro de pixel que cai dentro de um triângulo é desenhado; um pixel é considerado estar dentro se passar pela regra superior esquerdo.</span><span class="sxs-lookup"><span data-stu-id="f2903-118">Any pixel center which falls inside a triangle is drawn; a pixel is assumed to be inside if it passes the top-left rule.</span></span> <span data-ttu-id="f2903-119">A regra superior esquerdo é quando um centro de pixel é definido como estando dentro de um triângulo se ficar na borda superior ou na borda esquerda de um triângulo.</span><span class="sxs-lookup"><span data-stu-id="f2903-119">The top-left rule is that a pixel center is defined to lie inside of a triangle if it lies on the top edge or the left edge of a triangle.</span></span>

<span data-ttu-id="f2903-120">Em que:</span><span class="sxs-lookup"><span data-stu-id="f2903-120">Where:</span></span>

-   <span data-ttu-id="f2903-121">Uma borda superior é uma borda exatamente horizontal e acima das outras bordas.</span><span class="sxs-lookup"><span data-stu-id="f2903-121">A top edge, is an edge that is exactly horizontal and is above the other edges.</span></span>
-   <span data-ttu-id="f2903-122">Uma borda esquerda, é uma borda que não é exatamente horizontal e está no lado esquerdo do triângulo.</span><span class="sxs-lookup"><span data-stu-id="f2903-122">A left edge, is an edge that is not exactly horizontal and is on the left side of the triangle.</span></span> <span data-ttu-id="f2903-123">Um triângulo pode ter uma ou duas bordas à esquerda.</span><span class="sxs-lookup"><span data-stu-id="f2903-123">A triangle can have one or two left edges.</span></span>

<span data-ttu-id="f2903-124">A regra superior esquerdo garante que triângulos adjacentes sejam desenhados uma vez.</span><span class="sxs-lookup"><span data-stu-id="f2903-124">The top-left rule ensures that adjacent triangles are drawn once.</span></span>

<span data-ttu-id="f2903-125">Esta ilustração mostra exemplos de pixels desenhados por estarem dentro de um triângulo ou seguindo a regra superior esquerdo.</span><span class="sxs-lookup"><span data-stu-id="f2903-125">This illustration shows examples of pixels that are drawn because they either lie inside a triangle or follow the top-left rule.</span></span>

![ilustração de exemplos de rasterização de triângulo superior esquerdo](images/d3d10-rasterrulestriangle.png)

<span data-ttu-id="f2903-127">A cobertura cinza clara e escura dos pixels os mostra como grupos de pixels para indicar dentro de qual triângulo estão dentro.</span><span class="sxs-lookup"><span data-stu-id="f2903-127">The light and dark gray covering of the pixels show them as groups of the pixels to indicate which triangle they are inside.</span></span>

## <a name="line-rasterization-rules-aliased-without-multisampling"></a><span data-ttu-id="f2903-128">Regras de rasterização de linha (serrilhado, sem várias amostras)</span><span class="sxs-lookup"><span data-stu-id="f2903-128">Line Rasterization Rules (Aliased, Without Multisampling)</span></span>

<span data-ttu-id="f2903-129">Regras de rasterização de linha usam uma área de teste de diamante para determinar se uma linha abrange um pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-129">Line rasterization rules use a diamond test area to determine if a line covers a pixel.</span></span> <span data-ttu-id="f2903-130">Para as linhas principais x (linhas com-1 <= inclinação <= + 1), a área de teste de losango inclui (mostrada sólida) a borda inferior esquerda, a borda inferior direita e o canto inferior; o losango exclui (mostrado pontilhado) a borda superior esquerda, a borda superior direita, o fio superior, o canto esquerdo e o canto direito.</span><span class="sxs-lookup"><span data-stu-id="f2903-130">For x-major lines (lines with -1 <= slope <= +1), the diamond test area includes (shown solid) the lower-left edge, lower-right edge, and bottom corner; the diamond excludes (shown dotted) the upper-left edge, upper-right edge, the top corder, the left corner, and the right corner.</span></span> <span data-ttu-id="f2903-131">Uma linha de y grande é qualquer linha que não seja uma linha de x grande; a área de diamante de teste é a mesma conforme descrito para a linha de x grande, exceto pelo canto direito também estar incluído.</span><span class="sxs-lookup"><span data-stu-id="f2903-131">A y-major line is any line that is not an x-major line; the test diamond area is the same as described for the x-major line except the right corner is also included.</span></span>

<span data-ttu-id="f2903-132">Dada a área de diamante, uma linha abrange um pixel se a linha sai da área de teste de diamante do pixel ao passar pela linha desde o início até o final.</span><span class="sxs-lookup"><span data-stu-id="f2903-132">Given the diamond area, a line covers a pixel if the line exits the pixel's diamond test area when traveling along the line from the start towards the end.</span></span> <span data-ttu-id="f2903-133">Uma faixa de linha se comporta da mesma forma, pois é desenhada como uma sequência de linhas.</span><span class="sxs-lookup"><span data-stu-id="f2903-133">A line strip behaves the same, as it is drawn as a sequence of lines.</span></span>

<span data-ttu-id="f2903-134">A ilustração a seguir mostra alguns exemplos.</span><span class="sxs-lookup"><span data-stu-id="f2903-134">The following illustration shows some examples.</span></span>

![ilustração de exemplos de rasterização de linha com alias](images/d3d10-rasterrulesline.png)

## <a name="line-rasterization-rules-antialiased-without-multisampling"></a><span data-ttu-id="f2903-136">Regras de rasterização de linha (com suavização, sem várias amostras)</span><span class="sxs-lookup"><span data-stu-id="f2903-136">Line Rasterization Rules (Antialiased, Without Multisampling)</span></span>

<span data-ttu-id="f2903-137">Uma linha suavizada é rasterizada como se fosse um retângulo (com largura = 1).</span><span class="sxs-lookup"><span data-stu-id="f2903-137">An antialiased line is rasterized as if it were a rectangle (with width = 1).</span></span> <span data-ttu-id="f2903-138">O retângulo cruza com um destino de renderização produzindo valores de cobertura por pixel, que são multiplicados em componentes alfa de saída de sombreador de pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-138">The rectangle intersects with a render target producing per-pixel coverage values, which are multiplied into pixel shader output alpha components.</span></span> <span data-ttu-id="f2903-139">Não há nenhuma suavização executada ao desenhar linhas em um destino de renderização com várias amostras.</span><span class="sxs-lookup"><span data-stu-id="f2903-139">There is no antialiasing preformed when drawing lines on a multisampled render target.</span></span>

<span data-ttu-id="f2903-140">Será considerado que não há uma "melhor" e única maneira para realizar uma renderização de linha com suavização.</span><span class="sxs-lookup"><span data-stu-id="f2903-140">It is deemed that there is no single "best" way to perform antialiased line rendering.</span></span> <span data-ttu-id="f2903-141">O Direct3D 10 adota como uma diretriz o método mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="f2903-141">Direct3D 10 adopts as a guideline the method shown in the following illustration.</span></span> <span data-ttu-id="f2903-142">Esse método foi derivado empiricamente, apresentando um número de propriedades visuais considerado desejável.</span><span class="sxs-lookup"><span data-stu-id="f2903-142">This method was derived empirically, exhibiting a number of visual properties deemed desirable.</span></span> <span data-ttu-id="f2903-143">O hardware não precisa corresponder exatamente a esse algoritmo; testes em relação a essa referência deverão ter tolerâncias "razoáveis" orientadas por alguns dos princípios listados mais abaixo, permitindo várias implementações de hardware e tamanhos de kernel do filtro.</span><span class="sxs-lookup"><span data-stu-id="f2903-143">Hardware need not exactly match this algorithm; tests against this reference shall have "reasonable" tolerances, guided by some of the principles listed further below, permitting various hardware implementations and filter kernel sizes.</span></span> <span data-ttu-id="f2903-144">No entanto, nenhuma dessas flexibilidade permitida na implementação de hardware pode ser comunicada por meio do Direct3D 10 para aplicativos, além de simplesmente desenhar linhas e observar/avaliar como elas parecem.</span><span class="sxs-lookup"><span data-stu-id="f2903-144">None of this flexibility permitted in hardware implementation, however, can be communicated up through Direct3D 10 to applications, beyond simply drawing lines and observing/measuring how they look.</span></span>

![ilustração de exemplos de rasterização de linha AntiAlias](images/d3d10-rasterruleslineaa.png)

<span data-ttu-id="f2903-146">Esse algoritmo gera linhas relativamente suaves, com intensidade uniforme, com mínimo de bordas com dentes ou trançados.</span><span class="sxs-lookup"><span data-stu-id="f2903-146">This algorithm generates relatively smooth lines, with uniform intensity, with minimal jagged edges or braiding.</span></span> <span data-ttu-id="f2903-147">O padrão moiré para linhas próximas é minimizado.</span><span class="sxs-lookup"><span data-stu-id="f2903-147">Moire patterning for close lines is minimized.</span></span> <span data-ttu-id="f2903-148">Há uma boa cobertura de junções entre os segmentos de linha colocados de ponta a ponta.</span><span class="sxs-lookup"><span data-stu-id="f2903-148">There is good coverage for junctions between line segments placed end-to-end.</span></span> <span data-ttu-id="f2903-149">O kernel do filtro é um equilíbrio razoável entre a quantidade de desfoque de borda e as alterações na intensidade causadas por correções de gama.</span><span class="sxs-lookup"><span data-stu-id="f2903-149">The filter kernel is a reasonable tradeoff between the amount of edge blurring and the changes in intensity caused by gamma corrections.</span></span> <span data-ttu-id="f2903-150">O valor de cobertura é multiplicado no sombreador de pixel o0. a (srcAlpha) de acordo com a fórmula a seguir pelo estágio output-merger: srcColor \* srcAlpha + destColor \* (1-srcAlpha).</span><span class="sxs-lookup"><span data-stu-id="f2903-150">The coverage value is multiplied into pixel shader o0.a (srcAlpha) per the following formula by the output-merger stage: srcColor \* srcAlpha + destColor \* (1-srcAlpha).</span></span>

## <a name="point-rasterization-rules-without-multisampling"></a><span data-ttu-id="f2903-151">Regras de rasterização de pontos (sem várias amostragens)</span><span class="sxs-lookup"><span data-stu-id="f2903-151">Point Rasterization Rules (Without Multisampling)</span></span>

<span data-ttu-id="f2903-152">Um ponto é interpretado como se fosse composto de dois triângulos em um padrão Z, que usa regras de rasterização de triângulo.</span><span class="sxs-lookup"><span data-stu-id="f2903-152">A point is interpreted as though it were composed of two triangles in a Z pattern, which use triangle rasterization rules.</span></span> <span data-ttu-id="f2903-153">A coordenada identifica o centro de um quadrado na largura de um pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-153">The coordinate identifies the center of a one pixel wide square.</span></span> <span data-ttu-id="f2903-154">Não há seleção para pontos.</span><span class="sxs-lookup"><span data-stu-id="f2903-154">There is no culling for points.</span></span>

<span data-ttu-id="f2903-155">A ilustração a seguir mostra alguns exemplos.</span><span class="sxs-lookup"><span data-stu-id="f2903-155">The following illustration shows some examples.</span></span>

![ilustração de exemplos de rasterização de ponto](images/d3d10-rasterrulespoint.png)

## <a name="multisample-anti-aliasing-rasterization-rules"></a><span data-ttu-id="f2903-157">Regras de rasterização de suavização de várias amostras</span><span class="sxs-lookup"><span data-stu-id="f2903-157">Multisample Anti-Aliasing Rasterization Rules</span></span>

<span data-ttu-id="f2903-158">A suavização de várias amostras (MSAA) reduz o serrilhado de geometria usando testes de cobertura de pixel e estêncil de profundidade em vários locais de subamostra.</span><span class="sxs-lookup"><span data-stu-id="f2903-158">Multisample antialiasing (MSAA) reduces geometry aliasing using pixel coverage and depth-stencil tests at multiple sub-sample locations.</span></span> <span data-ttu-id="f2903-159">Para melhorar o desempenho, cálculos por pixel são executados uma vez para cada pixel coberto, compartilhando saídas de sombreador por subpixels cobertos.</span><span class="sxs-lookup"><span data-stu-id="f2903-159">To improve performance, per-pixel calculations are performed once for each covered pixel, by sharing shader outputs across covered sub-pixels.</span></span> <span data-ttu-id="f2903-160">A suavização de várias amostras não reduz o serrilhado de superfície.</span><span class="sxs-lookup"><span data-stu-id="f2903-160">Multisample antialiasing does not reduce surface aliasing.</span></span> <span data-ttu-id="f2903-161">Locais de amostra e funções de reconstrução dependem da implementação de hardware.</span><span class="sxs-lookup"><span data-stu-id="f2903-161">Sample locations and reconstruction functions are dependent on the hardware implementation.</span></span>

<span data-ttu-id="f2903-162">A ilustração a seguir mostra alguns exemplos.</span><span class="sxs-lookup"><span data-stu-id="f2903-162">The following illustration shows some examples.</span></span>

![ilustração de exemplos de rasterização de suavização de multiamostra](images/d3d10-rasterrulesmsaa.png)

<span data-ttu-id="f2903-164">O número de locais de amostra depende do modo de várias amostras.</span><span class="sxs-lookup"><span data-stu-id="f2903-164">The number of sample locations is dependent on the multisample mode.</span></span> <span data-ttu-id="f2903-165">Atributos de vértice são interpolados em centros de pixel, pois é onde o sombreador de pixel é invocado (isso se torna extrapolação se o centro não está coberto).</span><span class="sxs-lookup"><span data-stu-id="f2903-165">Vertex attributes are interpolated at pixel centers, since this is where the pixel shader is invoked (this becomes extrapolation if the center is not covered).</span></span> <span data-ttu-id="f2903-166">Atributos podem ser sinalizados no sombreador de pixel para serem amostras centroides, o que faz com que pixels não cobertos interpolem o atributo na interseção entre a área do pixel e o primitivo.</span><span class="sxs-lookup"><span data-stu-id="f2903-166">Attributes can be flagged in the pixel shader to be centroid sampled, which causes non-covered pixels to interpolate the attribute at intersection of the pixel's area and the primitive.</span></span> <span data-ttu-id="f2903-167">Um sombreador de pixel é executado para cada área de pixel de 2x2 dar suporte a cálculos derivados (que usam deltas de x e y).</span><span class="sxs-lookup"><span data-stu-id="f2903-167">A pixel shader runs for each 2x2 pixel area to support derivative calculations (which use x and y deltas).</span></span> <span data-ttu-id="f2903-168">Isso significa que as invocações de sombreador ocorrerem mais do que é mostrado para preencher o quanta de 2x2 mínimo (que é independente de várias amostras).</span><span class="sxs-lookup"><span data-stu-id="f2903-168">This means that shader invocations occur more than is shown to fill out the minimum 2x2 quanta (which is independent of multisampling).</span></span> <span data-ttu-id="f2903-169">O resultado do sombreador é gravado para cada amostra coberta que passa no teste de estêncil de profundidade por amostra.</span><span class="sxs-lookup"><span data-stu-id="f2903-169">The shader result is written out for each covered sample that passes the per-sample depth-stencil test.</span></span>

<span data-ttu-id="f2903-170">Regras de rasterização para primitivos são, em geral, inalteradas por suavização de várias amostras, exceto:</span><span class="sxs-lookup"><span data-stu-id="f2903-170">Rasterization rules for primitives are, in general, unchanged by multisample antialiasing, except:</span></span>

-   <span data-ttu-id="f2903-171">Para um triângulo, um teste de cobertura é realizado para cada local de amostra (não para um centro de pixel).</span><span class="sxs-lookup"><span data-stu-id="f2903-171">For a triangle, a coverage test is performed for each sample location (not for a pixel center).</span></span> <span data-ttu-id="f2903-172">Se mais de um local de amostra for coberto, um sombreador de pixel será executado uma vez com atributos interpolados no centro de pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-172">If more than one sample location is covered, a pixel shader runs once with attributes interpolated at the pixel center.</span></span> <span data-ttu-id="f2903-173">O resultado é armazenado (replicado) para cada local de amostra coberto no pixel passa no teste de profundidade/estêncil.</span><span class="sxs-lookup"><span data-stu-id="f2903-173">The result is stored (replicated) for each covered sample location in the pixel that passes the depth/stencil test.</span></span>

    <span data-ttu-id="f2903-174">Uma linha é tratada como um retângulo composto de dois triângulos, com uma largura de linha de 1,4.</span><span class="sxs-lookup"><span data-stu-id="f2903-174">A line is treated as a rectangle made up of two triangles, with a line width of 1.4.</span></span>

-   <span data-ttu-id="f2903-175">Para um ponto, um teste de cobertura é realizado para cada local de amostra (não para um centro de pixel).</span><span class="sxs-lookup"><span data-stu-id="f2903-175">For a point, a coverage test is performed for each sample location (not for a pixel center).</span></span>

<span data-ttu-id="f2903-176">Muitos formatos dão suporte a várias amostras (consulte [suporte de hardware para formatos de Direct3D 10](/previous-versions//cc627090(v=vs.85))), alguns formatos podem ser resolvidos ([**ResolveSubresource**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource); que downsamples um formato de várias amostras para um tamanho de amostra de 1).</span><span class="sxs-lookup"><span data-stu-id="f2903-176">Many formats support multisampling (see [Hardware Support for Direct3D 10 Formats](/previous-versions//cc627090(v=vs.85))), some formats can be resolved ([**ResolveSubresource**](/windows/desktop/api/d3d10/nf-d3d10-id3d10device-resolvesubresource); which downsamples a multisampled format to a sample size of 1).</span></span> <span data-ttu-id="f2903-177">Formatos de várias amostras podem ser usados em destinos de renderização que podem ser lidas novamente em sombreadores usando [carregar](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-load), já que nenhuma resolução é necessária para amostras individuais acessadas pelo sombreador.</span><span class="sxs-lookup"><span data-stu-id="f2903-177">Multisampling formats can be used in render targets which can be read back into shaders using [load](/windows/desktop/direct3dhlsl/dx-graphics-hlsl-to-load), since no resolve is required for individual samples accessed by the shader.</span></span> <span data-ttu-id="f2903-178">Não há suporte para formatos de profundidade para recurso de várias amostras. Portanto, os formatos de profundidade são restritos a somente destinos de renderização.</span><span class="sxs-lookup"><span data-stu-id="f2903-178">Depth formats are not supported for multisample resource, therefore, depth formats are restricted to render targets only.</span></span>

<span data-ttu-id="f2903-179">Os formatos sem tipo (R8G8B8A8, \_ por exemplo) oferecem suporte a várias amostras para permitir que uma exibição de recurso interprete dados de maneiras diferentes.</span><span class="sxs-lookup"><span data-stu-id="f2903-179">Typeless formats (R8G8B8A8\_TYPELESS for instance) support multisampling to allow a resource view to interpret data in different ways.</span></span> <span data-ttu-id="f2903-180">Por exemplo, você pode criar um recurso de multiamostragem usando R8G8B8A8 \_ sem tipo, renderizar para ele usando um recurso render-Target-View com um \_ formato R8G8B8A8 uint e, em seguida, resolver o conteúdo para outro recurso com um \_ formato de dados R8G8B8A8 UNORM.</span><span class="sxs-lookup"><span data-stu-id="f2903-180">For instance, you could create a multisample resource using R8G8B8A8\_TYPELESS, render to it using a render-target-view resource with a R8G8B8A8\_UINT format, then resolve the contents to another resource with a R8G8B8A8\_UNORM data format.</span></span>

### <a name="hardware-support"></a><span data-ttu-id="f2903-181">Suporte a hardware</span><span class="sxs-lookup"><span data-stu-id="f2903-181">Hardware Support</span></span>

<span data-ttu-id="f2903-182">A API relata suporte de hardware para várias amostras por meio do número de níveis de qualidade.</span><span class="sxs-lookup"><span data-stu-id="f2903-182">The API reports hardware support for multisampling through the number of quality levels.</span></span> <span data-ttu-id="f2903-183">Por exemplo, um nível de qualidade 0 significa que o hardware não oferece suporte a várias amostras (em um determinado formato e nível de qualidade).</span><span class="sxs-lookup"><span data-stu-id="f2903-183">For example, a 0 quality level means the hardware does not support multisampling (at a particular format and quality level).</span></span> <span data-ttu-id="f2903-184">Um 3 para níveis de qualidade significa que o hardware oferecer suporte a três layouts diferentes de amostra e/ou algoritmos de resolução.</span><span class="sxs-lookup"><span data-stu-id="f2903-184">A 3 for quality levels means that the hardware supports three different sample layouts and/or resolve algorithms.</span></span> <span data-ttu-id="f2903-185">Também é possível presumir o seguinte:</span><span class="sxs-lookup"><span data-stu-id="f2903-185">You can also assume the following:</span></span>

-   <span data-ttu-id="f2903-186">Qualquer formato que dá suporte a várias amostras é compatível com o mesmo número de níveis de qualidade para cada formato nessa família.</span><span class="sxs-lookup"><span data-stu-id="f2903-186">Any format that supports multisampling, supports the same number of quality levels for every format in that family.</span></span>
-   <span data-ttu-id="f2903-187">Cada formato que dá suporte a multiamostrabilidade e tem os \_ formatos UNORM, \_ sRGB, \_ SNORM ou \_ float, também dá suporte à resolução.</span><span class="sxs-lookup"><span data-stu-id="f2903-187">Every format that supports multisampling, and has the \_UNORM, \_SRGB, \_SNORM or \_FLOAT formats, also supports resolving.</span></span>

### <a name="centroid-sampling-of-attributes-when-multisample-antialiasing"></a><span data-ttu-id="f2903-188">Amostragem de centroides de atributos com suavização de várias amostras</span><span class="sxs-lookup"><span data-stu-id="f2903-188">Centroid Sampling of Attributes when Multisample Antialiasing</span></span>

<span data-ttu-id="f2903-189">Por padrão, os atributos de vértice são interpolados para um centro de pixel durante a suavização de várias amostras; se o centro de pixel não estiver coberto, atributos serão extrapolados para um centro de pixel.</span><span class="sxs-lookup"><span data-stu-id="f2903-189">By default, vertex attributes are interpolated to a pixel center during multisample antialiasing; if the pixel center is not covered, attributes are extrapolated to a pixel center.</span></span> <span data-ttu-id="f2903-190">Se uma entrada de sombreador de pixel contendo a semântica de centroide (supondo que o pixel não está totalmente coberto) for amostrada em algum lugar dentro da área de cobertura do pixel, será possivelmente em um dos locais de amostra cobertos.</span><span class="sxs-lookup"><span data-stu-id="f2903-190">If a pixel shader input that contains the centroid semantic (assuming the pixel is not fully covered) will be sampled somewhere within the covered area of the pixel, possibly at one of the covered sample locations.</span></span> <span data-ttu-id="f2903-191">Uma máscara de amostra (especificada pelo estado de rasterizador) é aplicada antes do cálculo de centroides.</span><span class="sxs-lookup"><span data-stu-id="f2903-191">A sample mask (specified by the rasterizer state) is applied prior to centroid computation.</span></span> <span data-ttu-id="f2903-192">Portanto, uma amostra fora da máscara não será usada como um local de centroides.</span><span class="sxs-lookup"><span data-stu-id="f2903-192">Therefore, a sample that is masked out will not be used as a centroid location.</span></span>

<span data-ttu-id="f2903-193">O rasterizador de referência escolhe um local de amostra para a amostragem de centroides semelhante a este:</span><span class="sxs-lookup"><span data-stu-id="f2903-193">The reference rasterizer chooses a sample location for centroid sampling similar to this:</span></span>

-   <span data-ttu-id="f2903-194">A máscara de amostra permite todas as amostras.</span><span class="sxs-lookup"><span data-stu-id="f2903-194">The sample mask allows all samples.</span></span> <span data-ttu-id="f2903-195">Use um centro de pixel se o pixel estiver coberto ou se nenhuma das amostras estiver coberta.</span><span class="sxs-lookup"><span data-stu-id="f2903-195">Use a pixel center if the pixel is covered or if none of the samples are covered.</span></span> <span data-ttu-id="f2903-196">Caso contrário, a primeira amostra coberta será escolhida, começando pelo centro de pixel e movendo para fora.</span><span class="sxs-lookup"><span data-stu-id="f2903-196">Otherwise, the first covered sample is chosen, starting from the pixel center and moving outward.</span></span>
-   <span data-ttu-id="f2903-197">A máscara de amostra desativa todas as amostras menos uma (um cenário comum).</span><span class="sxs-lookup"><span data-stu-id="f2903-197">The sample mask turns off all samples but one (a common scenario).</span></span> <span data-ttu-id="f2903-198">Um app pode implementar superamostragem de passagem múltipla passando valores de máscara de amostra de bit único e renderizando novamente a cena para cada amostra usando amostragem de centroide.</span><span class="sxs-lookup"><span data-stu-id="f2903-198">An application can implement multipass supersampling by cycling through single-bit sample-mask values and re-rendering the scene for each sample using centroid sampling.</span></span> <span data-ttu-id="f2903-199">Isso exige que um app ajuste derivadas para selecionar adequadamente mips de textura mais detalhada para a mais alta densidade de amostragem de textura.</span><span class="sxs-lookup"><span data-stu-id="f2903-199">This would require that an application adjust derivatives to select appropriately more detailed texture mips for the higher texture sampling density.</span></span>

### <a name="derivative-calculations-when-multisampling"></a><span data-ttu-id="f2903-200">Cálculos derivados com várias amostras</span><span class="sxs-lookup"><span data-stu-id="f2903-200">Derivative Calculations When Multisampling</span></span>

<span data-ttu-id="f2903-201">Os sombreadores de pixel são sempre executados usando uma área mínima de pixel de 2x2 para suporte a cálculos derivados, que são calculados utilizando deltas entre dados de pixels adjacentes (considerando que os dados em cada pixel tenham sido amostrados com espaçamento de unidade horizontal ou vertical).</span><span class="sxs-lookup"><span data-stu-id="f2903-201">Pixel shaders always run using a minimum 2x2 pixel area to support derivative calculations, which are calculated by taking deltas between data from adjacent pixels (making the assumption that the data in each pixel has been sampled with unit spacing horizontally or vertically).</span></span> <span data-ttu-id="f2903-202">Isso não é afetado por várias amostras.</span><span class="sxs-lookup"><span data-stu-id="f2903-202">This is unaffected by multisampling.</span></span>

<span data-ttu-id="f2903-203">Se derivadas forem solicitadas em um atributo com amostragem de centroides, o cálculo de hardware não será ajustado, o que pode causar derivadas imprecisas.</span><span class="sxs-lookup"><span data-stu-id="f2903-203">If derivatives are requested on an attribute that has been centroid sampled, the hardware calculation is not adjusted, which can cause inaccurate derivatives.</span></span> <span data-ttu-id="f2903-204">Um sombreador irá esperar um vetor de unidade no espaço de destino de renderização, mas poderá receber um vetor de não unidade em relação a algum outro espaço de vetor.</span><span class="sxs-lookup"><span data-stu-id="f2903-204">A shader will expect a unit vector in render-target space but may get a non-unit vector with respect to some other vector space.</span></span> <span data-ttu-id="f2903-205">Portanto, é responsabilidade do app tomar cuidado ao solicitar derivadas de atributos com amostragem de centroides.</span><span class="sxs-lookup"><span data-stu-id="f2903-205">Therefore, it is an application's responsibility to exhibit caution when requesting derivatives from attributes that are centroid sampled.</span></span> <span data-ttu-id="f2903-206">Na verdade, é recomendável que você não combine derivadas e amostragem de centroides.</span><span class="sxs-lookup"><span data-stu-id="f2903-206">In fact, it is recommended that you do not combine derivatives and centroid sampling.</span></span> <span data-ttu-id="f2903-207">A amostragem de centroides pode ser útil para situações em que é fundamental que atributos interpolados de primitivo não sejam extrapolados, mas isso faz com que atributos pareçam saltar onde uma borda de primitivo cruza um pixel (em vez de alterar continuamente) ou derivadas que não podem ser usadas em operações de amostragem de textura que derivam LOD.</span><span class="sxs-lookup"><span data-stu-id="f2903-207">Centroid sampling can be useful for situations where it is critical that a primitive's interpolated attributes are not extrapolated, but this comes with tradeoffs such as attributes that appear to jump where a primitive edge crosses a pixel (rather than change continuously) or derivatives that cannot be used by texture sampling operations that derive LOD.</span></span>

## <a name="related-topics"></a><span data-ttu-id="f2903-208">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f2903-208">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f2903-209">Estágio de rasterizador</span><span class="sxs-lookup"><span data-stu-id="f2903-209">Rasterizer Stage</span></span>](d3d10-graphics-programming-guide-rasterizer-stage.md)
</dt> </dl>

 

 