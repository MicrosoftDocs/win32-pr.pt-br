---
title: Rasterização de Direct3D 11,3 conservador
description: A rasterização conservadora adiciona alguma certeza à renderização de pixels, que é útil em particular aos algoritmos de detecção de colisão.
ms.assetid: 83F223C0-9282-4149-86CF-471B88829F76
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 003cb7e31c1380943318b34f9308f6b5e72d6e51
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104162379"
---
# <a name="direct3d-113-conservative-rasterization"></a><span data-ttu-id="7c2aa-103">Rasterização de Direct3D 11,3 conservador</span><span class="sxs-lookup"><span data-stu-id="7c2aa-103">Direct3D 11.3 Conservative Rasterization</span></span>

<span data-ttu-id="7c2aa-104">A rasterização conservadora adiciona alguma certeza à renderização de pixels, que é útil em particular aos algoritmos de detecção de colisão.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-104">Conservative rasterization adds some certainty to pixel rendering, which is helpful in particular to collision detection algorithms.</span></span>

-   [<span data-ttu-id="7c2aa-105">Visão geral</span><span class="sxs-lookup"><span data-stu-id="7c2aa-105">Overview</span></span>](#overview)
-   [<span data-ttu-id="7c2aa-106">Interações com o pipeline</span><span class="sxs-lookup"><span data-stu-id="7c2aa-106">Interactions with the pipeline</span></span>](#interactions-with-the-pipeline)
-   [<span data-ttu-id="7c2aa-107">Detalhes da implementação</span><span class="sxs-lookup"><span data-stu-id="7c2aa-107">Implementation details</span></span>](#implementation-details)
-   [<span data-ttu-id="7c2aa-108">Resumo da API</span><span class="sxs-lookup"><span data-stu-id="7c2aa-108">API summary</span></span>](#api-summary)
-   [<span data-ttu-id="7c2aa-109">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="7c2aa-109">Related topics</span></span>](#related-topics)

## <a name="overview"></a><span data-ttu-id="7c2aa-110">Visão geral</span><span class="sxs-lookup"><span data-stu-id="7c2aa-110">Overview</span></span>

<span data-ttu-id="7c2aa-111">A rasterização conservadora significa que todos os pixels que estão pelo menos parcialmente cobertos por um primitivo renderizado são rasterizados, o que significa que o sombreador de pixel é invocado.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-111">Conservative rasterization means that all pixels that are at least partially covered by a rendered primitive are rasterized, which means that the pixel shader is invoked.</span></span> <span data-ttu-id="7c2aa-112">O comportamento normal é a amostragem, que não é usada se a rasterização conservadora estiver habilitada.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-112">Normal behavior is sampling, which is not used if conservative rasterization is enabled.</span></span>

<span data-ttu-id="7c2aa-113">A rasterização conservadora é útil em várias situações, incluindo a certeza da detecção de colisão, da remoção de oclusão e da detecção de visibilidade.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-113">Conservative rasterization is useful in a number of situations, including for certainty in collision detection, occlusion culling, and visibility detection.</span></span>

<span data-ttu-id="7c2aa-114">Por exemplo, a figura a seguir mostra um triângulo verde renderizado usando a rasterização conservadora.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-114">For example, the following figure shows a green triangle rendered using conservative rasterization.</span></span> <span data-ttu-id="7c2aa-115">A área Brown é conhecida como "região de incerteza" – uma região em que o arredondamento de erros e outros problemas adicionam algumas incertezas às dimensões exatas do triângulo.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-115">The brown area is known as an "uncertainty region" - a region where rounding errors and other issues add some uncertainty to the exact dimensions of the triangle.</span></span> <span data-ttu-id="7c2aa-116">Os triângulos vermelhos em cada vértice mostram como a região incerteza é calculada.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-116">The red triangles at each vertex show how the uncertainty region is calculated.</span></span> <span data-ttu-id="7c2aa-117">Os quadrados cinzas grandes mostram os pixels que serão renderizados.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-117">The large gray squares show the pixels that will be rendered.</span></span> <span data-ttu-id="7c2aa-118">Os quadrados rosa mostram pixels renderizados usando a "regra de cima para a esquerda", que entra em cena, pois a borda do triângulo cruza a borda dos pixels.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-118">The pink squares show pixels rendered using the "top-left rule", which comes into play as the edge of the triangle crosses the edge of the pixels.</span></span> <span data-ttu-id="7c2aa-119">Pode haver falsos positivos (conjunto de pixels que não deveriam ter sido) que o sistema normalmente, mas nem sempre irá fazer a seleção.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-119">There can be false positives (pixels set that should not have been) which the system will normally but not always cull.</span></span>

![mostra a regra superior esquerda](images/conservative-rasterization-0.png)

## <a name="interactions-with-the-pipeline"></a><span data-ttu-id="7c2aa-121">Interações com o pipeline</span><span class="sxs-lookup"><span data-stu-id="7c2aa-121">Interactions with the pipeline</span></span>

<span data-ttu-id="7c2aa-122">Para muitos detalhes sobre como a rasterização conservadora interage com o pipeline de gráficos, consulte [rasterização D3D12 conservadora](/windows/desktop/direct3d12/conservative-rasterization).</span><span class="sxs-lookup"><span data-stu-id="7c2aa-122">For many details on how conservative rasterization interacts with the graphics pipeline, refer to [D3D12 Conservative rasterization](/windows/desktop/direct3d12/conservative-rasterization).</span></span>

## <a name="implementation-details"></a><span data-ttu-id="7c2aa-123">Detalhes de implementação</span><span class="sxs-lookup"><span data-stu-id="7c2aa-123">Implementation details</span></span>

<span data-ttu-id="7c2aa-124">O tipo de rasterização com suporte no Direct3D 12 é às vezes chamado de "rasterização conservadora estimada".</span><span class="sxs-lookup"><span data-stu-id="7c2aa-124">The type of rasterization supported in Direct3D 12 is sometimes referred to as "overestimated conservative rasterization".</span></span> <span data-ttu-id="7c2aa-125">Também há o conceito de "rasterização conservadora subestimada", o que significa que apenas os pixels totalmente cobertos por um primitivo renderizado são rasterizados.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-125">There is also the concept of "underestimated conservative rasterization", which means that only pixels that are fully covered by a rendered primitive are rasterized.</span></span> <span data-ttu-id="7c2aa-126">As informações de rasterização conservadora subestimadas estão disponíveis por meio do sombreador de pixel através do uso de dados de cobertura de entrada e apenas a rasterização conservadora Sobreestimada está disponível como um modo de rasterização.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-126">Underestimated conservative rasterization information is available through the pixel shader through the use of input coverage data, and only overestimated conservative rasterization is available as a rasterizing mode.</span></span>

<span data-ttu-id="7c2aa-127">Se qualquer parte de um primitivo sobrepuser um pixel, esse pixel será considerado coberto e, em seguida, será rasterizado.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-127">If any part of a primitive overlaps a pixel, then that pixel is considered covered and is then rasterized.</span></span> <span data-ttu-id="7c2aa-128">Quando uma borda ou canto de um primitivo cai ao longo da borda ou do canto de um pixel, o aplicativo da "regra de cima para a esquerda" é específico da implementação.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-128">When an edge or corner of a primitive falls along the edge or corner of a pixel, the application of the "top-left rule" is implementation-specific.</span></span> <span data-ttu-id="7c2aa-129">No entanto, para implementações que dão suporte a triângulos de degeneração, um triângulo degenerado ao longo de uma borda ou canto deve abranger pelo menos um pixel.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-129">However, for implementations that support degenerate triangles, a degenerate triangle along an edge or corner must cover at least one pixel.</span></span>

<span data-ttu-id="7c2aa-130">Implementações de rasterização conservadoras podem variar em hardwares diferentes e produzir falsos positivos, o que significa que eles podem decidir incorretamente que os pixels são cobertos.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-130">Conservative rasterization implementations can vary on different hardware, and do produce false positives, meaning that they can incorrectly decide that pixels are covered.</span></span> <span data-ttu-id="7c2aa-131">Isso pode ocorrer devido a detalhes específicos da implementação, como erros primitivos de crescimento ou encaixe inerentes às coordenadas de vértice de ponto fixo usadas na rasterização.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-131">This can occur because of implementation-specific details like primitive growing or snapping errors inherent in the fixed-point vertex coordinates used in rasterization.</span></span> <span data-ttu-id="7c2aa-132">O motivo pelo qual falsos positivos (em relação às coordenadas de vértice de ponto fixo) é válido porque alguns falsos positivos são necessários para permitir que uma implementação faça a avaliação de cobertura em vértices de postagem (ou seja, coordenadas de vértice que foram convertidas do ponto flutuante para o ponto fixo 16,8 usado no rasterizador), mas obedeça a cobertura produzida pelas coordenadas originais do vértice do ponto flutuante</span><span class="sxs-lookup"><span data-stu-id="7c2aa-132">The reason false positives (with respect to fixed point vertex coordinates) are valid is because some amount of false positives are needed to allow an implementation to do coverage evaluation against post-snapped vertices (i.e. vertex coordinates that have been converted from floating point to the 16.8 fixed-point used in the rasterizer), but honor the coverage produced by the original floating point vertex coordinates.</span></span>

<span data-ttu-id="7c2aa-133">Implementações de rasterização conservadoras não produzem falsos negativos em relação às coordenadas de vértice de ponto flutuante para primitivos post-snap não degenerados: se qualquer parte de um primitivo sobrepuser qualquer parte de um pixel, esse pixel será rasterizado.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-133">Conservative rasterization implementations do not produce false negatives with respect to the floating-point vertex coordinates for non-degenerate post-snap primitives: if any part of a primitive overlaps any part of a pixel, then that pixel is rasterized.</span></span>

<span data-ttu-id="7c2aa-134">Triângulos que são degenerados (índices duplicados em um buffer de índice ou colineares em 3D) ou tornam-se degenerados após a conversão de ponto fixo (vértices de colineares no rasterizador), pode ou não ser possível fazer a remoção; Ambos são comportamentos válidos.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-134">Triangles that are degenerate (duplicate indices in an index buffer or collinear in 3D), or become degenerate after fixed-point conversion (collinear vertices in the rasterizer), may or may not be culled; both are valid behaviors.</span></span> <span data-ttu-id="7c2aa-135">Os triângulos de degeneração devem ser considerados voltados, portanto, se um comportamento específico for exigido por um aplicativo, ele poderá usar a remoção ou teste de face para frente.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-135">Degenerate triangles must be considered back facing, so if a specific behavior is required by an application, it can use back-face culling or test for front facing.</span></span> <span data-ttu-id="7c2aa-136">Os triângulos de degeneração usam os valores atribuídos ao vértice 0 para todos os valores interpolados.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-136">Degenerate triangles use the values assigned to Vertex 0 for all interpolated values.</span></span>

<span data-ttu-id="7c2aa-137">Há três camadas de suporte a hardware, além da possibilidade de que o hardware não ofereça suporte a esse recurso.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-137">There are three tiers of hardware support, in addition to the possibility that the hardware does not support this feature.</span></span>

-   <span data-ttu-id="7c2aa-138">A camada 1 dá suporte a regiões de incerteza de 1/2 pixels e nenhum degenerado após o snap.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-138">Tier 1 supports 1/2 pixel uncertainty regions, and no post-snap degenerates.</span></span> <span data-ttu-id="7c2aa-139">Isso é bom para a renderização de ladrilho, um Atlas de textura, geração de mapa claro e mapas de sombra de subpixel.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-139">This is good for tiled rendering, a texture atlas, light map generation and sub-pixel shadow maps.</span></span>
-   <span data-ttu-id="7c2aa-140">A camada 2 adiciona degenerações de pós-snap e 1/256 regiões de incerteza.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-140">Tier 2 adds post-snap degenerates, and 1/256 uncertainty regions.</span></span> <span data-ttu-id="7c2aa-141">Ele também adiciona suporte para aceleração de algoritmos baseada em CPU (como voxelization).</span><span class="sxs-lookup"><span data-stu-id="7c2aa-141">It also adds support for CPU-based algorithm acceleration (such as voxelization).</span></span>
-   <span data-ttu-id="7c2aa-142">A camada 3 adiciona regiões de incertezas de 1/512, cobertura de entrada interna e dá suporte à remoção de oclusão.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-142">Tier 3 adds 1/512 uncertainty regions, inner input coverage and supports occlusion culling.</span></span> <span data-ttu-id="7c2aa-143">A cobertura de entrada adiciona o novo valor `SV_InnerCoverage` à HLSL (linguagem de sombreamento de alto nível).</span><span class="sxs-lookup"><span data-stu-id="7c2aa-143">The input coverage adds the new value `SV_InnerCoverage` to High Level Shading Language (HLSL).</span></span> <span data-ttu-id="7c2aa-144">Este é um inteiro escalar de 32 bits que pode ser especificado na entrada para um sombreador de pixel e representa as informações de rasterização conservadora subestimadas (ou seja, se um pixel é garantido para ser totalmente coberto).</span><span class="sxs-lookup"><span data-stu-id="7c2aa-144">This is a 32-bit scalar integer that can be specified on input to a pixel shader, and represents the underestimated conservative rasterization information (that is, whether a pixel is guaranteed-to-be-fully covered).</span></span>

## <a name="api-summary"></a><span data-ttu-id="7c2aa-145">Resumo da API</span><span class="sxs-lookup"><span data-stu-id="7c2aa-145">API summary</span></span>

<span data-ttu-id="7c2aa-146">Os seguintes métodos, estruturas, enumerações e classes auxiliares referenciam a rasterização conservadora:</span><span class="sxs-lookup"><span data-stu-id="7c2aa-146">The following methods, structures, enums, and helper classes reference conservative rasterization:</span></span>

-   <span data-ttu-id="7c2aa-147">[**D3D11 \_ RASTERIZAdor \_ DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : estrutura que mantém a descrição do rasterizador, observando a \_ classe auxiliar do CD3D12 rasterizador \_ DESC2 para criar descrições do rasterizador.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-147">[**D3D11\_RASTERIZER\_DESC2**](/windows/desktop/api/D3D11_3/ns-d3d11_3-cd3d11_rasterizer_desc2) : structure holding the rasterizer description, noting the CD3D12\_RASTERIZER\_DESC2 helper class for creating rasterizer descriptions.</span></span>
-   <span data-ttu-id="7c2aa-148">[**D3D11 \_ \_ \_ Modo de rasterização conservador**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : valores de enumeração para o modo (ativado ou desativado).</span><span class="sxs-lookup"><span data-stu-id="7c2aa-148">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_MODE**](/windows/desktop/api/D3D11_3/ne-d3d11_3-d3d11_conservative_rasterization_mode) : enum values for the mode (on or off).</span></span>
-   <span data-ttu-id="7c2aa-149">[**D3D11 \_ Dados de recurso \_ \_ D3D11 \_ OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : estrutura que mantém a camada de suporte.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-149">[**D3D11\_FEATURE\_DATA\_D3D11\_OPTIONS2**](/windows/desktop/api/D3D11/ns-d3d11-d3d11_feature_data_d3d11_options2) : structure holding the tier of support.</span></span>
-   <span data-ttu-id="7c2aa-150">[**D3D11 \_ \_ \_ Camada de rasterização conservadora**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : valores de enumeração para cada camada de suporte pelo hardware.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-150">[**D3D11\_CONSERVATIVE\_RASTERIZATION\_TIER**](/windows/desktop/api/D3D11/ne-d3d11-d3d11_conservative_rasterization_tier) : enum values for each tier of support by the hardware.</span></span>
-   <span data-ttu-id="7c2aa-151">[**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : método para acessar os recursos com suporte.</span><span class="sxs-lookup"><span data-stu-id="7c2aa-151">[**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/D3D11/nf-d3d11-id3d11device-checkfeaturesupport) : method to access the supported features.</span></span>

## <a name="related-topics"></a><span data-ttu-id="7c2aa-152">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="7c2aa-152">Related topics</span></span>
* [<span data-ttu-id="7c2aa-153">Recursos do Direct3D 11,3</span><span class="sxs-lookup"><span data-stu-id="7c2aa-153">Direct3D 11.3 Features</span></span>](direct3d-11-3-features.md)