---
description: Este tópico não é atual. Para obter as informações mais atuais, consulte a especificação do esquema de impressão.
ms.assetid: 4698f151-2237-4d16-b32f-4d15024cd063
title: Lista de verificação de validação do PrintTicket
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 160a0e9f3eb71b1e9a3b670456e04e2efa3c8b15
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/05/2021
ms.locfileid: "105768229"
---
# <a name="printticket-validation-checklist"></a><span data-ttu-id="2e0dc-104">Lista de verificação de validação do PrintTicket</span><span class="sxs-lookup"><span data-stu-id="2e0dc-104">PrintTicket Validation Checklist</span></span>

<span data-ttu-id="2e0dc-105">Este tópico não é atual.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-105">This topic is not current.</span></span> <span data-ttu-id="2e0dc-106">Para obter as informações mais atuais, consulte a [especificação do esquema de impressão](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span><span class="sxs-lookup"><span data-stu-id="2e0dc-106">For the most current information, see the [Print Schema Specification](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip).</span></span>

<span data-ttu-id="2e0dc-107">Os provedores PrintTicket devem validar o PrintTicket antes de usá-lo para qualquer finalidade.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-107">PrintTicket providers must validate the PrintTicket prior to using it for any purpose.</span></span> <span data-ttu-id="2e0dc-108">Depois que o PrintTicket é validado, ele pode ser retornado ao cliente ou pode ser descartado após o uso.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-108">After the PrintTicket is validated, it may be returned to the client, or it may be discarded after use.</span></span> <span data-ttu-id="2e0dc-109">Esta lista de verificação aborda as tarefas que o provedor deve executar durante a validação.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-109">This checklist covers the tasks the provider must perform during validation.</span></span> <span data-ttu-id="2e0dc-110">O processo de validação frequentemente alterará o conteúdo do PrintTicket, embora ele não altere um PrintTicket validado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-110">The validation process will frequently alter the content of the PrintTicket, although it will not alter a previously-validated PrintTicket.</span></span>

<span data-ttu-id="2e0dc-111">A validação é sempre executada em um dispositivo específico que tem um conjunto de instâncias Feature, Option e ParameterDef definidas em um documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-111">Validation is always performed against a specific device that has a set of Feature, Option and ParameterDef instances defined in a PrintCapabilities document.</span></span> <span data-ttu-id="2e0dc-112">O código de validação deve ter acesso ao conjunto de instâncias de recurso (e as instâncias de opção contidas) e instâncias de ParameterDef para o dispositivo específico e não deve ter acesso às PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-112">The validation code should have access to the set of Feature instances (and the contained Option instances) and ParameterDef instances for the specific device, and should not need to access the PrintCapabilities.</span></span> <span data-ttu-id="2e0dc-113">As informações das instâncias Feature, Option e ParameterDef são necessárias em determinadas partes do processo de validação.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-113">The information from the Feature, Option, and ParameterDef instances is needed in certain parts of the validation process.</span></span>

1.  <span data-ttu-id="2e0dc-114">Durante tentativas de localizar elementos correspondentes ou correspondentes, observe que os namespaces dos elementos devem corresponder antes que qualquer nome qualificado possa ser considerado uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-114">During attempts to locate corresponding or matching elements, note that the namespaces of the elements must match before any Qualified Name can be considered a match.</span></span> <span data-ttu-id="2e0dc-115">Todos os nomes de elementos, nomes de atributo e nomes de instância são qualificados por namespace.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-115">All element names, Attribute names, and instance names are namespace-qualified.</span></span> <span data-ttu-id="2e0dc-116">Para elementos aninhados, seus locais devem corresponder antes que os elementos sejam considerados uma correspondência.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-116">For elements that are nested, their locations must match before the elements are considered a match.</span></span>

2.  <span data-ttu-id="2e0dc-117">Verifique se todas as marcas de elemento estão no namespace público, são definidas pelo esquema PrintTicket, contêm os atributos XML adequados e os valores de atributo e se o local de cada tipo de elemento está de acordo com o uso definido pelo esquema PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-117">Verify that all element tags are in the public namespace, are defined by the PrintTicket Schema, contain the proper XML Attributes and Attribute Values, and that the location of each element type conforms to the PrintTicket Schema-defined usage.</span></span>

3.  <span data-ttu-id="2e0dc-118">Determine todos os namespaces relatados pelo documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-118">Determine all namespaces reported by PrintCapabilities document.</span></span> <span data-ttu-id="2e0dc-119">Remova todos os elementos (e seus descendentes) do PrintTicket cujos nomes de instância pertençam a namespaces não relatados pelo documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-119">Remove all elements (and their descendants) from the PrintTicket whose instance names belong to namespaces not reported by PrintCapabilities document.</span></span> <span data-ttu-id="2e0dc-120">Observe a diferença entre esse caso e o seguinte caso, que envolve nomes de instância não reconhecidos em um namespace conhecido.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-120">Note the difference between this case and the following case, which involves unrecognized instance names within a known namespace.</span></span>

4.  <span data-ttu-id="2e0dc-121">Devido ao fato de que os esquemas estão sendo continuamente estendidos com a adição de novas definições de instância de elemento, o código de validação não deve ser escrito sob a hipótese de que cada nome de instância em um determinado namespace é conhecido.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-121">Due to the fact that the schemas are continually being extended with the addition of new element instance definitions, the validation code should not be written under the assumption that every instance name in a given namespace is known.</span></span> <span data-ttu-id="2e0dc-122">O código de validação não pode tratar nomes de instância não reconhecidos em um namespace conhecido como erros, nem excluí-los do PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-122">The validation code cannot treat unrecognized instance names within a known namespace as errors, nor can it delete them from the PrintTicket.</span></span>

5.  <span data-ttu-id="2e0dc-123">Se qualquer instância de elemento tiver um irmão duplicado que não é permitido pelo esquema PrintTicket, mantenha apenas a primeira ocorrência e exclua as duplicatas, incluindo o conteúdo do elemento duplicado.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-123">If any element instance has a duplicate sibling that is not permitted by the PrintTicket Schema, keep only the first occurrence and delete the duplicates, including the contents of the duplicated element.</span></span>

6.  <span data-ttu-id="2e0dc-124">Remova do PrintTicket qualquer recurso ou subrecurso (e todos os seus filhos) que não tenha nenhum recurso correspondente no documento de PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-124">Remove from the PrintTicket any Feature or subfeature (and all its children) that has no corresponding Feature in the PrintCapabilities document.</span></span>

7.  <span data-ttu-id="2e0dc-125">Verifique a Propriedade SelectionType definida no documento PrintCapabilities para cada uma das instâncias de recurso restantes no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-125">Check the SelectionType Property defined in the PrintCapabilities document for each of the remaining Feature instances in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-126">Qualquer recurso cuja Propriedade SelectionType esteja definida como PickOne deve ter exatamente uma instância de opção presente no PrintTicket, enquanto um recurso cuja Propriedade SelectionType é PickMany pode ter mais de um.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-126">Any Feature whose SelectionType Property is set to PickOne must have exactly one Option instance present in the PrintTicket, while a Feature whose SelectionType Property is PickMany may have more than one.</span></span> <span data-ttu-id="2e0dc-127">Se um recurso PrintTicket não tiver nenhuma instância de opção, forneça a instância de opção padrão.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-127">If a PrintTicket Feature has no Option instance, supply the default Option instance.</span></span> <span data-ttu-id="2e0dc-128">Como você é o provedor, sabe qual opção é a opção padrão para cada recurso.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-128">Since you are the provider, you know which Option is the default Option for every Feature.</span></span>

    <span data-ttu-id="2e0dc-129">Para um recurso cuja Propriedade SelectionType seja PickMany, com mais de uma opção selecionada no PrintTicket, verifique se nenhuma opção está designada como IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-129">For a Feature whose SelectionType Property is PickMany, with more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="2e0dc-130">Se houver, exclua todas as outras opções, deixando apenas a IdentityOption designada.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-130">If there is, delete every other Option, leaving only the one designated IdentityOption.</span></span>

8.  <span data-ttu-id="2e0dc-131">Remova qualquer instância de ParameterInit no PrintTicket que não tenha nenhuma instância ParameterDef correspondente no documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-131">Remove any ParameterInit instance in the PrintTicket that has no corresponding ParameterDef instance in the PrintCapabilities document.</span></span>

    <span data-ttu-id="2e0dc-132">Para quaisquer outras instâncias de ParameterInit no PrintTicket, verifique se o valor de cada está em conformidade com a instância ParameterDef do documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-132">For any other ParameterInit instances in the PrintTicket, verify that the Value for each conforms to the PrintCapabilities document's ParameterDef instance.</span></span> <span data-ttu-id="2e0dc-133">Se um valor estiver ausente, forneça o padrão fornecido no ParameterDef.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-133">If a Value is missing, supply the default that is provided in the ParameterDef.</span></span>

9.  <span data-ttu-id="2e0dc-134">Emparelhe cada instância de opção no PrintTicket com uma opção listada no recurso correspondente no documento PrintCapabilities, com base nos resultados do processo de pontuação.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-134">Pair each Option instance in the PrintTicket with an Option listed in the corresponding Feature in the PrintCapabilities document, based on the results of the scoring process.</span></span> <span data-ttu-id="2e0dc-135">A pontuação é o processo de encontrar a opção no documento PrintCapabilities que melhor corresponde à opção nomeada no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-135">Scoring is the process of finding the Option in the PrintCapabilities document that best matches the Option named in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-136">Para obter uma descrição do que é levado em conta durante o processo de pontuação, consulte [definições de opção](option-definitions.md).</span><span class="sxs-lookup"><span data-stu-id="2e0dc-136">For a description of what is taken into account during the scoring process, see [Option Definitions](option-definitions.md).</span></span> <span data-ttu-id="2e0dc-137">Substitua cada opção de referência no PrintTicket pela opção de documento de recursos de PrintCapabilities do candidato de melhor correspondência correspondente.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-137">Replace each reference Option in the PrintTicket by the corresponding best matching candidate PrintCapabilities document Option.</span></span> <span data-ttu-id="2e0dc-138">Você também pode classificar todos os candidatos por Pontuação e passar essas informações para o estágio de resolução no caso de um conflito de restrição impedir que o candidato a melhor correspondência seja usado.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-138">You may also rank all of the candidates by score and pass this information on to the resolving stage in case a constraint conflict prevents the best matching candidate from being used.</span></span> <span data-ttu-id="2e0dc-139">Nesses casos, o processo de resolução pode usar o segundo candidato mais indicado em vez de escolher outro candidato aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-139">In such cases, the resolving process can use the second-best candidate rather than pick another candidate at random.</span></span>

10. <span data-ttu-id="2e0dc-140">Para um recurso cuja Propriedade SelectionType esteja definida como PickMany e que tenha mais de uma opção selecionada no PrintTicket, verifique se nenhuma opção está designada como IdentityOption.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-140">For a Feature whose SelectionType Property is set to PickMany, and that has more than one Option selected in the PrintTicket, verify that no Option is designated as IdentityOption.</span></span> <span data-ttu-id="2e0dc-141">Se essa opção existir, exclua todas as outras opções, deixando apenas a IdentityOption designada.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-141">If such an Option exists, delete every other Option, leaving only the one designated IdentityOption.</span></span> <span data-ttu-id="2e0dc-142">Esta etapa deve ser executada antes e depois que o processo de pontuação for aplicado.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-142">This step must be performed before and after the scoring process is applied.</span></span>

    <span data-ttu-id="2e0dc-143">O motivo pelo qual essa etapa deve ser executada duas vezes é que é possível que o processo de Pontuação mapeie várias instâncias de opção de referência para a mesma opção candidata.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-143">The reason that this step must be performed twice is that it is possible for the scoring process to map multiple reference Option instances to the same candidate Option.</span></span> <span data-ttu-id="2e0dc-144">Se isso acontecer, exclua todas as instâncias de opção duplicadas para que as opções listadas para um determinado recurso PickMany sejam exclusivas.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-144">If that happens, delete any duplicate Option instances so that the Options listed for a particular PickMany Feature are unique.</span></span>

11. <span data-ttu-id="2e0dc-145">Adicione ao PrintTicket qualquer recurso presente no documento PrintCapabilities que não aparece no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-145">Add to the PrintTicket any Feature present in the PrintCapabilities document that does not appear in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-146">Para esse recurso, designe a opção padrão como a opção selecionada.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-146">For such a Feature, designate the default Option as the selected Option.</span></span>

12. <span data-ttu-id="2e0dc-147">Determine se há alguma instância ParameterDef que atenda a todos os seguintes critérios:</span><span class="sxs-lookup"><span data-stu-id="2e0dc-147">Determine whether there are any ParameterDef instances that meet all of the following criteria:</span></span>

    -   <span data-ttu-id="2e0dc-148">A instância ParameterDef aparece no documento PrintCapabilities, mas não no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-148">The ParameterDef instance appears in the PrintCapabilities document, but not in the PrintTicket.</span></span>

    -   <span data-ttu-id="2e0dc-149">A propriedade obrigatória da instância ParameterDef é definida como incondicional ou condicional.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-149">The Mandatory Property of the ParameterDef instance is set to either Unconditional or Conditional.</span></span>

    -   <span data-ttu-id="2e0dc-150">A instância de ParameterDef é referenciada por uma instância de ParameterRef no PrintTicket dentro de uma instância de opção.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-150">The ParameterDef instance is referenced by a ParameterRef instance in the PrintTicket within an Option instance.</span></span>

    <span data-ttu-id="2e0dc-151">Para cada instância de ParameterDef no documento PrintCapabilities, adicione ao PrintTicket uma instância ParameterInit correspondente.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-151">For each such ParameterDef instance in the PrintCapabilities document, add to the PrintTicket a corresponding ParameterInit instance.</span></span> <span data-ttu-id="2e0dc-152">Defina o valor das instâncias ParameterInit adicionadas recentemente ao valor padrão especificado pelas instâncias de ParameterDef correspondentes.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-152">Set the Value of the newly added ParameterInit instances to the default Value specified by the corresponding ParameterDef instances.</span></span>

13. <span data-ttu-id="2e0dc-153">Execute a detecção de conflito de restrição e modifique a configuração para eliminar esses conflitos.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-153">Perform constraint conflict detection and modify the configuration to eliminate any such conflicts.</span></span> <span data-ttu-id="2e0dc-154">Este tópico não define um processo específico a ser usado para resolver conflitos de restrição.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-154">This topic does not define a particular process to use to resolve constraint conflicts.</span></span> <span data-ttu-id="2e0dc-155">Você precisa decidir qual instância de recurso ou ParameterInit pode ser alterada, e uma opção ou valor apropriado, respectivamente, para selecionar que tenha o impacto mínimo sobre a intenção geral da configuração especificada no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-155">You need to decide which Feature or ParameterInit instance can be changed, and an appropriate Option or Value, respectively, to select that has the least impact on the overall intent of the configuration specified in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-156">Conforme mencionado anteriormente, talvez você queira fazer uso da Pontuação de mapeamento de cada opção e usar a opção com a segunda pontuação mais alta.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-156">As mentioned earlier, you might wish to make use of the mapping score of each Option, and use the Option with the second highest score.</span></span> <span data-ttu-id="2e0dc-157">Para determinar qual recurso ou ParameterInit alterar, talvez você queira definir uma propriedade privada que o cliente pode adicionar ao PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-157">To determine which Feature or ParameterInit to change, you might want to define a private Property that the client can add to the PrintTicket.</span></span> <span data-ttu-id="2e0dc-158">Essa propriedade pode definir uma prioridade para instâncias de recurso e ParameterInit para que o processo do resolvedor seja informado sobre quais instâncias de recurso ou ParameterInit são importantes para o cliente (e precisam ser preservadas no PrintTicket) e que são menos importantes.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-158">This Property can define a priority for Feature and ParameterInit instances so that the resolver process is informed of which Feature or ParameterInit instances are important to the client (and need to be preserved in the PrintTicket), and which are less important.</span></span>

14. <span data-ttu-id="2e0dc-159">Se o processo de resolução de restrição tiver causado alterações no PrintTicket em todas as instâncias de ParameterRef para as quais a propriedade obrigatória está definida como condicional, adicione instâncias ParameterInit com valores padrão para aqueles que agora aparecem e remova qualquer instância de ParameterInit para uma instância ParameterRef que não é mais exibida.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-159">If the constraint resolution process has caused changes in the PrintTicket to any ParameterRef instances for which the Mandatory Property is set to Conditional, add ParameterInit instances with default Values for those that now appear, and remove any ParameterInit instance for a ParameterRef instance that no longer appears.</span></span>

15. <span data-ttu-id="2e0dc-160">Remova todas as instâncias de propriedade e seus conteúdos que aparecem nas instâncias de opção no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-160">Remove all Property instances and their contents that appear within Option instances in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-161">Os elementos de propriedade não têm nenhuma função no PrintTicket.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-161">Property elements have no role in the PrintTicket.</span></span> <span data-ttu-id="2e0dc-162">Se a opção validada para um recurso específico corresponder perfeitamente à opção pré-validada, transfira todas as instâncias de propriedade nessa opção do PrintTicket de prevalidação para o PrintTicket validado agora, sujeito à condição em que os namespaces das instâncias de propriedade são registrados no documento PrintCapabilities.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-162">If the validated Option for a particular Feature perfectly matches the prevalidated Option, transfer all of the Property instances in that Option from the prevalidation PrintTicket to the now-validated PrintTicket, subject to the condition that namespaces of Property instances are registered in the PrintCapabilities document.</span></span> <span data-ttu-id="2e0dc-163">Observe que, para que duas instâncias de opção sejam consideradas uma correspondência perfeita, para cada ScoredProperty encontrada em uma opção, deve haver um ScoredProperty correspondente na outra opção, e os valores de ambas as instâncias de ScoredProperty devem ser iguais.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-163">Note that for two Option instances to be considered a perfect match, for every ScoredProperty found in one Option, there must be a corresponding ScoredProperty in the other Option, and the Values of both ScoredProperty instances must be the same.</span></span>

16. <span data-ttu-id="2e0dc-164">Se o seu provedor PrintTicket reconhecer e oferecer suporte a qualquer instância de propriedade privada ou pública que tenha sobreviveram a esse ponto, execute a validação nelas.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-164">If your PrintTicket provider recognizes and supports any private or public Property instances that have survived to this point, perform validation on them.</span></span> <span data-ttu-id="2e0dc-165">Não exclua uma propriedade neste ponto apenas porque você não a reconhece, ela pode ser destinada a outra fase de processamento de documentos.</span><span class="sxs-lookup"><span data-stu-id="2e0dc-165">Do not delete a Property at this point just because you do not recognize it, it might be intended for another phase of document processing.</span></span>

## <a name="related-topics"></a><span data-ttu-id="2e0dc-166">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="2e0dc-166">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="2e0dc-167">Especificação de esquema de impressão</span><span class="sxs-lookup"><span data-stu-id="2e0dc-167">Print Schema Specification</span></span>](https://download.microsoft.com/download/D/E/C/DECA6E6B-3E81-48E7-B7EF-6D92A547D03C/print-schema-spec-2-0.zip)
</dt> </dl>

 

 



