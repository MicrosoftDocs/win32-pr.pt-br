---
description: A função FindFirstPrinterChangeNotification cria um objeto de notificação de alteração e retorna um identificador para o objeto. Você pode usar esse identificador em uma chamada para uma das funções de espera para monitorar as alterações na impressora ou no servidor de impressão.
ms.assetid: 4155ef5c-cd96-4960-919b-d9a495bb73a5
title: Função FindFirstPrinterChangeNotification (winspool. h)
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- APIRef
- kbSyntax
api_name:
- FindFirstPrinterChangeNotification
api_type:
- DllExport
api_location:
- Spoolss.dll
ms.openlocfilehash: 2da6a2ae73aa5b987ea3b8f8789f81ed0b4cdf06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104169465"
---
# <a name="findfirstprinterchangenotification-function"></a><span data-ttu-id="54e92-104">Função FindFirstPrinterChangeNotification</span><span class="sxs-lookup"><span data-stu-id="54e92-104">FindFirstPrinterChangeNotification function</span></span>

<span data-ttu-id="54e92-105">A função **FindFirstPrinterChangeNotification** cria um objeto de notificação de alteração e retorna um identificador para o objeto.</span><span class="sxs-lookup"><span data-stu-id="54e92-105">The **FindFirstPrinterChangeNotification** function creates a change notification object and returns a handle to the object.</span></span> <span data-ttu-id="54e92-106">Você pode usar esse identificador em uma chamada para uma das funções de espera para monitorar as alterações na impressora ou no servidor de impressão.</span><span class="sxs-lookup"><span data-stu-id="54e92-106">You can then use this handle in a call to one of the wait functions to monitor changes to the printer or print server.</span></span>

<span data-ttu-id="54e92-107">A chamada **FindFirstPrinterChangeNotification** especifica o tipo de alterações a serem monitoradas.</span><span class="sxs-lookup"><span data-stu-id="54e92-107">The **FindFirstPrinterChangeNotification** call specifies the type of changes to be monitored.</span></span> <span data-ttu-id="54e92-108">Você pode especificar um conjunto de condições para monitorar alterações, um conjunto de campos de informações de impressora para monitorar ou ambos.</span><span class="sxs-lookup"><span data-stu-id="54e92-108">You can specify a set of conditions to monitor for changes, a set of printer information fields to monitor, or both.</span></span>

<span data-ttu-id="54e92-109">Uma operação de espera no identificador de notificação de alteração é realizada com sucesso quando uma das alterações especificadas ocorre na impressora ou no servidor de impressão especificado.</span><span class="sxs-lookup"><span data-stu-id="54e92-109">A wait operation on the change notification handle succeeds when one of the specified changes occurs in the specified printer or print server.</span></span> <span data-ttu-id="54e92-110">Em seguida, você chama a função [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) para recuperar informações sobre a alteração e para redefinir o objeto de notificação de alteração para uso na próxima operação de espera.</span><span class="sxs-lookup"><span data-stu-id="54e92-110">You then call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to retrieve information about the change, and to reset the change notification object for use in the next wait operation.</span></span>

## <a name="syntax"></a><span data-ttu-id="54e92-111">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="54e92-111">Syntax</span></span>


```C++
HANDLE FindFirstPrinterChangeNotification(
  _In_     HANDLE hPrinter,
           DWORD  fdwFilter,
           DWORD  fdwOptions,
  _In_opt_ LPVOID pPrinterNotifyOptions
);
```



## <a name="parameters"></a><span data-ttu-id="54e92-112">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="54e92-112">Parameters</span></span>

<dl> <dt>

<span data-ttu-id="54e92-113">*hPrinter* \[ no\]</span><span class="sxs-lookup"><span data-stu-id="54e92-113">*hPrinter* \[in\]</span></span>
</dt> <dd>

<span data-ttu-id="54e92-114">Um identificador para a impressora ou o servidor de impressão que você deseja monitorar.</span><span class="sxs-lookup"><span data-stu-id="54e92-114">A handle to the printer or print server that you want to monitor.</span></span> <span data-ttu-id="54e92-115">Use a função [**OpenPrinter**](openprinter.md) ou [**addprintr**](addprinter.md) para recuperar um identificador de impressora.</span><span class="sxs-lookup"><span data-stu-id="54e92-115">Use the [**OpenPrinter**](openprinter.md) or [**AddPrinter**](addprinter.md) function to retrieve a printer handle.</span></span>

</dd> <dt>

<span data-ttu-id="54e92-116">*fdwFilter*</span><span class="sxs-lookup"><span data-stu-id="54e92-116">*fdwFilter*</span></span> 
</dt> <dd>

<span data-ttu-id="54e92-117">As condições que farão com que o objeto de notificação de alteração entre em um estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="54e92-117">The conditions that will cause the change notification object to enter a signaled state.</span></span> <span data-ttu-id="54e92-118">Uma notificação de alteração ocorre quando uma ou mais das condições especificadas são atendidas.</span><span class="sxs-lookup"><span data-stu-id="54e92-118">A change notification occurs when one or more of the specified conditions are met.</span></span> <span data-ttu-id="54e92-119">O parâmetro *fdwFilter* pode ser zero se *PPrinterNotifyOptions* não for **nulo**.</span><span class="sxs-lookup"><span data-stu-id="54e92-119">The *fdwFilter* parameter can be zero if *pPrinterNotifyOptions* is non-**NULL**.</span></span>

<span data-ttu-id="54e92-120">Esse parâmetro pode ser um ou mais dos valores a seguir.</span><span class="sxs-lookup"><span data-stu-id="54e92-120">This parameter can be one or more of the following values.</span></span>



| <span data-ttu-id="54e92-121">Valor</span><span class="sxs-lookup"><span data-stu-id="54e92-121">Value</span></span>                                                                                                                                                                                                              | <span data-ttu-id="54e92-122">Significado</span><span class="sxs-lookup"><span data-stu-id="54e92-122">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_CHANGE_FORM"></span><span id="printer_change_form"></span><dl> <span data-ttu-id="54e92-123"><dt>**\_formulário de alteração de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-123"><dt>**PRINTER\_CHANGE\_FORM**</dt></span></span> </dl>                                   | <span data-ttu-id="54e92-124">Notificação de qualquer alteração em um formulário.</span><span class="sxs-lookup"><span data-stu-id="54e92-124">Notify of any changes to a form.</span></span> <span data-ttu-id="54e92-125">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-125">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="54e92-126">\_ \_ Adicionar formulário de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-126">PRINTER\_CHANGE\_ADD\_FORM</span></span></dd> <dd><span data-ttu-id="54e92-127">\_formulário do \_ conjunto de alterações da impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-127">PRINTER\_CHANGE\_SET\_FORM</span></span></dd> <dd><span data-ttu-id="54e92-128">\_formulário de \_ exclusão de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-128">PRINTER\_CHANGE\_DELETE\_FORM</span></span></dd> </dl>                                                                              |
| <span id="PRINTER_CHANGE_JOB"></span><span id="printer_change_job"></span><dl> <span data-ttu-id="54e92-129"><dt>**\_trabalho de alteração de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-129"><dt>**PRINTER\_CHANGE\_JOB**</dt></span></span> </dl>                                      | <span data-ttu-id="54e92-130">Notificação de qualquer alteração em um trabalho.</span><span class="sxs-lookup"><span data-stu-id="54e92-130">Notify of any changes to a job.</span></span> <span data-ttu-id="54e92-131">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-131">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="54e92-132">\_ \_ Adicionar trabalho de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-132">PRINTER\_CHANGE\_ADD\_JOB</span></span></dd> <dd><span data-ttu-id="54e92-133">\_trabalho do \_ conjunto de alterações da impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-133">PRINTER\_CHANGE\_SET\_JOB</span></span></dd> <dd><span data-ttu-id="54e92-134">\_trabalho de \_ exclusão de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-134">PRINTER\_CHANGE\_DELETE\_JOB</span></span></dd> <dd><span data-ttu-id="54e92-135">\_trabalho de \_ gravação de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-135">PRINTER\_CHANGE\_WRITE\_JOB</span></span></dd> </dl>                                  |
| <span id="PRINTER_CHANGE_PORT"></span><span id="printer_change_port"></span><dl> <span data-ttu-id="54e92-136"><dt>**\_porta de alteração de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-136"><dt>**PRINTER\_CHANGE\_PORT**</dt></span></span> </dl>                                   | <span data-ttu-id="54e92-137">Notificação de qualquer alteração em uma porta.</span><span class="sxs-lookup"><span data-stu-id="54e92-137">Notify of any changes to a port.</span></span> <span data-ttu-id="54e92-138">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-138">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="54e92-139">\_ \_ Adicionar porta alterar \_ impressora</span><span class="sxs-lookup"><span data-stu-id="54e92-139">PRINTER\_CHANGE\_ADD\_PORT</span></span></dd> <dd><span data-ttu-id="54e92-140">\_porta de \_ configuração de alteração da impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-140">PRINTER\_CHANGE\_CONFIGURE\_PORT</span></span> </dd> <dd><span data-ttu-id="54e92-141">\_porta de \_ exclusão de alteração de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-141">PRINTER\_CHANGE\_DELETE\_PORT</span></span></dd> </dl>                                                                       |
| <span id="PRINTER_CHANGE_PRINT_PROCESSOR"></span><span id="printer_change_print_processor"></span><dl> <span data-ttu-id="54e92-142"><dt>**\_processador de \_ impressão de alteração de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-142"><dt>**PRINTER\_CHANGE\_PRINT\_PROCESSOR**</dt></span></span> </dl> | <span data-ttu-id="54e92-143">Notificação de qualquer alteração em um processador de impressão.</span><span class="sxs-lookup"><span data-stu-id="54e92-143">Notify of any changes to a print processor.</span></span> <span data-ttu-id="54e92-144">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-144">You can set this general flag or one or more of the following specific flags:</span></span> <br/> <dl> <dd><span data-ttu-id="54e92-145">mudança de impressora \_ \_ Adicionar \_ processador de impressão \_</span><span class="sxs-lookup"><span data-stu-id="54e92-145">PRINTER\_CHANGE\_ADD\_PRINT\_PROCESSOR</span></span> </dd> <dd><span data-ttu-id="54e92-146">\_processador de \_ exclusão de alteração \_ de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-146">PRINTER\_CHANGE\_DELETE\_PRINT\_PROCESSOR</span></span></dd> </dl>                                                                                        |
| <span id="PRINTER_CHANGE_PRINTER"></span><span id="printer_change_printer"></span><dl> <span data-ttu-id="54e92-147"><dt>**impressora de alteração de impressora \_ \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-147"><dt>**PRINTER\_CHANGE\_PRINTER**</dt></span></span> </dl>                          | <span data-ttu-id="54e92-148">Notificação de qualquer alteração em uma impressora.</span><span class="sxs-lookup"><span data-stu-id="54e92-148">Notify of any changes to a printer.</span></span> <span data-ttu-id="54e92-149">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-149">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="54e92-150">\_ \_ Adicionar impressora alterar \_ impressora</span><span class="sxs-lookup"><span data-stu-id="54e92-150">PRINTER\_CHANGE\_ADD\_PRINTER</span></span></dd> <dd><span data-ttu-id="54e92-151">\_impressora do \_ conjunto de alterações da impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-151">PRINTER\_CHANGE\_SET\_PRINTER</span></span></dd> <dd><span data-ttu-id="54e92-152">impressora de \_ exclusão de alteração de impressora \_ \_</span><span class="sxs-lookup"><span data-stu-id="54e92-152">PRINTER\_CHANGE\_DELETE\_PRINTER</span></span></dd> <dd><span data-ttu-id="54e92-153">impressora de conexão de alteração de impressora \_ \_ com falha \_ \_</span><span class="sxs-lookup"><span data-stu-id="54e92-153">PRINTER\_CHANGE\_FAILED\_CONNECTION\_PRINTER</span></span></dd> </dl> |
| <span id="PRINTER_CHANGE_PRINTER_DRIVER"></span><span id="printer_change_printer_driver"></span><dl> <span data-ttu-id="54e92-154"><dt>**IMPRESSORA \_ alterar \_ Driver de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-154"><dt>**PRINTER\_CHANGE\_PRINTER\_DRIVER**</dt></span></span> </dl>    | <span data-ttu-id="54e92-155">Notificação de qualquer alteração em um driver de impressora.</span><span class="sxs-lookup"><span data-stu-id="54e92-155">Notify of any changes to a printer driver.</span></span> <span data-ttu-id="54e92-156">Você pode definir esse sinalizador geral ou um ou mais dos seguintes sinalizadores específicos:</span><span class="sxs-lookup"><span data-stu-id="54e92-156">You can set this general flag or one or more of the following specific flags:</span></span><br/> <dl> <dd><span data-ttu-id="54e92-157">\_alterar impressora \_ Adicionar \_ Driver de impressora \_</span><span class="sxs-lookup"><span data-stu-id="54e92-157">PRINTER\_CHANGE\_ADD\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="54e92-158">\_Driver de \_ impressora do conjunto de alterações de impressora \_ \_</span><span class="sxs-lookup"><span data-stu-id="54e92-158">PRINTER\_CHANGE\_SET\_PRINTER\_DRIVER</span></span></dd> <dd><span data-ttu-id="54e92-159">\_Driver de \_ impressora de exclusão de alteração de impressora \_ \_</span><span class="sxs-lookup"><span data-stu-id="54e92-159">PRINTER\_CHANGE\_DELETE\_PRINTER\_DRIVER</span></span></dd> </dl>                                   |
| <span id="PRINTER_CHANGE_ALL"></span><span id="printer_change_all"></span><dl> <span data-ttu-id="54e92-160"><dt>**IMPRESSORA \_ alterar \_ tudo**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-160"><dt>**PRINTER\_CHANGE\_ALL**</dt></span></span> </dl>                                      | <span data-ttu-id="54e92-161">Notifique se alguma das alterações anteriores ocorrer.</span><span class="sxs-lookup"><span data-stu-id="54e92-161">Notify if any of the preceding changes occur.</span></span><br/>                                                                                                                                                                                                                                                                                                                     |
| <span id="PRINTER_CHANGE_SERVER"></span><span id="printer_change_server"></span><dl> <span data-ttu-id="54e92-162"><dt>**\_servidor de alteração de impressora \_**</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-162"><dt>**PRINTER\_CHANGE\_SERVER**</dt></span></span> </dl>                             | <span data-ttu-id="54e92-163">Windows 7: notificar quaisquer alterações no servidor.</span><span class="sxs-lookup"><span data-stu-id="54e92-163">Windows 7: Notify of any changes to the server.</span></span><br/> <span data-ttu-id="54e92-164">Esse sinalizador não é incluído nas alterações monitoradas pela definição da **opção \_ alterar a impressora \_ todos os** valores.</span><span class="sxs-lookup"><span data-stu-id="54e92-164">This flag is not included in the changes monitored by setting the **PRINTER\_CHANGE\_ALL** value.</span></span><br/>                                                                                                                                                                                                      |



 

<span data-ttu-id="54e92-165">Para obter descrições dos sinalizadores mais específicos na tabela anterior, consulte a função [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="54e92-165">For descriptions of the more specific flags in the preceding table, see the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function.</span></span>

</dd> <dt>

<span data-ttu-id="54e92-166">*fdwOptions*</span><span class="sxs-lookup"><span data-stu-id="54e92-166">*fdwOptions*</span></span> 
</dt> <dd>

<span data-ttu-id="54e92-167">O sinalizador que determina a categoria de impressoras para as quais as notificações funcionarão.</span><span class="sxs-lookup"><span data-stu-id="54e92-167">The flag that determines the category of printers for which notifications will work.</span></span>



| <span data-ttu-id="54e92-168">Valor</span><span class="sxs-lookup"><span data-stu-id="54e92-168">Value</span></span>                                                                                                                                                                                                                                                               | <span data-ttu-id="54e92-169">Significado</span><span class="sxs-lookup"><span data-stu-id="54e92-169">Meaning</span></span>                                                                                                                                      |
|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="PRINTER_NOTIFY_CATEGORY_ALL"></span><span id="printer_notify_category_all"></span><dl> <span data-ttu-id="54e92-170"><dt>**Impressora \_ NOTIFICAr \_ categoria \_ todos os**</dt> <dt>0x001000</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-170"><dt>**PRINTER\_NOTIFY\_CATEGORY\_ALL**</dt> <dt>0x001000</dt></span></span> </dl> | <span data-ttu-id="54e92-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) retorna notificações para impressoras 2D e 3D.</span><span class="sxs-lookup"><span data-stu-id="54e92-171">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications for both 2D and 3D printers.</span></span><br/> |
| <span id="PRINTER_NOTIFY_CATEGORY_3D"></span><span id="printer_notify_category_3d"></span><dl> <span data-ttu-id="54e92-172"><dt>**Impressora \_ NOTIFICAr \_ categoria \_ 3D**</dt> <dt>0x002000</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-172"><dt>**PRINTER\_NOTIFY\_CATEGORY\_3D**</dt> <dt>0x002000</dt></span></span> </dl>    | <span data-ttu-id="54e92-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) retorna notificações somente para impressoras 3D.</span><span class="sxs-lookup"><span data-stu-id="54e92-173">[**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) returns notifications only for 3D printers.</span></span><br/>        |



 

<span data-ttu-id="54e92-174">Quando esse sinalizador é definido como zero (0), **FindFirstPrinterChangeNotification** só funcionará para impressoras 2D.</span><span class="sxs-lookup"><span data-stu-id="54e92-174">When this flag is set to zero (0), **FindFirstPrinterChangeNotification** will only work for 2D printers.</span></span> <span data-ttu-id="54e92-175">Esse é o valor padrão.</span><span class="sxs-lookup"><span data-stu-id="54e92-175">This is the default value.</span></span>

</dd> <dt>

<span data-ttu-id="54e92-176">*pPrinterNotifyOptions* \[ em, opcional\]</span><span class="sxs-lookup"><span data-stu-id="54e92-176">*pPrinterNotifyOptions* \[in, optional\]</span></span>
</dt> <dd>

<span data-ttu-id="54e92-177">Um ponteiro para uma estrutura de [**\_ \_ Opções de notificação de impressora**](printer-notify-options.md) .</span><span class="sxs-lookup"><span data-stu-id="54e92-177">A pointer to a [**PRINTER\_NOTIFY\_OPTIONS**](printer-notify-options.md) structure.</span></span> <span data-ttu-id="54e92-178">O membro **pTypes** dessa estrutura é uma matriz de uma ou mais [**Opções de \_ \_ \_ tipo de opção de notificação de impressora**](printer-notify-options-type.md) , cada uma delas especifica um campo de informações de impressora a ser monitorado.</span><span class="sxs-lookup"><span data-stu-id="54e92-178">The **pTypes** member of this structure is an array of one or more [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md) structures, each of which specifies a printer information field to monitor.</span></span> <span data-ttu-id="54e92-179">Uma notificação de alteração ocorre quando um ou mais campos especificados são alterados.</span><span class="sxs-lookup"><span data-stu-id="54e92-179">A change notification occurs when one or more of the specified fields changes.</span></span> <span data-ttu-id="54e92-180">Quando ocorre uma alteração, a função [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) pode recuperar as novas informações da impressora.</span><span class="sxs-lookup"><span data-stu-id="54e92-180">When a change occurs, the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function can retrieve the new printer information.</span></span> <span data-ttu-id="54e92-181">Esse parâmetro poderá ser **nulo** se *fdwFilter* for diferente de zero.</span><span class="sxs-lookup"><span data-stu-id="54e92-181">This parameter can be **NULL** if *fdwFilter* is nonzero.</span></span>

<span data-ttu-id="54e92-182">Para obter uma lista de campos que podem ser monitorados, consulte [**Opções de notificação de impressora \_ \_ \_ tipo**](printer-notify-options-type.md).</span><span class="sxs-lookup"><span data-stu-id="54e92-182">For a list of fields that can be monitored, see [**PRINTER\_NOTIFY\_OPTIONS\_TYPE**](printer-notify-options-type.md).</span></span>

</dd> </dl>

## <a name="return-value"></a><span data-ttu-id="54e92-183">Retornar valor</span><span class="sxs-lookup"><span data-stu-id="54e92-183">Return value</span></span>

<span data-ttu-id="54e92-184">Se a função for realizada com sucesso, o valor de retorno será um identificador para um objeto de notificação de alteração associado à impressora ou ao servidor de impressão especificado.</span><span class="sxs-lookup"><span data-stu-id="54e92-184">If the function succeeds, the return value is a handle to a change notification object associated with the specified printer or print server.</span></span>

<span data-ttu-id="54e92-185">Se a função falhar, o valor de retorno será um \_ valor de identificador inválido \_ .</span><span class="sxs-lookup"><span data-stu-id="54e92-185">If the function fails, the return value is INVALID\_HANDLE\_VALUE.</span></span>

## <a name="remarks"></a><span data-ttu-id="54e92-186">Comentários</span><span class="sxs-lookup"><span data-stu-id="54e92-186">Remarks</span></span>

> [!Note]  
> <span data-ttu-id="54e92-187">Essa é uma função de bloqueio ou síncrona e pode não retornar imediatamente.</span><span class="sxs-lookup"><span data-stu-id="54e92-187">This is a blocking or synchronous function and might not return immediately.</span></span> <span data-ttu-id="54e92-188">A rapidez com que essa função retorna depende de fatores de tempo de execução, como status de rede, configuração de servidor de impressão e fatores de implementação de driver de impressora que são difíceis de prever ao escrever um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="54e92-188">How quickly this function returns depends on run-time factors such as network status, print server configuration, and printer driver implementation factors that are difficult to predict when writing an application.</span></span> <span data-ttu-id="54e92-189">Chamar essa função de um thread que gerencia a interação com a interface do usuário pode fazer com que o aplicativo pareça não responder.</span><span class="sxs-lookup"><span data-stu-id="54e92-189">Calling this function from a thread that manages interaction with the user interface could make the application appear to be unresponsive.</span></span>

 

<span data-ttu-id="54e92-190">Para monitorar uma impressora ou um servidor de impressão, chame a função **FindFirstPrinterChangeNotification** e, em seguida, use o identificador de objeto de notificação de alteração retornado em uma chamada para uma das [funções de espera](/windows/desktop/Sync/wait-functions).</span><span class="sxs-lookup"><span data-stu-id="54e92-190">To monitor a printer or print server, call the **FindFirstPrinterChangeNotification** function, then use the returned change notification object handle in a call to one of the [wait functions](/windows/desktop/Sync/wait-functions).</span></span> <span data-ttu-id="54e92-191">Uma operação de espera em um objeto de notificação de alteração é satisfeita quando o objeto de notificação de alteração entra no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="54e92-191">A wait operation on a change notification object is satisfied when the change notification object enters the signaled state.</span></span> <span data-ttu-id="54e92-192">O sistema sinaliza o objeto quando uma ou mais das alterações especificadas por *fdwFilter* ou *pPrinterNotifyOptions* ocorre na impressora monitorada ou no servidor de impressão.</span><span class="sxs-lookup"><span data-stu-id="54e92-192">The system signals the object when one or more of the changes specified by *fdwFilter* or *pPrinterNotifyOptions* occurs in the monitored printer or print server.</span></span>

<span data-ttu-id="54e92-193">Quando você chama **FindFirstPrinterChangeNotification**, *fdwFilter* deve ser diferente de zero ou o *pPrinterNotifyOptions* deve ser não **nulo**.</span><span class="sxs-lookup"><span data-stu-id="54e92-193">When you call **FindFirstPrinterChangeNotification**, either *fdwFilter* must be nonzero or *pPrinterNotifyOptions* must be non-**NULL**.</span></span> <span data-ttu-id="54e92-194">Se ambos forem especificados, as notificações ocorrerão para ambos.</span><span class="sxs-lookup"><span data-stu-id="54e92-194">If both are specified, notifications will occur for both.</span></span>

<span data-ttu-id="54e92-195">Quando uma operação de espera em um objeto de notificação de alteração de impressora for satisfeita, chame a função [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) para determinar a causa da notificação.</span><span class="sxs-lookup"><span data-stu-id="54e92-195">When a wait operation on a printer change notification object is satisfied, call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function to determine the cause of the notification.</span></span> <span data-ttu-id="54e92-196">Para uma condição especificada por *fdwFilter*, **FindNextPrinterChangeNotification** relata a condição ou condições que foram alteradas.</span><span class="sxs-lookup"><span data-stu-id="54e92-196">For a condition specified by *fdwFilter*, **FindNextPrinterChangeNotification** reports the condition or conditions that changed.</span></span> <span data-ttu-id="54e92-197">Para um campo de informações de impressora especificado por *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** relata o campo ou os campos que foram alterados, bem como as novas informações para esses campos.</span><span class="sxs-lookup"><span data-stu-id="54e92-197">For a printer information field specified by *pPrinterNotifyOptions*, **FindNextPrinterChangeNotification** reports the field or fields that changed as well as the new information for these fields.</span></span> <span data-ttu-id="54e92-198">**FindNextPrinterChangeNotification** também redefine o objeto de notificação de alteração para o estado não sinalizado para que você possa usá-lo em outra operação de espera para continuar a monitorar a impressora ou o servidor de impressão.</span><span class="sxs-lookup"><span data-stu-id="54e92-198">**FindNextPrinterChangeNotification** also resets the change notification object to the nonsignaled state so you can use it in another wait operation to continue monitoring the printer or print server.</span></span>

<span data-ttu-id="54e92-199">Com uma exceção, não chame a função [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) se o objeto de notificação de alteração não estiver no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="54e92-199">With one exception, do not call the [**FindNextPrinterChangeNotification**](findnextprinterchangenotification.md) function if the change notification object is not in the signaled state.</span></span> <span data-ttu-id="54e92-200">Se a função Wait retornar o tempo limite de espera de valor \_ , o objeto de alteração não estará no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="54e92-200">If the wait function returns the value WAIT\_TIMEOUT, the change object is not in the signaled state.</span></span> <span data-ttu-id="54e92-201">Chame a função **FindNextPrinterChangeNotification** somente se a função Wait for realizada com sucesso sem tempo limite. A exceção é quando **FindNextPrinterChangeNotification** é chamado com o \_ bit de atualização opções de notificação de impressora \_ \_ definido no parâmetro *pPrinterNotifyOptions* .</span><span class="sxs-lookup"><span data-stu-id="54e92-201">Call the **FindNextPrinterChangeNotification** function only if the wait function succeeds without timing out. The exception is when **FindNextPrinterChangeNotification** is called with the PRINTER\_NOTIFY\_OPTIONS\_REFRESH bit set in the *pPrinterNotifyOptions* parameter.</span></span>

<span data-ttu-id="54e92-202">Quando você não precisar mais do objeto de notificação de alteração, feche-o chamando a função [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) .</span><span class="sxs-lookup"><span data-stu-id="54e92-202">When you no longer need the change notification object, close it by calling the [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) function.</span></span>

<span data-ttu-id="54e92-203">Os chamadores de **FindFirstPrinterChangeNotification** devem garantir que o identificador da impressora passado para **FindFirstPrinterChangeNotification** permaneça válido até que [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) seja chamado.</span><span class="sxs-lookup"><span data-stu-id="54e92-203">Callers of **FindFirstPrinterChangeNotification** must ensure that the printer handle passed into **FindFirstPrinterChangeNotification** remains valid until [**FindClosePrinterChangeNotification**](findcloseprinterchangenotification.md) is called.</span></span> <span data-ttu-id="54e92-204">Se o identificador da impressora for fechado antes do identificador de notificação de alteração da impressora, outras notificações não serão entregues.</span><span class="sxs-lookup"><span data-stu-id="54e92-204">If the printer handle is closed before the printer change notification handle, further notifications will fail to be delivered.</span></span>

<span data-ttu-id="54e92-205">**FindFirstPrinterChangeNotification** não enviará notificações de alteração para impressoras 3D para identificadores do servidor.</span><span class="sxs-lookup"><span data-stu-id="54e92-205">**FindFirstPrinterChangeNotification** will not send change notifications for 3D printers to server handles.</span></span>

> [!Note]  
> <span data-ttu-id="54e92-206">No Windows XP com Service Pack 2 (SP2) e posterior, o firewall de conexão com a Internet (ICF) bloqueia as portas de impressora por padrão, mas uma exceção para o compartilhamento de arquivos e impressoras pode ser habilitada.</span><span class="sxs-lookup"><span data-stu-id="54e92-206">In Windows XP with Service Pack 2 (SP2) and later, the Internet Connection Firewall (ICF) blocks printer ports by default, but an exception for File and Print Sharing can be enabled.</span></span> <span data-ttu-id="54e92-207">Se um usuário fizer uma conexão de impressora com outro computador e a exceção não estiver habilitada, o usuário não receberá notificações de alteração de impressora do servidor.</span><span class="sxs-lookup"><span data-stu-id="54e92-207">If a user makes a printer connection to another machine, and the exception is not enabled, then the user will not receive printer change notifications from the server.</span></span> <span data-ttu-id="54e92-208">Um administrador de máquina precisará habilitar a exceção.</span><span class="sxs-lookup"><span data-stu-id="54e92-208">A machine admin will have to enable exception.</span></span>

 

## <a name="requirements"></a><span data-ttu-id="54e92-209">Requisitos</span><span class="sxs-lookup"><span data-stu-id="54e92-209">Requirements</span></span>



| <span data-ttu-id="54e92-210">Requisito</span><span class="sxs-lookup"><span data-stu-id="54e92-210">Requirement</span></span> | <span data-ttu-id="54e92-211">Valor</span><span class="sxs-lookup"><span data-stu-id="54e92-211">Value</span></span> |
|-------------------------------------|-----------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="54e92-212">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="54e92-212">Minimum supported client</span></span><br/> | <span data-ttu-id="54e92-213">Windows 2000 Professional \[somente aplicativos da área de trabalho\]</span><span class="sxs-lookup"><span data-stu-id="54e92-213">Windows 2000 Professional \[desktop apps only\]</span></span><br/>                                                |
| <span data-ttu-id="54e92-214">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="54e92-214">Minimum supported server</span></span><br/> | <span data-ttu-id="54e92-215">Windows 2000 Server \[somente aplicativos da área de trabalho\]</span><span class="sxs-lookup"><span data-stu-id="54e92-215">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                                      |
| <span data-ttu-id="54e92-216">Cabeçalho</span><span class="sxs-lookup"><span data-stu-id="54e92-216">Header</span></span><br/>                   | <dl> <span data-ttu-id="54e92-217"><dt>Winspool. h (incluir Windows. h)</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-217"><dt>Winspool.h (include Windows.h)</dt></span></span> </dl> |
| <span data-ttu-id="54e92-218">Biblioteca</span><span class="sxs-lookup"><span data-stu-id="54e92-218">Library</span></span><br/>                  | <dl> <span data-ttu-id="54e92-219"><dt>Winspool. lib</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-219"><dt>Winspool.lib</dt></span></span> </dl>                   |
| <span data-ttu-id="54e92-220">DLL</span><span class="sxs-lookup"><span data-stu-id="54e92-220">DLL</span></span><br/>                      | <dl> <span data-ttu-id="54e92-221"><dt>Spoolss.dll</dt></span><span class="sxs-lookup"><span data-stu-id="54e92-221"><dt>Spoolss.dll</dt></span></span> </dl>                    |



## <a name="see-also"></a><span data-ttu-id="54e92-222">Confira também</span><span class="sxs-lookup"><span data-stu-id="54e92-222">See also</span></span>

<dl> <dt>

[<span data-ttu-id="54e92-223">Impressão</span><span class="sxs-lookup"><span data-stu-id="54e92-223">Printing</span></span>](printdocs-printing.md)
</dt> <dt>

[<span data-ttu-id="54e92-224">Funções da API do Spooler de impressão</span><span class="sxs-lookup"><span data-stu-id="54e92-224">Print Spooler API Functions</span></span>](printing-and-print-spooler-functions.md)
</dt> <dt>

[<span data-ttu-id="54e92-225">**FindClosePrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="54e92-225">**FindClosePrinterChangeNotification**</span></span>](findcloseprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="54e92-226">**FindNextPrinterChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="54e92-226">**FindNextPrinterChangeNotification**</span></span>](findnextprinterchangenotification.md)
</dt> <dt>

[<span data-ttu-id="54e92-227">**OpenPrinter**</span><span class="sxs-lookup"><span data-stu-id="54e92-227">**OpenPrinter**</span></span>](openprinter.md)
</dt> <dt>

[<span data-ttu-id="54e92-228">**\_Opções de notificação de impressora \_**</span><span class="sxs-lookup"><span data-stu-id="54e92-228">**PRINTER\_NOTIFY\_OPTIONS**</span></span>](printer-notify-options.md)
</dt> <dt>

[<span data-ttu-id="54e92-229">**\_tipo de \_ Opções de notificação de impressora \_**</span><span class="sxs-lookup"><span data-stu-id="54e92-229">**PRINTER\_NOTIFY\_OPTIONS\_TYPE**</span></span>](printer-notify-options-type.md)
</dt> </dl>

 

