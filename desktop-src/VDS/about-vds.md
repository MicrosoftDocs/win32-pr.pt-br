---
description: Sobre o VDS
ms.assetid: b2f7628c-b567-40a9-9ad7-6c47077af5fb
title: Sobre o VDS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 911145fda8f2dd63c886530af3d8507c38d8e829
ms.sourcegitcommit: 37f276b5d887a3aad04b1ba86e390dea9d87e591
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/04/2021
ms.locfileid: "104565497"
---
# <a name="about-vds"></a><span data-ttu-id="9c03d-103">Sobre o VDS</span><span class="sxs-lookup"><span data-stu-id="9c03d-103">About VDS</span></span>

<span data-ttu-id="9c03d-104">\[A partir do Windows 8 e do Windows Server 2012, a interface com do [serviço de disco virtual](virtual-disk-service-portal.md) é substituída pela [API de gerenciamento de armazenamento do Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span><span class="sxs-lookup"><span data-stu-id="9c03d-104">\[Beginning with Windows 8 and Windows Server 2012, the [Virtual Disk Service](virtual-disk-service-portal.md) COM interface is superseded by the [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).\]</span></span>

<span data-ttu-id="9c03d-105">O serviço de disco virtual é um serviço do Microsoft Windows que executa operações de consulta e configuração na solicitação de usuários finais, scripts e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="9c03d-105">Virtual Disk Service is a Microsoft Windows service that performs query and configuration operations at the request of end users, scripts, and applications.</span></span> <span data-ttu-id="9c03d-106">O serviço estende os recursos de armazenamento existentes dos sistemas operacionais Windows Server das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="9c03d-106">The service extends the existing storage capabilities of Windows Server operating systems in the following ways:</span></span>

-   <span data-ttu-id="9c03d-107">Fornece uma API para os recursos existentes de gerenciamento de volume e disco no Windows.</span><span class="sxs-lookup"><span data-stu-id="9c03d-107">Provides an API to the existing volume and disk management features in Windows.</span></span>
-   <span data-ttu-id="9c03d-108">Unifica o gerenciamento de volume e o gerenciamento de discos independentes de hardware (RAID) em uma única API.</span><span class="sxs-lookup"><span data-stu-id="9c03d-108">Unifies volume management and hardware Redundant Array of Independent Disks (RAID) management under a single API.</span></span>

<span data-ttu-id="9c03d-109">O VDS não executa as seguintes atividades de gerenciamento de armazenamento:</span><span class="sxs-lookup"><span data-stu-id="9c03d-109">VDS does not perform the following storage-management activities:</span></span>

-   <span data-ttu-id="9c03d-110">Gerenciamento de subsistema de hardware, como monitoramento de temperatura ou monitoramento de estatísticas de desempenho para matrizes de disco.</span><span class="sxs-lookup"><span data-stu-id="9c03d-110">Hardware subsystem management, such as temperature monitoring or the monitoring of performance statistics for disk arrays.</span></span>
-   <span data-ttu-id="9c03d-111">Gerenciamento de malha de SAN (rede de área de armazenamento), como zoneamento de Host-Based adaptador (HBA) e segurança.</span><span class="sxs-lookup"><span data-stu-id="9c03d-111">Storage Area Network (SAN) fabric management, such as Host-Based Adapter (HBA) zoning and security.</span></span>

<span data-ttu-id="9c03d-112">As seções a seguir descrevem a arquitetura do VDS, a função de provedores de VDS e a API.</span><span class="sxs-lookup"><span data-stu-id="9c03d-112">The sections that follow describe the architecture of VDS, the role of VDS providers, and the API.</span></span>

## <a name="service-architecture"></a><span data-ttu-id="9c03d-113">Arquitetura de serviço</span><span class="sxs-lookup"><span data-stu-id="9c03d-113">Service Architecture</span></span>

<span data-ttu-id="9c03d-114">O VDS define três interfaces: uma única interface entre a camada de aplicativo e o serviço e duas interfaces entre os programas de serviço e provedor na camada de dados.</span><span class="sxs-lookup"><span data-stu-id="9c03d-114">VDS defines three interfaces: a single interface between the application layer and the service, and two interfaces between the service and provider programs in the data layer.</span></span> <span data-ttu-id="9c03d-115">A ilustração a seguir mostra o limite de aplicativo para serviço e o limite de serviço a provedor.</span><span class="sxs-lookup"><span data-stu-id="9c03d-115">The following illustration shows the application-to-service boundary and the service-to-provider boundary.</span></span>

![Diagrama que mostra a arquitetura de serviço dividida nas seções ' aplicativos ', ' serviço de disco virtual ' e ' provedores de VDS '.](images/vdsoverview.png)

<span data-ttu-id="9c03d-117">A arquitetura de N camadas permite que o VDS coordene com as funções do sistema de arquivos, sincronize as atividades do provedor e arbitra entre os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="9c03d-117">N-tier architecture enables VDS to coordinate with the file-system functions, synchronize provider activities, and arbitrate between applications.</span></span> <span data-ttu-id="9c03d-118">Estando entre o aplicativo e o provedor, o VDS apresenta funcionalidade uniforme para aplicativos, embora alguns provedores subjacentes possam não ter tal uniformidade.</span><span class="sxs-lookup"><span data-stu-id="9c03d-118">Being between the application and provider, VDS presents uniform functionality to applications even though some the underlying providers might lack such uniformity.</span></span>

<span data-ttu-id="9c03d-119">O serviço implementa funcionalidade comum: formatação de volumes, adição e remoção de letras de unidade ou pastas montadas, bem como gerenciamento de discos não alocados, discos sem informações de partição.</span><span class="sxs-lookup"><span data-stu-id="9c03d-119">The service implements common functionality: formatting volumes, adding and removing drive letters or mounted folders, as well as managing unallocated disks—disks having no partition information.</span></span> <span data-ttu-id="9c03d-120">O VDS também retorna notificações de eventos para aplicativos registrados.</span><span class="sxs-lookup"><span data-stu-id="9c03d-120">VDS also returns event notifications to registered applications.</span></span> <span data-ttu-id="9c03d-121">Para obter detalhes, consulte [notificações do VDS](vds-notification-model.md).</span><span class="sxs-lookup"><span data-stu-id="9c03d-121">For details, see [VDS Notifications](vds-notification-model.md).</span></span>

## <a name="role-of-providers"></a><span data-ttu-id="9c03d-122">Função de provedores</span><span class="sxs-lookup"><span data-stu-id="9c03d-122">Role of Providers</span></span>

<span data-ttu-id="9c03d-123">O VDS define duas interfaces de provedor, uma para um provedor de software e outra para um provedor de hardware.</span><span class="sxs-lookup"><span data-stu-id="9c03d-123">VDS defines two provider interfaces, one for a software provider and one for a hardware provider.</span></span> <span data-ttu-id="9c03d-124">Cada provedor implementa uma parte diferente da API definida pelo VDS:</span><span class="sxs-lookup"><span data-stu-id="9c03d-124">Each provider implements a different portion of the API defined by VDS:</span></span>

-   <span data-ttu-id="9c03d-125">Um *provedor de software* é um programa baseado em host que é suportado por um driver de modo kernel na pilha de e/s de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="9c03d-125">A *software provider* is a host-based program that is supported by a kernel-mode driver in the storage I/O stack.</span></span> <span data-ttu-id="9c03d-126">O tempo de execução do kernel do provedor interage com o Gerenciador de montagem no momento da inicialização ou o Gerenciador de Plug and Play (PnP) no momento da descoberta para reivindicar cada disco.</span><span class="sxs-lookup"><span data-stu-id="9c03d-126">The provider-kernel runtime interacts with the Mount Manager at boot time or the Plug and Play (PnP) Manager at discovery time to claim each disk.</span></span> <span data-ttu-id="9c03d-127">Os provedores de software operam em volumes, discos e partições de disco.</span><span class="sxs-lookup"><span data-stu-id="9c03d-127">Software providers operate on volumes, disks, and disk partitions.</span></span>

    <span data-ttu-id="9c03d-128">O VDS inclui dois tipos de provedor.</span><span class="sxs-lookup"><span data-stu-id="9c03d-128">VDS includes two provider types.</span></span> <span data-ttu-id="9c03d-129">O provedor de software básico gerencia discos básicos e não oferece nenhuma associação tolerante a falhas.</span><span class="sxs-lookup"><span data-stu-id="9c03d-129">The basic software provider manages basic disks and offers no fault-tolerant binding.</span></span> <span data-ttu-id="9c03d-130">O provedor de software dinâmico gerencia discos dinâmicos e oferece gerenciamento de falhas quando aplicável.</span><span class="sxs-lookup"><span data-stu-id="9c03d-130">The dynamic software provider manages dynamic disks and offers fault management where applicable.</span></span> <span data-ttu-id="9c03d-131">O comportamento do provedor de software é consistente com o comportamento de discos básicos e dinâmicos no host.</span><span class="sxs-lookup"><span data-stu-id="9c03d-131">Software-provider behavior is consistent with the behavior of basic and dynamic disks on the host.</span></span> <span data-ttu-id="9c03d-132">Por exemplo, se o sistema operacional de um determinado host oferecer suporte a discos dinâmicos tolerantes a falhas, o VDS também dará suporte a esse comportamento no host.</span><span class="sxs-lookup"><span data-stu-id="9c03d-132">For example, if the operating system of a given host supports fault-tolerant dynamic disks, VDS also supports this behavior on the host.</span></span>

-   <span data-ttu-id="9c03d-133">Um *provedor de hardware* implementa os métodos que são usados para gerenciar um subsistema de armazenamento — uma matriz de disco de hardware ou placa de adaptador que permite a criação de discos lógicos configurados para aprimorar o desempenho, a disponibilidade de dados ou a recuperação de dados.</span><span class="sxs-lookup"><span data-stu-id="9c03d-133">A *hardware provider* implements the methods that are used to manage a storage subsystem—a hardware disk array or adapter card that enables the creation of logical disks configured to enhance performance, data availability, or data recovery.</span></span> <span data-ttu-id="9c03d-134">Muitos grandes fabricantes de gabinetes de RAID produziram um provedor de hardware projetado para uso com o VDS.</span><span class="sxs-lookup"><span data-stu-id="9c03d-134">Many major RAID cabinet manufacturers have produced a hardware provider that is designed for use with VDS.</span></span> <span data-ttu-id="9c03d-135">Os consumidores de serviço devem obter um provedor de hardware e um hardware associado do fabricante.</span><span class="sxs-lookup"><span data-stu-id="9c03d-135">Service consumers must obtain a hardware provider and associated hardware from the manufacturer.</span></span>

    <span data-ttu-id="9c03d-136">Os recursos de um provedor de hardware dependem dos recursos do hardware subjacente.</span><span class="sxs-lookup"><span data-stu-id="9c03d-136">The capabilities of a hardware provider depend on the capabilities of the underlying hardware.</span></span> <span data-ttu-id="9c03d-137">Consequentemente, o grau para o qual cada fabricante implementa a API pode variar.</span><span class="sxs-lookup"><span data-stu-id="9c03d-137">Consequently, the degree to which each manufacturer implements the API can vary.</span></span> <span data-ttu-id="9c03d-138">Por exemplo, os fabricantes podem incluir métodos adicionais para otimizar as configurações, monitorar e ajustar dinamicamente o desempenho, automatizar o gerenciamento de falhas ou fornecer outras funcionalidades úteis.</span><span class="sxs-lookup"><span data-stu-id="9c03d-138">For example, manufacturers can include additional methods to optimize configurations, monitor and dynamically tune performance, automate fault management, or provide other beneficial functionality.</span></span>

    <span data-ttu-id="9c03d-139">Os provedores de hardware oferecem várias opções de configuração que não estão disponíveis para os provedores de software.</span><span class="sxs-lookup"><span data-stu-id="9c03d-139">Hardware providers offer several configuration options that are not available to the software providers.</span></span> <span data-ttu-id="9c03d-140">O mais notável é o modelo de configuração automagic, que apresenta uma exibição baseada em atributo de armazenamento para cada aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9c03d-140">Most notable is the automagic configuration model, which presents an attribute-based view of storage to each application.</span></span> <span data-ttu-id="9c03d-141">Dicas de associação, como "leituras mais rápidas" ou "recuperação rápida de falhas necessárias" substituem a complexidade de associar o armazenamento físico ao armazenamento virtual.</span><span class="sxs-lookup"><span data-stu-id="9c03d-141">Binding hints, such as "mostly reads" or "fast crash recovery required" replace the complexity of binding physical storage into virtual storage.</span></span> <span data-ttu-id="9c03d-142">Cada provedor de hardware executa mapeamento de extensão, alocação de espaço e seleção de tipo de associação com base nas dicas que são enviadas por um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9c03d-142">Each hardware provider performs extent mapping, space allocation, and binding-type selection based on the hints that are submitted by an application.</span></span> <span data-ttu-id="9c03d-143">Para obter a descrição completa do provedor de hardware, incluindo as opções de configuração, consulte a documentação fornecida pelo fabricante do subsistema.</span><span class="sxs-lookup"><span data-stu-id="9c03d-143">For the complete hardware provider description, including the configuration options, see the documentation that is supplied by the subsystem manufacturer.</span></span>

## <a name="application-programming-interface"></a><span data-ttu-id="9c03d-144">Interface de programação de aplicativo</span><span class="sxs-lookup"><span data-stu-id="9c03d-144">Application Programming Interface</span></span>

<span data-ttu-id="9c03d-145">Os aplicativos podem invocar métodos VDS para consultar e configurar discos baseados em host, armazenamento RAID ou ambos.</span><span class="sxs-lookup"><span data-stu-id="9c03d-145">Applications can invoke VDS methods to query and configure host-based disks, RAID storage, or both.</span></span> <span data-ttu-id="9c03d-146">Para obter uma visão geral da API, consulte o [modelo de objeto do VDS](vds-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="9c03d-146">For an overview of the API, see the [VDS Object Model](vds-object-model.md).</span></span>

<span data-ttu-id="9c03d-147">Os aplicativos típicos para o VDS solucionam problemas de gerenciamento e monitoramento de configuração e variam de sistemas de gerenciamento de armazenamento dedicados a aplicativos de Back Office que buscam um melhor controle sobre a configuração ou o gerenciamento de falhas.</span><span class="sxs-lookup"><span data-stu-id="9c03d-147">Typical applications for VDS solve configuration management and monitoring problems, and range from dedicated storage-management systems to back-office applications seeking better control over configuration or fault management.</span></span> <span data-ttu-id="9c03d-148">Os aplicativos a seguir usam o VDS hoje:</span><span class="sxs-lookup"><span data-stu-id="9c03d-148">The following applications use VDS today:</span></span>

-   <span data-ttu-id="9c03d-149">O snap-in de gerenciamento de disco configura e gerencia os discos controlados por um computador host.</span><span class="sxs-lookup"><span data-stu-id="9c03d-149">The Disk Management snap-in configures and manages disks controlled by a host computer.</span></span> <span data-ttu-id="9c03d-150">Os administradores do sistema e os usuários finais podem consultar e configurar discos e volumes locais (ou remotos) com essa ferramenta de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="9c03d-150">System administrators and end users can query and configure local (or remote) disks and volumes with this user interface (UI) tool.</span></span>
-   <span data-ttu-id="9c03d-151">Diskpart.exe é um utilitário de linha de comando que configura e gerencia discos, volumes e partições.</span><span class="sxs-lookup"><span data-stu-id="9c03d-151">Diskpart.exe is a command-line utility that configures and manages disks, volumes, and partitions.</span></span>
-   <span data-ttu-id="9c03d-152">Diskraid.exe é um utilitário de linha de comando que configura e gerencia subsistemas RAID de hardware.</span><span class="sxs-lookup"><span data-stu-id="9c03d-152">Diskraid.exe is a command-line utility that configures and manages hardware RAID subsystems.</span></span> <span data-ttu-id="9c03d-153">Esse utilitário pode interagir com qualquer hardware de armazenamento acompanhado por um provedor de hardware VDS.</span><span class="sxs-lookup"><span data-stu-id="9c03d-153">This utility can interact with any storage hardware that is accompanied by a VDS hardware provider.</span></span>

## <a name="related-topics"></a><span data-ttu-id="9c03d-154">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="9c03d-154">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9c03d-155">Serviço de Disco Virtual</span><span class="sxs-lookup"><span data-stu-id="9c03d-155">Virtual Disk Service</span></span>](virtual-disk-service-portal.md)
</dt> <dt>

[<span data-ttu-id="9c03d-156">Notificações do VDS</span><span class="sxs-lookup"><span data-stu-id="9c03d-156">VDS Notifications</span></span>](vds-notification-model.md)
</dt> <dt>

[<span data-ttu-id="9c03d-157">Modelo de objeto VDS</span><span class="sxs-lookup"><span data-stu-id="9c03d-157">VDS Object Model</span></span>](vds-object-model.md)
</dt> </dl>

 

 
