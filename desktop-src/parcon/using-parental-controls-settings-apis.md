---
description: Usando APIs de configurações de controles pais
ms.assetid: 77a239e9-1cec-4710-b673-7d0cebd502e9
title: Usando APIs de configurações de controles pais
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1dde4827dfe3ed5ee7eec6787744e6ff92f18775
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103662573"
---
# <a name="using-parental-controls-settings-apis"></a><span data-ttu-id="a6fd2-103">Usando APIs de configurações de controles pais</span><span class="sxs-lookup"><span data-stu-id="a6fd2-103">Using Parental Controls Settings APIs</span></span>

<span data-ttu-id="a6fd2-104">As configurações são discutidas antes do registro em log porque o log é condicional nas configurações do usuário.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-104">Settings are discussed ahead of logging because logging is conditional on the user's settings.</span></span>

## <a name="wmi-api-settings-writeread"></a><span data-ttu-id="a6fd2-105">Gravação/leitura das configurações da API WMI</span><span class="sxs-lookup"><span data-stu-id="a6fd2-105">WMI API Settings Write/Read</span></span>

<span data-ttu-id="a6fd2-106">A API do WMI fornece acesso não abstrato (bruto) a todas as configurações instanciadas pela infraestrutura de controles dos pais, conforme definido no arquivo de esquema Wpcsprov. mof.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-106">The WMI API provides non-abstracted (raw) access to all settings instantiated by the Parental Controls infrastructure as defined in the Wpcsprov.mof schema file.</span></span> <span data-ttu-id="a6fd2-107">O repositório de configurações existe no \\ \\ \\ namespace WindowsParentalControls de aplicativos cimv2 raiz \\ , com as seguintes definições de classe que definem um esquema.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-107">The settings store exists in the \\root\\CIMV2\\Applications\\WindowsParentalControls namespace, with the following class definitions defining a schema.</span></span> <span data-ttu-id="a6fd2-108">Elementos de extensibilidade são indicados.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-108">Extensibility elements are noted.</span></span>

<span data-ttu-id="a6fd2-109">Por computador:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-109">Per-computer:</span></span>

-   <span data-ttu-id="a6fd2-110">WpcSystemSettings (uma instância)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-110">WpcSystemSettings (one instance)</span></span>
    -   <span data-ttu-id="a6fd2-111">Métodos adduser () e RemoveUser () para criar e excluir configurações de controles pais para um determinado SID, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-111">AddUser() and RemoveUser() methods to create and delete parental controls settings for a given SID, respectively.</span></span>
    -   <span data-ttu-id="a6fd2-112">Propriedades do sistema atual de classificações de jogos em vigor, e acompanhamento e notificação relacionadas à verificação do administrador de logs.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-112">Properties for current game ratings system in force, and tracking and notification related to admin checking of logs.</span></span>
    -   <span data-ttu-id="a6fd2-113">Extensibilidade: Propriedades de aplicativo HTTP somente leitura e leitura/gravação e listas de isenção de URL para filtragem de conteúdo da Web, ID de substituição de filtro de conteúdo da Web e caminho de DLL de recurso de nome e ID e número de eventos de log personalizado e registro de nome de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-113">Extensibility: Properties for read-only and read/write HTTP application and URL exemption lists for web content filtering, Web Content Filter override ID and name resource DLL path and ID, and custom log event number of fields and header name registration.</span></span>
-   <span data-ttu-id="a6fd2-114">WpcRatingsSystem (uma instância por cada sistema de classificações instalada)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-114">WpcRatingsSystem (one instance per each ratings system installed)</span></span>
    -   <span data-ttu-id="a6fd2-115">WpcRating (uma instância por nível de classificação).</span><span class="sxs-lookup"><span data-stu-id="a6fd2-115">WpcRating (one instance per rating level).</span></span>
    -   <span data-ttu-id="a6fd2-116">WpcRatingDescriptor (uma instância por descritor de classificação).</span><span class="sxs-lookup"><span data-stu-id="a6fd2-116">WpcRatingDescriptor (one instance per rating descriptor).</span></span>
-   <span data-ttu-id="a6fd2-117">Extensibilidade: WpcExtension (uma instância por cada link de extensibilidade do painel de controles pai adicionado).</span><span class="sxs-lookup"><span data-stu-id="a6fd2-117">Extensibility: WpcExtension (one instance per each Parental Controls Panel extensibility link added).</span></span>
    -   <span data-ttu-id="a6fd2-118">Propriedades de GUID, subsistema, ID, caminho de recurso de imagem, caminho de recurso de imagem de estado desabilitado, caminho executável, caminho de DLL de recurso de nome de exibição e ID, caminho de DLL de recurso de subtítulo e ID.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-118">Properties for GUID, subsystem, ID, image resource path, disabled state image resource path, executable path, display name resource DLL path and ID, subtitle resource DLL path and ID.</span></span>

<span data-ttu-id="a6fd2-119">Usuário por controle:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-119">Per-controlled user:</span></span>

-   <span data-ttu-id="a6fd2-120">WpcUserSettings (uma instância por usuário controlado)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-120">WpcUserSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="a6fd2-121">Propriedades para SID de propriedade, sinalizador de ativação/desativação, sinalizador de logon/desligamento, limites de tempo de ativação/desativação de sinalizador, substituições habilitadas, máscara de horário de logon e restrições gerais de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-121">Properties for owning SID, parental controls on/off flag, logging on/off flag, time limits on/off flag, overrides enabled flag, logon hours mask, and General Application Restrictions on/off flag.</span></span>
    -   <span data-ttu-id="a6fd2-122">No Windows 8, a propriedade existente representa a primeira meia hora para cada hora.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-122">In Windows 8 the existing property represents the first half-hour for each hour.</span></span> <span data-ttu-id="a6fd2-123">Uma nova propriedade de meia hora foi adicionada para representar a segunda metade de cada hora.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-123">A new half-hour property has been added to represent the second half of each hour.</span></span> <span data-ttu-id="a6fd2-124">Uma nova propriedade adicional foi introduzida para representar a concessão de tempo diária.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-124">An additional new property was introduced to represent daily time allowance.</span></span>

        <span data-ttu-id="a6fd2-125">**Windows 7 e Windows Vista:** As restrições de temporizador têm suporte para uma granularidade de 1 hora.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-125">**Windows 7 and Windows Vista:** Timer restrictions supported 1 hour granularity.</span></span>

-   <span data-ttu-id="a6fd2-126">WpcWebSettings (uma instância por usuário controlado)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-126">WpcWebSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="a6fd2-127">Propriedades para SID proprietário, filtro ativar/desativar sinalizador, nível de filtro, downloads de arquivo sinalizador bloqueado, sinalizadores bloqueados de sites sem classificação.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-127">Properties for owning SID, filter on/off flag, filter level, file downloads blocked flag, unrated sites blocked flag.</span></span>
-   <span data-ttu-id="a6fd2-128">WpcUrlOverride (uma instância por URL explicitamente permitida ou negada na lista de substituição de URL usada como lista de permissões/bloqueios para filtragem de conteúdo da Web)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-128">WpcUrlOverride (one instance per URL explicitly allowed or denied in URL override list used as allow/block list for web content filtering)</span></span>
    -   <span data-ttu-id="a6fd2-129">Propriedades para SID proprietário, URL afetada, estado permitido/bloqueado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-129">Properties for owning SID, URL affected, allowed/blocked state.</span></span>
-   <span data-ttu-id="a6fd2-130">WpcAppOverride (uma instância por caminho permitido explicitamente na lista de substituição do aplicativo de restrições de aplicativo geral)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-130">WpcAppOverride (one instance per path explicitly allowed in General Application Restrictions application override list)</span></span>
    -   <span data-ttu-id="a6fd2-131">Propriedades para SID de propriedade.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-131">Properties for owning SID.</span></span> <span data-ttu-id="a6fd2-132">ID da regra mais segura, caminho para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-132">SAFER rule ID, path to application.</span></span>
-   <span data-ttu-id="a6fd2-133">WpcGamesSettings (uma instância por usuário controlado)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-133">WpcGamesSettings (one instance per controlled user)</span></span>
    -   <span data-ttu-id="a6fd2-134">Propriedades para SID proprietário, sinalizador de jogos permitidos, GUID do sistema de classificações para essas configurações, permitir sinalizador de jogos sem classificação, ID da classificação máxima permitida no sistema atual, coleção de descritores negados.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-134">Properties for owning SID, games permitted flag, GUID of ratings system for these settings, allow unrated games flag, ID of maximum allowed rating under current system, collection of denied descriptors.</span></span>
-   <span data-ttu-id="a6fd2-135">WpcGameOverride (uma instância por ID de aplicativo explicitamente permitida ou negada)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-135">WpcGameOverride (one instance per application ID explicitly allowed or denied)</span></span>
    -   <span data-ttu-id="a6fd2-136">Propriedades para SID proprietário, ID do aplicativo identificando o jogo, estado permitido/negado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-136">Properties for owning SID, application ID identifying game, allowed/denied state.</span></span>

## <a name="data-representation-notes"></a><span data-ttu-id="a6fd2-137">Notas de representação de dados</span><span class="sxs-lookup"><span data-stu-id="a6fd2-137">Data Representation Notes</span></span>

<span data-ttu-id="a6fd2-138">Várias das configurações no esquema são restritas pelo arquivo. mof com atributo não \_ nulo.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-138">Several of the settings within the schema are constrained by the .mof file with attribute non\_null.</span></span> <span data-ttu-id="a6fd2-139">Eles não podem ser definidos como uma variante nula.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-139">These cannot be set to a null variant.</span></span> <span data-ttu-id="a6fd2-140">Para todos os tipos que não são de matriz, o código de controles pai Inicializa os valores.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-140">For all non-array types, the Parental Controls code initializes values.</span></span> <span data-ttu-id="a6fd2-141">Para matrizes, os Estados vazios podem ser gravados usando uma variante nula, uma variante vazia ou uma matriz variante de tamanho zero.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-141">For arrays, empty states may be written by using a null variant, empty variant, or zero-sized variant array.</span></span> <span data-ttu-id="a6fd2-142">O provedor WMI normalizará tudo isso para uma representação de estado de variante nula na leitura.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-142">The WMI provider will normalize all of these to a null variant state representation on read.</span></span>

## <a name="user-interface-extensibility-link-notes"></a><span data-ttu-id="a6fd2-143">Observações do link de extensibilidade da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="a6fd2-143">User Interface Extensibility Link Notes</span></span>

<span data-ttu-id="a6fd2-144">O uso do WMI para registrar um link de extensibilidade da interface do usuário requer a especificação das seguintes informações:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-144">Using WMI to register a UI extensibility link requires specifying the following information:</span></span>

-   <span data-ttu-id="a6fd2-145">GUID – vários links podem compartilhar o mesmo GUID se eles fizerem parte de um pacote ou conjunto comum.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-145">GUID - multiple links may share the same GUID if they are part of a common package or suite.</span></span>
-   <span data-ttu-id="a6fd2-146">Subsistema-destinado a indicar classificações de tipos de link, como pacotes ou aplicativos compatíveis autônomos</span><span class="sxs-lookup"><span data-stu-id="a6fd2-146">Subsystem - intended to indicate classifications of link types, such as suites or standalone compliant applications</span></span>
-   <span data-ttu-id="a6fd2-147">Nome caminho de DLL de recurso e ID-especifica o recurso para o nome de exibição a ser exibido para o link.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-147">Name resource DLL path and ID - specifies resource for display name to be displayed for the link.</span></span>
-   <span data-ttu-id="a6fd2-148">Caminho de DLL de recurso de subtítulo e ID-especifica o recurso para texto adicional abaixo do nome.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-148">Subtitle resource DLL path and ID - specifies resource for additional text below the name.</span></span>
-   <span data-ttu-id="a6fd2-149">Caminho da imagem-caminho completo de um bitmap de 24 × 24 pixels (BMP), com profundidade de cor de 8 bits por pixel e, preferencialmente, um canal alfa.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-149">Image path - full path of a 24 × 24 pixel bitmap (BMP), with 8 bits-per-pixel color depth and preferably an alpha channel.</span></span> <span data-ttu-id="a6fd2-150">Isso é especificado de maneira consistente com extensões de Shell: <file system path> , <negative resource ID> .</span><span class="sxs-lookup"><span data-stu-id="a6fd2-150">This is specified in a manner consistent with shell extensions: <file system path>,<negative resource ID>.</span></span> <span data-ttu-id="a6fd2-151">Por exemplo: C: \\ Windows \\ System32 \\Wpccpl.dll,-20.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-151">As an example: C:\\Windows\\System32\\Wpccpl.dll,-20.</span></span>
-   <span data-ttu-id="a6fd2-152">Caminho de imagem desabilitado-o mesmo que o caminho de imagem acima, exceto a variante do bitmap que mostra o estado desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-152">Disabled image path - same as image path above, except variant of bitmap showing disabled state.</span></span> <span data-ttu-id="a6fd2-153">Essa imagem é mostrada quando os controles dos pais estão desativados.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-153">This image is shown when parental controls is off.</span></span>
-   <span data-ttu-id="a6fd2-154">Caminho exe-caminho completo de um executável a ser invocado usando ShellExecute ().</span><span class="sxs-lookup"><span data-stu-id="a6fd2-154">Exe path - full path to an executable to be invoked by using ShellExecute().</span></span> <span data-ttu-id="a6fd2-155">Esse caminho deve ser especificado com barras invertidas ou o link não invocará o executável.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-155">This path must be specified with backslashes, or the link will not invoke the executable.</span></span> <span data-ttu-id="a6fd2-156">A adição de um token% SID% após o caminho exe resultará na execução do link, substituindo a cadeia de caracteres de SID do usuário para o qual a página de Hub está sendo exibida no momento.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-156">Addition of a %SID% token after the exe path will result in the link execution substituting the SID string for the user for which the hub page is currently being viewed.</span></span> <span data-ttu-id="a6fd2-157">O executável pode usar a cadeia de caracteres de SID para gerenciar a funcionalidade do usuário especificado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-157">The executable may then use the SID string to manage functionality for the specified user.</span></span>

<span data-ttu-id="a6fd2-158">A desinstalação do aplicativo deve remover um registro de link de extensibilidade.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-158">Application uninstallation must remove an extensibility link registration.</span></span>

## <a name="web-extensibility-link-and-web-content-filter-override-notes"></a><span data-ttu-id="a6fd2-159">Notas de substituição de filtro de extensibilidade da Web e de conteúdo da Web</span><span class="sxs-lookup"><span data-stu-id="a6fd2-159">Web Extensibility Link and Web Content Filter Override Notes</span></span>

<span data-ttu-id="a6fd2-160">Ao definir a propriedade Filterid como o mesmo GUID de um link de extensibilidade de interface do usuário registrado existente, o link exibido será promovido de um link genérico em outras configurações para o link de restrições da Web exclusivo.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-160">By setting the FilterID property to the same GUID as an existing registered UI extensibility link, the link displayed will be promoted from a generic link in Other Settings to the exclusive Web Restrictions link.</span></span> <span data-ttu-id="a6fd2-161">Essa é uma configuração em todo o computador e, portanto, fará com que o LSP do filtro de conteúdo da Web na caixa ignore todas as filtragens de todos os usuários controlados.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-161">This is a computer-wide setting, and so will cause the in-box Web Content Filter LSP to bypass all filtering for all controlled users.</span></span> <span data-ttu-id="a6fd2-162">Um nome descritivo também deve ser definido na Propriedade FilterName, que é especificada por um caminho para DLL de recurso e ID.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-162">A descriptive name should also be set in the FilterName property, which is specified by a path to resource DLL and ID.</span></span>

<span data-ttu-id="a6fd2-163">O sistema de controles dos pais recomenda o seguinte de qualquer filtro da Web de substituição:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-163">The Parental Controls system recommends the following from any overriding web filter:</span></span>

-   <span data-ttu-id="a6fd2-164">Honrar o estado geral de ligar/desligar dos controles dos pais para um usuário.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-164">Honor the overall Parental Controls on/off state for a user.</span></span>
-   <span data-ttu-id="a6fd2-165">Honrar as configurações de relatório de atividades para um usuário.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-165">Honor the Activity Reporting settings for a user.</span></span>
-   <span data-ttu-id="a6fd2-166">Monitore a propriedade Filterid.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-166">Monitor the FilterID property.</span></span> <span data-ttu-id="a6fd2-167">Se ele mudar do GUID especificado do fornecedor, outro filtro assumirá a propriedade e o filtro do fornecedor deverá ser desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-167">If it changes from the vendor's specified GUID, another filter has taken ownership and the vendor's filter should disable itself.</span></span> <span data-ttu-id="a6fd2-168">Uma interface COM foi adicionada para reduzir a sobrecarga de verificação periódica para essa alteração em relação a uma chamada WMI.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-168">A COM interface has been added to reduce the overhead of checking periodically for this change versus a WMI call.</span></span>
-   <span data-ttu-id="a6fd2-169">É altamente recomendável respeitar as entradas de lista de isenção de URL e aplicativo HTTP somente leitura e de leitura/gravação.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-169">Highly recommended to honor both the read-only and read/write HTTP application and URL exemption list entries.</span></span>
-   <span data-ttu-id="a6fd2-170">Recomendado para honrar a lista de substituição de URL por usuário (lista de permissões/bloqueios).</span><span class="sxs-lookup"><span data-stu-id="a6fd2-170">Recommended to honor the per-user URL override list (allow/block list).</span></span>
-   <span data-ttu-id="a6fd2-171">Seja robusto para a troca rápida de usuários.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-171">Be robust to fast user switching.</span></span>

<span data-ttu-id="a6fd2-172">Os controles dos pais não colocam nenhuma limitação sobre como um filtro de conteúdo ou da Web se conecta ao Windows para implementar a filtragem.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-172">Parental Controls does not place any limitations on how a web or other content filter plugs in to Windows for implementing filtering.</span></span> <span data-ttu-id="a6fd2-173">Os fornecedores podem aproveitar seus investimentos atuais ou tecnologias preferenciais (LSP, TDI, outros).</span><span class="sxs-lookup"><span data-stu-id="a6fd2-173">Vendors may leverage their current investments or preferred technologies (LSP, TDI, other).</span></span>

<span data-ttu-id="a6fd2-174">A desinstalação do filtro do fornecedor deve cancelar o registro das entradas Filterid e FilterName.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-174">Uninstallation of the vendor's filter must unregister the FilterID and FilterName entries.</span></span> <span data-ttu-id="a6fd2-175">Isso é realizado pela configuração de Filterid para GUID \_ NULL e FilterName para uma variante NULL.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-175">This is performed by setting FilterID to GUID\_NULL and FilterName to a variant null.</span></span> <span data-ttu-id="a6fd2-176">O filtro de conteúdo da Web na caixa será habilitado novamente.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-176">The in-box web content filter will then be re-enabled.</span></span>

<span data-ttu-id="a6fd2-177">Observe que a reativação do filtro da Web na caixa só filtrará novas sessões e não as sessões ativas de antes da mudança.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-177">Note that re-enabling of the in-box web filter will only filter new sessions, and not sessions active from before the switch.</span></span>

## <a name="web-content-filter-allowblock-list-exportimport-format"></a><span data-ttu-id="a6fd2-178">Formato de exportação/importação da lista de permissões/bloqueios do filtro de conteúdo da Web</span><span class="sxs-lookup"><span data-stu-id="a6fd2-178">Web Content Filter Allow/Block List Export/Import Format</span></span>

<span data-ttu-id="a6fd2-179">Não há suporte para esse recurso no Windows 8.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-179">This feature is not supported on Windows 8.</span></span>

<span data-ttu-id="a6fd2-180">**Windows 7 e Windows Vista:** Há suporte para esse recurso.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-180">**Windows 7 and Windows Vista:** This feature is supported.</span></span>

<WebAddresses>

<URL AllowBlock="1">https://alloweddomain.com/</URL>

<URL AllowBlock="1">https://allowedurl.com/allowed/default.html</URL>

<URL AllowBlock="2">https://blockeddomain.com/</URL>

<URL AllowBlock="2">https://blockedurl.com/blocked/default.html</URL>

</WebAddresses>

## <a name="application-restrictions-override-notes"></a><span data-ttu-id="a6fd2-181">Notas de substituição de restrições de aplicativo</span><span class="sxs-lookup"><span data-stu-id="a6fd2-181">Application Restrictions Override Notes</span></span>

<span data-ttu-id="a6fd2-182">As substituições de restrições de aplicativo são definidas por usuário para permitir binários ou caminhos específicos.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-182">Application restrictions overrides are set on a per user basis to allow specific binaries or paths.</span></span> <span data-ttu-id="a6fd2-183">Se um novo usuário com controle pai for configurado e as substituições de restrições de aplicativo forem necessárias para esse usuário, é recomendável que a chave de execução do Windows no registro seja usada com um aplicativo pequeno marcado como exigindo a elevação implantada para gravar as substituições.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-183">If a new parentally controlled user is configured and application restrictions overrides are needed for that user, it is recommended that the Windows Run key in the registry be used with a small application marked as requiring elevation deployed to write the overrides.</span></span> <span data-ttu-id="a6fd2-184">Isso resultará em um prompt de credenciais de uso único para configurar as substituições para o usuário, após o qual os binários de destino das substituições não serão um incômodo para os usuários devido a solicitações de substituição de administrador adicionais.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-184">This will result in a one-time credentials prompt to configure the overrides for the user, after which the target binaries for the overrides will not be a nuisance to users due to further administrator override prompts.</span></span>

## <a name="actions-required-for-settings-changes-to-become-effective"></a><span data-ttu-id="a6fd2-185">Ações necessárias para que as alterações nas configurações se tornem efetivas</span><span class="sxs-lookup"><span data-stu-id="a6fd2-185">Actions Required for Settings Changes to Become Effective</span></span>

<span data-ttu-id="a6fd2-186">Se um administrador alterar as configurações de um usuário padrão conectado, uma mensagem de aviso será gerada.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-186">If an Administrator changes settings for a logged-in standard user, a warning message is generated.</span></span> <span data-ttu-id="a6fd2-187">Isso indica que as alterações nas configurações podem não entrar em vigor até que o usuário controlado Faça logoff e logon novamente.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-187">It states the settings changes may not take effect until the controlled user logs out and back in again.</span></span> <span data-ttu-id="a6fd2-188">Esse é um design conservador.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-188">This is conservative design.</span></span> <span data-ttu-id="a6fd2-189">A maioria das configurações entrará em vigor quase imediatamente enquanto o usuário controlado estiver conectado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-189">Most settings will take effect nearly immediately while the controlled user is logged in.</span></span> <span data-ttu-id="a6fd2-190">Uma exceção é para jogos, em que as configurações entrarão em vigor na próxima vez que o explorador de jogos for executado ou invocar o jogo for tentado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-190">One exception is for games, where settings will take effect the next time the Games Explorer is run or invoking the game is attempted.</span></span>

## <a name="sample-code"></a><span data-ttu-id="a6fd2-191">Código de exemplo</span><span class="sxs-lookup"><span data-stu-id="a6fd2-191">Sample code</span></span>

<span data-ttu-id="a6fd2-192">Exemplos de C++ são fornecidos no SDK que demonstra o uso dos recursos de extensibilidade de configurações.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-192">C++ samples are provided in the SDK demonstrating use of the settings extensibility features.</span></span> <span data-ttu-id="a6fd2-193">Consulte a seção de exemplos de controles dos pais.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-193">Please see the Parental Controls Samples section.</span></span>

## <a name="independent-test-tools"></a><span data-ttu-id="a6fd2-194">Ferramentas de teste independentes</span><span class="sxs-lookup"><span data-stu-id="a6fd2-194">Independent Test Tools</span></span>

<span data-ttu-id="a6fd2-195">A inspeção de classes e instâncias é facilitada pelo plug-in wmimgmt. msc e pela ferramenta de Wbemtest.exe.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-195">Inspection of classes and instances is facilitated by the Wmimgmt.msc plug-in and the Wbemtest.exe tool.</span></span>

## <a name="64-bit-considerations"></a><span data-ttu-id="a6fd2-196">Considerações de 64 bits</span><span class="sxs-lookup"><span data-stu-id="a6fd2-196">64-Bit Considerations</span></span>

<span data-ttu-id="a6fd2-197">as versões do sistema operacional Windows de 64 bits atualmente têm um provedor WMI de 32 bits e um provedor de 64 bits instalado.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-197">64-bit Windows operating system versions currently have both a 32-bit WMI provider and a 64-bit provider installed.</span></span>

## <a name="general-code-development-and-debugging"></a><span data-ttu-id="a6fd2-198">Desenvolvimento e depuração de código geral</span><span class="sxs-lookup"><span data-stu-id="a6fd2-198">General Code Development and Debugging</span></span>

<span data-ttu-id="a6fd2-199">Se o Visual Studio for usado para o desenvolvimento de código de gerenciamento de configurações, a depuração local exigirá a execução do Visual Studio com direitos de administrador (chamando com executar como administrador usando a linha de comando ou a opção de clique com o botão direito do mouse)</span><span class="sxs-lookup"><span data-stu-id="a6fd2-199">If Visual Studio is used for settings management code development, local debugging will require running Visual Studio with administrator rights (invoking with Run as Administrator using command line or right-click option).</span></span> <span data-ttu-id="a6fd2-200">Isso se deve ao isolamento do processo e da mensagem implementado pelo UAC.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-200">This is due to process and message isolation implemented by UAC.</span></span>

## <a name="minimum-compliance-api-settings-read"></a><span data-ttu-id="a6fd2-201">Configurações de API de conformidade mínimas lidas</span><span class="sxs-lookup"><span data-stu-id="a6fd2-201">Minimum Compliance API Settings Read</span></span>

### <a name="interfaces-and-methods"></a><span data-ttu-id="a6fd2-202">Interfaces e métodos</span><span class="sxs-lookup"><span data-stu-id="a6fd2-202">Interfaces and Methods</span></span>

<span data-ttu-id="a6fd2-203">A API de conformidade controlada pelo arquivo de cabeçalho Wpcapi. h fornece acesso simplificado somente leitura para as seguintes configurações usando interfaces COM.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-203">The Compliance API controlled by header file Wpcapi.h provides simplified read-only access to the following settings by using COM interfaces.</span></span>

<span data-ttu-id="a6fd2-204">Os métodos de interface raiz [**IWindowsParentalControls**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) fornecem acesso a:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-204">[**IWindowsParentalControls**](/windows/desktop/api/Wpcapi/nn-wpcapi-iwindowsparentalcontrols) root interface methods provide access to:</span></span>

-   <span data-ttu-id="a6fd2-205">Métodos de IWPCSettings:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-205">IWPCSettings methods:</span></span>
    -   <span data-ttu-id="a6fd2-206">IsLoggingRequired () — o relatório de atividades é configurado como ativado para o usuário?</span><span class="sxs-lookup"><span data-stu-id="a6fd2-206">IsLoggingRequired()—is activity reporting configured as on for the user?</span></span>
    -   <span data-ttu-id="a6fd2-207">GetLastSettingsChangeTime () — o aplicativo pode estar ciente se as políticas de configurações foram alteradas desde uma verificação anterior.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-207">GetLastSettingsChangeTime()—application can be aware if any settings policies have changed since a previous check.</span></span>
    -   <span data-ttu-id="a6fd2-208">Getrestrictions () — Leia se restrições da Web, limites de tempo, restrições de jogo ou restrições de aplicativo estão definidas como on.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-208">GetRestrictions()—read whether web restrictions, time limits, game restrictions, or application restrictions are set to on.</span></span>
-   <span data-ttu-id="a6fd2-209">Métodos de IWPCWebSettings:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-209">IWPCWebSettings methods:</span></span>
    -   <span data-ttu-id="a6fd2-210">GetSettings () – recupera sinalizadores para ativar ou desativar o filtro e downloads bloqueados.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-210">GetSettings()– retrieves flags for filter on or off and downloads blocked.</span></span>
    -   <span data-ttu-id="a6fd2-211">RequestURLOverride () — Insira uma solicitação no mecanismo de substituição do administrador (aprovação over-tiracolo) que apresentará uma caixa de diálogo que contém as URLs a serem aprovadas.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-211">RequestURLOverride()—input a request into the administrator override (over-the-shoulder approval) mechanism that will present a dialog box that contains the URLs to be approved.</span></span>
-   <span data-ttu-id="a6fd2-212">Métodos de IWPCGamesSettings:</span><span class="sxs-lookup"><span data-stu-id="a6fd2-212">IWPCGamesSettings methods:</span></span>
    -   <span data-ttu-id="a6fd2-213">IsBlocked () – para uma determinada ID de aplicativo do jogo, é o jogo bloqueado pelos controles dos pais e por qual motivo.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-213">IsBlocked()—for a given game application ID, is the game blocked by parental controls and for what reason.</span></span>
-   <span data-ttu-id="a6fd2-214">Getvisibility () — fornece informações sobre se a interface do usuário de controles pai está oculta no momento.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-214">GetVisibility()—provides information on whether the Parental Controls UI is currently hidden.</span></span>
-   <span data-ttu-id="a6fd2-215">GetWebFilterInfo () — fornece uma interface para obter a ID do filtro de conteúdo da Web ativo no momento.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-215">GetWebFilterInfo()—provides an interface for obtaining the ID of the currently active Web Content Filter.</span></span>

### <a name="sample-code"></a><span data-ttu-id="a6fd2-216">Código de exemplo</span><span class="sxs-lookup"><span data-stu-id="a6fd2-216">Sample code</span></span>

<span data-ttu-id="a6fd2-217">Exemplos de C++ são fornecidos no SDK que demonstra o uso da API de conformidade.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-217">C++ samples are provided in the SDK demonstrating use of the Compliance API.</span></span> <span data-ttu-id="a6fd2-218">Consulte a seção de exemplos de controles dos pais.</span><span class="sxs-lookup"><span data-stu-id="a6fd2-218">Please see the Parental Controls Samples section.</span></span>

 

 



