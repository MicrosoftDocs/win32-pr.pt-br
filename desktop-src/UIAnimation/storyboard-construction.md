---
title: Visão geral do storyboard
description: Esta visão geral concentra-se em como as transições e os storyboards são usados na animação do Windows.
ms.assetid: d37718ac-0256-4a24-a26c-d29173593be0
keywords:
- Animação Windows animação do Windows, visão geral do storyboard
- Animação de storyboards do Windows, descrita
- transição de animação do Windows, descrita
- transições de animação do Windows, personalizadas
- Animação de interpolação do Windows, descrita
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 22d8e0af3937cd31ccdc43216a9d3426bad0e7b0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103641300"
---
# <a name="storyboard-overview"></a><span data-ttu-id="d46f8-108">Visão geral do storyboard</span><span class="sxs-lookup"><span data-stu-id="d46f8-108">Storyboard Overview</span></span>

<span data-ttu-id="d46f8-109">Esta visão geral concentra-se em como as transições e os storyboards são usados na animação do Windows.</span><span class="sxs-lookup"><span data-stu-id="d46f8-109">This overview focuses on how transitions and storyboards are used in Windows Animation.</span></span> <span data-ttu-id="d46f8-110">Para obter uma visão geral dos componentes da animação do Windows, consulte [visão geral da animação do Windows](scenic-animation-api-overview.md).</span><span class="sxs-lookup"><span data-stu-id="d46f8-110">For an overview of the components of Windows Animation, see [Windows Animation Overview](scenic-animation-api-overview.md).</span></span>

<span data-ttu-id="d46f8-111">Este tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="d46f8-111">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="d46f8-112">Transições</span><span class="sxs-lookup"><span data-stu-id="d46f8-112">Transitions</span></span>](#custom-transitions)
    -   [<span data-ttu-id="d46f8-113">Biblioteca de transição</span><span class="sxs-lookup"><span data-stu-id="d46f8-113">Transition Library</span></span>](#transition-library)
    -   [<span data-ttu-id="d46f8-114">Transições personalizadas</span><span class="sxs-lookup"><span data-stu-id="d46f8-114">Custom Transitions</span></span>](#custom-transitions)
-   [<span data-ttu-id="d46f8-115">Storyboards</span><span class="sxs-lookup"><span data-stu-id="d46f8-115">Storyboards</span></span>](#storyboards)
    -   [<span data-ttu-id="d46f8-116">Criando um storyboard simples</span><span class="sxs-lookup"><span data-stu-id="d46f8-116">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
    -   [<span data-ttu-id="d46f8-117">Usando uma duração de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="d46f8-117">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
    -   [<span data-ttu-id="d46f8-118">Criando um storyboard mais complexo</span><span class="sxs-lookup"><span data-stu-id="d46f8-118">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
    -   [<span data-ttu-id="d46f8-119">Usando quadros-chave</span><span class="sxs-lookup"><span data-stu-id="d46f8-119">Using Keyframes</span></span>](#using-keyframes)
    -   [<span data-ttu-id="d46f8-120">Mantendo variáveis</span><span class="sxs-lookup"><span data-stu-id="d46f8-120">Holding Variables</span></span>](#holding-variables)
    -   [<span data-ttu-id="d46f8-121">Agendando um storyboard</span><span class="sxs-lookup"><span data-stu-id="d46f8-121">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)
-   [<span data-ttu-id="d46f8-122">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="d46f8-122">Related topics</span></span>](#related-topics)

## <a name="transitions"></a><span data-ttu-id="d46f8-123">Transições</span><span class="sxs-lookup"><span data-stu-id="d46f8-123">Transitions</span></span>

<span data-ttu-id="d46f8-124">Uma transição define como uma variável de animação única é alterada em um intervalo de tempo específico.</span><span class="sxs-lookup"><span data-stu-id="d46f8-124">A transition defines how a single animation variable changes over a particular time interval.</span></span> <span data-ttu-id="d46f8-125">A animação do Windows inclui uma biblioteca de transições comuns que os desenvolvedores podem aplicar a uma ou mais variáveis de animação.</span><span class="sxs-lookup"><span data-stu-id="d46f8-125">Windows Animation includes a library of common transitions that developers can apply to one or more animation variables.</span></span> <span data-ttu-id="d46f8-126">Diferentes tipos de transições têm conjuntos diferentes de parâmetros, que podem incluir o valor da variável quando a transição for concluída, a duração da transição ou as quantidades exclusivas da função matemática subjacente, como aceleração ou intervalo de oscilação.</span><span class="sxs-lookup"><span data-stu-id="d46f8-126">Different kinds of transitions have different sets of parameters, which may include the value of the variable when the transition completes, the duration of the transition, or quantities unique to the underlying mathematical function, such as acceleration or range of oscillation.</span></span>

<span data-ttu-id="d46f8-127">Todas as transições compartilham dois parâmetros implícitos: o valor inicial e a velocidade inicial (inclinação) da função matemática.</span><span class="sxs-lookup"><span data-stu-id="d46f8-127">All transitions share two implicit parameters: the initial value and initial velocity (slope) of the mathematical function.</span></span> <span data-ttu-id="d46f8-128">Eles podem ser especificados explicitamente pelo aplicativo, mas normalmente são definidos pelo Gerenciador de animação para o valor e a velocidade da variável de animação quando a transição começa.</span><span class="sxs-lookup"><span data-stu-id="d46f8-128">These may be specified explicitly by the application, but are typically set by the animation manager to the value and velocity of the animation variable when the transition begins.</span></span>

-   [<span data-ttu-id="d46f8-129">Biblioteca de transição</span><span class="sxs-lookup"><span data-stu-id="d46f8-129">Transition Library</span></span>](#transition-library)
-   [<span data-ttu-id="d46f8-130">Transições personalizadas</span><span class="sxs-lookup"><span data-stu-id="d46f8-130">Custom Transitions</span></span>](#custom-transitions)

### <a name="transition-library"></a><span data-ttu-id="d46f8-131">Biblioteca de transição</span><span class="sxs-lookup"><span data-stu-id="d46f8-131">Transition Library</span></span>

<span data-ttu-id="d46f8-132">As transições a seguir são atualmente fornecidas pela biblioteca de transição.</span><span class="sxs-lookup"><span data-stu-id="d46f8-132">The following transitions are currently provided by the transition library.</span></span> <span data-ttu-id="d46f8-133">Se um aplicativo exigir um efeito que não possa ser especificado usando a biblioteca de transição, os desenvolvedores poderão criar outros tipos de transições implementando um interpolador personalizado para o aplicativo ou usando uma biblioteca de transição de terceiros.</span><span class="sxs-lookup"><span data-stu-id="d46f8-133">If an application requires an effect that cannot be specified by using the transition library, developers can create other kinds of transitions by implementing a custom interpolator for the application, or using a transition library from a third party.</span></span>



| <span data-ttu-id="d46f8-134">Nome da transição</span><span class="sxs-lookup"><span data-stu-id="d46f8-134">Transition Name</span></span>                        | <span data-ttu-id="d46f8-135">Descrição</span><span class="sxs-lookup"><span data-stu-id="d46f8-135">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="d46f8-136">acelerar-desacelerar</span><span class="sxs-lookup"><span data-stu-id="d46f8-136">accelerate-decelerate</span></span><br/>       | <span data-ttu-id="d46f8-137">A variável de animação acelera e diminui a velocidade de uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-137">The animation variable speeds up and then slows down over a given duration.</span></span><br/>                                                                                                               |
| <span data-ttu-id="d46f8-138">constante</span><span class="sxs-lookup"><span data-stu-id="d46f8-138">constant</span></span><br/>                    | <span data-ttu-id="d46f8-139">A variável de animação permanece em seu valor inicial durante toda a transição.</span><span class="sxs-lookup"><span data-stu-id="d46f8-139">The animation variable remains at its initial value throughout the transition.</span></span><br/>                                                                                                            |
| <span data-ttu-id="d46f8-140">cúbicas</span><span class="sxs-lookup"><span data-stu-id="d46f8-140">cubic</span></span><br/>                       | <span data-ttu-id="d46f8-141">A variável de animação muda de seu valor inicial para um valor final especificado, com uma velocidade final especificada, em uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-141">The animation variable changes from its initial value to a specified final value, with a specified final velocity, over a given duration.</span></span><br/>                                                 |
| <span data-ttu-id="d46f8-142">própria</span><span class="sxs-lookup"><span data-stu-id="d46f8-142">discrete</span></span><br/>                    | <span data-ttu-id="d46f8-143">A variável de animação permanece em seu valor inicial para um tempo de atraso especificado e alterna instantaneamente para um valor final especificado e permanece nesse valor para um determinado tempo de espera.</span><span class="sxs-lookup"><span data-stu-id="d46f8-143">The animation variable remains at its initial value for a specified delay time, then switches instantaneously to a specified final value and remains at that value for a given hold time.</span></span><br/> |
| <span data-ttu-id="d46f8-144">instantânea</span><span class="sxs-lookup"><span data-stu-id="d46f8-144">instantaneous</span></span><br/>               | <span data-ttu-id="d46f8-145">A variável de animação é alterada instantaneamente de seu valor atual para um valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="d46f8-145">The animation variable changes instantly from its current value to a specified final value.</span></span><br/>                                                                                               |
| <span data-ttu-id="d46f8-146">linear</span><span class="sxs-lookup"><span data-stu-id="d46f8-146">linear</span></span><br/>                      | <span data-ttu-id="d46f8-147">A variável de animação faz a transição linearmente de seu valor inicial para um valor final especificado em uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-147">The animation variable transitions linearly from its initial value to a specified final value over a given duration.</span></span><br/>                                                                      |
| <span data-ttu-id="d46f8-148">linear da velocidade</span><span class="sxs-lookup"><span data-stu-id="d46f8-148">linear from speed</span></span><br/>           | <span data-ttu-id="d46f8-149">A variável de animação faz a transição linearmente de seu valor inicial para um valor final especificado com uma velocidade especificada.</span><span class="sxs-lookup"><span data-stu-id="d46f8-149">The animation variable transitions linearly from its initial value to a specified final value with a specified speed.</span></span><br/>                                                                     |
| <span data-ttu-id="d46f8-150">parabólico da aceleração</span><span class="sxs-lookup"><span data-stu-id="d46f8-150">parabolic from acceleration</span></span><br/> | <span data-ttu-id="d46f8-151">A variável de animação faz a transição de seu valor inicial para um valor final especificado, com uma velocidade final especificada, alterando sua velocidade com uma aceleração especificada.</span><span class="sxs-lookup"><span data-stu-id="d46f8-151">The animation variable transitions from its initial value to a specified final value, with a specified final velocity, changing its velocity with a specified acceleration.</span></span><br/>               |
| <span data-ttu-id="d46f8-152">versa</span><span class="sxs-lookup"><span data-stu-id="d46f8-152">reversal</span></span><br/>                    | <span data-ttu-id="d46f8-153">A variável muda de direção em uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-153">The variable changes direction over a given duration.</span></span> <span data-ttu-id="d46f8-154">O valor final será o mesmo que o valor inicial e a velocidade final será o negativo da velocidade inicial.</span><span class="sxs-lookup"><span data-stu-id="d46f8-154">The final value will be the same as the initial value and the final velocity will be the negative of the initial velocity.</span></span><br/>          |
| <span data-ttu-id="d46f8-155">sinusoidal do intervalo</span><span class="sxs-lookup"><span data-stu-id="d46f8-155">sinusoidal from range</span></span><br/>       | <span data-ttu-id="d46f8-156">A variável oscila dentro de um determinado intervalo de valores, com um período especificado de oscilação, para uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-156">The variable oscillates within a given range of values, with a specified period of oscillation, for a given duration.</span></span><br/>                                                                     |
| <span data-ttu-id="d46f8-157">sinusoidal da velocidade</span><span class="sxs-lookup"><span data-stu-id="d46f8-157">sinusoidal from velocity</span></span><br/>    | <span data-ttu-id="d46f8-158">A variável oscila com um período especificado de oscilação para uma determinada duração.</span><span class="sxs-lookup"><span data-stu-id="d46f8-158">The variable oscillates with a specified period of oscillation, for a given duration.</span></span> <span data-ttu-id="d46f8-159">A amplitude de oscilação é determinada pela velocidade inicial da variável.</span><span class="sxs-lookup"><span data-stu-id="d46f8-159">The amplitude of oscillation is determined by the variable's initial velocity.</span></span><br/>                      |
| <span data-ttu-id="d46f8-160">interrupção suave</span><span class="sxs-lookup"><span data-stu-id="d46f8-160">smooth stop</span></span><br/>                 | <span data-ttu-id="d46f8-161">A variável de animação chega a uma parada suave em um valor final especificado, dentro de uma duração máxima de tempo.</span><span class="sxs-lookup"><span data-stu-id="d46f8-161">The animation variable comes to a smooth stop at a specified final value, within a maximum duration of time.</span></span><br/>                                                                              |



 

<span data-ttu-id="d46f8-162">A tabela a seguir contém ilustrações para cada uma dessas transições.</span><span class="sxs-lookup"><span data-stu-id="d46f8-162">The following table contains illustrations for each of these transitions.</span></span>



|                                                                                                                                                                                                                                                                                                                                                                                                    |
|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| ![ilustração de uma transição instantânea](images/instantaneoustransition.png)  ![ilustração de uma transição constante](images/constanttransition.png)  ![ilustração de uma transição linear](images/lineartransition.png)  ![ilustração de uma transição de Lineat da velocidade](images/lineartransitionfromspeed.png)  ![ilustração de uma transição discreta](images/discretetransition.png) |
| ![ilustração de uma transição parabólico da aceleração](images/parabolictransitionfromacceleration.png)  ![ilustração de uma transição cúbica](images/cubictransition.png)  ![ilustração de uma transição de interrupção suave](images/smoothstoptransition.png)                                                                                                                                       |
| ![ilustração de uma transição de estorno](images/reversaltransition.png)  ![ilustração de uma transição de sinusoidal da velocidade](images/sinusolidaltransitionfromvelocity.png)  ![ilustração de uma transição de sinusoidal do intervalo](images/sinusolidaltransitionfromrange.png)                                                                                                                  |
| ![ilustração de transições de accellerate e desaceleração](images/acceleratedeceleratetransition.png)                                                                                                                                                                                                                                                                                               |



 

### <a name="custom-transitions"></a><span data-ttu-id="d46f8-175">Transições personalizadas</span><span class="sxs-lookup"><span data-stu-id="d46f8-175">Custom Transitions</span></span>

<span data-ttu-id="d46f8-176">Um *interpolador* define a função matemática que determina como uma variável de animação muda ao longo do tempo conforme progride de seu valor inicial para um valor final.</span><span class="sxs-lookup"><span data-stu-id="d46f8-176">An *interpolator* defines the mathematical function that determines how an animation variable changes over time as it progresses from its initial value to a final value.</span></span> <span data-ttu-id="d46f8-177">Cada transição na biblioteca de transição tem um objeto interpolador associado que é fornecido pelo sistema e implementa a função interpolador.</span><span class="sxs-lookup"><span data-stu-id="d46f8-177">Each transition in the transition library has an associated interpolator object that is provided by the system and implements the interpolator function.</span></span> <span data-ttu-id="d46f8-178">Se um aplicativo exigir um efeito que não possa ser especificado usando a biblioteca de transição, ele poderá implementar uma ou mais transições personalizadas implementando um objeto interpolador para cada nova transição.</span><span class="sxs-lookup"><span data-stu-id="d46f8-178">If an application requires an effect that cannot be specified using the transition library, it can implement one or more custom transitions by implementing an interpolator object for each new transition.</span></span> <span data-ttu-id="d46f8-179">Os objetos do interpolador não podem ser usados diretamente por aplicativos e, em vez disso, devem ser encapsulados em uma transição associada.</span><span class="sxs-lookup"><span data-stu-id="d46f8-179">Interpolator objects cannot be used directly by applications and must instead be wrapped in an associated transition.</span></span> <span data-ttu-id="d46f8-180">Uma *fábrica de transição* é usada para gerar transições de um objeto interpolador.</span><span class="sxs-lookup"><span data-stu-id="d46f8-180">A *transition factory* is used to generate transitions from an interpolator object.</span></span> <span data-ttu-id="d46f8-181">Consulte [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) e [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="d46f8-181">See [**IUIAnimationInterpolator**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationinterpolator) and [**IUIAnimationTransitionFactory**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionfactory) for more details.</span></span>

<span data-ttu-id="d46f8-182">Observe que a maioria dos aplicativos terá todas as transições de que precisam usando a biblioteca de transição e, portanto, não precisará implementar um interpolador.</span><span class="sxs-lookup"><span data-stu-id="d46f8-182">Note that most applications will have all of the transitions they need by using the transition library, and therefore would not need to implement an interpolator.</span></span>

## <a name="storyboards"></a><span data-ttu-id="d46f8-183">Storyboards</span><span class="sxs-lookup"><span data-stu-id="d46f8-183">Storyboards</span></span>

<span data-ttu-id="d46f8-184">Um Storyboard é uma coleção de transições aplicadas a uma ou mais variáveis de animação ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="d46f8-184">A storyboard is a collection of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="d46f8-185">As transições em um storyboard têm garantia de permanecer sincronizadas em relação umas às outras, e o storyboard é agendado ou cancelado como uma unidade.</span><span class="sxs-lookup"><span data-stu-id="d46f8-185">The transitions in a storyboard are guaranteed to remain synchronized relative to one another, and the storyboard is scheduled or canceled as a unit.</span></span> <span data-ttu-id="d46f8-186">Depois de criar as transições desejadas, um aplicativo cria um storyboard usando o Gerenciador de animação, adiciona as transições ao storyboard, configura o storyboard adequadamente e o agenda para reprodução assim que possível.</span><span class="sxs-lookup"><span data-stu-id="d46f8-186">After creating the desired transitions, an application creates a storyboard using the animation manager, adds the transitions to the storyboard, configures the storyboard appropriately, and schedules it to play as soon as possible.</span></span> <span data-ttu-id="d46f8-187">O Gerenciador de animação determina a hora de início real do storyboard, porque pode haver contenção com outros storyboards que atualmente animam as mesmas variáveis.</span><span class="sxs-lookup"><span data-stu-id="d46f8-187">The animation manager determines the storyboard's actual start time, because there may be contention with other storyboards currently animating the same variables.</span></span>

<span data-ttu-id="d46f8-188">A duração geral de um storyboard depende das durações das transições dentro do storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-188">The overall duration of a storyboard depends on the durations of the transitions within the storyboard.</span></span> <span data-ttu-id="d46f8-189">A duração de uma transição não precisa ser corrigida; Ele pode ser determinado pelo valor e velocidade das variáveis animadas quando a transição começa.</span><span class="sxs-lookup"><span data-stu-id="d46f8-189">The duration of a transition need not be fixed; it can be determined by the value and velocity of the animated variables when the transition begins.</span></span> <span data-ttu-id="d46f8-190">Portanto, a duração de um storyboard também pode depender do estado das variáveis que ele anima.</span><span class="sxs-lookup"><span data-stu-id="d46f8-190">So, the duration of a storyboard can also depend on the state of the variables it animates.</span></span>

<span data-ttu-id="d46f8-191">Os exemplos a seguir pressupõem que um Gerenciador de animação, uma biblioteca de transição e um temporizador foram criados.</span><span class="sxs-lookup"><span data-stu-id="d46f8-191">The following examples assume that an animation manager, transition library, and timer have been created.</span></span> <span data-ttu-id="d46f8-192">Para obter mais informações, consulte [criar os objetos de animação principal](adding-animation-to-an-application.md).</span><span class="sxs-lookup"><span data-stu-id="d46f8-192">For more information, see [Create the Main Animation Objects](adding-animation-to-an-application.md).</span></span> <span data-ttu-id="d46f8-193">Os exemplos também pressupõem que o aplicativo criou três variáveis de animação (X, Y e Z) usando o método [**IUIAnimationManager:: CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) e cinco transições (T1, T2, T3, T4 e T5) usando um dos métodos da interface [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) .</span><span class="sxs-lookup"><span data-stu-id="d46f8-193">The examples also assume that the application has created three animation variables (X, Y and Z) by using the [**IUIAnimationManager::CreateAnimationVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createanimationvariable) method, and five transitions (T1, T2, T3, T4, and T5) by using the one of the methods of the [**IUIAnimationTransitionLibrary**](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary) interface.</span></span>

-   [<span data-ttu-id="d46f8-194">Criando um storyboard simples</span><span class="sxs-lookup"><span data-stu-id="d46f8-194">Building a Simple Storyboard</span></span>](#building-a-simple-storyboard)
-   [<span data-ttu-id="d46f8-195">Usando uma duração de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="d46f8-195">Using a Context-Sensitive Duration</span></span>](#using-a-context-sensitive-duration)
-   [<span data-ttu-id="d46f8-196">Criando um storyboard mais complexo</span><span class="sxs-lookup"><span data-stu-id="d46f8-196">Building a More Complex Storyboard</span></span>](#building-a-more-complex-storyboard)
-   [<span data-ttu-id="d46f8-197">Usando quadros-chave</span><span class="sxs-lookup"><span data-stu-id="d46f8-197">Using Keyframes</span></span>](#using-keyframes)
-   [<span data-ttu-id="d46f8-198">Mantendo variáveis</span><span class="sxs-lookup"><span data-stu-id="d46f8-198">Holding Variables</span></span>](#holding-variables)
-   [<span data-ttu-id="d46f8-199">Agendando um storyboard</span><span class="sxs-lookup"><span data-stu-id="d46f8-199">Scheduling a Storyboard</span></span>](#scheduling-a-storyboard)

### <a name="building-a-simple-storyboard"></a><span data-ttu-id="d46f8-200">Criando um storyboard simples</span><span class="sxs-lookup"><span data-stu-id="d46f8-200">Building a Simple Storyboard</span></span>

<span data-ttu-id="d46f8-201">Para criar um storyboard simples, use o método [**IUIAnimationManager:: createstoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) para criar um novo storyboard, o método [**IUIAnimationTransitionLibrary:: CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) para criar uma transição linear, T1 e o método [**IUIAnimationStoryboard:: addtransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) para aplicar a transição T1 à variável X e adicionar a transição resultante ao storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-201">To build a simple storyboard, use the [**IUIAnimationManager::CreateStoryboard**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-createstoryboard) method to create a new storyboard, the [**IUIAnimationTransitionLibrary::CreateLinearTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransition) method to create a linear transition, T1, and the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method to apply the T1 transition to the variable X and add the resulting transition to the storyboard.</span></span>

<span data-ttu-id="d46f8-202">Esse processo gera um storyboard simples, conforme mostrado na figura a seguir.</span><span class="sxs-lookup"><span data-stu-id="d46f8-202">This process yields a simple storyboard, as shown in the following figure.</span></span> <span data-ttu-id="d46f8-203">O storyboard contém uma transição, T1, de modo que o valor da variável X seja alterado linearmente em uma duração fixa de tempo.</span><span class="sxs-lookup"><span data-stu-id="d46f8-203">The storyboard contains one transition, T1, such that the value of variable X changes linearly over a fixed duration of time.</span></span>

![ilustração mostrando um storyboard simples com uma duração fixa](images/simplestoryboardfixedduration.png)

<span data-ttu-id="d46f8-205">Observe que, para esse cenário simples, uma opção alternativa é usar o método [**IUIAnimationManager:: ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) .</span><span class="sxs-lookup"><span data-stu-id="d46f8-205">Note that for such a simple scenario, an alternative option is to use the [**IUIAnimationManager::ScheduleTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationmanager-scheduletransition) method.</span></span>

### <a name="using-a-context-sensitive-duration"></a><span data-ttu-id="d46f8-206">Usando uma duração de Context-Sensitive</span><span class="sxs-lookup"><span data-stu-id="d46f8-206">Using a Context-Sensitive Duration</span></span>

<span data-ttu-id="d46f8-207">Enquanto algumas transições têm uma duração fixa, a duração de outras depende do valor inicial ou da velocidade da variável animada quando a transição é iniciada.</span><span class="sxs-lookup"><span data-stu-id="d46f8-207">While some transitions have a fixed duration, the duration of others depends on the initial value or velocity of the animated variable when the transition begins.</span></span> <span data-ttu-id="d46f8-208">Por exemplo, o método [**IUIAnimationTransitionLibrary:: CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) cria uma transição com uma duração proporcional à diferença entre o valor inicial da variável de animação e o valor final especificado.</span><span class="sxs-lookup"><span data-stu-id="d46f8-208">For example, the [**IUIAnimationTransitionLibrary::CreateLinearTransitionFromSpeed**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationtransitionlibrary-createlineartransitionfromspeed) method creates a transition with a duration that is proportional to the difference between the initial value of the animation variable and the specified final value.</span></span> <span data-ttu-id="d46f8-209">Nesta ilustração, e as demais ilustrações, tais transições com durações arbitrárias são mostradas com um ponto de interrogação (?), e suas durações reais são determinadas quando o storyboard é reproduzido.</span><span class="sxs-lookup"><span data-stu-id="d46f8-209">In this illustration, and the remaining illustrations, such transitions with arbitrary durations are shown with a question mark (?), and their actual durations are determined when the storyboard plays.</span></span>

![ilustração mostrando um storyboard simples com duração desconhecida](images/simplestoryboardunknownduration.png)

### <a name="building-a-more-complex-storyboard"></a><span data-ttu-id="d46f8-211">Criando um storyboard mais complexo</span><span class="sxs-lookup"><span data-stu-id="d46f8-211">Building a More Complex Storyboard</span></span>

<span data-ttu-id="d46f8-212">Depois de criar um storyboard e adicionar uma única transição, T1, você pode acrescentar uma segunda transição para a variável X chamando o método [**IUIAnimationStoryboard:: addtransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) novamente, mas com T2 em vez de T1.</span><span class="sxs-lookup"><span data-stu-id="d46f8-212">After creating a storyboard and adding a single transition, T1, you can append a second transition for the X variable by calling the [**IUIAnimationStoryboard::AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) method again, but with T2 instead of T1.</span></span>

<span data-ttu-id="d46f8-213">Supondo que a transição T2 tenha uma duração que seja sensível ao contexto, o storyboard agora contém duas transições back-to-back de duração arbitrária que afetam a variável X.</span><span class="sxs-lookup"><span data-stu-id="d46f8-213">Assuming that the T2 transition has a duration that is context-sensitive, the storyboard now contains two back-to-back transitions of arbitrary duration affecting the variable X.</span></span>

![ilustração mostrando um Storyboard que contém duas transições na mesma variável](images/appendingwithaddtransition.png)

<span data-ttu-id="d46f8-215">Chamar [**Addtransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) novamente com a variável Y e a transição T3 adiciona uma terceira transição no início do storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-215">Calling [**AddTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransition) again with variable Y and transition T3 adds a third transition at the start of the storyboard.</span></span> <span data-ttu-id="d46f8-216">Dependendo dos valores de X e Y quando o storyboard for reproduzido, T3 poderá terminar após T1 ou mesmo após T2.</span><span class="sxs-lookup"><span data-stu-id="d46f8-216">Depending on the values of X and Y when the storyboard plays, T3 may end after T1 or even after T2.</span></span>

![ilustração mostrando um Storyboard que contém transições entre várias variáveis](images/multivariablestoryboard.png)

### <a name="using-keyframes"></a><span data-ttu-id="d46f8-218">Usando quadros-chave</span><span class="sxs-lookup"><span data-stu-id="d46f8-218">Using Keyframes</span></span>

<span data-ttu-id="d46f8-219">Para adicionar uma transição em um deslocamento do início do storyboard, primeiro você deve adicionar um quadro-chave.</span><span class="sxs-lookup"><span data-stu-id="d46f8-219">To add a transition at an offset from the start of the storyboard, you must first add a keyframe.</span></span> <span data-ttu-id="d46f8-220">Os quadros-chave representam instantâneos no tempo e, por si só, não afetam o comportamento do storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-220">Keyframes represent instants in time and by themselves have no effect on the behavior of the storyboard.</span></span> <span data-ttu-id="d46f8-221">Cada Storyboard tem um quadro-chave implícito que representa o início do storyboard, o [**quadro-chave do storyboard da animação da interface do usuário \_ \_ \_ \_ Iniciar**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); você pode adicionar novos quadros chave em deslocamentos do início chamando o método [**IUIAnimationStoryboard:: AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) com o **quadro-chave da animação da interface do usuário \_ \_ \_ \_ início do storyboard**.</span><span class="sxs-lookup"><span data-stu-id="d46f8-221">Every storyboard has an implicit keyframe representing the start of the storyboard, [**UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**](/previous-versions/windows/desktop/legacy/dd756780(v=vs.85)); you can add new keyframes at offsets from the start by calling the [**IUIAnimationStoryboard::AddKeyframeAtOffset**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeatoffset) method with **UI\_ANIMATION\_KEYFRAME\_STORYBOARD\_START**.</span></span>

<span data-ttu-id="d46f8-222">O deslocamento no qual você adiciona um quadro-chave é sempre relativo a outro quadro-chave.</span><span class="sxs-lookup"><span data-stu-id="d46f8-222">The offset at which you add a keyframe is always relative to another keyframe.</span></span> <span data-ttu-id="d46f8-223">O diagrama a seguir mostra o resultado da adição de keyframe1 e de transição T4, que é aplicado à variável Z, alinhada com keyframe1 e criada com uma duração fixa.</span><span class="sxs-lookup"><span data-stu-id="d46f8-223">The following diagram shows the result of adding keyframe1 and transition T4, which is applied to variable Z, aligned with keyframe1, and created with a fixed duration.</span></span> <span data-ttu-id="d46f8-224">É claro que, como as durações das outras transições ainda não são conhecidas, o T4 pode não ser a última transição para concluir.</span><span class="sxs-lookup"><span data-stu-id="d46f8-224">Of course, because the durations of the other transitions are not yet known, T4 might not be the last transition to finish.</span></span>

![ilustração mostrando a adição de uma transição alinhada em um quadro-chave](images/addtransitionatkeyframe.png)

<span data-ttu-id="d46f8-226">Os quadros-chave também podem ser colocados nas extremidades das transições, usando o método [**IUIAnimationStoryboard:: AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) .</span><span class="sxs-lookup"><span data-stu-id="d46f8-226">Keyframes can also be placed at the ends of transitions, using the [**IUIAnimationStoryboard::AddKeyframeAfterTransition**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addkeyframeaftertransition) method.</span></span> <span data-ttu-id="d46f8-227">O diagrama a seguir mostra o resultado da adição de keyframe2 após T1 e keyframe3 após T2.</span><span class="sxs-lookup"><span data-stu-id="d46f8-227">The following diagram shows the result of adding keyframe2 after T1 and keyframe3 after T2.</span></span>

![ilustração mostrando a adição de quadros-chave após várias transições](images/addkeyframeaftertransition.png)

<span data-ttu-id="d46f8-229">Como as durações de T1 e T2 não são conhecidas até que o storyboard seja reproduzido, os deslocamentos de keyframe2 e keyframe3 também não são determinados até lá.</span><span class="sxs-lookup"><span data-stu-id="d46f8-229">Because the durations of T1 and T2 are not known until the storyboard plays, the offsets of keyframe2 and keyframe3 also are not determined until then.</span></span> <span data-ttu-id="d46f8-230">Consequentemente, keyframe2 e até mesmo keyframe3 podem ocorrer antes de keyframe1.</span><span class="sxs-lookup"><span data-stu-id="d46f8-230">Consequently, keyframe2 and even keyframe3 can occur earlier than keyframe1.</span></span>

<span data-ttu-id="d46f8-231">Tanto o início quanto o fim de uma transição podem ser alinhados com quadros-chave usando o método [**IUIAnimationStoryboard:: AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) .</span><span class="sxs-lookup"><span data-stu-id="d46f8-231">Both the start and end of a transition can be aligned with keyframes by using the [**IUIAnimationStoryboard::AddTransitionBetweenKeyframes**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-addtransitionbetweenkeyframes) method.</span></span> <span data-ttu-id="d46f8-232">O diagrama a seguir mostra o resultado da adição de uma quinta transição, T5, na variável Y, entre keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="d46f8-232">The following diagram shows the result of adding a fifth transition, T5, on variable Y, between keyframe2 and keyframe3.</span></span> <span data-ttu-id="d46f8-233">Isso altera a duração de T5, tornando-o mais longo ou mais curto, dependendo dos deslocamentos relativos de keyframe2 e keyframe3.</span><span class="sxs-lookup"><span data-stu-id="d46f8-233">This alters the duration of T5, making it longer or shorter depending on the relative offsets of keyframe2 and keyframe3.</span></span>

![ilustração mostrando additon de uma transição entre quadros-chave](images/addtransitionbetweenkeyframes.png)

### <a name="holding-variables"></a><span data-ttu-id="d46f8-235">Mantendo variáveis</span><span class="sxs-lookup"><span data-stu-id="d46f8-235">Holding Variables</span></span>

<span data-ttu-id="d46f8-236">Se o T4 terminar após T2 e T5, o storyboard interromperá a animação das variáveis X e Y, tornando-as disponíveis para que outros storyboards sejam animados.</span><span class="sxs-lookup"><span data-stu-id="d46f8-236">If T4 does end after T2 and T5, the storyboard stops animating variables X and Y, making them available for other storyboards to animate.</span></span> <span data-ttu-id="d46f8-237">No entanto, o aplicativo pode chamar o método [**IUIAnimationStoryboard:: HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) para solicitar que o storyboard Mantenha algumas ou todas as variáveis que ele anima em seus valores finais até que o storyboard seja concluído.</span><span class="sxs-lookup"><span data-stu-id="d46f8-237">However, the application can call the [**IUIAnimationStoryboard::HoldVariable**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-holdvariable) method to request that the storyboard hold some or all of the variables it animates at their final values until the storyboard has completed.</span></span> <span data-ttu-id="d46f8-238">O diagrama a seguir mostra o resultado de manter X e Z quando o T4 termina por último.</span><span class="sxs-lookup"><span data-stu-id="d46f8-238">The following diagram shows the result of holding X and Z when T4 finishes last.</span></span> <span data-ttu-id="d46f8-239">Observe que o storyboard mantém X em seu valor final até que o storyboard seja concluído.</span><span class="sxs-lookup"><span data-stu-id="d46f8-239">Notice that the storyboard holds X at its final value until the storyboard has completed.</span></span> <span data-ttu-id="d46f8-240">A suspensão não tem nenhum efeito em Z porque o storyboard termina quando o T4 é concluído.</span><span class="sxs-lookup"><span data-stu-id="d46f8-240">The hold has no effect on Z because the storyboard ends when T4 finishes.</span></span>

![ilustração mostrando a retenção de variáveis em valores finais até que o storyboard seja concluído](images/holdvariable.png)

<span data-ttu-id="d46f8-242">Embora Y não seja mantido por este storyboard, seu valor não é alterado depois que T5 é concluído, a menos que outro storyboard o anime.</span><span class="sxs-lookup"><span data-stu-id="d46f8-242">Even though Y is not held by this storyboard, its value does not change after T5 completes unless another storyboard animates it.</span></span> <span data-ttu-id="d46f8-243">Como Y não é mantido, qualquer outro storyboard, independentemente da prioridade, pode animar Y após a conclusão de T5.</span><span class="sxs-lookup"><span data-stu-id="d46f8-243">Because Y is not held, any other storyboard, regardless of priority, can animate Y after T5 has finished.</span></span> <span data-ttu-id="d46f8-244">Por outro lado, como X é mantido, um storyboard de prioridade mais baixa não pode animar X até que este storyboard seja concluído.</span><span class="sxs-lookup"><span data-stu-id="d46f8-244">In contrast, because X is held, a lower-priority storyboard cannot animate X until this storyboard is finished.</span></span>

<span data-ttu-id="d46f8-245">Todas essas ilustrações assumiram um conjunto arbitrário de valores atuais para as variáveis quando o storyboard começa a ser reproduzido.</span><span class="sxs-lookup"><span data-stu-id="d46f8-245">All of these illustrations have assumed an arbitrary set of current values for the variables when the storyboard starts playing.</span></span> <span data-ttu-id="d46f8-246">Se outros valores forem encontrados, as durações das transições sensíveis ao contexto provavelmente serão diferentes, conforme mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="d46f8-246">If other values are encountered, the durations of the context-sensitive transitions are likely to be different, as shown in the following illustration.</span></span>

![ilustração mostrando o resultado da alteração das condições iniciais usadas para a ilustração anterior](images/holdvariablez.png)

<span data-ttu-id="d46f8-248">Nesse cenário, T5 começa antes de concluir o T3 e, portanto, o T3 é cortado.</span><span class="sxs-lookup"><span data-stu-id="d46f8-248">In this scenario, T5 begins before T3 has finished, and T3 is therefore trimmed.</span></span> <span data-ttu-id="d46f8-249">Como o T4 termina antes de T2 e T5, o valor de Z é mantido até o final do storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-249">Because T4 finishes earlier than T2 and T5, the value of Z is held until the end of the storyboard.</span></span> <span data-ttu-id="d46f8-250">Em geral, os valores e velocidades de variáveis quando um storyboard começa a ser executado podem afetar a ordenação do quadro-chave e o comprimento geral e a forma do storyboard.</span><span class="sxs-lookup"><span data-stu-id="d46f8-250">In general, the values and velocities of variables when a storyboard starts playing can affect keyframe ordering and the overall length and shape of the storyboard.</span></span>

### <a name="scheduling-a-storyboard"></a><span data-ttu-id="d46f8-251">Agendando um storyboard</span><span class="sxs-lookup"><span data-stu-id="d46f8-251">Scheduling a Storyboard</span></span>

<span data-ttu-id="d46f8-252">Ao agendar um storyboard, sua hora de início é determinada por sua estrutura de tópicos e os contornos dos storyboards que estão atualmente no agendamento.</span><span class="sxs-lookup"><span data-stu-id="d46f8-252">When scheduling a storyboard, its start time is determined by its outline and the outlines of the storyboards that are currently in the schedule.</span></span> <span data-ttu-id="d46f8-253">Especificamente, o primeiro e último instante quando o storyboard anima cada variável individual determinam se e quando dois storyboards colidem, mas os detalhes internos das transições no não são importantes.</span><span class="sxs-lookup"><span data-stu-id="d46f8-253">Specifically, the first and last moments when the storyboard animates each individual variable determine whether and when two storyboards collide, but the internal details of the transitions within are not important.</span></span>

<span data-ttu-id="d46f8-254">A ilustração a seguir mostra a estrutura de um storyboard com cinco transições animando três variáveis.</span><span class="sxs-lookup"><span data-stu-id="d46f8-254">The following illustration shows the outline of a storyboard with five transitions animating three variables.</span></span>

![ilustração mostrando um storyboard com cinco transições animando três variáveis](images/storyboardwithoutline.png)

<span data-ttu-id="d46f8-256">A base da plataforma de animação do Windows é seu suporte para permitir que uma animação seja concluída antes que outra comece, quando necessário.</span><span class="sxs-lookup"><span data-stu-id="d46f8-256">A cornerstone of the Windows Animation platform is its support for letting one animation complete before another begins, when necessary.</span></span> <span data-ttu-id="d46f8-257">Embora isso elimine muitos problemas lógicos, ele também apresenta uma latência arbitrária na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="d46f8-257">While this eliminates many logical problems, it also introduces arbitrary latency in the UI.</span></span> <span data-ttu-id="d46f8-258">Para resolver isso, os aplicativos podem especificar o *atraso aceitável mais longo* para que um storyboard comece, usando o método [**IUIAnimationStoryboard:: SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) e o Gerenciador de animação use essas informações para agendar o storyboard antes de o período de latência especificado expirar.</span><span class="sxs-lookup"><span data-stu-id="d46f8-258">To address this, applications can specify the *longest acceptable delay* for a storyboard to start, using the [**IUIAnimationStoryboard::SetLongestAcceptableDelay**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-setlongestacceptabledelay) method, and the animation manager uses this information to schedule the storyboard before the specified latency period elapses.</span></span> <span data-ttu-id="d46f8-259">Quando um Storyboard é agendado, o Gerenciador de animação determina se outros storyboards devem primeiro ser cancelados, cortados, concluídos e/ou compactados.</span><span class="sxs-lookup"><span data-stu-id="d46f8-259">When a storyboard is scheduled, the animation manager determines if other storyboards must first be canceled, trimmed, concluded, and/or compressed.</span></span>

<span data-ttu-id="d46f8-260">Um aplicativo pode registrar um manipulador que será chamado quando o status de um storyboard for alterado.</span><span class="sxs-lookup"><span data-stu-id="d46f8-260">An application can register a handler that will be called when a storyboard's status changes.</span></span> <span data-ttu-id="d46f8-261">Isso permite que o aplicativo responda quando o storyboard começa a ser executado, executa até a conclusão, é removido totalmente da agenda ou não é impedido de concluir devido à interrupção por um storyboard de prioridade mais alta.</span><span class="sxs-lookup"><span data-stu-id="d46f8-261">This enables the application to respond when the storyboard starts playing, runs to completion, is removed entirely from the schedule, or is prevented from completing due to interruption by a higher-priority storyboard.</span></span> <span data-ttu-id="d46f8-262">Para identificar os storyboards passados para manipuladores de eventos de storyboard (ou comparações de prioridade), um aplicativo pode usar o método [**IUIAnimationStoryboard:: SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) para aplicar marcas a storyboards, semelhante àqueles que podem ser usados para identificar variáveis.</span><span class="sxs-lookup"><span data-stu-id="d46f8-262">To identify the storyboards passed to storyboard event handlers (or priority comparisons), an application can use the [**IUIAnimationStoryboard::SetTag**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationstoryboard-settag) method to apply tags to storyboards, similar to those that can be used to identify variables.</span></span> <span data-ttu-id="d46f8-263">Assim como na reutilização do storyboard, os desenvolvedores devem ter cuidado ao usar marcas para identificar storyboards e garantir que as ambiguidades não surjam quando as ações do usuário resultam na fila de muitos storyboards.</span><span class="sxs-lookup"><span data-stu-id="d46f8-263">As with storyboard re-use, developers must exercise caution when using tags to identify storyboards, and be sure that ambiguities do not arise when user actions result in many storyboards being queued.</span></span>

<span data-ttu-id="d46f8-264">Os exemplos a seguir mostram duas variações de uma tentativa de agendar o storyboard criado nas seções anteriores deste tópico.</span><span class="sxs-lookup"><span data-stu-id="d46f8-264">The following examples show two variations of an attempt to schedule the storyboard built in the earlier sections of this topic.</span></span>

<span data-ttu-id="d46f8-265">Nesse cenário, seis storyboards, A até F, já foram agendadas para animar variáveis W, X, Y e Z, mas apenas A e B começaram A ser reproduzidos.</span><span class="sxs-lookup"><span data-stu-id="d46f8-265">In this scenario, six storyboards, A through F, have already been scheduled to animate variables W, X, Y and Z, but only A and B have started playing.</span></span> <span data-ttu-id="d46f8-266">O novo storyboard, rotulado como G, tem seu atraso aceitável mais longo definido como a duração mostrada na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="d46f8-266">The new storyboard, labeled G, has its longest acceptable delay set to the duration shown in the following illustration.</span></span>

![ilustração mostrando a adição de um novo storyboard à agenda existente](images/existingschedule1withlines.png)

<span data-ttu-id="d46f8-268">O aplicativo tem comparações de prioridade registradas que incluem a seguinte lógica:</span><span class="sxs-lookup"><span data-stu-id="d46f8-268">The application has registered priority comparisons that include the following logic:</span></span>

-   <span data-ttu-id="d46f8-269">G só pode cancelar C e E e apenas para evitar falhas.</span><span class="sxs-lookup"><span data-stu-id="d46f8-269">G can cancel only C and E, and only to prevent failure.</span></span>
-   <span data-ttu-id="d46f8-270">G pode cortar apenas A, C, e e F e apenas para evitar falha.</span><span class="sxs-lookup"><span data-stu-id="d46f8-270">G can trim only A, C, E and F, and only to prevent failure.</span></span>
-   <span data-ttu-id="d46f8-271">Qualquer storyboard pode compactar qualquer outro Storyboard (a compactação é sempre feita apenas para evitar falhas).</span><span class="sxs-lookup"><span data-stu-id="d46f8-271">Any storyboard can compress any other storyboard (compression is always done only to prevent failure).</span></span>

> [!Note]  
> <span data-ttu-id="d46f8-272">O qualificador "somente para evitar falhas" significa que as comparações de prioridade registradas retornam S \_ OK somente quando o parâmetro *priorityEffect* é uma **falha de efeito de prioridade de animação da interface do usuário \_ \_ \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="d46f8-272">The qualifier "only to prevent failure" means that the registered priority comparisons return S\_OK only when the *priorityEffect* parameter is **UI\_ANIMATION\_PRIORITY\_EFFECT\_FAILURE**.</span></span> <span data-ttu-id="d46f8-273">Consulte o método [**IUIAnimationPriorityComparison:: HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="d46f8-273">See the [**IUIAnimationPriorityComparison::HasPriority**](/windows/desktop/api/UIAnimation/nf-uianimation-iuianimationprioritycomparison-haspriority) method for details.</span></span>

 

<span data-ttu-id="d46f8-274">Para iniciar o G antes que o atraso aceitável mais longo tenha decorrido, o Gerenciador de animação deve fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="d46f8-274">To start G before the longest acceptable delay has elapsed, the animation manager must do the following:</span></span>

-   <span data-ttu-id="d46f8-275">Cortar F</span><span class="sxs-lookup"><span data-stu-id="d46f8-275">Trim F</span></span>
-   <span data-ttu-id="d46f8-276">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="d46f8-276">Cancel E</span></span>

<span data-ttu-id="d46f8-277">Quando E é cancelado, D e F são descobertos e revertidos para seus contornos originais:</span><span class="sxs-lookup"><span data-stu-id="d46f8-277">When E is canceled, D and F are uncovered and revert to their original outlines:</span></span>

![ilustração mostrando estruturas de tópicos originais](images/existingschedule1bwithlines.png)

<span data-ttu-id="d46f8-279">O Gerenciador de animação não precisa cancelar ou cortar C para agendar antes que o atraso aceitável mais longo tenha decorrido, portanto, a reunião de C e G determina quando G é iniciado.</span><span class="sxs-lookup"><span data-stu-id="d46f8-279">The animation manager does not need to cancel or trim C to schedule before its longest acceptable delay has elapsed, so the meeting of C and G determines when G starts.</span></span>

![ilustração mostrando que f é cortado para permitir que c e g atendam](images/schedule1withgwithlines.png)

<span data-ttu-id="d46f8-281">Depois que o G tiver sido agendado com êxito, as durações de suas transições poderão ser determinadas e o restante de sua estrutura de tópicos será, portanto, conhecido.</span><span class="sxs-lookup"><span data-stu-id="d46f8-281">After G has been successfully scheduled, the durations of its transitions can be determined, and the remainder of its outline is therefore known.</span></span> <span data-ttu-id="d46f8-282">No entanto, a estrutura de tópicos poderá ser alterada se outro storyboard for removido posteriormente da agenda.</span><span class="sxs-lookup"><span data-stu-id="d46f8-282">However, the outline can change if another storyboard is subsequently removed from the schedule.</span></span>

<span data-ttu-id="d46f8-283">Como um segundo exemplo, considere um cenário como esse acima, mas com um atraso mais curto aceitável mais longo especificado para G.</span><span class="sxs-lookup"><span data-stu-id="d46f8-283">As a second example, consider a scenario like that above, but with a shorter longest acceptable delay specified for G.</span></span>

![ilustração mostrando o cenário anterior, mas com um atraso mais curto aceitável mais longo para g](images/existingschedule2withlines.png)

<span data-ttu-id="d46f8-285">Nesse caso, as seguintes ações são executadas:</span><span class="sxs-lookup"><span data-stu-id="d46f8-285">In this case, the following actions are taken:</span></span>

-   <span data-ttu-id="d46f8-286">Cortar F</span><span class="sxs-lookup"><span data-stu-id="d46f8-286">Trim F</span></span>
-   <span data-ttu-id="d46f8-287">Cancelar E</span><span class="sxs-lookup"><span data-stu-id="d46f8-287">Cancel E</span></span>
-   <span data-ttu-id="d46f8-288">Cancelar C</span><span class="sxs-lookup"><span data-stu-id="d46f8-288">Cancel C</span></span>

<span data-ttu-id="d46f8-289">Além disso, o Gerenciador de animação deve compactar D pelo valor mostrado para habilitar o G para iniciar após seu atraso aceitável mais longo e não mais tarde.</span><span class="sxs-lookup"><span data-stu-id="d46f8-289">Also, the animation manager must compress D by the amount shown to enable G to start after its longest acceptable delay, and no later.</span></span>

![ilustração que mostra onde d deve ser compactado para permitir que g inicie em seu atraso mais longo aceitável](images/trimmedandcancelledwithlines.png)

<span data-ttu-id="d46f8-291">Para preservar o tempo relativo, A, B e F também são compactados.</span><span class="sxs-lookup"><span data-stu-id="d46f8-291">To preserve their relative timing, A, B, and F are compressed as well.</span></span>

![ilustração mostrando a, b, d e f compactados](images/schedule2withgwithlines.png)

<span data-ttu-id="d46f8-293">No entanto, os storyboards em variáveis não relacionadas (não mostradas) não seriam compactados.</span><span class="sxs-lookup"><span data-stu-id="d46f8-293">However, storyboards on unrelated variables (not shown) would not be compressed.</span></span>

<span data-ttu-id="d46f8-294">Mais uma vez, a estrutura de G agora é conhecida e é diferente do resultado no primeiro cenário, pois as variáveis têm valores diferentes quando G começa.</span><span class="sxs-lookup"><span data-stu-id="d46f8-294">Once again, the outline of G is now known and is different from the result in the first scenario because the variables have different values when G begins.</span></span>

## <a name="related-topics"></a><span data-ttu-id="d46f8-295">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="d46f8-295">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="d46f8-296">**IUIAnimationManager**</span><span class="sxs-lookup"><span data-stu-id="d46f8-296">**IUIAnimationManager**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationmanager)
</dt> <dt>

[<span data-ttu-id="d46f8-297">**IUIAnimationPriorityComparison**</span><span class="sxs-lookup"><span data-stu-id="d46f8-297">**IUIAnimationPriorityComparison**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationprioritycomparison)
</dt> <dt>

[<span data-ttu-id="d46f8-298">**IUIAnimationStoryboard**</span><span class="sxs-lookup"><span data-stu-id="d46f8-298">**IUIAnimationStoryboard**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationstoryboard)
</dt> <dt>

[<span data-ttu-id="d46f8-299">**IUIAnimationTransitionLibrary**</span><span class="sxs-lookup"><span data-stu-id="d46f8-299">**IUIAnimationTransitionLibrary**</span></span>](/windows/desktop/api/UIAnimation/nn-uianimation-iuianimationtransitionlibrary)
</dt> </dl>

 

