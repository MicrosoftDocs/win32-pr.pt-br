---
title: Visão geral da animação do Windows
description: Esta visão geral fornece uma introdução ao Gerenciador de animação do Windows e se concentra nos principais componentes e conceitos.
ms.assetid: de1380c9-6801-4178-9281-a23af7d71d77
keywords:
- Animação das janelas de animação do Windows, visão geral
- Animação do Windows objetos do Gerenciador de animação, descrito
- variáveis de animação animação do Windows, descrita
- animação de objetos de temporizador de animação do Windows, descrito
- Animação do sistema de temporização do Windows
- Animação de duração contextual do Windows
- Animação do Windows de correspondência Velocity
- Animação do Windows de gerenciamento de contenção
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a60b02b29d8d434cc93420f36c3cdca4428f94c
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104007647"
---
# <a name="windows-animation-overview"></a><span data-ttu-id="9faed-111">Visão geral da animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-111">Windows Animation Overview</span></span>

<span data-ttu-id="9faed-112">Esta visão geral fornece uma introdução ao Gerenciador de animação do Windows e se concentra nos principais componentes e conceitos.</span><span class="sxs-lookup"><span data-stu-id="9faed-112">This overview provides an introduction to the Windows Animation Manager and focuses on key components and concepts.</span></span> <span data-ttu-id="9faed-113">Para obter mais informações sobre storyboards e transições, consulte [visão geral do storyboard](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="9faed-113">For more information on storyboards and transitions, see [Storyboard Overview](storyboard-construction.md).</span></span>

<span data-ttu-id="9faed-114">Este tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="9faed-114">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="9faed-115">Conceitos básicos</span><span class="sxs-lookup"><span data-stu-id="9faed-115">Basic Concepts</span></span>](#basic-concepts)
-   [<span data-ttu-id="9faed-116">Componentes da animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-116">Components of Windows Animation</span></span>](#components-of-windows-animation)
-   [<span data-ttu-id="9faed-117">A API de animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-117">The Windows Animation API</span></span>](#the-windows-animation-api)
-   [<span data-ttu-id="9faed-118">Configurações</span><span class="sxs-lookup"><span data-stu-id="9faed-118">Configurations</span></span>](#configurations)
    -   [<span data-ttu-id="9faed-119">Animação orientada por aplicativo</span><span class="sxs-lookup"><span data-stu-id="9faed-119">Application-Driven Animation</span></span>](#application-driven-animation)
    -   [<span data-ttu-id="9faed-120">Animação orientada por temporizador</span><span class="sxs-lookup"><span data-stu-id="9faed-120">Timer-Driven Animation</span></span>](#timer-driven-animation)
-   [<span data-ttu-id="9faed-121">Recursos avançados</span><span class="sxs-lookup"><span data-stu-id="9faed-121">Advanced Features</span></span>](#advanced-features)
    -   [<span data-ttu-id="9faed-122">Gerenciamento de contenção</span><span class="sxs-lookup"><span data-stu-id="9faed-122">Contention Management</span></span>](#contention-management)
-   [<span data-ttu-id="9faed-123">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="9faed-123">Related topics</span></span>](#related-topics)

## <a name="basic-concepts"></a><span data-ttu-id="9faed-124">Conceitos básicos</span><span class="sxs-lookup"><span data-stu-id="9faed-124">Basic Concepts</span></span>

<span data-ttu-id="9faed-125">A *animação* é uma sequência de imagens sucessivas que produz uma ilusão de movimento ao reproduzir.</span><span class="sxs-lookup"><span data-stu-id="9faed-125">*Animation* is a sequence of successive still images that produces an illusion of movement when played back.</span></span> <span data-ttu-id="9faed-126">O uso da animação interativa em sua interface do usuário pode dar a um aplicativo uma personalidade exclusiva, bem como melhorar a experiência do usuário.</span><span class="sxs-lookup"><span data-stu-id="9faed-126">Using interactive animation in its user interface can give an application a unique personality as well as improve the user experience.</span></span> <span data-ttu-id="9faed-127">A animação pode ajudar a comunicar as principais alterações de estado na interface do usuário e a ajudar a gerenciar a complexidade da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="9faed-127">Animation can help to communicate major state changes in the user interface and help to manage the complexity of the user interface.</span></span> <span data-ttu-id="9faed-128">A animação também pode ser adicionada à percepção do usuário da qualidade de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9faed-128">Animation can also add to the user's perception of the quality of an application.</span></span>

<span data-ttu-id="9faed-129">Como exemplos, a animação do Windows é usada na barra de tarefas para ajudá-lo a gerenciar e acessar arquivos e programas, e a lupa para ampliar partes diferentes da tela para facilitar a visualização dos usuários.</span><span class="sxs-lookup"><span data-stu-id="9faed-129">As examples, Windows Animation is used in the taskbar to help you manage and access files and programs, and Magnifier to enlarge different parts of the screen to make them easier for users to see.</span></span>

<span data-ttu-id="9faed-130">As unidades fundamentais de uma animação são a característica de um elemento visual ser animado e a descrição de como essa característica muda ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="9faed-130">The fundamental units of an animation are the characteristic of a visual element to be animated and the description of how that characteristic changes over time.</span></span> <span data-ttu-id="9faed-131">Um aplicativo pode animar uma ampla variedade de características, como posição, cor, tamanho, rotação, contraste e opacidade.</span><span class="sxs-lookup"><span data-stu-id="9faed-131">An application can animate a wide variety of characteristics such as position, color, size, rotation, contrast, and opacity.</span></span>

<span data-ttu-id="9faed-132">Na animação do Windows, uma *variável de animação* representa a característica a ser animada.</span><span class="sxs-lookup"><span data-stu-id="9faed-132">In Windows Animation, an *animation variable* represents the characteristic to be animated.</span></span> <span data-ttu-id="9faed-133">Uma *transição* descreve como o valor dessa variável de animação muda conforme ocorre a animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-133">A *transition* describes how the value of that animation variable changes as animation occurs.</span></span> <span data-ttu-id="9faed-134">Por exemplo, um elemento visual pode ter uma variável de animação que especifica sua opacidade e uma ação do usuário pode gerar uma transição que leva essa opacidade de um valor de 50 para 100, representando uma animação de semitransparente para totalmente opaca.</span><span class="sxs-lookup"><span data-stu-id="9faed-134">For example, a visual element might have an animation variable that specifies its opacity, and a user action might generate a transition that takes that opacity from a value of 50 to 100, representing an animation from semi-transparent to fully opaque.</span></span>

<span data-ttu-id="9faed-135">Um *storyboard* é um conjunto de transições aplicadas a uma ou mais variáveis de animação ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="9faed-135">A *storyboard* is a set of transitions applied to one or more animation variables over time.</span></span> <span data-ttu-id="9faed-136">Um aplicativo exibe animações construindo e reproduzindo storyboards e, em seguida, desenhando seqüências de quadros discretos à medida que os valores das variáveis de animação mudam com o passar do tempo.</span><span class="sxs-lookup"><span data-stu-id="9faed-136">An application displays animations by constructing and playing storyboards and then drawing sequences of discrete frames as the values of animation variables change over time.</span></span>

## <a name="components-of-windows-animation"></a><span data-ttu-id="9faed-137">Componentes da animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-137">Components of Windows Animation</span></span>

<span data-ttu-id="9faed-138">A animação do Windows consiste nos seguintes componentes:</span><span class="sxs-lookup"><span data-stu-id="9faed-138">Windows Animation consists of the following components:</span></span>

<dl> <dt>

<span data-ttu-id="9faed-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>Gerenciador de animação</span><span class="sxs-lookup"><span data-stu-id="9faed-139"><span id="animation_manager"></span><span id="ANIMATION_MANAGER"></span>animation manager</span></span>
</dt> <dd>

<span data-ttu-id="9faed-140">Os aplicativos usam um objeto do Gerenciador de animação para criar variáveis de animação e storyboards, agendar e controlar animações e atualizar informações de estado antes que o aplicativo desenhe cada quadro.</span><span class="sxs-lookup"><span data-stu-id="9faed-140">Applications use an animation manager object to create animation variables and storyboards, schedule and control animations, and update state information before the application draws each frame.</span></span> <span data-ttu-id="9faed-141">Um único objeto Gerenciador de animação geralmente gerencia todas as animações em um aplicativo e, portanto, tem controle global sobre todos os storyboards agendados.</span><span class="sxs-lookup"><span data-stu-id="9faed-141">A single animation manager object typically manages all animations across an application and therefore has global control over all scheduled storyboards.</span></span>

</dd> <dt>

<span data-ttu-id="9faed-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>variáveis de animação</span><span class="sxs-lookup"><span data-stu-id="9faed-142"><span id="animation_variables"></span><span id="ANIMATION_VARIABLES"></span>animation variables</span></span>
</dt> <dd>

<span data-ttu-id="9faed-143">Antes de iniciar qualquer animação, um aplicativo precisa criar objetos de variável de animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-143">Before starting any animations, an application needs to create animation variable objects.</span></span> <span data-ttu-id="9faed-144">Uma variável de animação representa um aspecto de um elemento visual a ser animado.</span><span class="sxs-lookup"><span data-stu-id="9faed-144">An animation variable represents one aspect of a visual element to be animated.</span></span> <span data-ttu-id="9faed-145">A variável é um valor de ponto flutuante escalar, embora o valor possa ser arredondado para um valor inteiro.</span><span class="sxs-lookup"><span data-stu-id="9faed-145">The variable is a scalar floating-point value, although the value can be rounded to an integer value.</span></span>

<span data-ttu-id="9faed-146">Uma variável de animação normalmente tem o mesmo tempo de vida que o elemento visual para animar.</span><span class="sxs-lookup"><span data-stu-id="9faed-146">An animation variable typically has the same lifetime as the visual element it is to animate.</span></span> <span data-ttu-id="9faed-147">O valor inicial de uma variável de animação é especificado quando a variável é criada.</span><span class="sxs-lookup"><span data-stu-id="9faed-147">The initial value of an animation variable is specified when the variable is created.</span></span> <span data-ttu-id="9faed-148">Depois disso, seu valor não pode ser alterado diretamente; Ele deve ser atualizado por meio do Gerenciador de animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-148">Thereafter, its value cannot be changed directly; it must be updated through the animation manager.</span></span>

<span data-ttu-id="9faed-149">Uma variável de animação pode ser identificada por uma *marca*, que é um emparelhamento de um identificador inteiro com um ponteiro para um objeto com.</span><span class="sxs-lookup"><span data-stu-id="9faed-149">An animation variable can be identified by a *tag*, which is a pairing of an integer identifier with a pointer to a COM object.</span></span> <span data-ttu-id="9faed-150">Uma marca não precisa ser exclusiva, a menos que o aplicativo a use para pesquisar uma variável.</span><span class="sxs-lookup"><span data-stu-id="9faed-150">A tag need not be unique, unless the application uses it to search for a variable.</span></span> <span data-ttu-id="9faed-151">Por padrão, uma variável de animação não tem uma marca e qualquer tentativa de ler sua marca falhará até que uma tenha sido definida.</span><span class="sxs-lookup"><span data-stu-id="9faed-151">By default, an animation variable does not have a tag, and any attempts to read its tag will fail until one has been set.</span></span>

</dd> <dt>

<span data-ttu-id="9faed-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>sistema de tempo</span><span class="sxs-lookup"><span data-stu-id="9faed-152"><span id="timing_system"></span><span id="TIMING_SYSTEM"></span>timing system</span></span>
</dt> <dd>

<span data-ttu-id="9faed-153">A animação do Windows inclui um sistema de tempo que ajuda a garantir que as animações sejam renderizadas em uma taxa de quadros suave e consistente, reduzindo também o uso de recursos do sistema para renderização quando o sistema estiver ocupado.</span><span class="sxs-lookup"><span data-stu-id="9faed-153">Windows Animation includes a timing system that helps to ensure that animations are rendered at a frame rate that is smooth and consistent, while also reducing the use of system resources for rendering when the system is busy.</span></span> <span data-ttu-id="9faed-154">Um *temporizador* ajuda a gerenciar a renderização de animação, indicando automaticamente a passagem de uma pequena unidade de tempo, chamada de *tique*.</span><span class="sxs-lookup"><span data-stu-id="9faed-154">A *timer* helps to manage animation rendering by automatically indicating the passage of a small unit of time, called a *tick*.</span></span> <span data-ttu-id="9faed-155">O sistema de temporização monitora o desempenho geral da renderização do sistema e *limita* as animações, aumentando ou diminuindo dinamicamente a frequência das tiques.</span><span class="sxs-lookup"><span data-stu-id="9faed-155">The timing system monitors overall system rendering performance and *throttles* animations by dynamically increasing or decreasing the frequency of ticks.</span></span> <span data-ttu-id="9faed-156">Os aplicativos podem permitir que um temporizador conduza o Gerenciador de animação e possa registrar um manipulador para ser notificado antes e depois que o gerente é atualizado para cada tique.</span><span class="sxs-lookup"><span data-stu-id="9faed-156">Applications can let a timer drive the animation manager and can register a handler to be notified before and after the manager is updated for each tick.</span></span> <span data-ttu-id="9faed-157">Os aplicativos podem especificar a taxa mínima de quadros de animação aceitável para um temporizador e ser notificado se a taxa de quadros real de uma animação cair abaixo dessa taxa.</span><span class="sxs-lookup"><span data-stu-id="9faed-157">Applications can specify the minimum acceptable animation frame rate for a timer and be notified if an animation's actual frame rate falls below this rate.</span></span>

<span data-ttu-id="9faed-158">Para conservar recursos do sistema, um temporizador pode ser configurado para se desabilitá-lo quando nenhuma animação estiver ocorrendo.</span><span class="sxs-lookup"><span data-stu-id="9faed-158">To conserve system resources, a timer can be configured to disable itself when no animation is taking place.</span></span>

</dd> </dl>

## <a name="the-windows-animation-api"></a><span data-ttu-id="9faed-159">A API de animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-159">The Windows Animation API</span></span>

<span data-ttu-id="9faed-160">A API de animação do Windows é uma API baseada em COM de thread único que fornece os seguintes recursos para desenvolvedores:</span><span class="sxs-lookup"><span data-stu-id="9faed-160">The Windows Animation API is a single-threaded COM-based API that provides the following features for developers:</span></span>

-   <span data-ttu-id="9faed-161">Um objeto Gerenciador de animação, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), para criar objetos de animação e controlar animações</span><span class="sxs-lookup"><span data-stu-id="9faed-161">An animation manager object, [**UIAnimationManager**](/previous-versions/windows/desktop/legacy/dd317019(v=vs.85)), for creating animation objects and controlling animations</span></span>
-   <span data-ttu-id="9faed-162">Variáveis de animação e storyboards</span><span class="sxs-lookup"><span data-stu-id="9faed-162">Animation variables and storyboards</span></span>
-   <span data-ttu-id="9faed-163">Uma biblioteca básica, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), de transições prontas para uso</span><span class="sxs-lookup"><span data-stu-id="9faed-163">A foundational library, [**UIAnimationTransitionLibrary**](/previous-versions/windows/desktop/legacy/dd317028(v=vs.85)), of ready-to-use transitions</span></span>
-   <span data-ttu-id="9faed-164">Um objeto de timer, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), para determinar a hora atual e, opcionalmente, para a direção da animação</span><span class="sxs-lookup"><span data-stu-id="9faed-164">A timer object, [**UIAnimationTimer**](/previous-versions/windows/desktop/legacy/dd317021(v=vs.85)), for determining the current time and, optionally, for driving animation</span></span>
-   <span data-ttu-id="9faed-165">Ganchos de evento para monitorar o estado e o andamento da animação</span><span class="sxs-lookup"><span data-stu-id="9faed-165">Event hooks for monitoring the state and progress of animation</span></span>

<span data-ttu-id="9faed-166">Para obter a referência completa da API, consulte [referência de animação do Windows](windows-animation-reference.md).</span><span class="sxs-lookup"><span data-stu-id="9faed-166">For the complete API reference, see [Windows Animation Reference](windows-animation-reference.md).</span></span> <span data-ttu-id="9faed-167">Para obter um exemplo de código, consulte [tarefas de animação do Windows](using-windows-animation.md) e exemplos de animação do [Windows](windows-animation-samples.md).</span><span class="sxs-lookup"><span data-stu-id="9faed-167">For example code, see [Windows Animation Tasks](using-windows-animation.md) and [Windows Animation Samples](windows-animation-samples.md).</span></span>

## <a name="configurations"></a><span data-ttu-id="9faed-168">Configurações</span><span class="sxs-lookup"><span data-stu-id="9faed-168">Configurations</span></span>

<span data-ttu-id="9faed-169">Os aplicativos devem obter a hora atual antes de agendar uma nova animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-169">Applications must get the current time before scheduling a new animation.</span></span> <span data-ttu-id="9faed-170">A seguir estão os mecanismos de tempo com suporte na animação do Windows:</span><span class="sxs-lookup"><span data-stu-id="9faed-170">The following are the timing mechanisms supported by Windows Animation:</span></span>

-   [<span data-ttu-id="9faed-171">Animação orientada por aplicativo</span><span class="sxs-lookup"><span data-stu-id="9faed-171">Application-Driven Animation</span></span>](#application-driven-animation)
-   [<span data-ttu-id="9faed-172">Animação orientada por temporizador</span><span class="sxs-lookup"><span data-stu-id="9faed-172">Timer-Driven Animation</span></span>](#timer-driven-animation)

### <a name="application-driven-animation"></a><span data-ttu-id="9faed-173">Application-Driven animação</span><span class="sxs-lookup"><span data-stu-id="9faed-173">Application-Driven Animation</span></span>

<span data-ttu-id="9faed-174">Os aplicativos que usam uma API gráfica acelerada por hardware podem sincronizar com a taxa de atualização do monitor para renderizar animações suaves.</span><span class="sxs-lookup"><span data-stu-id="9faed-174">Applications using a hardware-accelerated graphics API can synchronize with the monitor refresh rate to render smooth animations.</span></span> <span data-ttu-id="9faed-175">Como alternativa, um aplicativo pode usar um mecanismo de tempo próprio para determinar quando desenhar cada quadro de uma animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-175">Alternately, an application may use a timing mechanism of its own to determine when to draw each frame of an animation.</span></span> <span data-ttu-id="9faed-176">Em ambos os casos, o aplicativo informará ao Gerenciador de animação quando atualizar seu estado.</span><span class="sxs-lookup"><span data-stu-id="9faed-176">In either case, the application will tell the animation manager when to update its state.</span></span> <span data-ttu-id="9faed-177">Um temporizador de animação ainda pode ser usado para determinar a hora atual com alta precisão, nas unidades exigidas pelo Gerenciador de animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-177">An animation timer can still be used to determine the current time with high precision, in the units required by the animation manager.</span></span>

<span data-ttu-id="9faed-178">O diagrama a seguir mostra as interações entre um aplicativo e os componentes de animação do Windows quando o aplicativo está orientando as atualizações de animação diretamente.</span><span class="sxs-lookup"><span data-stu-id="9faed-178">The following diagram shows the interactions between an application and the Windows Animation components when the application is driving animation updates directly.</span></span>

![diagrama que mostra as interações entre um aplicativo e os componentes de animação do Windows quando o aplicativo está orientando as atualizações de animação diretamente.](images/animationupdates.png)

<span data-ttu-id="9faed-180">Na configuração mais simples, um aplicativo redesenhará tudo sempre que a tela for atualizada, mesmo quando nenhuma animação for reproduzida.</span><span class="sxs-lookup"><span data-stu-id="9faed-180">In the simplest configuration, an application will redraw everything every time the screen is refreshed, even when no animations are playing.</span></span> <span data-ttu-id="9faed-181">Para evitar o desperdício de trabalho, um aplicativo pode registrar um manipulador de eventos de gerente para ser notificado quando houver animações agendadas e detectar quando a agenda está vazia para que possa parar de redesenhar.</span><span class="sxs-lookup"><span data-stu-id="9faed-181">To avoid wasted work, an application can register a manager event handler to be notified when there are animations scheduled, and can detect when the schedule is empty so that it can stop redrawing.</span></span>

### <a name="timer-driven-animation"></a><span data-ttu-id="9faed-182">Timer-Driven animação</span><span class="sxs-lookup"><span data-stu-id="9faed-182">Timer-Driven Animation</span></span>

<span data-ttu-id="9faed-183">Em vez de atualizar o Gerenciador de animação diretamente, os aplicativos podem deixar o temporizador de animação informar ao Gerenciador de animação quando atualizar seu estado e simplesmente ser notificado quando cada atualização ocorrer.</span><span class="sxs-lookup"><span data-stu-id="9faed-183">Rather than updating the animation manager directly, applications may let the animation timer tell the animation manager when to update its state, and simply be notified when each update has taken place.</span></span> <span data-ttu-id="9faed-184">Essa abordagem é recomendada para APIs de gráficos mais antigas.</span><span class="sxs-lookup"><span data-stu-id="9faed-184">This approach is recommended for older graphics APIs.</span></span> <span data-ttu-id="9faed-185">Em geral, se for possível sincronizar com a taxa de atualização do monitor, é melhor fazê-lo e usar a animação orientada por aplicativo.</span><span class="sxs-lookup"><span data-stu-id="9faed-185">In general, if it is possible to synchronize with the monitor refresh rate, it is better to do so and use application-driven animation.</span></span>

<span data-ttu-id="9faed-186">O diagrama a seguir mostra as interações entre um aplicativo e os componentes de animação do Windows quando o temporizador de animação está orientando as atualizações de animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-186">The following diagram shows the interactions between an application and the Windows Animation components when the animation timer is driving animation updates.</span></span>

![diagrama que mostra as interações entre um aplicativo e os componentes de animação do Windows quando o temporizador de animação está orientando atualizações de animação.](images/animationtimerupdates.png)

<span data-ttu-id="9faed-188">O temporizador pode ser configurado para ser executado somente quando as animações são agendadas; fazer isso é uma simples questão de passar um parâmetro específico quando o temporizador e o Gerenciador de animação estiverem conectados.</span><span class="sxs-lookup"><span data-stu-id="9faed-188">The timer can be configured to run only when the animations are scheduled; doing so is a simple matter of passing a particular parameter when the timer and animation manager are connected.</span></span>

## <a name="advanced-features"></a><span data-ttu-id="9faed-189">Recursos avançados</span><span class="sxs-lookup"><span data-stu-id="9faed-189">Advanced Features</span></span>

<span data-ttu-id="9faed-190">Além de uma base básica para dar suporte à animação, a animação do Windows inclui suporte para várias técnicas de animação avançadas, incluindo:</span><span class="sxs-lookup"><span data-stu-id="9faed-190">Beyond a basic foundation to support animation, Windows Animation includes support for several advanced animation techniques, including:</span></span>

<dl> <dt>

<span data-ttu-id="9faed-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*duração sensível ao contexto*</span><span class="sxs-lookup"><span data-stu-id="9faed-191"><span id="context-sensitive_duration"></span><span id="CONTEXT-SENSITIVE_DURATION"></span>*context-sensitive duration*</span></span>
</dt> <dd>

<span data-ttu-id="9faed-192">A duração de uma transição não precisa ser corrigida; Ele pode ser determinado com base no valor e na velocidade da variável animada quando a transição começa.</span><span class="sxs-lookup"><span data-stu-id="9faed-192">The duration of a transition need not be fixed; it can be determined based on the value and velocity of the animated variable when the transition begins.</span></span>

</dd> <dt>

<span data-ttu-id="9faed-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*correspondência de velocidade*</span><span class="sxs-lookup"><span data-stu-id="9faed-193"><span id="velocity_matching"></span><span id="VELOCITY_MATCHING"></span>*velocity matching*</span></span>
</dt> <dd>

<span data-ttu-id="9faed-194">A movimentação é geralmente mais agradável ao olho se a posição e a velocidade de um objeto de movimentação não saltam instantaneamente entre os valores.</span><span class="sxs-lookup"><span data-stu-id="9faed-194">Movement is generally more pleasing to the eye if a moving object's position and velocity do not jump instantaneously between values.</span></span> <span data-ttu-id="9faed-195">Quando um novo storyboard interrompe um que está sendo executado no momento, a correspondência de velocidade permite que o novo storyboard apareça sem problemas onde o anterior terminou.</span><span class="sxs-lookup"><span data-stu-id="9faed-195">When a new storyboard interrupts one that is currently playing, velocity matching enables the new storyboard to pick up smoothly where the previous one ended.</span></span>

</dd> <dt>

<span data-ttu-id="9faed-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*gerenciamento de contenção*</span><span class="sxs-lookup"><span data-stu-id="9faed-196"><span id="contention_management"></span><span id="CONTENTION_MANAGEMENT"></span>*contention management*</span></span>
</dt> <dd>

<span data-ttu-id="9faed-197">Se dois storyboards precisarem atualizar a mesma variável de animação simultaneamente, ocorrerá um conflito de agendamento.</span><span class="sxs-lookup"><span data-stu-id="9faed-197">If two storyboards need to update the same animation variable simultaneously, a scheduling conflict occurs.</span></span> <span data-ttu-id="9faed-198">Em vez de exigir uma prioridade numérica específica para cada Storyboard, a animação do Windows permite que o aplicativo determine as prioridades relativas de quaisquer dois storyboards.</span><span class="sxs-lookup"><span data-stu-id="9faed-198">Rather than requiring a specific numeric priority for each storyboard, Windows Animation enables the application to determine the relative priorities of any two storyboards.</span></span>

</dd> </dl>

### <a name="contention-management"></a><span data-ttu-id="9faed-199">Gerenciamento de contenção</span><span class="sxs-lookup"><span data-stu-id="9faed-199">Contention Management</span></span>

<span data-ttu-id="9faed-200">Os desenvolvedores podem implementar um retorno de chamada de *comparação de prioridade* para comparar a prioridade do storyboard de ser agendado e o storyboard que já está no agendamento.</span><span class="sxs-lookup"><span data-stu-id="9faed-200">Developers can implement a *priority comparison* callback to compare the priority of the storyboard of being scheduled and the storyboard that is already in the schedule.</span></span> <span data-ttu-id="9faed-201">Um aplicativo que implementa uma comparação de prioridade pode usar qualquer lógica preferencial para determinar quando um storyboard empts o outro.</span><span class="sxs-lookup"><span data-stu-id="9faed-201">An application implementing a priority comparison can use any preferred logic to determine when a storyboard pre-empts another.</span></span> <span data-ttu-id="9faed-202">Para resolver o conflito de agendamento, a animação do Windows pergunta ao aplicativo quais dessas ações podem ser executadas, na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="9faed-202">To resolve the scheduling conflict, Windows Animation asks the application which of these actions may be taken, in the following order:</span></span>

-   <span data-ttu-id="9faed-203">**Cancele o storyboard agendado.**</span><span class="sxs-lookup"><span data-stu-id="9faed-203">**Cancel the scheduled storyboard.**</span></span> <span data-ttu-id="9faed-204">Se o storyboard agendado ainda não tiver começado a ser reproduzido, ele poderá ser cancelado e removido imediatamente da agenda.</span><span class="sxs-lookup"><span data-stu-id="9faed-204">If the scheduled storyboard has not yet started to play, it might be canceled and immediately removed from the schedule.</span></span>
-   <span data-ttu-id="9faed-205">**Corte o storyboard agendado.**</span><span class="sxs-lookup"><span data-stu-id="9faed-205">**Trim the scheduled storyboard.**</span></span> <span data-ttu-id="9faed-206">Quando um novo storyboard corta um storyboard agendado, o storyboard agendado deixa de afetar a variável assim que o novo storyboard começa a animá-la.</span><span class="sxs-lookup"><span data-stu-id="9faed-206">When a new storyboard trims a scheduled storyboard, the scheduled storyboard ceases to affect the variable as soon as the new storyboard begins to animate it.</span></span> <span data-ttu-id="9faed-207">Os velocidades são correspondidos, permitindo que o novo storyboard seja retirado suavemente onde o anterior parou.</span><span class="sxs-lookup"><span data-stu-id="9faed-207">The velocities are matched, enabling the new storyboard to pick up smoothly where the previous one left off.</span></span>
-   <span data-ttu-id="9faed-208">**Conclua o storyboard agendado.**</span><span class="sxs-lookup"><span data-stu-id="9faed-208">**Conclude the scheduled storyboard.**</span></span> <span data-ttu-id="9faed-209">Um storyboard pode ser concluído somente se ele contiver um loop que se repete indefinidamente.</span><span class="sxs-lookup"><span data-stu-id="9faed-209">A storyboard may be concluded only if it contains a loop that repeats indefinitely.</span></span> <span data-ttu-id="9faed-210">Se o storyboard estiver em um loop desse tipo quando for concluído, a repetição atual será concluída e o restante do storyboard será reproduzido.</span><span class="sxs-lookup"><span data-stu-id="9faed-210">If the storyboard is in such a loop when concluded, the current repetition completes, and the remainder of the storyboard then plays.</span></span> <span data-ttu-id="9faed-211">Se o loop ainda não tiver começado quando um storyboard for concluído, o loop será ignorado inteiramente.</span><span class="sxs-lookup"><span data-stu-id="9faed-211">If the loop has not yet begun when a storyboard is concluded, the loop is skipped entirely.</span></span>
-   <span data-ttu-id="9faed-212">**Compacte o storyboard agendado.**</span><span class="sxs-lookup"><span data-stu-id="9faed-212">**Compress the scheduled storyboard.**</span></span> <span data-ttu-id="9faed-213">Se o corte ou cancelamento do storyboard agendado não for uma opção, o storyboard poderá ser concluído.</span><span class="sxs-lookup"><span data-stu-id="9faed-213">If trimming or canceling the scheduled storyboard is not an option, the storyboard is allowed to complete.</span></span> <span data-ttu-id="9faed-214">A animação do Windows apresenta a possibilidade de compactar o tempo disponível para o storyboard agendado (e todos os storyboards agendados antes dele), de modo que as variáveis alcancem seu estado final mais rapidamente.</span><span class="sxs-lookup"><span data-stu-id="9faed-214">Windows Animation introduces the possibility of compressing the time available for the scheduled storyboard (and any storyboards scheduled before it), so the variables reach their final state more quickly.</span></span> <span data-ttu-id="9faed-215">Quando a compactação é aplicada, o tempo é temporariamente acelerado para storyboards afetados, para que eles joguem mais rapidamente.</span><span class="sxs-lookup"><span data-stu-id="9faed-215">When compression is applied, time is temporarily accelerated for affected storyboards, so they play faster.</span></span>

<span data-ttu-id="9faed-216">Se nenhuma das ações acima for permitida pelos objetos de comparação de prioridade registrados, a tentativa de agendar o novo storyboard falhará.</span><span class="sxs-lookup"><span data-stu-id="9faed-216">If none of the above actions is allowed by the registered priority comparison objects, the attempt to schedule the new storyboard fails.</span></span> <span data-ttu-id="9faed-217">Por padrão, todos os storyboards podem ser cortados, concluídos ou compactados para evitar falhas, mas nenhum pode ser cancelado.</span><span class="sxs-lookup"><span data-stu-id="9faed-217">By default, all storyboards can be trimmed, concluded, or compressed to prevent failure, but none can be canceled.</span></span>

<span data-ttu-id="9faed-218">O diagrama a seguir mostra o ciclo de vida de um storyboard, usando os Estados definidos pela enumeração [**\_ status do \_ storyboard \_ da animação da interface do usuário**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) .</span><span class="sxs-lookup"><span data-stu-id="9faed-218">The following diagram shows the life cycle of a storyboard, using the states defined by the [**UI\_ANIMATION\_STORYBOARD\_STATUS**](/windows/win32/api/uianimation/ne-uianimation-ui_animation_storyboard_status) enumeration.</span></span> <span data-ttu-id="9faed-219">Os aplicativos usam a API de animação do Windows para criar um storyboard e enviá-lo para agendamento.</span><span class="sxs-lookup"><span data-stu-id="9faed-219">Applications use the Windows Animation API to build a storyboard and submit it for scheduling.</span></span> <span data-ttu-id="9faed-220">O Gerenciador de animação agenda o storyboard e gerencia a animação.</span><span class="sxs-lookup"><span data-stu-id="9faed-220">The animation manager schedules the storyboard and manages the animation.</span></span>

![diagrama que mostra como o Gerenciador de animação agenda o storyboard e gerencia a animação.](images/statediagram.png)

<span data-ttu-id="9faed-222">Para obter mais informações sobre agendamento e gerenciamento de storyboard, consulte [visão geral do storyboard](storyboard-construction.md).</span><span class="sxs-lookup"><span data-stu-id="9faed-222">For more information on storyboard scheduling and management, see [Storyboard Overview](storyboard-construction.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="9faed-223">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="9faed-223">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="9faed-224">Referência de animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-224">Windows Animation Reference</span></span>](windows-animation-reference.md)
</dt> <dt>

[<span data-ttu-id="9faed-225">Exemplos de animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-225">Windows Animation Samples</span></span>](windows-animation-samples.md)
</dt> <dt>

[<span data-ttu-id="9faed-226">Tarefas de animação do Windows</span><span class="sxs-lookup"><span data-stu-id="9faed-226">Windows Animation Tasks</span></span>](using-windows-animation.md)
</dt> </dl>

 

 