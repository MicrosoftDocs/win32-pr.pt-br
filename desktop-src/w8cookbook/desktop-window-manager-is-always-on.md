---
title: Gerenciador de Janelas da Área de Trabalho está sempre ativada
description: Gerenciador de Janelas da Área de Trabalho está sempre ativada
ms.assetid: 36E2DD1B-E480-47A9-850B-3057119641C0
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f855635615dee734b9a719d4e51d3ead663d144e
ms.sourcegitcommit: ea4baf9953a78d2d6bd530b680601e39f3884541
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/01/2020
ms.locfileid: "104294545"
---
# <a name="desktop-window-manager-is-always-on"></a><span data-ttu-id="4d76d-103">Gerenciador de Janelas da Área de Trabalho está sempre ativada</span><span class="sxs-lookup"><span data-stu-id="4d76d-103">Desktop Window Manager is always on</span></span>

## <a name="platforms"></a><span data-ttu-id="4d76d-104">Plataformas</span><span class="sxs-lookup"><span data-stu-id="4d76d-104">Platforms</span></span>

<span data-ttu-id="4d76d-105">**Clientes** – Windows 8</span><span class="sxs-lookup"><span data-stu-id="4d76d-105">**Clients** – Windows 8</span></span>  
<span data-ttu-id="4d76d-106">**Servidores** – Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="4d76d-106">**Servers** – Windows Server 2012</span></span>  


## <a name="description"></a><span data-ttu-id="4d76d-107">Descrição</span><span class="sxs-lookup"><span data-stu-id="4d76d-107">Description</span></span>

<span data-ttu-id="4d76d-108">No Windows 8, o Gerenciador de Janelas da Área de Trabalho (DWM) está sempre ativo e não pode ser desabilitado por usuários finais e aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4d76d-108">In Windows 8, Desktop Window Manager (DWM) is always ON and cannot be disabled by end users and apps.</span></span> <span data-ttu-id="4d76d-109">Como no Windows 7, o DWM é usado para compor a área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4d76d-109">As in Windows 7, DWM is used to compose the desktop.</span></span> <span data-ttu-id="4d76d-110">Além das experiências habilitadas no Windows 7, agora a composição de área de trabalho do DWM permite a composição de área de trabalho para todos os temas, suporte para estereoscópico 3D e gerenciamento, separação e proteção da experiência com aplicativos da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="4d76d-110">In addition to experiences enabled in Windows 7, now DWM desktop composition enables desktop composition for all themes, support for Stereoscopic 3D, and management, separation, and protection of the experience with Windows Store apps.</span></span>

<span data-ttu-id="4d76d-111">**Composição de área de trabalho para todos os temas**</span><span class="sxs-lookup"><span data-stu-id="4d76d-111">**Desktop composition for all themes**</span></span>

<span data-ttu-id="4d76d-112">No Windows Vista e no Windows 7, a composição de área de trabalho é habilitada apenas com o tema AERO Glass.</span><span class="sxs-lookup"><span data-stu-id="4d76d-112">In Windows Vista and Windows 7, desktop composition is enabled only with the AERO Glass Theme.</span></span> <span data-ttu-id="4d76d-113">Portanto, os usuários do Windows Classic e os temas de alto contraste não podem usar experiências habilitadas pela composição de área de trabalho, como o Windows Flip, dimensionamento automático para escala de alta resolução (DPI), visualização de miniatura e lupa de tela inteira.</span><span class="sxs-lookup"><span data-stu-id="4d76d-113">Hence users of Windows Classic and high contrast themes cannot use experiences enabled by desktop composition such as Windows Flip, automatic scaling for high resolution (DPI) scaling, thumbnail Preview and full screen magnifier.</span></span> <span data-ttu-id="4d76d-114">Além disso, nessas versões anteriores do Windows, os desenvolvedores de aplicativos devem gravar e manter vários caminhos de código – um em que a composição de área de trabalho está habilitada e outra em que a composição de área de trabalho está desabilitada.</span><span class="sxs-lookup"><span data-stu-id="4d76d-114">In addition, in these earlier versions of Windows, app developers must write and maintain multiple code paths – one where desktop composition is enabled and another where desktop composition is disabled.</span></span>

<span data-ttu-id="4d76d-115">Com o Windows 8, a composição de área de trabalho está habilitada para todos os temas.</span><span class="sxs-lookup"><span data-stu-id="4d76d-115">With Windows 8, desktop composition is enabled for all themes.</span></span> <span data-ttu-id="4d76d-116">Os usuários dos temas clássico e de alto contraste do Windows podem usar as experiências habilitadas pela composição da área de trabalho, como o Windows Flip, o dimensionamento automático para escala de alta resolução (DPI), visualizações de miniaturas e lupa de tela inteira.</span><span class="sxs-lookup"><span data-stu-id="4d76d-116">Users of Windows Classic and high contrast themes can use the experiences enabled by desktop composition such as Windows Flip, automatic scaling for high resolution (DPI) scaling, thumbnail previews, and full screen magnifier.</span></span> <span data-ttu-id="4d76d-117">Além disso, os desenvolvedores não precisam escrever e manter vários caminhos de código, simplificando assim o desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="4d76d-117">In addition, developers don’t need to write and maintain multiple code paths, thereby simplifying development.</span></span>

<span data-ttu-id="4d76d-118">**Suporte para estereoscópico 3D**</span><span class="sxs-lookup"><span data-stu-id="4d76d-118">**Support for stereoscopic 3D**</span></span>

<span data-ttu-id="4d76d-119">A composição de área de trabalho do DWM dá suporte à renderização e apresentação de conteúdo de aplicativo 3D estereoscópico e de tela inteira.</span><span class="sxs-lookup"><span data-stu-id="4d76d-119">DWM desktop composition supports rendering and presentation of windowed and full-screen stereoscopic 3D app content.</span></span>

<span data-ttu-id="4d76d-120">**Gerenciamento, separação e proteção da experiência com aplicativos da Windows Store**</span><span class="sxs-lookup"><span data-stu-id="4d76d-120">**Management, separation and protection of the experience with Windows Store apps**</span></span>

<span data-ttu-id="4d76d-121">A composição de área de trabalho do DWM permite a separação e a proteção de janelas de aplicativos de desktop das janelas de aplicativos da Windows Store, gerenciando e separando as janelas de aplicativos de desktop das janelas de aplicativos da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="4d76d-121">DWM desktop composition enables separation and protection of desktop app windows from the new Windows Store app windows by managing and separating the desktop app windows from the Windows Store app windows.</span></span> <span data-ttu-id="4d76d-122">Como a composição de área de trabalho é responsável pelo gerenciamento de todas as janelas de aplicativo, a desabilitação da composição de área de trabalho pode resultar em um comportamento</span><span class="sxs-lookup"><span data-stu-id="4d76d-122">Since desktop composition is responsible for managing all app windows, disabling desktop composition can result in unexpected behavior.</span></span> <span data-ttu-id="4d76d-123">Além disso, a composição de área de trabalho é responsável por compor o novo menu Iniciar, bem como animações de janelas adicionais que formam a personalidade principal do novo sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="4d76d-123">In addition desktop composition is responsible for composing the new Start menu as well as additional window animations that form the core personality of the new Windows operating system.</span></span>

## <a name="controlling-desktop-composition"></a><span data-ttu-id="4d76d-124">Controlando composição de área de trabalho</span><span class="sxs-lookup"><span data-stu-id="4d76d-124">Controlling desktop composition</span></span>

<span data-ttu-id="4d76d-125">No Windows Vista e no Windows 7, a composição de área de trabalho é desabilitada em vários cenários.</span><span class="sxs-lookup"><span data-stu-id="4d76d-125">In Windows Vista and Windows 7, desktop composition is disabled in a number of scenarios.</span></span> <span data-ttu-id="4d76d-126">No Windows 8, a composição de área de trabalho do DWM é um componente principal do sistema operacional e não pode ser desabilitada.</span><span class="sxs-lookup"><span data-stu-id="4d76d-126">In Windows 8, DWM desktop composition is a core operating system component and cannot be disabled.</span></span> <span data-ttu-id="4d76d-127">Com algumas exceções, a composição de área de trabalho está sempre ativa; Ele é iniciado antes do logon do usuário e permanece ativo durante o período de uma sessão.</span><span class="sxs-lookup"><span data-stu-id="4d76d-127">With a few exceptions, desktop composition is always on; it’s started before the user logon and remains active for the duration of a session.</span></span> <span data-ttu-id="4d76d-128">Esta seção descreve como o Windows 8 trata os cenários no Windows 7 em que a composição de área de trabalho está desabilitada.</span><span class="sxs-lookup"><span data-stu-id="4d76d-128">This section describes how Windows 8 treats the scenarios in Windows 7 where desktop composition is disabled.</span></span>

<span data-ttu-id="4d76d-129">**SKU do servidor e determinados SKUs de cliente**</span><span class="sxs-lookup"><span data-stu-id="4d76d-129">**Server SKU and certain client SKUs**</span></span>

<span data-ttu-id="4d76d-130">No Windows 8, todos os SKUs de servidor e cliente têm a composição de área de trabalho habilitada.</span><span class="sxs-lookup"><span data-stu-id="4d76d-130">In Windows 8, all server and client SKUs have desktop composition enabled.</span></span> <span data-ttu-id="4d76d-131">Isso garante que os administradores de servidor e os usuários possam se beneficiar das experiências habilitadas pela composição da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4d76d-131">This ensures that server admins and users can benefit from the experiences enabled by desktop composition.</span></span>

<span data-ttu-id="4d76d-132">**Requisitos fundamentais para composição de área de trabalho**</span><span class="sxs-lookup"><span data-stu-id="4d76d-132">**Fundamental requirements for desktop composition**</span></span>

<span data-ttu-id="4d76d-133">O Windows 8 garante que os requisitos de profundidade de cores do sistema e adaptador de gráficos sejam atendidos por meio de suporte de Driver WDDM e profundidade de cores do sistema.</span><span class="sxs-lookup"><span data-stu-id="4d76d-133">Windows 8 ensures that graphics adapter and system color depth requirements are met through WDDM driver support and system color depth.</span></span>

<span data-ttu-id="4d76d-134">**Suporte a Driver WDDM**</span><span class="sxs-lookup"><span data-stu-id="4d76d-134">**WDDM driver support**</span></span>

<span data-ttu-id="4d76d-135">Se um sistema não tiver um driver de gráficos compatível com o WDDM, o Windows 8 usará o adaptador de vídeo básico da Microsoft como o adaptador padrão.</span><span class="sxs-lookup"><span data-stu-id="4d76d-135">If a system does not have a WDDM-compliant graphics driver, Windows 8 uses Microsoft Basic Display Adapter as the default adapter.</span></span> <span data-ttu-id="4d76d-136">Como o DWM sempre é executado no adaptador padrão, ele escolherá o adaptador de vídeo básico da Microsoft para compor a área de trabalho quando um driver de gráficos compatível com WDDM não estiver disponível (se não estiver instalado ou desabilitado) no sistema.</span><span class="sxs-lookup"><span data-stu-id="4d76d-136">Since DWM always runs on the default adapter, it will choose Microsoft Basic Display Adapter to compose the desktop when a WDDM-compliant graphics driver is not available (whether not installed or disabled) on the system.</span></span>

<span data-ttu-id="4d76d-137">O adaptador de vídeo básico da Microsoft é um rasterizador de software que usa a CPU em vez da GPU para executar todo o desenho.</span><span class="sxs-lookup"><span data-stu-id="4d76d-137">Microsoft Basic Display Adapter is a software rasterizer that uses the CPU rather than the GPU to perform all the drawing.</span></span> <span data-ttu-id="4d76d-138">Observe que o desempenho da composição de desktop no adaptador de vídeo básico da Microsoft (especialmente animações) pode não ser tão suave quanto ao executar a composição de área de trabalho em uma GPU.</span><span class="sxs-lookup"><span data-stu-id="4d76d-138">Note that the performance of desktop composition on Microsoft Basic Display Adapter (especially animations) may not be as smooth as when running desktop composition on a GPU.</span></span>

<span data-ttu-id="4d76d-139">**Profundidade de cor do sistema**</span><span class="sxs-lookup"><span data-stu-id="4d76d-139">**System color depth**</span></span>

<span data-ttu-id="4d76d-140">A composição de área de trabalho não pode ser executada, a menos que a intensidade de cor seja definida como 32 bits por pixel.</span><span class="sxs-lookup"><span data-stu-id="4d76d-140">Desktop Composition cannot run unless the color depth is set to 32 bits per pixel.</span></span> <span data-ttu-id="4d76d-141">No Windows 7, a intensidade de cor do sistema pode ser alterada nestes cenários:</span><span class="sxs-lookup"><span data-stu-id="4d76d-141">In Windows 7 the color depth of the system can be changed in these scenarios:</span></span>

-   <span data-ttu-id="4d76d-142">Um usuário final usa o painel de controle de exibição do Windows ou um painel de controle de terceiros para alterar a cor do sistema</span><span class="sxs-lookup"><span data-stu-id="4d76d-142">An end user uses the Windows Display control panel or a 3rd party control panel to change the system color</span></span>
-   <span data-ttu-id="4d76d-143">Um usuário final executa um aplicativo que altera a intensidade de cor do sistema por meio de uma API pública</span><span class="sxs-lookup"><span data-stu-id="4d76d-143">An end user runs an app that changes the color depth of the system through a public API</span></span>

<span data-ttu-id="4d76d-144">Ao contrário do Windows 7, o Windows 8 não oferece suporte a profundidade de cor diferente de 32 bits por pixel.</span><span class="sxs-lookup"><span data-stu-id="4d76d-144">Unlike Windows 7, Windows 8 does not support color depth other than 32 bits per pixel.</span></span> <span data-ttu-id="4d76d-145">O usuário não pode mais alterar a intensidade de cor do sistema usando o painel de controle.</span><span class="sxs-lookup"><span data-stu-id="4d76d-145">The user can no longer change the color depth of the system by using the control panel.</span></span>

<span data-ttu-id="4d76d-146">Além disso, os desenvolvedores de aplicativos não podem usar APIs para alterar a intensidade de cor do sistema.</span><span class="sxs-lookup"><span data-stu-id="4d76d-146">In addition, app developers cannot use APIs to change the color depth of the system.</span></span> <span data-ttu-id="4d76d-147">O Windows 8 detectará aplicativos que tentam alterar a profundidade de cor do sistema para menos de 32 bits por pixel e informar ao usuário que um Shim de compatibilidade de aplicativo deve ser aplicado para executar os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4d76d-147">Windows 8 will detect apps that try to change the color depth of the system to less than 32 bits per pixel, and inform the user that an app compatibility shim must be applied to run the apps.</span></span> <span data-ttu-id="4d76d-148">Após a confirmação do usuário, o Shim de compatibilidade do aplicativo é aplicado e o Shim virtualiza o modo de baixa cor para o aplicativo enquanto mantém o sistema em execução em 32 bits por pixel.</span><span class="sxs-lookup"><span data-stu-id="4d76d-148">After confirmation from the user, the app compatibility shim is applied and the shim virtualizes the low color mode to the app while keeping the system running at 32 bits per pixel.</span></span>

<span data-ttu-id="4d76d-149">**WinSAT**</span><span class="sxs-lookup"><span data-stu-id="4d76d-149">**WinSAT**</span></span>

<span data-ttu-id="4d76d-150">No Windows 8, a composição de área de trabalho não depende das pontuações do WinSAT.</span><span class="sxs-lookup"><span data-stu-id="4d76d-150">In Windows 8, desktop composition does not depend on WinSAT scores.</span></span> <span data-ttu-id="4d76d-151">Além disso, o WinSAT não inclui mais a avaliação do DWM.</span><span class="sxs-lookup"><span data-stu-id="4d76d-151">Moreover, WinSAT no longer includes DWM assessment.</span></span>

<span data-ttu-id="4d76d-152">**Compatibilidade de aplicativos e ação do usuário**</span><span class="sxs-lookup"><span data-stu-id="4d76d-152">**App compatibility and user action**</span></span>

<span data-ttu-id="4d76d-153">No Windows 8:</span><span class="sxs-lookup"><span data-stu-id="4d76d-153">In Windows 8:</span></span>

-   <span data-ttu-id="4d76d-154">Todas as opções para desabilitar a composição de área de trabalho que existem no Windows 7 são removidas</span><span class="sxs-lookup"><span data-stu-id="4d76d-154">All of the options for disabling desktop composition that exist in Window 7 are removed</span></span>
-   <span data-ttu-id="4d76d-155">A composição de área de trabalho é responsável por compor todos os temas</span><span class="sxs-lookup"><span data-stu-id="4d76d-155">Desktop composition is responsible for composing all themes</span></span>
-   <span data-ttu-id="4d76d-156">Os aplicativos não podem usar DwmEnableComposition para desabilitar a composição de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="4d76d-156">Apps cannot use DwmEnableComposition to disable desktop composition.</span></span> <span data-ttu-id="4d76d-157">Para manter a compatibilidade com versões anteriores, uma chamada para essa API retornará êxito; no entanto, a composição de área de trabalho não está desabilitada</span><span class="sxs-lookup"><span data-stu-id="4d76d-157">In order to maintain backward compatibility, a call to this API will return success; however, desktop composition is not disabled</span></span>
-   <span data-ttu-id="4d76d-158">O Shim "Desabilitar composição de área de trabalho" foi removido</span><span class="sxs-lookup"><span data-stu-id="4d76d-158">The "Disable desktop composition" shim is removed</span></span>
-   <span data-ttu-id="4d76d-159">A opção "Desabilitar composição de área de trabalho" da guia Compatibilidade da caixa de diálogo Propriedades do aplicativo é removida</span><span class="sxs-lookup"><span data-stu-id="4d76d-159">The option to "Disable desktop composition" from the compatibility tab of the Application Properties dialogue box is removed</span></span>

<span data-ttu-id="4d76d-160">**Um aplicativo usa um driver de espelhamento para comunicação remota**</span><span class="sxs-lookup"><span data-stu-id="4d76d-160">**An app uses a mirroring driver for remoting**</span></span>

<span data-ttu-id="4d76d-161">No Windows 8:</span><span class="sxs-lookup"><span data-stu-id="4d76d-161">In Windows 8:</span></span>

-   <span data-ttu-id="4d76d-162">Não oferece suporte a drivers de espelhamento para cenários de comunicação remota; Embora a maioria dos aplicativos existentes que usam drivers de espelho deva continuar funcionando, devido à alteração infraestrutura necessária para dar suporte a drivers de espelhamento existentes no Windows 8 com DWM em, alguns recursos ou aplicativos que usam drivers de espelho podem não funcionar</span><span class="sxs-lookup"><span data-stu-id="4d76d-162">Does not support mirror drivers for remoting scenarios; while most of the existing apps that use mirror drivers should continue to work, due to the infrastructural change required to support existing mirror drivers in Windows 8 with DWM ON, some features or apps that use mirror drivers may not work</span></span>
-   <span data-ttu-id="4d76d-163">O oferece suporte a APIs de duplicação de desktop para desenvolvedores de aplicativos que usam drivers de espelho para cenários de comunicação remota.</span><span class="sxs-lookup"><span data-stu-id="4d76d-163">Does support Desktop Duplication APIs for app developers who use mirror drivers for remoting scenarios.</span></span>
-   <span data-ttu-id="4d76d-164">Não oferece suporte a drivers de espelho de acessibilidade existentes</span><span class="sxs-lookup"><span data-stu-id="4d76d-164">Does not support existing Accessibility Mirror Drivers</span></span>
-   <span data-ttu-id="4d76d-165">Os drivers de espelhamento existentes devem ser atualizados para garantir que eles sejam compatíveis com o Windows 8</span><span class="sxs-lookup"><span data-stu-id="4d76d-165">Existing Mirror Drivers must be updated to ensure that they are compatible with Windows 8</span></span>

<span data-ttu-id="4d76d-166">**Conexão de área de trabalho remota**</span><span class="sxs-lookup"><span data-stu-id="4d76d-166">**Remote desktop connection**</span></span>

<span data-ttu-id="4d76d-167">No Windows 8, a composição de área de trabalho está sempre habilitada para uma conexão de área de trabalho remota.</span><span class="sxs-lookup"><span data-stu-id="4d76d-167">In Windows 8, desktop composition is always enabled for a remote desktop connection.</span></span> <span data-ttu-id="4d76d-168">Um computador cliente que se conecta a um computador remoto com Windows 8 sempre obterá a composição de área de trabalho habilitada para a sessão de área de trabalho remota, independentemente da versão do cliente do Windows.</span><span class="sxs-lookup"><span data-stu-id="4d76d-168">A client computer connecting to a Windows 8 remote computer will always get desktop composition enabled for the remote desktop session irrespective of the Windows client version.</span></span> <span data-ttu-id="4d76d-169">A composição de área de trabalho tem suporte para vários monitores no computador cliente, bem como para a sessão de aplicativo remoto.</span><span class="sxs-lookup"><span data-stu-id="4d76d-169">Desktop composition is supported for multiple monitors on the client machine as well as for the remote app session.</span></span>

<span data-ttu-id="4d76d-170">Além disso, ao se conectar a um computador remoto com Windows 8, essas configurações no cliente Conexão de Área de Trabalho Remota não entram em vigor:</span><span class="sxs-lookup"><span data-stu-id="4d76d-170">In addition, when connecting to a Windows 8 remote computer, these settings in the Remote Desktop Connection client do not take effect:</span></span>

-   <span data-ttu-id="4d76d-171">Profundidade de cor</span><span class="sxs-lookup"><span data-stu-id="4d76d-171">Color depth</span></span>
-   <span data-ttu-id="4d76d-172">Caixa de seleção "Habilitar composição"</span><span class="sxs-lookup"><span data-stu-id="4d76d-172">"Enable composition” checkbox</span></span>

<span data-ttu-id="4d76d-173">A intensidade de cor da conexão é sempre definida como 32 bits por pixel e a composição de área de trabalho está sempre habilitada.</span><span class="sxs-lookup"><span data-stu-id="4d76d-173">The color depth of the connection is always set to 32 bits per pixel and desktop composition is always enabled.</span></span>

 

 




