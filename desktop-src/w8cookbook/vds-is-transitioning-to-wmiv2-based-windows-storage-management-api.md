---
title: O serviço de disco virtual está em transição para a API de gerenciamento de armazenamento do Windows
description: O serviço de disco virtual está em transição para a API de gerenciamento de armazenamento do Windows
ms.assetid: AB2A7D08-03B2-4595-A8EC-805D111A0E89
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ceea3ffe82358737ca8f39e9ef6db0bdb1f116ef
ms.sourcegitcommit: ea4baf9953a78d2d6bd530b680601e39f3884541
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/01/2020
ms.locfileid: "104366800"
---
# <a name="virtual-disk-service-is-transitioning-to-windows-storage-management-api"></a><span data-ttu-id="acb87-103">O serviço de disco virtual está em transição para a API de gerenciamento de armazenamento do Windows</span><span class="sxs-lookup"><span data-stu-id="acb87-103">Virtual Disk Service is transitioning to Windows Storage Management API</span></span>

## <a name="platforms"></a><span data-ttu-id="acb87-104">Plataformas</span><span class="sxs-lookup"><span data-stu-id="acb87-104">Platforms</span></span>

<span data-ttu-id="acb87-105">**Clientes** – Windows 8</span><span class="sxs-lookup"><span data-stu-id="acb87-105">**Clients** – Windows 8</span></span>  
<span data-ttu-id="acb87-106">**Servidores** – Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="acb87-106">**Servers** – Windows Server 2012</span></span>  


## <a name="description"></a><span data-ttu-id="acb87-107">Descrição</span><span class="sxs-lookup"><span data-stu-id="acb87-107">Description</span></span>

<span data-ttu-id="acb87-108">A partir do Windows 8 e do Windows Server 2012, a interface COM do serviço de disco virtual é substituída pela API de gerenciamento de armazenamento, uma interface de programação baseada em WMI.</span><span class="sxs-lookup"><span data-stu-id="acb87-108">Beginning with Windows 8 and Windows Server 2012, the Virtual Disk Service COM interface is superseded by the Storage Management API, a WMI-based programming interface.</span></span> <span data-ttu-id="acb87-109">Para gerenciar subsistemas de armazenamento, discos, partições e volumes do (Windows), é altamente recomendável usar a API de gerenciamento de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="acb87-109">For managing storage subsystems, (Windows) disks, partitions, and volumes, we strongly recommend using the Storage Management API.</span></span> <span data-ttu-id="acb87-110">Para obter mais informações, consulte [API de gerenciamento de armazenamento do Windows](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).</span><span class="sxs-lookup"><span data-stu-id="acb87-110">For more info, see [Windows Storage Management API](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal).</span></span>

<span data-ttu-id="acb87-111">Para todos os usos, exceto volumes de inicialização espelho (usando um volume espelhado para hospedar o sistema operacional), discos dinâmicos são preteridos.</span><span class="sxs-lookup"><span data-stu-id="acb87-111">For all usages except mirror boot volumes (using a mirror volume to host the operating system), dynamic disks are deprecated.</span></span> <span data-ttu-id="acb87-112">Para dados que exigem resiliência contra falha de unidade, use espaços de armazenamento, uma solução de virtualização de armazenamento resiliente.</span><span class="sxs-lookup"><span data-stu-id="acb87-112">For data that requires resiliency against drive failure, use Storage Spaces, a resilient storage virtualization solution.</span></span> <span data-ttu-id="acb87-113">Para obter mais informações, consulte [Visualização técnica de espaços de armazenamento](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831739(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="acb87-113">For more info, see [Storage Spaces Technical Preview](/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/hh831739(v=ws.11)).</span></span>

<span data-ttu-id="acb87-114">Você pode continuar a usar o DiskPart, o DiskRAID e o gerenciamento de disco durante o período de reprovação, mas essas ferramentas não funcionarão com espaços de armazenamento ou com outras APIs de gerenciamento de armazenamento do Windows baseadas em Instrumentação de Gerenciamento do Windows (WMI) ou utilitários de gerenciamento de armazenamento in-box ou clientes.</span><span class="sxs-lookup"><span data-stu-id="acb87-114">You can continue to use DiskPart, DiskRAID, and Disk Management during the deprecation period, but these tools will not work with Storage Spaces or with any other new Windows Management Instrumentation (WMI)-based Windows Storage Management APIs or in-box storage management utilities or clients.</span></span>


| <span data-ttu-id="acb87-115">APIs</span><span class="sxs-lookup"><span data-stu-id="acb87-115">APIs</span></span> | <span data-ttu-id="acb87-116">Subsistemas de armazenamento</span><span class="sxs-lookup"><span data-stu-id="acb87-116">Storage Subsystems</span></span> | <span data-ttu-id="acb87-117">Discos básicos</span><span class="sxs-lookup"><span data-stu-id="acb87-117">Basic Disks</span></span> | <span data-ttu-id="acb87-118">Discos Dinâmicos</span><span class="sxs-lookup"><span data-stu-id="acb87-118">Dynamic Disks</span></span> | <span data-ttu-id="acb87-119">Espaços de Armazenamento</span><span class="sxs-lookup"><span data-stu-id="acb87-119">Storage Spaces</span></span> |
| --- | --- | --- | --- | --- |
| <span data-ttu-id="acb87-120">VDS</span><span class="sxs-lookup"><span data-stu-id="acb87-120">VDS</span></span> | <span data-ttu-id="acb87-121">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-121">Yes</span></span> | <span data-ttu-id="acb87-122">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-122">Yes</span></span> | <span data-ttu-id="acb87-123">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-123">Yes</span></span> | <span data-ttu-id="acb87-124">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-124">No</span></span> |
| <span data-ttu-id="acb87-125">WMI</span><span class="sxs-lookup"><span data-stu-id="acb87-125">WMI</span></span> | <span data-ttu-id="acb87-126">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-126">Yes</span></span> | <span data-ttu-id="acb87-127">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-127">Yes</span></span> | <span data-ttu-id="acb87-128">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-128">No</span></span> | <span data-ttu-id="acb87-129">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-129">Yes</span></span> |
| <span data-ttu-id="acb87-130">DiskPart</span><span class="sxs-lookup"><span data-stu-id="acb87-130">DiskPart</span></span> | <span data-ttu-id="acb87-131">N/D</span><span class="sxs-lookup"><span data-stu-id="acb87-131">n/a</span></span> | <span data-ttu-id="acb87-132">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-132">Yes</span></span> | <span data-ttu-id="acb87-133">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-133">Yes</span></span> | <span data-ttu-id="acb87-134">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-134">No</span></span> |
| <span data-ttu-id="acb87-135">DiskRAID</span><span class="sxs-lookup"><span data-stu-id="acb87-135">DiskRAID</span></span> |  <span data-ttu-id="acb87-136">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-136">Yes</span></span> | <span data-ttu-id="acb87-137">n/d</span><span class="sxs-lookup"><span data-stu-id="acb87-137">n/a</span></span> | <span data-ttu-id="acb87-138">N/D</span><span class="sxs-lookup"><span data-stu-id="acb87-138">n/a</span></span> | <span data-ttu-id="acb87-139">N/D</span><span class="sxs-lookup"><span data-stu-id="acb87-139">n/a</span></span> |
| <span data-ttu-id="acb87-140">GUI de gerenciamento de disco</span><span class="sxs-lookup"><span data-stu-id="acb87-140">Disk Mgmt GUI</span></span> | <span data-ttu-id="acb87-141">N/D</span><span class="sxs-lookup"><span data-stu-id="acb87-141">n/a</span></span> | <span data-ttu-id="acb87-142">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-142">Yes</span></span> | <span data-ttu-id="acb87-143">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-143">Yes</span></span> | <span data-ttu-id="acb87-144">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-144">No</span></span> |
| <span data-ttu-id="acb87-145">PowerShell</span><span class="sxs-lookup"><span data-stu-id="acb87-145">PowerShell</span></span> | <span data-ttu-id="acb87-146">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-146">Yes</span></span> | <span data-ttu-id="acb87-147">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-147">Yes</span></span> | <span data-ttu-id="acb87-148">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-148">No</span></span> | <span data-ttu-id="acb87-149">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-149">Yes</span></span> |
| <span data-ttu-id="acb87-150">Painel de controle de espaços de armazenamento</span><span class="sxs-lookup"><span data-stu-id="acb87-150">Storage Spaces Control Panel</span></span> | <span data-ttu-id="acb87-151">N/D</span><span class="sxs-lookup"><span data-stu-id="acb87-151">n/a</span></span> | <span data-ttu-id="acb87-152">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-152">No</span></span> | <span data-ttu-id="acb87-153">Não</span><span class="sxs-lookup"><span data-stu-id="acb87-153">No</span></span> | <span data-ttu-id="acb87-154">Sim</span><span class="sxs-lookup"><span data-stu-id="acb87-154">Yes</span></span> |


<span data-ttu-id="acb87-155">O resultado dessa transição aumentará a resiliência do armazenamento, a disponibilidade e a escalabilidade; uma linguagem de programação e script unificada, custos de gerenciamento de armazenamento reduzidos e gerenciamento de armazenamento remoto mais fácil.</span><span class="sxs-lookup"><span data-stu-id="acb87-155">The result of this transition will be increased storage resiliency, availability, and scalability; a unified scripting and programming language, reduced storage management costs, and easier remote storage management.</span></span>

## <a name="manifestation"></a><span data-ttu-id="acb87-156">Manifestação</span><span class="sxs-lookup"><span data-stu-id="acb87-156">Manifestation</span></span>

<span data-ttu-id="acb87-157">Os utilitários do DiskPart e do DiskRAID usados no ambiente do VDS não dão suporte aos novos espaços de armazenamento.</span><span class="sxs-lookup"><span data-stu-id="acb87-157">The DiskPart and DiskRAID utilities used in the VDS environment do not support the new Storage Spaces.</span></span> <span data-ttu-id="acb87-158">Da mesma forma, o novo utilitário de armazenamento do PowerShell não dá suporte aos discos dinâmicos preteridos</span><span class="sxs-lookup"><span data-stu-id="acb87-158">Similarly, the new Storage PowerShell utility does not support the deprecated Dynamic Disks</span></span>

## <a name="mitigation"></a><span data-ttu-id="acb87-159">Atenuação</span><span class="sxs-lookup"><span data-stu-id="acb87-159">Mitigation</span></span>

<span data-ttu-id="acb87-160">A Microsoft recomenda enfaticamente que você baseie qualquer novo aplicativo de gerenciamento de armazenamento na API de gerenciamento de armazenamento do Windows e que planeja fazer a transição de aplicativos existentes baseados na infraestrutura do VDS para a API de gerenciamento de armazenamento do Windows durante os ciclos de atualização padrão.</span><span class="sxs-lookup"><span data-stu-id="acb87-160">Microsoft strongly recommends that you base any new storage management apps on the Windows Storage Management API, and that you plan to transition existing apps that are based on the VDS infrastructure to the Windows Storage Management API during your standard updating cycles.</span></span>

## <a name="resources"></a><span data-ttu-id="acb87-161">Recursos</span><span class="sxs-lookup"><span data-stu-id="acb87-161">Resources</span></span>

-   [<span data-ttu-id="acb87-162">API de Gerenciamento do Armazenamento do Windows</span><span class="sxs-lookup"><span data-stu-id="acb87-162">Windows Storage Management API</span></span>](/previous-versions/windows/desktop/stormgmt/windows-storage-management-api-portal)
-   [<span data-ttu-id="acb87-163">Cmdlets de armazenamento no Windows PowerShell</span><span class="sxs-lookup"><span data-stu-id="acb87-163">Storage Cmdlets in Windows PowerShell</span></span>](/powershell/module/storage/?view=win10-ps)
-   [<span data-ttu-id="acb87-164">Instrumentação de Gerenciamento do Windows</span><span class="sxs-lookup"><span data-stu-id="acb87-164">Windows Management Instrumentation</span></span>](../wmisdk/wmi-start-page.md)
-   <span data-ttu-id="acb87-165">[Windows PowerShell](https://msdn.microsoft.com/library/dd835506(v=VS.85).aspx)</span><span class="sxs-lookup"><span data-stu-id="acb87-165">[Windows PowerShell](https://msdn.microsoft.com/library/dd835506(v=VS.85).aspx)</span></span>

 

 