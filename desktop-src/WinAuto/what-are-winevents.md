---
title: O que são WinEvents
description: Os aplicativos de servidor e o sistema operacional usam o WinEvents para notificar os clientes quando uma alteração ocorre no sistema ou na interface do usuário.
ms.assetid: 43723706-a173-4ddc-b135-824a7a8e8b40
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97864f2b1464718680d781ad843345f1e46fce13
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "105772952"
---
# <a name="what-are-winevents"></a><span data-ttu-id="4ba1e-103">O que são WinEvents?</span><span class="sxs-lookup"><span data-stu-id="4ba1e-103">What Are WinEvents?</span></span>

<span data-ttu-id="4ba1e-104">Os aplicativos de servidor e o sistema operacional usam o WinEvents para notificar os clientes quando uma alteração ocorre no sistema ou na interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-104">Server applications and the operating system use WinEvents to notify clients when a change occurs in the system or in the user interface.</span></span>

<span data-ttu-id="4ba1e-105">O suporte a WinEvent é um recurso do sistema operacional Windows que fornece:</span><span class="sxs-lookup"><span data-stu-id="4ba1e-105">WinEvent support is a feature of the Windows operating system that provides:</span></span>

-   <span data-ttu-id="4ba1e-106">Uma maneira simples para os clientes se registrarem para notificações de eventos.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-106">A simple way for clients to register for event notifications.</span></span>
-   <span data-ttu-id="4ba1e-107">Um mecanismo para injetar código de cliente em servidores.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-107">A mechanism for injecting client code into servers.</span></span>
-   <span data-ttu-id="4ba1e-108">Roteamento de eventos de servidores para clientes interessados.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-108">Routing of events from servers to interested clients.</span></span>
-   <span data-ttu-id="4ba1e-109">Geração automática de eventos para a maioria dos controles baseados em **HWND**.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-109">Automatic event generation for most **HWND**-based controls.</span></span>

<span data-ttu-id="4ba1e-110">A geração de eventos para controles baseados em **HWND** é especialmente importante para os desenvolvedores de servidor.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-110">Event generation for **HWND**-based controls is especially important for server developers.</span></span> <span data-ttu-id="4ba1e-111">O tempo de execução da Microsoft Acessibilidade Ativa fornece proxies do [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) para todos os elementos padrão da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-111">The Microsoft Active Accessibility run-time provides [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) proxies for all standard UI elements.</span></span> <span data-ttu-id="4ba1e-112">Da mesma forma, o sistema gera automaticamente o WinEvents apropriado sempre que ele cria, destrói, move, redimensiona ou executa qualquer outra ação em um controle baseado em **HWND**.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-112">Similarly, the system automatically generates the appropriate WinEvents whenever it creates, destroys, moves, resizes, or performs any other action on an **HWND**-based control.</span></span>

<span data-ttu-id="4ba1e-113">Alguns WinEvents, incluindo eventos **HWND** gerais, são automaticamente suportados pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-113">Some WinEvents, including general **HWND** events, are automatically supported by the system.</span></span> <span data-ttu-id="4ba1e-114">Outros tipos de WinEvents, como alterações de estado ou eventos de seleção específicos de um controle específico, têm suporte dos servidores Microsoft Acessibilidade Ativa.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-114">Other types of WinEvents, such as state changes or selection events specific to a particular control, are supported by Microsoft Active Accessibility servers.</span></span>

<span data-ttu-id="4ba1e-115">Quando ocorre um evento que afeta a interface do usuário, os servidores podem transmitir uma notificação de eventos para todos os clientes interessados chamando a função [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) .</span><span class="sxs-lookup"><span data-stu-id="4ba1e-115">When an event occurs that affects the UI, servers can broadcast an event notification to all interested clients by calling the [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) function.</span></span> <span data-ttu-id="4ba1e-116">A chamada de função inclui informações que identificam o tipo de evento que ocorreu e o elemento de interface do usuário ao qual o evento se aplica.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-116">The function call includes information that identifies the type of event that occurred, and the UI element to which the event applies.</span></span> <span data-ttu-id="4ba1e-117">Os clientes podem usar essas informações para recuperar um objeto [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) para o elemento de interface do usuário e coletar mais informações.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-117">Clients can use this information to retrieve an [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) object for the UI element and collect more information.</span></span>

<span data-ttu-id="4ba1e-118">Por exemplo, para notificar os clientes de que o nome de um controle foi alterado, um servidor chama [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) e passa o [**objeto de evento \_ \_ NAMECHANGE**](event-constants.md) no parâmetro de evento.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-118">For example, to notify clients that a control's name has changed, a server calls [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) and passes [**EVENT\_OBJECT\_NAMECHANGE**](event-constants.md) in the event parameter.</span></span> <span data-ttu-id="4ba1e-119">O sistema responde determinando quais clientes registraram para receber esse evento em particular e chama a função de retorno de chamada registrada.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-119">The system responds by determining which clients have registered to receive that particular event and calls their registered callback function.</span></span> <span data-ttu-id="4ba1e-120">Se nenhum cliente tiver se registrado para o evento, a chamada do servidor para **NotifyWinEvent** será comparável a "nenhuma operação" e o impacto no desempenho será insignificante.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-120">If no clients have registered for the event, the server's call to **NotifyWinEvent** is comparable to a "no operation" and the performance impact is negligible.</span></span>

<span data-ttu-id="4ba1e-121">Os servidores chamam [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) para anunciar o evento para o sistema após a ocorrência do evento.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-121">Servers call [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent) to announce the event to the system after the event has occurred.</span></span> <span data-ttu-id="4ba1e-122">Eles nunca devem notificar o sistema de um evento antes que o evento ocorra.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-122">They must never notify the system of an event before the event occurs.</span></span>

<span data-ttu-id="4ba1e-123">Para ser notificado de eventos, os clientes registram funções de gancho de retorno de chamada usando [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span><span class="sxs-lookup"><span data-stu-id="4ba1e-123">To be notified of events, clients register callback hook functions by using [**SetWinEventHook**](/windows/desktop/api/Winuser/nf-winuser-setwineventhook).</span></span> <span data-ttu-id="4ba1e-124">Os clientes definem uma função de gancho único para todos os eventos possíveis ou várias funções de gancho para intervalos discretos de eventos.</span><span class="sxs-lookup"><span data-stu-id="4ba1e-124">Clients set a single hook function for all possible events or multiple hook functions for discrete ranges of events.</span></span> <span data-ttu-id="4ba1e-125">Para obter mais informações, consulte [registrando uma função de gancho](registering-a-hook-function.md).</span><span class="sxs-lookup"><span data-stu-id="4ba1e-125">For more information, see [Registering a Hook Function](registering-a-hook-function.md).</span></span>

<span data-ttu-id="4ba1e-126">Quando o Microsoft Acessibilidade Ativa é notificado de um evento, ele chama qualquer função de gancho que foi registrada para esse evento, passando os parâmetros de [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span><span class="sxs-lookup"><span data-stu-id="4ba1e-126">When Microsoft Active Accessibility is notified of an event, it calls any hook functions that were registered for that event, passing along the parameters from [**NotifyWinEvent**](/windows/desktop/api/Winuser/nf-winuser-notifywinevent).</span></span>

 

 




