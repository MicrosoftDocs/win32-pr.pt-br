---
title: Padrão de controle editor
description: Apresenta diretrizes e convenções para implementar ITextEditProvider, incluindo informações sobre propriedades e métodos.
ms.assetid: AA9E04AC-1AC0-6434-ADEF-9FF82ADA7CD9
keywords:
- Automação da interface do usuário, implementando o padrão de controle editor
- Automação da interface do usuário, padrão de controle editor
- padrões de controle, editor
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bdf8512db4f676a263bf46bdbdfea7b6b7eaba11
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104294464"
---
# <a name="textedit-control-pattern"></a><span data-ttu-id="4d2b1-106">Padrão de controle editor</span><span class="sxs-lookup"><span data-stu-id="4d2b1-106">TextEdit Control Pattern</span></span>

<span data-ttu-id="4d2b1-107">Apresenta diretrizes e convenções para implementar [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), incluindo informações sobre propriedades e métodos.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-107">Introduces guidelines and conventions for implementing [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider), including information about properties and methods.</span></span> <span data-ttu-id="4d2b1-108">O padrão de controle **Editor** é usado para acesso programático a um controle que modifica o texto, por exemplo, um controle que executa a correção automática ou habilita a composição de entrada.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-108">The **TextEdit** control pattern is used for programmatic access to a control that modifies text, for example a control that performs auto-correction or enables input composition.</span></span>

> [!Note]  
> <span data-ttu-id="4d2b1-109">As notas de implementação neste tópico referem-se às APIs que vêm da TSF (Text Services Framework).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-109">Implementation notes in this topic refer to APIs that come from Text Services Framework (TSF).</span></span> <span data-ttu-id="4d2b1-110">Para obter mais informações sobre o TSF e a referência de API, consulte [estrutura de serviços de texto](/windows/desktop/TSF/text-services-framework).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-110">For more info about TSF and the API reference, see [Text Services Framework](/windows/desktop/TSF/text-services-framework).</span></span>

 

## <a name="required-members-for-itexteditprovider"></a><span data-ttu-id="4d2b1-111">Membros necessários para **ITextEditProvider**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-111">Required Members for **ITextEditProvider**</span></span>

<span data-ttu-id="4d2b1-112">Essas propriedades e métodos são necessários para implementar a interface [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-112">These properties and methods are required for implementing the [**ITextEditProvider**](/windows/desktop/api/uiautomationcore/nn-uiautomationcore-itexteditprovider) interface.</span></span>



| <span data-ttu-id="4d2b1-113">Membros necessários</span><span class="sxs-lookup"><span data-stu-id="4d2b1-113">Required members</span></span>                                                              | <span data-ttu-id="4d2b1-114">Tipo de membro</span><span class="sxs-lookup"><span data-stu-id="4d2b1-114">Member type</span></span> | <span data-ttu-id="4d2b1-115">Observações</span><span class="sxs-lookup"><span data-stu-id="4d2b1-115">Notes</span></span>                                                                                                                                                                                                                                                                                   |
|-------------------------------------------------------------------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4d2b1-116">**GetActiveComposition**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-116">**GetActiveComposition**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getactivecomposition) | <span data-ttu-id="4d2b1-117">Método</span><span class="sxs-lookup"><span data-stu-id="4d2b1-117">Method</span></span>      | <span data-ttu-id="4d2b1-118">Retorna o intervalo da conversão atual (nenhum se não houver conversão).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-118">Returns the range of the current conversion (none if there is no conversion).</span></span> <span data-ttu-id="4d2b1-119">Retornar a composição ativa (no TSF, esse é o intervalo marcado por **\_ \_ composição de prop de GUID**).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-119">Return the active composition (in TSF, this is the range marked by **GUID\_PROP\_COMPOSING**).</span></span> <span data-ttu-id="4d2b1-120">Por exemplo, com o IME (editor de método de entrada) do Microsoft Japanese, esse seria o texto sublinhado completo.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-120">For example with the Microsoft Japanese Input Method Editor (IME), this would be the full underlined text.</span></span> |
| [<span data-ttu-id="4d2b1-121">**GetConversionTarget**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-121">**GetConversionTarget**</span></span>](/windows/desktop/api/UIAutomationCore/nf-uiautomationcore-itexteditprovider-getconversiontarget)   | <span data-ttu-id="4d2b1-122">Método</span><span class="sxs-lookup"><span data-stu-id="4d2b1-122">Method</span></span>      | <span data-ttu-id="4d2b1-123">Retorna o intervalo de destino da conversão atual (nenhum se nenhuma conversão).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-123">Returns the current conversion target range (none if no conversion).</span></span> <span data-ttu-id="4d2b1-124">No TSF, esse é o intervalo de caracteres marcados como **TF \_ attr \_ target não \_ convertido** ou **TF \_ attr \_ target \_ convertido** da estrutura **TF \_ DisplayAttribute** .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-124">In TSF, this is the range of characters marked as **TF\_ATTR\_TARGET\_NOTCONVERTED** or **TF\_ATTR\_TARGET\_CONVERTED** from the **TF\_DISPLAYATTRIBUTE** structure.</span></span>                                               |



 

<span data-ttu-id="4d2b1-125">Os eventos **TextEditTextChanged** e **ConversionTargetChanged** devem ser gerados por elementos de automação da interface do usuário da Microsoft que dão suporte ao padrão **Editor** .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-125">The **TextEditTextChanged** and **ConversionTargetChanged** events are required to be raised by Microsoft UI Automation elements supporting the **TextEdit** pattern.</span></span>

### <a name="textedittextchanged"></a><span data-ttu-id="4d2b1-126">**TextEditTextChanged**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-126">**TextEditTextChanged**</span></span>

-   <span data-ttu-id="4d2b1-127">Use a função [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) para gerar o evento **TextEditTextChanged** .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-127">Use the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) function to raise the **TextEditTextChanged** event.</span></span>
-   <span data-ttu-id="4d2b1-128">A tabela a seguir lista os casos em que você deve gerar o evento e os parâmetros [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) a serem usados.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-128">The following table lists the cases when you should raise the event and the [**UiaRaiseTextEditTextChangedEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraisetextedittextchangedevent) parameters to use.</span></span>



| <span data-ttu-id="4d2b1-129">TextEditChangeType</span><span class="sxs-lookup"><span data-stu-id="4d2b1-129">TextEditChangeType</span></span>                                            | <span data-ttu-id="4d2b1-130">Carga do evento</span><span class="sxs-lookup"><span data-stu-id="4d2b1-130">Event Payload</span></span>                                | <span data-ttu-id="4d2b1-131">Observações</span><span class="sxs-lookup"><span data-stu-id="4d2b1-131">Notes</span></span>                                                                                                                                                                                                                                                                                                                                                                                        |
|---------------------------------------------------------------|----------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="4d2b1-132">**Matemática**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-132">**AutoCorrect**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="4d2b1-133">Nova cadeia de caracteres corrigida</span><span class="sxs-lookup"><span data-stu-id="4d2b1-133">New corrected string</span></span>                         | <span data-ttu-id="4d2b1-134">Gerado quando uma correção automática é feita pelo controle.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-134">Raised when an auto-correction is made by the control.</span></span> <span data-ttu-id="4d2b1-135">Ou sempre que uma substituição é feita por meio de TSF e o intervalo tem um valor da **GUID \_ prop \_ TKB \_ alternativos** de **TKB \_ alterna a \_ correção automática \_ aplicada**.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-135">Or whenever a replacement is made through TSF and the range has a **GUID\_PROP\_TKB\_ALTERNATES** value of **TKB\_ALTERNATES\_AUTOCORRECTION\_APPLIED**.</span></span><br/>                                                                                                                                                                   |
| [<span data-ttu-id="4d2b1-136">**Composição**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-136">**Composition**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype)          | <span data-ttu-id="4d2b1-137">A cadeia de caracteres atualizada</span><span class="sxs-lookup"><span data-stu-id="4d2b1-137">The updated string</span></span>                           | <span data-ttu-id="4d2b1-138">A carga deve incluir apenas os caracteres que foram alterados (não envie a cadeia de caracteres de composição inteira).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-138">The payload must only include the characters that changed (do not send the entire composition string).</span></span> <span data-ttu-id="4d2b1-139">Gerado sempre que uma substituição de composição é feita.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-139">Raised whenever a composition replacement is made.</span></span> <span data-ttu-id="4d2b1-140">No TSF, uma substituição de composição é definida como uma substituição que tem o sinalizador de **\_ \_ composição prop do GUID** definido.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-140">In TSF, a composition replacement is defined as a replacement that has the **GUID\_PROP\_COMPOSING** flag set.</span></span> <span data-ttu-id="4d2b1-141">Os controles de edição que implementam o TSF podem monitorar essas alterações por meio da notificação **onendedit** .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-141">Edit controls implementing TSF can monitor for these changes via the **OnEndEdit** notification.</span></span><br/>         |
| [<span data-ttu-id="4d2b1-142">**CompositionFinalized**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-142">**CompositionFinalized**</span></span>](/windows/desktop/api/UIAutomationCore/ne-uiautomationcore-texteditchangetype) | <span data-ttu-id="4d2b1-143">A cadeia de caracteres de composição finalizada (consulte Observações)</span><span class="sxs-lookup"><span data-stu-id="4d2b1-143">The finalized composition string (see Notes)</span></span> | <span data-ttu-id="4d2b1-144">No TSF, a cadeia de caracteres de conversão que está sendo finalizada é definida pelo sinalizador de **\_ \_ composição de props de GUID** que está sendo removido de uma composição.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-144">In TSF, the conversion string being finalized is defined by the **GUID\_PROP\_COMPOSING** flag being removed from a composition.</span></span> <span data-ttu-id="4d2b1-145">Os controles de edição que implementam o TSF devem determinar a cadeia de caracteres finalizada de **endcomposição** e gerar o evento quando **onendedit** é chamado.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-145">Edit controls implementing TSF should determine the finalized string from **EndComposition** and raise the event when **OnEndEdit** is called.</span></span><br/> <span data-ttu-id="4d2b1-146">A cadeia de caracteres de composição finalizada poderá estar vazia se a composição tiver sido cancelada ou excluída.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-146">The finalized composition string may be empty if composition was cancelled or deleted.</span></span><br/> |



 

### <a name="conversiontargetchanged"></a><span data-ttu-id="4d2b1-147">**ConversionTargetChanged**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-147">**ConversionTargetChanged**</span></span>

-   <span data-ttu-id="4d2b1-148">**ConversionTargetChanged** ocorre quando o destino da conversão é alterado de um destino para outro.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-148">**ConversionTargetChanged** occurs when conversion target changes from one target to another.</span></span>
-   <span data-ttu-id="4d2b1-149">Use a função [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) para gerar o evento **ConversionTargetChanged** (passe o identificador de evento [**UIA \_ Editor \_ ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) ).</span><span class="sxs-lookup"><span data-stu-id="4d2b1-149">Use the [**UiaRaiseAutomationEvent**](/windows/desktop/api/UIAutomationCoreApi/nf-uiautomationcoreapi-uiaraiseautomationevent) function to raise the **ConversionTargetChanged** event (pass the [**UIA\_TextEdit\_ConversionTargetChangedEventId**](https://www.bing.com/search?q=**UIA\_TextEdit\_ConversionTargetChangedEventId**) event identifier).</span></span>
-   <span data-ttu-id="4d2b1-150">**ConversionTargetChanged** não deve ser gerado quando o conteúdo do destino é alterado.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-150">**ConversionTargetChanged** should not be raised when the content of the target changes.</span></span> <span data-ttu-id="4d2b1-151">Se a alteração de destino ocorrer simultaneamente com uma alteração de composição, o evento de alteração de destino deverá ser gerado depois que qualquer evento de composição já tiver sido gerado.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-151">If the target change occurs simultaneous with a composition change, the target change event must be raised after any composition events have already been raised.</span></span>
-   <span data-ttu-id="4d2b1-152">No TSF, o destino da conversão é definido pelo valor **TF \_ attr \_ target \_ convertido** sendo definido da estrutura **TF \_ DisplayAttribute** .</span><span class="sxs-lookup"><span data-stu-id="4d2b1-152">In TSF, the conversion target is defined by the value **TF\_ATTR\_TARGET\_CONVERTED** being set from the **TF\_DISPLAYATTRIBUTE** structure.</span></span> <span data-ttu-id="4d2b1-153">As alterações podem ser monitoradas usando o **onendedit**.</span><span class="sxs-lookup"><span data-stu-id="4d2b1-153">Changes can be monitored using **OnEndEdit**.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4d2b1-154">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="4d2b1-154">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="4d2b1-155">**Conceitua**</span><span class="sxs-lookup"><span data-stu-id="4d2b1-155">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="4d2b1-156">Tipos de controle e seus padrões de controle com suporte</span><span class="sxs-lookup"><span data-stu-id="4d2b1-156">Control Types and Their Supported Control Patterns</span></span>](uiauto-controlpatternmapping.md)
</dt> <dt>

[<span data-ttu-id="4d2b1-157">Visão Geral de Padrões de Controle de Automação de Interface de Usuário</span><span class="sxs-lookup"><span data-stu-id="4d2b1-157">UI Automation Control Patterns Overview</span></span>](uiauto-controlpatternsoverview.md)
</dt> <dt>

[<span data-ttu-id="4d2b1-158">Visão geral da árvore de automação de interface do usuário</span><span class="sxs-lookup"><span data-stu-id="4d2b1-158">UI Automation Tree Overview</span></span>](uiauto-treeoverview.md)
</dt> </dl>

 

