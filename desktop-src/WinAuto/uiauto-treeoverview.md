---
title: Visão geral da árvore de automação de interface do usuário
description: Produtos de tecnologia assistencial e scripts de teste navegam pela árvore de automação da interface do usuário da Microsoft para reunir informações sobre a interface do usuário e seus elementos.
ms.assetid: f3afe258-baa7-41b5-a27e-cdc94b467d73
keywords:
- Automação da interface do usuário, visão geral da árvore
- Automação da interface do usuário, exibição da árvore
- Automação da interface do usuário, exibição bruta da árvore
- Automação da interface do usuário, exibição de controle da árvore
- Automação da interface do usuário, exibição de conteúdo da árvore
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c76bc9aa6568a3f4d63194d35ff0c7d8f59510c3
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103822529"
---
# <a name="ui-automation-tree-overview"></a><span data-ttu-id="ffe60-108">Visão geral da árvore de automação de interface do usuário</span><span class="sxs-lookup"><span data-stu-id="ffe60-108">UI Automation Tree Overview</span></span>

<span data-ttu-id="ffe60-109">Produtos de tecnologia assistencial e scripts de teste navegam pela árvore de automação da interface do usuário da Microsoft para reunir informações sobre a interface do usuário e seus elementos.</span><span class="sxs-lookup"><span data-stu-id="ffe60-109">Assistive technology products and test scripts navigate the Microsoft UI Automation tree to gather information about the UI and its elements.</span></span>

<span data-ttu-id="ffe60-110">Na árvore de automação da interface do usuário, há um elemento raiz que representa a janela da área de trabalho do Windows ("a área de trabalho") e cujos elementos filho representam janelas de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-110">In the UI Automation tree is a root element that represents the Windows desktop window ("the desktop") and whose child elements represent application windows.</span></span> <span data-ttu-id="ffe60-111">Cada um desses elementos filho pode conter elementos que representam partes da interface do usuário, como menus, botões, barras de ferramentas e caixas de listagem.</span><span class="sxs-lookup"><span data-stu-id="ffe60-111">Each of these child elements can contain elements that represent pieces of the UI, such as menus, buttons, toolbars, and list boxes.</span></span> <span data-ttu-id="ffe60-112">Esses elementos podem conter elementos, como itens de lista.</span><span class="sxs-lookup"><span data-stu-id="ffe60-112">These elements can contain elements, such as list items.</span></span>

<span data-ttu-id="ffe60-113">A árvore de automação da interface do usuário não é uma estrutura fixa.</span><span class="sxs-lookup"><span data-stu-id="ffe60-113">The UI Automation tree is not a fixed structure.</span></span> <span data-ttu-id="ffe60-114">Raramente é visto em sua totalidade porque pode conter milhares de elementos.</span><span class="sxs-lookup"><span data-stu-id="ffe60-114">It is seldom seen in its totality because it might contain thousands of elements.</span></span> <span data-ttu-id="ffe60-115">Partes da árvore de automação da interface do usuário são criadas à medida que um cliente precisa delas, e a estrutura da árvore é alterada à medida que os elementos são adicionados, movidos ou removidos.</span><span class="sxs-lookup"><span data-stu-id="ffe60-115">Parts of the UI Automation tree are built as a client needs them, and the structure of the tree changes as elements are added, moved, or removed.</span></span>

<span data-ttu-id="ffe60-116">Provedores de automação de interface do usuário dão suporte à árvore de automação da interface do usuário implementando a navegação entre os itens em um fragmento</span><span class="sxs-lookup"><span data-stu-id="ffe60-116">UI Automation providers support the UI Automation tree by implementing navigation among items in a fragment.</span></span> <span data-ttu-id="ffe60-117">Um fragmento é uma subárvore completa de elementos de uma estrutura específica e tem um elemento raiz (chamado de *raiz do fragmento*) que normalmente é hospedado em uma janela.</span><span class="sxs-lookup"><span data-stu-id="ffe60-117">A fragment is a complete subtree of elements from a particular framework, and has a root element (called the *fragment root*) that is typically hosted in a window.</span></span>

<span data-ttu-id="ffe60-118">Os provedores não se preocupam com a navegação de um controle para outro.</span><span class="sxs-lookup"><span data-stu-id="ffe60-118">Providers are not concerned with navigation from one control to another.</span></span> <span data-ttu-id="ffe60-119">Isso é gerenciado pelo núcleo de automação da interface do usuário, que usa informações dos provedores de janela padrão.</span><span class="sxs-lookup"><span data-stu-id="ffe60-119">This is managed by the UI Automation core, which uses information from the default window providers.</span></span>

<span data-ttu-id="ffe60-120">Este tópico inclui as seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="ffe60-120">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="ffe60-121">Exibições da árvore de automação da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="ffe60-121">Views of the UI Automation Tree</span></span>](#views-of-the-ui-automation-tree)
    -   [<span data-ttu-id="ffe60-122">Exibição bruta</span><span class="sxs-lookup"><span data-stu-id="ffe60-122">Raw View</span></span>](#raw-view)
    -   [<span data-ttu-id="ffe60-123">Exibição de controle</span><span class="sxs-lookup"><span data-stu-id="ffe60-123">Control View</span></span>](#control-view)
    -   [<span data-ttu-id="ffe60-124">Exibição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="ffe60-124">Content View</span></span>](#content-view)
-   [<span data-ttu-id="ffe60-125">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ffe60-125">Related topics</span></span>](#related-topics)

## <a name="views-of-the-ui-automation-tree"></a><span data-ttu-id="ffe60-126">Exibições da árvore de automação da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="ffe60-126">Views of the UI Automation Tree</span></span>

<span data-ttu-id="ffe60-127">A árvore de automação da interface do usuário pode ser filtrada para criar exibições que contêm somente os elementos de automação da interface do usuário que são relevantes para um cliente específico.</span><span class="sxs-lookup"><span data-stu-id="ffe60-127">The UI Automation tree can be filtered to create views that contain only those UI Automation elements that are relevant for a particular client.</span></span> <span data-ttu-id="ffe60-128">Essa abordagem permite que os clientes personalizem a estrutura apresentada por meio da automação da interface do usuário para suas necessidades específicas.</span><span class="sxs-lookup"><span data-stu-id="ffe60-128">This approach allows clients to customize the structure that is presented through UI Automation to their particular needs.</span></span>

<span data-ttu-id="ffe60-129">O cliente pode personalizar a exibição por escopo e filtrando.</span><span class="sxs-lookup"><span data-stu-id="ffe60-129">The client can customize the view by scoping and by filtering.</span></span> <span data-ttu-id="ffe60-130">O escopo está definindo a extensão da exibição, começando a partir de um elemento base.</span><span class="sxs-lookup"><span data-stu-id="ffe60-130">Scoping is defining the extent of the view, starting from a base element.</span></span> <span data-ttu-id="ffe60-131">Por exemplo, o aplicativo pode querer localizar apenas filhos diretos da área de trabalho ou todos os descendentes de uma janela de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-131">For example, the application might want to find only direct children of the desktop, or all descendants of an application window.</span></span> <span data-ttu-id="ffe60-132">A filtragem está definindo os tipos de elementos incluídos na exibição.</span><span class="sxs-lookup"><span data-stu-id="ffe60-132">Filtering is defining the types of elements that are included in the view.</span></span>

<span data-ttu-id="ffe60-133">Os provedores de automação de interface do usuário dão suporte à filtragem definindo propriedades em elementos, incluindo as propriedades [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) e [**IUIAutomationElement:: IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) .</span><span class="sxs-lookup"><span data-stu-id="ffe60-133">UI Automation providers support filtering by defining properties on elements, including the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and [**IUIAutomationElement::IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) properties.</span></span>

<span data-ttu-id="ffe60-134">A automação da interface do usuário fornece três exibições padrão: modo de exibição bruto, exibição de controle e exibição de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-134">UI Automation provides three default views: raw view, control view, and content view.</span></span> <span data-ttu-id="ffe60-135">Essas exibições são definidas pelo tipo de filtragem executada.</span><span class="sxs-lookup"><span data-stu-id="ffe60-135">These views are defined by the type of filtering performed.</span></span> <span data-ttu-id="ffe60-136">O escopo de qualquer exibição é definido pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-136">The scope of any view is defined by the application.</span></span> <span data-ttu-id="ffe60-137">O aplicativo pode aplicar outros filtros nas propriedades; por exemplo, para incluir somente controles habilitados em um modo de exibição de controle.</span><span class="sxs-lookup"><span data-stu-id="ffe60-137">The application can apply other filters on properties; for example, to include only enabled controls in a control view.</span></span>

### <a name="raw-view"></a><span data-ttu-id="ffe60-138">Exibição bruta</span><span class="sxs-lookup"><span data-stu-id="ffe60-138">Raw View</span></span>

<span data-ttu-id="ffe60-139">A exibição bruta da árvore de automação da interface do usuário é a árvore completa de elementos de automação para os quais a área de trabalho é a raiz.</span><span class="sxs-lookup"><span data-stu-id="ffe60-139">The raw view of the UI Automation tree is the full tree of automation elements for which the desktop is the root.</span></span> <span data-ttu-id="ffe60-140">A exibição bruta segue melhor a estrutura programática nativa de um aplicativo e é a exibição mais detalhada disponível.</span><span class="sxs-lookup"><span data-stu-id="ffe60-140">The raw view closely follows the native programmatic structure of an application, and is the most detailed view available.</span></span> <span data-ttu-id="ffe60-141">Também é a base na qual as outras exibições da árvore são criadas.</span><span class="sxs-lookup"><span data-stu-id="ffe60-141">It is also the base on which the other views of the tree are built.</span></span> <span data-ttu-id="ffe60-142">Como essa exibição depende da estrutura subjacente da interface do usuário, a exibição bruta de um botão Windows Presentation Foundation (WPF) tem uma exibição bruta diferente de um botão do Microsoft Win32.</span><span class="sxs-lookup"><span data-stu-id="ffe60-142">Because this view depends on the underlying UI framework, the raw view of a Windows Presentation Foundation (WPF) button has a different raw view than a Microsoft Win32 button.</span></span>

<span data-ttu-id="ffe60-143">A exibição bruta é obtida pesquisando elementos sem especificar propriedades ou usando [**IUIAutomation:: RawViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_rawviewwalker) para obter uma interface [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar pela árvore.</span><span class="sxs-lookup"><span data-stu-id="ffe60-143">The raw view is obtained by searching for elements without specifying properties or by using the [**IUIAutomation::RawViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_rawviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

### <a name="control-view"></a><span data-ttu-id="ffe60-144">Exibição de controle</span><span class="sxs-lookup"><span data-stu-id="ffe60-144">Control View</span></span>

<span data-ttu-id="ffe60-145">O modo de exibição de controle é um subconjunto da exibição bruta.</span><span class="sxs-lookup"><span data-stu-id="ffe60-145">The control view is a subset of the raw view.</span></span> <span data-ttu-id="ffe60-146">Ele inclui somente os itens da interface do usuário que têm a propriedade [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) definida como **true**.</span><span class="sxs-lookup"><span data-stu-id="ffe60-146">It includes only those UI items that have the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) property set to **TRUE**.</span></span>

<span data-ttu-id="ffe60-147">O modo de exibição de controle inclui os itens de interface do usuário que fornecem informações para o usuários ou permitem que o usuário execute uma ação.</span><span class="sxs-lookup"><span data-stu-id="ffe60-147">The control view includes the UI items that provide information to the user or enable the user to perform an action.</span></span> <span data-ttu-id="ffe60-148">Esses são os itens da interface do usuário que são mais interessantes para testar aplicativos automatizados.</span><span class="sxs-lookup"><span data-stu-id="ffe60-148">These are the UI items that are most interesting to automated testing applications.</span></span>

<span data-ttu-id="ffe60-149">O modo de exibição de controle também inclui itens de interface do usuário não interativos que contribuem para a estrutura lógica da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="ffe60-149">The control view also includes noninteractive UI items that contribute to the logical structure of the UI.</span></span> <span data-ttu-id="ffe60-150">Isso inclui contêineres de item, como cabeçalhos de exibição de lista, barras de ferramentas, menus e a barra de status.</span><span class="sxs-lookup"><span data-stu-id="ffe60-150">These include item containers such as list view headers, toolbars, menus, and the status bar.</span></span> <span data-ttu-id="ffe60-151">Outros itens não interativos que aparecem no modo de exibição de controle são elementos gráficos com informações e texto estático em uma caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-151">Other noninteractive items that appear in the control view are graphics with information and static text in a dialog box.</span></span>

<span data-ttu-id="ffe60-152">Itens não interativos usados somente para fins de layout ou decorativos, como painéis usados para dispor controles em uma caixa de diálogo, não aparecem no modo de exibição de controle.</span><span class="sxs-lookup"><span data-stu-id="ffe60-152">Noninteractive items used only for layout or decorative purposes, such as panels used to lay out controls in a dialog box, do not appear in the control view.</span></span>

<span data-ttu-id="ffe60-153">A exibição de controle da árvore de automação da interface do usuário é mapeada para a estrutura da interface do usuário percebida por um usuário final.</span><span class="sxs-lookup"><span data-stu-id="ffe60-153">The control view of the UI Automation tree closely maps to the UI structure perceived by an end user.</span></span> <span data-ttu-id="ffe60-154">Isso torna mais fácil para o produto de tecnologia assistencial descrever a interface do usuário final e ajudar o usuário final a interagir com o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-154">This makes it easier for the assistive technology product to describe the UI to the end user and help that end user interact with the application.</span></span>

<span data-ttu-id="ffe60-155">O modo de exibição de controle é obtido pesquisando os elementos que têm a propriedade [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) definida como true ou usando [**ControlViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_controlviewwalker) para obter uma interface [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar pela árvore.</span><span class="sxs-lookup"><span data-stu-id="ffe60-155">The control view is obtained by searching for elements that have the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) property set to true, or by using [**ControlViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_controlviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

### <a name="content-view"></a><span data-ttu-id="ffe60-156">Exibição de conteúdo</span><span class="sxs-lookup"><span data-stu-id="ffe60-156">Content View</span></span>

<span data-ttu-id="ffe60-157">A exibição de conteúdo da árvore de automação da interface do usuário é um subconjunto da exibição de controle.</span><span class="sxs-lookup"><span data-stu-id="ffe60-157">The content view of the UI Automation tree is a subset of the control view.</span></span> <span data-ttu-id="ffe60-158">Ele inclui somente os itens da interface do usuário que têm a propriedade [**IUIAutomationElement:: IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) e [**IUIAutomationElement:: IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) definida como **true**.</span><span class="sxs-lookup"><span data-stu-id="ffe60-158">It includes only those UI items that have both the [**IUIAutomationElement::IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and the [**IUIAutomationElement::IsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) property set to **TRUE**.</span></span>

<span data-ttu-id="ffe60-159">O modo de exibição de conteúdo contém itens de interface do usuário que transmitem as informações reais em uma interface de usuários, incluindo itens de IU que podem receber o foco do teclado e algum texto que não seja um rótulo em um item da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="ffe60-159">The content view contains UI items that convey the actual information in a user interface, including UI items that can receive keyboard focus and some text that is not a label on a UI item.</span></span> <span data-ttu-id="ffe60-160">Esses são os itens da interface do usuário que são mais interessantes para um aplicativo de leitor de tela.</span><span class="sxs-lookup"><span data-stu-id="ffe60-160">These are the UI items that are most interesting to a screen reader application.</span></span> <span data-ttu-id="ffe60-161">Por exemplo, os valores em uma caixa de combinação suspensa aparecem no modo de exibição de conteúdo porque os valores representam informações usadas por um usuário final.</span><span class="sxs-lookup"><span data-stu-id="ffe60-161">For example, the values in a drop-down combo box appear in the content view because the values represent information being used by an end user.</span></span>

<span data-ttu-id="ffe60-162">No modo de exibição de conteúdo, uma caixa de combinação e uma caixa de listagem são representadas como uma coleção de itens de interface do usuário em que um ou mais de um item pode ser selecionado.</span><span class="sxs-lookup"><span data-stu-id="ffe60-162">In the content view, a combo box and a list box are both represented as a collection of UI items where one, or more than one, item can be selected.</span></span> <span data-ttu-id="ffe60-163">O fato de um item estar sempre aberto e um item pode ser expandido e recolhido é irrelevante no modo de exibição de conteúdo porque ele foi projetado para mostrar os dados, ou o conteúdo, que está sendo apresentado ao usuário.</span><span class="sxs-lookup"><span data-stu-id="ffe60-163">The fact that one item is always open and one item can expand and collapse is irrelevant in the content view because it is designed to show the data, or content, that is being presented to the user.</span></span>

<span data-ttu-id="ffe60-164">A exibição de conteúdo é obtida pesquisando os elementos que têm a propriedade [**IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) e [**CurrentIsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) definida como **true** ou usando [**IUIAutomation:: ContentViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_contentviewwalker) para obter uma interface [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) para navegar pela árvore.</span><span class="sxs-lookup"><span data-stu-id="ffe60-164">The content view is obtained by searching for elements that have both the [**IsControlElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontrolelement) and the [**CurrentIsContentElement**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomationelement-get_currentiscontentelement) property set to **TRUE**, or by using [**IUIAutomation::ContentViewWalker**](/windows/desktop/api/UIAutomationClient/nf-uiautomationclient-iuiautomation-get_contentviewwalker) to get an [**IUIAutomationTreeWalker**](/windows/desktop/api/UIAutomationClient/nn-uiautomationclient-iuiautomationtreewalker) interface for navigating the tree.</span></span>

<span data-ttu-id="ffe60-165">As imagens a seguir mostram as diferenças entre a exibição de controle e a exibição de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="ffe60-165">The following images show the differences between the control view and content view.</span></span> <span data-ttu-id="ffe60-166">A primeira imagem mostra uma caixa de combinação simples com três itens na lista suspensa.</span><span class="sxs-lookup"><span data-stu-id="ffe60-166">The first image shows a simple combo box with three items in the dropdown list.</span></span> <span data-ttu-id="ffe60-167">A segunda imagem mostra como os itens da interface do usuário da caixa de combinação aparecem nas exibições de controle e conteúdo do aplicativo UISpy.exe.</span><span class="sxs-lookup"><span data-stu-id="ffe60-167">The second image shows how the combo box UI items appear in the control and content views of the UISpy.exe application.</span></span>

![captura de tela de uma caixa de combinação simples com três itens suspensos](images/combobox.png)

![captura de tela do aplicativo UISpy com exibições de controle e conteúdo dos itens da caixa de combinação](images/treeviews.jpg)

## <a name="related-topics"></a><span data-ttu-id="ffe60-170">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ffe60-170">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="ffe60-171">**Conceitua**</span><span class="sxs-lookup"><span data-stu-id="ffe60-171">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="ffe60-172">Criando o objeto CUIAutomation</span><span class="sxs-lookup"><span data-stu-id="ffe60-172">Creating the CUIAutomation Object</span></span>](uiauto-creatingcuiautomation.md)
</dt> <dt>

[<span data-ttu-id="ffe60-173">Obtendo elementos da automação interface do usuário</span><span class="sxs-lookup"><span data-stu-id="ffe60-173">Obtaining UI Automation Elements</span></span>](uiauto-obtainingelements.md)
</dt> <dt>

[<span data-ttu-id="ffe60-174">Conceitos básicos de automação da interface do usuário</span><span class="sxs-lookup"><span data-stu-id="ffe60-174">UI Automation Fundamentals</span></span>](entry-uiautocore-overview.md)
</dt> </dl>

 

 




