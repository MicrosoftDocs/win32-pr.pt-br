---
description: O serviço de distribuição de mesmo nível da Microsoft dá suporte a funções para os cenários de função de consumidor e funções de Publicador.
ms.assetid: 3f5af891-4f5d-4523-8fe6-47fc6ff13b35
title: Funções da API de distribuição de pares
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b2532ad8bf5cbb14e18bd16a14bb1be2d79c1791
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105753946"
---
# <a name="peer-distribution-api-functions"></a><span data-ttu-id="1b099-103">Funções da API de distribuição de pares</span><span class="sxs-lookup"><span data-stu-id="1b099-103">Peer Distribution API Functions</span></span>

<span data-ttu-id="1b099-104">O serviço de distribuição de mesmo nível da Microsoft dá suporte a funções para os cenários de função de consumidor e funções de Publicador.</span><span class="sxs-lookup"><span data-stu-id="1b099-104">The Microsoft Peer Distribution service supports functions for both consumer role and publisher role scenarios.</span></span>

## <a name="the-following-functions-are-common-in-both-client-and-server-scenarios"></a><span data-ttu-id="1b099-105">As funções a seguir são comuns nos cenários "cliente" e "servidor".</span><span class="sxs-lookup"><span data-stu-id="1b099-105">The following functions are common in both "client" and "server" scenarios.</span></span>



| <span data-ttu-id="1b099-106">Funções comuns</span><span class="sxs-lookup"><span data-stu-id="1b099-106">Common Functions</span></span>                                                                                       | <span data-ttu-id="1b099-107">Descrição</span><span class="sxs-lookup"><span data-stu-id="1b099-107">Description</span></span>                                                                                                     |
|--------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1b099-108">**PeerDistStartup**</span><span class="sxs-lookup"><span data-stu-id="1b099-108">**PeerDistStartup**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup)                                                             | <span data-ttu-id="1b099-109">Cria uma nova instância de **\_ \_ identificador de instância PEERDIST** que deve ser passada para todas as outras APIs de distribuição de mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="1b099-109">Creates a new **PEERDIST\_INSTANCE\_HANDLE** instance which must be passed to all other Peer Distribution APIs.</span></span> |
| [<span data-ttu-id="1b099-110">**PeerDistShutdown**</span><span class="sxs-lookup"><span data-stu-id="1b099-110">**PeerDistShutdown**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistshutdown)                                                           | <span data-ttu-id="1b099-111">Libera recursos alocados pela chamada para [**PeerDistStartup**](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup).</span><span class="sxs-lookup"><span data-stu-id="1b099-111">Releases resources allocated by the call to [**PeerDistStartup**](/windows/desktop/api/PeerDist/nf-peerdist-peerdiststartup).</span></span>                         |
| [<span data-ttu-id="1b099-112">**PeerDistGetStatus**</span><span class="sxs-lookup"><span data-stu-id="1b099-112">**PeerDistGetStatus**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistgetstatus)                                                         | <span data-ttu-id="1b099-113">Retorna o status atual do serviço de distribuição de mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="1b099-113">Returns the current status of Peer Distribution service.</span></span>                                                        |
| [<span data-ttu-id="1b099-114">**PeerDistGetStatusEx**</span><span class="sxs-lookup"><span data-stu-id="1b099-114">**PeerDistGetStatusEx**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistgetstatusex)                                                     | <span data-ttu-id="1b099-115">Retorna o status atual e os recursos do serviço de distribuição de mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="1b099-115">Returns the current status and capabilities of the Peer Distribution service.</span></span>                                   |
| [<span data-ttu-id="1b099-116">**PeerDistGetOverlappedResult**</span><span class="sxs-lookup"><span data-stu-id="1b099-116">**PeerDistGetOverlappedResult**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistgetoverlappedresult)                                     | <span data-ttu-id="1b099-117">Recupera os resultados de operações assíncronas.</span><span class="sxs-lookup"><span data-stu-id="1b099-117">Retrieves the results of asynchronous operations.</span></span>                                                               |
| [<span data-ttu-id="1b099-118">**PeerDistRegisterForStatusChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="1b099-118">**PeerDistRegisterForStatusChangeNotification**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistregisterforstatuschangenotification)     | <span data-ttu-id="1b099-119">Solicita que o serviço de distribuição de mesmo nível notifique o chamador quando ocorrer uma alteração de status.</span><span class="sxs-lookup"><span data-stu-id="1b099-119">Requests that the Peer Distribution service notify the caller when a status change occurs.</span></span>                      |
| [<span data-ttu-id="1b099-120">**PeerDistRegisterForStatusChangeNotificationEx**</span><span class="sxs-lookup"><span data-stu-id="1b099-120">**PeerDistRegisterForStatusChangeNotificationEx**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistregisterforstatuschangenotificationex) | <span data-ttu-id="1b099-121">Solicita que o serviço de distribuição de mesmo nível notifique o chamador quando ocorrer uma alteração de status.</span><span class="sxs-lookup"><span data-stu-id="1b099-121">Requests that the Peer Distribution service notify the caller when a status change occurs.</span></span>                      |
| [<span data-ttu-id="1b099-122">**PeerDistUnregisterForStatusChangeNotification**</span><span class="sxs-lookup"><span data-stu-id="1b099-122">**PeerDistUnregisterForStatusChangeNotification**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistunregisterforstatuschangenotification) | <span data-ttu-id="1b099-123">Cancela o registro da notificação de alteração de status para a sessão associada ao identificador fornecido.</span><span class="sxs-lookup"><span data-stu-id="1b099-123">Deregisters the status change notification for the session associated with the supplied handle.</span></span>                 |



 

## <a name="the-following-functions-are-only-supported-in-client-scenarios"></a><span data-ttu-id="1b099-124">As funções a seguir têm suporte apenas em cenários "cliente".</span><span class="sxs-lookup"><span data-stu-id="1b099-124">The following functions are only supported in "client" scenarios.</span></span>



| <span data-ttu-id="1b099-125">Funções de cliente</span><span class="sxs-lookup"><span data-stu-id="1b099-125">Client Functions</span></span>                                                                             | <span data-ttu-id="1b099-126">Descrição</span><span class="sxs-lookup"><span data-stu-id="1b099-126">Description</span></span>                                                                                                                                                                                                                                                                                                                                      |
|----------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1b099-127">**PeerDistClientOpenContent**</span><span class="sxs-lookup"><span data-stu-id="1b099-127">**PeerDistClientOpenContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent)                               | <span data-ttu-id="1b099-128">Abre e retorna um **\_ \_ identificador de conteúdo PEERDIST** para fazer referência a esse conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-128">Opens and returns a **PEERDIST\_CONTENT\_HANDLE** to reference that content.</span></span>                                                                                                                                                                                                                                                                     |
| [<span data-ttu-id="1b099-129">**PeerDistClientCloseContent**</span><span class="sxs-lookup"><span data-stu-id="1b099-129">**PeerDistClientCloseContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientclosecontent)                             | <span data-ttu-id="1b099-130">Fecha o **\_ \_ identificador de conteúdo PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="1b099-130">Closes the **PEERDIST\_CONTENT\_HANDLE**.</span></span>                                                                                                                                                                                                                                                                                                        |
| [<span data-ttu-id="1b099-131">**PeerDistClientGetInformationByHandle**</span><span class="sxs-lookup"><span data-stu-id="1b099-131">**PeerDistClientGetInformationByHandle**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistclientgetinformationbyhandle)         | <span data-ttu-id="1b099-132">Recupera informações adicionais do serviço de distribuição de mesmo nível para um identificador de conteúdo específico.</span><span class="sxs-lookup"><span data-stu-id="1b099-132">Retrieves additional information from the Peer Distribution service for a specific content handle.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="1b099-133">**PeerDistClientAddContentInformation**</span><span class="sxs-lookup"><span data-stu-id="1b099-133">**PeerDistClientAddContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientaddcontentinformation)           | <span data-ttu-id="1b099-134">Adiciona informações de conteúdo que, em seguida, são associadas com o **\_ \_ identificador de conteúdo PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="1b099-134">Adds content information which is then associated with the **PEERDIST\_CONTENT\_HANDLE**.</span></span> <span data-ttu-id="1b099-135">Um **\_ \_ identificador de conteúdo PEERDIST** pode ser associado a qualquer informação de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-135">A **PEERDIST\_CONTENT\_HANDLE** can be associated with any content information.</span></span>                                                                                                                                                                        |
| [<span data-ttu-id="1b099-136">**PeerDistClientCompleteContentInformation**</span><span class="sxs-lookup"><span data-stu-id="1b099-136">**PeerDistClientCompleteContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientcompletecontentinformation) | <span data-ttu-id="1b099-137">Indica o fim das informações de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-137">Indicates the end of the content information.</span></span>                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="1b099-138">**PeerDistClientAddData**</span><span class="sxs-lookup"><span data-stu-id="1b099-138">**PeerDistClientAddData**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientadddata)                                       | <span data-ttu-id="1b099-139">Usado para fornecer conteúdo ao cache local.</span><span class="sxs-lookup"><span data-stu-id="1b099-139">Used to supply content to the local cache.</span></span> <span data-ttu-id="1b099-140">Normalmente, isso é feito quando os dados não podem ser encontrados na rede local, conforme indicado quando o [**PeerDistClientBlockRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread) ou o [**PeerDistClientStreamRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread) é concluído com **\_ tempo limite de erro** ou **\_ \_ \_ dados ausentes no erro PEERDIST**.</span><span class="sxs-lookup"><span data-stu-id="1b099-140">Typically this is done when data could not be found on the local network as indicated when either [**PeerDistClientBlockRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread) or [**PeerDistClientStreamRead**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread) complete with **ERROR\_TIMEOUT** or **PEERDIST\_ERROR\_MISSING\_DATA**..</span></span> |
| [<span data-ttu-id="1b099-141">**PeerDistClientBlockRead**</span><span class="sxs-lookup"><span data-stu-id="1b099-141">**PeerDistClientBlockRead**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientblockread)                                   | <span data-ttu-id="1b099-142">Fornece acesso aleatório ao fluxo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-142">Provides random access to the content stream.</span></span>                                                                                                                                                                                                                                                                                                    |
| [<span data-ttu-id="1b099-143">**PeerDistClientStreamRead**</span><span class="sxs-lookup"><span data-stu-id="1b099-143">**PeerDistClientStreamRead**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientstreamread)                                 | <span data-ttu-id="1b099-144">Fornece acesso sequencial ao fluxo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-144">Provides sequential access to the content stream.</span></span>                                                                                                                                                                                                                                                                                                |
| [<span data-ttu-id="1b099-145">**PeerDistClientFlushContent**</span><span class="sxs-lookup"><span data-stu-id="1b099-145">**PeerDistClientFlushContent**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientflushcontent)                             | <span data-ttu-id="1b099-146">Remove o conteúdo que foi adicionado anteriormente ao sistema de distribuição de pares local.</span><span class="sxs-lookup"><span data-stu-id="1b099-146">Removes content that has been previously added to the local Peer Distribution system.</span></span>                                                                                                                                                                                                                                                            |
| [<span data-ttu-id="1b099-147">**PeerDistClientCancelAsyncOperation**</span><span class="sxs-lookup"><span data-stu-id="1b099-147">**PeerDistClientCancelAsyncOperation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientcancelasyncoperation)             | <span data-ttu-id="1b099-148">Cancela a operação assíncrona associada a uma estrutura [sobreposta](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) e o identificador de conteúdo retornado por [**PeerDistClientOpenContent**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent).</span><span class="sxs-lookup"><span data-stu-id="1b099-148">Cancels asynchronous operation associated with an [OVERLAPPED](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) structure and the content handle returned by [**PeerDistClientOpenContent**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistclientopencontent).</span></span>                                                                                                                     |



 

## <a name="the-following-functions-are-only-supported-in-server-scenarios"></a><span data-ttu-id="1b099-149">As funções a seguir têm suporte apenas em cenários de "servidor".</span><span class="sxs-lookup"><span data-stu-id="1b099-149">The following functions are only supported in "server" scenarios.</span></span>



| <span data-ttu-id="1b099-150">Funções de servidor</span><span class="sxs-lookup"><span data-stu-id="1b099-150">Server Functions</span></span>                                                                             | <span data-ttu-id="1b099-151">Descrição</span><span class="sxs-lookup"><span data-stu-id="1b099-151">Description</span></span>                                                                                                                                                                                        |
|----------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="1b099-152">**PeerDistServerPublishStream**</span><span class="sxs-lookup"><span data-stu-id="1b099-152">**PeerDistServerPublishStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishstream)                           | <span data-ttu-id="1b099-153">Cria o **\_ \_ identificador de fluxo PEERDIST** que pode ser usado com [**PeerDistServerPublishAddToStream**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream) para criar informações de conteúdo para o fluxo de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="1b099-153">Creates the **PEERDIST\_STREAM\_HANDLE** which can be used with [**PeerDistServerPublishAddToStream**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream) to create content information for the content stream.</span></span> |
| [<span data-ttu-id="1b099-154">**PeerDistServerPublishAddToStream**</span><span class="sxs-lookup"><span data-stu-id="1b099-154">**PeerDistServerPublishAddToStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishaddtostream)                 | <span data-ttu-id="1b099-155">Adiciona dados ao fluxo referenciado pelo identificador de fluxo PeerDist.</span><span class="sxs-lookup"><span data-stu-id="1b099-155">Adds data to the stream referenced by the PeerDist stream handle.</span></span>                                                                                                                                  |
| [<span data-ttu-id="1b099-156">**PeerDistServerPublishCompleteStream**</span><span class="sxs-lookup"><span data-stu-id="1b099-156">**PeerDistServerPublishCompleteStream**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverpublishcompletestream)           | <span data-ttu-id="1b099-157">Chamado para indicar que todos os dados foram adicionados ao fluxo.</span><span class="sxs-lookup"><span data-stu-id="1b099-157">Called to indicate that all data has been added to the stream.</span></span>                                                                                                                                     |
| [<span data-ttu-id="1b099-158">**PeerDistServerCloseStreamHandle**</span><span class="sxs-lookup"><span data-stu-id="1b099-158">**PeerDistServerCloseStreamHandle**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverclosestreamhandle)                   | <span data-ttu-id="1b099-159">Fecha o identificador de fluxo.</span><span class="sxs-lookup"><span data-stu-id="1b099-159">Closes the stream handle.</span></span>                                                                                                                                                                          |
| [<span data-ttu-id="1b099-160">**PeerDistServerUnpublish**</span><span class="sxs-lookup"><span data-stu-id="1b099-160">**PeerDistServerUnpublish**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverunpublish)                                   | <span data-ttu-id="1b099-161">Cancelar a publicação de conteúdo publicado anteriormente no serviço de distribuição de mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="1b099-161">Unpublishes previously published content in the Peer Distribution service.</span></span>                                                                                                                         |
| [<span data-ttu-id="1b099-162">**PeerDistServerOpenContentInformation**</span><span class="sxs-lookup"><span data-stu-id="1b099-162">**PeerDistServerOpenContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation)         | <span data-ttu-id="1b099-163">Abre um **\_ \_ identificador CONTENTINFO PEERDIST** para conteúdo publicado.</span><span class="sxs-lookup"><span data-stu-id="1b099-163">Opens a **PEERDIST\_CONTENTINFO\_HANDLE** for published content.</span></span>                                                                                                                                   |
| [<span data-ttu-id="1b099-164">**PeerDistServerOpenContentInformationEx**</span><span class="sxs-lookup"><span data-stu-id="1b099-164">**PeerDistServerOpenContentInformationEx**</span></span>](/windows/desktop/api/peerdist/nf-peerdist-peerdistserveropencontentinformationex)     | <span data-ttu-id="1b099-165">Abre um **\_ \_ identificador CONTENTINFO PEERDIST** para conteúdo publicado.</span><span class="sxs-lookup"><span data-stu-id="1b099-165">Opens a **PEERDIST\_CONTENTINFO\_HANDLE** for published content.</span></span>                                                                                                                                   |
| [<span data-ttu-id="1b099-166">**PeerDistServerRetrieveContentInformation**</span><span class="sxs-lookup"><span data-stu-id="1b099-166">**PeerDistServerRetrieveContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverretrievecontentinformation) | <span data-ttu-id="1b099-167">Recupera as informações de conteúdo associadas ao conteúdo publicado.</span><span class="sxs-lookup"><span data-stu-id="1b099-167">Retrieves the content information associated with published content.</span></span>                                                                                                                               |
| [<span data-ttu-id="1b099-168">**PeerDistServerCloseContentInformation**</span><span class="sxs-lookup"><span data-stu-id="1b099-168">**PeerDistServerCloseContentInformation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserverclosecontentinformation)       | <span data-ttu-id="1b099-169">**PEERDIST \_ CONTENTINFO o \_ identificador** aberto pelo [**PeerDistServerOpenContentInformation**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation).</span><span class="sxs-lookup"><span data-stu-id="1b099-169">**PEERDIST\_CONTENTINFO\_HANDLE** opened by [**PeerDistServerOpenContentInformation**](/windows/desktop/api/PeerDist/nf-peerdist-peerdistserveropencontentinformation).</span></span>                                                                  |
| [<span data-ttu-id="1b099-170">**PeerDistServerCancelAsyncOperation**</span><span class="sxs-lookup"><span data-stu-id="1b099-170">**PeerDistServerCancelAsyncOperation**</span></span>](/windows/desktop/api/PeerDist/nf-peerdist-peerdistservercancelasyncoperation)             | <span data-ttu-id="1b099-171">Cancela a operação assíncrona associada ao identificador de conteúdo e à estrutura [sobreposta](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) .</span><span class="sxs-lookup"><span data-stu-id="1b099-171">Cancels the asynchronous operation associated with the content identifier and [OVERLAPPED](/windows/win32/api/minwinbase/ns-minwinbase-overlapped) structure.</span></span>                                             |



 

 

 
