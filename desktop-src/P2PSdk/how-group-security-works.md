---
description: Os grupos de pares exigem que cada membro tenha um certificado específico, que é chamado de GMC (certificado de membro de grupo).
ms.assetid: 3966d4eb-4504-4b1e-9c9f-6eab7751d7ed
title: Como funciona a segurança de grupo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9d272e9a0567c6edc300a52cfa206305253ec5a2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103828407"
---
# <a name="how-group-security-works"></a><span data-ttu-id="46fcb-103">Como funciona a segurança de grupo</span><span class="sxs-lookup"><span data-stu-id="46fcb-103">How Group Security Works</span></span>

<span data-ttu-id="46fcb-104">Os grupos de pares exigem que cada membro tenha um certificado específico, que é chamado de GMC (certificado de membro de grupo).</span><span class="sxs-lookup"><span data-stu-id="46fcb-104">Peer groups require that each member have a specific certificate, which is called a Group Member Certificate (GMC).</span></span> <span data-ttu-id="46fcb-105">O certificado GMC garante que todos os registros trocados entre os pares sejam assinados digitalmente.</span><span class="sxs-lookup"><span data-stu-id="46fcb-105">The GMC certificate ensures that all records exchanged between peers are digitally signed.</span></span> <span data-ttu-id="46fcb-106">A chave pública de um par está contida nas estruturas que são passadas como parte da comunicação entre os pares, incluindo [**\_ \_ informações de credenciais de pares**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span><span class="sxs-lookup"><span data-stu-id="46fcb-106">The public key of a peer is contained in the structures that are passed as part of the communication between peers—including [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info).</span></span>

<span data-ttu-id="46fcb-107">Um GMC pode ser emitido em uma cadeia.</span><span class="sxs-lookup"><span data-stu-id="46fcb-107">A GMC can be issued in a chain.</span></span> <span data-ttu-id="46fcb-108">Por exemplo, um criador pode emitir um GMC para o administrador A, que pode emitir um GMC para o administrador B, que pode emitir um GMC para o membro M. A cadeia GMC resultante é: Creator->A->B->M, que tem um comprimento de 4.</span><span class="sxs-lookup"><span data-stu-id="46fcb-108">For example, a creator can issue a GMC to administrator A, who can issue a GMC to administrator B, who can issue a GMC to member M. The resulting GMC chain is: creator->A->B->M, which has a length of 4.</span></span> <span data-ttu-id="46fcb-109">O comprimento da cadeia é importante, pois não pode ser maior que 24.</span><span class="sxs-lookup"><span data-stu-id="46fcb-109">The chain length is important, because it cannot be longer than 24.</span></span> <span data-ttu-id="46fcb-110">Se o administrador do 24 em uma cadeia tentar emitir um GMC para um membro, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) ou [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) retornará o peer E a cadeia de par \_ \_ \_ muito \_ longo.</span><span class="sxs-lookup"><span data-stu-id="46fcb-110">If the 24th administrator in a chain attempts to issue a GMC to a member, [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) or [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) returns PEER\_E\_CHAIN\_TOO\_LONG.</span></span>

<span data-ttu-id="46fcb-111">Um GMC também pode ser emitido chamando [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span><span class="sxs-lookup"><span data-stu-id="46fcb-111">A GMC can also be issued by calling [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials).</span></span> <span data-ttu-id="46fcb-112">Um GMC implica a associação de usuário no grupo para o qual o GMC é emitido e pode ter um tempo de vida finito ou infinito.</span><span class="sxs-lookup"><span data-stu-id="46fcb-112">A GMC implies user membership in the group that the GMC is issued for, and can have a finite or infinite lifetime.</span></span> <span data-ttu-id="46fcb-113">A atividade do membro do grupo não pode ser maior do que o tempo de vida especificado no GMC.</span><span class="sxs-lookup"><span data-stu-id="46fcb-113">Group member activity cannot be longer than the lifetime specified in the GMC.</span></span>

> [!Note]  
> <span data-ttu-id="46fcb-114">O tempo de vida de GMC infinito está definido atualmente em 1000 anos.</span><span class="sxs-lookup"><span data-stu-id="46fcb-114">Infinite GMC lifetime is currently set at 1000 years.</span></span>

 

<span data-ttu-id="46fcb-115">A atividade do membro do grupo é limitada pelo tempo de vida do GMC e inclui o seguinte:</span><span class="sxs-lookup"><span data-stu-id="46fcb-115">Group member activity is limited by the GMC lifetime and includes the following:</span></span>

-   <span data-ttu-id="46fcb-116">**Operações de registro** – um par não pode publicar informações em um grupo após a associação do grupo expirar ou publicar registros que têm um tempo de vida maior do que o tempo de vida da Associação de grupo do par.</span><span class="sxs-lookup"><span data-stu-id="46fcb-116">**Record operations** - A peer cannot publish information in a group after the group membership expires, or publish records that have a lifetime longer than the peer's group membership lifetime.</span></span>
-   <span data-ttu-id="46fcb-117">**Operações de associação** -um administrador de grupo não pode emitir uma associação que tem um tempo de vida além da data especificada na associação de administrador de grupo.</span><span class="sxs-lookup"><span data-stu-id="46fcb-117">**Membership operations** - A group administrator cannot issue a membership that has a lifetime beyond the date specified in the group administrator membership.</span></span> <span data-ttu-id="46fcb-118">Por exemplo, se um administrador tiver 500 horas restantes em seu tempo de vida GMC, todas as associações emitidas deverão ser inferiores a 500 horas.</span><span class="sxs-lookup"><span data-stu-id="46fcb-118">For example, if an administrator has 500 hours remaining on its GMC lifetime, all memberships issued must be less than 500 hours.</span></span>

<span data-ttu-id="46fcb-119">Como um membro do grupo não pode ter um tempo de vida maior do que o administrador que convida esse membro do grupo, é recomendável que você defina o tempo de vida do GMC de um administrador como infinito ou um tempo de vida muito longo.</span><span class="sxs-lookup"><span data-stu-id="46fcb-119">Because a group member cannot have a lifetime longer than the administrator who invites that group member, it is recommended that you set the GMC lifetime of an administrator as infinite, or for a very long lifetime.</span></span> <span data-ttu-id="46fcb-120">Por padrão, o criador do grupo tem um tempo de vida infinito.</span><span class="sxs-lookup"><span data-stu-id="46fcb-120">The group creator has an infinite lifetime by default.</span></span>

## <a name="renewing-group-membership"></a><span data-ttu-id="46fcb-121">Renovando a associação de grupo</span><span class="sxs-lookup"><span data-stu-id="46fcb-121">Renewing Group Membership</span></span>

<span data-ttu-id="46fcb-122">Para renovar as credenciais de um administrador ou membro cujo tempo de vida GMC esteja pronto para expirar, você tem as duas opções a seguir:</span><span class="sxs-lookup"><span data-stu-id="46fcb-122">To renew the credentials of an administrator or member whose GMC lifetime is ready to expire, you have the following two options:</span></span>

-   <span data-ttu-id="46fcb-123">Chame [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) e passe a identidade do membro cujo tempo de vida está pronto para expirar.</span><span class="sxs-lookup"><span data-stu-id="46fcb-123">Call [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) and pass the identity of the member whose lifetime is ready to expire.</span></span> <span data-ttu-id="46fcb-124">Se as credenciais forem especificadas como **nulas** e as informações de associação do par estiverem disponíveis para o grupo, a hora da renovação será definida com a mesma duração especificada nas credenciais de membro publicadas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="46fcb-124">If the credentials are specified as **NULL** and the peer's membership information is available to the group, the renewal time is set to the same duration that is specified in the previously published member credentials.</span></span> <span data-ttu-id="46fcb-125">Se um período de duração diferente precisar ser especificado, uma nova estrutura de [**\_ \_ informações de credencial de par**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) deverá ser fornecida contendo a nova duração da vida útil e, em seguida, um novo GMC será publicado para o membro.</span><span class="sxs-lookup"><span data-stu-id="46fcb-125">If a different duration period must be specified, a new [**PEER\_CREDENTIAL\_INFO**](/windows/desktop/api/P2P/ns-p2p-peer_credential_info) structure must be provided that contains the new lifetime duration, and then a new GMC is published for the member.</span></span>

    <span data-ttu-id="46fcb-126">Opcionalmente, a função [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) usa o \_ sinalizador de credenciais de armazenamento de grupo par \_ \_ , que publica automaticamente as novas credenciais do membro no banco de dados do grupo.</span><span class="sxs-lookup"><span data-stu-id="46fcb-126">The [**PeerGroupIssueCredentials**](/windows/desktop/api/P2P/nf-p2p-peergroupissuecredentials) function optionally takes the PEER\_GROUP\_STORE\_CREDENTIALS flag, which automatically publishes the new credentials of the member in the group database.</span></span> <span data-ttu-id="46fcb-127">Quando o membro se conecta ao grupo da próxima vez, para a primeira vez ou depois de ficar offline, o membro Obtém o GMC atualizado do banco de dados.</span><span class="sxs-lookup"><span data-stu-id="46fcb-127">When the member connects to the group the next time, for either the first time or after going offline, the member obtains the updated GMC from the database.</span></span>

-   <span data-ttu-id="46fcb-128">Chame [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) para passar a identidade do membro cujo tempo de vida de GMC está pronto para expirar.</span><span class="sxs-lookup"><span data-stu-id="46fcb-128">Call [**PeerGroupCreateInvitation**](/windows/desktop/api/P2P/nf-p2p-peergroupcreateinvitation) to pass the identity of the member whose GMC lifetime is ready to expire.</span></span> <span data-ttu-id="46fcb-129">Se a expiração especificada no convite for **nula**, a duração do tempo de vida da GMC será a mesma que a GMC do administrador que emite a associação.</span><span class="sxs-lookup"><span data-stu-id="46fcb-129">If the expiration specified in the invitation is **NULL**, the lifetime duration of the GMC is the same as the administrator GMC who issues membership.</span></span> <span data-ttu-id="46fcb-130">Se o criador especificar a expiração como **NULL**, um GMC com um tempo de vida infinito será emitido.</span><span class="sxs-lookup"><span data-stu-id="46fcb-130">If the creator specifies the expiration as **NULL**, a GMC with an infinite lifetime is issued.</span></span>

    <span data-ttu-id="46fcb-131">Se um par receber um GMC que expira antes do valor de tempo de vida da presença, os endereços do par não estarão disponíveis nas estruturas de [**\_ membro de par**](/windows/desktop/api/P2P/ns-p2p-peer_member) retornadas na enumeração iniciada por uma chamada para [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span><span class="sxs-lookup"><span data-stu-id="46fcb-131">If a peer is issued a GMC that expires before the presence lifetime value, the addresses of the peer are not available in the [**PEER\_MEMBER**](/windows/desktop/api/P2P/ns-p2p-peer_member) structures returned in the enumeration initiated by a call to [**PeerGroupEnumMembers**](/windows/desktop/api/P2P/nf-p2p-peergroupenummembers).</span></span> <span data-ttu-id="46fcb-132">Isso acontece porque as informações de presença não são publicadas nesse caso, mesmo que o \_ sinalizador de presença de desabilitação de pares \_ não esteja definido.</span><span class="sxs-lookup"><span data-stu-id="46fcb-132">This happens because presence information is not published in this case, even if the PEER\_DISABLE\_PRESENCE flag is not set.</span></span>

 

 



