---
title: Namespaces de objeto kernel
description: Serviços de Área de Trabalho Remota usa vários namespaces para objetos kernel; um namespace global é usado principalmente por serviços em aplicativos cliente/servidor.
ms.assetid: 771e0bbf-bd73-4e87-aa1e-945c1287b517
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 20680a32c8b35e3fa2f1ab15c732683d424550f0
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "105810976"
---
# <a name="kernel-object-namespaces"></a><span data-ttu-id="58655-103">Namespaces de objeto kernel</span><span class="sxs-lookup"><span data-stu-id="58655-103">Kernel object namespaces</span></span>

<span data-ttu-id="58655-104">Um servidor Serviços de Área de Trabalho Remota tem vários namespaces para os seguintes objetos kernel nomeados: eventos, semáforos, exclusões mútuas, temporizadores de espera, objetos de mapeamento de arquivo e objetos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="58655-104">A Remote Desktop Services server has multiple namespaces for the following named kernel objects: events, semaphores, mutexes, waitable timers, file-mapping objects, and job objects.</span></span> <span data-ttu-id="58655-105">Há um namespace global usado principalmente por serviços em aplicativos cliente/servidor.</span><span class="sxs-lookup"><span data-stu-id="58655-105">There is a global namespace used primarily by services in client/server applications.</span></span> <span data-ttu-id="58655-106">Além disso, cada sessão de cliente tem um namespace separado para esses objetos, como no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="58655-106">In addition, each client session has a separate namespace for these objects, such as in Windows Vista.</span></span>

<span data-ttu-id="58655-107">Os namespaces de sessão de cliente separados permitem que vários clientes executem os mesmos aplicativos sem interferir uns com os outros.</span><span class="sxs-lookup"><span data-stu-id="58655-107">The separate client session namespaces enable multiple clients to run the same applications without interfering with each other.</span></span> <span data-ttu-id="58655-108">Para processos iniciados em uma sessão de cliente, o sistema usa o namespace de sessão por padrão.</span><span class="sxs-lookup"><span data-stu-id="58655-108">For processes started under a client session, the system uses the session namespace by default.</span></span> <span data-ttu-id="58655-109">No entanto, esses processos podem usar o namespace global, \\ prefixando o prefixo "global" para o nome do objeto.</span><span class="sxs-lookup"><span data-stu-id="58655-109">However, these processes can use the global namespace by prepending the "Global\\" prefix to the object name.</span></span> <span data-ttu-id="58655-110">Por exemplo, o código a seguir chama [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) e cria um objeto de evento chamado CSAPP no namespace global:</span><span class="sxs-lookup"><span data-stu-id="58655-110">For example, the following code calls [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) and creates an event object named CSAPP in the global namespace:</span></span>

> [!Note]  
> <span data-ttu-id="58655-111">O namespace global não está disponível para aplicativos da Windows Store.</span><span class="sxs-lookup"><span data-stu-id="58655-111">The global namespace is not available for Windows Store apps.</span></span>

 

`CreateEvent( NULL, FALSE, FALSE, "Global\\CSAPP" );`

<span data-ttu-id="58655-112">Os aplicativos de serviço em um ambiente de Serviços de Área de Trabalho Remota usam o namespace global por padrão.</span><span class="sxs-lookup"><span data-stu-id="58655-112">Service applications in a Remote Desktop Services environment use the global namespace by default.</span></span>

<span data-ttu-id="58655-113">A sessão zero só é usada para hospedar serviços, e não há nenhuma sessão de console, ao contrário das versões anteriores do Windows.</span><span class="sxs-lookup"><span data-stu-id="58655-113">Session zero is only used for hosting services, and there is no console session, unlike previous versions of Windows.</span></span>

<span data-ttu-id="58655-114">O namespace global permite que processos em várias sessões de cliente se comuniquem com um aplicativo de serviço.</span><span class="sxs-lookup"><span data-stu-id="58655-114">The global namespace enables processes on multiple client sessions to communicate with a service application.</span></span> <span data-ttu-id="58655-115">Por exemplo, um aplicativo cliente/servidor pode usar um objeto mutex para sincronização.</span><span class="sxs-lookup"><span data-stu-id="58655-115">For example, a client/server application might use a mutex object for synchronization.</span></span> <span data-ttu-id="58655-116">O módulo de servidor pode criar o objeto mutex no namespace global.</span><span class="sxs-lookup"><span data-stu-id="58655-116">The server module can create the mutex object in the global namespace.</span></span> <span data-ttu-id="58655-117">Em seguida, uma sessão de cliente pode usar o prefixo "global \\ " para abrir o objeto mutex.</span><span class="sxs-lookup"><span data-stu-id="58655-117">Then a client session can use the "Global\\" prefix to open the mutex object.</span></span>

<span data-ttu-id="58655-118">Outro uso do namespace global é para aplicativos que usam objetos nomeados para detectar que já existe uma instância do aplicativo em execução no sistema em todas as sessões.</span><span class="sxs-lookup"><span data-stu-id="58655-118">Another use of the global namespace is for applications that use named objects to detect that there is already an instance of the application running in the system across all sessions.</span></span> <span data-ttu-id="58655-119">Esse objeto nomeado deve ser criado ou aberto no namespace global em vez do namespace por sessão.</span><span class="sxs-lookup"><span data-stu-id="58655-119">This named object must be created or opened in the global namespace instead of the per-session namespace.</span></span> <span data-ttu-id="58655-120">O caso mais comum de executar o aplicativo uma vez por sessão tem suporte por padrão, pois o objeto nomeado é criado em um namespace por sessão.</span><span class="sxs-lookup"><span data-stu-id="58655-120">The more common case of running the application once per session is supported by default because the named object is created in a per session namespace.</span></span>

<span data-ttu-id="58655-121">Além do prefixo "global \\ ", os processos de cliente podem usar o prefixo "local \\ " para criar explicitamente um objeto em seu namespace de sessão.</span><span class="sxs-lookup"><span data-stu-id="58655-121">In addition to the "Global\\" prefix, client processes can use the "Local\\" prefix to explicitly create an object in their session namespace.</span></span> <span data-ttu-id="58655-122">Essas palavras-chave diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="58655-122">These keywords are case sensitive.</span></span>

<span data-ttu-id="58655-123">O prefixo "session \\ " é reservado para uso do sistema e você não deve usá-lo em nomes de objetos kernel.</span><span class="sxs-lookup"><span data-stu-id="58655-123">The "Session\\" prefix is reserved for system use and you should not use it in names of kernel objects.</span></span>

<span data-ttu-id="58655-124">A troca rápida de usuário é implementada usando sessões Serviços de Área de Trabalho Remota.</span><span class="sxs-lookup"><span data-stu-id="58655-124">Fast user switching is implemented by using Remote Desktop Services sessions.</span></span> <span data-ttu-id="58655-125">O primeiro usuário a fazer logon usa a sessão um, o próximo usuário a fazer logon usa a sessão dois e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="58655-125">The first user to log on uses session one, the next user to log on uses session two, and so on.</span></span> <span data-ttu-id="58655-126">Os nomes de objeto de kernel devem seguir as diretrizes descritas para Serviços de Área de Trabalho Remota para que os aplicativos possam dar suporte a vários usuários.</span><span class="sxs-lookup"><span data-stu-id="58655-126">Kernel object names must follow the guidelines outlined for Remote Desktop Services so that applications can support multiple users.</span></span>

<span data-ttu-id="58655-127">A criação de um objeto de mapeamento de arquivo no namespace global, usando [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), de uma sessão diferente da sessão zero é uma operação privilegiada.</span><span class="sxs-lookup"><span data-stu-id="58655-127">The creation of a file-mapping object in the global namespace, by using [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), from a session other than session zero is a privileged operation.</span></span> <span data-ttu-id="58655-128">Por isso, um aplicativo em execução em uma sessão de servidor Host da Sessão da Área de Trabalho Remota (Host da Sessão RD) arbitrária deve ter o [SeCreateGlobalPrivilege](/windows/desktop/SecAuthZ/authorization-constants) habilitado para criar um objeto de mapeamento de arquivo no namespace global com êxito.</span><span class="sxs-lookup"><span data-stu-id="58655-128">Because of this, an application running in an arbitrary Remote Desktop Session Host (RD Session Host) server session must have [SeCreateGlobalPrivilege](/windows/desktop/SecAuthZ/authorization-constants) enabled in order to create a file-mapping object in the global namespace successfully.</span></span> <span data-ttu-id="58655-129">A verificação de privilégio é limitada à criação de objetos de mapeamento de arquivos e não se aplica à abertura de existentes.</span><span class="sxs-lookup"><span data-stu-id="58655-129">The privilege check is limited to the creation of file-mapping objects, and does not apply to opening existing ones.</span></span> <span data-ttu-id="58655-130">Por exemplo, se um serviço ou o sistema criar um objeto de mapeamento de arquivo, qualquer processo em execução em qualquer sessão poderá acessar esse objeto de mapeamento de arquivo, desde que o usuário tenha o acesso necessário.</span><span class="sxs-lookup"><span data-stu-id="58655-130">For example, if a service or the system creates a file-mapping object, any process running in any session can access that file-mapping object provided that the user has the necessary access.</span></span>

 

 