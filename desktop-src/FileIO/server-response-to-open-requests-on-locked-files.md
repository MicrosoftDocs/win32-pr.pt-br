---
description: Você pode minimizar o impacto que seu aplicativo tem em outros clientes e o impacto que eles têm em seu aplicativo concedendo o máximo de compartilhamento possível, solicitando o nível mínimo de acesso necessário e usando o bloqueio oportunista menos intrusivo adequado para seu aplicativo.
ms.assetid: c28b0ae0-0d35-4b59-9f54-87c55ca72716
title: Resposta do servidor para abrir solicitações em arquivos bloqueados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8d397613f6b54f2b42c26a5674a787b796f5f19e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104501924"
---
# <a name="server-response-to-open-requests-on-locked-files"></a><span data-ttu-id="0f265-103">Resposta do servidor para abrir solicitações em arquivos bloqueados</span><span class="sxs-lookup"><span data-stu-id="0f265-103">Server Response to Open Requests on Locked Files</span></span>

<span data-ttu-id="0f265-104">A vida útil de um bloqueio oportunista inclui três intervalos de tempo distintos.</span><span class="sxs-lookup"><span data-stu-id="0f265-104">The life of an opportunistic lock includes three distinct time spans.</span></span> <span data-ttu-id="0f265-105">Durante cada um, o servidor determina por diferentes significa sua reação a uma solicitação de um cliente para abrir um arquivo bloqueado por outro cliente.</span><span class="sxs-lookup"><span data-stu-id="0f265-105">During each, the server determines by different means its reaction to a request from a client to open a file locked by another client.</span></span> <span data-ttu-id="0f265-106">Em geral, você pode minimizar o impacto que seu aplicativo tem em outros clientes e o impacto que eles têm em seu aplicativo concedendo o máximo de compartilhamento possível, solicitando o nível mínimo de acesso necessário e usando o bloqueio oportunista menos intrusivo adequado para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0f265-106">In general, you can minimize the impact your application has on other clients and the impact they have on your application by granting as much sharing as possible, requesting the minimum access level necessary, and using the least intrusive opportunistic lock suitable for your application.</span></span>

<span data-ttu-id="0f265-107">O primeiro é o período após o servidor abrir um arquivo para um cliente, mas antes de conceder um bloqueio.</span><span class="sxs-lookup"><span data-stu-id="0f265-107">First is the period after the server opens a file for a client but before it grants a lock.</span></span> <span data-ttu-id="0f265-108">Durante esse tempo, nenhum bloqueio existe no arquivo e o servidor depende do compartilhamento, dos modos de acesso e do tipo de bloqueio oportunista solicitado para determinar sua reação a outra solicitação para abrir o mesmo arquivo.</span><span class="sxs-lookup"><span data-stu-id="0f265-108">During this time, no lock exists on the file, and the server depends on sharing, access modes, and the type of opportunistic lock you request to determine its reaction to another request to open the same file.</span></span> <span data-ttu-id="0f265-109">Por exemplo, se você abrir o arquivo em questão para acesso de gravação, poderá inibir a concessão de bloqueios oportunistas que permitem o acesso de cache de leitura a outros clientes.</span><span class="sxs-lookup"><span data-stu-id="0f265-109">For example, if you open the file in question for write access, you may inhibit granting opportunistic locks that allow read caching access to other clients.</span></span> <span data-ttu-id="0f265-110">O período de tempo antes que o servidor conceda um bloqueio normalmente está no intervalo de milissegundos, mas pode ser mais longo.</span><span class="sxs-lookup"><span data-stu-id="0f265-110">The time span before the server grants a lock is typically in the millisecond range but may be longer.</span></span>

<span data-ttu-id="0f265-111">Depois que o bloqueio oportunista é concedido, o servidor examina o bloqueio para determinar a reação do servidor a uma solicitação aberta em um arquivo bloqueado.</span><span class="sxs-lookup"><span data-stu-id="0f265-111">After the opportunistic lock is granted, the server examines the lock to determine server reaction to an open request on a locked file.</span></span> <span data-ttu-id="0f265-112">Novamente, como o aplicativo abriu o arquivo e o tipo de bloqueio que ele mantém afeta o modo como o servidor responde.</span><span class="sxs-lookup"><span data-stu-id="0f265-112">Again, how your application opened the file and the type of lock it holds affects how the server responds.</span></span> <span data-ttu-id="0f265-113">Para obter mais informações sobre como o servidor responde em cada caso, consulte [tipos de bloqueios oportunistas](types-of-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="0f265-113">For more information on how the server responds in each case, see [Types of Opportunistic Locks](types-of-opportunistic-locks.md).</span></span>

<span data-ttu-id="0f265-114">Por fim, há a extensão após o servidor determinar que o bloqueio deve ser quebrado (encerrado), mas antes de o aplicativo concluir sua reação à interrupção.</span><span class="sxs-lookup"><span data-stu-id="0f265-114">Finally, there is the span after the server determines that your lock should be broken (ended) but before your application completes its reaction to the break.</span></span> <span data-ttu-id="0f265-115">Dependendo do tipo de bloqueio, seu aplicativo pode fazer o downgrade do bloqueio para um nível inferior ou nenhum.</span><span class="sxs-lookup"><span data-stu-id="0f265-115">Depending on the type of lock, your application can downgrade the lock to a lower level or to none at all.</span></span> <span data-ttu-id="0f265-116">Seu aplicativo também pode fechar o arquivo e o bloqueio.</span><span class="sxs-lookup"><span data-stu-id="0f265-116">Your application can also close the file and the lock.</span></span> <span data-ttu-id="0f265-117">Durante esse tempo, o servidor mantém no abeyance todas as solicitações de outros clientes para abrir o arquivo anteriormente bloqueado.</span><span class="sxs-lookup"><span data-stu-id="0f265-117">During this time, the server holds in abeyance any requests from other clients to open the formerly locked file.</span></span> <span data-ttu-id="0f265-118">Esse período de tempo pode variar de milissegundos a dezenas de segundos.</span><span class="sxs-lookup"><span data-stu-id="0f265-118">This time span may range from milliseconds to tens of seconds.</span></span> <span data-ttu-id="0f265-119">Para obter mais informações, consulte [interrompendo os bloqueios oportunistas](breaking-opportunistic-locks.md).</span><span class="sxs-lookup"><span data-stu-id="0f265-119">For more information, see [Breaking Opportunistic Locks](breaking-opportunistic-locks.md).</span></span>

 

 



