---
description: Antes de acessar arquivos e diretórios em um determinado volume, você deve determinar os recursos do sistema de arquivos usando a função GetVolumeInformation.
ms.assetid: 008e0cc4-bc12-47e8-a8b7-d4fa9395fceb
title: Obtendo informações de volume
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8fc5323c3f82db1115a81902f156e9366abad31e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104501986"
---
# <a name="obtaining-volume-information"></a><span data-ttu-id="5ad9f-103">Obtendo informações de volume</span><span class="sxs-lookup"><span data-stu-id="5ad9f-103">Obtaining Volume Information</span></span>

<span data-ttu-id="5ad9f-104">A função [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) recupera informações sobre o sistema de arquivos em um determinado volume.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-104">The [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) function retrieves information about the file system on a given volume.</span></span> <span data-ttu-id="5ad9f-105">Essas informações incluem o nome do volume, o número de série do volume, o nome do sistema de arquivos, os sinalizadores do sistema de arquivos, o comprimento máximo de um nome de arquivo e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-105">This information includes the volume name, volume serial number, file system name, file system flags, maximum length of a file name, and so on.</span></span> <span data-ttu-id="5ad9f-106">Antes de acessar arquivos e diretórios em um determinado volume, você deve determinar os recursos do sistema de arquivos usando a função [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) .</span><span class="sxs-lookup"><span data-stu-id="5ad9f-106">Before you access files and directories on a given volume, you should determine the capabilities of the file system by using the [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) function.</span></span> <span data-ttu-id="5ad9f-107">Essa função retorna valores que você pode usar para adaptar seu aplicativo para trabalhar com eficiência com o sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-107">This function returns values that you can use to adapt your application to work effectively with the file system.</span></span>

<span data-ttu-id="5ad9f-108">Em geral, você deve evitar o uso de buffers estáticos para nomes de arquivos e caminhos.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-108">In general, you should avoid using static buffers for file names and paths.</span></span> <span data-ttu-id="5ad9f-109">Em vez disso, use os valores retornados por [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) para alocar buffers conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-109">Instead, use the values returned by [**GetVolumeInformation**](/windows/desktop/api/FileAPI/nf-fileapi-getvolumeinformationa) to allocate buffers as you need them.</span></span> <span data-ttu-id="5ad9f-110">Se você precisar usar buffers estáticos, Reserve 256 caracteres para nomes de arquivo e 260 caracteres para caminhos.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-110">If you must use static buffers, reserve 256 characters for file names and 260 characters for paths.</span></span>

<span data-ttu-id="5ad9f-111">As funções [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya) e [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) recuperam os caminhos para o diretório do sistema e o diretório do Windows, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-111">The [**GetSystemDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getsystemdirectorya) and [**GetWindowsDirectory**](/windows/desktop/api/sysinfoapi/nf-sysinfoapi-getwindowsdirectorya) functions retrieve the paths to the system directory and the Windows directory, respectively.</span></span>

<span data-ttu-id="5ad9f-112">A função [**GetDiskFreeSpace**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespacea) recupera informações organizacionais sobre um volume, incluindo o número de bytes por setor, o número de setores por cluster, o número de clusters livres e o número total de clusters.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-112">The [**GetDiskFreeSpace**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespacea) function retrieves organizational information about a volume, including the number of bytes per sector, the number of sectors per cluster, the number of free clusters, and the total number of clusters.</span></span> <span data-ttu-id="5ad9f-113">No entanto, **GetDiskFreeSpace** não pode relatar tamanhos de volume maiores que 2 GB.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-113">However, **GetDiskFreeSpace** cannot report volume sizes that are greater than 2 GB.</span></span> <span data-ttu-id="5ad9f-114">Para garantir que seu aplicativo funcione com discos rígidos de grande capacidade, use a função [**GetDiskFreeSpaceEx**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespaceexa) .</span><span class="sxs-lookup"><span data-stu-id="5ad9f-114">To ensure that your application works with large capacity hard drives, use the [**GetDiskFreeSpaceEx**](/windows/desktop/api/FileAPI/nf-fileapi-getdiskfreespaceexa) function.</span></span>

<span data-ttu-id="5ad9f-115">A função [**GetDriveType**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) indica se o volume referenciado pela letra da unidade especificada é uma unidade removível, fixa, CD-ROM, RAM ou rede.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-115">The [**GetDriveType**](/windows/desktop/api/FileAPI/nf-fileapi-getdrivetypea) function indicates whether the volume referenced by the specified drive letter is a removable, fixed, CD-ROM, RAM, or network drive.</span></span>

<span data-ttu-id="5ad9f-116">A função [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) identifica os volumes presentes.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-116">The [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) function identifies the volumes present.</span></span> <span data-ttu-id="5ad9f-117">A função [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw) recupera uma cadeia de caracteres terminada em nulo para cada volume presente.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-117">The [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw) function retrieves a null-terminated string for each volume present.</span></span> <span data-ttu-id="5ad9f-118">Use essas cadeias de caracteres sempre que um diretório raiz for necessário.</span><span class="sxs-lookup"><span data-stu-id="5ad9f-118">Use these strings whenever a root directory is required.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5ad9f-119">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5ad9f-119">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5ad9f-120">Reconhecimento do sistema de arquivos</span><span class="sxs-lookup"><span data-stu-id="5ad9f-120">File System Recognition</span></span>](file-system-recognition.md)
</dt> </dl>

 

 
