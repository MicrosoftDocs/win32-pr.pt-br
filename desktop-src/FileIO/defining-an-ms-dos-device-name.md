---
description: Um nome de dispositivo MS-DOS é uma junção que aponta para o caminho de um dispositivo MS-DOS. Essas junções compõem o namespace do dispositivo MS-DOS.
ms.assetid: 7d802e9f-dc09-4e3d-b064-e9b57af396e2
title: Definindo um nome de dispositivo MS-DOS
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ed89e1d9938e320ecce3ff0b35b8ae0792fe219
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105812959"
---
# <a name="defining-an-ms-dos-device-name"></a><span data-ttu-id="eaf9d-104">Definindo um nome de dispositivo MS-DOS</span><span class="sxs-lookup"><span data-stu-id="eaf9d-104">Defining an MS-DOS Device Name</span></span>

<span data-ttu-id="eaf9d-105">Um nome de dispositivo MS-DOS é uma junção que aponta para o caminho de um dispositivo MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-105">An MS-DOS device name is a junction that points to the path of an MS-DOS device.</span></span> <span data-ttu-id="eaf9d-106">Essas junções compõem o namespace do dispositivo MS-DOS.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-106">These junctions make up the MS-DOS device namespace.</span></span> <span data-ttu-id="eaf9d-107">Chame as funções [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) e [**SetVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-setvolumemountpointa) para criar e modificar essas junções.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-107">Call the [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) and [**SetVolumeMountPoint**](/windows/desktop/api/WinBase/nf-winbase-setvolumemountpointa) functions to create and modify these junctions.</span></span> <span data-ttu-id="eaf9d-108">[**DeleteVolumeMountPoint**](/windows/desktop/api/FileAPI/nf-fileapi-deletevolumemountpointw) exclui uma junção criada por **SetVolumeMountPoint** e **DefineDosDevice** exclui as junções que ele cria.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-108">[**DeleteVolumeMountPoint**](/windows/desktop/api/FileAPI/nf-fileapi-deletevolumemountpointw) deletes a junction created by **SetVolumeMountPoint**, and **DefineDosDevice** deletes junctions it creates.</span></span>

<span data-ttu-id="eaf9d-109">Depois que um nome de dispositivo MS-DOS é definido, ele permanece visível para todos os processos.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-109">After an MS-DOS device name is defined, it remains visible to all processes.</span></span>

-   <span data-ttu-id="eaf9d-110">Todos os dispositivos MS-DOS são identificados pelo Windows por meio de uma ID de autenticação.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-110">All MS-DOS devices are identified by Windows through an authentication ID.</span></span> <span data-ttu-id="eaf9d-111">Uma ID de autenticação é a LUID (identificador local exclusivo) associada a cada sessão de logon quando criada.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-111">An authentication ID is the LUID (locally unique identifier) associated with each logon session when created.</span></span>
-   <span data-ttu-id="eaf9d-112">A visibilidade de um nome de dispositivo MS-DOS é categorizada como global ou local e é definida como tal por sua inclusão nos namespaces globais do dispositivo MS-DOS e do dispositivo MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-112">The visibility of an MS-DOS device name is categorized as either global or local, and is defined as such by its inclusion in the Global MS-DOS Device and Local MS-DOS Device namespaces.</span></span> <span data-ttu-id="eaf9d-113">O conteúdo de dispositivos MS-DOS no namespace global pode ser acessado por todos os usuários, e o conteúdo de dispositivos MS-DOS no namespace local pode ser acessado somente pelo usuário cujo token de acesso contém a Authenticationid associada ao namespace do dispositivo MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-113">The contents of MS-DOS devices in the Global namespace can be accessed by all users, and the contents of MS-DOS devices in the Local namespace can be accessed only by the user whose access token contains the AuthenticationID associated with that Local MS-DOS device namespace.</span></span>

<span data-ttu-id="eaf9d-114">Vários namespaces de dispositivo do MS-DOS local e somente um namespace de dispositivo MS-DOS global podem existir ao mesmo tempo e em um computador.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-114">Multiple Local MS-DOS Device namespaces and only one Global MS-DOS Device namespace may exist at one time and on one machine.</span></span>

<span data-ttu-id="eaf9d-115">Observe que somente os processos em execução no contexto LocalSystem podem chamar [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) para criar um dispositivo MS-dos no namespace global do dispositivo MS-dos.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-115">Note that only processes running in the LocalSystem context can call [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) to create an MS-DOS device in the Global MS-DOS device namespace.</span></span> <span data-ttu-id="eaf9d-116">Além disso, o namespace do dispositivo MS-DOS local correspondente a uma Authenticationid específica é excluído quando a última referência a esse Authenticationid é removida.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-116">Also, the Local MS-DOS device namespace corresponding to a specific AuthenticationID is deleted when the last reference to that AuthenticationID is removed.</span></span>

<span data-ttu-id="eaf9d-117">Quando o código consulta um nome de dispositivo MS-DOS existente chamando [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew), ele primeiro pesquisa o namespace do dispositivo MS-dos local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-117">When your code queries an existing MS-DOS device name by calling [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew), it first searches the Local MS-DOS Device namespace.</span></span> <span data-ttu-id="eaf9d-118">Se não for encontrado lá, a função pesquisará o namespace de dispositivo MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-118">If it is not found there, the function will then search the Global MS-DOS Device namespace.</span></span> <span data-ttu-id="eaf9d-119">Quando o código consulta todos os nomes de dispositivo MS-DOS existentes por meio dessa função, a lista de nomes retornados depende de se ele está em execução no contexto LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-119">When your code queries all existing MS-DOS device names through this function, the list of names that are returned is dependent on whether it is running in the LocalSystem context.</span></span> <span data-ttu-id="eaf9d-120">Nesse caso, somente os nomes de dispositivo MS-DOS incluídos no namespace de dispositivo MS-DOS global serão retornados.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-120">If so, only the MS-DOS device names included in the Global MS-DOS Device namespace will be returned.</span></span> <span data-ttu-id="eaf9d-121">Caso contrário, uma concatenação dos nomes de dispositivo nos namespaces de dispositivo MS-DOS global e local será retornada.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-121">If not, a concatenation of the device names in the Global and Local MS-DOS Device namespaces will be returned.</span></span> <span data-ttu-id="eaf9d-122">Se existir um nome de dispositivo em ambos os namespaces, **QueryDosDevice** retornará a entrada no namespace do dispositivo MS-dos local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-122">If a device name exists in both namespaces, **QueryDosDevice** will return the entry in the Local MS-DOS Device namespace.</span></span> <span data-ttu-id="eaf9d-123">Isso também se aplica à lista de todos os nomes de dispositivo MS-DOS retornados por [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) e [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw).</span><span class="sxs-lookup"><span data-stu-id="eaf9d-123">This also applies to the list of all MS-DOS device names returned by [**GetLogicalDrives**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrives) and [**GetLogicalDriveStrings**](/windows/desktop/api/FileAPI/nf-fileapi-getlogicaldrivestringsw).</span></span>

<span data-ttu-id="eaf9d-124">Observe que o cenário a seguir pode ocorrer:</span><span class="sxs-lookup"><span data-stu-id="eaf9d-124">Note that the following scenario may occur:</span></span>

1.  <span data-ttu-id="eaf9d-125">O usuário A, que não está sendo executado no contexto LocalSystem, cria um nome de dispositivo no namespace de dispositivo do MS-DOS local correspondente e esse nome de dispositivo não existe no namespace de dispositivo MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-125">User A, who is not running within the LocalSystem context, creates a device name in the corresponding Local MS-DOS Device namespace, and that device name does not exist in the Global MS-DOS Device namespace.</span></span>
2.  <span data-ttu-id="eaf9d-126">O usuário B, que está executando no contexto LocalSystem, cria o mesmo nome de dispositivo no namespace de dispositivo MS-DOS global.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-126">User B, who is running within the LocalSystem context, creates the same device name in the Global MS-DOS Device namespace.</span></span>

<span data-ttu-id="eaf9d-127">Nesse cenário, o usuário A não terá acesso ao nome do dispositivo no namespace do dispositivo MS-DOS global até que ele remova ou renomeie o nome do dispositivo em seu namespace de dispositivo MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-127">In this scenario, User A will not have access to the device name in the Global MS-DOS Device namespace until he or she removes or renames the device name in his or her Local MS-DOS Device namespace.</span></span> <span data-ttu-id="eaf9d-128">Para reduzir a probabilidade de ocorrer esse cenário, as letras de unidade do MS-DOS devem ser alocadas no namespace de dispositivo MS-DOS global, começando com C: e terminando com Z:.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-128">To reduce the likelihood of this scenario occurring, MS-DOS drive letters should be allocated in the Global MS-DOS Device namespace starting with C: and ending with Z:.</span></span> <span data-ttu-id="eaf9d-129">Essa sequência deve ser revertida para a alocação de letras de unidade do MS-DOS no namespace do dispositivo MS-DOS local.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-129">This sequence should be reversed for the allocation of MS-DOS drive letters in the Local MS-DOS Device namespace.</span></span>

<span data-ttu-id="eaf9d-130">Se você não estiver executando no contexto LocalSystem, o [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) não permitirá que você defina um nome de dispositivo no namespace do dispositivo MS-dos local se esse nome de dispositivo já existir em seus namespaces de dispositivo MS-dos local ou global.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-130">If you are not running within the LocalSystem context, [**DefineDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-definedosdevicew) will not allow you to define a device name in the Local MS-DOS Device namespace if that device name already exists in your Local or Global MS-DOS Device namespaces.</span></span> <span data-ttu-id="eaf9d-131">Chame [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew) antes de chamar **DefineDosDevice** para determinar se o nome do dispositivo que você pretende definir existe em seus namespaces de dispositivo do MS-dos.</span><span class="sxs-lookup"><span data-stu-id="eaf9d-131">Call [**QueryDosDevice**](/windows/desktop/api/FileAPI/nf-fileapi-querydosdevicew) before calling **DefineDosDevice** to determine whether the device name you intend to define exists in your MS-DOS Device namespaces.</span></span>

## <a name="related-topics"></a><span data-ttu-id="eaf9d-132">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="eaf9d-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="eaf9d-133">Nomeando arquivos, caminhos e namespaces</span><span class="sxs-lookup"><span data-stu-id="eaf9d-133">Naming Files, Paths, and Namespaces</span></span>](naming-a-file.md)
</dt> </dl>

 

 



