---
description: Todas as informações sobre um arquivo, incluindo seu tamanho, carimbos de data e hora, permissões e conteúdo de dados, são armazenadas em entradas de MFT (tabela de arquivos mestre) ou em espaço fora do MFT que é descrito pelas entradas de MFT.
ms.assetid: e0933846-278e-4bc8-8982-c5819c252dad
title: Tabela de arquivos mestre (sistemas de arquivos locais)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 260740c03e7b7e4ebe9c7e8ec90035431f6be649
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105769353"
---
# <a name="master-file-table-local-file-systems"></a><span data-ttu-id="42132-103">Tabela de arquivos mestre (sistemas de arquivos locais)</span><span class="sxs-lookup"><span data-stu-id="42132-103">Master File Table (Local File Systems)</span></span>

<span data-ttu-id="42132-104">O sistema de arquivos NTFS contém um arquivo chamado *tabela de arquivos mestre* ou MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-104">The NTFS file system contains a file called the *master file table*, or MFT.</span></span> <span data-ttu-id="42132-105">Há pelo menos uma entrada no MFT para cada arquivo em um volume do sistema de arquivos NTFS, incluindo o próprio MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-105">There is at least one entry in the MFT for every file on an NTFS file system volume, including the MFT itself.</span></span> <span data-ttu-id="42132-106">Todas as informações sobre um arquivo, incluindo seu tamanho, carimbos de data e hora, permissões e conteúdo de dados, são armazenadas em entradas de MFT ou em espaço fora do MFT que é descrito pelas entradas de MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-106">All information about a file, including its size, time and date stamps, permissions, and data content, is stored either in MFT entries, or in space outside the MFT that is described by MFT entries.</span></span>

<span data-ttu-id="42132-107">À medida que os arquivos são adicionados a um volume do sistema de arquivos NTFS, mais entradas são adicionadas à MFT e o tamanho da MFT aumenta.</span><span class="sxs-lookup"><span data-stu-id="42132-107">As files are added to an NTFS file system volume, more entries are added to the MFT and the MFT increases in size.</span></span> <span data-ttu-id="42132-108">Quando os arquivos são excluídos de um volume do sistema de arquivos NTFS, suas entradas de MFT são marcadas como livres e podem ser reutilizadas.</span><span class="sxs-lookup"><span data-stu-id="42132-108">When files are deleted from an NTFS file system volume, their MFT entries are marked as free and may be reused.</span></span> <span data-ttu-id="42132-109">No entanto, o espaço em disco que foi alocado para essas entradas não é realocado e o tamanho da MFT não diminui.</span><span class="sxs-lookup"><span data-stu-id="42132-109">However, disk space that has been allocated for these entries is not reallocated, and the size of the MFT does not decrease.</span></span>

<span data-ttu-id="42132-110">O sistema de arquivos NTFS reserva espaço para o MFT manter a MFT o mais contíguo possível à medida que ela aumenta.</span><span class="sxs-lookup"><span data-stu-id="42132-110">The NTFS file system reserves space for the MFT to keep the MFT as contiguous as possible as it grows.</span></span> <span data-ttu-id="42132-111">O espaço reservado pelo sistema de arquivos NTFS para o MFT em cada volume é chamado de zona MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-111">The space reserved by the NTFS file system for the MFT in each volume is called the MFT zone.</span></span> <span data-ttu-id="42132-112">O espaço para arquivos e diretórios também é alocado a partir desse espaço, mas somente depois que todo o espaço do volume fora da zona MFT tiver sido alocado.</span><span class="sxs-lookup"><span data-stu-id="42132-112">Space for file and directories are also allocated from this space, but only after all of the volume space outside of the MFT zone has been allocated.</span></span>

<span data-ttu-id="42132-113">Dependendo do tamanho médio do arquivo e de outras variáveis, a zona MFT reservada ou o espaço não reservado no disco pode ser alocado primeiro, pois o disco preenche a capacidade.</span><span class="sxs-lookup"><span data-stu-id="42132-113">Depending on the average file size and other variables, either the reserved MFT zone or the unreserved space on the disk may be allocated first as the disk fills to capacity.</span></span> <span data-ttu-id="42132-114">Os volumes com um pequeno número de arquivos relativamente grandes alocarão o espaço não reservado primeiro, enquanto os volumes com um grande número de arquivos relativamente pequenos alocam a zona MFT primeiro.</span><span class="sxs-lookup"><span data-stu-id="42132-114">Volumes with a small number of relatively large files will allocate the unreserved space first, while volumes with a large number of relatively small files allocate the MFT zone first.</span></span> <span data-ttu-id="42132-115">Em ambos os casos, a fragmentação do MFT começa a ocorrer quando uma região ou a outra se torna totalmente alocada.</span><span class="sxs-lookup"><span data-stu-id="42132-115">In either case, fragmentation of the MFT starts to take place when one region or the other becomes fully allocated.</span></span> <span data-ttu-id="42132-116">Se o espaço não reservado for completamente alocado, o espaço para os arquivos e diretórios do usuário será alocado da zona MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-116">If the unreserved space is completely allocated, space for user files and directories will be allocated from the MFT zone.</span></span> <span data-ttu-id="42132-117">Se a zona MFT estiver completamente alocada, o espaço para novas entradas de MFT será alocado do espaço não reservado.</span><span class="sxs-lookup"><span data-stu-id="42132-117">If the MFT zone is completely allocated, space for new MFT entries will be allocated from the unreserved space.</span></span>

<span data-ttu-id="42132-118">A própria MFT pode ser desfragmentada.</span><span class="sxs-lookup"><span data-stu-id="42132-118">The MFT itself can be defragmented.</span></span> <span data-ttu-id="42132-119">Para reduzir a chance de que a zona MFT se torne totalmente alocada antes que o processo de desfragmentação seja concluído, deixe o máximo de espaço no início da zona MFT antes de desfragmentar o volume.</span><span class="sxs-lookup"><span data-stu-id="42132-119">To reduce the chance of the MFT zone becoming fully allocated before the defragmentation process is complete, leave as much space at the beginning of the MFT zone as possible before defragmenting the volume.</span></span> <span data-ttu-id="42132-120">Se a zona MFT for totalmente alocada antes da conclusão da desfragmentação, deverá haver espaço não alocado fora da zona MFT.</span><span class="sxs-lookup"><span data-stu-id="42132-120">If the MFT zone becomes fully allocated before defragmentation has completed, there must be unallocated space outside of the MFT zone.</span></span>

<span data-ttu-id="42132-121">A zona MFT padrão é calculada e reservada pelo sistema quando ele monta o volume e é baseada no tamanho do volume.</span><span class="sxs-lookup"><span data-stu-id="42132-121">The default MFT zone is calculated and reserved by the system when it mounts the volume, and is based on volume size.</span></span> <span data-ttu-id="42132-122">Você pode aumentar a zona MFT por meio da entrada de registro detalhada no [artigo 174619 da base de dados de conhecimento Microsoft](https://support.microsoft.com/kb/174619), mas não é possível tornar a zona MFT padrão menor do que a calculada.</span><span class="sxs-lookup"><span data-stu-id="42132-122">You can increase the MFT zone by means of the registry entry detailed in [Microsoft Knowledge Base Article 174619](https://support.microsoft.com/kb/174619), but you cannot make the default MFT zone smaller than what is calculated.</span></span> <span data-ttu-id="42132-123">O aumento da zona MFT não diminui o espaço em disco que os usuários podem usar para arquivos de dados.</span><span class="sxs-lookup"><span data-stu-id="42132-123">Increasing the MFT zone does not decrease the disk space that users can use for data files.</span></span>

<span data-ttu-id="42132-124">Para determinar o tamanho atual do MFT, analise a unidade do sistema de arquivos NTFS com o Desfragmentador de disco e clique no botão **Exibir relatório** .</span><span class="sxs-lookup"><span data-stu-id="42132-124">To determine the current size of the MFT, analyze the NTFS file system drive with Disk Defragmenter, then click the **View Report** button.</span></span> <span data-ttu-id="42132-125">As estatísticas da unidade serão exibidas, incluindo o tamanho atual do MFT e o número de fragmentos.</span><span class="sxs-lookup"><span data-stu-id="42132-125">The drive statistics will be displayed, including the current MFT size, and number of fragments.</span></span> <span data-ttu-id="42132-126">Você também pode obter o tamanho do MFT usando o fsctl obter o código de controle de [**\_ \_ \_ \_ dados de volume NTFS**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) .</span><span class="sxs-lookup"><span data-stu-id="42132-126">You can also obtain the size of the MFT by using the [**FSCTL\_GET\_NTFS\_VOLUME\_DATA**](/windows/win32/api/winioctl/ni-winioctl-fsctl_get_ntfs_volume_data) control code.</span></span>

 

 
