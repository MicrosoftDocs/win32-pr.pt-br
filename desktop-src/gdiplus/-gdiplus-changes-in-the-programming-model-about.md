---
description: As seções a seguir descrevem várias maneiras de programação com o Windows GDI+, diferente da programação com o Windows Graphics Device Interface (GDI).
ms.assetid: 89a154c1-6a49-45d6-a73c-94b0b1567408
title: Alterações no modelo de programação
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a90cd6f1c3a6ebab1e55562e67cb4926f0ffedf9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104010872"
---
# <a name="changes-in-the-programming-model"></a><span data-ttu-id="4221b-103">Alterações no modelo de programação</span><span class="sxs-lookup"><span data-stu-id="4221b-103">Changes in the Programming Model</span></span>

<span data-ttu-id="4221b-104">As seções a seguir descrevem várias maneiras de programação com o Windows GDI+, diferente da programação com o Windows Graphics Device Interface (GDI).</span><span class="sxs-lookup"><span data-stu-id="4221b-104">The following sections describe several ways that programming with Windows GDI+ is different from programming with Windows Graphics Device Interface (GDI).</span></span>

-   [<span data-ttu-id="4221b-105">Contextos de dispositivo, identificadores e objetos gráficos</span><span class="sxs-lookup"><span data-stu-id="4221b-105">Device Contexts, Handles, and Graphics Objects</span></span>](#device-contexts-handles-and-graphics-objects)
-   [<span data-ttu-id="4221b-106">Duas maneiras de desenhar uma linha</span><span class="sxs-lookup"><span data-stu-id="4221b-106">Two Ways to Draw a Line</span></span>](#two-ways-to-draw-a-line)
    -   [<span data-ttu-id="4221b-107">Desenhando uma linha com GDI</span><span class="sxs-lookup"><span data-stu-id="4221b-107">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
    -   [<span data-ttu-id="4221b-108">Desenhando uma linha com GDI+ e a interface de classe C++</span><span class="sxs-lookup"><span data-stu-id="4221b-108">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)
-   [<span data-ttu-id="4221b-109">Canetas, pincéis, caminhos, imagens e fontes como parâmetros</span><span class="sxs-lookup"><span data-stu-id="4221b-109">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>](#pens-brushes-paths-images-and-fonts-as-parameters)
-   [<span data-ttu-id="4221b-110">Sobrecarga de método</span><span class="sxs-lookup"><span data-stu-id="4221b-110">Method Overloading</span></span>](#method-overloading)
-   [<span data-ttu-id="4221b-111">Não há mais posição atual</span><span class="sxs-lookup"><span data-stu-id="4221b-111">No More Current Position</span></span>](#no-more-current-position)
-   [<span data-ttu-id="4221b-112">Métodos separados para desenhar e preencher</span><span class="sxs-lookup"><span data-stu-id="4221b-112">Separate Methods for Draw and Fill</span></span>](#separate-methods-for-draw-and-fill)
-   [<span data-ttu-id="4221b-113">Construindo regiões</span><span class="sxs-lookup"><span data-stu-id="4221b-113">Constructing Regions</span></span>](#constructing-regions)

## <a name="device-contexts-handles-and-graphics-objects"></a><span data-ttu-id="4221b-114">Contextos de dispositivo, identificadores e objetos gráficos</span><span class="sxs-lookup"><span data-stu-id="4221b-114">Device Contexts, Handles, and Graphics Objects</span></span>

<span data-ttu-id="4221b-115">Se você escreveu programas usando o GDI (a interface de dispositivo de gráficos incluída nas versões anteriores do Windows), você está familiarizado com a ideia de um DC (contexto de dispositivo).</span><span class="sxs-lookup"><span data-stu-id="4221b-115">If you have written programs using GDI (the graphics device interface included in previous versions of Windows), you are familiar with the idea of a device context (DC).</span></span> <span data-ttu-id="4221b-116">Um contexto de dispositivo é uma estrutura usada pelo Windows para armazenar informações sobre os recursos de um determinado dispositivo de vídeo e atributos que especificam como os itens serão desenhados nesse dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4221b-116">A device context is a structure used by Windows to store information about the capabilities of a particular display device and attributes that specify how items will be drawn on that device.</span></span> <span data-ttu-id="4221b-117">Um contexto de dispositivo para uma exibição de vídeo também é associado a uma janela específica na exibição.</span><span class="sxs-lookup"><span data-stu-id="4221b-117">A device context for a video display is also associated with a particular window on the display.</span></span> <span data-ttu-id="4221b-118">Primeiro, você obtém um identificador para um contexto de dispositivo (HDC) e, em seguida, passa esse identificador como um argumento para funções GDI que realmente fazem o desenho.</span><span class="sxs-lookup"><span data-stu-id="4221b-118">First you obtain a handle to a device context (HDC), and then you pass that handle as an argument to GDI functions that actually do the drawing.</span></span> <span data-ttu-id="4221b-119">Você também passa a alça como um argumento para funções GDI que obtêm ou definem os atributos do contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4221b-119">You also pass the handle as an argument to GDI functions that obtain or set the attributes of the device context.</span></span>

<span data-ttu-id="4221b-120">Ao usar o GDI+, você não precisa se preocupar com identificadores e contextos de dispositivo como faz ao usar o GDI.</span><span class="sxs-lookup"><span data-stu-id="4221b-120">When you use GDI+, you don't have to be as concerned with handles and device contexts as you do when you use GDI.</span></span> <span data-ttu-id="4221b-121">Você simplesmente cria um objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) e, em seguida, invoca seus métodos no conhecido estilo orientado a objeto – mygraphicsobject. DrawLine (*Parameters*).</span><span class="sxs-lookup"><span data-stu-id="4221b-121">You simply create a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and then invoke its methods in the familiar object-oriented style — myGraphicsObject.DrawLine(*parameters*).</span></span> <span data-ttu-id="4221b-122">O objeto **Graphics** está no núcleo de GDI+ assim como o contexto do dispositivo está no núcleo da GDI.</span><span class="sxs-lookup"><span data-stu-id="4221b-122">The **Graphics** object is at the core of GDI+ just as the device context is at the core of GDI.</span></span> <span data-ttu-id="4221b-123">O contexto do dispositivo e o objeto de **gráficos** desempenham funções semelhantes, mas há algumas diferenças fundamentais entre o modelo de programação baseado em identificador usado com a GDI (contextos de dispositivo) e o modelo orientado a objeto usado com objetos **gráficos** (GDI+).</span><span class="sxs-lookup"><span data-stu-id="4221b-123">The device context and the **Graphics** object play similar roles, but there are some fundamental differences between the handle-based programming model used with device contexts (GDI) and the object-oriented model used with **Graphics** objects (GDI+).</span></span>

<span data-ttu-id="4221b-124">O objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , como o contexto do dispositivo, é associado a uma janela específica na tela e contém atributos (por exemplo, modo de suavização e dica de renderização de texto) que especificam como os itens devem ser desenhados.</span><span class="sxs-lookup"><span data-stu-id="4221b-124">The [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, like the device context, is associated with a particular window on the screen and contains attributes (for example, smoothing mode and text rendering hint) that specify how items are to be drawn.</span></span> <span data-ttu-id="4221b-125">No entanto, o objeto **gráfico** não está vinculado a uma caneta, pincel, caminho, imagem ou fonte, uma vez que um contexto de dispositivo é.</span><span class="sxs-lookup"><span data-stu-id="4221b-125">However, the **Graphics** object is not tied to a pen, brush, path, image, or font as a device context is.</span></span> <span data-ttu-id="4221b-126">Por exemplo, em GDI, antes de poder usar um contexto de dispositivo para desenhar uma linha, você deve chamar [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) para associar um objeto de caneta ao contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4221b-126">For example, in GDI, before you can use a device context to draw a line, you must call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to associate a pen object with the device context.</span></span> <span data-ttu-id="4221b-127">Isso é chamado de seleção da caneta no contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4221b-127">This is referred to as selecting the pen into the device context.</span></span> <span data-ttu-id="4221b-128">Todas as linhas desenhadas no contexto do dispositivo usarão essa caneta até que você selecione uma caneta diferente.</span><span class="sxs-lookup"><span data-stu-id="4221b-128">All lines drawn in the device context will use that pen until you select a different pen.</span></span> <span data-ttu-id="4221b-129">Com o GDI+, você passa um objeto de [**caneta**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) como um argumento para o método [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) da classe **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="4221b-129">With GDI+, you pass a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as an argument to the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="4221b-130">Você pode usar um objeto de **caneta** diferente em cada uma das séries de chamadas DrawLine sem a necessidade de associar um objeto **Pen** específico a um objeto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="4221b-130">You can use a different **Pen** object in each of a series of DrawLine calls without having to associate a given **Pen** object with a **Graphics** object.</span></span>

## <a name="two-ways-to-draw-a-line"></a><span data-ttu-id="4221b-131">Duas maneiras de desenhar uma linha</span><span class="sxs-lookup"><span data-stu-id="4221b-131">Two Ways to Draw a Line</span></span>

<span data-ttu-id="4221b-132">Os dois exemplos a seguir desenham uma linha vermelha de largura 3 do local (20, 10) para o local (200.100).</span><span class="sxs-lookup"><span data-stu-id="4221b-132">The following two examples each draw a red line of width 3 from location (20, 10) to location (200,100).</span></span> <span data-ttu-id="4221b-133">O primeiro exemplo chama GDI e o segundo chama GDI+ por meio da interface de classe C++.</span><span class="sxs-lookup"><span data-stu-id="4221b-133">The first example calls GDI, and the second calls GDI+ through the C++ class interface.</span></span>

-   [<span data-ttu-id="4221b-134">Desenhando uma linha com GDI</span><span class="sxs-lookup"><span data-stu-id="4221b-134">Drawing a line with GDI</span></span>](#drawing-a-line-with-gdi)
-   [<span data-ttu-id="4221b-135">Desenhando uma linha com GDI+ e a interface de classe C++</span><span class="sxs-lookup"><span data-stu-id="4221b-135">Drawing a line with GDI+ and the C++ class interface</span></span>](#drawing-a-line-with-gdi-and-the-c-class-interface)

### <a name="drawing-a-line-with-gdi"></a><span data-ttu-id="4221b-136">Desenhando uma linha com GDI</span><span class="sxs-lookup"><span data-stu-id="4221b-136">Drawing a line with GDI</span></span>

<span data-ttu-id="4221b-137">Para desenhar uma linha com GDI, você precisa de dois objetos: um contexto de dispositivo e uma caneta.</span><span class="sxs-lookup"><span data-stu-id="4221b-137">To draw a line with GDI, you need two objects: a device context and a pen.</span></span> <span data-ttu-id="4221b-138">Você Obtém um identificador para um contexto de dispositivo chamando [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint)e um identificador para uma caneta chamando [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span><span class="sxs-lookup"><span data-stu-id="4221b-138">You get a handle to a device context by calling [**BeginPaint**](/windows/win32/api/winuser/nf-winuser-beginpaint), and a handle to a pen by calling [CreatePen](/windows/win32/api/wingdi/nf-wingdi-createpen).</span></span> <span data-ttu-id="4221b-139">Em seguida, chame [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) para selecionar a caneta no contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="4221b-139">Next, you call [SelectObject](/windows/win32/api/wingdi/nf-wingdi-selectobject) to select the pen into the device context.</span></span> <span data-ttu-id="4221b-140">Você define a posição da caneta como (20, 10) chamando [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) e, em seguida, desenha uma linha da posição da caneta para (200, 100) chamando **LineTo**.</span><span class="sxs-lookup"><span data-stu-id="4221b-140">You set the pen position to (20, 10) by calling [MoveToEx](/windows/win32/api/wingdi/nf-wingdi-movetoex) and then draw a line from that pen position to (200, 100) by calling **LineTo**.</span></span> <span data-ttu-id="4221b-141">Observe que MoveToEx e [LineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) recebem **HDC** como um argumento.</span><span class="sxs-lookup"><span data-stu-id="4221b-141">Note that MoveToEx and [LineTo](/windows/win32/api/wingdi/nf-wingdi-lineto) both receive **hdc** as an argument.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
HPEN         hPen;
HPEN         hPenOld;
hdc = BeginPaint(hWnd, &ps);
   hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
   hPenOld = (HPEN)SelectObject(hdc, hPen);
   MoveToEx(hdc, 20, 10, NULL);
   LineTo(hdc, 200, 100);
   SelectObject(hdc, hPenOld);
   DeleteObject(hPen);
EndPaint(hWnd, &ps);
```



### <a name="drawing-a-line-with-gdi-and-the-c-class-interface"></a><span data-ttu-id="4221b-142">Desenhando uma linha com GDI+ e a interface de classe C++</span><span class="sxs-lookup"><span data-stu-id="4221b-142">Drawing a line with GDI+ and the C++ class interface</span></span>

<span data-ttu-id="4221b-143">Para desenhar uma linha com GDI+ e a interface de classe C++, você precisa de um objeto [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) e de uma [**caneta**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) .</span><span class="sxs-lookup"><span data-stu-id="4221b-143">To draw a line with GDI+ and the C++ class interface, you need a [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object and a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object.</span></span> <span data-ttu-id="4221b-144">Observe que você não pede que o Windows lide com esses objetos.</span><span class="sxs-lookup"><span data-stu-id="4221b-144">Note that you don't ask Windows for handles to these objects.</span></span> <span data-ttu-id="4221b-145">Em vez disso, você usa construtores para criar uma instância da classe **Graphics** (um objeto **Graphics** ) e uma instância da classe **Pen** (um objeto **Pen** ).</span><span class="sxs-lookup"><span data-stu-id="4221b-145">Instead, you use constructors to create an instance of the **Graphics** class (a **Graphics** object) and an instance of the **Pen** class (a **Pen** object).</span></span> <span data-ttu-id="4221b-146">Desenhar uma linha envolve chamar o método [**Graphics::D rawline**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) da classe **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="4221b-146">Drawing a line involves calling the [**Graphics::DrawLine**](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the **Graphics** class.</span></span> <span data-ttu-id="4221b-147">O primeiro parâmetro do método **Graphics::D rawline** é um ponteiro para o objeto **Pen** .</span><span class="sxs-lookup"><span data-stu-id="4221b-147">The first parameter of the **Graphics::DrawLine** method is a pointer to your **Pen** object.</span></span> <span data-ttu-id="4221b-148">Esse é um esquema mais simples e mais flexível do que selecionar uma caneta em um contexto de dispositivo, conforme mostrado no exemplo de GDI anterior.</span><span class="sxs-lookup"><span data-stu-id="4221b-148">This is a simpler and more flexible scheme than selecting a pen into a device context as shown in the preceding GDI example.</span></span>


```
HDC          hdc;
PAINTSTRUCT  ps;
Pen*         myPen;
Graphics*    myGraphics;
hdc = BeginPaint(hWnd, &ps);
   myPen = new Pen(Color(255, 255, 0, 0), 3);
   myGraphics = new Graphics(hdc);
   myGraphics->DrawLine(myPen, 20, 10, 200, 100);
   delete myGraphics;
   delete myPen;
EndPaint(hWnd, &ps);
```



## <a name="pens-brushes-paths-images-and-fonts-as-parameters"></a><span data-ttu-id="4221b-149">Canetas, pincéis, caminhos, imagens e fontes como parâmetros</span><span class="sxs-lookup"><span data-stu-id="4221b-149">Pens, Brushes, Paths, Images, and Fonts as Parameters</span></span>

<span data-ttu-id="4221b-150">Os exemplos anteriores mostram que os objetos de [**caneta**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) podem ser criados e mantidos separadamente do objeto [**gráfico**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) , que fornece os métodos de desenho.</span><span class="sxs-lookup"><span data-stu-id="4221b-150">The preceding examples show that [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) objects can be created and maintained separately from the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) object, which supplies the drawing methods.</span></span> <span data-ttu-id="4221b-151">Os objetos [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image)e [**Font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) também podem ser criados e mantidos separadamente do objeto **Graphics** .</span><span class="sxs-lookup"><span data-stu-id="4221b-151">[**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush), [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath), [**Image**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-image), and [**Font**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-font) objects can also be created and maintained separately from the **Graphics** object.</span></span> <span data-ttu-id="4221b-152">Muitos dos métodos de desenho fornecidos pela classe **Graphics** recebem um objeto **Brush**, **GraphicsPath**, **Image** ou **Font** como um argumento.</span><span class="sxs-lookup"><span data-stu-id="4221b-152">Many of the drawing methods provided by the **Graphics** class receive a **Brush**, **GraphicsPath**, **Image**, or **Font** object as an argument.</span></span> <span data-ttu-id="4221b-153">Por exemplo, o endereço de um objeto de **pincel** é passado como um argumento para o método [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) e o endereço de um objeto **GraphicsPath** é passado como um argumento para o método [**Graphics::D rawpath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) .</span><span class="sxs-lookup"><span data-stu-id="4221b-153">For example, the address of a **Brush** object is passed as an argument to the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method, and the address of a **GraphicsPath** object is passed as an argument to the [**Graphics::DrawPath**](/windows/win32/api/Gdiplusgraphics/nf-gdiplusgraphics-graphics-drawpath) method.</span></span> <span data-ttu-id="4221b-154">Da mesma forma, os endereços de objetos de **imagem** e de **fonte** são passados para os métodos [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) e [drawstring](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) .</span><span class="sxs-lookup"><span data-stu-id="4221b-154">Similarly, addresses of **Image** and **Font** objects are passed to the [DrawImage](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawimage(inimage_inconstpointf_)) and [DrawString](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawstring(constwchar_int_constfont_constpointf__constbrush)) methods.</span></span> <span data-ttu-id="4221b-155">Isso é diferente do GDI em que você seleciona um pincel, caminho, imagem ou fonte no contexto do dispositivo e, em seguida, passa um identificador para o contexto do dispositivo como um argumento para uma função de desenho.</span><span class="sxs-lookup"><span data-stu-id="4221b-155">This is in contrast to GDI where you select a brush, path, image, or font into the device context and then pass a handle to the device context as an argument to a drawing function.</span></span>

## <a name="method-overloading"></a><span data-ttu-id="4221b-156">Sobrecarga de método</span><span class="sxs-lookup"><span data-stu-id="4221b-156">Method Overloading</span></span>

<span data-ttu-id="4221b-157">Muitos dos métodos GDI+ estão sobrecarregados; ou seja, vários métodos compartilham o mesmo nome, mas têm diferentes listas de parâmetros.</span><span class="sxs-lookup"><span data-stu-id="4221b-157">Many of the GDI+ methods are overloaded; that is, several methods share the same name but have different parameter lists.</span></span> <span data-ttu-id="4221b-158">Por exemplo, o método [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) da classe [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) vem nos seguintes formatos:</span><span class="sxs-lookup"><span data-stu-id="4221b-158">For example, the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class comes in the following forms:</span></span>


```
Status DrawLine(IN const Pen* pen,
                IN REAL x1,
                IN REAL y1,
                IN REAL x2,
                IN REAL y2);
Status DrawLine(IN const Pen* pen,
                IN const PointF& pt1,
                IN const PointF& pt2);
Status DrawLine(IN const Pen* pen,
                IN INT x1,
                IN INT y1,
                IN INT x2,
                IN INT y2);
    
Status DrawLine(IN const Pen* pen,
                IN const Point& pt1,
                IN const Point& pt2);
```



<span data-ttu-id="4221b-159">Todas as quatro variações de [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) acima recebem um ponteiro para um objeto de [**caneta**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) , as coordenadas do ponto de partida e as coordenadas do ponto final.</span><span class="sxs-lookup"><span data-stu-id="4221b-159">All four of the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) variations above receive a pointer to a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object, the coordinates of the starting point, and the coordinates of the ending point.</span></span> <span data-ttu-id="4221b-160">As duas primeiras variações recebem as coordenadas como números de ponto flutuante e as duas últimas variações recebem as coordenadas como inteiros.</span><span class="sxs-lookup"><span data-stu-id="4221b-160">The first two variations receive the coordinates as floating point numbers, and the last two variations receive the coordinates as integers.</span></span> <span data-ttu-id="4221b-161">A primeira e terceira variações recebem as coordenadas como uma lista de quatro números separados, enquanto a segunda e a quarta variações recebem as coordenadas como um par de objetos [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (ou [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)).</span><span class="sxs-lookup"><span data-stu-id="4221b-161">The first and third variations receive the coordinates as a list of four separate numbers, while the second and fourth variations receive the coordinates as a pair of [**Point**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-point) (or [**PointF**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-pointf)) objects.</span></span>

## <a name="no-more-current-position"></a><span data-ttu-id="4221b-162">Não há mais posição atual</span><span class="sxs-lookup"><span data-stu-id="4221b-162">No More Current Position</span></span>

<span data-ttu-id="4221b-163">Observe que nos métodos [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) mostrados anteriormente, o ponto de partida e o ponto final da linha são recebidos como argumentos.</span><span class="sxs-lookup"><span data-stu-id="4221b-163">Note that in the [DrawLine](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawline(inconstpen_inreal_inreal_inreal_inreal)) methods shown previously both the starting point and the ending point of the line are received as arguments.</span></span> <span data-ttu-id="4221b-164">Essa é uma partida do esquema GDI em que você chama **MoveToEx** para definir a posição atual da caneta seguida de **LineTo** para desenhar uma linha começando em (**X1**, **Y1**) e terminando em (**X2**, **Y2**).</span><span class="sxs-lookup"><span data-stu-id="4221b-164">This is a departure from the GDI scheme where you call **MoveToEx** to set the current pen position followed by **LineTo** in order to draw a line starting at (**x1**, **y1**) and ending at (**x2**, **y2**).</span></span> <span data-ttu-id="4221b-165">A GDI+ como um todo abandonou a noção da posição atual.</span><span class="sxs-lookup"><span data-stu-id="4221b-165">GDI+ as a whole has abandoned the notion of current position.</span></span>

## <a name="separate-methods-for-draw-and-fill"></a><span data-ttu-id="4221b-166">Métodos separados para desenhar e preencher</span><span class="sxs-lookup"><span data-stu-id="4221b-166">Separate Methods for Draw and Fill</span></span>

<span data-ttu-id="4221b-167">A GDI+ é mais flexível do que a GDI quando se trata de desenhar os contornos e preencher os interiores de formas como retângulos.</span><span class="sxs-lookup"><span data-stu-id="4221b-167">GDI+ is more flexible than GDI when it comes to drawing the outlines and filling the interiors of shapes like rectangles.</span></span> <span data-ttu-id="4221b-168">O GDI tem uma função [Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) que desenha o contorno e preenche o interior de um retângulo em uma única etapa.</span><span class="sxs-lookup"><span data-stu-id="4221b-168">GDI has a [Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function that draws the outline and fills the interior of a rectangle all in one step.</span></span> <span data-ttu-id="4221b-169">O contorno é desenhado com a caneta selecionada no momento e o interior é preenchido com o pincel selecionado no momento.</span><span class="sxs-lookup"><span data-stu-id="4221b-169">The outline is drawn with the currently selected pen, and the interior is filled with the currently selected brush.</span></span>


```
hBrush = CreateHatchBrush(HS_CROSS, RGB(0, 0, 255));
hPen = CreatePen(PS_SOLID, 3, RGB(255, 0, 0));
SelectObject(hdc, hBrush);
SelectObject(hdc, hPen);
Rectangle(hdc, 100, 50, 200, 80);
```



<span data-ttu-id="4221b-170">O GDI+ tem métodos separados para desenhar a estrutura de tópicos e preencher o interior de um retângulo.</span><span class="sxs-lookup"><span data-stu-id="4221b-170">GDI+ has separate methods for drawing the outline and filling the interior of a rectangle.</span></span> <span data-ttu-id="4221b-171">O método [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) da classe [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) tem o endereço de um objeto [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) como um de seus parâmetros, e o método [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) tem o endereço de um objeto [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) como um de seus parâmetros.</span><span class="sxs-lookup"><span data-stu-id="4221b-171">The [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) method of the [**Graphics**](/windows/win32/api/gdiplusgraphics/nl-gdiplusgraphics-graphics) class has the address of a [**Pen**](/windows/win32/api/gdipluspen/nl-gdipluspen-pen) object as one of its parameters, and the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) method has the address of a [**Brush**](/windows/win32/api/gdiplusbrush/nl-gdiplusbrush-brush) object as one of its parameters.</span></span>


```
HatchBrush* myHatchBrush = new HatchBrush(
   HatchStyleCross,
   Color(255, 0, 255, 0),
   Color(255, 0, 0, 255));
Pen* myPen = new Pen(Color(255, 255, 0, 0), 3);
myGraphics.FillRectangle(myHatchBrush, 100, 50, 100, 30);
myGraphics.DrawRectangle(myPen, 100, 50, 100, 30);
```



<span data-ttu-id="4221b-172">Observe que os métodos [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) e [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) em GDI+ recebem argumentos que especificam a borda esquerda do retângulo, a parte superior, a largura e a altura.</span><span class="sxs-lookup"><span data-stu-id="4221b-172">Note that the [FillRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-fillrectangle(inconstbrush_inreal_inreal_inreal_inreal)) and [DrawRectangle](/windows/win32/api/gdiplusgraphics/nf-gdiplusgraphics-graphics-drawrectangle(inconstpen_inreal_inreal_inreal_inreal)) methods in GDI+ receive arguments that specify the rectangle's left edge, top, width, and height.</span></span> <span data-ttu-id="4221b-173">Isso está em contraste com a função[Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) do GDI, que usa argumentos que especificam a borda esquerda do retângulo, a borda direita, superior e inferior.</span><span class="sxs-lookup"><span data-stu-id="4221b-173">This is in contrast to the GDI[Rectangle](/windows/win32/api/wingdi/nf-wingdi-rectangle) function, which takes arguments that specify the rectangle's left edge, right edge, top, and bottom.</span></span> <span data-ttu-id="4221b-174">Observe também que o construtor da classe [**Color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) em GDI+ tem quatro parâmetros.</span><span class="sxs-lookup"><span data-stu-id="4221b-174">Also note that the constructor for the [**Color**](/windows/win32/api/gdipluscolor/nl-gdipluscolor-color) class in GDI+ has four parameters.</span></span> <span data-ttu-id="4221b-175">Os três últimos parâmetros são os valores vermelho, verde e azul usuais; o primeiro parâmetro é o valor alfa, que especifica a extensão para a qual a cor que está sendo desenhada é mesclada com a cor do plano de fundo.</span><span class="sxs-lookup"><span data-stu-id="4221b-175">The last three parameters are the usual red, green, and blue values; the first parameter is the alpha value, which specifies the extent to which the color being drawn is blended with the background color.</span></span>

## <a name="constructing-regions"></a><span data-ttu-id="4221b-176">Construindo regiões</span><span class="sxs-lookup"><span data-stu-id="4221b-176">Constructing Regions</span></span>

<span data-ttu-id="4221b-177">O GDI fornece várias funções para criar regiões: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn e CreatePolyPolygonRgn.</span><span class="sxs-lookup"><span data-stu-id="4221b-177">GDI provides several functions for creating regions: CreateRectRgn, CreateEllpticRgn, CreateRoundRectRgn, CreatePolygonRgn, and CreatePolyPolygonRgn.</span></span> <span data-ttu-id="4221b-178">Você pode esperar que a classe [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) em GDI+ tenha construtores análogos que usam retângulos, reticências, retângulos arredondados e polígonos como argumentos, mas esse não é o caso.</span><span class="sxs-lookup"><span data-stu-id="4221b-178">You might expect the [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class in GDI+ to have analogous constructors that take rectangles, ellipses, rounded rectangles, and polygons as arguments, but that is not the case.</span></span> <span data-ttu-id="4221b-179">A classe **Region** em GDI+ fornece um construtor que recebe uma referência de objeto [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) e outro construtor que recebe o endereço de um objeto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) .</span><span class="sxs-lookup"><span data-stu-id="4221b-179">The **Region** class in GDI+ provides a constructor that receives a [**Rect**](/windows/win32/api/gdiplustypes/nl-gdiplustypes-rect) object reference and another constructor that receives the address of a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object.</span></span> <span data-ttu-id="4221b-180">Se você quiser construir uma região com base em uma elipse, um retângulo arredondado ou um polígono, poderá facilmente fazer isso criando um objeto **GraphicsPath** (que contém uma elipse, por exemplo) e, em seguida, passando o endereço desse objeto **GraphicsPath** para um construtor de **região** .</span><span class="sxs-lookup"><span data-stu-id="4221b-180">If you want to construct a region based on an ellipse, rounded rectangle, or polygon, you can easily do so by creating a **GraphicsPath** object (that contains an ellipse, for example) and then passing the address of that **GraphicsPath** object to a **Region** constructor.</span></span>

<span data-ttu-id="4221b-181">A GDI+ torna mais fácil formar regiões complexas combinando formas e caminhos.</span><span class="sxs-lookup"><span data-stu-id="4221b-181">GDI+ makes it easy to form complex regions by combining shapes and paths.</span></span> <span data-ttu-id="4221b-182">A classe [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) tem os métodos [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) e [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) que você pode usar para aumentar uma região existente com um caminho ou outra região.</span><span class="sxs-lookup"><span data-stu-id="4221b-182">The [**Region**](/windows/win32/api/gdiplusheaders/nl-gdiplusheaders-region) class has [Union](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-union(inconstrectf_)) and [Intersect](/windows/win32/api/gdiplusheaders/nf-gdiplusheaders-region-intersect(inconstgraphicspath)) methods that you can use to augment an existing region with a path or another region.</span></span> <span data-ttu-id="4221b-183">Um bom recurso do esquema GDI+ é que um objeto [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) não é destruído quando é passado como um argumento para um construtor de **região** .</span><span class="sxs-lookup"><span data-stu-id="4221b-183">One nice feature of the GDI+ scheme is that a [**GraphicsPath**](/windows/win32/api/gdipluspath/nl-gdipluspath-graphicspath) object is not destroyed when it is passed as an argument to a **Region** constructor.</span></span> <span data-ttu-id="4221b-184">No GDI, você pode converter um caminho para uma região com a função [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) , mas o caminho é destruído no processo.</span><span class="sxs-lookup"><span data-stu-id="4221b-184">In GDI, you can convert a path to a region with the [PathToRegion](/windows/win32/api/wingdi/nf-wingdi-pathtoregion) function, but the path is destroyed in the process.</span></span> <span data-ttu-id="4221b-185">Além disso, um objeto **GraphicsPath** não é destruído quando seu endereço é passado como um argumento para um método Union ou Intersect, para que você possa usar um determinado caminho como um bloco de construção para várias regiões separadas.</span><span class="sxs-lookup"><span data-stu-id="4221b-185">Also, a **GraphicsPath** object is not destroyed when its address is passed as an argument to a Union or Intersect method, so you can use a given path as a building block for several separate regions.</span></span> <span data-ttu-id="4221b-186">Isso é mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="4221b-186">This is shown in the following example.</span></span> <span data-ttu-id="4221b-187">Suponha que **onePath** é um ponteiro para um objeto **GraphicsPath** (simples ou complexo) que já foi inicializado.</span><span class="sxs-lookup"><span data-stu-id="4221b-187">Assume that **onePath** is a pointer to a **GraphicsPath** object (simple or complex) that has already been initialized.</span></span>


```
Region  region1(rect1);
Region  region2(rect2);
region1.Union(onePath);
region2.Intersect(onePath);
```



 

 
