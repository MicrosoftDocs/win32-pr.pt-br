---
title: Visão geral da arquitetura de gráficos do Windows
description: Descreve as APIs de gráficos do C++/COM no Windows.
ms.assetid: 9654b18b-d615-455d-a92a-6fc2ccda469e
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4f45ba44f54b947d923b888d51080ff0335119a1
ms.sourcegitcommit: 35bb565804eaeed7ac5503595753f59d120076dd
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/09/2021
ms.locfileid: "104091861"
---
# <a name="overview-of-the-windows-graphics-architecture"></a><span data-ttu-id="32fcb-103">Visão geral da arquitetura de gráficos do Windows</span><span class="sxs-lookup"><span data-stu-id="32fcb-103">Overview of the Windows Graphics Architecture</span></span>

<span data-ttu-id="32fcb-104">O Windows fornece várias APIs do C++/COM para gráficos.</span><span class="sxs-lookup"><span data-stu-id="32fcb-104">Windows provides several C++/COM APIs for graphics.</span></span> <span data-ttu-id="32fcb-105">Essas APIs são mostradas no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="32fcb-105">These APIs are shown in the following diagram.</span></span>

![um diagrama que mostra as APIs de gráficos do Windows.](images/graphics01.png)

-   <span data-ttu-id="32fcb-107">Graphics Device Interface (GDI) é a interface gráfica original do Windows.</span><span class="sxs-lookup"><span data-stu-id="32fcb-107">Graphics Device Interface (GDI) is the original graphics interface for Windows.</span></span> <span data-ttu-id="32fcb-108">O GDI foi gravado primeiro para Windows de 16 bits e, em seguida, atualizado para o Windows de 32 bits e 64 bits.</span><span class="sxs-lookup"><span data-stu-id="32fcb-108">GDI was first written for 16-bit Windows and then updated for 32-bit and 64-bit Windows.</span></span>
-   <span data-ttu-id="32fcb-109">O GDI+ foi introduzido no Windows XP como um sucessor da GDI.</span><span class="sxs-lookup"><span data-stu-id="32fcb-109">GDI+ was introduced in Windows XP as a successor to GDI.</span></span> <span data-ttu-id="32fcb-110">A biblioteca GDI+ é acessada por meio de um conjunto de classes C++ que encapsulam funções Flat C.</span><span class="sxs-lookup"><span data-stu-id="32fcb-110">The GDI+ library is accessed through a set of C++ classes that wrap flat C functions.</span></span> <span data-ttu-id="32fcb-111">O .NET Framework também fornece uma versão gerenciada do GDI+ no namespace **System. Drawing** .</span><span class="sxs-lookup"><span data-stu-id="32fcb-111">The .NET Framework also provides a managed version of GDI+ in the **System.Drawing** namespace.</span></span>
-   <span data-ttu-id="32fcb-112">O Direct3D dá suporte a gráficos 3D.</span><span class="sxs-lookup"><span data-stu-id="32fcb-112">Direct3D supports 3-D graphics.</span></span>
-   <span data-ttu-id="32fcb-113">O Direct2D é uma API moderna para gráficos 2D, o sucessor para GDI e GDI+.</span><span class="sxs-lookup"><span data-stu-id="32fcb-113">Direct2D is a modern API for 2-D graphics, the successor to both GDI and GDI+.</span></span>
-   <span data-ttu-id="32fcb-114">DirectWrite é um mecanismo de layout e rasterização de texto.</span><span class="sxs-lookup"><span data-stu-id="32fcb-114">DirectWrite is a text layout and rasterization engine.</span></span> <span data-ttu-id="32fcb-115">Você pode usar GDI ou Direct2D para desenhar o texto rasterizado.</span><span class="sxs-lookup"><span data-stu-id="32fcb-115">You can use either GDI or Direct2D to draw the rasterized text.</span></span>
-   <span data-ttu-id="32fcb-116">O DXGI (infra-estrutura de gráficos do DirectX) executa tarefas de baixo nível, como apresentar quadros para saída.</span><span class="sxs-lookup"><span data-stu-id="32fcb-116">DirectX Graphics Infrastructure (DXGI) performs low-level tasks, such as presenting frames for output.</span></span> <span data-ttu-id="32fcb-117">A maioria dos aplicativos não usa DXGI diretamente.</span><span class="sxs-lookup"><span data-stu-id="32fcb-117">Most applications do not use DXGI directly.</span></span> <span data-ttu-id="32fcb-118">Em vez disso, ele serve como uma camada intermediária entre o driver de gráficos e o Direct3D.</span><span class="sxs-lookup"><span data-stu-id="32fcb-118">Rather, it serves as an intermediate layer between the graphics driver and Direct3D.</span></span>

<span data-ttu-id="32fcb-119">Direct2D e DirectWrite foram introduzidos no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="32fcb-119">Direct2D and DirectWrite were introduced in Windows 7.</span></span> <span data-ttu-id="32fcb-120">Eles também estão disponíveis para o Windows Vista e o Windows Server 2008 por meio de uma atualização de plataforma.</span><span class="sxs-lookup"><span data-stu-id="32fcb-120">They are also available for Windows Vista and Windows Server 2008 through a Platform Update.</span></span> <span data-ttu-id="32fcb-121">Para obter mais informações, consulte [atualização de plataforma para Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md).</span><span class="sxs-lookup"><span data-stu-id="32fcb-121">For more information, see [Platform Update for Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md).</span></span>

<span data-ttu-id="32fcb-122">Direct2D é o foco deste módulo.</span><span class="sxs-lookup"><span data-stu-id="32fcb-122">Direct2D is the focus of this module.</span></span> <span data-ttu-id="32fcb-123">Embora o GDI e o GDI+ continuem a ter suporte no Windows, Direct2D e DirectWrite são recomendados para novos programas.</span><span class="sxs-lookup"><span data-stu-id="32fcb-123">While both GDI and GDI+ continue to be supported in Windows, Direct2D and DirectWrite are recommended for new programs.</span></span> <span data-ttu-id="32fcb-124">Em alguns casos, uma combinação de tecnologias pode ser mais prática.</span><span class="sxs-lookup"><span data-stu-id="32fcb-124">In some cases, a mix of technologies might be more practical.</span></span> <span data-ttu-id="32fcb-125">Para essas situações, Direct2D e DirectWrite são projetados para interoperar com o GDI.</span><span class="sxs-lookup"><span data-stu-id="32fcb-125">For these situations, Direct2D and DirectWrite are designed to interoperate with GDI.</span></span>

<span data-ttu-id="32fcb-126">As seções a seguir descrevem alguns dos benefícios do Direct2D.</span><span class="sxs-lookup"><span data-stu-id="32fcb-126">The next sections describe some of the benefits of Direct2D.</span></span>

### <a name="hardware-acceleration"></a><span data-ttu-id="32fcb-127">Aceleração de hardware</span><span class="sxs-lookup"><span data-stu-id="32fcb-127">Hardware Acceleration</span></span>

<span data-ttu-id="32fcb-128">O termo *aceleração de hardware* refere-se a cálculos de gráficos executados pela GPU (unidade de processamento gráfico), em vez da CPU.</span><span class="sxs-lookup"><span data-stu-id="32fcb-128">The term *hardware acceleration* refers to graphics computations performed by the graphics processing unit (GPU), rather than the CPU.</span></span> <span data-ttu-id="32fcb-129">As GPUs modernas são altamente otimizadas para os tipos de computação usados na renderização de elementos gráficos.</span><span class="sxs-lookup"><span data-stu-id="32fcb-129">Modern GPUs are highly optimized for the types of computation used in rendering graphics.</span></span> <span data-ttu-id="32fcb-130">Em geral, quanto mais desse trabalho é movido da CPU para a GPU, melhor.</span><span class="sxs-lookup"><span data-stu-id="32fcb-130">Generally, the more of this work that is moved from the CPU to the GPU, the better.</span></span>

<span data-ttu-id="32fcb-131">Embora a GDI dê suporte à aceleração de hardware para determinadas operações, muitas operações de GDI são associadas à CPU.</span><span class="sxs-lookup"><span data-stu-id="32fcb-131">While GDI supports hardware acceleration for certain operations, many GDI operations are bound to the CPU.</span></span> <span data-ttu-id="32fcb-132">O Direct2D é colocado em camadas sobre o Direct3D e aproveita totalmente a aceleração de hardware fornecida pela GPU.</span><span class="sxs-lookup"><span data-stu-id="32fcb-132">Direct2D is layered on top of Direct3D, and takes full advantage of hardware acceleration provided by the GPU.</span></span> <span data-ttu-id="32fcb-133">Se a GPU não oferecer suporte aos recursos necessários para o Direct2D, o Direct2D retornará para a renderização de software.</span><span class="sxs-lookup"><span data-stu-id="32fcb-133">If the GPU does not support the features needed for Direct2D, then Direct2D falls back to software rendering.</span></span> <span data-ttu-id="32fcb-134">De modo geral, o Direct2D supera a GDI e a GDI+ na maioria das situações.</span><span class="sxs-lookup"><span data-stu-id="32fcb-134">Overall, Direct2D outperforms GDI and GDI+ in most situations.</span></span>

### <a name="transparency-and-anti-aliasing"></a><span data-ttu-id="32fcb-135">Transparência e suavização de serrilhado</span><span class="sxs-lookup"><span data-stu-id="32fcb-135">Transparency and Anti-aliasing</span></span>

<span data-ttu-id="32fcb-136">O Direct2D dá suporte a transparências totalmente aceleradas por hardware.</span><span class="sxs-lookup"><span data-stu-id="32fcb-136">Direct2D supports fully hardware-accelerated alpha-blending (transparency).</span></span>

<span data-ttu-id="32fcb-137">O GDI tem suporte limitado para a combinação alfa.</span><span class="sxs-lookup"><span data-stu-id="32fcb-137">GDI has limited support for alpha-blending.</span></span> <span data-ttu-id="32fcb-138">A maioria das funções GDI não dá suporte à mistura alfa, embora o GDI ofereça suporte à mistura alfa durante uma operação BitBlt.</span><span class="sxs-lookup"><span data-stu-id="32fcb-138">Most GDI functions do not support alpha blending, although GDI does support alpha blending during a bitblt operation.</span></span> <span data-ttu-id="32fcb-139">O GDI+ dá suporte à transparência, mas a combinação alfa é executada pela CPU, portanto, não se beneficia da aceleração de hardware.</span><span class="sxs-lookup"><span data-stu-id="32fcb-139">GDI+ supports transparency, but the alpha blending is performed by the CPU, so it does not benefit from hardware acceleration.</span></span>

<span data-ttu-id="32fcb-140">A combinação de hardware acelerada por alfa também permite suavização de serrilhado.</span><span class="sxs-lookup"><span data-stu-id="32fcb-140">Hardware-accelerated alpha-blending also enables anti-aliasing.</span></span> <span data-ttu-id="32fcb-141">A definição de *alias* é um artefato causado pela amostragem de uma função contínua.</span><span class="sxs-lookup"><span data-stu-id="32fcb-141">*Aliasing* is an artifact caused by sampling a continuous function.</span></span> <span data-ttu-id="32fcb-142">Por exemplo, quando uma linha curva é convertida em pixels, o alias pode causar uma aparência irregular. \[ 3 \] qualquer técnica que reduz os artefatos causados por alias é considerada uma forma de suavização de serrilhado.</span><span class="sxs-lookup"><span data-stu-id="32fcb-142">For example, when a curved line is converted to pixels, aliasing can cause a jagged appearance.\[3\] Any technique that reduces the artifacts caused by aliasing is considered a form of anti-aliasing.</span></span> <span data-ttu-id="32fcb-143">Em gráficos, a suavização de serrilhado é feita por meio da mesclagem de bordas com o plano de fundo.</span><span class="sxs-lookup"><span data-stu-id="32fcb-143">In graphics, anti-aliasing is done by blending edges with the background.</span></span> <span data-ttu-id="32fcb-144">Por exemplo, aqui está um círculo desenhado pela GDI e o mesmo círculo desenhado por Direct2D.</span><span class="sxs-lookup"><span data-stu-id="32fcb-144">For example, here is a circle drawn by GDI and the same circle drawn by Direct2D.</span></span>

![uma ilustração de técnicas de suavização de alias no Direct2D.](images/graphics02.png)

<span data-ttu-id="32fcb-146">A imagem a seguir mostra um detalhe de cada círculo.</span><span class="sxs-lookup"><span data-stu-id="32fcb-146">The next image shows a detail of each circle.</span></span>

![um detalhe da imagem anterior.](images/graphics03.png)

<span data-ttu-id="32fcb-148">O círculo desenhado por GDI (left) consiste em pixels pretos que aproximam uma curva.</span><span class="sxs-lookup"><span data-stu-id="32fcb-148">The circle drawn by GDI (left) consists of black pixels that approximate a curve.</span></span> <span data-ttu-id="32fcb-149">O círculo desenhado por Direct2D (direita) usa a mesclagem para criar uma curva mais suave.</span><span class="sxs-lookup"><span data-stu-id="32fcb-149">The circle drawn by Direct2D (right) uses blending to create a smoother curve.</span></span>

<span data-ttu-id="32fcb-150">O GDI não oferece suporte a suavização de serrilhado ao desenhar geometria (linhas e curvas).</span><span class="sxs-lookup"><span data-stu-id="32fcb-150">GDI does not support anti-aliasing when it draws geometry (lines and curves).</span></span> <span data-ttu-id="32fcb-151">O GDI pode desenhar texto com suavização de alias usando ClearType; Mas do contrário, o texto GDI também tem um alias.</span><span class="sxs-lookup"><span data-stu-id="32fcb-151">GDI can draw anti-aliased text using ClearType; but otherwise, GDI text is aliased as well.</span></span> <span data-ttu-id="32fcb-152">A criação de alias é particularmente perceptível para texto, pois as linhas denteadas interrompem o design da fonte, tornando o texto menos legível.</span><span class="sxs-lookup"><span data-stu-id="32fcb-152">Aliasing is particularly noticeable for text, because the jagged lines disrupt the font design, making the text less readable.</span></span> <span data-ttu-id="32fcb-153">Embora o GDI+ ofereça suporte a suavização de serrilhado, ele é aplicado pela CPU, portanto, o desempenho não é tão bom quanto Direct2D.</span><span class="sxs-lookup"><span data-stu-id="32fcb-153">Although GDI+ supports anti-aliasing, it is applied by the CPU, so the performance is not as good as Direct2D.</span></span>

### <a name="vector-graphics"></a><span data-ttu-id="32fcb-154">Gráficos vetoriais</span><span class="sxs-lookup"><span data-stu-id="32fcb-154">Vector Graphics</span></span>

<span data-ttu-id="32fcb-155">O Direct2D dá suporte a *gráficos vetoriais*.</span><span class="sxs-lookup"><span data-stu-id="32fcb-155">Direct2D supports *vector graphics*.</span></span> <span data-ttu-id="32fcb-156">Em gráficos vetoriais, fórmulas matemáticas são usadas para representar linhas e curvas.</span><span class="sxs-lookup"><span data-stu-id="32fcb-156">In vector graphics, mathematical formulas are used to represent lines and curves.</span></span> <span data-ttu-id="32fcb-157">Essas fórmulas não dependem da resolução da tela, portanto, podem ser dimensionadas para dimensões arbitrárias.</span><span class="sxs-lookup"><span data-stu-id="32fcb-157">These formulas are not dependent on screen resolution, so they can be scaled to arbitrary dimensions.</span></span> <span data-ttu-id="32fcb-158">Os gráficos vetoriais são particularmente úteis quando uma imagem deve ser dimensionada para dar suporte a diferentes tamanhos de monitor ou resoluções de tela.</span><span class="sxs-lookup"><span data-stu-id="32fcb-158">Vector graphics are particularly useful when an image must be scaled to support different monitor sizes or screen resolutions.</span></span>

## <a name="next"></a><span data-ttu-id="32fcb-159">Avançar</span><span class="sxs-lookup"><span data-stu-id="32fcb-159">Next</span></span>

[<span data-ttu-id="32fcb-160">O Gerenciador de Janelas da Área de Trabalho</span><span class="sxs-lookup"><span data-stu-id="32fcb-160">The Desktop Window Manager</span></span>](the-desktop-window-manager.md)

 

 
