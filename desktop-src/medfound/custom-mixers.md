---
description: Mixers personalizados
ms.assetid: a0af318d-9ac2-43f9-8934-f28c472256a6
title: Mixers personalizados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac7e56c578a7081de7c71ae3abaf9fc45d085827
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105793650"
---
# <a name="custom-mixers"></a><span data-ttu-id="3a8a4-103">Mixers personalizados</span><span class="sxs-lookup"><span data-stu-id="3a8a4-103">Custom Mixers</span></span>

<span data-ttu-id="3a8a4-104">Este tópico descreve como gravar um mixer personalizado para o processador de vídeo avançado (EVR).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-104">This topic describes how to write a custom mixer for the enhanced video renderer (EVR).</span></span> <span data-ttu-id="3a8a4-105">Você pode usar um mixer personalizado com o coletor de mídia do Media Foundation EVR ou o filtro EVR do DirectShow.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-105">You can use a custom mixer with either the Media Foundation EVR media sink, or the DirectShow EVR filter.</span></span> <span data-ttu-id="3a8a4-106">Para obter mais informações sobre mixers e apresentadores, consulte [processador de vídeo aprimorado](enhanced-video-renderer.md).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-106">For more information about mixers and presenters, see [Enhanced Video Renderer](enhanced-video-renderer.md).</span></span>

<span data-ttu-id="3a8a4-107">O Mixer é uma Media Foundation de transformação (MFT) com uma ou mais entradas (o fluxo de referência mais os subfluxos) e uma saída.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-107">The mixer is a Media Foundation transform (MFT) with one or more inputs (the reference stream plus the substreams) and one output.</span></span> <span data-ttu-id="3a8a4-108">O fluxo de entrada recebe amostras de upstream.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-108">The input stream receives samples from upstream.</span></span> <span data-ttu-id="3a8a4-109">O fluxo de saída fornece amostras para o apresentador.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-109">The output stream delivers samples to the presenter.</span></span> <span data-ttu-id="3a8a4-110">O EVR é responsável por chamar [**IMFTransform::P rocessinput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) no mixer, e o apresentador é responsável por chamar [**IMFTransform::P rocessoutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-110">The EVR is responsible for calling [**IMFTransform::ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) on the mixer, and the presenter is responsible for calling [**IMFTransform::ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput).</span></span>

<span data-ttu-id="3a8a4-111">No mínimo, um mixer EVR deve implementar as seguintes interfaces:</span><span class="sxs-lookup"><span data-stu-id="3a8a4-111">At a minimum, an EVR mixer must implement the following interfaces:</span></span>



| <span data-ttu-id="3a8a4-112">Interface</span><span class="sxs-lookup"><span data-stu-id="3a8a4-112">Interface</span></span>                                                                | <span data-ttu-id="3a8a4-113">Descrição</span><span class="sxs-lookup"><span data-stu-id="3a8a4-113">Description</span></span>                                                                                      |
|--------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3a8a4-114">**IMFTransform**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-114">**IMFTransform**</span></span>](/windows/desktop/api/mftransform/nn-mftransform-imftransform)                                     | <span data-ttu-id="3a8a4-115">Fornece a funcionalidade de MFT base.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-115">Provides base MFT functionality.</span></span>                                                                 |
| [<span data-ttu-id="3a8a4-116">**IMFTopologyServiceLookupClient**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-116">**IMFTopologyServiceLookupClient**</span></span>](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) | <span data-ttu-id="3a8a4-117">Permite que o mixer obtenha interfaces do EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-117">Enables the mixer to get interfaces from the EVR.</span></span>                                                |
| [<span data-ttu-id="3a8a4-118">**IMFVideoDeviceID**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-118">**IMFVideoDeviceID**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideodeviceid)                             | <span data-ttu-id="3a8a4-119">Permite que o mixer obtenha interfaces do EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-119">Enables the mixer to get interfaces from the EVR.</span></span>                                                |
| [<span data-ttu-id="3a8a4-120">**IMFAttributes**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-120">**IMFAttributes**</span></span>](/windows/desktop/api/mfobjects/nn-mfobjects-imfattributes)                                   | <span data-ttu-id="3a8a4-121">Usado para expor o atributo de [**\_ \_ \_ reconhecimento de D3D SA do MF**](mf-sa-d3d-aware-attribute.md) para o EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-121">Used to expose the [**MF\_SA\_D3D\_AWARE**](mf-sa-d3d-aware-attribute.md) attribute to the EVR.</span></span> |



 

<span data-ttu-id="3a8a4-122">Opcionalmente, um MFT pode implementar qualquer uma das seguintes interfaces:</span><span class="sxs-lookup"><span data-stu-id="3a8a4-122">Optionally, an MFT can implement any of the following interfaces:</span></span>



| <span data-ttu-id="3a8a4-123">Interface</span><span class="sxs-lookup"><span data-stu-id="3a8a4-123">Interface</span></span>                                                | <span data-ttu-id="3a8a4-124">Descrição</span><span class="sxs-lookup"><span data-stu-id="3a8a4-124">Description</span></span>                                                                                                                                          |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3a8a4-125">**IEVRTrustedVideoPlugin**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-125">**IEVRTrustedVideoPlugin**</span></span>](/windows/desktop/api/evr/nn-evr-ievrtrustedvideoplugin) | <span data-ttu-id="3a8a4-126">Necessário para reproduzir conteúdo protegido.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-126">Required to play protected content.</span></span>                                                                                                                  |
| [<span data-ttu-id="3a8a4-127">**IMFGetService**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-127">**IMFGetService**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfgetservice)                   | <span data-ttu-id="3a8a4-128">Expõe interfaces como [**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) e [**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-128">Exposes interfaces such as [**IMFVideoMixerBitmap**](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap) and [**IMFVideoProcessor**](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor) to the application.</span></span> |
| [<span data-ttu-id="3a8a4-129">**IMFQualityAdvise**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-129">**IMFQualityAdvise**</span></span>](/windows/desktop/api/mfidl/nn-mfidl-imfqualityadvise)             | <span data-ttu-id="3a8a4-130">Permite que o Gerenciador de qualidade ajuste a qualidade do vídeo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-130">Enables the quality manager to adjust the video quality.</span></span>                                                                                             |
| [<span data-ttu-id="3a8a4-131">**IMFVideoMixerBitmap**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-131">**IMFVideoMixerBitmap**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideomixerbitmap)       | <span data-ttu-id="3a8a4-132">Permite que o aplicativo Misture um bitmap estático no vídeo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-132">Enables the application to mix a static bitmap onto the video.</span></span>                                                                                       |
| [<span data-ttu-id="3a8a4-133">**IMFVideoPositionMapper**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-133">**IMFVideoPositionMapper**</span></span>](/windows/desktop/api/evr/nn-evr-imfvideopositionmapper) | <span data-ttu-id="3a8a4-134">Mapeia coordenadas no quadro de vídeo de saída para coordenadas no quadro de vídeo de entrada.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-134">Maps coordinates on the output video frame to coordinates on the input video frame.</span></span>                                                                  |
| [<span data-ttu-id="3a8a4-135">**IMFVideoProcessor**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-135">**IMFVideoProcessor**</span></span>](/windows/desktop/api/evr9/nn-evr9-imfvideoprocessor)           | <span data-ttu-id="3a8a4-136">Expõe alguns recursos de processamento de vídeo de DXVA ao aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-136">Exposes some DXVA video processing features to the application.</span></span>                                                                                      |



 

<span data-ttu-id="3a8a4-137">A negociação de formato com o mixer funciona da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="3a8a4-137">Format negotiation with the mixer works as follows:</span></span>

1.  <span data-ttu-id="3a8a4-138">O EVR define o tipo de mídia no fluxo de referência.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-138">The EVR sets the media type on the reference stream.</span></span>
2.  <span data-ttu-id="3a8a4-139">O EVR chama [**IMFVideoPresenter::P rocessmessage**](/windows/desktop/api/evr/nf-evr-imfvideopresenter-processmessage) no apresentador com a mensagem **MFVP \_ Message \_ INVALIDATEMEDIATYPE** .</span><span class="sxs-lookup"><span data-stu-id="3a8a4-139">The EVR calls [**IMFVideoPresenter::ProcessMessage**](/windows/desktop/api/evr/nf-evr-imfvideopresenter-processmessage) on the presenter with the **MFVP\_MESSAGE\_INVALIDATEMEDIATYPE** message.</span></span>

3.  <span data-ttu-id="3a8a4-140">O apresentador define o tipo de mídia no fluxo de saída do mixer.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-140">The presenter sets the media type on the mixer's output stream.</span></span>
4.  <span data-ttu-id="3a8a4-141">O EVR define o tipo de mídia nos subfluxos.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-141">The EVR sets the media type on the substreams.</span></span>

<span data-ttu-id="3a8a4-142">Se o tipo de mídia no fluxo de referência for alterado, os outros tipos de mídia do mixer não serão mais válidos.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-142">If the media type on the reference stream changes, the mixer's other media types are no longer valid.</span></span> <span data-ttu-id="3a8a4-143">O método [**IMFTransform::P rocessoutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) do mixer falhará e retornará a **\_ alteração do \_ \_ fluxo \_ de MF e de transformação**.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-143">The mixer's [**IMFTransform::ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) method will then fail and return **MF\_E\_TRANSFORM\_STREAM\_CHANGE**.</span></span> <span data-ttu-id="3a8a4-144">O apresentador não deve fazer nada neste ponto.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-144">The presenter should not do anything at this point.</span></span> <span data-ttu-id="3a8a4-145">O EVR iniciará o processo de negociação de formato novamente.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-145">The EVR will initiate the format negotiation process again.</span></span>

<span data-ttu-id="3a8a4-146">Quando qualquer fluxo de entrada atinge o final do fluxo, o EVR chama [**IMFTransform::P rocessmessage**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processmessage) no mixer com o [**\_ \_ \_ fim \_ da notificação de mensagem \_ de MFT**](mft-message-notify-end-of-stream.md).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-146">When any input stream reaches the end of the stream, the EVR calls [**IMFTransform::ProcessMessage**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processmessage) on the mixer with [**MFT\_MESSAGE\_NOTIFY\_END\_OF\_STREAM**](mft-message-notify-end-of-stream.md).</span></span>

<span data-ttu-id="3a8a4-147">O mixer envia os eventos a seguir para o EVR, usando a interface [**IMediaEventSink**](/windows/win32/api/strmif/nn-strmif-imediaeventsink) do EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-147">The mixer sends the following events to the EVR, using the EVR's [**IMediaEventSink**](/windows/win32/api/strmif/nn-strmif-imediaeventsink) interface.</span></span> <span data-ttu-id="3a8a4-148">Essa interface está documentada na documentação do SDK do DirectShow.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-148">This interface is documented in the DirectShow SDK documentation.</span></span>



| <span data-ttu-id="3a8a4-149">Evento</span><span class="sxs-lookup"><span data-stu-id="3a8a4-149">Event</span></span>                                            | <span data-ttu-id="3a8a4-150">Descrição</span><span class="sxs-lookup"><span data-stu-id="3a8a4-150">Description</span></span>                            |
|--------------------------------------------------|----------------------------------------|
| [<span data-ttu-id="3a8a4-151">**exemplo de EC \_ \_ necessário**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-151">**EC\_SAMPLE\_NEEDED**</span></span>](../directshow/ec-sample-needed.md) | <span data-ttu-id="3a8a4-152">O mixer requer um novo exemplo de entrada.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-152">The mixer requires a new input sample.</span></span> |



 

<span data-ttu-id="3a8a4-153">O EVR pode chamar [**ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) no mixer antes de o streaming começar.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-153">The EVR might call [**ProcessOutput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processoutput) on the mixer before streaming starts.</span></span> <span data-ttu-id="3a8a4-154">O mixer não deve reprovar essas chamadas.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-154">The mixer should not fail these calls.</span></span> <span data-ttu-id="3a8a4-155">Em vez disso, ele deve preencher a superfície de saída com pixels pretos.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-155">Instead, it should fill the output surface with black pixels.</span></span> <span data-ttu-id="3a8a4-156">O mixer deve continuar a amostras de saída de preenchimento de cor até receber uma mensagem de [**MFT \_ \_ notificar \_ início \_**](mft-message-notify-begin-streaming.md) de mensagem de streaming ou o método [**ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) é chamado.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-156">The mixer should continue to color-fill output samples until it receives an [**MFT\_MESSAGE\_NOTIFY\_BEGIN\_STREAMING**](mft-message-notify-begin-streaming.md) message or the [**ProcessInput**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-processinput) method is called.</span></span> <span data-ttu-id="3a8a4-157">Se o mixer receber uma mensagem de [**MFT \_ \_ notificar \_ término de \_ transmissão de mensagem**](mft-message-notify-end-streaming.md) , ele deverá retornar ao modo de preenchimento de cor.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-157">If the mixer receives an [**MFT\_MESSAGE\_NOTIFY\_END\_STREAMING**](mft-message-notify-end-streaming.md) message, it should switch back to color-fill mode.</span></span>

## <a name="implementing-imfvideodeviceid"></a><span data-ttu-id="3a8a4-158">Implementando IMFVideoDeviceID</span><span class="sxs-lookup"><span data-stu-id="3a8a4-158">Implementing IMFVideoDeviceID</span></span>

<span data-ttu-id="3a8a4-159">A interface [**IMFVideoDeviceID**](/windows/desktop/api/evr/nn-evr-imfvideodeviceid) contém um método, [**DeviceID**](/windows/desktop/api/evr/nf-evr-imfvideodeviceid-getdeviceid), que retorna um GUID de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-159">The [**IMFVideoDeviceID**](/windows/desktop/api/evr/nn-evr-imfvideodeviceid) interface contains one method, [**GetDeviceID**](/windows/desktop/api/evr/nf-evr-imfvideodeviceid-getdeviceid), which returns a device GUID.</span></span> <span data-ttu-id="3a8a4-160">O GUID do dispositivo garante que o apresentador e o mixer usem tecnologias compatíveis.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-160">The device GUID ensures that the presenter and the mixer use compatible technologies.</span></span> <span data-ttu-id="3a8a4-161">Se os GUIDs do dispositivo não corresponderem, o EVR não será inicializado.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-161">If the device GUIDs do not match, the EVR fails to initialize.</span></span>

<span data-ttu-id="3a8a4-162">O mixer e o apresentador padrão usam o Direct3D 9, com o GUID do dispositivo igual ao IID \_ IDirect3DDevice9.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-162">The standard mixer and presenter both use Direct3D 9, with the device GUID equal to IID\_IDirect3DDevice9.</span></span> <span data-ttu-id="3a8a4-163">Se você pretende usar seu apresentador personalizado com o mixer padrão, o GUID do dispositivo do apresentador deve ser IID \_ IDirect3DDevice9.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-163">If you intend to use your custom presenter with the standard mixer, the presenter's device GUID must be IID\_IDirect3DDevice9.</span></span> <span data-ttu-id="3a8a4-164">Se você substituir ambos os componentes, poderá definir um novo GUID de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-164">If you replace both components, you could define a new device GUID.</span></span>

## <a name="implementing-imftopologyservicelookupclient"></a><span data-ttu-id="3a8a4-165">Implementando IMFTopologyServiceLookupClient</span><span class="sxs-lookup"><span data-stu-id="3a8a4-165">Implementing IMFTopologyServiceLookupClient</span></span>

<span data-ttu-id="3a8a4-166">O mixer deve implementar a interface [**IMFTopologyServiceLookupClient**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) .</span><span class="sxs-lookup"><span data-stu-id="3a8a4-166">The mixer must implement the [**IMFTopologyServiceLookupClient**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookupclient) interface.</span></span> <span data-ttu-id="3a8a4-167">Antes de o streaming começar, o EVR chama [**IMFTopologyServiceLookupClient:: InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers) e passa um ponteiro para a interface [**IMFTopologyServiceLookup**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookup) do EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-167">Before streaming begins, the EVR calls [**IMFTopologyServiceLookupClient::InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers) and passes in a pointer to the EVR's [**IMFTopologyServiceLookup**](/windows/desktop/api/evr/nn-evr-imftopologyservicelookup) interface.</span></span> <span data-ttu-id="3a8a4-168">O mixer usa esse ponteiro para obter ponteiros de interface do EVR.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-168">The mixer uses this pointer to get interface pointers from the EVR.</span></span>

<span data-ttu-id="3a8a4-169">No mínimo, o mixer deve consultar a seguinte interface:</span><span class="sxs-lookup"><span data-stu-id="3a8a4-169">At a minimum, the mixer must query for the following interface:</span></span>

-   [<span data-ttu-id="3a8a4-170">**IMediaEventSink**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-170">**IMediaEventSink**</span></span>](/windows/win32/api/strmif/nn-strmif-imediaeventsink)

<span data-ttu-id="3a8a4-171">Quando EVR chama [**IMFTopologyServiceLookupClient:: ReleaseServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-releaseservicepointers), o mixer deve liberar todos os ponteiros obtidos da chamada para [**InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-171">When the EVR calls [**IMFTopologyServiceLookupClient::ReleaseServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-releaseservicepointers), the mixer must release any pointers obtained from the call to [**InitServicePointers**](/windows/desktop/api/evr/nf-evr-imftopologyservicelookupclient-initservicepointers).</span></span>

## <a name="mixer-attributes"></a><span data-ttu-id="3a8a4-172">Atributos do mixer</span><span class="sxs-lookup"><span data-stu-id="3a8a4-172">Mixer Attributes</span></span>

<span data-ttu-id="3a8a4-173">Um mixer deve dar suporte aos seguintes atributos.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-173">A mixer should support the following attributes.</span></span>



| <span data-ttu-id="3a8a4-174">Atributo</span><span class="sxs-lookup"><span data-stu-id="3a8a4-174">Attribute</span></span>                                                                        | <span data-ttu-id="3a8a4-175">Descrição</span><span class="sxs-lookup"><span data-stu-id="3a8a4-175">Description</span></span>                                                                                                                                                                                                                                           |
|----------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3a8a4-176">**\_Reconhecimento de \_ D3D \_ SA do MF**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-176">**MF\_SA\_D3D\_AWARE**</span></span>](mf-sa-d3d-aware-attribute.md)                          | <span data-ttu-id="3a8a4-177">Especifica se o mixer dá suporte a DXVA (aceleração de vídeo do DirectX).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-177">Specifies whether the mixer supports DirectX Video Acceleration (DXVA).</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="3a8a4-178">**\_contagem de \_ \_ amostra necessária da SA \_ MF**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-178">**MF\_SA\_REQUIRED\_SAMPLE\_COUNT**</span></span>](mf-sa-required-sample-count-attribute.md) | <span data-ttu-id="3a8a4-179">O número de amostras de vídeo que o EVR deve alocar para cada fluxo de mixer.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-179">The number of video samples the EVR should allocate for each mixer stream.</span></span> <span data-ttu-id="3a8a4-180">Esse atributo se aplica a fluxos individuais; Use o repositório de atributos retornado por [**IMFTransform:: GetInputStreamAttributes**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputstreamattributes).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-180">This attribute applies to individual streams; use the attribute store returned by [**IMFTransform::GetInputStreamAttributes**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputstreamattributes).</span></span> |



 

## <a name="setting-the-mixer-on-the-evr"></a><span data-ttu-id="3a8a4-181">Configurando o mixer no EVR</span><span class="sxs-lookup"><span data-stu-id="3a8a4-181">Setting the Mixer on the EVR</span></span>

<span data-ttu-id="3a8a4-182">Para definir um mixer personalizado no EVR, chame [**IMFVideoRenderer:: InitializeRenderer**](/windows/desktop/api/evr/nf-evr-imfvideorenderer-initializerenderer).</span><span class="sxs-lookup"><span data-stu-id="3a8a4-182">To set a custom mixer on the EVR, call [**IMFVideoRenderer::InitializeRenderer**](/windows/desktop/api/evr/nf-evr-imfvideorenderer-initializerenderer).</span></span> <span data-ttu-id="3a8a4-183">O filtro EVR do DirectShow e o coletor de mídia EVR implementam esse método.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-183">Both the DirectShow EVR filter and the EVR media sink implement this method.</span></span>

<span data-ttu-id="3a8a4-184">**Objeto de ativação EVR**.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-184">**EVR Activation Object**.</span></span> <span data-ttu-id="3a8a4-185">Se você estiver usando o objeto de ativação EVR, poderá fornecer um mixer personalizado definindo um dos seguintes atributos no objeto de ativação EVR:</span><span class="sxs-lookup"><span data-stu-id="3a8a4-185">If you are using the EVR activation object, you can provide a custom mixer by setting one of the following attributes on the EVR activation object:</span></span>



| <span data-ttu-id="3a8a4-186">Atributo</span><span class="sxs-lookup"><span data-stu-id="3a8a4-186">Attribute</span></span>                                                                                                 | <span data-ttu-id="3a8a4-187">Descrição</span><span class="sxs-lookup"><span data-stu-id="3a8a4-187">Description</span></span>                                                                                                                           |
|-----------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3a8a4-188">**ativar \_ \_ mixer de \_ vídeo \_ personalizado \_ do MF ativar**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-188">**MF\_ACTIVATE\_CUSTOM\_VIDEO\_MIXER\_ACTIVATE**</span></span>](mf-activate-custom-video-mixer-activate-attribute.md) | <span data-ttu-id="3a8a4-189">Ponteiro para um objeto de ativação para o mixer.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-189">Pointer to an activation object for the mixer.</span></span> <span data-ttu-id="3a8a4-190">O objeto de ativação deve implementar a interface [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) .</span><span class="sxs-lookup"><span data-stu-id="3a8a4-190">The activation object must implement the [**IMFActivate**](/windows/desktop/api/mfobjects/nn-mfobjects-imfactivate) interface.</span></span> |
| [<span data-ttu-id="3a8a4-191">**\_Ativar \_ CLSID do \_ mixer de vídeo personalizado \_ \_ MF**</span><span class="sxs-lookup"><span data-stu-id="3a8a4-191">**MF\_ACTIVATE\_CUSTOM\_VIDEO\_MIXER\_CLSID**</span></span>](mf-activate-custom-video-mixer-clsid-attribute.md)       | <span data-ttu-id="3a8a4-192">CLSID do mixer.</span><span class="sxs-lookup"><span data-stu-id="3a8a4-192">CLSID of the mixer.</span></span>                                                                                                                   |



 

## <a name="related-topics"></a><span data-ttu-id="3a8a4-193">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="3a8a4-193">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3a8a4-194">Processador de vídeo aprimorado</span><span class="sxs-lookup"><span data-stu-id="3a8a4-194">Enhanced Video Renderer</span></span>](enhanced-video-renderer.md)
</dt> </dl>

 

 
