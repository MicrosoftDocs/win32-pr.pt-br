---
description: Propriedades de codificação
ms.assetid: 6845c3fb-38a8-4b0d-aea2-e10f7e518653
title: Propriedades de codificação
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 093b72dc37501ca88882c6e3b530cda0eed1baa2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104089774"
---
# <a name="encoding-properties"></a><span data-ttu-id="56840-103">Propriedades de codificação</span><span class="sxs-lookup"><span data-stu-id="56840-103">Encoding Properties</span></span>

<span data-ttu-id="56840-104">Os codificadores de vídeo de áudio do Windows e Windows Media oferecem suporte a uma variedade de modos de codificação.</span><span class="sxs-lookup"><span data-stu-id="56840-104">The Windows Media Audio and Windows Media Video encoders support a variety of encoding modes.</span></span> <span data-ttu-id="56840-105">Esses modos geralmente são configurados definindo propriedades no codificador [Media Foundation transformação](media-foundation-transforms.md) (MFT).</span><span class="sxs-lookup"><span data-stu-id="56840-105">These modes are generally configured by setting properties on the encoder [Media Foundation transform](media-foundation-transforms.md) (MFT).</span></span> <span data-ttu-id="56840-106">Para executar a codificação de arquivo, seja usando componentes de nível de WMContainer ou criando uma topologia parcial, você deve configurar o codificador adequadamente definindo as propriedades dependendo do modo de codificação e do tipo de mídia do fluxo.</span><span class="sxs-lookup"><span data-stu-id="56840-106">To perform file encoding, whether using WMContainer-level components or by building a partial topology, you must configure the encoder appropriately by setting properties depending on the mode of encoding and the media type of the stream.</span></span> <span data-ttu-id="56840-107">O mesmo conjunto de propriedades deve ser definido no codificador e no objeto (coletor de arquivo ASF ou multiplexador ASF) que você está usando para gravar o arquivo ASF.</span><span class="sxs-lookup"><span data-stu-id="56840-107">The same set of properties must be set both on the encoder and the object (ASF file sink or ASF multiplexer) you are using to write the ASF file.</span></span>

<span data-ttu-id="56840-108">As propriedades do codificador são definidas em wmcodecdsp. h.</span><span class="sxs-lookup"><span data-stu-id="56840-108">The encoder properties are defined in wmcodecdsp.h.</span></span> <span data-ttu-id="56840-109">As propriedades específicas que são usadas para configurar o codificador são definidas usando os métodos da interface [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) .</span><span class="sxs-lookup"><span data-stu-id="56840-109">The specific properties that are used to configure the encoder are set by using the methods of the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface.</span></span>

-   [<span data-ttu-id="56840-110">Propriedades do fluxo de áudio</span><span class="sxs-lookup"><span data-stu-id="56840-110">Audio Stream Properties</span></span>](#audio-stream-properties)
-   [<span data-ttu-id="56840-111">Propriedades de fluxo de vídeo</span><span class="sxs-lookup"><span data-stu-id="56840-111">Video Stream Properties</span></span>](#video-stream-properties)
-   [<span data-ttu-id="56840-112">Configurando o armazenamento de propriedades do codificador</span><span class="sxs-lookup"><span data-stu-id="56840-112">Configuring the Encoder's Property Store</span></span>](#configuring-the-encoders-property-store)

### <a name="audio-stream-properties"></a><span data-ttu-id="56840-113">Propriedades do fluxo de áudio</span><span class="sxs-lookup"><span data-stu-id="56840-113">Audio Stream Properties</span></span>

<span data-ttu-id="56840-114">A tabela a seguir mostra as configurações do codificador para um fluxo de áudio.</span><span class="sxs-lookup"><span data-stu-id="56840-114">The following table shows the encoder configurations for an audio stream.</span></span>



| <span data-ttu-id="56840-115">Tipo de codificação</span><span class="sxs-lookup"><span data-stu-id="56840-115">Encoding type</span></span>                                                                                        | <span data-ttu-id="56840-116">Nome da propriedade-valor</span><span class="sxs-lookup"><span data-stu-id="56840-116">Property name - Value</span></span>                                                                                                                                                                               |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="56840-117">Codificação de taxa de bits constante</span><span class="sxs-lookup"><span data-stu-id="56840-117">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="56840-118">MFPKEY \_ VBRENABLED- **false** (opcional) por padrão, MFPKEY \_ VBRENABLED é definido como **false**.</span><span class="sxs-lookup"><span data-stu-id="56840-118">MFPKEY\_VBRENABLED - **FALSE** (Optional)By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/>                                                                                             |
| [<span data-ttu-id="56840-119">Codificação de taxa de bits variável baseada em qualidade</span><span class="sxs-lookup"><span data-stu-id="56840-119">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="56840-120">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-120">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-121">MFPKEY \_ PASSESUSED-1 (opcional)</span><span class="sxs-lookup"><span data-stu-id="56840-121">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="56840-122">Por padrão, MFPKEY \_ PASSESUSED é definido como 1.</span><span class="sxs-lookup"><span data-stu-id="56840-122">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="56840-123">MFPKEY \_ desired \_ VBRQUALITY-de 0 a 100</span><span class="sxs-lookup"><span data-stu-id="56840-123">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="56840-124">Codificação de taxa de bits variável irrestrita</span><span class="sxs-lookup"><span data-stu-id="56840-124">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="56840-125">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-125">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-126">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="56840-126">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="56840-127">Codificação de taxa de bits de variável com restrição de pico</span><span class="sxs-lookup"><span data-stu-id="56840-127">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="56840-128">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-128">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-129">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="56840-129">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="56840-130">MFPKEY \_ RMAX-taxa de bits máxima</span><span class="sxs-lookup"><span data-stu-id="56840-130">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="56840-131">MFPKEY \_ BMAX-janela de buffer máximo</span><span class="sxs-lookup"><span data-stu-id="56840-131">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="video-stream-properties"></a><span data-ttu-id="56840-132">Propriedades de fluxo de vídeo</span><span class="sxs-lookup"><span data-stu-id="56840-132">Video Stream Properties</span></span>

<span data-ttu-id="56840-133">A tabela a seguir mostra as configurações do codificador para um fluxo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="56840-133">The following table shows the encoder configurations for a video stream.</span></span>



| <span data-ttu-id="56840-134">Tipo de codificação</span><span class="sxs-lookup"><span data-stu-id="56840-134">Encoding type</span></span>                                                                                        | <span data-ttu-id="56840-135">Nome da propriedade</span><span class="sxs-lookup"><span data-stu-id="56840-135">Property name</span></span>                                                                                                                                                                                       |
|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="56840-136">Codificação de taxa de bits constante</span><span class="sxs-lookup"><span data-stu-id="56840-136">Constant Bit Rate Encoding</span></span>](constant-bit-rate-encoding.md)                                         | <span data-ttu-id="56840-137">MFPKEY \_ VBRENABLED- **false** (opcional)</span><span class="sxs-lookup"><span data-stu-id="56840-137">MFPKEY\_VBRENABLED - **FALSE** (Optional)</span></span><br/> <span data-ttu-id="56840-138">Por padrão, MFPKEY \_ VBRENABLED é definido como **false**.</span><span class="sxs-lookup"><span data-stu-id="56840-138">By default, MFPKEY\_VBRENABLED is set to **FALSE**.</span></span><br/> <span data-ttu-id="56840-139">\_Janela MFPKEY VIDEOWINDOW-buffer</span><span class="sxs-lookup"><span data-stu-id="56840-139">MFPKEY\_VIDEOWINDOW - Buffer window</span></span><br/>                                  |
| [<span data-ttu-id="56840-140">Codificação de taxa de bits variável baseada em qualidade</span><span class="sxs-lookup"><span data-stu-id="56840-140">Quality-Based Variable Bit Rate Encoding</span></span>](quality-based-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="56840-141">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-141">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-142">MFPKEY \_ PASSESUSED-1 (opcional)</span><span class="sxs-lookup"><span data-stu-id="56840-142">MFPKEY\_PASSESUSED - 1 (Optional)</span></span><br/> <span data-ttu-id="56840-143">Por padrão, MFPKEY \_ PASSESUSED é definido como 1.</span><span class="sxs-lookup"><span data-stu-id="56840-143">By default, MFPKEY\_PASSESUSED is set to 1.</span></span><br/> <span data-ttu-id="56840-144">MFPKEY \_ desired \_ VBRQUALITY-de 0 a 100</span><span class="sxs-lookup"><span data-stu-id="56840-144">MFPKEY\_DESIRED\_VBRQUALITY - From 0 to 100</span></span><br/> |
| [<span data-ttu-id="56840-145">Codificação de taxa de bits variável irrestrita</span><span class="sxs-lookup"><span data-stu-id="56840-145">Unconstrained Variable Bit Rate Encoding</span></span>](unconstrained-variable-bit-rate--vbr--encoding.md)       | <span data-ttu-id="56840-146">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-146">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-147">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="56840-147">MFPKEY\_PASSESUSED - 2</span></span><br/>                                                                                                                          |
| [<span data-ttu-id="56840-148">Codificação de taxa de bits de variável com restrição de pico</span><span class="sxs-lookup"><span data-stu-id="56840-148">Peak-Constrained Variable Bit Rate Encoding</span></span>](peak-constrained-variable-bit-rate--vbr--encoding.md) | <span data-ttu-id="56840-149">MFPKEY \_ VBRENABLED- **true**</span><span class="sxs-lookup"><span data-stu-id="56840-149">MFPKEY\_VBRENABLED - **TRUE**</span></span><br/> <span data-ttu-id="56840-150">MFPKEY \_ PASSESUSED-2</span><span class="sxs-lookup"><span data-stu-id="56840-150">MFPKEY\_PASSESUSED - 2</span></span><br/> <span data-ttu-id="56840-151">MFPKEY \_ RMAX-taxa de bits máxima</span><span class="sxs-lookup"><span data-stu-id="56840-151">MFPKEY\_RMAX - Maximum bit rate</span></span><br/> <span data-ttu-id="56840-152">MFPKEY \_ BMAX-janela de buffer máximo</span><span class="sxs-lookup"><span data-stu-id="56840-152">MFPKEY\_BMAX - Maximum buffer window</span></span><br/>                               |



 

### <a name="configuring-the-encoders-property-store"></a><span data-ttu-id="56840-153">Configurando o armazenamento de propriedades do codificador</span><span class="sxs-lookup"><span data-stu-id="56840-153">Configuring the Encoder's Property Store</span></span>

<span data-ttu-id="56840-154">Você deve configurar um codificador especificando o tipo de codificação e as várias configurações específicas de fluxo antes da sessão de codificação.</span><span class="sxs-lookup"><span data-stu-id="56840-154">You must configure an encoder by specifying the type of encoding and the various stream-specific settings before the encoding session.</span></span> <span data-ttu-id="56840-155">Você também deve definir as propriedades do codificador no repositório de propriedades de um [objeto ASF ContentInfo](asf-contentinfo-object.md) que representa o objeto de cabeçalho ASF do arquivo de saída.</span><span class="sxs-lookup"><span data-stu-id="56840-155">You must also set the encoder properties in the property store of an [ASF ContentInfo Object](asf-contentinfo-object.md) that represents the ASF Header Object of the output file.</span></span>

<span data-ttu-id="56840-156">Se você estiver usando um MFT do codificador:</span><span class="sxs-lookup"><span data-stu-id="56840-156">If you are using an encoder MFT:</span></span>

1.  <span data-ttu-id="56840-157">Obtenha uma referência à interface [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) do MFT do codificador, conforme descrito em [usando a interface IMFTransform de um codificador](using-an-encoder-s-imftransform--interface.md).</span><span class="sxs-lookup"><span data-stu-id="56840-157">Get a reference to the encoder MFT's [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface as described in [Using an Encoder's IMFTransform Interface](using-an-encoder-s-imftransform--interface.md).</span></span>
2.  <span data-ttu-id="56840-158">Consultando o MFT do codificador para a interface **IPropertyStore** .</span><span class="sxs-lookup"><span data-stu-id="56840-158">Querying the encoder MFT for the **IPropertyStore** interface.</span></span>
3.  <span data-ttu-id="56840-159">Definindo as propriedades necessárias chamando **IPropertyStore:: SetValue**.</span><span class="sxs-lookup"><span data-stu-id="56840-159">Setting the required properties by calling **IPropertyStore::SetValue**.</span></span>

<span data-ttu-id="56840-160">Se você estiver usando objetos internos de ativação do codificador e já tiver criado um configurado o coletor de arquivos ASF, poderá passar o repositório de propriedades do coletor de mídia ASF para [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) ou [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span><span class="sxs-lookup"><span data-stu-id="56840-160">If you are using the built-in encoder activation objects and have already created an configured the ASF file sink, you can pass the ASF media sink's property store to [**MFCreateWMAEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmaencoderactivate) or [**MFCreateWMVEncoderActivate**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreatewmvencoderactivate).</span></span> <span data-ttu-id="56840-161">O codificador é configurado automaticamente com base nas configurações especificadas pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="56840-161">The encoder is configured automatically based on the settings specified by the application.</span></span> <span data-ttu-id="56840-162">Para obter mais informações, consulte o procedimento descrito em [usando objetos de ativação de um codificador](using-an-encoder-s-activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="56840-162">For more information, see the procedure described in [Using an Encoder's Activation Objects](using-an-encoder-s-activation-objects.md).</span></span>

<span data-ttu-id="56840-163">Para obter mais informações sobre como criar objetos de Media Foundation usando objetos de ativação, consulte [objetos de ativação](activation-objects.md).</span><span class="sxs-lookup"><span data-stu-id="56840-163">For more information about creating Media Foundation objects by using activation objects, see [Activation Objects](activation-objects.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="56840-164">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="56840-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="56840-165">Criando uma instância de um MFT do codificador</span><span class="sxs-lookup"><span data-stu-id="56840-165">Instantiating an Encoder MFT</span></span>](instantiating-the-encoder-mft.md)
</dt> <dt>

[<span data-ttu-id="56840-166">Codificadores de mídia do Windows</span><span class="sxs-lookup"><span data-stu-id="56840-166">Windows Media Encoders</span></span>](windows-media-encoders.md)
</dt> </dl>

 

 
