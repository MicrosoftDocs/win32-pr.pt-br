---
description: Implementação de codec.
ms.assetid: 5ec23f95-cc7d-4c16-979a-f1d2cc485bb0
title: Implementação de codec
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 201c0cb46fc61f117c9b45d059b102560986d5b7
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103826742"
---
# <a name="codec-implementation"></a><span data-ttu-id="01d3a-103">Implementação de codec</span><span class="sxs-lookup"><span data-stu-id="01d3a-103">Codec implementation</span></span>

<span data-ttu-id="01d3a-104">Os codecs de áudio e vídeo do Windows Media são implementados como objetos COM.</span><span class="sxs-lookup"><span data-stu-id="01d3a-104">The Windows Media Audio and Video codecs are implemented as COM objects.</span></span> <span data-ttu-id="01d3a-105">Normalmente, um codec é implementado como um par de objetos COM: um para o codificador e outro para o decodificador.</span><span class="sxs-lookup"><span data-stu-id="01d3a-105">Typically, a codec is implemented as a pair of COM objects: one for the encoder and one for the decoder.</span></span> <span data-ttu-id="01d3a-106">O codificador tem um identificador de classe (CLSID) e o decodificador tem um CLSID diferente.</span><span class="sxs-lookup"><span data-stu-id="01d3a-106">The encoder has a class identifier (CLSID) and the decoder has a different CLSID.</span></span> <span data-ttu-id="01d3a-107">Por exemplo, a parte do codificador do codec do Windows Media Audio 9 tem um CLSID representado pela constante **CLSID \_ CWMAEncMediaObject** e a parte do decodificador desse mesmo codec tem um CLSID representado pelo **\_ CWMADecMediaObject CLSID** de constante.</span><span class="sxs-lookup"><span data-stu-id="01d3a-107">For example, the encoder portion of the Windows Media Audio 9 codec has a CLSID represented by the constant **CLSID\_CWMAEncMediaObject**, and the decoder portion of that same codec has a CLSID represented by the constant **CLSID\_CWMADecMediaObject**.</span></span>

<span data-ttu-id="01d3a-108">Em alguns casos, mais de um codificador é incluído em um único objeto COM.</span><span class="sxs-lookup"><span data-stu-id="01d3a-108">In some cases, more than one encoder is included in a single COM object.</span></span> <span data-ttu-id="01d3a-109">Por exemplo, o codificador do Windows Media Video 9 e o codificador do Windows Media Video 9,1 fazem parte do mesmo objeto COM.</span><span class="sxs-lookup"><span data-stu-id="01d3a-109">For example, the Windows Media Video 9 encoder and the Windows Media Video 9.1 encoder are both part of the same COM object.</span></span> <span data-ttu-id="01d3a-110">Consequentemente, ambos têm o mesmo CLSID, que é representado pela constante **CLSID \_ CWMV9EncMediaObject**.</span><span class="sxs-lookup"><span data-stu-id="01d3a-110">Consequently, they both have the same CLSID, which is represented by the constant **CLSID\_CWMV9EncMediaObject**.</span></span> <span data-ttu-id="01d3a-111">Da mesma forma, alguns objetos COM incluem mais de um decodificador.</span><span class="sxs-lookup"><span data-stu-id="01d3a-111">Similarly, some COM objects include more than one decoder.</span></span>

<span data-ttu-id="01d3a-112">Cada objeto de codificador ou decodificador expõe a interface [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) para que o objeto possa ser usado como um objeto de mídia DirectX (DMO) e a interface [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) para que o objeto possa ser usado como uma Media Foundation transformação (MFT).</span><span class="sxs-lookup"><span data-stu-id="01d3a-112">Each encoder or decoder object exposes the [**IMediaObject**](/previous-versions/ms785953%28v%3dvs.85%29) interface so that the object can be used as a DirectX Media Object (DMO) and the [**IMFTransform**](/windows/desktop/api/mftransform/nn-mftransform-imftransform) interface so that the object can be used as a Media Foundation Transform (MFT).</span></span>

<span data-ttu-id="01d3a-113">Para a maioria dos codificadores, independentemente de você usar o codificador como um DMO ou uma MFT, use o mesmo CLSID para criar uma instância do codificador.</span><span class="sxs-lookup"><span data-stu-id="01d3a-113">For most encoders, regardless of whether you use the encoder as a DMO or an MFT, you use the same CLSID to create an instance of the encoder.</span></span> <span data-ttu-id="01d3a-114">Por exemplo, para criar uma instância do codificador do Windows Media Video 9, use **CLSID \_ CWMV9EncMediaObject**, independentemente de você pretender usar o codificador como um DMO ou uma MFT.</span><span class="sxs-lookup"><span data-stu-id="01d3a-114">For example, to create an instance of the Windows Media Video 9 encoder, you use **CLSID\_CWMV9EncMediaObject**, regardless of whether you intend to use the encoder as a DMO or an MFT.</span></span> <span data-ttu-id="01d3a-115">Da mesma forma, para a maioria dos decodificadores, cada decodificador tem um único CLSID, independentemente de você usar o decodificador como um DMO ou um MFT.</span><span class="sxs-lookup"><span data-stu-id="01d3a-115">Similarly, for most decoders, each decoder has a single CLSID regardless of whether you use the decoder as a DMO or an MFT.</span></span>

> [!Note]  
> <span data-ttu-id="01d3a-116">Há algumas exceções à instrução anterior sobre como usar um único CLSID para o DMO e o MFT.</span><span class="sxs-lookup"><span data-stu-id="01d3a-116">There are some exceptions to the preceding statement about using a single CLSID for both the DMO and the MFT.</span></span> <span data-ttu-id="01d3a-117">Por exemplo, o decodificador MPEG-4 parte 2 tem um CLSID quando ele está atuando como um DMO e um CLSID diferente quando ele está atuando como um MFT.</span><span class="sxs-lookup"><span data-stu-id="01d3a-117">For example, the MPEG-4 Part 2 decoder has one CLSID when it is acting as a DMO and a different CLSID when it is acting as an MFT.</span></span>

 

<span data-ttu-id="01d3a-118">Além das interfaces principais, cada objeto de codificador ou decodificador implementa duas interfaces semelhantes para trabalhar com propriedades de codec, **IPropertyBag** e **IPropertyStore**.</span><span class="sxs-lookup"><span data-stu-id="01d3a-118">In addition to the core interfaces, each encoder or decoder object implements two similar interfaces for working with codec properties, **IPropertyBag** and **IPropertyStore**.</span></span> <span data-ttu-id="01d3a-119">As versões mais antigas dos objetos codificador e decodificador usaram **IPropertyBag**, que identifica cada propriedade por um valor de cadeia de caracteres que contém um nome de propriedade.</span><span class="sxs-lookup"><span data-stu-id="01d3a-119">Older versions of the encoder and decoder objects used **IPropertyBag**, which identifies each property by a string value containing a property name.</span></span> <span data-ttu-id="01d3a-120">**IPropertyStore** é uma interface mais nova que identifica Propriedades com um valor de chave de propriedade exclusivo.</span><span class="sxs-lookup"><span data-stu-id="01d3a-120">**IPropertyStore** is a newer interface that identifies properties with a unique property key value.</span></span> <span data-ttu-id="01d3a-121">O suporte para **IPropertyStore** foi adicionado para fornecer suporte para MFTs.</span><span class="sxs-lookup"><span data-stu-id="01d3a-121">Support for **IPropertyStore** was added to provide support for MFTs.</span></span> <span data-ttu-id="01d3a-122">A maioria das cadeias de caracteres de nome de propriedade **IPropertyBag** tem um GUID de chave de propriedade **IPropertyStore** correspondente e a maioria dos GUIDs tem uma cadeia de caracteres de nome **IPropertyBag** correspondente, com algumas exceções.</span><span class="sxs-lookup"><span data-stu-id="01d3a-122">Most **IPropertyBag** property name strings have a corresponding **IPropertyStore** property key GUID and most of the GUIDs have a corresponding **IPropertyBag** name string, with a few exceptions.</span></span>

<span data-ttu-id="01d3a-123">Esta documentação lista as propriedades por constante de chave de propriedade, mas cada entrada inclui a constante de cadeia de caracteres de nome de propriedade para uso com **IPropertyBag** quando apropriado.</span><span class="sxs-lookup"><span data-stu-id="01d3a-123">This documentation lists the properties by property key constant, but each entry includes the property-name string constant for use with **IPropertyBag** when appropriate.</span></span>

## <a name="related-topics"></a><span data-ttu-id="01d3a-124">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="01d3a-124">Related topics</span></span>

[<span data-ttu-id="01d3a-125">Codificações de mídia do Windows</span><span class="sxs-lookup"><span data-stu-id="01d3a-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
