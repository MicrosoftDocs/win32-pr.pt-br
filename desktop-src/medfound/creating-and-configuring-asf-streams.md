---
description: Cada arquivo ASF contém um ou mais fluxos. O objeto de perfil ASF representa uma coleção de fluxos ASF. Para a codificação ASF, você deve criar e configurar os fluxos que deseja codificar.
ms.assetid: cc89e8bc-58ff-48e2-9668-0dcd6cfd25e1
title: Criando e configurando fluxos ASF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d8eabce588022dd66947f34e4dcd9db61f26448b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105750985"
---
# <a name="creating-and-configuring-asf-streams"></a><span data-ttu-id="b81ab-105">Criando e configurando fluxos ASF</span><span class="sxs-lookup"><span data-stu-id="b81ab-105">Creating and Configuring ASF Streams</span></span>

<span data-ttu-id="b81ab-106">Cada arquivo ASF contém um ou mais fluxos.</span><span class="sxs-lookup"><span data-stu-id="b81ab-106">Each ASF file contains one or more streams.</span></span> <span data-ttu-id="b81ab-107">O objeto de [perfil ASF](asf-profile.md) representa uma coleção de fluxos ASF.</span><span class="sxs-lookup"><span data-stu-id="b81ab-107">The [ASF Profile](asf-profile.md) object represents a collection of ASF streams.</span></span> <span data-ttu-id="b81ab-108">Para a codificação ASF, você deve criar e configurar os fluxos que deseja codificar.</span><span class="sxs-lookup"><span data-stu-id="b81ab-108">For ASF encoding, you must create and configure the streams that you want to encode.</span></span>

<span data-ttu-id="b81ab-109">Um aplicativo pode executar as seguintes tarefas com o objeto de perfil ASF:</span><span class="sxs-lookup"><span data-stu-id="b81ab-109">An application can perform the following tasks with the ASF profile object:</span></span>

-   <span data-ttu-id="b81ab-110">Adicionar ou remover um fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-110">Add or remove a stream.</span></span>
-   <span data-ttu-id="b81ab-111">Obter as definições de configuração de um fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-111">Obtain a stream's configuration settings.</span></span>
-   <span data-ttu-id="b81ab-112">Configurar extensões de carga.</span><span class="sxs-lookup"><span data-stu-id="b81ab-112">Configure payload extensions.</span></span>
-   <span data-ttu-id="b81ab-113">Adicionar, remover ou modificar um objeto de exclusão mútua ASF.</span><span class="sxs-lookup"><span data-stu-id="b81ab-113">Add, remove, or modify an ASF mutual exclusion object.</span></span>

<span data-ttu-id="b81ab-114">Este tópico inclui as seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="b81ab-114">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="b81ab-115">Criando um novo fluxo</span><span class="sxs-lookup"><span data-stu-id="b81ab-115">Creating a New Stream</span></span>](#creating-a-new-stream)
-   [<span data-ttu-id="b81ab-116">Atribuindo números de fluxo</span><span class="sxs-lookup"><span data-stu-id="b81ab-116">Assigning Stream Numbers</span></span>](#assigning-stream-numbers)
-   [<span data-ttu-id="b81ab-117">Definindo valores de buckets vazados</span><span class="sxs-lookup"><span data-stu-id="b81ab-117">Setting Leaky Bucket Values</span></span>](#setting-leaky-bucket-values)
-   [<span data-ttu-id="b81ab-118">Extensões de carga</span><span class="sxs-lookup"><span data-stu-id="b81ab-118">Payload Extensions</span></span>](#payload-extensions)
-   [<span data-ttu-id="b81ab-119">Adicionando um fluxo ao perfil</span><span class="sxs-lookup"><span data-stu-id="b81ab-119">Adding a Stream to the Profile</span></span>](#adding-a-stream-to-the-profile)
-   [<span data-ttu-id="b81ab-120">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="b81ab-120">Related topics</span></span>](#related-topics)

## <a name="creating-a-new-stream"></a><span data-ttu-id="b81ab-121">Criando um novo fluxo</span><span class="sxs-lookup"><span data-stu-id="b81ab-121">Creating a New Stream</span></span>

<span data-ttu-id="b81ab-122">Um objeto de perfil ASF deve conter definições de configuração para pelo menos um fluxo ASF.</span><span class="sxs-lookup"><span data-stu-id="b81ab-122">An ASF profile object must contain configuration settings for at least one ASF stream.</span></span> <span data-ttu-id="b81ab-123">Cada fluxo é representado por um objeto de *configuração de fluxo* , que expõe a interface [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) .</span><span class="sxs-lookup"><span data-stu-id="b81ab-123">Each stream is represented by a *stream configuration* object, which exposes the [**IMFASFStreamConfig**](/windows/desktop/api/wmcontainer/nn-wmcontainer-imfasfstreamconfig) interface.</span></span> <span data-ttu-id="b81ab-124">As informações no objeto de configuração de fluxo correspondem ao objeto de propriedades de fluxo e aos objetos de propriedades de fluxo estendidos no cabeçalho do arquivo ASF.</span><span class="sxs-lookup"><span data-stu-id="b81ab-124">The information in the stream configuration object corresponds to the Stream Properties Object and the Extended Stream Properties Objects in the ASF file header.</span></span> <span data-ttu-id="b81ab-125">(Consulte a [estrutura do arquivo ASF](asf-file-structure.md).)</span><span class="sxs-lookup"><span data-stu-id="b81ab-125">(See [ASF File Structure](asf-file-structure.md).)</span></span>

<span data-ttu-id="b81ab-126">Para adicionar um fluxo a um perfil ASF, execute as seguintes etapas:</span><span class="sxs-lookup"><span data-stu-id="b81ab-126">To add a stream to an ASF profile, perform the following steps:</span></span>

1.  <span data-ttu-id="b81ab-127">Crie um objeto de configuração de fluxo de fluxo vazio.</span><span class="sxs-lookup"><span data-stu-id="b81ab-127">Create an empty stream stream configuration object.</span></span>
2.  <span data-ttu-id="b81ab-128">Configure o fluxo de acordo com os requisitos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-128">Configure the stream according to the application's requirements.</span></span>
3.  <span data-ttu-id="b81ab-129">Adicione o fluxo ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b81ab-129">Add the stream to the profile.</span></span>

<span data-ttu-id="b81ab-130">Para criar um fluxo para o perfil, chame [**IMFASFProfile:: CreateStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) para criar um objeto de configuração de fluxo vazio e receber o ponteiro no parâmetro *ppIStream* .</span><span class="sxs-lookup"><span data-stu-id="b81ab-130">To create a stream for the profile, call [**IMFASFProfile::CreateStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-createstream) to create an empty stream configuration object and receive the pointer in the *ppIStream* parameter.</span></span> <span data-ttu-id="b81ab-131">**CreateStream** precisa saber o tipo do fluxo a ser criado.</span><span class="sxs-lookup"><span data-stu-id="b81ab-131">**CreateStream** needs to know the type of the stream to create.</span></span> <span data-ttu-id="b81ab-132">Os tipos mais comuns de fluxos usados em arquivos ASF são fluxos de áudio e vídeo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-132">The most common types of streams used in ASF files are audio and video streams.</span></span> <span data-ttu-id="b81ab-133">No Media Foundation, os tipos de fluxo são indicados pelo objeto de tipo de mídia que expõe a interface [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) .</span><span class="sxs-lookup"><span data-stu-id="b81ab-133">In Media Foundation, the stream types are denoted by the media type object that exposes the [**IMFMediaType**](/windows/desktop/api/mfobjects/nn-mfobjects-imfmediatype) interface.</span></span> <span data-ttu-id="b81ab-134">O tipo principal do tipo de mídia define a categoria do fluxo de mídia digital, como áudio ou vídeo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-134">The major type of the media type defines the category of the digital media stream, such as audio or video.</span></span> <span data-ttu-id="b81ab-135">O subtipo define o formato do tipo principal.</span><span class="sxs-lookup"><span data-stu-id="b81ab-135">The subtype defines the format of the major type.</span></span> <span data-ttu-id="b81ab-136">O tipo de mídia inicial definido por **CreateStream** pode ser alterado usando o objeto de configuração de fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-136">The initial media type set by **CreateStream** can be changed by using the steam configuration object.</span></span> <span data-ttu-id="b81ab-137">Para recuperar o tipo de mídia para o fluxo, chame [**IMFASFStreamConfig:: GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) ou recupere a chamada de tipo principal [**IMFASFStreamConfig:: getstreamtype**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span><span class="sxs-lookup"><span data-stu-id="b81ab-137">To retrieve the media type for the stream, call [**IMFASFStreamConfig::GetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getmediatype) or to retrieve the major type call [**IMFASFStreamConfig::GetStreamType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamtype).</span></span> <span data-ttu-id="b81ab-138">O tipo de mídia inicial para um fluxo pode ser substituído por um novo tipo de mídia configurado chamando [**IMFASFStreamConfig:: SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span><span class="sxs-lookup"><span data-stu-id="b81ab-138">The initial media type for a stream can be replaced with a new configured media type by calling [**IMFASFStreamConfig::SetMediaType**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setmediatype).</span></span>

<span data-ttu-id="b81ab-139">Se um aplicativo criar um perfil de um descritor de apresentação válido chamando [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span><span class="sxs-lookup"><span data-stu-id="b81ab-139">If an application creates a profile from a valid presentation descriptor by calling [**MFCreateASFProfileFromPresentationDescriptor**](/windows/desktop/api/wmcontainer/nf-wmcontainer-mfcreateasfprofilefrompresentationdescriptor).</span></span> <span data-ttu-id="b81ab-140">A função define automaticamente os objetos de configuração de fluxo para cada um dos fluxos e os define no perfil.</span><span class="sxs-lookup"><span data-stu-id="b81ab-140">The function automatically sets the stream configuration objects for each of the streams and sets them on the profile.</span></span> <span data-ttu-id="b81ab-141">Os tipos de mídia de fluxo são definidos com base nos descritores de fluxo associados ao descriptor de apresentação.</span><span class="sxs-lookup"><span data-stu-id="b81ab-141">The stream media types are set based on the stream descriptors associated with the presentation descriptor.</span></span>

## <a name="assigning-stream-numbers"></a><span data-ttu-id="b81ab-142">Atribuindo números de fluxo</span><span class="sxs-lookup"><span data-stu-id="b81ab-142">Assigning Stream Numbers</span></span>

<span data-ttu-id="b81ab-143">Os fluxos de todos os tipos devem ser atribuídos a um número de fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-143">Streams of all types must be assigned a stream number.</span></span> <span data-ttu-id="b81ab-144">Os números de fluxo não precisam ser sequenciais, mas devem estar no intervalo de 1 a 127.</span><span class="sxs-lookup"><span data-stu-id="b81ab-144">Stream numbers need not be sequential but must be in the range from 1 to 127.</span></span> <span data-ttu-id="b81ab-145">Para atribuir números de fluxo, chame [**IMFASFStreamConfig:: SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="b81ab-145">To assign stream numbers, call [**IMFASFStreamConfig::SetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-setstreamnumber).</span></span> <span data-ttu-id="b81ab-146">Para obter a chamada de número de fluxo, [**IMFASFStreamConfig:: GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span><span class="sxs-lookup"><span data-stu-id="b81ab-146">To get the stream number call, [**IMFASFStreamConfig::GetStreamNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getstreamnumber).</span></span>

> [!Note]  
> <span data-ttu-id="b81ab-147">Um número de fluxo é diferente de um índice de fluxo, que você usa ao obter fluxos em um perfil usando [**IMFASFProfile:: GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span><span class="sxs-lookup"><span data-stu-id="b81ab-147">A stream number is different from a stream index, which you use when getting streams in a profile by using [**IMFASFProfile::GetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstream).</span></span> <span data-ttu-id="b81ab-148">O índice de fluxo é um número atribuído ao fluxo pelo objeto de perfil.</span><span class="sxs-lookup"><span data-stu-id="b81ab-148">The stream index is a number assigned to the stream by the profile object.</span></span> <span data-ttu-id="b81ab-149">Os índices de fluxo variam entre 0 e um menor que o número de fluxos recuperados por [**IMFASFProfile:: GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span><span class="sxs-lookup"><span data-stu-id="b81ab-149">Stream indexes range between 0 and one less than the number of streams retrieved by [**IMFASFProfile::GetStreamCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreamcount).</span></span> <span data-ttu-id="b81ab-150">Você também pode obter um fluxo do perfil por número de fluxo chamando [**IMFASFProfile:: GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span><span class="sxs-lookup"><span data-stu-id="b81ab-150">You can also get a stream from the profile by stream number by calling [**IMFASFProfile::GetStreamByNumber**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-getstreambynumber).</span></span>

 

## <a name="setting-leaky-bucket-values"></a><span data-ttu-id="b81ab-151">Definindo valores de buckets vazados</span><span class="sxs-lookup"><span data-stu-id="b81ab-151">Setting Leaky Bucket Values</span></span>

<span data-ttu-id="b81ab-152">Cada objeto de configuração de fluxo que representa um fluxo deve ter parâmetros de Bucket de vazamento associados, taxa de bits e valores de janela de buffer.</span><span class="sxs-lookup"><span data-stu-id="b81ab-152">Each stream configuration object that represents a stream must have associated leaky bucket parameters, bit rate and buffer window values.</span></span>

<span data-ttu-id="b81ab-153">Esses valores estão disponíveis para o aplicativo por meio do atributo [**MF \_ ASFSTREAMCONFIG \_ LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) e o atributo [**MF \_ ASFSTREAMCONFIG \_ LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) .</span><span class="sxs-lookup"><span data-stu-id="b81ab-153">These values are available to the application through the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET1**](mf-asfstreamconfig-leakybucket1-attribute.md) attribute and the [**MF\_ASFSTREAMCONFIG\_LEAKYBUCKET2**](mf-asfstreamconfig-leakybucket2-attribute.md) attribute.</span></span> <span data-ttu-id="b81ab-154">Para codificação de arquivo, os valores reais dependem do tipo de codificação e são decididos pelo codificador.</span><span class="sxs-lookup"><span data-stu-id="b81ab-154">For file encoding, the actual values depend on the type of encoding and are decided by the encoder.</span></span> <span data-ttu-id="b81ab-155">Se você já tiver um codificador configurado e o tipo de saída estiver definido no codificador, o aplicativo deverá consultar o codificador quanto aos parâmetros de Bucket de vazamento e definir os valores nesses atributos.</span><span class="sxs-lookup"><span data-stu-id="b81ab-155">If you already have a configured encoder and the output type is set on the encoder, the application must query the encoder for the leaky bucket parameters and set the values in these attributes.</span></span>

<span data-ttu-id="b81ab-156">Se você estiver usando os componentes da camada de pipeline e configurando os fluxos para o coletor de mídia ASF, provavelmente não terá um codificador configurado.</span><span class="sxs-lookup"><span data-stu-id="b81ab-156">If you are using the pipeline layer components and configuring the streams for the ASF media sink, most likely, you do not have a configured encoder.</span></span> <span data-ttu-id="b81ab-157">Nesse caso, você deve consultar as negociações do tipo post-Media do codificador e definir o valor atualizado na propriedade [**\_ \_ \_ LEAKYBUCKET ASFSTREAMSINK corrigida do MFPKEY**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) do repositório de propriedades do coletor de mídia do ASF.</span><span class="sxs-lookup"><span data-stu-id="b81ab-157">In this case, you must query the encoder post-media type negotiations and set the updated value in the [**MFPKEY\_ASFSTREAMSINK\_CORRECTED\_LEAKYBUCKET**](mfpkey-asfstreamsink-corrected-leakybucket-property.md) property of the ASF media sink's property store.</span></span> <span data-ttu-id="b81ab-158">O armazenamento de propriedade de codificação é recuperado por meio do do objeto ContentInfo associado ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b81ab-158">The encoding property store is retrieved through the of the ContentInfo object associated with the profile.</span></span> <span data-ttu-id="b81ab-159">Os valores atualizados são refletidos automaticamente nos valores de atributo de Bucket vazado do fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-159">The updated values are reflected in the stream's leaky bucket attribute values automatically.</span></span> <span data-ttu-id="b81ab-160">Para obter informações gerais sobre buckets vazados e como obter o valor de Bucket de vazamento do codificador, consulte o [modelo de buffer de buckets de vazamentos](the-leaky-bucket-buffer-model.md).</span><span class="sxs-lookup"><span data-stu-id="b81ab-160">For general information about leaky buckets and how to get the leaky bucket value from the encoder, see the [The Leaky Bucket Buffer Model](the-leaky-bucket-buffer-model.md).</span></span>

## <a name="payload-extensions"></a><span data-ttu-id="b81ab-161">Extensões de carga</span><span class="sxs-lookup"><span data-stu-id="b81ab-161">Payload Extensions</span></span>

<span data-ttu-id="b81ab-162">Os dados de mídia para os fluxos são adicionados ao objeto de dados ASF como [amostras de mídia](media-samples.md) pelo [Multiplexador de ASF](asf-multiplexer.md).</span><span class="sxs-lookup"><span data-stu-id="b81ab-162">Media data for the streams are added to the ASF Data Object as [Media Samples](media-samples.md) by the [ASF Multiplexer](asf-multiplexer.md).</span></span> <span data-ttu-id="b81ab-163">Esses exemplos de mídia podem conter dados de extensão de carga: dados de código de tempo SMPTE, taxa de proporção de pixel não quadrado, duração de amostra e, se o exemplo contiver, um quadro de chave de vídeo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-163">These media samples can contain payload extension data: SMPTE time code data, non-square pixel aspect ratio, sample duration, and if the sample contains it, a video key frame.</span></span> <span data-ttu-id="b81ab-164">Para obter uma lista dos tipos de extensão de carga com suporte, consulte [GUIDs de extensão de carga ASF](asf-payload-extension-guids.md).</span><span class="sxs-lookup"><span data-stu-id="b81ab-164">For a list of the supported payload extension types, see [ASF Payload Extension GUIDs](asf-payload-extension-guids.md).</span></span>

<span data-ttu-id="b81ab-165">Um fluxo deve ser configurado para aceitar a extensão de carga para que durante a geração de amostra o multiplexador possa adicionar os dados suplementares a cada amostra desse fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-165">A stream must be configured to accept payload extension so that during sample generation the multiplexer can add the supplementary data to each sample for that stream.</span></span>

<span data-ttu-id="b81ab-166">Para obter o número total de extensões de carga definidas no fluxo, chame [**IMFASFStreamConfig:: GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) e, em seguida, enumere a lista chamando [**IMFASFStreamConfig:: GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="b81ab-166">To get the total number of payload extensions set on the stream, call [**IMFASFStreamConfig::GetPayloadExtensionCount**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextensioncount) and then enumerate the list by calling [**IMFASFStreamConfig::GetPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-getpayloadextension).</span></span> <span data-ttu-id="b81ab-167">Para adicionar a extensão de carga para o fluxo, chame [**IMFASFStreamConfig:: AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span><span class="sxs-lookup"><span data-stu-id="b81ab-167">To add payload extension for the stream, call [**IMFASFStreamConfig::AddPayloadExtension**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-addpayloadextension).</span></span> <span data-ttu-id="b81ab-168">Isso adicionará dados suplementares a amostras de mídia individuais geradas para o fluxo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-168">This will add supplementary data to individual media samples generated for the stream.</span></span>

<span data-ttu-id="b81ab-169">Para remover extensões de carga existentes associadas ao fluxo, chame [**IMFASFStreamConfig:: RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span><span class="sxs-lookup"><span data-stu-id="b81ab-169">To remove existing payload extensions associated with the stream, call [**IMFASFStreamConfig::RemoveAllPayloadExtensions**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfstreamconfig-removeallpayloadextensions).</span></span>

## <a name="adding-a-stream-to-the-profile"></a><span data-ttu-id="b81ab-170">Adicionando um fluxo ao perfil</span><span class="sxs-lookup"><span data-stu-id="b81ab-170">Adding a Stream to the Profile</span></span>

<span data-ttu-id="b81ab-171">Depois que um fluxo é configurado, chame [**IMFASFProfile:: SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) para adicionar o fluxo ao perfil.</span><span class="sxs-lookup"><span data-stu-id="b81ab-171">After a stream is configured, call [**IMFASFProfile::SetStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-setstream) to add the stream to the profile.</span></span>

<span data-ttu-id="b81ab-172">Para remover um fluxo existente no perfil, chame [**IMFASFProfile:: RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span><span class="sxs-lookup"><span data-stu-id="b81ab-172">To remove an existing stream in the profile, call [**IMFASFProfile::RemoveStream**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfprofile-removestream).</span></span>

<span data-ttu-id="b81ab-173">O perfil configurado deve ser definido no objeto ContentInfo chamando [**IMFASFContentInfo:: setprofile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span><span class="sxs-lookup"><span data-stu-id="b81ab-173">The configured profile must be set on the ContentInfo object by calling [**IMFASFContentInfo::SetProfile**](/windows/desktop/api/wmcontainer/nf-wmcontainer-imfasfcontentinfo-setprofile).</span></span> <span data-ttu-id="b81ab-174">Se fizer alterações em um fluxo existente, você deverá adicioná-lo novamente ao perfil e definir o perfil no objeto ContentInfo.</span><span class="sxs-lookup"><span data-stu-id="b81ab-174">If make changes to an existing stream, you must add it again to the profile and set the profile on the ContentInfo object.</span></span>

## <a name="related-topics"></a><span data-ttu-id="b81ab-175">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="b81ab-175">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="b81ab-176">Perfil ASF</span><span class="sxs-lookup"><span data-stu-id="b81ab-176">ASF Profile</span></span>](asf-profile.md)
</dt> <dt>

[<span data-ttu-id="b81ab-177">Suporte a ASF no Media Foundation</span><span class="sxs-lookup"><span data-stu-id="b81ab-177">ASF Support in Media Foundation</span></span>](asf-support-in-media-foundation.md)
</dt> <dt>

[<span data-ttu-id="b81ab-178">Componentes ASF WMContainer</span><span class="sxs-lookup"><span data-stu-id="b81ab-178">WMContainer ASF Components</span></span>](wmcontainer-asf-components.md)
</dt> </dl>

 

 



