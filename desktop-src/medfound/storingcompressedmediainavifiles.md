---
description: Descreve como armazenar dados de mídia do Windows em um arquivo AVI.
ms.assetid: f2a9d9ff-4876-4f24-b96a-5d89e42fa3d5
title: Armazenando mídia compactada em arquivos AVI (Microsoft Media Foundation)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 080524a47b4295517d50705f6aeb125d085a8346
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/03/2021
ms.locfileid: "104297948"
---
# <a name="storing-compressed-media-in-avi-files-microsoft-media-foundation"></a><span data-ttu-id="e1b7f-103">Armazenando mídia compactada em arquivos AVI (Microsoft Media Foundation)</span><span class="sxs-lookup"><span data-stu-id="e1b7f-103">Storing Compressed Media in AVI Files (Microsoft Media Foundation)</span></span>

<span data-ttu-id="e1b7f-104">Qualquer conteúdo que você compactar usando os codecs de vídeo e áudio do Windows Media deve ser colocado em algum formato de contêiner.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-104">Any of the content that you compress using the Windows Media Audio and Video codecs must be put in some container format.</span></span> <span data-ttu-id="e1b7f-105">Um dos formatos mais populares é a intercalação de vídeo de áudio, ou AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-105">One of the most popular formats is Audio Video Interleave, or AVI.</span></span> <span data-ttu-id="e1b7f-106">Você pode usar o Microsoft Video para Windows (VfW) ou o Microsoft DirectShow para criar arquivos AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-106">You can use Microsoft Video for Windows (VfW) or Microsoft DirectShow to create AVI files.</span></span> <span data-ttu-id="e1b7f-107">Para obter mais informações sobre como usar vídeo para Windows ou DirectShow, consulte a documentação do produto no MSDN.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-107">For more information about using Video for Windows or DirectShow, refer to the product documentation on MSDN.</span></span>

<span data-ttu-id="e1b7f-108">Os codecs de áudio e vídeo do Windows Media foram desenvolvidos para usar as propriedades do ASF (Advanced Systems Format), que é o contêiner usado pelo Windows Media.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-108">The Windows Media Audio and Video codecs have been developed to use the properties of the Advanced Systems Format (ASF), which is the container used by Windows Media.</span></span> <span data-ttu-id="e1b7f-109">Como o AVI e o ASF armazenam conteúdo de forma diferente, algumas dificuldades surgem ao armazenar o conteúdo compactado com os codecs de vídeo e áudio do Windows Media em um arquivo AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-109">Because AVI and ASF store content differently, some difficulties arise when storing content compressed with the Windows Media Audio and Video codecs in an AVI file.</span></span>

<span data-ttu-id="e1b7f-110">Os codecs de áudio do Windows Media compactam o conteúdo de áudio de forma que ele não possa ser corretamente descompactado sem carimbos de data/hora para os exemplos individuais.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-110">The Windows Media Audio codecs compress audio content in such a way that it cannot be properly decompressed without time stamps for the individual samples.</span></span> <span data-ttu-id="e1b7f-111">Isso permite uma otimização na mídia compactada.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-111">This enables some optimization in the compressed media.</span></span> <span data-ttu-id="e1b7f-112">Como o contêiner do ASF mantém carimbos de data/hora com todos os exemplos, essa característica dos algoritmos de áudio sempre funcionou bem.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-112">Because the ASF container keeps time stamps with all samples, this characteristic of the audio algorithms has always worked well.</span></span>

<span data-ttu-id="e1b7f-113">Os arquivos AVI, no entanto, não mantêm carimbos de data/hora com exemplos.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-113">AVI files, however, do not keep time stamps with samples.</span></span> <span data-ttu-id="e1b7f-114">Isso significa que o conteúdo de áudio do Windows Media não pode ser descompactado corretamente quando armazenado em um arquivo AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-114">This means that Windows Media Audio content cannot be decompressed properly when stored in an AVI file.</span></span> <span data-ttu-id="e1b7f-115">O conteúdo de vídeo do Windows Media não tem essa limitação e pode ser incluído em arquivos AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-115">Windows Media Video content does not have this limitation, and can be included in AVI files.</span></span> <span data-ttu-id="e1b7f-116">Para codificar o conteúdo de vídeo do Windows Media em um arquivo AVI com som sincronizado, você deve usar outro codec de áudio.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-116">To encode Windows Media Video content to an AVI file with synchronized sound, you must use another audio codec.</span></span>

<span data-ttu-id="e1b7f-117">O outro problema com o uso de um arquivo AVI como um contêiner para o Windows Media está relacionado ao vídeo de baixa taxa de bits.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-117">The other issue with using an AVI file as a container for Windows Media concerns low-bit-rate video.</span></span> <span data-ttu-id="e1b7f-118">Uma das maneiras pelas quais os codecs de vídeo do Windows Media produzem conteúdo de vídeo para taxas de bits baixas é descartando os quadros duplicados.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-118">One of the ways in which the Windows Media Video codecs produce video content for low bit rates is by dropping duplicate frames.</span></span> <span data-ttu-id="e1b7f-119">Se você quiser colocar o conteúdo de vídeo do Windows Media em um arquivo ASF, precisará definir o codificador para entregar quadros fictícios para quadros duplicados (Set [MFPKEY \_ PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) to Variant \_ true) para que cada quadro seja representado no arquivo.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-119">If you want to put Windows Media Video content in an ASF file, you need to set the encoder to deliver dummy frames for duplicate frames (set [MFPKEY\_PRODUCEDUMMYFRAMES](mfpkey-producedummyframesproperty.md) to VARIANT\_TRUE) so that every frame is represented in the file.</span></span> <span data-ttu-id="e1b7f-120">Os quadros fictícios produzidos pelo codec têm 8 bytes de tamanho.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-120">The dummy frames produced by the codec are 8 bytes in size.</span></span> <span data-ttu-id="e1b7f-121">No entanto, o quadro gravado no arquivo pelo multiplexador AVI pode ser de centenas de bytes maiores e preenchido com dados aleatórios.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-121">However, the frame written to file by the AVI multiplexer can be hundreds of bytes larger, and filled with random data.</span></span> <span data-ttu-id="e1b7f-122">Um arquivo AVI feito dessa maneira ainda será reproduzido, mas será muito maior do que o esperado.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-122">An AVI file made in this way will still be playable, but it will be much larger than expected.</span></span> <span data-ttu-id="e1b7f-123">Você pode evitar esse problema usando taxas de bits mais altas ao codificar vídeo para armazenamento em arquivos AVI.</span><span class="sxs-lookup"><span data-stu-id="e1b7f-123">You can avoid this problem by using higher bit rates when encoding video for storage in AVI files.</span></span>

## <a name="related-topics"></a><span data-ttu-id="e1b7f-124">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="e1b7f-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e1b7f-125">Codificações de mídia do Windows</span><span class="sxs-lookup"><span data-stu-id="e1b7f-125">Windows Media Codecs</span></span>](windows-media-codecs.md)
</dt> </dl>

 

 



