---
description: Usando a categoria de imagem do Windows Media Video 9,1
ms.assetid: b77e955b-767b-4b64-9421-bacac9edf09c
title: Usando a categoria de imagem do Windows Media Video 9,1
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44b545d37b61a1c89ffdd69615b28f636aa98b32
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/03/2021
ms.locfileid: "105758187"
---
# <a name="using-the-windows-media-video-91-image-category"></a><span data-ttu-id="6a061-103">Usando a categoria de imagem do Windows Media Video 9,1</span><span class="sxs-lookup"><span data-stu-id="6a061-103">Using the Windows Media Video 9.1 Image Category</span></span>

<span data-ttu-id="6a061-104">A categoria de imagem do Windows Media Video 9,1 é diferente das outras categorias de saída com suporte do codificador e do codificador do Windows Media Video 9.</span><span class="sxs-lookup"><span data-stu-id="6a061-104">The Windows Media Video 9.1 Image category is different from the other output categories supported by the Windows Media Video 9 encoder and decoder.</span></span> <span data-ttu-id="6a061-105">Em vez de processar vídeo descompactado, ele usa exemplos de entrada especiais que consistem em dados de transformação estruturados e, ocasionalmente, imagens de bitmap RGB nas quais as transformações são executadas.</span><span class="sxs-lookup"><span data-stu-id="6a061-105">Instead of processing uncompressed video, it takes special input samples that consist of structured transformation data and, occasionally, RGB bitmap images on which the transformations are performed.</span></span>

<span data-ttu-id="6a061-106">O conteúdo codificado da imagem do vídeo 9,1 do Windows Media é praticamente idêntico ao conteúdo codificado regular do Windows Media Video 9, mas é identificado por seu próprio FOURCC ("WMVP").</span><span class="sxs-lookup"><span data-stu-id="6a061-106">The encoded Windows Media Video 9.1 Image content is virtually identical to regular Windows Media Video 9 encoded content, but it is identified by its own FOURCC ("WMVP").</span></span>

<span data-ttu-id="6a061-107">O tipo de saída do codificador para imagem de vídeo é definido exatamente da mesma forma que o vídeo padrão do Windows Media, exceto que os valores de subtipo e de compactação devem ser definidos para os identificadores de imagem de vídeo.</span><span class="sxs-lookup"><span data-stu-id="6a061-107">The encoder output type for video image is set in exactly the same way as standard Windows Media video, except that the subtype and compression values must be set to the video image identifiers.</span></span> <span data-ttu-id="6a061-108">Isso inclui a necessidade de obter dados privados do codec e acrescentá-los à estrutura [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) .</span><span class="sxs-lookup"><span data-stu-id="6a061-108">This includes the need to obtain codec private data and append it to the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) structure.</span></span> <span data-ttu-id="6a061-109">Para obter mais informações, consulte [Configurando a codificação de vídeo](configuringvideoencoding.md).</span><span class="sxs-lookup"><span data-stu-id="6a061-109">For more information, see [Configuring Video Encoding](configuringvideoencoding.md).</span></span>

<span data-ttu-id="6a061-110">A configuração de tipo de entrada para imagem de vídeo também é muito semelhante à configuração de entrada para os outros codificadores de vídeo.</span><span class="sxs-lookup"><span data-stu-id="6a061-110">The input type configuration for video image is also very similar to input configuration for the other video encoders.</span></span> <span data-ttu-id="6a061-111">Você pode recuperar um [**\_ \_ tipo de mídia DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) parcialmente concluído do codificador chamando [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype)ou se estiver usando o SDK do Media Foundation, chamando [**IMFTransform:: GetInputAvailableType**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) e recuperando o tipo de **\_ mídia DMO \_** usando [**MFCreateAMMediaTypeFromMFMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span><span class="sxs-lookup"><span data-stu-id="6a061-111">You can retrieve a partially completed [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) from the encoder by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype), or if you are using the Media Foundation SDK, by calling [**IMFTransform::GetInputAvailableType**](/windows/desktop/api/mftransform/nf-mftransform-imftransform-getinputavailabletype) and retrieving the **DMO\_MEDIA\_TYPE** by using [**MFCreateAMMediaTypeFromMFMediaType**](/windows/desktop/api/mfapi/nf-mfapi-mfcreateammediatypefrommfmediatype).</span></span> <span data-ttu-id="6a061-112">Em seguida, você define o tamanho do quadro e a estrutura do formato [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) , assim como faria com o vídeo padrão.</span><span class="sxs-lookup"><span data-stu-id="6a061-112">You then set the frame size and the [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) format structure, just as you would for standard video.</span></span> <span data-ttu-id="6a061-113">Assim como com o tipo de saída, você precisa garantir que os valores de subtipo e compactação sejam definidos adequadamente.</span><span class="sxs-lookup"><span data-stu-id="6a061-113">As with the output type, you need to ensure that the subtype and compression values are set appropriately.</span></span>

## <a name="creating-input-samples"></a><span data-ttu-id="6a061-114">Criando exemplos de entrada</span><span class="sxs-lookup"><span data-stu-id="6a061-114">Creating Input Samples</span></span>

<span data-ttu-id="6a061-115">Os exemplos de entrada para o codec de imagem de vídeo são estruturados.</span><span class="sxs-lookup"><span data-stu-id="6a061-115">The input samples for the video image codec are structured.</span></span> <span data-ttu-id="6a061-116">A definição da estrutura e das constantes usadas para a imagem de vídeo não está incluída nas interfaces do codec de áudio e vídeo do Windows Media.</span><span class="sxs-lookup"><span data-stu-id="6a061-116">The definition of the structure and constants used for video image are not included with the Windows Media Audio and Video codec interfaces.</span></span> <span data-ttu-id="6a061-117">Essas definições estão incluídas no Windows Media Format SDK, e seu uso é totalmente explicado na documentação do SDK do Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="6a061-117">These definitions are included in the Windows Media Format SDK, and their use is fully explained in the Windows Media Format SDK documentation.</span></span>

## <a name="decoding"></a><span data-ttu-id="6a061-118">Decodificação</span><span class="sxs-lookup"><span data-stu-id="6a061-118">Decoding</span></span>

<span data-ttu-id="6a061-119">Não há requisitos especiais para decodificar vídeo de captura de tela.</span><span class="sxs-lookup"><span data-stu-id="6a061-119">There are no special requirements for decoding screen capture video.</span></span> <span data-ttu-id="6a061-120">Além de um subtipo diferente (MEDIASUBTYPE \_ WMVP) usado para entrada de decodificador, o fluxo de imagem de vídeo compactado é essencialmente idêntico a um fluxo de vídeo de mídia padrão do Windows.</span><span class="sxs-lookup"><span data-stu-id="6a061-120">Other than a different subtype (MEDIASUBTYPE\_WMVP) used for decoder input, the compressed video image stream is essentially identical to a standard Windows Media Video stream.</span></span>

## <a name="related-topics"></a><span data-ttu-id="6a061-121">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6a061-121">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="6a061-122">Trabalhando com vídeo</span><span class="sxs-lookup"><span data-stu-id="6a061-122">Working with Video</span></span>](workingwithvideo.md)
</dt> </dl>

 

 
