---
description: Configurando o codec DMOs
ms.assetid: 431b33f1-ceb0-4f1b-a9f2-72e88b63f973
title: Configurando o codec DMOs
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 564c0e6c566d9f583a495238f3ea6f0716d7adde
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104457215"
---
# <a name="configuring-codec-dmos"></a><span data-ttu-id="88ab8-103">Configurando o codec DMOs</span><span class="sxs-lookup"><span data-stu-id="88ab8-103">Configuring Codec DMOs</span></span>

<span data-ttu-id="88ab8-104">Este tópico descreve o processo de configuração do codec DMOs.</span><span class="sxs-lookup"><span data-stu-id="88ab8-104">This topic describes the process of configuring the codec DMOs.</span></span> <span data-ttu-id="88ab8-105">Cada codec tem procedimentos específicos, mas as informações comuns a todos são descritas aqui.</span><span class="sxs-lookup"><span data-stu-id="88ab8-105">Each codec has specific procedures, but the information common to all is described here.</span></span>

## <a name="configuring-dmo-inputs-and-outputs"></a><span data-ttu-id="88ab8-106">Configurando entradas e saídas de DMO</span><span class="sxs-lookup"><span data-stu-id="88ab8-106">Configuring DMO Inputs and Outputs</span></span>

<span data-ttu-id="88ab8-107">Cada DMO dá suporte a tipos de entrada e saída específicos.</span><span class="sxs-lookup"><span data-stu-id="88ab8-107">Every DMO supports specific input and output types.</span></span> <span data-ttu-id="88ab8-108">Você pode recuperar tipos com suporte para entradas e saídas chamando [**IMediaObject:: GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) para inputs e [**IMediaObject:: GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) para saídas.</span><span class="sxs-lookup"><span data-stu-id="88ab8-108">You can retrieve supported types for inputs and outputs by calling [**IMediaObject::GetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getinputtype) for inputs and [**IMediaObject::GetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-getoutputtype) for outputs.</span></span> <span data-ttu-id="88ab8-109">Você pode enumerar os formatos com suporte fazendo chamadas repetidas para qualquer método, incrementando o índice de tipo com cada chamada.</span><span class="sxs-lookup"><span data-stu-id="88ab8-109">You can enumerate the supported formats by making repeated calls to either method, incrementing the type index with each call.</span></span> <span data-ttu-id="88ab8-110">Quando o índice excede a do tipo com suporte final, a chamada retorna DMO \_ E \_ não \_ mais \_ itens.</span><span class="sxs-lookup"><span data-stu-id="88ab8-110">When the index exceeds that of the final supported type, the call returns DMO\_E\_NO\_MORE\_ITEMS.</span></span>

<span data-ttu-id="88ab8-111">Para os codecs de vídeo, apenas um tipo de saída ou tipo de entrada é enumerado para um determinado subtipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="88ab8-111">For the video codecs, only one output type or input type is enumerated for a given media subtype.</span></span> <span data-ttu-id="88ab8-112">Para os codecs de áudio, cada tipo com suporte individual é enumerado.</span><span class="sxs-lookup"><span data-stu-id="88ab8-112">For the audio codecs, each individual supported type is enumerated.</span></span> <span data-ttu-id="88ab8-113">Para obter mais informações sobre os tipos com suporte para codecs individuais, consulte [trabalhando com áudio](workingwithaudio.md) e [trabalhando com vídeo](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="88ab8-113">For more information about supported types for individual codecs, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

<span data-ttu-id="88ab8-114">Depois de configurar os tipos de mídia para os fluxos de entrada e saída, defina-os chamando [**IMediaObject:: SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) e [**IMediaObject:: SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="88ab8-114">After you configure the media types for the input and output streams, set them by calling [**IMediaObject::SetInputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setinputtype) and [**IMediaObject::SetOutputType**](/previous-versions/windows/desktop/api/mediaobj/nf-mediaobj-imediaobject-setoutputtype) respectively.</span></span> <span data-ttu-id="88ab8-115">Ambos os métodos retornam **o \_ tipo DMO E \_ não são \_ \_ aceitos** se o tipo especificado é inválido.</span><span class="sxs-lookup"><span data-stu-id="88ab8-115">Both of these methods return **DMO\_E\_TYPE\_NOT\_ACCEPTED** if the specified type is invalid.</span></span>

## <a name="configuring-the-codec-dmos-for-encoding"></a><span data-ttu-id="88ab8-116">Configurando o codec DMOs para codificação</span><span class="sxs-lookup"><span data-stu-id="88ab8-116">Configuring the Codec DMOs for Encoding</span></span>

<span data-ttu-id="88ab8-117">Todos os codecs de vídeo e áudio do Windows Media oferecem suporte a uma variedade de recursos de codificação.</span><span class="sxs-lookup"><span data-stu-id="88ab8-117">All of the Windows Media Audio and Video codecs support a variety of encoding features.</span></span> <span data-ttu-id="88ab8-118">Esses recursos geralmente são configurados definindo as propriedades no DMO usando os métodos da interface **IPropertyBag** .</span><span class="sxs-lookup"><span data-stu-id="88ab8-118">These features are generally configured by setting properties on the DMO by using the methods of the **IPropertyBag** interface.</span></span> <span data-ttu-id="88ab8-119">Algumas propriedades são configuradas usando interfaces de codec especializadas.</span><span class="sxs-lookup"><span data-stu-id="88ab8-119">Some properties are configured using specialized codec interfaces.</span></span> <span data-ttu-id="88ab8-120">Essas interfaces são listadas para cada codec na seção [objetos de codec](codecobjects.md).</span><span class="sxs-lookup"><span data-stu-id="88ab8-120">These interfaces are listed for each codec in the section [Codec Objects](codecobjects.md).</span></span>

<span data-ttu-id="88ab8-121">A ordem geral das operações para configurar uma codificação DMO é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="88ab8-121">The general order of operations for configuring an encoding DMO is as follows:</span></span>

1.  <span data-ttu-id="88ab8-122">Configure os recursos de codec conforme desejado usando os métodos de **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="88ab8-122">Configure codec features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="88ab8-123">Use as interfaces do codec DMO para configurar recursos adicionais, se necessário.</span><span class="sxs-lookup"><span data-stu-id="88ab8-123">Use the codec DMO interfaces to configure additional features, if needed.</span></span>
3.  <span data-ttu-id="88ab8-124">Configure os tipos de entrada e saída.</span><span class="sxs-lookup"><span data-stu-id="88ab8-124">Configure the input and output types.</span></span> <span data-ttu-id="88ab8-125">A ordem na qual os tipos devem ser configurados varia de acordo com os codecs individuais.</span><span class="sxs-lookup"><span data-stu-id="88ab8-125">The order in which the types should be configured varies for individual codecs.</span></span> <span data-ttu-id="88ab8-126">Para obter mais informações, consulte [trabalhando com áudio](workingwithaudio.md) e [trabalhando com vídeo](workingwithvideo.md).</span><span class="sxs-lookup"><span data-stu-id="88ab8-126">For more information, see [Working with Audio](workingwithaudio.md) and [Working with Video](workingwithvideo.md).</span></span>

## <a name="configuring-the-codec-dmos-for-decoding"></a><span data-ttu-id="88ab8-127">Configurando o codec DMOs para decodificação</span><span class="sxs-lookup"><span data-stu-id="88ab8-127">Configuring the Codec DMOs for Decoding</span></span>

<span data-ttu-id="88ab8-128">A decodificação é mais simples do que a codificação, pois há suporte para menos recursos de decodificador.</span><span class="sxs-lookup"><span data-stu-id="88ab8-128">Decoding is simpler than encoding, as fewer decoder features are supported.</span></span>

<span data-ttu-id="88ab8-129">A ordem geral das operações para configurar uma decodificação DMO é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="88ab8-129">The general order of operations for configuring a decoding DMO is as follows:</span></span>

1.  <span data-ttu-id="88ab8-130">Configure os recursos do decodificador conforme desejado usando os métodos de **IPropertyBag**.</span><span class="sxs-lookup"><span data-stu-id="88ab8-130">Configure decoder features as desired by using the methods of **IPropertyBag**.</span></span>
2.  <span data-ttu-id="88ab8-131">Defina o tipo de entrada para o tipo usado para a saída do codificador.</span><span class="sxs-lookup"><span data-stu-id="88ab8-131">Set the input type to the type used for the encoder output.</span></span>
3.  <span data-ttu-id="88ab8-132">Configure o tipo de saída.</span><span class="sxs-lookup"><span data-stu-id="88ab8-132">Configure the output type.</span></span> <span data-ttu-id="88ab8-133">Os tipos de saída com suporte são diferentes para entradas diferentes.</span><span class="sxs-lookup"><span data-stu-id="88ab8-133">The supported output types are different for different inputs.</span></span>

> [!Note]  
> <span data-ttu-id="88ab8-134">É importante usar o mesmo tipo de mídia para a entrada do decodificador como foi usado para a saída do codificador.</span><span class="sxs-lookup"><span data-stu-id="88ab8-134">It is important to use the same media type for the decoder input as was used for the encoder output.</span></span> <span data-ttu-id="88ab8-135">Isso ocorre porque os codecs de áudio e vídeo do Windows Media usam formatos de mídia com dados adicionais.</span><span class="sxs-lookup"><span data-stu-id="88ab8-135">This is because the Windows Media Audio and Video codecs use media formats with extra data.</span></span> <span data-ttu-id="88ab8-136">Esses dados são anexados à estrutura apontada pelo membro **pbFormat** da estrutura do [**tipo de \_ mídia \_ DMO**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) (geralmente [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) ou [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span><span class="sxs-lookup"><span data-stu-id="88ab8-136">This data is appended to the structure pointed to by the **pbFormat** member of the [**DMO\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/mediaobj/ns-mediaobj-dmo_media_type) structure (usually [**VIDEOINFOHEADER**](/previous-versions/windows/desktop/api/amvideo/ns-amvideo-videoinfoheader) or [**WAVEFORMATEX**](/previous-versions/dd757713(v=vs.85))).</span></span> <span data-ttu-id="88ab8-137">Para alguns tipos, os dados adicionais fazem parte do tipo de saída do codificador enumerado.</span><span class="sxs-lookup"><span data-stu-id="88ab8-137">For some types the extra data is part of the enumerated encoder output type.</span></span> <span data-ttu-id="88ab8-138">Outros tipos exigem que você acrescente esses dados manualmente.</span><span class="sxs-lookup"><span data-stu-id="88ab8-138">Other types require you to append this data manually.</span></span> <span data-ttu-id="88ab8-139">Sem os dados de formato estendidos, você não pode decodificar o conteúdo compactado.</span><span class="sxs-lookup"><span data-stu-id="88ab8-139">Without the extended format data, you cannot decode the compressed content.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="88ab8-140">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="88ab8-140">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="88ab8-141">Trabalhando com codec DMOs</span><span class="sxs-lookup"><span data-stu-id="88ab8-141">Working with Codec DMOs</span></span>](workingwithcodecdmos.md)
</dt> </dl>

 

 
