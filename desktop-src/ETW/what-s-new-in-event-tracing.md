---
description: Esta seção descreve os novos recursos que foram adicionados ao rastreamento de eventos para Windows em cada versão.
ms.assetid: 5d94a6d2-2280-4a97-aa5a-c9ca2c016c84
title: O que há de novo no rastreamento de eventos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 613433834e5a11f2886b6ee314fdb60114f66976
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103647532"
---
# <a name="whats-new-in-event-tracing"></a><span data-ttu-id="d71cd-103">O que há de novo no rastreamento de eventos</span><span class="sxs-lookup"><span data-stu-id="d71cd-103">What's New in Event Tracing</span></span>

<span data-ttu-id="d71cd-104">Esta seção descreve os novos recursos que foram adicionados ao rastreamento de eventos para Windows em cada versão.</span><span class="sxs-lookup"><span data-stu-id="d71cd-104">This section describes the new features that were added to Event Tracing for Windows in each release.</span></span>

## <a name="windows-10-version-1709"></a><span data-ttu-id="d71cd-105">Windows 10, versão 1709</span><span class="sxs-lookup"><span data-stu-id="d71cd-105">Windows 10, version 1709</span></span>

<span data-ttu-id="d71cd-106">O ETW agora pode, opcionalmente, rastrear binários para todos os provedores habilitados para a sessão.</span><span class="sxs-lookup"><span data-stu-id="d71cd-106">ETW can now optionally track binaries for all providers that are enabled to the session.</span></span> <span data-ttu-id="d71cd-107">O rastreamento aplica-se retroativamente para provedores que foram habilitados para a sessão antes da chamada, bem como para todos os provedores futuros que estão habilitados para a sessão.</span><span class="sxs-lookup"><span data-stu-id="d71cd-107">The tracking applies retroactively for providers that were enabled to the session prior to the call, as well as for all future providers that are enabled to the session.</span></span> <span data-ttu-id="d71cd-108">Agora, você também pode consultar o número máximo configurado atualmente de agentes de log do sistema permitidos pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="d71cd-108">You can also now query for the currently-configured maximum number of system loggers allowed by the operating system.</span></span> <span data-ttu-id="d71cd-109">Para obter mais informações, consulte os valores **TraceProviderBinaryTracking** e **TraceMaxLoggersQuery** da enumeração de [**\_ \_ classes Trace info**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) , bem como [recuperando dados adicionais de rastreamento de eventos](retrieving-additional-event-tracing-data.md).</span><span class="sxs-lookup"><span data-stu-id="d71cd-109">For more information, see the **TraceProviderBinaryTracking** and **TraceMaxLoggersQuery** values of the [**TRACE\_INFO\_CLASS**](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class) enumeration, as well as [Retrieving Additional Event Tracing Data](retrieving-additional-event-tracing-data.md).</span></span>

<span data-ttu-id="d71cd-110">O ETW agora pode filtrar eventos com base no nome do evento.</span><span class="sxs-lookup"><span data-stu-id="d71cd-110">ETW can now filter events based on event name.</span></span> <span data-ttu-id="d71cd-111">Você também pode determinar quais eventos podem ser capturados por suas pilhas.</span><span class="sxs-lookup"><span data-stu-id="d71cd-111">You can also determine which events get their stacks captured.</span></span> <span data-ttu-id="d71cd-112">Para obter mais informações, consulte **o \_ \_ nome do \_ evento \_ do tipo** de filtro de evento, o tipo de filtro de **evento \_ \_ \_ STACKWALK \_ nome** e o **tipo de filtro de evento \_ \_ \_ STACKWALK \_ nível \_ kW** valores da estrutura do [**\_ \_ descritor de filtro de eventos**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) , bem como as estruturas [**\_ \_ \_ kW**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) de [**\_ \_ \_ nome do evento**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) e filtro de eventos associados.</span><span class="sxs-lookup"><span data-stu-id="d71cd-112">For more information, see the **EVENT\_FILTER\_TYPE\_EVENT\_NAME**, **EVENT\_FILTER\_TYPE\_STACKWALK\_NAME** , and **EVENT\_FILTER\_TYPE\_STACKWALK\_LEVEL\_KW** values of the [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structure, as well as the associated [**EVENT\_FILTER\_EVENT\_NAME**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_name) and [**EVENT\_FILTER\_LEVEL\_KW**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_level_kw) structures.</span></span>

## <a name="windows-10"></a><span data-ttu-id="d71cd-113">Windows 10</span><span class="sxs-lookup"><span data-stu-id="d71cd-113">Windows 10</span></span>

<span data-ttu-id="d71cd-114">O [TraceLogging](../tracelogging/trace-logging-portal.md) se baseia no ETW e fornece uma maneira simplificada de instrumentar o código para desenvolvedores nativos, .net e WinRT.</span><span class="sxs-lookup"><span data-stu-id="d71cd-114">[TraceLogging](../tracelogging/trace-logging-portal.md) builds on ETW and provides a simplified way to instrument code for native, .NET and WinRT developers.</span></span> <span data-ttu-id="d71cd-115">O TraceLogging permite incluir dados estruturados com eventos, correlacionar eventos e não requer um arquivo XML de manifesto de instrumentação separado.</span><span class="sxs-lookup"><span data-stu-id="d71cd-115">TraceLogging allows you to include structured data with events, correlate events, and does not require a separate instrumentation manifest XML file.</span></span>

<span data-ttu-id="d71cd-116">As [características do provedor](provider-traits.md) foram adicionadas como um método de anexar mais dados a um registro de provedor individual.</span><span class="sxs-lookup"><span data-stu-id="d71cd-116">[Provider Traits](provider-traits.md) were added as a method of attaching more data to an individual provider registration.</span></span> <span data-ttu-id="d71cd-117">Eles podem ser usados para provedores baseados em manifesto ou TraceLogging.</span><span class="sxs-lookup"><span data-stu-id="d71cd-117">They can be used for manifest-based or TraceLogging providers.</span></span> <span data-ttu-id="d71cd-118">Atualmente, isso inclui suporte para adicionar um nome de provedor e/ou um grupo de provedores a um registro de provedor individual.</span><span class="sxs-lookup"><span data-stu-id="d71cd-118">This currently includes support for adding a Provider Name and/or a Provider Group to an individual provider registration.</span></span> <span data-ttu-id="d71cd-119">Os grupos de provedores são um novo recurso para permitir que vários provedores de ETW sejam controlados em agregação pelo grupo ao qual pertencem.</span><span class="sxs-lookup"><span data-stu-id="d71cd-119">Provider Groups are a new feature to allow multiple ETW providers to be controlled in aggregate by the group they belong to.</span></span>

<span data-ttu-id="d71cd-120">O estado de captura periódica é uma maneira de permitir que notificações de estado de captura sejam enviadas rotineiramente aos provedores.</span><span class="sxs-lookup"><span data-stu-id="d71cd-120">Periodic capture state is a way to allow capture state notifications to be routinely sent to providers.</span></span> <span data-ttu-id="d71cd-121">Quando isso estiver habilitado, as notificações serão enviadas somente aos registros do provedor que foram habilitados anteriormente para a sessão atual.</span><span class="sxs-lookup"><span data-stu-id="d71cd-121">When this is enabled, notifications will only be sent to provider registrations that have been previously enabled to the current session.</span></span> <span data-ttu-id="d71cd-122">Cada provedor pode definir sua própria resposta (se houver) para uma notificação.</span><span class="sxs-lookup"><span data-stu-id="d71cd-122">Each provider can define its own response (if any) to a notification.</span></span> <span data-ttu-id="d71cd-123">Para obter detalhes de implementação, consulte [**rastrear \_ \_ informações de \_ estado \_ de captura periódica**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span><span class="sxs-lookup"><span data-stu-id="d71cd-123">For implementation details, see [**TRACE\_PERIODIC\_CAPTURE\_STATE\_INFO**](/windows/win32/api/evntrace/ns-evntrace-trace_periodic_capture_state_info).</span></span>

## <a name="windows-81-and-windows-server-2012-r2"></a><span data-ttu-id="d71cd-124">Windows 8.1 e Windows Server 2012 R2</span><span class="sxs-lookup"><span data-stu-id="d71cd-124">Windows 8.1 and Windows Server 2012 R2</span></span>

<span data-ttu-id="d71cd-125">Os recursos a seguir foram adicionados ao rastreamento de eventos no Windows 8.1 e no Windows Server 2012 R2.</span><span class="sxs-lookup"><span data-stu-id="d71cd-125">The following features have been added to Event Tracing on Windows 8.1 and Windows Server 2012 R2.</span></span>

<span data-ttu-id="d71cd-126">Funções que dão suporte ao uso de carga de evento, escopo e filtros de movimentação de pilha usados pela função [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) e as estruturas de [**\_ \_ descritor de filtro de evento**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) e [**\_ \_ parâmetros de rastreamento**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) para filtrar em condições específicas em uma sessão de agente.</span><span class="sxs-lookup"><span data-stu-id="d71cd-126">Functions that support using event payload, scope, and stack walk filters used by the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures to filter on specific conditions in a logger session.</span></span> <span data-ttu-id="d71cd-127">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-127">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-128">**TdhAggregatePayloadFilters**</span><span class="sxs-lookup"><span data-stu-id="d71cd-128">**TdhAggregatePayloadFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhaggregatepayloadfilters)
-   [<span data-ttu-id="d71cd-129">**TdhCleanupPayloadEventFilterDescriptor**</span><span class="sxs-lookup"><span data-stu-id="d71cd-129">**TdhCleanupPayloadEventFilterDescriptor**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcleanuppayloadeventfilterdescriptor)
-   [<span data-ttu-id="d71cd-130">**TdhCreatePayloadFilter**</span><span class="sxs-lookup"><span data-stu-id="d71cd-130">**TdhCreatePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter)
-   [<span data-ttu-id="d71cd-131">**TdhDeletePayloadFilter**</span><span class="sxs-lookup"><span data-stu-id="d71cd-131">**TdhDeletePayloadFilter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhdeletepayloadfilter)

<span data-ttu-id="d71cd-132">Além disso, consulte a documentação amplamente revisada para a função [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) e as estruturas [**habilitar \_ \_ parâmetros de rastreamento**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) e [**\_ \_ descritor de filtro de eventos**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) que são usadas por esses recursos.</span><span class="sxs-lookup"><span data-stu-id="d71cd-132">In addition, see the extensively revised documentation for the [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2) function and the [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters) and [**EVENT\_FILTER\_DESCRIPTOR**](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_descriptor) structures that are used by these features.</span></span>

<span data-ttu-id="d71cd-133">Uma estrutura que define um predicado de filtro de carga de evento que descreve como filtrar em um único campo em uma sessão de rastreamento usada pela nova função [**TdhCreatePayloadFilter**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) e uma nova estrutura usada pelos filtros de ID de evento e de movimentação de pilha.</span><span class="sxs-lookup"><span data-stu-id="d71cd-133">A structure that defines an event payload filter predicate that describes how to filter on a single field in a trace session used by the new [**TdhCreatePayloadFilter**](/windows/desktop/api/Tdh/nf-tdh-tdhcreatepayloadfilter) function and a new structure used by event ID and stack walk filters.</span></span> <span data-ttu-id="d71cd-134">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-134">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-135">**\_ID do \_ evento de filtro de eventos \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-135">**EVENT\_FILTER\_EVENT\_ID**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_event_id)
-   [<span data-ttu-id="d71cd-136">**predicado de filtro de carga \_ \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-136">**PAYLOAD\_FILTER\_PREDICATE**</span></span>](/windows/desktop/api/Tdh/ns-tdh-payload_filter_predicate)

<span data-ttu-id="d71cd-137">Funções que recuperam informações sobre eventos presentes no manifesto do provedor.</span><span class="sxs-lookup"><span data-stu-id="d71cd-137">Functions that retrieve information on events present in the provider manifest.</span></span> <span data-ttu-id="d71cd-138">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-138">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-139">**TdhEnumerateManifestProviderEvents**</span><span class="sxs-lookup"><span data-stu-id="d71cd-139">**TdhEnumerateManifestProviderEvents**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents)
-   [<span data-ttu-id="d71cd-140">**TdhGetManifestEventInformation**</span><span class="sxs-lookup"><span data-stu-id="d71cd-140">**TdhGetManifestEventInformation**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetmanifesteventinformation)

<span data-ttu-id="d71cd-141">Uma estrutura que define uma matriz de eventos em um manifesto de provedor usado pela nova função [**TdhEnumerateManifestProviderEvents**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) .</span><span class="sxs-lookup"><span data-stu-id="d71cd-141">A structure that defines an array of events in a provider manifest used by the new [**TdhEnumerateManifestProviderEvents**](/windows/desktop/api/Tdh/nf-tdh-tdhenumeratemanifestproviderevents) function.</span></span> <span data-ttu-id="d71cd-142">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-142">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-143">**\_informações de evento do provedor \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-143">**PROVIDER\_EVENT\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_event_info)

## <a name="windows-8-and-windows-server-2012"></a><span data-ttu-id="d71cd-144">Windows 8 e Windows Server 2012</span><span class="sxs-lookup"><span data-stu-id="d71cd-144">Windows 8 and Windows Server 2012</span></span>

<span data-ttu-id="d71cd-145">Os recursos a seguir foram adicionados ao rastreamento de eventos no Windows 8 e no Windows Server 2012.</span><span class="sxs-lookup"><span data-stu-id="d71cd-145">The following features have been added to the Event Tracing on Windows 8 and Windows Server 2012.</span></span>

<span data-ttu-id="d71cd-146">Funções que executam operações em um objeto de registro, fornecem análise de carga de evento, fornecem navegação de provedor de rastreamento, configurações de sessão de rastreamento de eventos de consulta e processam um arquivo de rastreamento reregistrado.</span><span class="sxs-lookup"><span data-stu-id="d71cd-146">Functions that performs operations on a registration object, provide event payload parsing, provide trace provider browsing, query event tracing session settings, and process a relogged trace file.</span></span> <span data-ttu-id="d71cd-147">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-147">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-148">**EventSetInformation**</span><span class="sxs-lookup"><span data-stu-id="d71cd-148">**EventSetInformation**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventsetinformation)
-   [<span data-ttu-id="d71cd-149">**TdhCloseDecodingHandle**</span><span class="sxs-lookup"><span data-stu-id="d71cd-149">**TdhCloseDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhclosedecodinghandle)
-   [<span data-ttu-id="d71cd-150">**TdhGetDecodingParameter**</span><span class="sxs-lookup"><span data-stu-id="d71cd-150">**TdhGetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetdecodingparameter)
-   [<span data-ttu-id="d71cd-151">**TdhGetWppProperty**</span><span class="sxs-lookup"><span data-stu-id="d71cd-151">**TdhGetWppProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppproperty)
-   [<span data-ttu-id="d71cd-152">**TdhGetWppMessage**</span><span class="sxs-lookup"><span data-stu-id="d71cd-152">**TdhGetWppMessage**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhgetwppmessage)
-   [<span data-ttu-id="d71cd-153">**TdhLoadManifestFromBinary**</span><span class="sxs-lookup"><span data-stu-id="d71cd-153">**TdhLoadManifestFromBinary**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifestfrombinary)
-   [<span data-ttu-id="d71cd-154">**TdhOpenDecodingHandle**</span><span class="sxs-lookup"><span data-stu-id="d71cd-154">**TdhOpenDecodingHandle**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhopendecodinghandle)
-   [<span data-ttu-id="d71cd-155">**TdhSetDecodingParameter**</span><span class="sxs-lookup"><span data-stu-id="d71cd-155">**TdhSetDecodingParameter**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhsetdecodingparameter)
-   [<span data-ttu-id="d71cd-156">**TraceQueryInformation**</span><span class="sxs-lookup"><span data-stu-id="d71cd-156">**TraceQueryInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracequeryinformation)

<span data-ttu-id="d71cd-157">Interfaces que fornecem informações para o relogger no processo de rastreamento e quando os eventos são registrados, acesso a dados para um evento específico e acesso a recursos de relogger que permitem a manipulação de arquivos ETL (log de rastreamento de eventos).</span><span class="sxs-lookup"><span data-stu-id="d71cd-157">Interfaces that provide information to the relogger on the tracing process and when events are logged, access to data for a specific event, and access to relogger features that allow the manipulation of Event Trace Log (ETL) files.</span></span> <span data-ttu-id="d71cd-158">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-158">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-159">**ITraceEvent**</span><span class="sxs-lookup"><span data-stu-id="d71cd-159">**ITraceEvent**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceevent)
-   [<span data-ttu-id="d71cd-160">**ITraceEventCallback**</span><span class="sxs-lookup"><span data-stu-id="d71cd-160">**ITraceEventCallback**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itraceeventcallback)
-   [<span data-ttu-id="d71cd-161">**ITraceRelogger**</span><span class="sxs-lookup"><span data-stu-id="d71cd-161">**ITraceRelogger**</span></span>](/windows/desktop/api/Relogger/nn-relogger-itracerelogger)

<span data-ttu-id="d71cd-162">Enumerações adicionais usadas pelas novas funções e interfaces.</span><span class="sxs-lookup"><span data-stu-id="d71cd-162">Additional enumerations used by the new functions and interfaces.</span></span> <span data-ttu-id="d71cd-163">Para obter mais informações, consulte:</span><span class="sxs-lookup"><span data-stu-id="d71cd-163">For more information, see:</span></span>

-   [<span data-ttu-id="d71cd-164">**\_classe de informações de evento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-164">**EVENT\_INFO\_CLASS**</span></span>](/windows/desktop/api/Evntprov/ne-evntprov-event_info_class)
-   [<span data-ttu-id="d71cd-165">**\_classe de \_ informações de consulta de rastreamento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-165">**TRACE\_QUERY\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

## <a name="windows-7-and-windows-server-2008-r2"></a><span data-ttu-id="d71cd-166">Windows 7 e Windows Server 2008 R2</span><span class="sxs-lookup"><span data-stu-id="d71cd-166">Windows 7 and Windows Server 2008 R2</span></span>

<span data-ttu-id="d71cd-167">Os seguintes recursos foram adicionados nesta versão:</span><span class="sxs-lookup"><span data-stu-id="d71cd-167">The following features were added in this release:</span></span>

-   <span data-ttu-id="d71cd-168">A capacidade dos provedores de definir filtros no manifesto.</span><span class="sxs-lookup"><span data-stu-id="d71cd-168">The ability for providers to define filters in the manifest.</span></span> <span data-ttu-id="d71cd-169">No Windows Vista, os controladores podem passar dados de filtro para o provedor.</span><span class="sxs-lookup"><span data-stu-id="d71cd-169">In Windows Vista, controllers could pass filter data to the provider.</span></span> <span data-ttu-id="d71cd-170">No entanto, o layout dos dados de filtro não foi definido no manifesto, portanto, o provedor teria que usar outros meios para fornecer a definição de filtro aos controladores.</span><span class="sxs-lookup"><span data-stu-id="d71cd-170">However, the layout of the filter data was not defined in the manifest, so the provider would have to use other means to provide the filter definition to controllers.</span></span> <span data-ttu-id="d71cd-171">Com esta versão, os provedores podem definir a definição do filtro no manifesto (consulte o atributo **Filters** do tipo complexo [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) ).</span><span class="sxs-lookup"><span data-stu-id="d71cd-171">With this release, providers can define the filter definition in the manifest (see the **filters** attribute of the [**ProviderType**](../wes/eventmanifestschema-providertype-complextype.md) complex type).</span></span> <span data-ttu-id="d71cd-172">Os controladores podem usar a função [**TdhEnumerateProviderFilters**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) para determinar a definição do filtro.</span><span class="sxs-lookup"><span data-stu-id="d71cd-172">Controllers can then use the [**TdhEnumerateProviderFilters**](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters) function to determine the filter definition.</span></span> <span data-ttu-id="d71cd-173">Provedores que usam filtros devem usar a função [**EventWriteEx**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) para gravar o evento.</span><span class="sxs-lookup"><span data-stu-id="d71cd-173">Providers that use filters should use the [**EventWriteEx**](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex) function to write the event.</span></span>
-   <span data-ttu-id="d71cd-174">A capacidade de usar um único buffer para coletar eventos gerados em vários processadores.</span><span class="sxs-lookup"><span data-stu-id="d71cd-174">The ability to use a single buffer to gather events generated on multiple processors.</span></span> <span data-ttu-id="d71cd-175">O uso de um único buffer elimina a exibição de eventos fora de ordem em computadores com vários processadores.</span><span class="sxs-lookup"><span data-stu-id="d71cd-175">Using a single buffer eliminates events from appearing out of order on multi-processors computers.</span></span> <span data-ttu-id="d71cd-176">Para obter detalhes, consulte o modo de log do [**rastreamento de eventos \_ \_ não \_ por \_ processador em \_ buffer**](logging-mode-constants.md) .</span><span class="sxs-lookup"><span data-stu-id="d71cd-176">For details, see the [**EVENT\_TRACE\_NO\_PER\_PROCESSOR\_BUFFERING**](logging-mode-constants.md) logging mode.</span></span> <span data-ttu-id="d71cd-177">Por padrão, o ETW usa buffers por processador.</span><span class="sxs-lookup"><span data-stu-id="d71cd-177">By default, ETW uses per-processor buffers.</span></span>
-   <span data-ttu-id="d71cd-178">A capacidade de capturar um rastreamento de pilha para eventos.</span><span class="sxs-lookup"><span data-stu-id="d71cd-178">The ability to capture a stack trace for events.</span></span> <span data-ttu-id="d71cd-179">Para habilitar o rastreamento de pilha para eventos de kernel, consulte a função [**TraceSetInformation**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) .</span><span class="sxs-lookup"><span data-stu-id="d71cd-179">To enable stack tracing for kernel events, see the [**TraceSetInformation**](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation) function.</span></span> <span data-ttu-id="d71cd-180">Para habilitar o rastreamento de pilha para eventos de usuário, consulte o sinalizador de **\_ rastreamento de \_ \_ pilha \_ de propriedade habilitar evento** para o membro **preaptoproperty** de [**habilitar \_ \_ parâmetros de rastreamento**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters).</span><span class="sxs-lookup"><span data-stu-id="d71cd-180">To enable stack tracing for user events, see the **EVENT\_ENABLE\_PROPERTY\_STACK\_TRACE** flag for the **EnableProperty** member of [**ENABLE\_TRACE\_PARAMETERS**](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters).</span></span>
-   <span data-ttu-id="d71cd-181">A capacidade de especificar o modo de **buffer de rastreamento de eventos \_ \_ \_** ou o modo de log do modo de arquivo de rastreamento de eventos no modo de registro [](logging-mode-constants.md)em log do **\_ \_ \_ \_ modo de agente particular do rastreamento de eventos** (consulte constantes do modo de log). **\_ \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-181">The ability to specify the **EVENT\_TRACE\_BUFFERING\_MODE** or **EVENT\_TRACE\_FILE\_MODE\_NEWFILE** logging mode with the **EVENT\_TRACE\_PRIVATE\_LOGGER\_MODE** logging mode (see [Logging Mode Constants](logging-mode-constants.md)).</span></span>
-   <span data-ttu-id="d71cd-182">A capacidade de habilitar um provedor de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="d71cd-182">The ability to enable a provider synchronously.</span></span> <span data-ttu-id="d71cd-183">Por padrão, os provedores são habilitados de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="d71cd-183">By default, providers are enabled asynchronously.</span></span> <span data-ttu-id="d71cd-184">Para habilitar um provedor de forma síncrona, defina o parâmetro *Timeout* de [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="d71cd-184">To enable a provider synchronously, set the *Timeout* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="d71cd-185">A capacidade do controlador de solicitar que o provedor Registre seu estado.</span><span class="sxs-lookup"><span data-stu-id="d71cd-185">The ability for the controller to request that the provider log its state.</span></span> <span data-ttu-id="d71cd-186">Para obter detalhes, consulte o sinalizador estado de captura de código de  controle de **evento \_ \_ \_ \_** para o parâmetro ControlCode de [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span><span class="sxs-lookup"><span data-stu-id="d71cd-186">For details, see the **EVENT\_CONTROL\_CODE\_CAPTURE\_STATE** flag for the *ControlCode* parameter of [**EnableTraceEx2**](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2).</span></span>
-   <span data-ttu-id="d71cd-187">A capacidade de os consumidores formatarem dados de eventos usando a função [**TdhFormatProperty**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) .</span><span class="sxs-lookup"><span data-stu-id="d71cd-187">The ability for consumers to format event data using the [**TdhFormatProperty**](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty) function.</span></span>
-   <span data-ttu-id="d71cd-188">A capacidade de decodificar eventos manifestados em computadores que não contêm o provedor.</span><span class="sxs-lookup"><span data-stu-id="d71cd-188">The ability to decode manifested events on computers that do not contain the provider.</span></span> <span data-ttu-id="d71cd-189">Para obter detalhes, consulte a função [**TdhLoadManifest**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) .</span><span class="sxs-lookup"><span data-stu-id="d71cd-189">For details, see the [**TdhLoadManifest**](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest) function.</span></span>

<span data-ttu-id="d71cd-190">As seguintes funções foram adicionadas nesta versão:</span><span class="sxs-lookup"><span data-stu-id="d71cd-190">The following functions were added in this release:</span></span>

-   [<span data-ttu-id="d71cd-191">**EnableTraceEx2**</span><span class="sxs-lookup"><span data-stu-id="d71cd-191">**EnableTraceEx2**</span></span>](/windows/win32/api/evntrace/nf-evntrace-enabletraceex2)
-   [<span data-ttu-id="d71cd-192">**EventWriteEx**</span><span class="sxs-lookup"><span data-stu-id="d71cd-192">**EventWriteEx**</span></span>](/windows/desktop/api/Evntprov/nf-evntprov-eventwriteex)
-   [<span data-ttu-id="d71cd-193">**TdhEnumerateProviderFilters**</span><span class="sxs-lookup"><span data-stu-id="d71cd-193">**TdhEnumerateProviderFilters**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhenumerateproviderfilters)
-   [<span data-ttu-id="d71cd-194">**TdhFormatProperty**</span><span class="sxs-lookup"><span data-stu-id="d71cd-194">**TdhFormatProperty**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhformatproperty)
-   [<span data-ttu-id="d71cd-195">**TdhLoadManifest**</span><span class="sxs-lookup"><span data-stu-id="d71cd-195">**TdhLoadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhloadmanifest)
-   [<span data-ttu-id="d71cd-196">**TdhUnloadManifest**</span><span class="sxs-lookup"><span data-stu-id="d71cd-196">**TdhUnloadManifest**</span></span>](/windows/desktop/api/Tdh/nf-tdh-tdhunloadmanifest)
-   [<span data-ttu-id="d71cd-197">**TraceSetInformation**</span><span class="sxs-lookup"><span data-stu-id="d71cd-197">**TraceSetInformation**</span></span>](/windows/win32/api/evntrace/nf-evntrace-tracesetinformation)

<span data-ttu-id="d71cd-198">As seguintes estruturas foram adicionadas nesta versão:</span><span class="sxs-lookup"><span data-stu-id="d71cd-198">The following structures were added in this release:</span></span>

-   [<span data-ttu-id="d71cd-199">**\_ID do evento clássico \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-199">**CLASSIC\_EVENT\_ID**</span></span>](/windows/win32/api/evntrace/ns-evntrace-classic_event_id)
-   [<span data-ttu-id="d71cd-200">**Habilitar \_ parâmetros de rastreamento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-200">**ENABLE\_TRACE\_PARAMETERS**</span></span>](/windows/win32/api/evntrace/ns-evntrace-enable_trace_parameters)
-   [<span data-ttu-id="d71cd-201">**\_TRACE32 de \_ pilha de item estendido de \_ evento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-201">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE32**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace32)
-   [<span data-ttu-id="d71cd-202">**\_TRACE64 de \_ pilha de item estendido de \_ evento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-202">**EVENT\_EXTENDED\_ITEM\_STACK\_TRACE64**</span></span>](/windows/desktop/api/Evntcons/ns-evntcons-event_extended_item_stack_trace64)
-   [<span data-ttu-id="d71cd-203">**\_cabeçalho do filtro de eventos \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-203">**EVENT\_FILTER\_HEADER**</span></span>](/windows/desktop/api/Evntprov/ns-evntprov-event_filter_header)
-   [<span data-ttu-id="d71cd-204">**\_informações de filtro do provedor \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-204">**PROVIDER\_FILTER\_INFO**</span></span>](/windows/desktop/api/Tdh/ns-tdh-provider_filter_info)

<span data-ttu-id="d71cd-205">As seguintes enumerações foram adicionadas nesta versão:</span><span class="sxs-lookup"><span data-stu-id="d71cd-205">The following enumerations were added in this release:</span></span>

-   [<span data-ttu-id="d71cd-206">**\_classe de informações de rastreamento \_**</span><span class="sxs-lookup"><span data-stu-id="d71cd-206">**TRACE\_INFO\_CLASS**</span></span>](/windows/win32/api/evntrace/ne-evntrace-trace_query_info_class)

<span data-ttu-id="d71cd-207">As seguintes classes MOF foram adicionadas nesta versão:</span><span class="sxs-lookup"><span data-stu-id="d71cd-207">The following MOF classes were added in this release:</span></span>

-   [<span data-ttu-id="d71cd-208">**StackWalk**</span><span class="sxs-lookup"><span data-stu-id="d71cd-208">**StackWalk**</span></span>](stackwalk.md)
-   [<span data-ttu-id="d71cd-209">**\_Evento StackWalk**</span><span class="sxs-lookup"><span data-stu-id="d71cd-209">**StackWalk\_Event**</span></span>](stackwalk-event.md)

 

 
