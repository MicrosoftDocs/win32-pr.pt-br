---
description: A sessão de rastreamento de eventos do agente global registra eventos que ocorrem no início do processo de inicialização do sistema operacional.
ms.assetid: 1462bbef-ef32-4053-9930-5b4a0ab46b47
title: Configurando e iniciando a sessão global de agente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8692e1f7321acc163e48cda7e3323f3d24adc1c0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104968043"
---
# <a name="configuring-and-starting-the-global-logger-session"></a><span data-ttu-id="cfb41-103">Configurando e iniciando a sessão global de agente</span><span class="sxs-lookup"><span data-stu-id="cfb41-103">Configuring and Starting the Global Logger Session</span></span>

<span data-ttu-id="cfb41-104">A sessão de rastreamento de eventos do agente global registra eventos que ocorrem no início do processo de inicialização do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="cfb41-104">The Global Logger event tracing session records events that occur early in the operating system boot process.</span></span> <span data-ttu-id="cfb41-105">Aplicativos e drivers de dispositivo podem usar a sessão de agente global para capturar rastreamentos antes que o usuário faça logon.</span><span class="sxs-lookup"><span data-stu-id="cfb41-105">Applications and device drivers can use the Global Logger session to capture traces before the user logs in.</span></span> <span data-ttu-id="cfb41-106">Observe que alguns drivers de dispositivo, como drivers de dispositivo de disco, não são carregados no momento em que a sessão global de agente é iniciada.</span><span class="sxs-lookup"><span data-stu-id="cfb41-106">Note that some device drivers, such as disk device drivers, are not loaded at the time the Global Logger session begins.</span></span>

> [!Note]  
> <span data-ttu-id="cfb41-107">Se você estiver criando uma sessão global de agente no Windows Vista, considere a criação de uma [sessão do agente de log autologger](configuring-and-starting-an-autologger-session.md) .</span><span class="sxs-lookup"><span data-stu-id="cfb41-107">If you are creating a Global Logger session on Windows Vista, you should consider creating an [AutoLogger session](configuring-and-starting-an-autologger-session.md) instead.</span></span>

 

<span data-ttu-id="cfb41-108">Você usa o registro para configurar a sessão global do agente de log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-108">You use the registry to configure the Global Logger session.</span></span> <span data-ttu-id="cfb41-109">Adicione a chave **GlobalLogger** à seguinte chave do registro, se ainda não estiver presente:</span><span class="sxs-lookup"><span data-stu-id="cfb41-109">Add the **GlobalLogger** key to the following registry key, if it is not already present:</span></span>

```
HKEY_LOCAL_MACHINE
   \SYSTEM
      \CurrentControlSet
         \Control
            \WMI
```

<span data-ttu-id="cfb41-110">A tabela a seguir descreve os valores que você pode definir para a chave **GlobalLogger** .</span><span class="sxs-lookup"><span data-stu-id="cfb41-110">The following table describes the values that you can define for the **GlobalLogger** key.</span></span> <span data-ttu-id="cfb41-111">Você deve ter privilégios de administrador para especificar esses valores de registro.</span><span class="sxs-lookup"><span data-stu-id="cfb41-111">You must have administrator privileges to specify these registry values.</span></span> <span data-ttu-id="cfb41-112">Os valores do registro afetam todos os provedores que registram eventos na sessão global do agente.</span><span class="sxs-lookup"><span data-stu-id="cfb41-112">The registry values affect all providers that log events to the Global Logger session.</span></span> <span data-ttu-id="cfb41-113">O valor **inicial** é o único valor necessário para iniciar a sessão global do agente de log; todos os outros valores têm configurações padrão que serão usadas se o valor não estiver presente no registro.</span><span class="sxs-lookup"><span data-stu-id="cfb41-113">The **Start** value is the only value required to start the Global Logger session; all other values have default settings that are used if the value is not present in the registry.</span></span> <span data-ttu-id="cfb41-114">Normalmente, você deve usar os valores padrão.</span><span class="sxs-lookup"><span data-stu-id="cfb41-114">Typically, you should use the default values.</span></span> <span data-ttu-id="cfb41-115">Se você especificar um valor que o ETW não tem suporte, o ETW substituirá o valor.</span><span class="sxs-lookup"><span data-stu-id="cfb41-115">If you specify a value that ETW cannot support, ETW will override the value.</span></span>



<table>
<colgroup>
<col style="width: 33%" />
<col style="width: 33%" />
<col style="width: 33%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="cfb41-116">Valor</span><span class="sxs-lookup"><span data-stu-id="cfb41-116">Value</span></span></th>
<th><span data-ttu-id="cfb41-117">Tipo</span><span class="sxs-lookup"><span data-stu-id="cfb41-117">Type</span></span></th>
<th><span data-ttu-id="cfb41-118">Description</span><span class="sxs-lookup"><span data-stu-id="cfb41-118">Description</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="cfb41-119"><strong>Iniciar</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-119"><strong>Start</strong></span></span></td>
<td><span data-ttu-id="cfb41-120"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-120"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-121">Defina esse valor como 1 (ativado) para iniciar a sessão global de agente na próxima vez que o sistema for iniciado.</span><span class="sxs-lookup"><span data-stu-id="cfb41-121">Set this value to 1 (on) to start the Global Logger session the next time the system starts.</span></span> <span data-ttu-id="cfb41-122">Para interromper a inicialização da sessão, defina esse valor como 0 (desativado).</span><span class="sxs-lookup"><span data-stu-id="cfb41-122">To stop the session from starting, set this value to 0 (off).</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-123"><strong>BufferSize</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-123"><strong>BufferSize</strong></span></span></td>
<td><span data-ttu-id="cfb41-124"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-124"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-125">O tamanho de cada buffer, em quilobytes.</span><span class="sxs-lookup"><span data-stu-id="cfb41-125">The size of each buffer, in kilobytes.</span></span> <span data-ttu-id="cfb41-126">Esse valor deve ser menor que um megabyte.</span><span class="sxs-lookup"><span data-stu-id="cfb41-126">This value should be less than one megabyte.</span></span> <span data-ttu-id="cfb41-127">O ETW usa o tamanho da memória física para calcular esse valor.</span><span class="sxs-lookup"><span data-stu-id="cfb41-127">ETW uses the size of physical memory to calculate this value.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-128"><strong>Clocktype</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-128"><strong>ClockType</strong></span></span></td>
<td><span data-ttu-id="cfb41-129"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-129"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-130">O temporizador a ser usado ao registrar em log o carimbo de data/hora para cada evento.</span><span class="sxs-lookup"><span data-stu-id="cfb41-130">The timer to use when logging the time stamp for each event.</span></span>
<ul>
<li><span data-ttu-id="cfb41-131">1 = valor do contador de desempenho (alta resolução)</span><span class="sxs-lookup"><span data-stu-id="cfb41-131">1 = Performance counter value (high resolution)</span></span></li>
<li><span data-ttu-id="cfb41-132">2 = temporizador do sistema</span><span class="sxs-lookup"><span data-stu-id="cfb41-132">2 = System timer</span></span></li>
<li><span data-ttu-id="cfb41-133">3 = contador de ciclo de CPU</span><span class="sxs-lookup"><span data-stu-id="cfb41-133">3 = CPU cycle counter</span></span></li>
</ul>
<span data-ttu-id="cfb41-134">Para obter uma descrição de cada tipo de relógio, consulte o membro <strong>ClientContext</strong> de <a href="wnode-header.md"><strong>WNODE_HEADER</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-134">For a description of each clock type, see the <strong>ClientContext</strong> member of <a href="wnode-header.md"><strong>WNODE_HEADER</strong></a>.</span></span><br/> <span data-ttu-id="cfb41-135">O valor padrão é 1 (valor do contador de desempenho) no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="cfb41-135">The default value is 1 (performance counter value) on Windows Vista and later.</span></span> <span data-ttu-id="cfb41-136">Antes do Windows Vista, o valor padrão é 2 (temporizador do sistema).</span><span class="sxs-lookup"><span data-stu-id="cfb41-136">Prior to Windows Vista, the default value is 2 (system timer).</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-137"><strong>EnableKernelFlags</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-137"><strong>EnableKernelFlags</strong></span></span></td>
<td><span data-ttu-id="cfb41-138"><strong>REG_BINARY</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-138"><strong>REG_BINARY</strong></span></span></td>
<td><span data-ttu-id="cfb41-139">Use esse valor para habilitar um ou mais provedores de kernel.</span><span class="sxs-lookup"><span data-stu-id="cfb41-139">Use this value to enable one or more kernel providers.</span></span> <span data-ttu-id="cfb41-140">Se você habilitar provedores de kernel, a sessão de agente global será renomeada para NT kernel logger quando ele for iniciado.</span><span class="sxs-lookup"><span data-stu-id="cfb41-140">If you enable kernel providers, the Global Logger session will rename itself to NT Kernel Logger when it starts.</span></span> <span data-ttu-id="cfb41-141">Para obter os valores possíveis, consulte o membro <strong>EnableFlags</strong> de <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-141">For possible values, see the <strong>EnableFlags</strong> member of <a href="/windows/win32/api/evntrace/ns-evntrace-event_trace_properties"><strong>EVENT_TRACE_PROPERTIES</strong></a>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-142"><strong>Contador de filecounter</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-142"><strong>FileCounter</strong></span></span></td>
<td><span data-ttu-id="cfb41-143"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-143"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-144">O número de arquivos de log de rastreamento de eventos gerados por sessões de agente global.</span><span class="sxs-lookup"><span data-stu-id="cfb41-144">The number of event trace log files generated by Global Logger sessions.</span></span> <span data-ttu-id="cfb41-145">O sistema incrementa esse valor até atingir o valor de <strong>FileMax</strong>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-145">The system increments this value until it reaches the value of <strong>FileMax</strong>.</span></span> <span data-ttu-id="cfb41-146">Em seguida, ele redefine o valor para 0.</span><span class="sxs-lookup"><span data-stu-id="cfb41-146">Then, it resets the value to 0.</span></span> <span data-ttu-id="cfb41-147">Esse contador impede que o sistema substitua um arquivo de log de rastreamento de agente global.</span><span class="sxs-lookup"><span data-stu-id="cfb41-147">This counter prevents the system from overwriting a Global Logger trace log file.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-148"><strong>FileMax</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-148"><strong>FileMax</strong></span></span></td>
<td><span data-ttu-id="cfb41-149"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-149"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-150">O número máximo de arquivos de log de rastreamento de eventos permitidos no sistema.</span><span class="sxs-lookup"><span data-stu-id="cfb41-150">The maximum number of event trace log files permitted on the system.</span></span> <span data-ttu-id="cfb41-151">Quando o número de logs de rastreamento atinge o máximo especificado, o sistema começa a substituir os logs, começando com o mais antigo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-151">When the number of trace logs reaches the specified maximum, the system begins to overwrite the logs, beginning with the oldest.</span></span> <br/> <span data-ttu-id="cfb41-152">Se o arquivo de log especificado em <strong>filename</strong> existir, o ETW acrescentará o valor <strong>filecounterer</strong> ao nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-152">If the log file specified in <strong>FileName</strong> exists, ETW appends the <strong>FileCounter</strong> value to the file name.</span></span> <span data-ttu-id="cfb41-153">Por exemplo, se o nome do arquivo de log padrão for usado, o formulário será%SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.NNNN.</span><span class="sxs-lookup"><span data-stu-id="cfb41-153">For example, if the default log file name is used, the form is %SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.NNNN.</span></span> <br/> <span data-ttu-id="cfb41-154">O valor padrão é 0, o que significa que não há nenhum máximo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-154">The default value is 0, meaning that there is no maximum.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-155"><strong>FileName</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-155"><strong>FileName</strong></span></span></td>
<td><span data-ttu-id="cfb41-156"><strong>REG_SZ</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-156"><strong>REG_SZ</strong></span></span></td>
<td><span data-ttu-id="cfb41-157">Caminho totalmente qualificado do arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-157">Fully qualified path of the log file.</span></span> <span data-ttu-id="cfb41-158">O caminho para esse arquivo deve existir.</span><span class="sxs-lookup"><span data-stu-id="cfb41-158">The path to this file must exist.</span></span> <span data-ttu-id="cfb41-159">O arquivo de log é um arquivo de log sequencial.</span><span class="sxs-lookup"><span data-stu-id="cfb41-159">The log file is a sequential log file.</span></span> <span data-ttu-id="cfb41-160">Observe que todos os provedores que gravam eventos na sessão do agente global gravam eventos nesse arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-160">Note that all providers writing events to the Global Logger session write events to this log file.</span></span> <span data-ttu-id="cfb41-161">O caminho é limitado a 1024 caracteres. Se <strong>filename</strong> não for especificado, os eventos serão gravados em%SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.</span><span class="sxs-lookup"><span data-stu-id="cfb41-161">The path is limited to 1024 characters.If <strong>FileName</strong> is not specified, events are written to %SystemRoot%\System32\LogFiles\WMI\GlobalLogger.etl.</span></span> <span data-ttu-id="cfb41-162"><strong>Antes do Windows Vista:</strong> O arquivo padrão é%SystemRoot%\System32\LogFiles\WMI\Trace.log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-162"><strong>Prior to Windows Vista:</strong> The default file is %SystemRoot%\System32\LogFiles\WMI\Trace.log.</span></span><br/> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-163"><strong>FlushTimer</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-163"><strong>FlushTimer</strong></span></span></td>
<td><span data-ttu-id="cfb41-164"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-164"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-165">Com que frequência, em segundos, os buffers de rastreamento são liberados forçosamente.</span><span class="sxs-lookup"><span data-stu-id="cfb41-165">How often, in seconds, the trace buffers are forcibly flushed.</span></span> <span data-ttu-id="cfb41-166">O tempo de liberação mínimo é de 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-166">The minimum flush time is 1 second.</span></span> <span data-ttu-id="cfb41-167">Essa liberação forçada é além da liberação automática que ocorre quando um buffer está cheio e quando a sessão de rastreamento é interrompida.</span><span class="sxs-lookup"><span data-stu-id="cfb41-167">This forced flush is in addition to the automatic flush that occurs when a buffer is full and when the trace session stops.</span></span> <br/> <span data-ttu-id="cfb41-168">Para o caso de um agente em tempo real, um valor igual a zero (o valor padrão) significa que o tempo de liberação será definido como 1 segundo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-168">For the case of a real-time logger, a value of zero (the default value) means that the flush time will be set to 1 second.</span></span> <span data-ttu-id="cfb41-169">Um agente de log em tempo real é quando <strong>LOGFILEMODE</strong> é definido como <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-169">A real-time logger is when <strong>LogFileMode</strong> is set to <strong>EVENT_TRACE_REAL_TIME_MODE</strong>.</span></span><br/> <span data-ttu-id="cfb41-170">O valor padrão é 0.</span><span class="sxs-lookup"><span data-stu-id="cfb41-170">The default value is 0.</span></span> <span data-ttu-id="cfb41-171">Por padrão, os buffers são liberados somente quando estão cheios.</span><span class="sxs-lookup"><span data-stu-id="cfb41-171">By default, buffers are flushed only when they are full.</span></span> <br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-172"><strong>LogFilemode</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-172"><strong>LogFileMode</strong></span></span></td>
<td><span data-ttu-id="cfb41-173"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-173"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-174">Especifica as opções de sessão de log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-174">Specifies log session options.</span></span> <span data-ttu-id="cfb41-175">Para valores, consulte <a href="logging-mode-constants.md">constantes do modo de log</a>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-175">For values, see <a href="logging-mode-constants.md">Logging Mode Constants</a>.</span></span> <span data-ttu-id="cfb41-176">Esses valores têm suporte no Windows Vista e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="cfb41-176">This values is supported on Windows Vista and later.</span></span> <br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-177"><strong>MaximumBuffers</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-177"><strong>MaximumBuffers</strong></span></span></td>
<td><span data-ttu-id="cfb41-178"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-178"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-179">O número máximo de buffers a serem alocados.</span><span class="sxs-lookup"><span data-stu-id="cfb41-179">The maximum number of buffers to allocate.</span></span> <span data-ttu-id="cfb41-180">Normalmente, esse valor é o número mínimo de buffers, mais vinte.</span><span class="sxs-lookup"><span data-stu-id="cfb41-180">Typically, this value is the minimum number of buffers plus twenty.</span></span> <span data-ttu-id="cfb41-181">O ETW usa o tamanho do buffer e o tamanho da memória física para calcular esse valor.</span><span class="sxs-lookup"><span data-stu-id="cfb41-181">ETW uses the buffer size and the size of physical memory to calculate this value.</span></span> <span data-ttu-id="cfb41-182">Esse valor deve ser maior ou igual ao valor de <strong>MinimumBuffers</strong>.</span><span class="sxs-lookup"><span data-stu-id="cfb41-182">This value must be greater than or equal to the value for <strong>MinimumBuffers</strong>.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-183"><strong>Cedido</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-183"><strong>MaxFileSize</strong></span></span></td>
<td><span data-ttu-id="cfb41-184"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-184"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-185">O tamanho máximo, em megabytes, do arquivo de log de rastreamento de eventos.</span><span class="sxs-lookup"><span data-stu-id="cfb41-185">The maximum size, in megabytes, of the event trace log file.</span></span> <span data-ttu-id="cfb41-186">Por padrão, não há nenhum tamanho máximo de arquivo.</span><span class="sxs-lookup"><span data-stu-id="cfb41-186">By default, there is no maximum file size.</span></span><br/></td>
</tr>
<tr class="even">
<td><span data-ttu-id="cfb41-187"><strong>MinimumBuffers</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-187"><strong>MinimumBuffers</strong></span></span></td>
<td><span data-ttu-id="cfb41-188"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-188"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-189">O número mínimo de buffers a serem alocados quando a sessão global do agente é iniciada.</span><span class="sxs-lookup"><span data-stu-id="cfb41-189">The minimum number of buffers to allocate when the Global Logger session starts.</span></span> <span data-ttu-id="cfb41-190">O número mínimo de buffers que você pode especificar é de dois buffers por processador.</span><span class="sxs-lookup"><span data-stu-id="cfb41-190">The minimum number of buffers that you can specify is two buffers per processor.</span></span> <span data-ttu-id="cfb41-191">Por exemplo, em um único computador de processador, o número mínimo de buffers é dois.</span><span class="sxs-lookup"><span data-stu-id="cfb41-191">For example, on a single processor computer, the minimum number of buffers is two.</span></span> <br/> <span data-ttu-id="cfb41-192">O valor padrão em um sistema de processador único é 0x3.</span><span class="sxs-lookup"><span data-stu-id="cfb41-192">The default value on a single-processor system is 0x3.</span></span><br/></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="cfb41-193"><strong>Status</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-193"><strong>Status</strong></span></span></td>
<td><span data-ttu-id="cfb41-194"><strong>REG_DWORD</strong></span><span class="sxs-lookup"><span data-stu-id="cfb41-194"><strong>REG_DWORD</strong></span></span></td>
<td><span data-ttu-id="cfb41-195">O status de inicialização do agente de log global.</span><span class="sxs-lookup"><span data-stu-id="cfb41-195">The startup status of the Global Logger.</span></span> <span data-ttu-id="cfb41-196">Se o agente de log global não for iniciado, o valor dessa chave será o código de erro Win32 apropriado.</span><span class="sxs-lookup"><span data-stu-id="cfb41-196">If the Global Logger failed to start, the value of this key is the appropriate Win32 error code.</span></span> <span data-ttu-id="cfb41-197">Se o agente global for iniciado com êxito, o valor dessa chave será ERROR_SUCCESS (0).</span><span class="sxs-lookup"><span data-stu-id="cfb41-197">If the Global Logger successfully started, the value of this key is ERROR_SUCCESS (0).</span></span><br/></td>
</tr>
</tbody>
</table>



 

<span data-ttu-id="cfb41-198">Depois que o registro tiver sido modificado e o computador for reiniciado, a sessão global do agente iniciará automaticamente e será usada como qualquer outra sessão com uma exceção: você usará o \_ identificador constante de ID do agente de log global do WMI \_ \_ (definido em Wmistr. h) para fazer referência à sessão global do agente.</span><span class="sxs-lookup"><span data-stu-id="cfb41-198">After the registry has been modified and the computer restarted, the Global Logger session starts automatically and is used like any other session with one exception: You use the WMI\_GLOBAL\_LOGGER\_ID constant handle (defined in Wmistr.h) to reference the Global Logger session.</span></span> <span data-ttu-id="cfb41-199">Essa constante pode ser usada como um argumento para qualquer função de rastreamento de eventos que aceite um identificador de sessão.</span><span class="sxs-lookup"><span data-stu-id="cfb41-199">This constant may be used as an argument to any event tracing function that accepts a session handle.</span></span> <span data-ttu-id="cfb41-200">Em funções que aceitam um nome de sessão, use o \_ nome do agente de log global \_ .</span><span class="sxs-lookup"><span data-stu-id="cfb41-200">In functions that accept a session name, use GLOBAL\_LOGGER\_NAME.</span></span>

<span data-ttu-id="cfb41-201">O controlador de agente global não chama a função [**EnableTrace**](/windows/win32/api/evntrace/nf-evntrace-enabletrace) para habilitar provedores.</span><span class="sxs-lookup"><span data-stu-id="cfb41-201">The Global Logger controller does not call the [**EnableTrace**](/windows/win32/api/evntrace/nf-evntrace-enabletrace) function to enable providers.</span></span> <span data-ttu-id="cfb41-202">O provedor é responsável por determinar se a sessão global do agente de log foi iniciada e, em seguida, habilitá-la.</span><span class="sxs-lookup"><span data-stu-id="cfb41-202">The provider is responsible for determining if the Global Logger session is started and then enabling itself.</span></span>

<span data-ttu-id="cfb41-203">Para determinar se a sessão global de agente de log foi iniciada, você pode chamar a função [**ControlTrace**](/windows/win32/api/evntrace/nf-evntrace-controltracea) , definindo *SessionHandle* como \_ ID do agente global WMI \_ \_ e *ControlCode* para consulta de **controle de rastreamento de eventos \_ \_ \_**.</span><span class="sxs-lookup"><span data-stu-id="cfb41-203">To determine if the Global Logger session is started, you can call the [**ControlTrace**](/windows/win32/api/evntrace/nf-evntrace-controltracea) function, setting *SessionHandle* to WMI\_GLOBAL\_LOGGER\_ID and *ControlCode* to **EVENT\_TRACE\_CONTROL\_QUERY**.</span></span> <span data-ttu-id="cfb41-204">Se a chamada **ControlTrace** for bem-sucedida, a sessão global de agente existirá e o provedor poderá habilitar a si mesmo e registrar eventos na sessão global do agente (a função **ControlTrace** retornará uma instância WMI de erro \_ \_ \_ não \_ encontrada se o agente de log global não estiver ativo).</span><span class="sxs-lookup"><span data-stu-id="cfb41-204">If the **ControlTrace** call is successful, the Global Logger session exists and the provider can enable itself and log events to the Global Logger session (the **ControlTrace** function returns ERROR\_WMI\_INSTANCE\_NOT\_FOUND if the Global Logger is not active).</span></span>

<span data-ttu-id="cfb41-205">Normalmente, o controlador é responsável por passar os sinalizadores de habilitação e o nível para o provedor quando ele habilita o provedor, mas como o controlador de agente global não habilita o provedor, é responsabilidade do provedor passar essas informações para si mesmo, se necessário.</span><span class="sxs-lookup"><span data-stu-id="cfb41-205">Typically, the controller is responsible for passing the enable flags and level to the provider when it enables the provider, but because the Global Logger controller does not enable the provider, it is the provider's responsibility to pass this information to itself, if needed.</span></span>

<span data-ttu-id="cfb41-206">A sessão global do agente é um recurso limitado e deve ser usada com moderação.</span><span class="sxs-lookup"><span data-stu-id="cfb41-206">The Global Logger session is a limited resource and should be used sparingly.</span></span> <span data-ttu-id="cfb41-207">Os serviços que desejam capturar informações durante o processo de inicialização devem considerar a adição da lógica do controlador a si só, em vez de usar a sessão global do agente de log.</span><span class="sxs-lookup"><span data-stu-id="cfb41-207">Services that want to capture information during the boot process should consider adding controller logic to itself instead of using the Global Logger session.</span></span>

<span data-ttu-id="cfb41-208">Para obter detalhes sobre como iniciar uma sessão de rastreamento de eventos, consulte [Configurando e iniciando uma sessão de rastreamento de eventos](configuring-and-starting-an-event-tracing-session.md).</span><span class="sxs-lookup"><span data-stu-id="cfb41-208">For details on starting an event tracing session, see [Configuring and Starting an Event Tracing Session](configuring-and-starting-an-event-tracing-session.md).</span></span>

<span data-ttu-id="cfb41-209">Para obter detalhes sobre como iniciar uma sessão de agente de log particular, consulte [Configurando e iniciando uma sessão de agente de log particular](configuring-and-starting-a-private-logger-session.md).</span><span class="sxs-lookup"><span data-stu-id="cfb41-209">For details on starting a private logger session, see [Configuring and Starting a Private Logger Session](configuring-and-starting-a-private-logger-session.md).</span></span>

<span data-ttu-id="cfb41-210">Para obter detalhes sobre como iniciar uma sessão do agente do NT kernel, consulte [Configurando e iniciando a sessão do agente de log do NT](configuring-and-starting-the-nt-kernel-logger-session.md).</span><span class="sxs-lookup"><span data-stu-id="cfb41-210">For details on starting an NT Kernel Logger session, see [Configuring and Starting the NT Kernel Logger Session](configuring-and-starting-the-nt-kernel-logger-session.md).</span></span>

