---
description: 'Um aplicativo desenha uma janela em uma variedade de vezes: ao criar uma janela pela primeira vez, ao alterar o tamanho da janela, ao mover a janela por trás de outra janela, ao minimizar ou maximizar a janela, ao exibir dados de um arquivo aberto e ao rolar, alterar ou selecionar uma parte dos dados exibidos.'
ms.assetid: 4b5d6842-5707-4884-a55a-e09e342cea46
title: Quando desenhar em uma janela
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 42c8c157de5a591be5ad1a6ad3e319cf83220e77
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104296676"
---
# <a name="when-to-draw-in-a-window"></a><span data-ttu-id="ac845-103">Quando desenhar em uma janela</span><span class="sxs-lookup"><span data-stu-id="ac845-103">When to Draw in a Window</span></span>

<span data-ttu-id="ac845-104">Um aplicativo desenha uma janela em uma variedade de vezes: ao criar uma janela pela primeira vez, ao alterar o tamanho da janela, ao mover a janela por trás de outra janela, ao minimizar ou maximizar a janela, ao exibir dados de um arquivo aberto e ao rolar, alterar ou selecionar uma parte dos dados exibidos.</span><span class="sxs-lookup"><span data-stu-id="ac845-104">An application draws in a window at a variety of times: when first creating a window, when changing the size of the window, when moving the window from behind another window, when minimizing or maximizing the window, when displaying data from an opened file, and when scrolling, changing, or selecting a portion of the displayed data.</span></span>

<span data-ttu-id="ac845-105">O sistema gerencia ações como mover e dimensionar uma janela.</span><span class="sxs-lookup"><span data-stu-id="ac845-105">The system manages actions such as moving and sizing a window.</span></span> <span data-ttu-id="ac845-106">Se uma ação afetar o conteúdo da janela, o sistema marcará a parte afetada da janela como pronta para atualização e, na próxima oportunidade, enviará uma mensagem de [**\_ pintura do WM**](wm-paint.md) para o procedimento de janela da janela.</span><span class="sxs-lookup"><span data-stu-id="ac845-106">If an action affects the content of the window, the system marks the affected portion of the window as ready for updating and, at the next opportunity, sends a [**WM\_PAINT**](wm-paint.md) message to the window procedure of the window.</span></span> <span data-ttu-id="ac845-107">A mensagem é um sinal para o aplicativo determinar o que deve ser atualizado e para realizar o desenho necessário.</span><span class="sxs-lookup"><span data-stu-id="ac845-107">The message is a signal to the application to determine what must be updated and to carry out the necessary drawing.</span></span>

<span data-ttu-id="ac845-108">Algumas ações são gerenciadas pelo aplicativo, como exibir arquivos abertos e selecionar dados exibidos.</span><span class="sxs-lookup"><span data-stu-id="ac845-108">Some actions are managed by the application, such as displaying open files and selecting displayed data.</span></span> <span data-ttu-id="ac845-109">Para essas ações, um aplicativo pode marcar para atualizar a parte da janela afetada pela ação, fazendo com que uma mensagem de [**\_ pintura do WM**](wm-paint.md) seja enviada na próxima oportunidade.</span><span class="sxs-lookup"><span data-stu-id="ac845-109">For these actions, an application can mark for updating the portion of the window affected by the action, causing a [**WM\_PAINT**](wm-paint.md) message to be sent at the next opportunity.</span></span> <span data-ttu-id="ac845-110">Se uma ação exigir comentários imediatos, o aplicativo poderá ser desenhado enquanto a ação ocorrer, sem esperar pelo **WM \_ Paint**.</span><span class="sxs-lookup"><span data-stu-id="ac845-110">If an action requires immediate feedback, the application can draw while the action takes place, without waiting for **WM\_PAINT**.</span></span> <span data-ttu-id="ac845-111">Por exemplo, um aplicativo típico realça a área que o usuário seleciona em vez de aguardar a próxima mensagem de **\_ pintura do WM** para atualizar a área.</span><span class="sxs-lookup"><span data-stu-id="ac845-111">For example, a typical application highlights the area the user selects rather than waiting for the next **WM\_PAINT** message to update the area.</span></span>

<span data-ttu-id="ac845-112">Em todos os casos, um aplicativo pode desenhar em uma janela assim que é criado.</span><span class="sxs-lookup"><span data-stu-id="ac845-112">In all cases, an application can draw in a window as soon as it is created.</span></span> <span data-ttu-id="ac845-113">Para desenhar na janela, o aplicativo deve primeiro recuperar um identificador para um contexto de dispositivo de exibição para a janela.</span><span class="sxs-lookup"><span data-stu-id="ac845-113">To draw in the window, the application must first retrieve a handle to a display device context for the window.</span></span> <span data-ttu-id="ac845-114">O ideal é que um aplicativo execute a maioria de suas operações de desenho durante o processamento de mensagens de [**\_ pintura do WM**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="ac845-114">Ideally, an application carries out most of its drawing operations during the processing of [**WM\_PAINT**](wm-paint.md) messages.</span></span> <span data-ttu-id="ac845-115">Nesse caso, o aplicativo recupera um contexto de dispositivo de exibição chamando a função [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) .</span><span class="sxs-lookup"><span data-stu-id="ac845-115">In this case, the application retrieves a display device context by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function.</span></span> <span data-ttu-id="ac845-116">Se um aplicativo desenhar em qualquer outro momento, como de dentro de [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) ou durante o processamento de mensagens de teclado ou mouse, ele chamará a função [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) para recuperar o DC de vídeo.</span><span class="sxs-lookup"><span data-stu-id="ac845-116">If an application draws at any other time, such as from within [**WinMain**](/windows/win32/api/winbase/nf-winbase-winmain) or during the processing of keyboard or mouse messages, it calls the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function to retrieve the display DC.</span></span>

 

 
