---
description: Normalmente, as entradas da paleta do sistema que o sistema reserva para cores estáticas não podem ser alteradas.
ms.assetid: be258151-36cc-42ba-8005-ff9d8e59b894
title: Paleta do sistema e cores estáticas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 537bdc87fecdd055334b83a56b0a53f9999be94c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104967868"
---
# <a name="system-palette-and-static-colors"></a><span data-ttu-id="82337-103">Paleta do sistema e cores estáticas</span><span class="sxs-lookup"><span data-stu-id="82337-103">System Palette and Static Colors</span></span>

<span data-ttu-id="82337-104">Normalmente, as entradas da paleta do sistema que o sistema reserva para cores estáticas não podem ser alteradas.</span><span class="sxs-lookup"><span data-stu-id="82337-104">Ordinarily, the system palette entries that the system reserves for static colors cannot be changed.</span></span> <span data-ttu-id="82337-105">Um aplicativo pode substituir esse comportamento padrão usando a função [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) para reduzir o número de entradas de cores estáticas e, assim, aumentar o número de entradas de paleta do sistema não utilizadas.</span><span class="sxs-lookup"><span data-stu-id="82337-105">An application can override this default behavior by using the [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) function to reduce the number of static color entries and, thereby, increase the number of unused system palette entries.</span></span> <span data-ttu-id="82337-106">No entanto, como alterar as cores estáticas pode ter um efeito imediato e significativo em todas as janelas na exibição, um aplicativo não deve chamar **SetSystemPaletteUse**, a menos que tenha uma janela maximizada e o foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="82337-106">However, because changing the static colors can have an immediate and dramatic effect on all windows on the display, an application should not call **SetSystemPaletteUse**, unless it has a maximized window and the input focus.</span></span>

<span data-ttu-id="82337-107">Quando um aplicativo chama [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) com o \_ valor noestático SYSPAL, o sistema libera Todas, exceto duas, das entradas reservadas, permitindo que essas entradas recebam novos valores de cor quando o aplicativo, em seguida, percebe sua paleta lógica.</span><span class="sxs-lookup"><span data-stu-id="82337-107">When an application calls [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_NOSTATIC value, the system frees all but two of the reserved entries, allowing those entries to receive new color values when the application subsequently realizes its logical palette.</span></span> <span data-ttu-id="82337-108">As duas entradas de cor estática restantes permanecem reservadas e são definidas como branco e preto.</span><span class="sxs-lookup"><span data-stu-id="82337-108">The remaining two static color entries remain reserved and are set to white and black.</span></span> <span data-ttu-id="82337-109">Um aplicativo pode restaurar as entradas reservadas chamando **SetSystemPaletteUse** com o \_ valor estático SYSPAL.</span><span class="sxs-lookup"><span data-stu-id="82337-109">An application can restore the reserved entries by calling **SetSystemPaletteUse** with the SYSPAL\_STATIC value.</span></span> <span data-ttu-id="82337-110">Ele pode descobrir o uso atual da paleta do sistema usando a função [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) .</span><span class="sxs-lookup"><span data-stu-id="82337-110">It can discover the current system palette usage by using the [**GetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-getsystempaletteuse) function.</span></span>

<span data-ttu-id="82337-111">Além disso, depois de definir o uso da paleta do sistema como SYSPAL \_ noestático, o aplicativo deve reconhecer imediatamente sua paleta lógica, chamar a função [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) para salvar as configurações de cor do sistema atual, chamar a função [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) para definir as cores do sistema para valores razoáveis usando preto e branco e, finalmente, enviar a mensagem do [**WM \_ SYSCOLORCHANGE**](wm-syscolorchange.md) para outras janelas de nível superior para permitir que elas sejam</span><span class="sxs-lookup"><span data-stu-id="82337-111">Furthermore, after setting the system palette usage to SYSPAL\_NOSTATIC, the application must immediately realize its logical palette, call the [**GetSysColor**](/windows/win32/api/winuser/nf-winuser-getsyscolor) function to save the current system color settings, call the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function to set the system colors to reasonable values using black and white, and finally send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message to other top-level windows to allow them to be redrawn with the new system colors.</span></span> <span data-ttu-id="82337-112">Ao definir cores do sistema usando preto e branco, o aplicativo deve garantir que itens adjacentes ou sobrepostos, como quadros de janelas e bordas, sejam definidos como preto e branco, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="82337-112">When setting system colors using black and white, the application should make sure adjacent or overlapping items, such as window frames and borders, are set to black and white, respectively.</span></span>

<span data-ttu-id="82337-113">Antes de o aplicativo perder o foco de entrada, fecha sua janela ou termina, ele deve chamar imediatamente [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) com o \_ valor estático SYSPAL, perceber sua paleta lógica, restaurar as cores do sistema para seus valores anteriores e enviar a [**mensagem \_ SYSCOLORCHANGE do WM**](wm-syscolorchange.md) .</span><span class="sxs-lookup"><span data-stu-id="82337-113">Before the application loses the input focus, closes its window, or terminates, it must immediately call [**SetSystemPaletteUse**](/windows/desktop/api/Wingdi/nf-wingdi-setsystempaletteuse) with the SYSPAL\_STATIC value, realize its logical palette, restore the system colors to their previous values, and send the [**WM\_SYSCOLORCHANGE**](wm-syscolorchange.md) message.</span></span> <span data-ttu-id="82337-114">O sistema envia uma mensagem de [**\_ pintura do WM**](wm-paint.md) para qualquer janela afetada por uma alteração de cor do sistema.</span><span class="sxs-lookup"><span data-stu-id="82337-114">The system sends a [**WM\_PAINT**](wm-paint.md) message to any window that is affected by a system color change.</span></span> <span data-ttu-id="82337-115">Os aplicativos que têm pincéis usando as cores do sistema existentes devem excluir esses pincéis e recriá-los usando as novas cores do sistema.</span><span class="sxs-lookup"><span data-stu-id="82337-115">Applications that have brushes using the existing system colors should delete those brushes and re-create them using the new system colors.</span></span>

 

 
