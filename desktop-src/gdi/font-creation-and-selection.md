---
description: A caixa de diálogo fonte comum simplifica o processo de criação e seleção de fontes.
ms.assetid: 7183be25-a8e4-47a0-a34a-63eadf6ca10d
title: Criação e seleção de fontes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 37b4a70a1a49fc318ca69998d97e15fca838668d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104988825"
---
# <a name="font-creation-and-selection"></a><span data-ttu-id="cdf9c-103">Criação e seleção de fontes</span><span class="sxs-lookup"><span data-stu-id="cdf9c-103">Font Creation and Selection</span></span>

<span data-ttu-id="cdf9c-104">A caixa de diálogo **fonte** comum simplifica o processo de criação e seleção de fontes.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-104">The **Font** common dialog box simplifies the process of creating and selecting fonts.</span></span> <span data-ttu-id="cdf9c-105">Ao inicializar a estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) e chamar a função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) , um aplicativo pode dar suporte à mesma interface de seleção de fonte que exigia anteriormente muitas linhas de código personalizado.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-105">By initializing the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and calling the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function, an application can support the same font-selection interface that previously required many lines of custom code.</span></span> <span data-ttu-id="cdf9c-106">(Para obter mais informações sobre a caixa de diálogo **fonte** comum, consulte [biblioteca de caixa de diálogo comum](../dlgbox/common-dialog-box-library.md).)</span><span class="sxs-lookup"><span data-stu-id="cdf9c-106">(For more information about the **Font** common dialog box, see [Common Dialog Box Library](../dlgbox/common-dialog-box-library.md).)</span></span>

## <a name="selection-by-the-user"></a><span data-ttu-id="cdf9c-107">Seleção pelo usuário</span><span class="sxs-lookup"><span data-stu-id="cdf9c-107">Selection by the User</span></span>

<span data-ttu-id="cdf9c-108">A maioria das operações de criação e seleção de fontes envolvem o usuário.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-108">Most font creation and selection operations involve the user.</span></span> <span data-ttu-id="cdf9c-109">Por exemplo, aplicativos de processamento de texto permitem que o usuário selecione fontes exclusivas para títulos, notas de rodapé e corpo de texto.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-109">For example, word processing applications let the user select unique fonts for headings, footnotes, and body text.</span></span> <span data-ttu-id="cdf9c-110">Depois que o usuário seleciona uma fonte usando a caixa de diálogo **fonte** e pressiona o botão **OK** , a função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) Inicializa os membros de uma estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) com os atributos da fonte solicitada.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-110">After the user selects a font by using the **Font** dialog box and presses the **OK** button, the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function initializes the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure with the attributes of the requested font.</span></span> <span data-ttu-id="cdf9c-111">Para usar essa fonte para operações de saída de texto, um aplicativo deve primeiro criar uma fonte lógica e, em seguida, selecionar essa fonte em seu contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-111">To use this font for text-output operations, an application must first create a logical font and then select that font into its device context.</span></span> <span data-ttu-id="cdf9c-112">Uma *fonte lógica* é uma descrição fornecida pelo aplicativo de uma fonte ideal.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-112">A *logical font* is an application-supplied description of an ideal font.</span></span> <span data-ttu-id="cdf9c-113">Um desenvolvedor pode criar uma fonte lógica chamando as funções [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) ou [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) .</span><span class="sxs-lookup"><span data-stu-id="cdf9c-113">A developer can create a logical font by calling the [**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta) or the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) functions.</span></span> <span data-ttu-id="cdf9c-114">Nesse caso, o aplicativo chamaria [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) e forneceria um ponteiro para a estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inicializada pelo [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span><span class="sxs-lookup"><span data-stu-id="cdf9c-114">In this case, the application would call [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) and supply a pointer to the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure initialized by [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta).</span></span> <span data-ttu-id="cdf9c-115">Em geral, é mais eficiente chamar **CreateFontIndirect** porque [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requer vários parâmetros, enquanto **CreateFontIndirect** requer apenas um ponteiro para **LOGFONT**.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-115">In general, it is more efficient to call **CreateFontIndirect** because [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta) requires several parameters while **CreateFontIndirect** requires only one pointer to **LOGFONT**.</span></span>

<span data-ttu-id="cdf9c-116">Antes que um aplicativo possa realmente começar a desenhar texto com uma fonte lógica, ele deve encontrar a correspondência mais próxima das fontes armazenadas internamente no dispositivo e as fontes cujos recursos foram carregados no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-116">Before an application can actually begin drawing text with a logical font, it must find the closest match from the fonts stored internally on the device and the fonts whose resources have been loaded into the operating system.</span></span> <span data-ttu-id="cdf9c-117">As fontes armazenadas no dispositivo ou no sistema operacional são chamadas de *fontes físicas*.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-117">The fonts stored on the device or in the operating system are called *physical fonts*.</span></span> <span data-ttu-id="cdf9c-118">O processo de localizar a fonte física que mais se aproximar com uma fonte lógica especificada é chamado de mapeamento de fonte.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-118">The process of finding the physical font that most closely matches a specified logical font is called font mapping.</span></span> <span data-ttu-id="cdf9c-119">Esse processo ocorre quando um aplicativo chama a função [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) e fornece um identificador que identifica uma fonte lógica.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-119">This process occurs when an application calls the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function and supplies a handle identifying a logical font.</span></span> <span data-ttu-id="cdf9c-120">O mapeamento de fontes é executado usando um algoritmo interno que compara os atributos da fonte lógica solicitada com os atributos das fontes físicas disponíveis.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-120">Font mapping is performed by using an internal algorithm that compares the attributes of the requested logical font against the attributes of available physical fonts.</span></span> <span data-ttu-id="cdf9c-121">Quando o algoritmo do mapeador de fontes conclui sua pesquisa e determina a correspondência mais próxima possível, a função [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) retorna e o aplicativo pode começar a desenhar texto com a nova fonte.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-121">When the font mapper algorithm completes its search and determines the closest possible match, the [**SelectObject**](/windows/win32/api/wingdi/nf-wingdi-selectobject) function returns and the application can begin drawing text with the new font.</span></span>

<span data-ttu-id="cdf9c-122">A função [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) especifica se o algoritmo do mapeador de fontes procura somente fontes físicas com taxas de proporção que correspondam ao dispositivo físico.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-122">The [**SetMapperFlags**](/windows/desktop/api/Wingdi/nf-wingdi-setmapperflags) function specifies whether the font mapper algorithm searches only for physical fonts with aspect ratios that match the physical device.</span></span> <span data-ttu-id="cdf9c-123">A taxa de proporção para um dispositivo é a taxa formada pela largura e a altura de um pixel no dispositivo.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-123">The aspect ratio for a device is the ratio formed by the width and the height of a pixel on that device.</span></span>

<span data-ttu-id="cdf9c-124">A fonte do sistema (também conhecida como Shell ou fonte padrão) é a fonte usada para texto nas barras de título, menus e caixas de diálogo.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-124">The system font (also known as the shell or default font) is the font used for text in the title bars, menus, and dialog boxes.</span></span>

## <a name="special-font-selection-considerations"></a><span data-ttu-id="cdf9c-125">Considerações de seleção de fonte especial</span><span class="sxs-lookup"><span data-stu-id="cdf9c-125">Special Font Selection Considerations</span></span>

<span data-ttu-id="cdf9c-126">Embora a maioria das operações de seleção de fontes envolva o usuário, há algumas instâncias em que isso não é verdade.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-126">Although most font selection operations involve the user, there are some instances where this is not true.</span></span> <span data-ttu-id="cdf9c-127">Por exemplo, um desenvolvedor pode querer usar uma fonte exclusiva em um aplicativo para desenhar texto em uma janela de controle.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-127">For example, a developer may want to use a unique font in an application to draw text in a control window.</span></span> <span data-ttu-id="cdf9c-128">Para selecionar uma fonte apropriada, o aplicativo deve ser capaz de determinar quais fontes estão disponíveis, criar uma fonte lógica que descreva uma dessas fontes disponíveis e, em seguida, selecionar essa fonte no contexto do dispositivo apropriado.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-128">To select an appropriate font, the application must be able to determine what fonts are available, create a logical font that describes one of these available fonts, and then select that font into the appropriate device context.</span></span>

<span data-ttu-id="cdf9c-129">Um aplicativo pode enumerar as fontes disponíveis usando as funções [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) ou [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) .</span><span class="sxs-lookup"><span data-stu-id="cdf9c-129">An application can enumerate the available fonts by using the [**EnumFonts**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontsa) or [**EnumFontFamilies**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa) functions.</span></span> <span data-ttu-id="cdf9c-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) é recomendado porque enumera todos os estilos associados a um nome de família.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-130">[**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa) is recommended because it enumerates all the styles associated with a family name.</span></span> <span data-ttu-id="cdf9c-131">Isso pode ser útil para fontes com estilos muitos ou incomuns e para fontes que cruzam bordas internacionais.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-131">This can be useful for fonts with many or unusual styles and for fonts that cross international borders.</span></span>

<span data-ttu-id="cdf9c-132">Depois que um aplicativo tiver enumerado as fontes disponíveis e localizado uma correspondência apropriada, ele deverá usar os valores retornados pela função de enumeração de fonte para inicializar os membros de uma estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) .</span><span class="sxs-lookup"><span data-stu-id="cdf9c-132">Once an application has enumerated the available fonts and located an appropriate match, it should use the values returned by the font enumeration function to initialize the members of a [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="cdf9c-133">Em seguida, ele pode chamar a função [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) , passando um ponteiro para a estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) inicializada.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-133">Then it can call the [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta) function, passing to it a pointer to the initialized [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure.</span></span> <span data-ttu-id="cdf9c-134">Se a função [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) for bem-sucedida, o aplicativo poderá selecionar a fonte lógica chamando a função [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) .</span><span class="sxs-lookup"><span data-stu-id="cdf9c-134">If the [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta) function is successful, the application can then select the logical font by calling the [**SelectObject**](/windows/desktop/api/Wingdi/nf-wingdi-selectobject) function.</span></span> <span data-ttu-id="cdf9c-135">Ao inicializar os membros da estrutura **LOGFONT** , certifique-se de especificar um conjunto de caracteres específico no membro **lfCharSet** .</span><span class="sxs-lookup"><span data-stu-id="cdf9c-135">When initializing the members of the **LOGFONT** structure, be sure to specify a specific character set in the **lfCharSet** member.</span></span> <span data-ttu-id="cdf9c-136">Esse membro é importante no processo de mapeamento de fontes e os resultados serão inconsistentes se esse membro não for inicializado corretamente.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-136">This member is important in the font mapping process and the results will be inconsistent if this member is not initialized correctly.</span></span> <span data-ttu-id="cdf9c-137">Se você especificar um nome de tipo de fonte no membro **lfFaceName** da estrutura **LOGFONT** , certifique-se de que o valor **lfCharSet** corresponde ao conjunto de caracteres da face de tipos especificada em **lfFaceName**.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-137">If you specify a typeface name in the **lfFaceName** member of the **LOGFONT** structure, make sure that the **lfCharSet** value matches the character set of the typeface specified in **lfFaceName**.</span></span> <span data-ttu-id="cdf9c-138">Por exemplo, se você quiser selecionar uma fonte como MS Mincho, **lfCharSet** deverá ser definido como o valor predefinido SHIFTJIS \_ CharSet.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-138">For example, if you want to select a font such as MS Mincho, **lfCharSet** must be set to the predefined value SHIFTJIS\_CHARSET.</span></span>

<span data-ttu-id="cdf9c-139">As fontes para muitos idiomas do leste asiático têm dois nomes de tipos: um nome em inglês e um nome localizado.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-139">The fonts for many East Asian languages have two typeface names: an English name and a localized name.</span></span> <span data-ttu-id="cdf9c-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) usam o nome da face de tipos localizada para uma localidade do sistema que corresponda ao idioma, mas eles usam o nome de tipo em inglês para todas as outras localidades do sistema.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-140">[**CreateFont**](/windows/desktop/api/Wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/desktop/api/Wingdi/nf-wingdi-createfontindirectexa) take the localized typeface name for a system locale that matches the language, but they take the English typeface name for all other system locales.</span></span> <span data-ttu-id="cdf9c-141">O melhor método é tentar um nome e, em caso de falha, tentar o outro.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-141">The best method is to try one name and, on failure, try the other.</span></span> <span data-ttu-id="cdf9c-142">Observe que [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa)e [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) retornam o nome da face de tipos em inglês se a localidade do sistema não corresponder ao idioma da fonte.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-142">Note that [**EnumFonts**](/windows/win32/api/wingdi/nf-wingdi-enumfontsa), [**EnumFontFamilies**](/windows/win32/api/wingdi/nf-wingdi-enumfontfamiliesa), and [**EnumFontFamiliesEx**](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesexa) return the English typeface name if the system locale does not match the language of the font.</span></span> <span data-ttu-id="cdf9c-143">A partir do Windows 2000, isso não é mais um problema porque o mapeador de fontes para [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta)e [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) reconhece o nome do tipo, independentemente da localidade.</span><span class="sxs-lookup"><span data-stu-id="cdf9c-143">Starting with Windows 2000, this is no longer a problem because the font mapper for [**CreateFont**](/windows/win32/api/wingdi/nf-wingdi-createfonta), [**CreateFontIndirect**](/windows/win32/api/wingdi/nf-wingdi-createfontindirecta), and [**CreateFontIndirectEx**](/windows/win32/api/wingdi/nf-wingdi-createfontindirectexa) recognizes either typeface name, regardless of locale.</span></span>

 

 
