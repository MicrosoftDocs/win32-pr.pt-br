---
description: A maioria dos desenhos realizados durante o processamento da \_ mensagem de pintura do WM é assíncrona; ou seja, há um atraso entre o tempo em que uma parte da janela é invalidada e a hora em que o WM \_ Paint é enviado.
ms.assetid: c4eac615-6526-4ca6-854b-b4a598da13a4
title: Desenho síncrono e assíncrono
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a80dd5d5d63cbe10d19ec98e9f5dc9ae9163c18a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103922573"
---
# <a name="synchronous-and-asynchronous-drawing"></a><span data-ttu-id="95dcf-103">Desenho síncrono e assíncrono</span><span class="sxs-lookup"><span data-stu-id="95dcf-103">Synchronous and Asynchronous Drawing</span></span>

<span data-ttu-id="95dcf-104">A maioria dos desenhos realizados durante o processamento da mensagem de [**\_ pintura do WM**](wm-paint.md) é assíncrona; ou seja, há um atraso entre o tempo em que uma parte da janela é invalidada e a hora em que o WM \_ Paint é enviado.</span><span class="sxs-lookup"><span data-stu-id="95dcf-104">Most drawing carried out during processing of the [**WM\_PAINT**](wm-paint.md) message is asynchronous; that is, there is a delay between the time a portion of the window is invalidated and the time WM\_PAINT is sent.</span></span> <span data-ttu-id="95dcf-105">Durante o atraso, o aplicativo normalmente recupera mensagens da fila e executa outras tarefas.</span><span class="sxs-lookup"><span data-stu-id="95dcf-105">During the delay, the application typically retrieves messages from the queue and carries out other tasks.</span></span> <span data-ttu-id="95dcf-106">O motivo do atraso é que o sistema geralmente trata o desenho em uma janela como uma operação de baixa prioridade e funciona como se mensagens de entrada do usuário e mensagens que podem afetar a posição ou o tamanho de uma janela sejam processados antes do WM \_ Paint.</span><span class="sxs-lookup"><span data-stu-id="95dcf-106">The reason for the delay is that the system generally treats drawing in a window as a low-priority operation and works as though user-input messages and messages that may affect the position or size of a window will be processed before WM\_PAINT .</span></span>

<span data-ttu-id="95dcf-107">Em alguns casos, é necessário que um aplicativo desenhe de forma síncrona ou seja, desenhe na janela imediatamente após a invalidação de uma parte da janela.</span><span class="sxs-lookup"><span data-stu-id="95dcf-107">In some cases, it is necessary for an application to draw synchronously that is, draw in the window immediately after invalidating a portion of the window.</span></span> <span data-ttu-id="95dcf-108">Um aplicativo típico desenha sua janela principal imediatamente após a criação da janela para sinalizar ao usuário que o aplicativo foi iniciado com êxito.</span><span class="sxs-lookup"><span data-stu-id="95dcf-108">A typical application draws its main window immediately after creating the window to signal the user that the application has started successfully.</span></span> <span data-ttu-id="95dcf-109">O sistema desenha algumas janelas de controle de forma síncrona, como botões, porque essas janelas servem como foco para a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="95dcf-109">The system draws some control windows synchronously, such as buttons, because such windows serve as the focus for user input.</span></span> <span data-ttu-id="95dcf-110">Embora qualquer janela com uma rotina de desenho simples possa ser desenhada de forma síncrona, todo esse desenho deve ser feito rapidamente e não deve interferir na capacidade do aplicativo de responder à entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="95dcf-110">Although any window with a simple drawing routine can be drawn synchronously, all such drawing should be done quickly and should not interfere with the application's ability to respond to user input.</span></span>

<span data-ttu-id="95dcf-111">As funções [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) e [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) permitem o desenho síncrono.</span><span class="sxs-lookup"><span data-stu-id="95dcf-111">The [**UpdateWindow**](/windows/desktop/api/Winuser/nf-winuser-updatewindow) and [**RedrawWindow**](/windows/desktop/api/Winuser/nf-winuser-redrawwindow) functions allow for synchronous drawing.</span></span> <span data-ttu-id="95dcf-112">**UpdateWindow** envia uma mensagem do [**WM \_ Paint**](wm-paint.md) diretamente para a janela se a região de atualização não estiver vazia.</span><span class="sxs-lookup"><span data-stu-id="95dcf-112">**UpdateWindow** sends a [**WM\_PAINT**](wm-paint.md) message directly to the window if the update region is not empty.</span></span> <span data-ttu-id="95dcf-113">O **RedrawWindow** também envia uma mensagem de **\_ pintura do WM** , mas dá ao aplicativo um maior controle sobre como desenhar a janela, por exemplo, se deseja desenhar a área não cliente e o plano de fundo da janela ou se deseja enviar a mensagem independentemente se a região de atualização está vazia.</span><span class="sxs-lookup"><span data-stu-id="95dcf-113">**RedrawWindow** also sends a **WM\_PAINT** message, but gives the application greater control over how to draw the window, such as whether to draw the nonclient area and window background or whether to send the message regardless of whether the update region is empty.</span></span> <span data-ttu-id="95dcf-114">Essas funções enviam a mensagem do **WM \_ Paint** diretamente para a janela, independentemente do número de outras mensagens na fila de mensagens do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="95dcf-114">These functions send the **WM\_PAINT** message directly to the window, regardless of the number of other messages in the application message queue.</span></span>

<span data-ttu-id="95dcf-115">Qualquer janela que exija operações demoradas de desenho deve ser desenhada de forma assíncrona para impedir que mensagens pendentes sejam bloqueadas à medida que a janela é desenhada.</span><span class="sxs-lookup"><span data-stu-id="95dcf-115">Any window requiring time-consuming drawing operations should be drawn asynchronously to prevent pending messages from being blocked as the window is drawn.</span></span> <span data-ttu-id="95dcf-116">Além disso, qualquer aplicativo que, com frequência, invalida pequenas partes de uma janela deve permitir que essas partes inválidas sejam consolidadas em uma única mensagem assíncrona de [**\_ pintura do WM**](wm-paint.md) , em vez de uma série de mensagens de **\_ pintura do WM** síncronas.</span><span class="sxs-lookup"><span data-stu-id="95dcf-116">Also, any application that frequently invalidates small portions of a window should allow these invalid portions to consolidate into a single asynchronous [**WM\_PAINT**](wm-paint.md) message, rather than a series of synchronous **WM\_PAINT** messages.</span></span>

 

 



