---
description: Inserir uma fonte é a técnica de agrupar um documento e as fontes que ele contém em um arquivo para transmissão para outro computador.
ms.assetid: ded409f1-5bd9-411b-b905-fc49c484786a
title: Fontes inseridas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 83fb8ab821afa5f44ded05a4a61a53439b8db9fc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104091187"
---
# <a name="embedded-fonts"></a><span data-ttu-id="8fa90-103">Fontes inseridas</span><span class="sxs-lookup"><span data-stu-id="8fa90-103">Embedded Fonts</span></span>

<span data-ttu-id="8fa90-104">Inserir uma fonte é a técnica de agrupar um documento e as fontes que ele contém em um arquivo para transmissão para outro computador.</span><span class="sxs-lookup"><span data-stu-id="8fa90-104">Embedding a font is the technique of bundling a document and the fonts it contains into a file for transmission to another computer.</span></span> <span data-ttu-id="8fa90-105">A inserção de uma fonte garante que uma fonte especificada em um arquivo transmitido estará presente no computador que está recebendo o arquivo.</span><span class="sxs-lookup"><span data-stu-id="8fa90-105">Embedding a font guarantees that a font specified in a transmitted file will be present on the computer receiving the file.</span></span> <span data-ttu-id="8fa90-106">Nem todas as fontes podem ser movidas de computador para computador, no entanto, já que a maioria das fontes é licenciada para apenas um computador por vez.</span><span class="sxs-lookup"><span data-stu-id="8fa90-106">Not all fonts can be moved from computer to computer, however, since most fonts are licensed to only one computer at a time.</span></span> <span data-ttu-id="8fa90-107">Somente fontes TrueType e OpenType podem ser inseridas.</span><span class="sxs-lookup"><span data-stu-id="8fa90-107">Only TrueType and OpenType fonts can be embedded.</span></span>

<span data-ttu-id="8fa90-108">Os aplicativos devem inserir uma fonte em um documento somente quando solicitado por um usuário.</span><span class="sxs-lookup"><span data-stu-id="8fa90-108">Applications should embed a font in a document only when requested by a user.</span></span> <span data-ttu-id="8fa90-109">Um aplicativo não pode ser distribuído juntamente com documentos que contêm fontes inseridas, nem um aplicativo em si contém uma fonte inserida.</span><span class="sxs-lookup"><span data-stu-id="8fa90-109">An application cannot be distributed along with documents that contain embedded fonts, nor can an application itself contain an embedded font.</span></span> <span data-ttu-id="8fa90-110">Sempre que um aplicativo distribui uma fonte, em qualquer formato, os direitos proprietários do proprietário da fonte devem ser confirmados.</span><span class="sxs-lookup"><span data-stu-id="8fa90-110">Whenever an application distributes a font, in any format, the proprietary rights of the owner of the font must be acknowledged.</span></span>

<span data-ttu-id="8fa90-111">Pode ser uma violação dos direitos proprietários ou do contrato de licença de usuário de um fornecedor de fontes para inserir qualquer fonte em que a inserção não é permitida ou para não observar as diretrizes a seguir sobre a inserção de fontes.</span><span class="sxs-lookup"><span data-stu-id="8fa90-111">It may be a violation of a font vendor's proprietary rights or user license agreement to embed any fonts where embedding is not permitted or to fail to observe the following guidelines on embedding fonts.</span></span> <span data-ttu-id="8fa90-112">A licença de uma fonte pode conceder apenas permissão de leitura/gravação para que uma fonte seja instalada e usada no computador de destino.</span><span class="sxs-lookup"><span data-stu-id="8fa90-112">A font's license may give only read/write permission for a font to be installed and used on the destination computer.</span></span> <span data-ttu-id="8fa90-113">Ou a licença pode conceder permissão somente leitura.</span><span class="sxs-lookup"><span data-stu-id="8fa90-113">Or the license may give read-only permission.</span></span> <span data-ttu-id="8fa90-114">Permissão somente leitura permite que um documento seja exibido e impresso (mas não modificado) pelo computador de destino; documentos com fontes incorporadas somente leitura são somente leitura.</span><span class="sxs-lookup"><span data-stu-id="8fa90-114">Read-only permission allows a document to be viewed and printed (but not modified) by the destination computer; documents with read-only embedded fonts are themselves read-only.</span></span> <span data-ttu-id="8fa90-115">Fontes incorporadas somente leitura podem não ser desagrupadas do documento e instaladas no computador de destino.</span><span class="sxs-lookup"><span data-stu-id="8fa90-115">Read-only embedded fonts may not be unbundled from the document and installed on the destination computer.</span></span>

<span data-ttu-id="8fa90-116">Um aplicativo pode determinar o status da licença chamando a função [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) e examinando o membro **OtmfsType** da estrutura [**OUTLINETEXTMETRIC**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) .</span><span class="sxs-lookup"><span data-stu-id="8fa90-116">An application can determine the license status by calling the [**GetOutlineTextMetrics**](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) function and examining the **otmfsType** member of the [**OUTLINETEXTMETRIC**](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) structure.</span></span> <span data-ttu-id="8fa90-117">Se o bit 1 de **otmfsType** for definido, a inserção não será permitida para a fonte.</span><span class="sxs-lookup"><span data-stu-id="8fa90-117">If bit 1 of **otmfsType** is set, embedding is not permitted for the font.</span></span> <span data-ttu-id="8fa90-118">Se o bit 1 estiver claro, a fonte poderá ser inserida.</span><span class="sxs-lookup"><span data-stu-id="8fa90-118">If bit 1 is clear, the font can be embedded.</span></span> <span data-ttu-id="8fa90-119">Se o bit 2 for definido, a inserção será somente leitura.</span><span class="sxs-lookup"><span data-stu-id="8fa90-119">If bit 2 is set, the embedding is read-only.</span></span>

<span data-ttu-id="8fa90-120">Para inserir uma fonte TrueType, um aplicativo pode usar a função [**GetFontData**](/windows/desktop/api/Wingdi/nf-wingdi-getfontdata) para ler o arquivo de fonte.</span><span class="sxs-lookup"><span data-stu-id="8fa90-120">To embed a TrueType font, an application can use the [**GetFontData**](/windows/desktop/api/Wingdi/nf-wingdi-getfontdata) function to read the font file.</span></span> <span data-ttu-id="8fa90-121">Definir os parâmetros *dwTable* e *dwOffset* de [**GetFontData**](/windows/win32/api/wingdi/nf-wingdi-getfontdata) como 0L e o parâmetro *cbData* como 1L garante que o aplicativo Leia todo o arquivo de fonte desde o início.</span><span class="sxs-lookup"><span data-stu-id="8fa90-121">Setting the *dwTable* and *dwOffset* parameters of [**GetFontData**](/windows/win32/api/wingdi/nf-wingdi-getfontdata) to 0L and the *cbData* parameter to 1L ensures that the application reads the entire font file from the beginning.</span></span>

<span data-ttu-id="8fa90-122">Várias funções estão disponíveis para inserir fontes OpenType dependendo da largura do caractere e do local em que os dados da fonte residem.</span><span class="sxs-lookup"><span data-stu-id="8fa90-122">Several functions are available to embed OpenType fonts depending on the character width and where the font data resides.</span></span> <span data-ttu-id="8fa90-123">Para inserir uma fonte OpenType Unicode que reside em um contexto de dispositivo, um aplicativo pode usar [**TTEmbedFont**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfont).</span><span class="sxs-lookup"><span data-stu-id="8fa90-123">To embed an OpenType Unicode font that resides in a device context, an application can use [**TTEmbedFont**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfont).</span></span> <span data-ttu-id="8fa90-124">Para inserir uma fonte de UCS-4 OpenType que reside em um contexto de dispositivo, um aplicativo pode usar [**TTEmbedFontEx**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontex).</span><span class="sxs-lookup"><span data-stu-id="8fa90-124">To embed an OpenType UCS-4 font that resides in a device context, an application can use [**TTEmbedFontEx**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontex).</span></span> <span data-ttu-id="8fa90-125">Para inserir uma fonte OpenType Unicode que reside em um arquivo de fonte, um aplicativo pode usar [**TTEmbedFontFromFile**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontfromfilea).</span><span class="sxs-lookup"><span data-stu-id="8fa90-125">To embed an OpenType Unicode font that resides in a font file, an application can use [**TTEmbedFontFromFile**](/windows/desktop/api/T2embapi/nf-t2embapi-ttembedfontfromfilea).</span></span> <span data-ttu-id="8fa90-126">Para obter informações adicionais sobre a inserção de fontes OpenType, consulte a [referência de incorporação de fontes](font-embedding-reference.md).</span><span class="sxs-lookup"><span data-stu-id="8fa90-126">For additional information on OpenType font embedding, see the [Font Embedding Reference](font-embedding-reference.md).</span></span>

<span data-ttu-id="8fa90-127">Depois que um aplicativo recupera os dados da fonte, ele pode armazenar os dados com o documento usando qualquer formato aplicável.</span><span class="sxs-lookup"><span data-stu-id="8fa90-127">After an application retrieves the font data, it can store the data with the document by using any applicable format.</span></span> <span data-ttu-id="8fa90-128">A maioria dos aplicativos cria um diretório de fontes no documento, listando as fontes inseridas e se a inserção é de leitura/gravação ou somente leitura.</span><span class="sxs-lookup"><span data-stu-id="8fa90-128">Most applications build a font directory in the document, listing the embedded fonts and whether the embedding is read/write or read-only.</span></span> <span data-ttu-id="8fa90-129">Um aplicativo pode usar os membros **otmpStyleName** e **OtmFamilyName** da estrutura [**OUTLINETEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) para identificar a fonte.</span><span class="sxs-lookup"><span data-stu-id="8fa90-129">An application can use the **otmpStyleName** and **otmFamilyName** members of the [**OUTLINETEXTMETRIC**](/windows/win32/api/wingdi/ns-wingdi-outlinetextmetrica) structure to identify the font.</span></span>

<span data-ttu-id="8fa90-130">Se o bit somente leitura for definido para a fonte inserida, os aplicativos deverão criptografar os dados da fonte antes de armazená-los com o documento.</span><span class="sxs-lookup"><span data-stu-id="8fa90-130">If the read-only bit is set for the embedded font, applications must encrypt the font data before storing it with the document.</span></span> <span data-ttu-id="8fa90-131">O método de criptografia não precisa ser complicado; por exemplo, o uso do operador XOR para combinar os dados da fonte com uma constante definida pelo aplicativo é adequado e rápido.</span><span class="sxs-lookup"><span data-stu-id="8fa90-131">The encryption method need not be complicated; for example, using the XOR operator to combine the font data with an application-defined constant is adequate and fast.</span></span>

 

 
