---
description: O plano de fundo da janela é a cor ou o padrão usado para preencher a área do cliente antes que uma janela comece a desenhar.
ms.assetid: d0613f9b-e65b-4de2-887d-2b642d36b22d
title: Plano de fundo da janela
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 32d567b0bdc38866cd9332ff8ed399bfb23f53c8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103827990"
---
# <a name="window-background"></a><span data-ttu-id="c612c-103">Plano de fundo da janela</span><span class="sxs-lookup"><span data-stu-id="c612c-103">Window Background</span></span>

<span data-ttu-id="c612c-104">O plano de fundo da janela é a cor ou o padrão usado para preencher a área do cliente antes que uma janela comece a desenhar.</span><span class="sxs-lookup"><span data-stu-id="c612c-104">The window background is the color or pattern used to fill the client area before a window begins drawing.</span></span> <span data-ttu-id="c612c-105">O plano de fundo da janela aborda qualquer coisa na tela antes que a janela fosse movida, apagando as imagens existentes e impedindo que a nova saída do aplicativo seja misturada com informações não relacionadas.</span><span class="sxs-lookup"><span data-stu-id="c612c-105">The window background covers whatever was on the screen before the window was moved there, erasing existing images and preventing the application's new output from being mixed with unrelated information.</span></span>

<span data-ttu-id="c612c-106">O sistema pinta o plano de fundo de uma janela ou dá à janela a oportunidade de fazer isso enviando uma mensagem do [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md) quando o aplicativo chama [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint).</span><span class="sxs-lookup"><span data-stu-id="c612c-106">The system paints the background for a window or gives the window the opportunity to do so by sending it a [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message when the application calls [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint).</span></span> <span data-ttu-id="c612c-107">Se um aplicativo não processar a mensagem, mas a passar para [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), o sistema apagará o plano de fundo preenchendo-o com o padrão no pincel de plano de fundo especificado pela classe da janela.</span><span class="sxs-lookup"><span data-stu-id="c612c-107">If an application does not process the message but passes it to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca), the system erases the background by filling it with the pattern in the background brush specified by the window's class.</span></span> <span data-ttu-id="c612c-108">Se o pincel não for válido ou se a classe não tiver um pincel de plano de fundo, o sistema definirá o membro **fErase** na estrutura [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) que **BeginPaint** retornará, mas não executará nenhuma outra ação.</span><span class="sxs-lookup"><span data-stu-id="c612c-108">If the brush is not valid or the class has no background brush, the system sets the **fErase** member in the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure that **BeginPaint** returns, but carries out no other action.</span></span> <span data-ttu-id="c612c-109">Em seguida, o aplicativo tem uma segunda chance de desenhar o plano de fundo da janela, se necessário.</span><span class="sxs-lookup"><span data-stu-id="c612c-109">The application then has a second chance to draw the window background, if necessary.</span></span>

<span data-ttu-id="c612c-110">Se ele processar o [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md), o aplicativo deverá usar o parâmetro *wParam* da mensagem para desenhar o plano de fundo.</span><span class="sxs-lookup"><span data-stu-id="c612c-110">If it processes [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md), the application should use the message's *wParam* parameter to draw the background.</span></span> <span data-ttu-id="c612c-111">Esse parâmetro contém um identificador para o contexto do dispositivo de exibição para a janela.</span><span class="sxs-lookup"><span data-stu-id="c612c-111">This parameter contains a handle to the display device context for the window.</span></span> <span data-ttu-id="c612c-112">Depois de desenhar o plano de fundo, o aplicativo deve retornar um valor diferente de zero.</span><span class="sxs-lookup"><span data-stu-id="c612c-112">After drawing the background, the application should return a nonzero value.</span></span> <span data-ttu-id="c612c-113">Isso garante que o [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) não defina erroneamente o membro **FErase** da estrutura [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) com um valor diferente de zero (indicando que o plano de fundo deve ser apagado) quando o aplicativo processar a mensagem de [**\_ pintura do WM**](wm-paint.md) subsequente.</span><span class="sxs-lookup"><span data-stu-id="c612c-113">This ensures that [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) does not erroneously set the **fErase** member of the [**PAINTSTRUCT**](/windows/win32/api/winuser/ns-winuser-paintstruct) structure to a nonzero value (indicating the background should be erased) when the application processes the subsequent [**WM\_PAINT**](wm-paint.md) message.</span></span>

<span data-ttu-id="c612c-114">Um aplicativo pode definir um pincel de plano de fundo de classe atribuindo uma alça de pincel ou um valor de cor do sistema ao membro **hbrBackground** da estrutura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) ao registrar a classe com a função [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="c612c-114">An application can define a class background brush by assigning a brush handle or a system color value to the **hbrBackground** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure when registering the class with the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="c612c-115">A função [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) ou [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) pode ser usada para criar uma alça de pincel.</span><span class="sxs-lookup"><span data-stu-id="c612c-115">The [**GetStockObject**](/windows/desktop/api/Wingdi/nf-wingdi-getstockobject) or [**CreateSolidBrush**](/windows/desktop/api/Wingdi/nf-wingdi-createsolidbrush) function can be used to create a brush handle.</span></span> <span data-ttu-id="c612c-116">Um valor de cor do sistema pode ser um daqueles definidos para a função [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) .</span><span class="sxs-lookup"><span data-stu-id="c612c-116">A system color value can be one of those defined for the [**SetSysColors**](/windows/win32/api/winuser/nf-winuser-setsyscolors) function.</span></span> <span data-ttu-id="c612c-117">(O valor deve ser aumentado em um antes de ser atribuído ao membro).</span><span class="sxs-lookup"><span data-stu-id="c612c-117">(The value must be increased by one before it is assigned to the member.)</span></span>

<span data-ttu-id="c612c-118">Um aplicativo pode processar a mensagem do [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md) , embora um pincel de plano de fundo de classe seja definido.</span><span class="sxs-lookup"><span data-stu-id="c612c-118">An application can process the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message even though a class background brush is defined.</span></span> <span data-ttu-id="c612c-119">Isso é típico em aplicativos que permitem que o usuário altere a cor ou o padrão do plano de fundo da janela para uma janela especificada sem afetar outras janelas na classe.</span><span class="sxs-lookup"><span data-stu-id="c612c-119">This is typical in applications that enable the user to change the window background color or pattern for a specified window without affecting other windows in the class.</span></span> <span data-ttu-id="c612c-120">Nesses casos, o aplicativo não deve passar a mensagem para [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="c612c-120">In such cases, the application must not pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>

<span data-ttu-id="c612c-121">Não é necessário que um aplicativo alinhe pincéis, pois o sistema desenha o pincel usando a origem da janela como o ponto de referência.</span><span class="sxs-lookup"><span data-stu-id="c612c-121">It is not necessary for an application to align brushes, because the system draws the brush using the window origin as the point of reference.</span></span> <span data-ttu-id="c612c-122">Considerando isso, o usuário pode mover a janela sem afetar o alinhamento dos pincéis de padrão.</span><span class="sxs-lookup"><span data-stu-id="c612c-122">Given this, the user can move the window without affecting the alignment of pattern brushes.</span></span>

 

 
