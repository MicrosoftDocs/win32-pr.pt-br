---
description: Os bitmaps dependentes do dispositivo (DDBs) são descritos usando uma única estrutura, a estrutura de BITMAP.
ms.assetid: 63ff9cd6-cd07-4085-b166-268e4d9b7aad
title: Device-Dependent bitmaps
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 92a3de2c59509c71b38f9981df330b3b28effa26
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104091195"
---
# <a name="device-dependent-bitmaps"></a><span data-ttu-id="87b26-103">Device-Dependent bitmaps</span><span class="sxs-lookup"><span data-stu-id="87b26-103">Device-Dependent Bitmaps</span></span>

<span data-ttu-id="87b26-104">Os bitmaps dependentes do dispositivo (DDBs) são descritos usando uma única estrutura, a estrutura de [**bitmap**](/windows/win32/api/wingdi/ns-wingdi-bitmap) .</span><span class="sxs-lookup"><span data-stu-id="87b26-104">Device-dependent bitmaps (DDBs) are described by using a single structure, the [**BITMAP**](/windows/win32/api/wingdi/ns-wingdi-bitmap) structure.</span></span> <span data-ttu-id="87b26-105">Os membros dessa estrutura especificam a largura e a altura de uma região retangular, em pixels; a largura da matriz que mapeia as entradas da paleta do dispositivo para pixels; e o formato de cor do dispositivo, em termos de planos de cores e bits por pixel.</span><span class="sxs-lookup"><span data-stu-id="87b26-105">The members of this structure specify the width and height of a rectangular region, in pixels; the width of the array that maps entries from the device palette to pixels; and the device's color format, in terms of color planes and bits per pixel.</span></span> <span data-ttu-id="87b26-106">Um aplicativo pode recuperar o formato de cor de um dispositivo chamando a função [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) e especificando as constantes apropriadas.</span><span class="sxs-lookup"><span data-stu-id="87b26-106">An application can retrieve the color format of a device by calling the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function and specifying the appropriate constants.</span></span> <span data-ttu-id="87b26-107">Observe que um BDD não contém valores de cor; em vez disso, as cores estão em um formato dependente de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87b26-107">Note that a DDB does not contain color values; instead, the colors are in a device-dependent format.</span></span> <span data-ttu-id="87b26-108">Para obter mais informações, consulte [cor em bitmaps](color-in-bitmaps.md).</span><span class="sxs-lookup"><span data-stu-id="87b26-108">For more information, see [Color in Bitmaps](color-in-bitmaps.md).</span></span> <span data-ttu-id="87b26-109">Como cada dispositivo pode ter seu próprio conjunto de cores, um BDD criado para um dispositivo pode não ser exibido bem em um dispositivo diferente.</span><span class="sxs-lookup"><span data-stu-id="87b26-109">Because each device can have its own set of colors, a DDB created for one device may not display well on a different device.</span></span>

<span data-ttu-id="87b26-110">Para usar um BDD em um contexto de dispositivo, ele deve ter a organização de cores desse contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87b26-110">To use a DDB in a device context, it must have the color organization of that device context.</span></span> <span data-ttu-id="87b26-111">Assim, um BDD é geralmente chamado de *bitmap compatível* e geralmente tem melhor desempenho de GDI do que um DIB.</span><span class="sxs-lookup"><span data-stu-id="87b26-111">Thus, a DDB is often called a *compatible bitmap* and it usually has better GDI performance than a DIB.</span></span> <span data-ttu-id="87b26-112">Por exemplo, para criar um bitmap para a memória de vídeo, é melhor usar um bitmap compatível com o mesmo formato de cor que a exibição primária.</span><span class="sxs-lookup"><span data-stu-id="87b26-112">For example, to create a bitmap for video memory, it is best to use a compatible bitmap with the same color format as the primary display.</span></span> <span data-ttu-id="87b26-113">Uma vez na memória de vídeo, renderizar para o bitmap e exibi-lo para a tela é significativamente mais rápido do que a partir de uma superfície de memória do sistema ou diretamente de um DIB.</span><span class="sxs-lookup"><span data-stu-id="87b26-113">Once in video memory, rendering to the bitmap and displaying it to the screen are significantly faster than from a system memory surface or directly from a DIB.</span></span>

<span data-ttu-id="87b26-114">Além de permitir melhor desempenho de GDI, bitmaps compatíveis são usados para capturar imagens (consulte [captura de uma imagem](capturing-an-image.md) ) e para criar bitmaps em tempo de execução para menus, consulte "criando o bitmap" em (consulte [usando menus](../menurc/using-menus.md) ).</span><span class="sxs-lookup"><span data-stu-id="87b26-114">In addition to enabling better GDI performance, compatible bitmaps are used to capture images (see [Capturing an Image](capturing-an-image.md) ) and to create bitmaps at run time for menus see "Creating the Bitmap" in (see [Using Menus](../menurc/using-menus.md) ).</span></span>

<span data-ttu-id="87b26-115">Para transferir um bitmap entre dispositivos com uma organização de cores diferente, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) para converter o bitmap compatível em DIB e chamar [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) ou [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) para exibir o DIB para o segundo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="87b26-115">To transfer a bitmap between devices with different color organization, use [**GetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-getdibits) to convert the compatible bitmap to a DIB and call [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) or [**StretchDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-stretchdibits) to display the DIB to the second device.</span></span>

<span data-ttu-id="87b26-116">Há dois tipos de DDBs: descartável e não descartável.</span><span class="sxs-lookup"><span data-stu-id="87b26-116">There are two types of DDBs: discardable and nondiscardable.</span></span> <span data-ttu-id="87b26-117">Um BDD Descartado é um bitmap que o sistema descarta se o bitmap não estiver selecionado em um controlador de domínio e se a memória do sistema estiver baixa.</span><span class="sxs-lookup"><span data-stu-id="87b26-117">A discardable DDB is a bitmap that the system discards if the bitmap is not selected into a DC and if system memory is low.</span></span> <span data-ttu-id="87b26-118">A função [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) cria bitmaps descartados.</span><span class="sxs-lookup"><span data-stu-id="87b26-118">The [**CreateDiscardableBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-creatediscardablebitmap) function creates discardable bitmaps.</span></span> <span data-ttu-id="87b26-119">As funções [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap)e [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) criam bitmaps não descartáveis.</span><span class="sxs-lookup"><span data-stu-id="87b26-119">The [**CreateBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmap), [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap), and [**CreateBitmapIndirect**](/windows/desktop/api/Wingdi/nf-wingdi-createbitmapindirect) functions create nondiscardable bitmaps.</span></span>

<span data-ttu-id="87b26-120">Um aplicativo pode criar um BDD de um DIB Inicializando as estruturas necessárias e chamando a função [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) .</span><span class="sxs-lookup"><span data-stu-id="87b26-120">An application can create a DDB from a DIB by initializing the required structures and calling the [**CreateDIBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createdibitmap) function.</span></span> <span data-ttu-id="87b26-121">Especificar CBM \_ init na chamada para **CreateDIBitmap** é equivalente a chamar a função [**CREATECOMPATIBLEBITMAP**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) para criar um BDD no formato do dispositivo e, em seguida, chamar a função [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) para converter os bits DIB no BDD.</span><span class="sxs-lookup"><span data-stu-id="87b26-121">Specifying CBM\_INIT in the call to **CreateDIBitmap** is equivalent to calling the [**CreateCompatibleBitmap**](/windows/desktop/api/Wingdi/nf-wingdi-createcompatiblebitmap) function to create a DDB in the format of the device and then calling the [**SetDIBits**](/windows/desktop/api/Wingdi/nf-wingdi-setdibits) function to translate the DIB bits to the DDB.</span></span> <span data-ttu-id="87b26-122">Para determinar se um dispositivo dá suporte à função **SetDIBits** , chame a função [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) , especificando \_ o \_ bitmap de di RC como o sinalizador RasterCaps.</span><span class="sxs-lookup"><span data-stu-id="87b26-122">To determine whether a device supports the **SetDIBits** function, call the [**GetDeviceCaps**](/windows/desktop/api/Wingdi/nf-wingdi-getdevicecaps) function, specifying RC\_DI\_BITMAP as the RASTERCAPS flag.</span></span>

 

 
