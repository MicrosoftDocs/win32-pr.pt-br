---
description: Usando um contexto de dispositivo de classe, um aplicativo pode usar um único contexto de dispositivo de exibição para cada janela que pertence a uma classe especificada.
ms.assetid: fc76abbf-68da-47f2-8145-4fad806297b4
title: A classe exibe contextos de dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e5a4cc0268d948e1a6f95050409698217e3f13e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104967708"
---
# <a name="class-display-device-contexts"></a><span data-ttu-id="4f15a-103">A classe exibe contextos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="4f15a-103">Class Display Device Contexts</span></span>

<span data-ttu-id="4f15a-104">Usando um *contexto de dispositivo de classe*, um aplicativo pode usar um único contexto de dispositivo de exibição para cada janela que pertence a uma classe especificada.</span><span class="sxs-lookup"><span data-stu-id="4f15a-104">By using a *class device context*, an application can use a single display device context for every window belonging to a specified class.</span></span> <span data-ttu-id="4f15a-105">Os contextos de dispositivo de classe geralmente são usados com janelas de controle que são desenhadas usando os mesmos valores de atributo.</span><span class="sxs-lookup"><span data-stu-id="4f15a-105">Class device contexts are often used with control windows that are drawn using the same attribute values.</span></span> <span data-ttu-id="4f15a-106">Assim como os contextos de dispositivo privado, os contextos de dispositivo de classe minimizam o tempo necessário para preparar um contexto de dispositivo para o desenho.</span><span class="sxs-lookup"><span data-stu-id="4f15a-106">Like private device contexts, class device contexts minimize the time required to prepare a device context for drawing.</span></span>

<span data-ttu-id="4f15a-107">O sistema fornece um contexto de dispositivo de classe para uma janela se ele pertence a uma classe de janela que tem o \_ estilo cs CLASSDC.</span><span class="sxs-lookup"><span data-stu-id="4f15a-107">The system supplies a class device context for a window if it belongs to a window class having the CS\_CLASSDC style.</span></span> <span data-ttu-id="4f15a-108">O sistema cria o contexto do dispositivo ao criar a primeira janela que pertence à classe e, em seguida, usa o mesmo contexto de dispositivo para todas as janelas criadas subsequentemente na classe.</span><span class="sxs-lookup"><span data-stu-id="4f15a-108">The system creates the device context when creating the first window belonging to the class and then uses the same device context for all subsequently created windows in the class.</span></span> <span data-ttu-id="4f15a-109">Inicialmente, o contexto do dispositivo de classe tem os mesmos valores padrão para atributos como um contexto de dispositivo comum, mas o aplicativo pode modificá-los a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="4f15a-109">Initially, the class device context has the same default values for attributes as a common device context, but the application can modify these at any time.</span></span> <span data-ttu-id="4f15a-110">O sistema preserva todas as alterações, exceto a região de recorte e a origem do dispositivo, até que a última janela na classe tenha sido destruída.</span><span class="sxs-lookup"><span data-stu-id="4f15a-110">The system preserves all changes, except for the clipping region and device origin, until the last window in the class has been destroyed.</span></span> <span data-ttu-id="4f15a-111">Uma alteração feita para uma janela se aplica a todas as janelas nessa classe.</span><span class="sxs-lookup"><span data-stu-id="4f15a-111">A change made for one window applies to all windows in that class.</span></span>

<span data-ttu-id="4f15a-112">Um aplicativo pode recuperar o identificador para o contexto do dispositivo de classe usando a função [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) a qualquer momento após a primeira janela ter sido criada.</span><span class="sxs-lookup"><span data-stu-id="4f15a-112">An application can retrieve the handle to the class device context by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function any time after the first window has been created.</span></span> <span data-ttu-id="4f15a-113">O aplicativo pode manter e usar o identificador sem liberá-lo porque o contexto do dispositivo de classe não faz parte do cache de contexto do dispositivo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="4f15a-113">The application can keep and use the handle without releasing it because the class device context is not part of the display device context cache.</span></span> <span data-ttu-id="4f15a-114">Se o aplicativo criar outra janela na mesma classe de janela, o aplicativo deverá recuperar o contexto do dispositivo de classe novamente.</span><span class="sxs-lookup"><span data-stu-id="4f15a-114">If the application creates another window in the same window class, the application must retrieve the class device context again.</span></span> <span data-ttu-id="4f15a-115">A recuperação do contexto do dispositivo define a origem de dispositivo e a região de recorte corretas para a nova janela.</span><span class="sxs-lookup"><span data-stu-id="4f15a-115">Retrieving the device context sets the correct device origin and clipping region for the new window.</span></span> <span data-ttu-id="4f15a-116">Depois que o aplicativo recupera o contexto do dispositivo de classe para uma nova janela na classe, o contexto do dispositivo não pode mais ser usado para desenhar na janela original sem recuperá-lo novamente para essa janela.</span><span class="sxs-lookup"><span data-stu-id="4f15a-116">After the application retrieves the class device context for a new window in the class, the device context can no longer be used to draw in the original window without again retrieving it for that window.</span></span> <span data-ttu-id="4f15a-117">Em geral, cada vez que ele deve desenhar em uma janela, um aplicativo deve recuperar explicitamente o contexto do dispositivo de classe para a janela.</span><span class="sxs-lookup"><span data-stu-id="4f15a-117">In general, each time it must draw in a window, an application must explicitly retrieve the class device context for the window.</span></span>

<span data-ttu-id="4f15a-118">Os aplicativos que usam contextos de dispositivo de classe sempre devem chamar [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) ao processar uma mensagem de [**\_ pintura do WM**](wm-paint.md) .</span><span class="sxs-lookup"><span data-stu-id="4f15a-118">Applications that use class device contexts should always call [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) when processing a [**WM\_PAINT**](wm-paint.md) message.</span></span> <span data-ttu-id="4f15a-119">A função define a origem do dispositivo e a região de recorte corretas para a janela e incorpora a região de atualização.</span><span class="sxs-lookup"><span data-stu-id="4f15a-119">The function sets the correct device origin and clipping region for the window, and incorporates the update region.</span></span> <span data-ttu-id="4f15a-120">O aplicativo também deve chamar [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) para restaurar o cursor se **BeginPaint** o HID.</span><span class="sxs-lookup"><span data-stu-id="4f15a-120">The application should also call [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) to restore the caret if **BeginPaint** hid it.</span></span> <span data-ttu-id="4f15a-121">**EndPaint** não tem nenhum outro efeito em um contexto de dispositivo de classe.</span><span class="sxs-lookup"><span data-stu-id="4f15a-121">**EndPaint** has no other effect on a class device context.</span></span>

<span data-ttu-id="4f15a-122">O sistema passa o contexto do dispositivo de classe ao enviar a mensagem do [**WM \_ ERASEBKGND**](../winmsg/wm-erasebkgnd.md) para o aplicativo, permitindo que os valores de atributo atuais afetem qualquer desenho realizado pelo aplicativo ou pelo sistema ao processar essa mensagem.</span><span class="sxs-lookup"><span data-stu-id="4f15a-122">The system passes the class device context when sending the [**WM\_ERASEBKGND**](../winmsg/wm-erasebkgnd.md) message to the application, permitting the current attribute values to affect any drawing carried out by the application or the system when processing this message.</span></span> <span data-ttu-id="4f15a-123">Como poderia fazer com que uma janela tenha um contexto de dispositivo privado, um aplicativo pode usar [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) para forçar o sistema a retornar um contexto de dispositivo comum para a janela que tem um contexto de dispositivo de classe.</span><span class="sxs-lookup"><span data-stu-id="4f15a-123">As it could with a window having a private device context, an application can use [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) to force the system to return a common device context for the window that has a class device context.</span></span>

<span data-ttu-id="4f15a-124">O uso de contextos de dispositivo de classe não é recomendado.</span><span class="sxs-lookup"><span data-stu-id="4f15a-124">Using class device contexts is not recommended.</span></span>

 

 
