---
description: Um aplicativo obtém um controlador de domínio de exibição chamando a função BeginPaint, GetDC ou GetDCEx e identificando a janela na qual a saída correspondente aparecerá.
ms.assetid: 8f952d68-ee52-4e63-9f09-80a14c755d31
title: Exibir contextos de dispositivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 41d0eeb3055209ad99a6a50fd129f9f9c064bf52
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103661618"
---
# <a name="display-device-contexts"></a><span data-ttu-id="568b1-103">Exibir contextos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="568b1-103">Display Device Contexts</span></span>

<span data-ttu-id="568b1-104">Um aplicativo obtém um controlador de domínio de exibição chamando a função [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc)ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e identificando a janela na qual a saída correspondente aparecerá.</span><span class="sxs-lookup"><span data-stu-id="568b1-104">An application obtains a display DC by calling the [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and identifying the window in which the corresponding output will appear.</span></span> <span data-ttu-id="568b1-105">Normalmente, um aplicativo obtém um controlador de domínio de exibição somente quando ele deve desenhar na área do cliente.</span><span class="sxs-lookup"><span data-stu-id="568b1-105">Typically, an application obtains a display DC only when it must draw in the client area.</span></span> <span data-ttu-id="568b1-106">No entanto, uma pode obter um [contexto de dispositivo de janela](#window-device-contexts) chamando a função [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) .</span><span class="sxs-lookup"><span data-stu-id="568b1-106">However, one may obtain a [window device context](#window-device-contexts) by calling the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) function.</span></span> <span data-ttu-id="568b1-107">Quando o desenho do aplicativo é concluído, ele deve liberar o controlador de domínio chamando a função [**Endpaintt**](/windows/desktop/api/Winuser/nf-winuser-endpaint) ou [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="568b1-107">When the application is finished drawing, it must release the DC by calling the [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) or [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="568b1-108">Há cinco tipos de DCs para vídeos de vídeo:</span><span class="sxs-lookup"><span data-stu-id="568b1-108">There are five types of DCs for video displays:</span></span>

-   <span data-ttu-id="568b1-109">Classe</span><span class="sxs-lookup"><span data-stu-id="568b1-109">Class</span></span>
-   <span data-ttu-id="568b1-110">Comum</span><span class="sxs-lookup"><span data-stu-id="568b1-110">Common</span></span>
-   <span data-ttu-id="568b1-111">Privados</span><span class="sxs-lookup"><span data-stu-id="568b1-111">Private</span></span>
-   <span data-ttu-id="568b1-112">Janela</span><span class="sxs-lookup"><span data-stu-id="568b1-112">Window</span></span>
-   <span data-ttu-id="568b1-113">Pai</span><span class="sxs-lookup"><span data-stu-id="568b1-113">Parent</span></span>

## <a name="class-device-contexts"></a><span data-ttu-id="568b1-114">Contextos de dispositivo de classe</span><span class="sxs-lookup"><span data-stu-id="568b1-114">Class Device Contexts</span></span>

<span data-ttu-id="568b1-115">Os *contextos de dispositivo de classe* têm suporte estritamente para compatibilidade com versões de 16 bits do Windows.</span><span class="sxs-lookup"><span data-stu-id="568b1-115">*Class device contexts* are supported strictly for compatibility with 16-bit versions of Windows.</span></span> <span data-ttu-id="568b1-116">Ao escrever seu aplicativo, evite usar o contexto de dispositivo de classe; em vez disso, use um contexto de dispositivo privado.</span><span class="sxs-lookup"><span data-stu-id="568b1-116">When writing your application, avoid using the class device context; use a private device context instead.</span></span>

## <a name="common-device-contexts"></a><span data-ttu-id="568b1-117">Contextos de dispositivo comuns</span><span class="sxs-lookup"><span data-stu-id="568b1-117">Common Device Contexts</span></span>

<span data-ttu-id="568b1-118">*Contextos de dispositivo comuns* são DCS de exibição mantidos em um cache especial pelo sistema.</span><span class="sxs-lookup"><span data-stu-id="568b1-118">*Common device contexts* are display DCs maintained in a special cache by the system.</span></span> <span data-ttu-id="568b1-119">Contextos de dispositivo comuns são usados em aplicativos que executam operações de desenho infrequentes.</span><span class="sxs-lookup"><span data-stu-id="568b1-119">Common device contexts are used in applications that perform infrequent drawing operations.</span></span> <span data-ttu-id="568b1-120">Antes que o sistema retorne o identificador de DC, ele inicializa o contexto de dispositivo comum com objetos, atributos e modos padrão.</span><span class="sxs-lookup"><span data-stu-id="568b1-120">Before the system returns the DC handle, it initializes the common device context with default objects, attributes, and modes.</span></span> <span data-ttu-id="568b1-121">Todas as operações de desenho executadas pelo aplicativo usam esses padrões, a menos que uma das funções GDI seja chamada para selecionar um novo objeto, alterar os atributos de um objeto existente ou selecionar um novo modo.</span><span class="sxs-lookup"><span data-stu-id="568b1-121">Any drawing operations performed by the application use these defaults unless one of the GDI functions is called to select a new object, change the attributes of an existing object, or select a new mode.</span></span>

<span data-ttu-id="568b1-122">Como há apenas um número limitado de contextos de dispositivo comuns, um aplicativo deve liberá-los após a conclusão do desenho.</span><span class="sxs-lookup"><span data-stu-id="568b1-122">Because only a limited number of common device contexts exist, an application should release them after it has finished drawing.</span></span> <span data-ttu-id="568b1-123">Quando o aplicativo libera um contexto de dispositivo comum, todas as alterações nos dados padrão são perdidas.</span><span class="sxs-lookup"><span data-stu-id="568b1-123">When the application releases a common device context, any changes to the default data are lost.</span></span>

## <a name="private-device-contexts"></a><span data-ttu-id="568b1-124">Contextos de dispositivo privado</span><span class="sxs-lookup"><span data-stu-id="568b1-124">Private Device Contexts</span></span>

<span data-ttu-id="568b1-125">*Contextos de dispositivo privado* são DCS que, ao contrário de contextos de dispositivo comuns, mantêm quaisquer alterações nos dados padrão mesmo depois que um aplicativo os libera.</span><span class="sxs-lookup"><span data-stu-id="568b1-125">*Private device contexts* are display DCs that, unlike common device contexts, retain any changes to the default data even after an application releases them.</span></span> <span data-ttu-id="568b1-126">Contextos de dispositivo privado são usados em aplicativos que executam várias operações de desenho, como aplicativos de projeto auxiliados por computador (CAD), aplicativos de publicação de área de trabalho, aplicativos de desenho e pintura e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="568b1-126">Private device contexts are used in applications that perform numerous drawing operations such as computer-aided design (CAD) applications, desktop-publishing applications, drawing and painting applications, and so on.</span></span> <span data-ttu-id="568b1-127">Os contextos de dispositivo privado não fazem parte do cache do sistema e, portanto, não precisam ser liberados após o uso.</span><span class="sxs-lookup"><span data-stu-id="568b1-127">Private device contexts are not part of the system cache and therefore need not be released after use.</span></span> <span data-ttu-id="568b1-128">O sistema removerá automaticamente um contexto de dispositivo privado depois que a última janela dessa classe tiver sido destruída.</span><span class="sxs-lookup"><span data-stu-id="568b1-128">The system automatically removes a private device context after the last window of that class has been destroyed.</span></span>

<span data-ttu-id="568b1-129">Um aplicativo cria um contexto de dispositivo privado, primeiro especificando o \_ estilo de classe de janela cs OWNDC quando Inicializa o membro **Style** da estrutura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) e chama a função [**registerClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) .</span><span class="sxs-lookup"><span data-stu-id="568b1-129">An application creates a private device context by first specifying the CS\_OWNDC window-class style when it initializes the **style** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure and calls the [**RegisterClass**](/windows/win32/api/winuser/nf-winuser-registerclassa) function.</span></span> <span data-ttu-id="568b1-130">(Para obter mais informações sobre classes de janela, consulte [classes de janela](../winmsg/window-classes.md).)</span><span class="sxs-lookup"><span data-stu-id="568b1-130">(For more information about window classes, see [Window Classes](../winmsg/window-classes.md).)</span></span>

<span data-ttu-id="568b1-131">Depois de criar uma janela com o \_ estilo cs OWNDC, um aplicativo pode chamar a função [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex)ou [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) uma vez para obter um identificador que identifica um contexto de dispositivo privado.</span><span class="sxs-lookup"><span data-stu-id="568b1-131">After creating a window with the CS\_OWNDC style, an application can call the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc), [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex), or [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function once to obtain a handle identifying a private device context.</span></span> <span data-ttu-id="568b1-132">O aplicativo pode continuar usando esse identificador (e o DC associado) até que ele exclua a janela criada com essa classe.</span><span class="sxs-lookup"><span data-stu-id="568b1-132">The application can continue using this handle (and the associated DC) until it deletes the window created with this class.</span></span> <span data-ttu-id="568b1-133">Todas as alterações em objetos gráficos e seus atributos, ou modos gráficos, são mantidas pelo sistema até que a janela seja excluída.</span><span class="sxs-lookup"><span data-stu-id="568b1-133">Any changes to graphic objects and their attributes, or graphic modes are retained by the system until the window is deleted.</span></span>

## <a name="window-device-contexts"></a><span data-ttu-id="568b1-134">Contextos de dispositivo de janela</span><span class="sxs-lookup"><span data-stu-id="568b1-134">Window Device Contexts</span></span>

<span data-ttu-id="568b1-135">Um *contexto de dispositivo de janela* permite que um aplicativo desenhe em qualquer lugar em uma janela, incluindo a área não cliente.</span><span class="sxs-lookup"><span data-stu-id="568b1-135">A *window device context* enables an application to draw anywhere in a window, including the nonclient area.</span></span> <span data-ttu-id="568b1-136">Os contextos de dispositivo de janela normalmente são usados por aplicativos que processam as mensagens do [**WM \_ NCPAINT**](wm-ncpaint.md) e do [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) para Windows com áreas personalizadas que não são do cliente.</span><span class="sxs-lookup"><span data-stu-id="568b1-136">Window device contexts are typically used by applications that process the [**WM\_NCPAINT**](wm-ncpaint.md) and [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) messages for windows with custom nonclient areas.</span></span> <span data-ttu-id="568b1-137">O uso de um contexto de dispositivo de janela não é recomendado para nenhuma outra finalidade.</span><span class="sxs-lookup"><span data-stu-id="568b1-137">Using a window device context is not recommended for any other purpose.</span></span> <span data-ttu-id="568b1-138">Para obter mais informações, consulte [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span><span class="sxs-lookup"><span data-stu-id="568b1-138">For more information; see [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc).</span></span>

## <a name="parent-device-contexts"></a><span data-ttu-id="568b1-139">Contextos de dispositivo pai</span><span class="sxs-lookup"><span data-stu-id="568b1-139">Parent Device Contexts</span></span>

<span data-ttu-id="568b1-140">Um *contexto de dispositivo pai* permite que um aplicativo minimize o tempo necessário para configurar a região de recorte para uma janela.</span><span class="sxs-lookup"><span data-stu-id="568b1-140">A *parent device context* enables an application to minimize the time necessary to set up the clipping region for a window.</span></span> <span data-ttu-id="568b1-141">Um aplicativo normalmente usa contextos de dispositivo pai para acelerar o desenho de janelas de controle sem a necessidade de um contexto de dispositivo privado ou de classe.</span><span class="sxs-lookup"><span data-stu-id="568b1-141">An application typically uses parent device contexts to speed up drawing for control windows without requiring a private or class device context.</span></span> <span data-ttu-id="568b1-142">Por exemplo, o sistema usa contextos de dispositivo pai para botão de ação e controles de edição.</span><span class="sxs-lookup"><span data-stu-id="568b1-142">For example, the system uses parent device contexts for push button and edit controls.</span></span> <span data-ttu-id="568b1-143">Os contextos de dispositivo pai destinam-se ao uso somente com janelas filhas, nunca com janelas de nível superior ou pop-up.</span><span class="sxs-lookup"><span data-stu-id="568b1-143">Parent device contexts are intended for use with child windows only, never with top-level or pop-up windows.</span></span> <span data-ttu-id="568b1-144">Para obter mais informações, consulte [contextos de dispositivo de exibição pai](parent-display-device-contexts.md).</span><span class="sxs-lookup"><span data-stu-id="568b1-144">For more information; see [Parent Display Device Contexts](parent-display-device-contexts.md).</span></span>

 

 
