---
description: O sistema envia uma \_ mensagem NCPAINT do WM para a janela sempre que uma parte da área não cliente da janela, como a barra de título, barra de menus ou quadro de janela, deve ser atualizada.
ms.assetid: e4dc61f3-6a9f-4ed4-8685-62eb4ceb85f1
title: Área não cliente
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c51da31709f5bd9326cc0d05a9e37e2df78bfbb4
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104165063"
---
# <a name="nonclient-area"></a><span data-ttu-id="e23d6-103">Área não cliente</span><span class="sxs-lookup"><span data-stu-id="e23d6-103">Nonclient Area</span></span>

<span data-ttu-id="e23d6-104">O sistema envia uma [**mensagem \_ NCPAINT do WM**](wm-ncpaint.md) para a janela sempre que uma parte da área não cliente da janela, como a barra de título, barra de menus ou quadro de janela, deve ser atualizada.</span><span class="sxs-lookup"><span data-stu-id="e23d6-104">The system sends a [**WM\_NCPAINT**](wm-ncpaint.md) message to the window whenever a part of the nonclient area of the window, such as the title bar, menu bar, or window frame, must be updated.</span></span> <span data-ttu-id="e23d6-105">O sistema também pode enviar outras mensagens para direcionar uma janela para atualizar uma parte de sua área de cliente; por exemplo, quando uma janela se torna ativa ou inativa, ela envia a mensagem do [**WM \_ NCACTIVATE**](../winmsg/wm-ncactivate.md) para atualizar sua barra de título.</span><span class="sxs-lookup"><span data-stu-id="e23d6-105">The system may also send other messages to direct a window to update a portion of its client area; for example, when a window becomes active or inactive, it sends the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message to update its title bar.</span></span> <span data-ttu-id="e23d6-106">Em geral, o processamento dessas mensagens para o Windows padrão não é recomendado, pois o aplicativo deve ser capaz de desenhar todas as partes necessárias da área não cliente para a janela.</span><span class="sxs-lookup"><span data-stu-id="e23d6-106">In general, processing these messages for standard windows is not recommended, because the application must be able to draw all the required parts of the nonclient area for the window.</span></span> <span data-ttu-id="e23d6-107">Por esse motivo, a maioria dos aplicativos passa essas mensagens para [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para o processamento padrão.</span><span class="sxs-lookup"><span data-stu-id="e23d6-107">For this reason, most applications pass these messages to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) for default processing.</span></span>

<span data-ttu-id="e23d6-108">Um aplicativo que cria áreas não cliente personalizadas para suas janelas deve processar essas mensagens.</span><span class="sxs-lookup"><span data-stu-id="e23d6-108">An application that creates custom nonclient areas for its windows must process these messages.</span></span> <span data-ttu-id="e23d6-109">Ao fazer isso, o aplicativo deve usar um contexto de dispositivo de janela para executar o desenho na janela.</span><span class="sxs-lookup"><span data-stu-id="e23d6-109">When doing so, the application must use a window device context to carry out drawing in the window.</span></span> <span data-ttu-id="e23d6-110">O *contexto do dispositivo de janela* permite que o aplicativo desenhe em todas as partes da janela, incluindo a área não cliente.</span><span class="sxs-lookup"><span data-stu-id="e23d6-110">The *window device context* enables the application to draw in all portions of the window, including the nonclient area.</span></span> <span data-ttu-id="e23d6-111">Um aplicativo recupera um contexto de dispositivo de janela usando a função [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) ou [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e, quando o desenho é concluído, deve liberar o contexto do dispositivo de janela usando a função [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) .</span><span class="sxs-lookup"><span data-stu-id="e23d6-111">An application retrieves a window device context by using the [**GetWindowDC**](/windows/desktop/api/Winuser/nf-winuser-getwindowdc) or [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) function and, when drawing is complete, must release the window device context by using the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function.</span></span>

<span data-ttu-id="e23d6-112">O sistema mantém uma região de atualização para a área que não é cliente.</span><span class="sxs-lookup"><span data-stu-id="e23d6-112">The system maintains an update region for the nonclient area.</span></span> <span data-ttu-id="e23d6-113">Quando um aplicativo recebe uma mensagem do [**WM \_ NCPAINT**](wm-ncpaint.md) , o parâmetro *wParam* contém um identificador para uma região que define as dimensões da região de atualização.</span><span class="sxs-lookup"><span data-stu-id="e23d6-113">When an application receives a [**WM\_NCPAINT**](wm-ncpaint.md) message, the *wParam* parameter contains a handle to a region defining the dimensions of the update region.</span></span> <span data-ttu-id="e23d6-114">O aplicativo pode usar o identificador para combinar a região de atualização com a região de recorte para o contexto do dispositivo de janela.</span><span class="sxs-lookup"><span data-stu-id="e23d6-114">The application can use the handle to combine the update region with the clipping region for the window device context.</span></span> <span data-ttu-id="e23d6-115">O sistema não combina automaticamente a região de atualização ao recuperar o contexto do dispositivo de janela, a menos que o aplicativo use [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) e especifique o identificador de região e o sinalizador de INTERSECTRGN do DCX \_ .</span><span class="sxs-lookup"><span data-stu-id="e23d6-115">The system does not automatically combine the update region when retrieving the window device context unless the application uses [**GetDCEx**](/windows/desktop/api/Winuser/nf-winuser-getdcex) and specifies both the region handle and the DCX\_INTERSECTRGN flag.</span></span> <span data-ttu-id="e23d6-116">Se o aplicativo não combinar a região de atualização, apenas as operações de desenho que, de outra forma, se estenderão fora da janela serão recortadas.</span><span class="sxs-lookup"><span data-stu-id="e23d6-116">If the application does not combine the update region, only drawing operations that would otherwise extend outside the window are clipped.</span></span> <span data-ttu-id="e23d6-117">O aplicativo não é responsável por limpar a região de atualização, independentemente de usar a região.</span><span class="sxs-lookup"><span data-stu-id="e23d6-117">The application is not responsible for clearing the update region, regardless of whether it uses the region.</span></span>

<span data-ttu-id="e23d6-118">Se um aplicativo processar a [**mensagem \_ NCACTIVATE do WM**](../winmsg/wm-ncactivate.md) , depois de processá-la deverá retornar **true** para instruir o sistema a concluir a alteração da janela ativa.</span><span class="sxs-lookup"><span data-stu-id="e23d6-118">If an application processes the [**WM\_NCACTIVATE**](../winmsg/wm-ncactivate.md) message, after processing it must return **TRUE** to direct the system to complete the change of active window.</span></span> <span data-ttu-id="e23d6-119">Se a janela for minimizada quando o aplicativo receber a **mensagem \_ NCACTIVATE do WM** , ela deverá passar a mensagem para [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="e23d6-119">If the window is minimized when the application receives the **WM\_NCACTIVATE** message, it should pass the message to [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="e23d6-120">Nesses casos, a função padrão redesenha o rótulo para o ícone.</span><span class="sxs-lookup"><span data-stu-id="e23d6-120">In such cases, the default function redraws the label for the icon.</span></span>

 

 
