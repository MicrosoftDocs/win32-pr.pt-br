---
description: A tabela a seguir especifica as métricas de fonte mais importantes para aplicativos que exigem documentos portáteis e as funções que permitem que um aplicativo os recupere.
ms.assetid: 61f6d244-7397-42af-af58-0ab9d07bf19e
title: Métricas para documentos portáteis
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c840b1b8e8014086b97098a44890f170a6bd11d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104967651"
---
# <a name="metrics-for-portable-documents"></a><span data-ttu-id="d7f96-103">Métricas para documentos portáteis</span><span class="sxs-lookup"><span data-stu-id="d7f96-103">Metrics for Portable Documents</span></span>

<span data-ttu-id="d7f96-104">A tabela a seguir especifica as métricas de fonte mais importantes para aplicativos que exigem documentos portáteis e as funções que permitem que um aplicativo os recupere.</span><span class="sxs-lookup"><span data-stu-id="d7f96-104">The following table specifies the most important font metrics for applications that require portable documents and the functions that allow an application to retrieve them.</span></span>



| <span data-ttu-id="d7f96-105">Função</span><span class="sxs-lookup"><span data-stu-id="d7f96-105">Function</span></span>                                               | <span data-ttu-id="d7f96-106">Métrica</span><span class="sxs-lookup"><span data-stu-id="d7f96-106">Metric</span></span>                | <span data-ttu-id="d7f96-107">Uso</span><span class="sxs-lookup"><span data-stu-id="d7f96-107">Use</span></span>                                                                                                          |
|--------------------------------------------------------|-----------------------|--------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="d7f96-108">**EnumFontFamilies**</span><span class="sxs-lookup"><span data-stu-id="d7f96-108">**EnumFontFamilies**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-enumfontfamiliesa)           | <span data-ttu-id="d7f96-109">**ntmSizeEM**</span><span class="sxs-lookup"><span data-stu-id="d7f96-109">**ntmSizeEM**</span></span>         | <span data-ttu-id="d7f96-110">Recuperação de métricas de design; conversão para métricas do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d7f96-110">Retrieval of design metrics; conversion to device metrics.</span></span>                                                   |
| [<span data-ttu-id="d7f96-111">**GetCharABCWidths**</span><span class="sxs-lookup"><span data-stu-id="d7f96-111">**GetCharABCWidths**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getcharabcwidthsa)           | <span data-ttu-id="d7f96-112">**ABCWidths**</span><span class="sxs-lookup"><span data-stu-id="d7f96-112">**ABCWidths**</span></span>         | <span data-ttu-id="d7f96-113">Posicionamento preciso de caracteres no início e no final das margens, limites de imagem e outras quebras de texto.</span><span class="sxs-lookup"><span data-stu-id="d7f96-113">Accurate placement of characters at the start and end of margins, picture boundaries, and other text breaks.</span></span> |
| [<span data-ttu-id="d7f96-114">**GetCharWidth32**</span><span class="sxs-lookup"><span data-stu-id="d7f96-114">**GetCharWidth32**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getcharwidth32a)               | <span data-ttu-id="d7f96-115">**AdvanceWidths**</span><span class="sxs-lookup"><span data-stu-id="d7f96-115">**AdvanceWidths**</span></span>     | <span data-ttu-id="d7f96-116">Posicionamento de caracteres em uma linha.</span><span class="sxs-lookup"><span data-stu-id="d7f96-116">Placement of characters on a line.</span></span>                                                                           |
| [<span data-ttu-id="d7f96-117">**GetOutlineTextMetrics**</span><span class="sxs-lookup"><span data-stu-id="d7f96-117">**GetOutlineTextMetrics**</span></span>](/windows/desktop/api/Wingdi/nf-wingdi-getoutlinetextmetricsa) | <span data-ttu-id="d7f96-118">**otmfsType**</span><span class="sxs-lookup"><span data-stu-id="d7f96-118">**otmfsType**</span></span>         | <span data-ttu-id="d7f96-119">Bits de inserção de fonte.</span><span class="sxs-lookup"><span data-stu-id="d7f96-119">Font-embedding bits.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="d7f96-120">**otmsCharSlopeRise**</span><span class="sxs-lookup"><span data-stu-id="d7f96-120">**otmsCharSlopeRise**</span></span> | <span data-ttu-id="d7f96-121">Componente Y para a inclinação do cursor para fontes em itálico.</span><span class="sxs-lookup"><span data-stu-id="d7f96-121">Y-component for slope of cursor for italic fonts.</span></span>                                                            |
|                                                        | <span data-ttu-id="d7f96-122">**otmsCharSlopeRun**</span><span class="sxs-lookup"><span data-stu-id="d7f96-122">**otmsCharSlopeRun**</span></span>  | <span data-ttu-id="d7f96-123">Componente X para a inclinação do cursor para fontes em itálico.</span><span class="sxs-lookup"><span data-stu-id="d7f96-123">X-component for slope of cursor for italic fonts.</span></span>                                                            |
|                                                        | <span data-ttu-id="d7f96-124">**otmAscent**</span><span class="sxs-lookup"><span data-stu-id="d7f96-124">**otmAscent**</span></span>         | <span data-ttu-id="d7f96-125">Espaçamento de linha.</span><span class="sxs-lookup"><span data-stu-id="d7f96-125">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="d7f96-126">**otmDescent**</span><span class="sxs-lookup"><span data-stu-id="d7f96-126">**otmDescent**</span></span>        | <span data-ttu-id="d7f96-127">Espaçamento de linha.</span><span class="sxs-lookup"><span data-stu-id="d7f96-127">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="d7f96-128">**otmLineGap**</span><span class="sxs-lookup"><span data-stu-id="d7f96-128">**otmLineGap**</span></span>        | <span data-ttu-id="d7f96-129">Espaçamento de linha.</span><span class="sxs-lookup"><span data-stu-id="d7f96-129">Line spacing.</span></span>                                                                                                |
|                                                        | <span data-ttu-id="d7f96-130">**otmpFamilyName**</span><span class="sxs-lookup"><span data-stu-id="d7f96-130">**otmpFamilyName**</span></span>    | <span data-ttu-id="d7f96-131">Identificação da fonte.</span><span class="sxs-lookup"><span data-stu-id="d7f96-131">Font identification.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="d7f96-132">**otmpStyleName**</span><span class="sxs-lookup"><span data-stu-id="d7f96-132">**otmpStyleName**</span></span>     | <span data-ttu-id="d7f96-133">Identificação da fonte.</span><span class="sxs-lookup"><span data-stu-id="d7f96-133">Font identification.</span></span>                                                                                         |
|                                                        | <span data-ttu-id="d7f96-134">**otmpFullName**</span><span class="sxs-lookup"><span data-stu-id="d7f96-134">**otmpFullName**</span></span>      | <span data-ttu-id="d7f96-135">Identificação de fonte (normalmente, nome de família e estilo).</span><span class="sxs-lookup"><span data-stu-id="d7f96-135">Font identification (typically, family and style name).</span></span>                                                      |



 

<span data-ttu-id="d7f96-136">Os membros **otmsCharSlopeRise**, **otmsCharSlopeRun**, **otmAscent**, **otmDescent** e **otmLineGap** da estrutura [OUTLINETEXTMETRIC](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) são dimensionados ou transformados para corresponder ao modo de dispositivo atual e à altura física (conforme especificado no membro **tmHeight** da estrutura [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) ).</span><span class="sxs-lookup"><span data-stu-id="d7f96-136">The **otmsCharSlopeRise**, **otmsCharSlopeRun**, **otmAscent**, **otmDescent**, and **otmLineGap** members of the [OUTLINETEXTMETRIC](/windows/desktop/api/Wingdi/ns-wingdi-outlinetextmetrica) structure are scaled or transformed to correspond to the current device mode and physical height (as specified in the **tmHeight** member of the [NEWTEXTMETRIC](/windows/win32/api/wingdi/ns-wingdi-newtextmetrica) structure).</span></span>

<span data-ttu-id="d7f96-137">A identificação da fonte é importante nessas instâncias quando um aplicativo deve selecionar a mesma fonte, por exemplo, quando um documento é reaberto ou movido para um sistema operacional diferente.</span><span class="sxs-lookup"><span data-stu-id="d7f96-137">Font identification is important in those instances when an application must select the same font, for example, when a document is reopened or moved to a different operating system.</span></span> <span data-ttu-id="d7f96-138">O mapeador de fontes sempre seleciona a fonte correta quando um aplicativo solicita uma fonte por nome completo.</span><span class="sxs-lookup"><span data-stu-id="d7f96-138">The font mapper always selects the correct font when an application requests a font by full name.</span></span> <span data-ttu-id="d7f96-139">Os nomes de família e estilo fornecem entrada para a caixa de diálogo fonte padrão, o que garante que as barras de seleção sejam colocadas corretamente.</span><span class="sxs-lookup"><span data-stu-id="d7f96-139">The family and style names provide input to the standard font dialog box, which ensures that the selection bars are properly placed.</span></span>

<span data-ttu-id="d7f96-140">Os valores **otmsCharSlopeRise** e **otmsCharSlopeRun** são usados para produzir uma aproximação aproximada do ângulo principal em itálico da fonte.</span><span class="sxs-lookup"><span data-stu-id="d7f96-140">The **otmsCharSlopeRise** and **otmsCharSlopeRun** values are used to produce a close approximation of the main italic angle of the font.</span></span> <span data-ttu-id="d7f96-141">Para fontes romanos típicas, **otmsCharSlopeRise** é 1 e **otmsCharSlopeRun** é 0.</span><span class="sxs-lookup"><span data-stu-id="d7f96-141">For typical roman fonts, **otmsCharSlopeRise** is 1 and **otmsCharSlopeRun** is 0.</span></span> <span data-ttu-id="d7f96-142">Para fontes em itálico, os valores tentam aproximar o seno e o cosseno do ângulo de itálico principal da fonte (em graus no sentido anti-horário além da vertical); Observe que o ângulo em itálico para fontes verticais é 0.</span><span class="sxs-lookup"><span data-stu-id="d7f96-142">For italic fonts, the values attempt to approximate the sine and cosine of the main italic angle of the font (in counterclockwise degrees past vertical); note that the italic angle for upright fonts is 0.</span></span> <span data-ttu-id="d7f96-143">Como esses valores não são expressos em unidades de design, eles não devem ser convertidos em unidades de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d7f96-143">Because these values are not expressed in design units, they should not be converted into device units.</span></span>

<span data-ttu-id="d7f96-144">As métricas de posicionamento de caracteres e espaçamento de linha permitem que um aplicativo Compute quebras de linha independentes de dispositivo que são portáteis entre telas, impressoras, typesetters e até mesmo plataformas.</span><span class="sxs-lookup"><span data-stu-id="d7f96-144">The character placement and line spacing metrics enable an application to compute device-independent line breaks that are portable across screens, printers, typesetters, and even platforms.</span></span>

<span data-ttu-id="d7f96-145">**Para executar o layout de página independente de dispositivo**</span><span class="sxs-lookup"><span data-stu-id="d7f96-145">**To perform device-independent page layout**</span></span>

1.  <span data-ttu-id="d7f96-146">Normalizar todas as métricas de design para um valor comum de UHR (resolução extremamente alta) (por exemplo, 65.536 DPI); Isso evita erros de arredondamento.</span><span class="sxs-lookup"><span data-stu-id="d7f96-146">Normalize all design metrics to a common ultra-high resolution (UHR) value (for example, 65,536 DPI); this prevents round-off errors.</span></span>
2.  <span data-ttu-id="d7f96-147">Computação de quebras de linha com base em métricas de UHR e largura de página física; Isso produz um ponto de partida e um ponto final de uma linha dentro do fluxo de texto.</span><span class="sxs-lookup"><span data-stu-id="d7f96-147">Compute line breaks based on UHR metrics and physical page width; this yields a starting point and an ending point of a line within the text stream.</span></span>
3.  <span data-ttu-id="d7f96-148">Calcule a largura da página do dispositivo nas unidades do dispositivo (por exemplo, pixels).</span><span class="sxs-lookup"><span data-stu-id="d7f96-148">Compute the device page width in device units (for example, pixels).</span></span>
4.  <span data-ttu-id="d7f96-149">Ajuste cada linha de texto na largura da página do dispositivo, usando as quebras de linha computadas na etapa 2.</span><span class="sxs-lookup"><span data-stu-id="d7f96-149">Fit each line of text into the device page width, using the line breaks computed in step 2.</span></span>
5.  <span data-ttu-id="d7f96-150">Computar quebras de página usando métricas UHR e o comprimento físico da página; Isso produz o número de linhas por página.</span><span class="sxs-lookup"><span data-stu-id="d7f96-150">Compute page breaks by using UHR metrics and the physical page length; this yields the number of lines per page.</span></span>
6.  <span data-ttu-id="d7f96-151">Calcule as alturas de linha nas unidades do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d7f96-151">Compute the line heights in device units.</span></span>
7.  <span data-ttu-id="d7f96-152">Ajuste as linhas de texto na página, usando as linhas por página da etapa 5 e as alturas de linha da etapa 6.</span><span class="sxs-lookup"><span data-stu-id="d7f96-152">Fit the lines of text onto the page, using the lines per page from step 5 and the line heights from step 6.</span></span>

<span data-ttu-id="d7f96-153">Se todos os aplicativos adotarem essas técnicas, os desenvolvedores poderão praticamente garantir que os documentos movidos de um aplicativo para outro manterão sua aparência e formato originais.</span><span class="sxs-lookup"><span data-stu-id="d7f96-153">If all applications adopt these techniques, developers can virtually guarantee that documents moved from one application to another will retain their original appearance and format.</span></span>

 

 



