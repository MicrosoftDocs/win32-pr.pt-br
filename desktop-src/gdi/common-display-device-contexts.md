---
description: Um contexto de dispositivo comum é usado para desenhar na área do cliente da janela.
ms.assetid: 63c4f775-b1a3-4f7c-808b-81c596f26353
title: Contextos de dispositivo de exibição comuns
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 890b0235784ec1ed11c8ce3a553244629a008d75
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103921292"
---
# <a name="common-display-device-contexts"></a><span data-ttu-id="55350-103">Contextos de dispositivo de exibição comuns</span><span class="sxs-lookup"><span data-stu-id="55350-103">Common Display Device Contexts</span></span>

<span data-ttu-id="55350-104">Um *contexto de dispositivo comum* é usado para desenhar na área do cliente da janela.</span><span class="sxs-lookup"><span data-stu-id="55350-104">A *common device context* is used for drawing in the client area of the window.</span></span> <span data-ttu-id="55350-105">O sistema fornece um contexto de dispositivo comum por padrão para qualquer janela cuja classe de janela não especifique explicitamente um estilo de contexto de dispositivo de exibição.</span><span class="sxs-lookup"><span data-stu-id="55350-105">The system provides a common device context by default for any window whose window class does not explicitly specify a display device context style.</span></span> <span data-ttu-id="55350-106">Contextos de dispositivo comuns normalmente são usados com janelas que podem ser desenhadas sem alterações extensivas nos atributos de contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="55350-106">Common device contexts are typically used with windows that can be drawn without extensive changes to the device context attributes.</span></span> <span data-ttu-id="55350-107">Contextos de dispositivo comuns são convenientes porque não exigem memória adicional ou recursos do sistema, mas podem ser inconvenientes se o aplicativo precisar configurar muitos atributos antes de usá-los.</span><span class="sxs-lookup"><span data-stu-id="55350-107">Common device contexts are convenient because they do not require additional memory or system resources, but they can be inconvenient if the application must set up many attributes before using them.</span></span>

<span data-ttu-id="55350-108">O sistema recupera todos os contextos de dispositivo comuns do cache de contexto do dispositivo de vídeo.</span><span class="sxs-lookup"><span data-stu-id="55350-108">The system retrieves all common device contexts from the display device context cache.</span></span> <span data-ttu-id="55350-109">Um aplicativo pode recuperar um contexto de dispositivo comum imediatamente após a janela ser criada.</span><span class="sxs-lookup"><span data-stu-id="55350-109">An application can retrieve a common device context immediately after the window is created.</span></span> <span data-ttu-id="55350-110">Como o contexto do dispositivo comum é do cache, o aplicativo sempre deve liberar o contexto do dispositivo assim que possível após o desenho.</span><span class="sxs-lookup"><span data-stu-id="55350-110">Because the common device context is from the cache, the application must always release the device context as soon as possible after drawing.</span></span> <span data-ttu-id="55350-111">Depois que o contexto de dispositivo comum é liberado, ele não é mais válido e o aplicativo não deve tentar desenhá-lo com ele.</span><span class="sxs-lookup"><span data-stu-id="55350-111">After the common device context is released, it is no longer valid and the application must not attempt to draw with it.</span></span> <span data-ttu-id="55350-112">Para desenhar novamente, o aplicativo deve recuperar um novo contexto de dispositivo comum e continuar a recuperar e liberar um contexto de dispositivo comum cada vez que ele desenhar na janela.</span><span class="sxs-lookup"><span data-stu-id="55350-112">To draw again, the application must retrieve a new common device context, and continue to retrieve and release a common device context each time it draws in the window.</span></span> <span data-ttu-id="55350-113">Se o aplicativo recuperar o identificador de contexto do dispositivo usando a função [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) , ele deverá usar a função [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) para liberar o identificador.</span><span class="sxs-lookup"><span data-stu-id="55350-113">If the application retrieves the device context handle by using the [**GetDC**](/windows/desktop/api/Winuser/nf-winuser-getdc) function, it must use the [**ReleaseDC**](/windows/desktop/api/Winuser/nf-winuser-releasedc) function to release the handle.</span></span> <span data-ttu-id="55350-114">Da mesma forma, para cada função [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) , o aplicativo deve usar uma função [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) correspondente.</span><span class="sxs-lookup"><span data-stu-id="55350-114">Similarly, for each [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint) function, the application must use a corresponding [**EndPaint**](/windows/desktop/api/Winuser/nf-winuser-endpaint) function.</span></span>

<span data-ttu-id="55350-115">Quando o aplicativo recupera o contexto do dispositivo, o sistema ajusta a origem para que ele se alinhe ao canto superior esquerdo da área do cliente.</span><span class="sxs-lookup"><span data-stu-id="55350-115">When the application retrieves the device context, the system adjusts the origin so that it aligns with the upper left corner of the client area.</span></span> <span data-ttu-id="55350-116">Ele também define a região de recorte para que a saída para o contexto do dispositivo seja recortada para a área do cliente.</span><span class="sxs-lookup"><span data-stu-id="55350-116">It also sets the clipping region so that output to the device context is clipped to the client area.</span></span> <span data-ttu-id="55350-117">Qualquer saída que, de outra forma, apareceria fora da área do cliente é recortada.</span><span class="sxs-lookup"><span data-stu-id="55350-117">Any output that would otherwise appear outside the client area is clipped.</span></span> <span data-ttu-id="55350-118">Se o aplicativo recuperar o contexto de dispositivo comum usando [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), o sistema também incluirá a região de atualização na região de recorte para restringir ainda mais a saída.</span><span class="sxs-lookup"><span data-stu-id="55350-118">If the application retrieves the common device context by using [**BeginPaint**](/windows/desktop/api/Winuser/nf-winuser-beginpaint), the system also includes the update region in the clipping region to further restrict the output.</span></span>

<span data-ttu-id="55350-119">Quando um aplicativo libera um contexto de dispositivo comum, o sistema restaura os valores padrão para os atributos do contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="55350-119">When an application releases a common device context, the system restores the default values for the attributes of the device context.</span></span> <span data-ttu-id="55350-120">Um aplicativo que modifica os valores de atributo deve fazer isso sempre que recupera um contexto de dispositivo comum.</span><span class="sxs-lookup"><span data-stu-id="55350-120">An application that modifies attribute values must do so each time it retrieves a common device context.</span></span> <span data-ttu-id="55350-121">Liberar o contexto do dispositivo libera todos os objetos de desenho que o aplicativo pode ter selecionado, para que o aplicativo não precise liberar esses objetos antes de liberar o contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="55350-121">Releasing the device context releases any drawing objects the application may have selected into it, so the application need not release these objects before releasing the device context.</span></span> <span data-ttu-id="55350-122">Em todos os casos, um aplicativo nunca deve supor que o contexto de dispositivo comum retenha seleções não padrão após ser liberado.</span><span class="sxs-lookup"><span data-stu-id="55350-122">In all cases, an application must never assume that the common device context retains nondefault selections after being released.</span></span>

 

 



