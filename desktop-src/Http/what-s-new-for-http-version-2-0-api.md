---
title: O que há de novo para a API do servidor HTTP versão 2,0
description: Os recursos a seguir estão disponíveis na API do servidor HTTP versão 2,0.
ms.assetid: 236fdbb0-dead-4b73-9ef6-be2d502b5243
keywords:
- O que há de novo para a API do servidor HTTP versão 2,0
- API do servidor HTTP versão 2,0, o que há de novo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 932a27a45768d0cb00cde4cb89fc4e5d424d1f94
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104005135"
---
# <a name="whats-new-for-http-server-version-20-api"></a><span data-ttu-id="df77a-105">O que há de novo para a API do servidor HTTP versão 2,0</span><span class="sxs-lookup"><span data-stu-id="df77a-105">What's New for HTTP Server Version 2.0 API</span></span>

<span data-ttu-id="df77a-106">A API do servidor HTTP versão 2,0 adiciona objetos de configuração de propriedade e gerenciamento avançado da fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-106">The HTTP Server version 2.0 API adds property configuration objects and advanced request queue management.</span></span> <span data-ttu-id="df77a-107">Para obter mais informações e uma lista completa de funções, consulte o tópico de [referência do servidor http versão 2,0](http-server-api-version-2-0-reference.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-107">For more information and a complete list of functions, see the [HTTP Server Version 2.0 Reference](http-server-api-version-2-0-reference.md) topic.</span></span> <span data-ttu-id="df77a-108">Os recursos a seguir estão disponíveis na API do servidor HTTP versão 2,0.</span><span class="sxs-lookup"><span data-stu-id="df77a-108">The following features are available in the HTTP Server version 2.0 API.</span></span>

## <a name="configuration-objects"></a><span data-ttu-id="df77a-109">Objetos de configuração</span><span class="sxs-lookup"><span data-stu-id="df77a-109">Configuration Objects</span></span>

<span data-ttu-id="df77a-110">Os objetos de configuração de grupo de URL e de sessão de servidor permitem que os aplicativos configurem o serviço HTTP.</span><span class="sxs-lookup"><span data-stu-id="df77a-110">The server session and URL group configuration objects enable applications to configure the HTTP service.</span></span> <span data-ttu-id="df77a-111">A sessão de servidor é o objeto de configuração de nível superior que substitui as configurações padrão da API do servidor HTTP para todos os grupos de URLs criados na sessão.</span><span class="sxs-lookup"><span data-stu-id="df77a-111">The server session is the top-level configuration object that overrides the HTTP Server API default settings for all the URL groups created under the session.</span></span> <span data-ttu-id="df77a-112">O grupo de URLs, criado em uma sessão de servidor, mantém um conjunto de URLs que recebem as definições de configuração para o grupo.</span><span class="sxs-lookup"><span data-stu-id="df77a-112">The URL group, created under a server session, maintains a set of URLs that receive the configuration settings for the group.</span></span> <span data-ttu-id="df77a-113">Para obter mais informações, consulte o tópico [arquitetura de http versão 2,0](http-version-2-0-architecture.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-113">For more information, see the [HTTP Version 2.0 Architecture](http-version-2-0-architecture.md) topic.</span></span>

## <a name="property-configuration-in-version-20"></a><span data-ttu-id="df77a-114">Configuração de propriedade na versão 2,0</span><span class="sxs-lookup"><span data-stu-id="df77a-114">Property Configuration in Version 2.0</span></span>

<span data-ttu-id="df77a-115">A configuração é executada na sessão do servidor ou nos objetos do grupo de URLs.</span><span class="sxs-lookup"><span data-stu-id="df77a-115">Configuration is performed on the server session, or URL group objects.</span></span> <span data-ttu-id="df77a-116">As configurações de todo o servidor são definidas no objeto de configuração de sessão de servidor.</span><span class="sxs-lookup"><span data-stu-id="df77a-116">Server-wide configurations are set on the server session configuration object.</span></span> <span data-ttu-id="df77a-117">Os grupos de URLs, criados na sessão de servidor, herdam as configurações de sessão de servidor.</span><span class="sxs-lookup"><span data-stu-id="df77a-117">The URL groups, created under the server session, inherit the server session configurations.</span></span> <span data-ttu-id="df77a-118">As configurações definidas no grupo de URLs substituem as configurações de sessão do servidor.</span><span class="sxs-lookup"><span data-stu-id="df77a-118">Configurations set on the URL group override the server session configurations.</span></span> <span data-ttu-id="df77a-119">As configurações que podem ser definidas pelo aplicativo incluem tempos limite de conexão, limites de conexões, autenticação e registro em log.</span><span class="sxs-lookup"><span data-stu-id="df77a-119">Configurations that can be set by the application include connection timeouts, connections limits, authentication, and logging.</span></span> <span data-ttu-id="df77a-120">Para obter mais informações, consulte o tópico [Configurando propriedades em http versão 2,0](configuring-properties-in-http-version-2-0.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-120">For more information, see the [Configuring Properties in HTTP Version 2.0](configuring-properties-in-http-version-2-0.md) topic.</span></span>

## <a name="process-isolation-on-request-queues"></a><span data-ttu-id="df77a-121">Isolamento de processos em filas de solicitações</span><span class="sxs-lookup"><span data-stu-id="df77a-121">Process Isolation on Request Queues</span></span>

<span data-ttu-id="df77a-122">A fila de solicitações da versão 2,0 dá suporte ao isolamento do processo, permitindo que vários processos de trabalho executem e/s na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-122">The version 2.0 request queue supports process isolation, allowing multiple worker processes to perform IO on the request queue.</span></span> <span data-ttu-id="df77a-123">As propriedades de configuração definidas na fila de solicitações permitem que os aplicativos tenham mais controle sobre o serviço.</span><span class="sxs-lookup"><span data-stu-id="df77a-123">Configuration properties set on the request queue allow applications to have more control over the service.</span></span> <span data-ttu-id="df77a-124">O recurso de fila de solicitação nomeado permite que os aplicativos criem filas de solicitação e as protejam com ACLs (listas de controle de acesso).</span><span class="sxs-lookup"><span data-stu-id="df77a-124">The named request queue feature allows applications to create request queues and secure them with Access Control Lists (ACL).</span></span> <span data-ttu-id="df77a-125">Os aplicativos que operam em contas de usuário diferentes da conta que criou a fila de solicitações podem abrir a fila de solicitações, receber solicitações e enviar respostas.</span><span class="sxs-lookup"><span data-stu-id="df77a-125">Applications operating under user accounts other than the account that created the request queue are able to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="df77a-126">Para obter mais informações, consulte o tópico [isolamento de processo](process-isolation.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-126">For more information, see the [Process Isolation](process-isolation.md) topic.</span></span>

## <a name="full-kernel-mode-ssl"></a><span data-ttu-id="df77a-127">SSL de modo kernel completo</span><span class="sxs-lookup"><span data-stu-id="df77a-127">Full Kernel Mode SSL</span></span>

<span data-ttu-id="df77a-128">A segurança SSL do modo kernel está habilitada por padrão; também há suporte para certificados de cliente para autenticação mútua.</span><span class="sxs-lookup"><span data-stu-id="df77a-128">Kernel mode SSL security is enabled by default; client certificates for mutual authentication are also supported.</span></span> <span data-ttu-id="df77a-129">O desempenho é aumentado ao concluir as operações SSL no modo kernel, reduzindo assim as transições entre o kernel e o modo de usuário.</span><span class="sxs-lookup"><span data-stu-id="df77a-129">Performance is increased by completing SSL operations in kernel mode, thus reducing transitions between kernel and user mode.</span></span> <span data-ttu-id="df77a-130">Para obter mais informações, consulte o tópico [SSL do modo kernel](kernel-mode-ssl.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-130">For more information, see the [Kernel Mode SSL](kernel-mode-ssl.md) topic.</span></span>

## <a name="kernel-mode-response-cache"></a><span data-ttu-id="df77a-131">Cache de resposta do modo kernel</span><span class="sxs-lookup"><span data-stu-id="df77a-131">Kernel mode response cache</span></span>

<span data-ttu-id="df77a-132">As respostas com conteúdo estático podem ser armazenadas em cache no modo kernel, fornecendo maior desempenho no cache de modo de usuário.</span><span class="sxs-lookup"><span data-stu-id="df77a-132">Responses with static content can be cached in kernel mode providing increased performance over the user mode cache.</span></span> <span data-ttu-id="df77a-133">A estrutura da política de cache é enviada com a resposta.</span><span class="sxs-lookup"><span data-stu-id="df77a-133">The cache policy structure is sent with the response.</span></span> <span data-ttu-id="df77a-134">Para obter mais informações, consulte o [cache do modo kernel no tópico HTTP 2,0](kernel-mode-cache-in-http-2-0.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-134">For more information, see the [Kernel Mode Cache in HTTP 2.0](kernel-mode-cache-in-http-2-0.md) topic.</span></span>

## <a name="authentication"></a><span data-ttu-id="df77a-135">Autenticação</span><span class="sxs-lookup"><span data-stu-id="df77a-135">Authentication</span></span>

<span data-ttu-id="df77a-136">A \_ resposta http e as \_ estruturas de solicitação HTTP são atualizadas para incluir informações de autenticação.</span><span class="sxs-lookup"><span data-stu-id="df77a-136">The HTTP\_RESPONSE and HTTP\_REQUEST structures are updated to include authentication information.</span></span> <span data-ttu-id="df77a-137">A autenticação no lado do servidor tem suporte para os seguintes esquemas: Negotiate, NTLM, Basic e Digest.</span><span class="sxs-lookup"><span data-stu-id="df77a-137">Server-side authentication is supported for the following schemes: Negotiate, NTLM, Basic, and Digest.</span></span> <span data-ttu-id="df77a-138">Os aplicativos podem especificar os esquemas de autenticação com suporte e definir a ordem de preferência para esses esquemas.</span><span class="sxs-lookup"><span data-stu-id="df77a-138">Applications can specify the supported authentication schemes and set the order of preference for those schemes.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="df77a-139">Controle de versão com escopo de objeto</span><span class="sxs-lookup"><span data-stu-id="df77a-139">Object Scoped Versioning</span></span>

<span data-ttu-id="df77a-140">A API do servidor HTTP versão 1,0 passou as informações de versão na chamada para HTTPInitialize.</span><span class="sxs-lookup"><span data-stu-id="df77a-140">The HTTP Server version 1.0 API passed version information in the call to HTTPInitialize.</span></span> <span data-ttu-id="df77a-141">A versão foi definida globalmente para todos os aplicativos no mesmo processo.</span><span class="sxs-lookup"><span data-stu-id="df77a-141">The version was set globally for all applications in the same process.</span></span> <span data-ttu-id="df77a-142">Na API do servidor HTTP versão 2,0, as informações de versão são fornecidas quando o objeto é criado.</span><span class="sxs-lookup"><span data-stu-id="df77a-142">In the HTTP Server version 2.0 API, the version information is supplied when the object is created.</span></span> <span data-ttu-id="df77a-143">Para obter mais informações, consulte [controle de versão na API do servidor http versão 2,0](versioning-in-http-2-0.md).</span><span class="sxs-lookup"><span data-stu-id="df77a-143">For more information, see [Versioning in HTTP Server Version 2.0 API](versioning-in-http-2-0.md).</span></span>

## <a name="logging"></a><span data-ttu-id="df77a-144">Log</span><span class="sxs-lookup"><span data-stu-id="df77a-144">Logging</span></span>

<span data-ttu-id="df77a-145">A partir da versão 2,0, o registro em log é configurável por meio da API do servidor HTTP.</span><span class="sxs-lookup"><span data-stu-id="df77a-145">Starting with version 2.0, logging is configurable through the HTTP Server API.</span></span> <span data-ttu-id="df77a-146">O registro em log habilitado em uma sessão de servidor serve como forma centralizada de registro em log para o serviço.</span><span class="sxs-lookup"><span data-stu-id="df77a-146">Logging enabled on a server session serves as centralized form of logging for the service.</span></span> <span data-ttu-id="df77a-147">O registro em log também pode ser habilitado em um grupo de URLs para arquivos de log individualizados.</span><span class="sxs-lookup"><span data-stu-id="df77a-147">Logging can also be enabled on a URL group for individualized log files.</span></span> <span data-ttu-id="df77a-148">O aplicativo especifica o formato dos arquivos de log, bem como os campos que são registrados em log quanto a erros e transações bem-sucedidas.</span><span class="sxs-lookup"><span data-stu-id="df77a-148">The application specifies the format for the log files as well as the fields that are logged for errors and successful transactions.</span></span>

## <a name="graceful-request-queue-shutdown"></a><span data-ttu-id="df77a-149">Desligamento de fila de solicitação normal</span><span class="sxs-lookup"><span data-stu-id="df77a-149">Graceful Request Queue Shutdown</span></span>

<span data-ttu-id="df77a-150">Os aplicativos podem desligar a fila de solicitações e lidar normalmente com solicitações pendentes na fila antes de encerrar o processo da fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-150">Applications can shut down the request queue and gracefully handle outstanding requests in the queue before terminating the request queue process.</span></span> <span data-ttu-id="df77a-151">Quando a fila de solicitações é desligada, a API do servidor HTTP para de enfileirar solicitações e redirecionar solicitações pendentes na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-151">When the request queue is shutdown, the HTTP Server API stops queuing requests and re-routes outstanding requests in the request queue.</span></span>

## <a name="demand-start-on-a-request-queue"></a><span data-ttu-id="df77a-152">Início da demanda em uma fila de solicitações</span><span class="sxs-lookup"><span data-stu-id="df77a-152">Demand Start on a Request Queue</span></span>

<span data-ttu-id="df77a-153">O recurso de início de demanda na fila de solicitações permite que o aplicativo do controlador adie a instanciação do processo de trabalho até que a primeira solicitação chegue à fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-153">The demand start feature on the request queue allows the controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="df77a-154">Assim, os aplicativos podem evitar o consumo de recursos até que sejam necessários.</span><span class="sxs-lookup"><span data-stu-id="df77a-154">Thus, applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="df77a-155">Para obter mais informações, consulte o tópico [demanda inicial em filas de solicitação da versão 2,0](demand-start-on-version-2-0-request-queues.md) .</span><span class="sxs-lookup"><span data-stu-id="df77a-155">For more information, see the [Demand Start on Version 2.0 Request Queues](demand-start-on-version-2-0-request-queues.md) topic.</span></span>

## <a name="port-sharing"></a><span data-ttu-id="df77a-156">Compartilhamento de porta</span><span class="sxs-lookup"><span data-stu-id="df77a-156">Port Sharing</span></span>

<span data-ttu-id="df77a-157">Os aplicativos baseados em API do servidor HTTP compartilham automaticamente o espaço de escuta de IP com outros aplicativos não HTTP baseados na API do servidor no computador; a lista de escuta de IP não é mais necessária.</span><span class="sxs-lookup"><span data-stu-id="df77a-157">HTTP Server API-based applications automatically share the IP listen space with other non-HTTP Server API-based applications on the computer; the IP listen list is no longer required.</span></span> <span data-ttu-id="df77a-158">Quando o aplicativo registra uma URL, a API do servidor HTTP escuta somente no endereço IP e no par de portas especificados.</span><span class="sxs-lookup"><span data-stu-id="df77a-158">When the application registers a URL, the HTTP Server API listens only on the specified IP address and port pair.</span></span>

## <a name="etw-support"></a><span data-ttu-id="df77a-159">Suporte a ETW</span><span class="sxs-lookup"><span data-stu-id="df77a-159">ETW Support</span></span>

<span data-ttu-id="df77a-160">O rastreamento avançado usando o ETW (rastreamento de eventos para Windows) permite que os aplicativos tenham mais recursos de diagnóstico.</span><span class="sxs-lookup"><span data-stu-id="df77a-160">Advanced tracing using the Event Tracing for Windows (ETW) allows applications greater diagnostic abilities.</span></span> <span data-ttu-id="df77a-161">O rastreamento de eventos está disponível para registros e reservas de URL, configuração de propriedade, eventos de cache, autenticação e registro em log para citar alguns.</span><span class="sxs-lookup"><span data-stu-id="df77a-161">Event tracing is available for URL registrations and reservations, property configuration, cache events, authentication, and logging to name a few.</span></span>

## <a name="performance-counters"></a><span data-ttu-id="df77a-162">Contadores de desempenho</span><span class="sxs-lookup"><span data-stu-id="df77a-162">Performance Counters</span></span>

<span data-ttu-id="df77a-163">A ferramenta de contador de desempenho permite que os aplicativos recuperem contadores de serviço e diagnostiquem o desempenho do serviço.</span><span class="sxs-lookup"><span data-stu-id="df77a-163">The performance counter tool allows applications to retrieve service counters and diagnose service performance.</span></span> <span data-ttu-id="df77a-164">Os contadores globais controlam o desempenho do serviço, os contadores de site rastreiam o desempenho do grupo de URLs e os contadores de fila de solicitação acompanham o desempenho da fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="df77a-164">Global counters track performance for the service, site counters track URL group performance, and request queue counters track performance of the request queue.</span></span>

## <a name="international-domain-names-idn"></a><span data-ttu-id="df77a-165">IDNs (nomes de domínio internacional)</span><span class="sxs-lookup"><span data-stu-id="df77a-165">International Domain Names (IDN)</span></span>

<span data-ttu-id="df77a-166">Partes internacionalizadas de host e caminho da URL permitem o registro de caminhos e nomes de domínio não ASCII.</span><span class="sxs-lookup"><span data-stu-id="df77a-166">Internationalized host and path portions of the URL allow registration of non-ASCII domain names and paths.</span></span> <span data-ttu-id="df77a-167">A API do servidor HTTP processa as URLs Unicode para obedecer aos padrões de IDN.</span><span class="sxs-lookup"><span data-stu-id="df77a-167">The HTTP Server API processes Unicode URLs to comply with IDN standards.</span></span>

## <a name="netsh-extensions"></a><span data-ttu-id="df77a-168">Extensões NetSH</span><span class="sxs-lookup"><span data-stu-id="df77a-168">NetSH Extensions</span></span>

<span data-ttu-id="df77a-169">O utilitário netsh substitui a ferramenta de HttpCfg.exe disponível no Windows Server 2003 e no Windows XP com Service Pack 2 (SP2).</span><span class="sxs-lookup"><span data-stu-id="df77a-169">The netsh utility replaces the HttpCfg.exe tool available in Windows Server 2003 and Windows XP with Service Pack 2 (SP2).</span></span> <span data-ttu-id="df77a-170">A extensão netsh fornece um meio de gerenciar, diagnosticar e configurar o serviço HTTP.</span><span class="sxs-lookup"><span data-stu-id="df77a-170">The netsh extension provides a means of managing, diagnosing, and configuring the HTTP service.</span></span> <span data-ttu-id="df77a-171">Os administradores podem consultar e definir configurações de todo o servidor, como registros de namespace e certificados SSL.</span><span class="sxs-lookup"><span data-stu-id="df77a-171">Administrators can query and configure server-wide settings such as namespace registrations and SSL certificates.</span></span>

 

 




