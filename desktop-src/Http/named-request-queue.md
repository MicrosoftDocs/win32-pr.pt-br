---
title: Fila de solicitações nomeadas
description: Fila de solicitações nomeadas
ms.assetid: d0686a9b-fc3d-4b69-b083-d04b35ce5b50
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f4aca045f84fe9f9e4b57365ba8831456f2dc1ad
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104292711"
---
# <a name="named-request-queue"></a><span data-ttu-id="6b312-103">Fila de solicitações nomeadas</span><span class="sxs-lookup"><span data-stu-id="6b312-103">Named Request Queue</span></span>

<span data-ttu-id="6b312-104">A API do servidor HTTP versão 2,0 chamada solicitação de fila de solicitações permite que vários aplicativos, operando sob processos e contas de usuário separados, acessem a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-104">The HTTP Server version 2.0 API named request queue feature allows multiple applications, operating under separate processes and user accounts, access to the request queue.</span></span> <span data-ttu-id="6b312-105">A fila de solicitações é aberta por nome e protegida usando ACLs (listas de controle de acesso) para garantir que os aplicativos não possam acessar os dados de outros.</span><span class="sxs-lookup"><span data-stu-id="6b312-105">The request queue is opened by name, and secured using Access Control Lists (ACLs) to ensure that applications are not able to access each others data.</span></span> <span data-ttu-id="6b312-106">Um único processo cria a fila de solicitações e concede permissão a outros processos para usar a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-106">A single process creates the request queue, and grants permission to other processes to use the request queue.</span></span> <span data-ttu-id="6b312-107">Assim, outros processos no computador acessam a fila de solicitações com o privilégio mínimo necessário para solicitações de serviço.</span><span class="sxs-lookup"><span data-stu-id="6b312-107">Thus, other processes on the computer access the request queue with the least privilege necessary to service requests.</span></span> <span data-ttu-id="6b312-108">Possíveis danos ao serviço HTTP, devido a vulnerabilidades no código de terceiros, são minimizados quando os aplicativos estão sendo executados sob privilégios mínimos.</span><span class="sxs-lookup"><span data-stu-id="6b312-108">Possible damage to the HTTP service, due to vulnerabilities in third party code, is minimized when applications are running under least privileges.</span></span>

<span data-ttu-id="6b312-109">A fila de solicitações nomeada é criada com a função [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) .</span><span class="sxs-lookup"><span data-stu-id="6b312-109">The named request queue is created with the [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) function.</span></span> <span data-ttu-id="6b312-110">Quando a fila de solicitações é criada, o aplicativo especifica a ACL no parâmetro *pSecurityAttribute* .</span><span class="sxs-lookup"><span data-stu-id="6b312-110">When the request queue is created, the application specifies the ACL in the *pSecurityAttribute* parameter.</span></span> <span data-ttu-id="6b312-111">A ACL, que só pode ser definida quando a fila de solicitações é criada, permite que os processos de trabalho Abram a fila de solicitações, recebam solicitações e enviem respostas.</span><span class="sxs-lookup"><span data-stu-id="6b312-111">The ACL, which can only be set when the request queue is created, allows worker processes to open the request queue, receive requests, and send responses.</span></span> <span data-ttu-id="6b312-112">Por padrão, os processos não têm permissão para abrir uma fila de solicitações, a menos que tenham recebido permissão na ACL.</span><span class="sxs-lookup"><span data-stu-id="6b312-112">By default, processes are not allowed to open a request queue unless they have been granted permission in the ACL.</span></span> <span data-ttu-id="6b312-113">Os aplicativos não exigem privilégios administrativos para criar a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-113">Applications do not require administrative privileges to create the request queue.</span></span>

<span data-ttu-id="6b312-114">A fila de solicitações deve ser criada com um nome especificado no parâmetro *pname* de [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) para que outros processos Abram a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-114">The request queue must be created with a name specified in the *pName* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) for other processes to open the request queue.</span></span> <span data-ttu-id="6b312-115">Se *pname* for **NULL**, uma fila de solicitação sem nome será criada e nenhum outro processo poderá abri-la.</span><span class="sxs-lookup"><span data-stu-id="6b312-115">If *pName* is **NULL**, an unnamed request queue is created and no other processes can open it.</span></span>

## <a name="creator-and-controller-processes"></a><span data-ttu-id="6b312-116">Processos do criador e do controlador</span><span class="sxs-lookup"><span data-stu-id="6b312-116">Creator and Controller Processes</span></span>

<span data-ttu-id="6b312-117">Quando a fila de solicitações é criada, o aplicativo pode abri-lo como um processo de controlador ou um processo de criador.</span><span class="sxs-lookup"><span data-stu-id="6b312-117">When the request queue is created, the application can open it as a controller process or a creator process.</span></span> <span data-ttu-id="6b312-118">Os processos de controlador e criador atuam como administradores para a fila de solicitações, mas o controlador não executa operações de e/s nele.</span><span class="sxs-lookup"><span data-stu-id="6b312-118">The controller and creator processes both act as administrators for the request queue, but the controller does not perform I/O operations on it.</span></span> <span data-ttu-id="6b312-119">O aplicativo indica que se trata de um processo de controlador quando a fila de solicitações é criada especificando o **controlador de \_ sinalizador de fila de solicitação de criação \_ \_ \_ \_ de http** no parâmetro *flags* de [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span><span class="sxs-lookup"><span data-stu-id="6b312-119">The application indicates that it is a controller process when the request queue is created by specifying **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** in the *Flags* parameter of [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue).</span></span> <span data-ttu-id="6b312-120">Se o sinalizador do **controlador do sinalizador de \_ fila de \_ solicitação \_ \_ \_ http Create** não estiver definido, o aplicativo será um processo criador.</span><span class="sxs-lookup"><span data-stu-id="6b312-120">If the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_CONTROLLER** flag is not set, the application is a creator process.</span></span>

<span data-ttu-id="6b312-121">A lista a seguir contém tarefas executadas pelo processo do controlador e o processo Criador:</span><span class="sxs-lookup"><span data-stu-id="6b312-121">The following list contains tasks performed by the controller process and the creator process:</span></span>

-   <span data-ttu-id="6b312-122">Crie a fila de solicitações e especifique o nome.</span><span class="sxs-lookup"><span data-stu-id="6b312-122">Create the request queue and specify the name.</span></span>
-   <span data-ttu-id="6b312-123">Configure a fila de solicitações usando a função [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="6b312-123">Configure the request queue using the [**HttpSetRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpsetrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="6b312-124">Consulte os parâmetros de configuração da fila de solicitação usando a função [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) .</span><span class="sxs-lookup"><span data-stu-id="6b312-124">Query the request queue configuration parameters using the [**HttpQueryRequestQueueProperty**](/windows/desktop/api/Http/nf-http-httpqueryrequestqueueproperty) function.</span></span>
-   <span data-ttu-id="6b312-125">Crie grupos de URLs e associe-os a uma fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-125">Create URL Groups and associates them with a request queue.</span></span>
-   <span data-ttu-id="6b312-126">Defina a ACL especificando os processos de trabalho que têm permissão para receber e/s na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-126">Set the ACL specifying the worker processes that are allowed to receive I/O on the request queue.</span></span>
-   <span data-ttu-id="6b312-127">Chame [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) para atrasar a instanciação dos processos de trabalho até que a primeira solicitação chegue à fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-127">Call [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) to delay the instantiation of worker processes until the first request arrives on the request queue.</span></span>

<span data-ttu-id="6b312-128">Além dessas tarefas, o processo criador também pode executar operações de e/s na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-128">In addition to these tasks, the creator process can also perform I/O operations on the request queue.</span></span>

## <a name="worker-processes"></a><span data-ttu-id="6b312-129">Processos de Trabalho</span><span class="sxs-lookup"><span data-stu-id="6b312-129">Worker Processes</span></span>

<span data-ttu-id="6b312-130">Um processo de trabalho pode abrir uma fila de solicitações existente somente se tiver recebido acesso a ela na ACL.</span><span class="sxs-lookup"><span data-stu-id="6b312-130">A worker process can open an existing request queue only if they have been granted access to it in the ACL.</span></span> <span data-ttu-id="6b312-131">Os processos de trabalho operando sob privilégios mínimos podem abrir uma fila de solicitação e executar e/s nela.</span><span class="sxs-lookup"><span data-stu-id="6b312-131">Worker processes operating under least privileges can open a request queue and perform I/O on it.</span></span> <span data-ttu-id="6b312-132">Os aplicativos abrem uma fila de solicitações existente chamando [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) com o **sinalizador de fila de solicitação HTTP \_ Create \_ \_ \_ \_ aberto \_ existente** no parâmetro *flags* e o nome da fila de solicitações no parâmetro *pname* .</span><span class="sxs-lookup"><span data-stu-id="6b312-132">Applications open an existing request queue by calling [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) with the **HTTP\_CREATE\_REQUEST\_QUEUE\_FLAG\_OPEN\_EXISTING** in the *Flags* parameter, and the name of the request queue in the *pName* parameter.</span></span>

<span data-ttu-id="6b312-133">O processo de trabalho executa as seguintes funções:</span><span class="sxs-lookup"><span data-stu-id="6b312-133">The worker process performs the following functions:</span></span>

-   <span data-ttu-id="6b312-134">Receber solicitações e enviar respostas na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-134">Receive requests and send responses on the request queue.</span></span>
-   <span data-ttu-id="6b312-135">Abra uma fila de solicitações existente por nome.</span><span class="sxs-lookup"><span data-stu-id="6b312-135">Open an existing request queue by name.</span></span> <span data-ttu-id="6b312-136">O identificador para a fila de solicitações retornado ao processo de trabalho não pode ser usado para configurar a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-136">The handle to the request queue returned to the worker process cannot be used to configure the request queue.</span></span>
-   <span data-ttu-id="6b312-137">Consulte os parâmetros de configuração da fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-137">Query the request queue configuration parameters.</span></span>

<span data-ttu-id="6b312-138">O diagrama a seguir mostra o modelo de processo de trabalho para filas de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-138">The following diagram shows the worker process model for request queues.</span></span> <span data-ttu-id="6b312-139">A fila de solicitações pode ter vários processos de trabalho que processam e/s e um processo de criador que configura a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="6b312-139">The request queue can have several worker processes that process I/O, and one creator processes that configures the request queue.</span></span>

![modelo de processo de trabalho para filas de solicitações](images/namedrequestqueue.png)

 

 




