---
title: Início da demanda nas filas de solicitações da versão 2,0
description: .
ms.assetid: 84a744b7-1b0e-4fa7-8015-4840251aa856
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78d618ea3fa38a856eba743d2bf60bfbfec9a633
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103917316"
---
# <a name="demand-start-on-version-20-request-queues"></a><span data-ttu-id="494cf-103">Início da demanda nas filas de solicitações da versão 2,0</span><span class="sxs-lookup"><span data-stu-id="494cf-103">Demand Start on Version 2.0 Request Queues</span></span>

<span data-ttu-id="494cf-104">O recurso de início de demanda das filas de solicitação da API do servidor HTTP versão 2,0 permite que o aplicativo do controlador adie a instanciação do processo de trabalho até que a primeira solicitação chegue à fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-104">The demand start feature of the HTTP Server version 2.0 API request queues allows controller application to delay worker process instantiation until the first request arrives on the request queue.</span></span> <span data-ttu-id="494cf-105">Portanto, os aplicativos podem evitar o consumo de recursos até que sejam necessários.</span><span class="sxs-lookup"><span data-stu-id="494cf-105">Thus, the applications can avoid consuming resources until they are required.</span></span> <span data-ttu-id="494cf-106">Para obter mais informações sobre o aplicativo do controlador, consulte o tópico [fila de solicitações nomeadas](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="494cf-106">For more information about the controller application, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="asynchronous-demand-start"></a><span data-ttu-id="494cf-107">Início de demanda assíncrona</span><span class="sxs-lookup"><span data-stu-id="494cf-107">Asynchronous Demand Start</span></span>

<span data-ttu-id="494cf-108">O aplicativo do controlador chama [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) com o identificador da fila de solicitação para iniciar uma notificação de início de demanda.</span><span class="sxs-lookup"><span data-stu-id="494cf-108">The controller application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) with the handle to the request queue to initiate a demand start notification.</span></span> <span data-ttu-id="494cf-109">Para a conclusão assíncrona, o aplicativo fornece a estrutura sobreposta no parâmetro *pOverlapped* .</span><span class="sxs-lookup"><span data-stu-id="494cf-109">For asynchronous completion, the application supplies the overlapped structure in the *pOverlapped* parameter.</span></span> <span data-ttu-id="494cf-110">Quando **HttpWaitForDemandStart** é chamado de forma assíncrona, o aplicativo do controlador é notificado quando a primeira solicitação chega na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-110">When **HttpWaitForDemandStart** is called asynchronously, the controller application is notified when the first request arrives on the request queue.</span></span> <span data-ttu-id="494cf-111">Depois que a notificação de início de demanda for concluída, o aplicativo do controlador poderá se registrar para outra notificação de início de demanda na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-111">After the demand start notification completes, the controller application can register for another demand start notification on the request queue.</span></span>

<span data-ttu-id="494cf-112">A API do servidor HTTP não permite mais de uma notificação de início de demanda simultânea para uma fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-112">The HTTP Server API does not allow more than one simultaneous demand start notification for a request queue.</span></span> <span data-ttu-id="494cf-113">No entanto, quando a notificação de início de demanda pendente é concluída, o aplicativo chama [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) novamente para iniciar vários processos de trabalho na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-113">However, when the outstanding demand start notification completes, the application calls [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) again to start multiple worker processes on the request queue.</span></span> <span data-ttu-id="494cf-114">O HTTP não impõe limitações no número de notificações de início de demanda ou no número de processos de trabalho operando na fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-114">HTTP does not enforce limitations on the number of demand start notifications or the number of worker processes operating on the request queue.</span></span> <span data-ttu-id="494cf-115">No entanto, os aplicativos do controlador podem impor o número de processos de trabalho permitidos em uma fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-115">The controller applications can, however, enforce the number of worker processes allowed on a request queue.</span></span>

<span data-ttu-id="494cf-116">A API do servidor HTTP dá suporte à cancelamento de chamadas [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) assíncronas.</span><span class="sxs-lookup"><span data-stu-id="494cf-116">The HTTP Server API supports canceling asynchronous [**HttpWaitForDemandStart**](/windows/desktop/api/Http/nf-http-httpwaitfordemandstart) calls.</span></span> <span data-ttu-id="494cf-117">Os aplicativos podem usar [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) com a estrutura sobreposta fornecida em *pOverlapped* para cancelar uma chamada **HttpWaitForDemandStart** pendente.</span><span class="sxs-lookup"><span data-stu-id="494cf-117">Applications can use [**CancelIoEx**](/windows/desktop/FileIO/cancelioex-func) with the overlapped structure supplied in *pOverlapped*, to cancel an outstanding **HttpWaitForDemandStart** call.</span></span>

## <a name="synchronous-demand-start"></a><span data-ttu-id="494cf-118">Início de demanda síncrona</span><span class="sxs-lookup"><span data-stu-id="494cf-118">Synchronous Demand Start</span></span>

<span data-ttu-id="494cf-119">O início de demanda síncrona não é recomendado porque o aplicativo é bloqueado até que uma solicitação chegue à fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="494cf-119">Synchronous demand start is not recommended because the application blocks until a request arrives on the request queue.</span></span>

 

 