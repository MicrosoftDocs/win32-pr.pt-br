---
title: Controle de versão (API do servidor HTTP)
description: A API do servidor HTTP versão 2,0 aplica o controle de versão com escopo de objeto para determinar a versão da API.
ms.assetid: 2c2d7501-85e0-44ec-aa42-01372b29266e
keywords:
- Controle de versão na API do servidor HTTP versão 2,0
- API do servidor HTTP versão 2,0, controle de versão
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5221ff7a93bb24e7e0b8a1b9f7c2399012cdbe95
ms.sourcegitcommit: 8fa6614b715bddf14648cce36d2df22e5232801a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/10/2020
ms.locfileid: "104085065"
---
# <a name="versioning-http-server-api"></a><span data-ttu-id="39997-105">Controle de versão (API do servidor HTTP)</span><span class="sxs-lookup"><span data-stu-id="39997-105">Versioning (HTTP Server API)</span></span>

<span data-ttu-id="39997-106">A API do servidor HTTP versão 2,0 torna obsoleta as filas de solicitação da versão 1,0 e as associações de URL com a fila de solicitações.</span><span class="sxs-lookup"><span data-stu-id="39997-106">The HTTP Server version 2.0 API makes obsolete the version 1.0 request queues and URL associations with the request queue.</span></span> <span data-ttu-id="39997-107">O controle de versão com escopo de objeto permite que os aplicativos forneçam informações de versão específicas do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="39997-107">Object-scoped versioning allows applications to supply application-specific version information.</span></span> <span data-ttu-id="39997-108">Os aplicativos podem chamar automaticamente a versão correta de estruturas para o sistema operacional no qual ele está sendo executado.</span><span class="sxs-lookup"><span data-stu-id="39997-108">An applications can automatically call the correct version of structures for the operating system on which it is running.</span></span>

## <a name="request-queues"></a><span data-ttu-id="39997-109">Filas de solicitações</span><span class="sxs-lookup"><span data-stu-id="39997-109">Request Queues</span></span>

<span data-ttu-id="39997-110">A partir da API do servidor HTTP versão 2,0, as filas de solicitação são criadas com [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) tornando obsoleta a função 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) da versão.</span><span class="sxs-lookup"><span data-stu-id="39997-110">Starting with HTTP Server version 2.0 API, request queues are created with [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) making obsolete the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle) function.</span></span> <span data-ttu-id="39997-111">Os grupos de URLs são introduzidos na versão 2,0 com a função [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) .</span><span class="sxs-lookup"><span data-stu-id="39997-111">URL groups are introduced in version 2.0 with the [**HttpCreateUrlGroup**](/windows/desktop/api/Http/nf-http-httpcreateurlgroup) function.</span></span> <span data-ttu-id="39997-112">As URLs são adicionadas ao grupo usando [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) , o que torna obsoleto a função [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) da versão 1,0.</span><span class="sxs-lookup"><span data-stu-id="39997-112">URLs are added to the group using [**HttpAddUrlToUrlGroup**](/windows/desktop/api/Http/nf-http-httpaddurltourlgroup) which makes obsolete the version 1.0 [**HttpAddUrl**](/windows/desktop/api/Http/nf-http-httpaddurl) function.</span></span> <span data-ttu-id="39997-113">Os grupos de URLs da versão 2,0 não devem ser usados com as filas de solicitação da versão 1,0.</span><span class="sxs-lookup"><span data-stu-id="39997-113">Version 2.0 URL groups must not be used with version 1.0 request queues.</span></span>

<span data-ttu-id="39997-114">A partir da versão 2,0, as seguintes funções da versão 1,0 são obsoletas e não podem ser usadas com a versão 2,0 das filas de solicitação:</span><span class="sxs-lookup"><span data-stu-id="39997-114">Starting with version 2.0, the following version 1.0 functions are obsolete and cannot be used with version 2.0 request queues:</span></span>

-   [<span data-ttu-id="39997-115">**HttpCreateHttpHandle**</span><span class="sxs-lookup"><span data-stu-id="39997-115">**HttpCreateHttpHandle**</span></span>](/windows/desktop/api/Http/nf-http-httpcreatehttphandle)
-   [<span data-ttu-id="39997-116">**HttpAddUrl**</span><span class="sxs-lookup"><span data-stu-id="39997-116">**HttpAddUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpaddurl)
-   [<span data-ttu-id="39997-117">**HttpRemoveUrl**</span><span class="sxs-lookup"><span data-stu-id="39997-117">**HttpRemoveUrl**</span></span>](/windows/desktop/api/Http/nf-http-httpremoveurl)

<span data-ttu-id="39997-118">Para obter mais informações sobre como configurar grupos de URLs, consulte o tópico [Configurando o grupo de URLs](configuring-the-url-group.md) .</span><span class="sxs-lookup"><span data-stu-id="39997-118">For more information about configuring URL groups, see the [Configuring the URL Group](configuring-the-url-group.md) topic.</span></span> <span data-ttu-id="39997-119">Para obter mais informações sobre as filas de solicitações da versão 2,0, consulte o tópico [fila de solicitações nomeadas](named-request-queue.md) .</span><span class="sxs-lookup"><span data-stu-id="39997-119">For more information about version 2.0 request queues, see the [Named Request Queue](named-request-queue.md) topic.</span></span>

## <a name="object-scoped-versioning"></a><span data-ttu-id="39997-120">Object-Scoped controle de versão</span><span class="sxs-lookup"><span data-stu-id="39997-120">Object-Scoped Versioning</span></span>

<span data-ttu-id="39997-121">Na versão 1,0, o aplicativo fornece a versão da API do servidor HTTP na chamada para [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span><span class="sxs-lookup"><span data-stu-id="39997-121">In version 1.0, the application supplies the HTTP Server API version in the call to [**HttpInitialize**](/windows/desktop/api/Http/nf-http-httpinitialize).</span></span> <span data-ttu-id="39997-122">As informações de versão são aceitas somente do primeiro aplicativo que chamou **HttpInitialize** e são aplicadas a todos os aplicativos de API do servidor http no mesmo processo.</span><span class="sxs-lookup"><span data-stu-id="39997-122">The version information is accepted only from the first application that called **HttpInitialize** and is applied to all the HTTP Server API applications in the same process.</span></span> <span data-ttu-id="39997-123">A partir da API da versão 2,0, as informações de versão global fornecidas na chamada para **HttpInitialize** não são usadas.</span><span class="sxs-lookup"><span data-stu-id="39997-123">Starting with the version 2.0 API, the global version information supplied in the call to **HttpInitialize** is not used.</span></span> <span data-ttu-id="39997-124">Para aplicativos da versão 2,0, a versão da API do servidor HTTP é passada no parâmetro version quando a fila de solicitação ou sessão de servidor é criada por [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) ou [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span><span class="sxs-lookup"><span data-stu-id="39997-124">For version 2.0 applications, the HTTP Server API version is passed in the Version parameter when the request queue or server session is created by [**HttpCreateRequestQueue**](/windows/desktop/api/Http/nf-http-httpcreaterequestqueue) or [**HttpCreateServerSession**](/windows/desktop/api/Http/nf-http-httpcreateserversession).</span></span> <span data-ttu-id="39997-125">Quando a fila de solicitações é criada com a versão 1,0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), ela é marcada automaticamente como a versão 1,0.</span><span class="sxs-lookup"><span data-stu-id="39997-125">When the request queue is created with the version 1.0 [**HttpCreateHttpHandle**](/windows/desktop/api/Http/nf-http-httpcreatehttphandle), it is automatically marked as version 1.0.</span></span> <span data-ttu-id="39997-126">Os aplicativos da versão 1,0 e da versão 2,0 podem ser executados no mesmo processo.</span><span class="sxs-lookup"><span data-stu-id="39997-126">Both version 1.0 and version 2.0 applications can run in the same process.</span></span>

<span data-ttu-id="39997-127">As estruturas de [**\_ solicitação HTTP**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) e [**\_ resposta http**](http-response.md) são atualizadas para incluir informações de autenticação na API do servidor http versão 2,0.</span><span class="sxs-lookup"><span data-stu-id="39997-127">The [**HTTP\_REQUEST**](/previous-versions/windows/desktop/legacy/aa364545(v=vs.85)) and [**HTTP\_RESPONSE**](http-response.md) structures are updated to include authentication information in the HTTP Server version 2.0 API.</span></span> <span data-ttu-id="39997-128">[**Http \_ A solicitação \_ v1**](/windows/desktop/api/Http/ns-http-http_request_v1) e a [**\_ solicitação HTTP \_ v2**](/windows/desktop/api/Http/ns-http-http_request_v2) são específicas para a versão da API usada pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="39997-128">[**HTTP\_REQUEST\_V1**](/windows/desktop/api/Http/ns-http-http_request_v1) and [**HTTP\_REQUEST\_V2**](/windows/desktop/api/Http/ns-http-http_request_v2) are specific to the version of the API used by the application.</span></span> <span data-ttu-id="39997-129">No entanto, os aplicativos não devem usar essas estruturas diretamente em seu código; em vez disso, eles devem usar a **\_ solicitação HTTP** para obter a versão correta com base na versão da fila de solicitações em que a solicitação foi recebida.</span><span class="sxs-lookup"><span data-stu-id="39997-129">However, applications should not use these structures directly in their code; instead they should use **HTTP\_REQUEST** to get the correct version based on the version of the request queue on which the request was received.</span></span> <span data-ttu-id="39997-130">Além disso, lembre-se de que o tamanho da estrutura de **\_ solicitação HTTP** é baseado na versão do sistema operacional sob a qual o código é compilado.</span><span class="sxs-lookup"><span data-stu-id="39997-130">Also, be aware that size of the **HTTP\_REQUEST** structure is based on the version of the operating system under which the code is compiled.</span></span>

 

 
