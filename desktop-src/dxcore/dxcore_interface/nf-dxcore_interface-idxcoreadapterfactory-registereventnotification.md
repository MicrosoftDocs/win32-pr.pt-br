---
title: IDXCoreAdapterFactory::RegisterEventNotification
description: Registra para receber notificações de condições específicas de uma lista de adaptador ou adaptador DXCore.
ms.localizationpriority: low
ms.topic: reference
ms.date: 06/20/2019
ms.openlocfilehash: 3643fbb01fc955049c297a577f18d4d276e73f46
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104454246"
---
# <a name="idxcoreadapterfactoryregistereventnotification-method"></a><span data-ttu-id="c3295-103">Método IDXCoreAdapterFactory:: RegisterEventNotification</span><span class="sxs-lookup"><span data-stu-id="c3295-103">IDXCoreAdapterFactory::RegisterEventNotification method</span></span>

<span data-ttu-id="c3295-104">Registra para receber notificações de condições específicas de uma lista de adaptador ou adaptador DXCore.</span><span class="sxs-lookup"><span data-stu-id="c3295-104">Registers to receive notifications of specific conditions from a DXCore adapter or adapter list.</span></span> <span data-ttu-id="c3295-105">Para obter diretrizes de programação e exemplos de código, consulte [usando DXCore para enumerar adaptadores](../dxcore-enum-adapters.md).</span><span class="sxs-lookup"><span data-stu-id="c3295-105">For programming guidance, and code examples, see [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md).</span></span>

## <a name="syntax"></a><span data-ttu-id="c3295-106">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="c3295-106">Syntax</span></span>

```cpp
virtual HRESULT STDMETHODCALLTYPE RegisterEventNotification(
  _In_ IUnknown *dxCoreObject,
  DXCoreNotificationType notificationType,
  _In_ PFN_DXCORE_NOTIFICATION_CALLBACK callbackFunction,
  _In_opt_ void *callbackContext,
  _Out_ uint32_t *eventCookie) = 0;
```

## <a name="parameters"></a><span data-ttu-id="c3295-107">Parâmetros</span><span class="sxs-lookup"><span data-stu-id="c3295-107">Parameters</span></span>

### <a name="dxcoreobject-in"></a><span data-ttu-id="c3295-108">dxCoreObject [in]</span><span class="sxs-lookup"><span data-stu-id="c3295-108">dxCoreObject [in]</span></span>

<span data-ttu-id="c3295-109">Tipo: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span><span class="sxs-lookup"><span data-stu-id="c3295-109">Type: **[IUnknown](/windows/win32/api/unknwn/nn-unknwn-iunknown)\***</span></span>

<span data-ttu-id="c3295-110">O objeto DXCore ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) ou [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) cujas notificações você está assinando.</span><span class="sxs-lookup"><span data-stu-id="c3295-110">The DXCore object ([IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) or [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md)) whose notifications you're subscribing to.</span></span>

### <a name="notificationtype"></a><span data-ttu-id="c3295-111">notificationType</span><span class="sxs-lookup"><span data-stu-id="c3295-111">notificationType</span></span>

<span data-ttu-id="c3295-112">Tipo: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span><span class="sxs-lookup"><span data-stu-id="c3295-112">Type: **[DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md)**</span></span>

<span data-ttu-id="c3295-113">O tipo de notificação para o qual você está se registrando.</span><span class="sxs-lookup"><span data-stu-id="c3295-113">The type of notification that you're registering for.</span></span> <span data-ttu-id="c3295-114">Consulte a tabela em [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) para obter informações sobre quais tipos são válidos com quais tipos de objetos.</span><span class="sxs-lookup"><span data-stu-id="c3295-114">See the table in [DXCoreNotificationType](./ne-dxcore_interface-dxcorenotificationtype.md) for info about what types are valid with which kinds of objects.</span></span>

### <a name="callbackfunction-in"></a><span data-ttu-id="c3295-115">callbackFunction [in]</span><span class="sxs-lookup"><span data-stu-id="c3295-115">callbackFunction [in]</span></span>

<span data-ttu-id="c3295-116">Tipo: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span><span class="sxs-lookup"><span data-stu-id="c3295-116">Type: **[PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md)**</span></span>

<span data-ttu-id="c3295-117">Um ponteiro para uma função de retorno de chamada (implementado pelo seu aplicativo), que é chamado pelo objeto DXCore para eventos de notificação.</span><span class="sxs-lookup"><span data-stu-id="c3295-117">A pointer to a callback function (implemented by your application), which is called by the DXCore object for notification events.</span></span> <span data-ttu-id="c3295-118">Para a assinatura da função, consulte [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span><span class="sxs-lookup"><span data-stu-id="c3295-118">For the signature of the function, see [PFN_DXCORE_NOTIFICATION_CALLBACK](./nc-dxcore_interface-pfn_dxcore_notification_callback.md).</span></span>

### <a name="callbackcontext-in"></a><span data-ttu-id="c3295-119">callbackContext [in]</span><span class="sxs-lookup"><span data-stu-id="c3295-119">callbackContext [in]</span></span>

<span data-ttu-id="c3295-120">Tipo: **void \***</span><span class="sxs-lookup"><span data-stu-id="c3295-120">Type: **void\***</span></span>

<span data-ttu-id="c3295-121">Um ponteiro opcional para um objeto que contém informações de contexto.</span><span class="sxs-lookup"><span data-stu-id="c3295-121">An optional pointer to an object containing context info.</span></span> <span data-ttu-id="c3295-122">Esse objeto é passado para sua função de retorno de chamada quando a notificação é gerada.</span><span class="sxs-lookup"><span data-stu-id="c3295-122">This object is passed to your callback function when the notification is raised.</span></span>

### <a name="eventcookie-out"></a><span data-ttu-id="c3295-123">eventCookie [saída]</span><span class="sxs-lookup"><span data-stu-id="c3295-123">eventCookie [out]</span></span>

<span data-ttu-id="c3295-124">Tipo: **uint32_t \***</span><span class="sxs-lookup"><span data-stu-id="c3295-124">Type: **uint32_t\***</span></span>

<span data-ttu-id="c3295-125">Um ponteiro para um valor **uint32_t** .</span><span class="sxs-lookup"><span data-stu-id="c3295-125">A pointer to a **uint32_t** value.</span></span> <span data-ttu-id="c3295-126">Se for bem-sucedida, a função desreferenciará o ponteiro e definirá o valor para um valor de cookie diferente de zero que representa esse registro.</span><span class="sxs-lookup"><span data-stu-id="c3295-126">If successful, the function dereferences the pointer and sets the value to a non-zero cookie value representing this registration.</span></span> <span data-ttu-id="c3295-127">Use esse valor de cookie para cancelar o registro da notificação chamando [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="c3295-127">Use this cookie value to unregister from the notification by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="c3295-128">Consulte **comentários**.</span><span class="sxs-lookup"><span data-stu-id="c3295-128">See **Remarks**.</span></span>

<span data-ttu-id="c3295-129">Se não for bem-sucedida, a função desreferenciará o ponteiro e definirá o valor como zero, que representa um valor de cookie inválido.</span><span class="sxs-lookup"><span data-stu-id="c3295-129">If unsuccessful, the function dereferences the pointer and sets the value to zero, which represents an invalid cookie value.</span></span>

## <a name="returns"></a><span data-ttu-id="c3295-130">Retornos</span><span class="sxs-lookup"><span data-stu-id="c3295-130">Returns</span></span>

<span data-ttu-id="c3295-131">Tipo: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span><span class="sxs-lookup"><span data-stu-id="c3295-131">Type: **[HRESULT](../../com/structure-of-com-error-codes.md)**</span></span>

<span data-ttu-id="c3295-132">Se a função for realizada com sucesso, ela retornará **S_OK**.</span><span class="sxs-lookup"><span data-stu-id="c3295-132">If the function succeeds, it returns **S_OK**.</span></span> <span data-ttu-id="c3295-133">Caso contrário, ele retorna um [código de erro](../../com/com-error-codes-10.md) [**HRESULT**](../../com/structure-of-com-error-codes.md) .</span><span class="sxs-lookup"><span data-stu-id="c3295-133">Otherwise, it returns an [**HRESULT**](../../com/structure-of-com-error-codes.md) [error code](../../com/com-error-codes-10.md).</span></span>

|<span data-ttu-id="c3295-134">Valor retornado</span><span class="sxs-lookup"><span data-stu-id="c3295-134">Return value</span></span>|<span data-ttu-id="c3295-135">Descrição</span><span class="sxs-lookup"><span data-stu-id="c3295-135">Description</span></span>|
|-|-|
|<span data-ttu-id="c3295-136">DXGI_ERROR_INVALID_CALL</span><span class="sxs-lookup"><span data-stu-id="c3295-136">DXGI_ERROR_INVALID_CALL</span></span>|<span data-ttu-id="c3295-137">Não há suporte para *notificationType* pelo sistema operacional (SO).</span><span class="sxs-lookup"><span data-stu-id="c3295-137">*notificationType* is unsupported by the operating system (OS).</span></span>|
|<span data-ttu-id="c3295-138">E_INVALIDARG</span><span class="sxs-lookup"><span data-stu-id="c3295-138">E_INVALIDARG</span></span>|<span data-ttu-id="c3295-139">`nullptr` foi fornecido para *dxCoreObject*, ou se uma combinação *notificationType* e *dxCoreObject* inválida foi fornecida.</span><span class="sxs-lookup"><span data-stu-id="c3295-139">`nullptr` was provided for *dxCoreObject*, or if an invalid *notificationType* and *dxCoreObject* combination was provided.</span></span>|
|<span data-ttu-id="c3295-140">E_POINTER</span><span class="sxs-lookup"><span data-stu-id="c3295-140">E_POINTER</span></span>|<span data-ttu-id="c3295-141">`nullptr` foi fornecido para *callbackFunction* ou *eventCookie*.</span><span class="sxs-lookup"><span data-stu-id="c3295-141">`nullptr` was provided for either *callbackFunction* or *eventCookie*.</span></span>|

## <a name="remarks"></a><span data-ttu-id="c3295-142">Comentários</span><span class="sxs-lookup"><span data-stu-id="c3295-142">Remarks</span></span>

<span data-ttu-id="c3295-143">Você usa **RegisterEventNotification** para se registrar em eventos gerados pelas interfaces [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) e [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) .</span><span class="sxs-lookup"><span data-stu-id="c3295-143">You use **RegisterEventNotification** to register for events raised by [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md) and [IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md) interfaces.</span></span> <span data-ttu-id="c3295-144">Há suporte para esses tipos de notificação.</span><span class="sxs-lookup"><span data-stu-id="c3295-144">These notification types are supported.</span></span>

|[<span data-ttu-id="c3295-145">DXCoreNotificationType</span><span class="sxs-lookup"><span data-stu-id="c3295-145">DXCoreNotificationType</span></span>](./ne-dxcore_interface-dxcorenotificationtype.md)|<span data-ttu-id="c3295-146">*DxCoreObject* com suporte</span><span class="sxs-lookup"><span data-stu-id="c3295-146">Supported *dxCoreObject*</span></span>|<span data-ttu-id="c3295-147">Observações</span><span class="sxs-lookup"><span data-stu-id="c3295-147">Notes</span></span>|
|-|-|-|
|<span data-ttu-id="c3295-148">AdapterListStale</span><span class="sxs-lookup"><span data-stu-id="c3295-148">AdapterListStale</span></span>|<span data-ttu-id="c3295-149">**IDXCoreAdapterList**</span><span class="sxs-lookup"><span data-stu-id="c3295-149">**IDXCoreAdapterList**</span></span>|<span data-ttu-id="c3295-150">Indica que a lista de adaptadores que atendem aos critérios de filtro foi alterada.</span><span class="sxs-lookup"><span data-stu-id="c3295-150">Indicates that the list of adapters meeting your filter criteria has changed.</span></span> <span data-ttu-id="c3295-151">Se a lista de adaptadores estiver obsoleta no momento do registro, o retorno de chamada será chamado imediatamente.</span><span class="sxs-lookup"><span data-stu-id="c3295-151">If the adapter list is stale at the time of registration, then your callback is immediately called.</span></span> <span data-ttu-id="c3295-152">Esse retorno de chamada ocorre no máximo uma vez por registro.</span><span class="sxs-lookup"><span data-stu-id="c3295-152">This callback occurs at most one time per registration.</span></span>|
|<span data-ttu-id="c3295-153">AdapterNoLongerValid</span><span class="sxs-lookup"><span data-stu-id="c3295-153">AdapterNoLongerValid</span></span>|<span data-ttu-id="c3295-154">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="c3295-154">**IDXCoreAdapter**</span></span>|<span data-ttu-id="c3295-155">Indica que o adaptador não é mais válido.</span><span class="sxs-lookup"><span data-stu-id="c3295-155">Indicates that the adapter is no longer valid.</span></span> <span data-ttu-id="c3295-156">Se o adaptador for inválido no momento do registro, o retorno de chamada será chamado imediatamente.</span><span class="sxs-lookup"><span data-stu-id="c3295-156">If the adapter is invalid at registration time, then your callback is immediately called.</span></span>|
|<span data-ttu-id="c3295-157">AdapterBudgetChange</span><span class="sxs-lookup"><span data-stu-id="c3295-157">AdapterBudgetChange</span></span>|<span data-ttu-id="c3295-158">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="c3295-158">**IDXCoreAdapter**</span></span>|<span data-ttu-id="c3295-159">Indica que ocorreu um evento de orçamento de memória e que você deve chamar [IDXCoreAdapter:: QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (com [DXCoreAdapterState:: AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) para avaliar o estado de orçamento da memória atual.</span><span class="sxs-lookup"><span data-stu-id="c3295-159">Indicates that a memory budgeting event has occurred, and that you should call [IDXCoreAdapter::QueryState](./nf-dxcore_interface-idxcoreadapter-querystate.md) (with [DXCoreAdapterState::AdapterMemoryBudget](./ne-dxcore_interface-dxcoreadapterstate.md)) to evaluate the current memory budget state.</span></span> <span data-ttu-id="c3295-160">Após o registro, um retorno de chamada inicial sempre ocorrerá para permitir que você consulte o estado inicial.</span><span class="sxs-lookup"><span data-stu-id="c3295-160">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|
|<span data-ttu-id="c3295-161">AdapterHardwareContentProtectionTeardown</span><span class="sxs-lookup"><span data-stu-id="c3295-161">AdapterHardwareContentProtectionTeardown</span></span>|<span data-ttu-id="c3295-162">**IDXCoreAdapter**</span><span class="sxs-lookup"><span data-stu-id="c3295-162">**IDXCoreAdapter**</span></span>|<span data-ttu-id="c3295-163">Indica que você deve reavaliar o status da sessão de criptografia atual; por exemplo, chamando [ID3D11VideoContext1:: CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) para determinar o impacto da desmontagem de hardware para uma interface [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) específica.</span><span class="sxs-lookup"><span data-stu-id="c3295-163">Indicates that you should re-evaluate the current crypto session status; for example, by calling [ID3D11VideoContext1::CheckCryptoSessionStatus](/windows/win32/api/d3d11_1/nf-d3d11_1-id3d11videocontext1-checkcryptosessionstatus) to determine the impact of the hardware teardown for a specific [ID3D11CryptoSession](/windows/win32/api/d3d11/nn-d3d11-id3d11cryptosession) interface.</span></span> <span data-ttu-id="c3295-164">Após o registro, um retorno de chamada inicial sempre ocorrerá para permitir que você consulte o estado inicial.</span><span class="sxs-lookup"><span data-stu-id="c3295-164">Upon registration, an initial callback will always occur to allow you to query the initial state.</span></span>|

<span data-ttu-id="c3295-165">Uma chamada para a função que você fornece no *callbackFunction* é feita de forma assíncrona em um thread em segundo plano por DXCore quando o evento detectado ocorre.</span><span class="sxs-lookup"><span data-stu-id="c3295-165">A call to the function that you provide in *callbackFunction* is made asynchronously on a background thread by DXCore when the detected event occurs.</span></span> <span data-ttu-id="c3295-166">Nenhuma garantia é feita como a ordenação ou o tempo de retornos de chamada que &mdash; vários retornos de chamada podem ocorrer em qualquer ordem, ou até mesmo simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="c3295-166">No guarantee is made as to the ordering or timing of callbacks&mdash;multiple callbacks may occur in any order, or even simultaneously.</span></span> <span data-ttu-id="c3295-167">É possível até que o retorno de chamada seja invocado antes que **RegisterEventNotification** seja concluído.</span><span class="sxs-lookup"><span data-stu-id="c3295-167">It's even possible for your callback to be invoked before **RegisterEventNotification** has completed.</span></span> <span data-ttu-id="c3295-168">Nesse caso, o DXCore garante que seu *eventCookie* seja definido antes de o retorno de chamada ser chamado.</span><span class="sxs-lookup"><span data-stu-id="c3295-168">In that case, DXCore guarantees that your *eventCookie* is set before your callback is called.</span></span> <span data-ttu-id="c3295-169">Vários retornos de chamada para um registro específico serão serializados na ordem.</span><span class="sxs-lookup"><span data-stu-id="c3295-169">Multiple callbacks for a specific registration will be serialized in order.</span></span>

<span data-ttu-id="c3295-170">Os retornos de chamada podem ocorrer a qualquer momento até que você chame [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md)e seja concluído.</span><span class="sxs-lookup"><span data-stu-id="c3295-170">Callbacks may occur at any time until you call [UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), and it completes.</span></span> <span data-ttu-id="c3295-171">Os retornos de chamada ocorrem em seus próprios threads e você pode fazer chamadas para a API DXCore nesses threads, incluindo **UnregisterEventNotification**.</span><span class="sxs-lookup"><span data-stu-id="c3295-171">Callbacks occur on their own threads, and you may make calls into the DXCore API on those threads, including **UnregisterEventNotification**.</span></span> <span data-ttu-id="c3295-172">No entanto, você não deve liberar a última referência para o *dxCoreObject* neste thread.</span><span class="sxs-lookup"><span data-stu-id="c3295-172">However, you must not release the last reference to the *dxCoreObject* on this thread.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c3295-173">Antes de destruir o objeto DXCore representado pelo argumento *dxCoreObject* passado para **RegisterEventNotification**, você deve usar o valor de cookie para cancelar o registro desse objeto de notificações chamando [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span><span class="sxs-lookup"><span data-stu-id="c3295-173">Before you destroy the DXCore object represented by the *dxCoreObject* argument passed to **RegisterEventNotification**, you must use the cookie value to unregister that object from notifications by calling [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md).</span></span> <span data-ttu-id="c3295-174">Se você não fizer isso, uma exceção fatal será gerada quando a situação for detectada.</span><span class="sxs-lookup"><span data-stu-id="c3295-174">If you don't do that, then a fatal exception is raised when the situation is detected.</span></span>

## <a name="see-also"></a><span data-ttu-id="c3295-175">Confira também</span><span class="sxs-lookup"><span data-stu-id="c3295-175">See also</span></span>

<span data-ttu-id="c3295-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory:: UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [referência de DXCore](../dxcore-reference.md), [usando DXCore para enumerar adaptadores](../dxcore-enum-adapters.md)</span><span class="sxs-lookup"><span data-stu-id="c3295-176">[IDXCoreAdapter](./nn-dxcore_interface-idxcoreadapter.md), [IDXCoreAdapterList](./nn-dxcore_interface-idxcoreadapterlist.md), [IDXCoreAdapterFactory::UnregisterEventNotification](./nf-dxcore_interface-idxcoreadapterfactory-unregistereventnotification.md), [DXCore Reference](../dxcore-reference.md), [Using DXCore to enumerate adapters](../dxcore-enum-adapters.md)</span></span>