---
description: Define uma lista de contadores que estão logicamente relacionados.
ms.assetid: d094146a-389e-4053-8ee5-acd29254e817
title: Tipo complexo do CounterSet
ms.topic: reference
ms.date: 05/31/2018
topic_type:
- kbSyntax
api_name: ''
api_type: ''
api_location: ''
ms.openlocfilehash: e753fab4308f1e981ab06e9470742ace46840a39
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105758931"
---
# <a name="counterset-complex-type"></a><span data-ttu-id="3e998-103">Tipo complexo do CounterSet</span><span class="sxs-lookup"><span data-stu-id="3e998-103">counterSet Complex Type</span></span>

<span data-ttu-id="3e998-104">Define uma lista de contadores que estão logicamente relacionados.</span><span class="sxs-lookup"><span data-stu-id="3e998-104">Defines a list of counters that are logically related.</span></span>

``` syntax
<xs:complexType name="counterSet">
    <xs:sequence>
        <xs:element name="structs"
            type="man:structs"
            minOccurs="0"
            maxOccurs="1"
         />
        <xs:element name="counter"
            type="man:counter"
            minOccurs="1"
            maxOccurs="unbounded"
         />
    </xs:sequence>
    <xs:attribute name="symbol"
        type="man:CSymbolType"
        use="required"
     />
    <xs:attribute name="guid"
        type="man:GUIDType"
        use="required"
     />
    <xs:attribute name="uri"
        type="xs:anyURI"
        use="required"
     />
    <xs:attribute name="name"
        use="required"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:maxLength
                    value="1023"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
    <xs:attribute name="description"
        type="xs:string"
        use="required"
     />
    <xs:attribute name="instances"
        use="optional"
        default="single"
    >
        <xs:simpleType>
            <xs:restriction
                base="xs:string"
            >
                <xs:enumeration
                    value="single"
                 />
                <xs:enumeration
                    value="multiple"
                 />
                <xs:enumeration
                    value="globalAggregate"
                 />
                <xs:enumeration
                    value="multipleAggregate"
                 />
                <xs:enumeration
                    value="globalAggregateHistory"
                 />
            </xs:restriction>
        </xs:simpleType>
    </xs:attribute>
</xs:complexType>
```

## <a name="child-elements"></a><span data-ttu-id="3e998-105">Elementos filho</span><span class="sxs-lookup"><span data-stu-id="3e998-105">Child elements</span></span>



| <span data-ttu-id="3e998-106">Elemento</span><span class="sxs-lookup"><span data-stu-id="3e998-106">Element</span></span>     | <span data-ttu-id="3e998-107">Type</span><span class="sxs-lookup"><span data-stu-id="3e998-107">Type</span></span>                                                             | <span data-ttu-id="3e998-108">Descrição</span><span class="sxs-lookup"><span data-stu-id="3e998-108">Description</span></span>                                                                                            |
|-------------|------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3e998-109">**neutraliza**</span><span class="sxs-lookup"><span data-stu-id="3e998-109">**counter**</span></span> | [<span data-ttu-id="3e998-110">**homem: contador**</span><span class="sxs-lookup"><span data-stu-id="3e998-110">**man:counter**</span></span>](performance-counters-counter-complex-type.md) | <span data-ttu-id="3e998-111">Define um contador que o provedor fornece.</span><span class="sxs-lookup"><span data-stu-id="3e998-111">Defines a counter that the provider provides.</span></span><br/>                                               |
| <span data-ttu-id="3e998-112">**structs**</span><span class="sxs-lookup"><span data-stu-id="3e998-112">**structs**</span></span> | [<span data-ttu-id="3e998-113">**homem: structs**</span><span class="sxs-lookup"><span data-stu-id="3e998-113">**man:structs**</span></span>](performance-counters-structs-complex-type.md) | <span data-ttu-id="3e998-114">Uma lista de elementos de struct que contêm valores para os contadores definidos neste conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-114">A list of struct elements that contain values for the counters defined in this counter set.</span></span><br/> |



## <a name="attributes"></a><span data-ttu-id="3e998-115">Atributos</span><span class="sxs-lookup"><span data-stu-id="3e998-115">Attributes</span></span>



| <span data-ttu-id="3e998-116">Nome</span><span class="sxs-lookup"><span data-stu-id="3e998-116">Name</span></span>        | <span data-ttu-id="3e998-117">Tipo</span><span class="sxs-lookup"><span data-stu-id="3e998-117">Type</span></span>                                                                    | <span data-ttu-id="3e998-118">Descrição</span><span class="sxs-lookup"><span data-stu-id="3e998-118">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
|-------------|-------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="3e998-119">descrição</span><span class="sxs-lookup"><span data-stu-id="3e998-119">description</span></span> | <span data-ttu-id="3e998-120">**xs:string**</span><span class="sxs-lookup"><span data-stu-id="3e998-120">**xs:string**</span></span>                                                           | <span data-ttu-id="3e998-121">Uma breve descrição do conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-121">A short description of the counter set.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="3e998-122">guid</span><span class="sxs-lookup"><span data-stu-id="3e998-122">guid</span></span>        | [<span data-ttu-id="3e998-123">**Man: GUIDtype**</span><span class="sxs-lookup"><span data-stu-id="3e998-123">**man:GUIDType**</span></span>](performance-counters-guidtype-simple-type.md)       | <span data-ttu-id="3e998-124">Um GUID que identifica exclusivamente o conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-124">A GUID that uniquely identifies the counter set.</span></span> <span data-ttu-id="3e998-125">O registro do conjunto de contadores falhará se o GUID já estiver registrado.</span><span class="sxs-lookup"><span data-stu-id="3e998-125">The counter set registration fails if the GUID is already registered.</span></span> <span data-ttu-id="3e998-126">Para atualizar um conjunto de contadores registrado, você deve primeiro desinstalar o conjunto de contadores e registrá-lo novamente.</span><span class="sxs-lookup"><span data-stu-id="3e998-126">To update a counter set that is registered, you must first uninstall the counter set and then register it again.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="3e998-127">instances</span><span class="sxs-lookup"><span data-stu-id="3e998-127">instances</span></span>   |                                                                         | <span data-ttu-id="3e998-128">Determina se o conjunto de contadores pode conter várias instâncias.</span><span class="sxs-lookup"><span data-stu-id="3e998-128">Determines whether the counter set can contain multiple instances.</span></span> <span data-ttu-id="3e998-129">O seguinte lista os valores possíveis:</span><span class="sxs-lookup"><span data-stu-id="3e998-129">The following lists the possible values:</span></span><br/> <dl> <span data-ttu-id="3e998-130"><dt><span id="single"></span><span id="SINGLE"></span>exclusivo</dt></span><span class="sxs-lookup"><span data-stu-id="3e998-130"><dt><span id="single"></span><span id="SINGLE"></span>single</dt></span></span> <dd> <span data-ttu-id="3e998-131">Define um conjunto de contadores em que apenas uma instância dos contadores no conjunto de contadores pode existir.</span><span class="sxs-lookup"><span data-stu-id="3e998-131">Defines a counter set where only one instance of the counters in the counter set can exist.</span></span> <span data-ttu-id="3e998-132">Especifique esse valor se os contadores fornecerem medidas em todo o sistema, como memória física.</span><span class="sxs-lookup"><span data-stu-id="3e998-132">Specify this value if the counters provide system-wide measurements, such as physical memory.</span></span> <span data-ttu-id="3e998-133">Esse é o padrão.</span><span class="sxs-lookup"><span data-stu-id="3e998-133">This is the default.</span></span><br/> </dd> <span data-ttu-id="3e998-134"><dt><span id="multiple"></span><span id="MULTIPLE"></span>vários</dt></span><span class="sxs-lookup"><span data-stu-id="3e998-134"><dt><span id="multiple"></span><span id="MULTIPLE"></span>multiple</dt></span></span> <dd> <span data-ttu-id="3e998-135">Define um conjunto de contadores em que podem existir várias instâncias dos contadores no conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-135">Defines a counter set where multiple instances of the counters in the counter set can exist.</span></span> <span data-ttu-id="3e998-136">Especifique esse valor se os contadores fornecerem medidas por instância, como tempo de processador por processo.</span><span class="sxs-lookup"><span data-stu-id="3e998-136">Specify this value if the counters provide per-instance measurements, such as processor time per process.</span></span><br/> </dd> <span data-ttu-id="3e998-137"><dt><span id="globalAggregate"></span><span id="globalaggregate"></span><span id="GLOBALAGGREGATE"></span>globalAggregate</dt></span><span class="sxs-lookup"><span data-stu-id="3e998-137"><dt><span id="globalAggregate"></span><span id="globalaggregate"></span><span id="GLOBALAGGREGATE"></span>globalAggregate</dt></span></span> <dd> <span data-ttu-id="3e998-138">Define um conjunto de contadores de instância única em que os contadores no conjunto de contadores devem ser agregados de várias fontes ativas.</span><span class="sxs-lookup"><span data-stu-id="3e998-138">Defines a single instance counter set where the counters in the counter set must be aggregated from various active sources.</span></span> <span data-ttu-id="3e998-139">Por exemplo, você pode criar um conjunto de contadores que contém um contador que conta o número de leituras de disco de um disco rígido.</span><span class="sxs-lookup"><span data-stu-id="3e998-139">For example, you could create a counter set that contains a counter that counts the number of disk reads for a hard disk.</span></span> <span data-ttu-id="3e998-140">Se o computador tiver três discos rígidos e um consumidor consultar o número de leituras de disco, o PERFLIB obterá o número de leituras de cada disco e somará seus valores individuais.</span><span class="sxs-lookup"><span data-stu-id="3e998-140">If the computer has three hard disks and a consumer queries for the number of disk reads, PERFLIB will obtain the number of reads from each disk and sum their individual values.</span></span> <br/> </dd> <span data-ttu-id="3e998-141"><dt><span id="multipleAggregate"></span><span id="multipleaggregate"></span><span id="MULTIPLEAGGREGATE"></span>multipleAggregate</dt></span><span class="sxs-lookup"><span data-stu-id="3e998-141"><dt><span id="multipleAggregate"></span><span id="multipleaggregate"></span><span id="MULTIPLEAGGREGATE"></span>multipleAggregate</dt></span></span> <dd> <span data-ttu-id="3e998-142">Define um conjunto de contadores de várias instâncias em que os contadores no conjunto de contadores devem ser agregados em todas as instâncias desse contador.</span><span class="sxs-lookup"><span data-stu-id="3e998-142">Defines a multiple instance counter set where the counters in the counter set must be aggregated across all instances of that counter.</span></span> <span data-ttu-id="3e998-143">Por exemplo, você pode criar um conjunto de contadores para um aplicativo multi-threaded que contenha um contador que mede o desempenho do thread (cada thread se referiria a uma instância do conjunto de contadores).</span><span class="sxs-lookup"><span data-stu-id="3e998-143">For example, you could create a counter set for a multi-threaded application that contains a counter that measures thread performance (each thread would refer to an instance of the counter set).</span></span> <span data-ttu-id="3e998-144">Quando um consumidor consulta o contador de tempo de execução de thread total, o PERFLIB somará o tempo total de execução do thread de cada instância.</span><span class="sxs-lookup"><span data-stu-id="3e998-144">When a consumer queries the total thread execution time counter, PERFLIB will sum the total thread execution time from each instance.</span></span><br/> </dd> <span data-ttu-id="3e998-145"><dt><span id="globalAggregateHistory"></span><span id="globalaggregatehistory"></span><span id="GLOBALAGGREGATEHISTORY"></span>globalAggregateHistory</dt></span><span class="sxs-lookup"><span data-stu-id="3e998-145"><dt><span id="globalAggregateHistory"></span><span id="globalaggregatehistory"></span><span id="GLOBALAGGREGATEHISTORY"></span>globalAggregateHistory</dt></span></span> <dd> <span data-ttu-id="3e998-146">Define um conjunto de contadores de instância única cujos valores de contador são armazenados em cache durante o tempo de vida do consumidor.</span><span class="sxs-lookup"><span data-stu-id="3e998-146">Defines a single instance counter set whose counter values are cached for the lifetime of the consumer.</span></span> <span data-ttu-id="3e998-147">Observe que todos os contadores no conjunto de contadores são armazenados em cache.</span><span class="sxs-lookup"><span data-stu-id="3e998-147">Note that all counters in the counter set are cached.</span></span> <span data-ttu-id="3e998-148">Para armazenar em cache apenas contadores específicos, decorar esses contadores com o atributo de histórico.</span><span class="sxs-lookup"><span data-stu-id="3e998-148">To cache only specific counters, decorate those counters with the history attribute.</span></span><br/> <span data-ttu-id="3e998-149">Usando o exemplo de leitura de disco de globalAggregate, todos os valores de contador no conjunto de contadores seriam armazenados em cache.</span><span class="sxs-lookup"><span data-stu-id="3e998-149">Using the disk read example from globalAggregate, all counter values in the counter set would be cached.</span></span> <span data-ttu-id="3e998-150">Se um disco ficou indisponível, o último valor armazenado em cache para o total de bytes lidos por esse disco ainda estaria disponível para o aplicativo consumidor.</span><span class="sxs-lookup"><span data-stu-id="3e998-150">If one disk became unavailable, the last cached value for total bytes read by that disk would still be available to the consumer application.</span></span><br/> </dd> </dl> |
| <span data-ttu-id="3e998-151">name</span><span class="sxs-lookup"><span data-stu-id="3e998-151">name</span></span>        |                                                                         | <span data-ttu-id="3e998-152">O nome de exibição do conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-152">The display name of the counter set.</span></span> <span data-ttu-id="3e998-153">Deve ter menos de 1.024 caracteres.</span><span class="sxs-lookup"><span data-stu-id="3e998-153">Must be less than 1,024 characters.</span></span> <span data-ttu-id="3e998-154">O nome diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="3e998-154">The name is case-sensitive.</span></span> <br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="3e998-155">símbolo</span><span class="sxs-lookup"><span data-stu-id="3e998-155">symbol</span></span>      | [<span data-ttu-id="3e998-156">**homem: CSymbolType**</span><span class="sxs-lookup"><span data-stu-id="3e998-156">**man:CSymbolType**</span></span>](performance-counters-csymboltype-simple-type.md) | <span data-ttu-id="3e998-157">Um nome simbólico que identifica o conjunto de contadores.</span><span class="sxs-lookup"><span data-stu-id="3e998-157">A symbolic name that identifies the counter set.</span></span> <span data-ttu-id="3e998-158">A ferramenta [ctrpp](ctrpp.md) cria uma variável GUID que você pode usar ao chamar funções que exigem o GUID do conjunto de contadores (por exemplo, [**PerfCreateInstance**](/windows/desktop/api/Perflib/nf-perflib-perfcreateinstance)).</span><span class="sxs-lookup"><span data-stu-id="3e998-158">The [CTRPP](ctrpp.md) tool creates a GUID variable that you can use when calling functions that require the counter set GUID (for example, [**PerfCreateInstance**](/windows/desktop/api/Perflib/nf-perflib-perfcreateinstance)).</span></span> <span data-ttu-id="3e998-159">O nome da variável é do formato *simbóliconame* GUID.</span><span class="sxs-lookup"><span data-stu-id="3e998-159">The variable name is of the form, *symbolicname* Guid.</span></span> <br/> <span data-ttu-id="3e998-160">Se você incluir o argumento **-prefix** ao chamar [ctrpp](ctrpp.md), a cadeia de caracteres de prefixo será adicionada ao início do nome simbólico.</span><span class="sxs-lookup"><span data-stu-id="3e998-160">If you include the **-prefix** argument when calling [CTRPP](ctrpp.md), the prefix string is added to the beginning of the symbolic name.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| <span data-ttu-id="3e998-161">uri</span><span class="sxs-lookup"><span data-stu-id="3e998-161">uri</span></span>         | <span data-ttu-id="3e998-162">**xs: anyURI**</span><span class="sxs-lookup"><span data-stu-id="3e998-162">**xs:anyURI**</span></span>                                                           | <span data-ttu-id="3e998-163">Um identificador de recurso uniforme exclusivo que permite aos usuários acessar os contadores no conjunto de contadores de qualquer local.</span><span class="sxs-lookup"><span data-stu-id="3e998-163">A unique uniform resource identifier that lets users access the counters in the counter set from any location.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |



## <a name="requirements"></a><span data-ttu-id="3e998-164">Requisitos</span><span class="sxs-lookup"><span data-stu-id="3e998-164">Requirements</span></span>



| <span data-ttu-id="3e998-165">Requisito</span><span class="sxs-lookup"><span data-stu-id="3e998-165">Requirement</span></span> | <span data-ttu-id="3e998-166">Valor</span><span class="sxs-lookup"><span data-stu-id="3e998-166">Value</span></span> |
|-------------------------------------|------------------------------------------------------|
| <span data-ttu-id="3e998-167">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="3e998-167">Minimum supported client</span></span><br/> | <span data-ttu-id="3e998-168">\[Somente aplicativos da área de trabalho do Windows Vista\]</span><span class="sxs-lookup"><span data-stu-id="3e998-168">Windows Vista \[desktop apps only\]</span></span><br/>       |
| <span data-ttu-id="3e998-169">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="3e998-169">Minimum supported server</span></span><br/> | <span data-ttu-id="3e998-170">\[Somente aplicativos da área de trabalho do Windows Server 2008\]</span><span class="sxs-lookup"><span data-stu-id="3e998-170">Windows Server 2008 \[desktop apps only\]</span></span><br/> |



 

 




