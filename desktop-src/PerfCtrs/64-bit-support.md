---
description: Se você fornecer contadores em um computador de 64 bits, deverá instalar a versão de 32 bits e de 64 bits do seu provedor no computador se quiser dar suporte a consumidores de 32 e de 64 bits.
ms.assetid: 2dba2c46-0185-4ce6-a7cc-27cdd9b19b70
title: Suporte de 64 bits
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e465529f35d8a9becb2583e9d5c00ac19a74d3be
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105753943"
---
# <a name="64-bit-support"></a><span data-ttu-id="52eea-103">Suporte de 64 bits</span><span class="sxs-lookup"><span data-stu-id="52eea-103">64-bit Support</span></span>

<span data-ttu-id="52eea-104">Uma DLL de provedor de dados de desempenho de 64 bits não pode ser executada em um processo de consumidor de 32 bits e uma DLL de provedor de dados de desempenho de 32 bits não pode ser executada em um processo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="52eea-104">A 64-bit performance data provider DLL cannot run in a 32-bit consumer process and a 32-bit performance data provider DLL cannot run in a 64-bit process.</span></span> <span data-ttu-id="52eea-105">O registro do provedor só dá suporte a um único `Library` valor para o caminho para a DLL do provedor de dados de desempenho, de modo que você não pode fornecer caminhos diferentes para serem usados por consumidores de 32 bits e consumidores de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="52eea-105">The provider registration only supports a single `Library` value for the path to your performance data provider DLL so you cannot supply different paths to be used by 32-bit consumers and 64-bit consumers.</span></span>

<span data-ttu-id="52eea-106">As seguintes opções estão disponíveis para dar suporte a provedores v1 em sistemas operacionais de 64 bits:</span><span class="sxs-lookup"><span data-stu-id="52eea-106">The following options are available to support V1 providers on 64-bit operating systems:</span></span>

- <span data-ttu-id="52eea-107">**Recomendado:** Instale e registre o caminho para a versão de 32 bits do seu provedor DLL.</span><span class="sxs-lookup"><span data-stu-id="52eea-107">**Recommended:** Install and register the path to the 32-bit version of your provider DLL.</span></span>
  - <span data-ttu-id="52eea-108">os consumidores de 32 bits funcionarão nativamente: eles carregarão sua DLL de provedor de 32 bits no processo de consumidor de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="52eea-108">32-bit consumers will work natively: They will load your 32-bit provider DLL into the 32-bit consumer process.</span></span>
  - <span data-ttu-id="52eea-109">os consumidores de 64 bits funcionarão indiretamente: eles não poderão carregar sua DLL de provedor de 32 bits no processo de consumidor de 64 bits, mas o Windows fará automaticamente o fallback para criar um processo perfhost de 32 bits, carregando sua DLL de provedor de bits de 32 no processo perfhost e enviando dados de desempenho do processo perfhost de 32 bits para o processo consumidor de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="52eea-109">64-bit consumers will work indirectly: They will be unable to load your 32-bit provider DLL into the 64-bit consumer process, but Windows will automatically fall back to creating a 32-bit perfhost process, loading your 32-bit provider DLL into the perfhost process, and sending performance data from the 32-bit perfhost process to the 64-bit consumer process.</span></span>
- <span data-ttu-id="52eea-110">**somente 64 bits:** Instale e registre o caminho para a versão de 64 bits do seu provedor DLL.</span><span class="sxs-lookup"><span data-stu-id="52eea-110">**64-bit only:** Install and register the path to the 64-bit version of your provider DLL.</span></span>
  - <span data-ttu-id="52eea-111">os consumidores de 32 bits falharão: eles não poderão carregar sua DLL de provedor de 64 bits no processo de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="52eea-111">32-bit consumers will fail: They will be unable to load your 64-bit provider DLL into the 32-bit process.</span></span>
  - <span data-ttu-id="52eea-112">os consumidores de 64 bits funcionarão nativamente: eles carregarão sua DLL de provedor de 32 bits em processo.</span><span class="sxs-lookup"><span data-stu-id="52eea-112">64-bit consumers will work natively: They will load your 32-bit provider DLL in-process.</span></span>

> [!NOTE]
> <span data-ttu-id="52eea-113">Vários provedores de dados de desempenho internos do Windows instalam uma DLL de 32 bits no `%systemroot%\syswow64` , instalam uma DLL de 64 bits no `%systemroot%\system32` e registram o `Library` caminho como `%systemroot%\system32\ProviderName.dll` , permitindo que o redirecionamento do sistema de arquivos resolva o caminho para a dll apropriada.</span><span class="sxs-lookup"><span data-stu-id="52eea-113">Several built-in Windows performance data providers install a 32-bit DLL into `%systemroot%\syswow64`, install a 64-bit DLL into `%systemroot%\system32`, and register the `Library` path as `%systemroot%\system32\ProviderName.dll`, allowing filesystem redirection to resolve the path to the appropriate DLL.</span></span> <span data-ttu-id="52eea-114">Isso tem suporte apenas para provedores de dados de desempenho que fazem parte do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="52eea-114">This is supported only for performance data providers that are part of the Windows operating system.</span></span> <span data-ttu-id="52eea-115">Provedores que não fazem parte do sistema operacional Windows não devem instalar arquivos na `Windows` pasta.</span><span class="sxs-lookup"><span data-stu-id="52eea-115">Providers that are not part of the Windows operating system must not install files into the `Windows` folder.</span></span> <span data-ttu-id="52eea-116">Os arquivos não reconhecidos na `Windows` pasta podem ser removidos durante a manutenção ou a atualização.</span><span class="sxs-lookup"><span data-stu-id="52eea-116">Unrecognized files in the `Windows` folder may be removed during servicing or upgrade.</span></span>
