---
description: Para exibir uma caixa de diálogo que lista os objetos de desempenho e os contadores definidos no computador, chame a função PdhBrowseCounters.
ms.assetid: f2fac1d3-f643-43c9-a445-112015baecdd
title: Contadores de navegação
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cd4bae5ce5ae7a21ae247cf66515f7386b8d0265
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105749223"
---
# <a name="browsing-counters"></a><span data-ttu-id="702c2-103">Contadores de navegação</span><span class="sxs-lookup"><span data-stu-id="702c2-103">Browsing Counters</span></span>

<span data-ttu-id="702c2-104">Para exibir uma caixa de diálogo que lista os objetos de desempenho e os contadores definidos no computador, chame a função [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) .</span><span class="sxs-lookup"><span data-stu-id="702c2-104">To display a dialog box that lists the performance objects and counters defined on the computer, call the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function.</span></span> <span data-ttu-id="702c2-105">A caixa de diálogo permite que o usuário navegue e selecione contadores de desempenho.</span><span class="sxs-lookup"><span data-stu-id="702c2-105">The dialog box lets the user browse and select performance counters.</span></span> <span data-ttu-id="702c2-106">Use a estrutura de [**configuração do PDH \_ Browse \_ DLG \_**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) para especificar a configuração da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="702c2-106">You use the [**PDH\_BROWSE\_DLG\_CONFIG**](/windows/win32/api/pdh/ns-pdh-pdh_browse_dlg_config_a) structure to specify the configuration of the dialog box.</span></span> <span data-ttu-id="702c2-107">Por exemplo, você pode configurar a caixa de diálogo para retornar uma seleção ou várias seleções.</span><span class="sxs-lookup"><span data-stu-id="702c2-107">For example, you can configure the dialog to return one selection or multiple selections.</span></span>

<span data-ttu-id="702c2-108">Na entrada, o membro **szReturnPathBuffer** contém o objeto de desempenho e o contador padrão selecionados na caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="702c2-108">On input, the **szReturnPathBuffer** member contains the default performance object and counter that is selected in the dialog box.</span></span> <span data-ttu-id="702c2-109">Na saída, o buffer contém o objeto de desempenho e o contador que o usuário selecionou.</span><span class="sxs-lookup"><span data-stu-id="702c2-109">On output, the buffer contains the performance object and counter that the user selected.</span></span> <span data-ttu-id="702c2-110">Você também pode usar o membro **pCallBack** para especificar uma função de retorno de chamada para processar os nomes de contadores retornados pela caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="702c2-110">You can also use the **pCallBack** member to specify a callback function to process the counter names returned by the dialog box.</span></span>

<span data-ttu-id="702c2-111">Observe que essa caixa de diálogo pode retornar \_ o diálogo PDH \_ cancelado se **bSingleCounterPerDialog** for **false** e o usuário clicar no botão fechar, de modo que seu tratamento de erros teria que considerar isso.</span><span class="sxs-lookup"><span data-stu-id="702c2-111">Note that this dialog box can return PDH\_DIALOG\_CANCELLED if **bSingleCounterPerDialog** is **FALSE** and the user clicks the Close button, so your error handling would have to account for this.</span></span>

<span data-ttu-id="702c2-112">Para obter um exemplo que usa a função [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) , consulte [procurar contadores de desempenho](browsing-performance-counters.md).</span><span class="sxs-lookup"><span data-stu-id="702c2-112">For an example that uses the [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) function, see [Browsing Performance Counters](browsing-performance-counters.md).</span></span>

<span data-ttu-id="702c2-113">Para recuperar uma lista de objetos de desempenho no computador, você também pode chamar a função [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) .</span><span class="sxs-lookup"><span data-stu-id="702c2-113">To retrieve a list of performance objects on the computer, you can also call the [**PdhEnumObjects**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectsa) function.</span></span> <span data-ttu-id="702c2-114">Para recuperar uma lista de contadores e instâncias para um objeto de desempenho, chame a função [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) .</span><span class="sxs-lookup"><span data-stu-id="702c2-114">To retrieve a list of counters and instances for a performance object, call the [**PdhEnumObjectItems**](/windows/desktop/api/Pdh/nf-pdh-pdhenumobjectitemsa) function.</span></span> <span data-ttu-id="702c2-115">Você também pode usar essas funções para identificar os objetos de desempenho e os contadores contidos em um arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="702c2-115">You can also use these functions to identify the performance objects and counters contained in a log file.</span></span> <span data-ttu-id="702c2-116">Chamadas repetidas para **PdhEnumObjectItems** retornará a mesma lista de contadores e instâncias até que você chame **PdhEnumObjects** para atualizar a lista de objetos de desempenho primeiro.</span><span class="sxs-lookup"><span data-stu-id="702c2-116">Repeated calls to **PdhEnumObjectItems** will return the same list of counters and instances until you call **PdhEnumObjects** to refresh the list of performance objects first.</span></span> <span data-ttu-id="702c2-117">Para obter um exemplo que enumera objetos e contadores, consulte [Enumerando objetos de processo](enumerating-process-objects.md).</span><span class="sxs-lookup"><span data-stu-id="702c2-117">For an example that enumerates objects and counters, see [Enumerating Process Objects](enumerating-process-objects.md).</span></span>

## <a name="selecting-the-data-source"></a><span data-ttu-id="702c2-118">Selecionando a fonte de dados</span><span class="sxs-lookup"><span data-stu-id="702c2-118">Selecting the data source</span></span>

<span data-ttu-id="702c2-119">Você pode usar [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) em conjunto com [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) para solicitar que o usuário selecione se a fonte de dados está em tempo real ou em um arquivo de log e, se for um arquivo de log, seu nome.</span><span class="sxs-lookup"><span data-stu-id="702c2-119">You can use [**PdhSelectDataSource**](/windows/desktop/api/Pdh/nf-pdh-pdhselectdatasourcea) in conjunction with [**PdhBrowseCounters**](/windows/desktop/api/Pdh/nf-pdh-pdhbrowsecountersa) to prompt the user to select whether the data source is in real-time or from a log file, and, if it is a log file, its name.</span></span> <span data-ttu-id="702c2-120">Se você não quiser que a caixa de diálogo da fonte de dados seja exibida, você pode chamar **PdhSelectDataSource** para exibir apenas o catálogo do navegador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="702c2-120">If you do not want the data source dialog to be displayed, you can call **PdhSelectDataSource** to display only the file browser catalog.</span></span> <span data-ttu-id="702c2-121">Para fazer isso, especifique \_ o navegador de arquivos de sinalizadores de PDH \_ \_ \_ somente como o segundo parâmetro da chamada para **PdhSelectDataSource**.</span><span class="sxs-lookup"><span data-stu-id="702c2-121">To do this, specify PDH\_FLAGS\_FILE\_BROWSER\_ONLY as the second parameter of the call to **PdhSelectDataSource**.</span></span>

 

 



