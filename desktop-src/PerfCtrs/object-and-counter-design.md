---
description: Um objeto de desempenho é uma entidade para a qual os dados de desempenho estão disponíveis.
ms.assetid: 97b9c9ec-e758-4928-b3fa-90d220bca5fb
title: Design de objeto e contador
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9556882f5dd6c323697d9d41fa80727895550a5d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103921743"
---
# <a name="object-and-counter-design"></a><span data-ttu-id="b618b-103">Design de objeto e contador</span><span class="sxs-lookup"><span data-stu-id="b618b-103">Object and Counter Design</span></span>

<span data-ttu-id="b618b-104">Um objeto de desempenho é uma entidade para a qual os dados de desempenho estão disponíveis.</span><span class="sxs-lookup"><span data-stu-id="b618b-104">A performance object is an entity for which performance data is available.</span></span> <span data-ttu-id="b618b-105">Os contadores de desempenho definem o tipo de dados que está disponível para um objeto de desempenho.</span><span class="sxs-lookup"><span data-stu-id="b618b-105">Performance counters define the type of data that is available for a performance object.</span></span> <span data-ttu-id="b618b-106">Um aplicativo pode fornecer informações para vários objetos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="b618b-106">An application can provide information for multiple performance objects.</span></span> <span data-ttu-id="b618b-107">Os objetos de desempenho podem conter contadores de instância única ou vários contadores de instância.</span><span class="sxs-lookup"><span data-stu-id="b618b-107">Performance objects can contain either single instance counters or multiple instance counters.</span></span> <span data-ttu-id="b618b-108">Um único objeto de instância retorna um único conjunto de valores de contador.</span><span class="sxs-lookup"><span data-stu-id="b618b-108">A single instance object returns a single set of counter values.</span></span>

<span data-ttu-id="b618b-109">Um objeto de várias instâncias retorna uma instância do objeto para cada ocorrência do objeto que o aplicativo controla.</span><span class="sxs-lookup"><span data-stu-id="b618b-109">A multiple instance object returns an instance of the object for each occurrence of the object that the application controls.</span></span> <span data-ttu-id="b618b-110">Por exemplo, um aplicativo SCSI poderia definir um objeto de unidade com dois contadores, como bytes lidos e bytes gravados.</span><span class="sxs-lookup"><span data-stu-id="b618b-110">For example, a SCSI application could define a drive object with two counters, such as Bytes Read and Bytes Written.</span></span> <span data-ttu-id="b618b-111">Quando o consumidor consulta o objeto, a DLL de desempenho retorna uma instância do objeto para cada unidade que o aplicativo controla.</span><span class="sxs-lookup"><span data-stu-id="b618b-111">When the consumer queries the object, the performance DLL returns an instance of the object for each drive that the application controls.</span></span>

<span data-ttu-id="b618b-112">Depois de decidir se o objeto dá suporte a uma única instância ou a várias instâncias, você precisa decidir sobre o tipo de contadores que deseja que o objeto forneça.</span><span class="sxs-lookup"><span data-stu-id="b618b-112">After deciding if your object supports a single instance or multiple instances, you need to decide on the type of counters that you want the object to provide.</span></span> <span data-ttu-id="b618b-113">Por exemplo, você pode fornecer valores de contador que são exibidos como valores brutos, como taxas ou como porcentagens.</span><span class="sxs-lookup"><span data-stu-id="b618b-113">For example, you can provide counter values that are displayed as raw values, as rates, or as percentages.</span></span>

<span data-ttu-id="b618b-114">Para obter uma lista de tipos de contadores predefinidos que você deve escolher, consulte a seção tipos de contadores do [Kit de implantação do Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="b618b-114">For a list of predefined counter types that you should choose from, see the Counter Types section of the [Windows Server 2003 Deployment Kit](/previous-versions/windows/it-pro/windows-server-2003/cc776490(v=ws.10)).</span></span> <span data-ttu-id="b618b-115">Dependendo do tipo de contador, você pode simplesmente fornecer os dados brutos, ou você também pode ter que fornecer informações de tempo e frequência e dados de contador adicionais usados pelo consumidor para calcular um valor de exibição.</span><span class="sxs-lookup"><span data-stu-id="b618b-115">Depending on the counter type, you may simply provide the raw data, or you may also have to provide time and frequency information and additional counter data used by the consumer to calculate a displayable value.</span></span>

<span data-ttu-id="b618b-116">O método usado para coletar os dados pode ser tão simples quanto incrementar um contador cada vez que uma rotina específica no aplicativo é chamada ou pode envolver cálculos demorados.</span><span class="sxs-lookup"><span data-stu-id="b618b-116">The method you use to collect the data can be as simple as incrementing a counter each time a particular routine in the application is called, or it can involve time-consuming calculations.</span></span> <span data-ttu-id="b618b-117">Os contadores e temporizadores devem ser incrementados e nunca ser limpos.</span><span class="sxs-lookup"><span data-stu-id="b618b-117">Counters and timers should increment and never be cleared.</span></span> <span data-ttu-id="b618b-118">Os contadores podem encapsular, desde que eles não sejam quebrados duas vezes entre serem amostrados pelo consumidor.</span><span class="sxs-lookup"><span data-stu-id="b618b-118">Counters can wrap, as long as they do not wrap twice between being sampled by the consumer.</span></span> <span data-ttu-id="b618b-119">Seu aplicativo pode coletar e armazenar dados durante sua execução normal, desde que não afete seu desempenho.</span><span class="sxs-lookup"><span data-stu-id="b618b-119">Your application can collect and store data during its normal execution, as long as it does not affect its performance.</span></span>

<span data-ttu-id="b618b-120">Para alguns tipos de dados, pode ser mais eficiente ou apropriado coletar os dados sob demanda.</span><span class="sxs-lookup"><span data-stu-id="b618b-120">For some types of data, it may be more efficient or appropriate to collect the data on demand.</span></span> <span data-ttu-id="b618b-121">Nessa situação, a DLL de desempenho deve se comunicar com o aplicativo de que os dados foram solicitados.</span><span class="sxs-lookup"><span data-stu-id="b618b-121">In this situation, the performance DLL must communicate to the application that the data has been requested.</span></span> <span data-ttu-id="b618b-122">Para dados que são caros de coletar (em termos de tempo de processador ou uso de memória), considere coletar dados somente quando o consumidor solicitar dados **dispendiosos** .</span><span class="sxs-lookup"><span data-stu-id="b618b-122">For data that is expensive to collect (in terms of processor time or memory usage), consider collecting data only when the consumer requests **Costly** data.</span></span> <span data-ttu-id="b618b-123">Isso permite que um consumidor solicite dados rotineiramente para todos os contadores que não são caros.</span><span class="sxs-lookup"><span data-stu-id="b618b-123">This allows a consumer to routinely request data for all counters that are not costly.</span></span> <span data-ttu-id="b618b-124">Os dados podem ser solicitados somente quando necessário.</span><span class="sxs-lookup"><span data-stu-id="b618b-124">The data can be requested only when needed.</span></span> <span data-ttu-id="b618b-125">A ferramenta de desempenho não coleta dados **caros** .</span><span class="sxs-lookup"><span data-stu-id="b618b-125">The Performance tool does not collect **Costly** data.</span></span>

 

 
