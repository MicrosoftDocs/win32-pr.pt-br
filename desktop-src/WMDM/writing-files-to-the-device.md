---
title: Gravando arquivos no dispositivo
description: Gravando arquivos no dispositivo
ms.assetid: 66eaed16-032b-4ac0-a768-aded80f10255
keywords:
- Windows Media Gerenciador de Dispositivos, gravando arquivos em dispositivos
- Gerenciador de Dispositivos, gravando arquivos em dispositivos
- Guia de programação, gravando arquivos em dispositivos
- aplicativos de área de trabalho, gravando arquivos em dispositivos
- Criando aplicativos do Windows Media Gerenciador de Dispositivos, gravando arquivos em dispositivos
- gravando arquivos em dispositivos, sobre
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 62d8b5234cc275eed1b4aa344c16a2b927b8122d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104498615"
---
# <a name="writing-files-to-the-device"></a><span data-ttu-id="8c54d-109">Gravando arquivos no dispositivo</span><span class="sxs-lookup"><span data-stu-id="8c54d-109">Writing Files to the Device</span></span>

<span data-ttu-id="8c54d-110">Antes de enviar um arquivo para um dispositivo, seu aplicativo deve descobrir quais tipos de arquivos e formatos o dispositivo pode manipular, para que o aplicativo possa determinar se o arquivo deve ser transcodificado antes do envio ou enviado não modificado ou não enviado.</span><span class="sxs-lookup"><span data-stu-id="8c54d-110">Before sending a file to a device, your application must find out what types of files and formats the device can handle, so that the application can determine whether the file should be transcoded before sending, or sent unmodified, or not sent at all.</span></span>

<span data-ttu-id="8c54d-111">As etapas a seguir mostram como enviar um arquivo existente para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8c54d-111">The following steps show how to send an existing file down to the device.</span></span> <span data-ttu-id="8c54d-112">Para criar um novo arquivo no dispositivo, como uma lista de reprodução, consulte [criando uma lista de reprodução no dispositivo](creating-a-playlist-on-the-device.md).</span><span class="sxs-lookup"><span data-stu-id="8c54d-112">To create a new file on the device, such as a playlist, see [Creating a Playlist on the Device](creating-a-playlist-on-the-device.md).</span></span>

1.  <span data-ttu-id="8c54d-113">Obtenha o formato do arquivo que você pretende enviar para o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="8c54d-113">Get the format of the file you intend to send to the device.</span></span> <span data-ttu-id="8c54d-114">Para obter mais informações, consulte [descobrindo o formato de um arquivo](discovering-a-files-format.md).</span><span class="sxs-lookup"><span data-stu-id="8c54d-114">For more information, see [Discovering a File's Format](discovering-a-files-format.md).</span></span>
2.  <span data-ttu-id="8c54d-115">Se o dispositivo for destinado a executar o arquivo,</span><span class="sxs-lookup"><span data-stu-id="8c54d-115">If the device is intended to play the file,</span></span>
    -   <span data-ttu-id="8c54d-116">Consulte o arquivo para obter seus recursos de formato.</span><span class="sxs-lookup"><span data-stu-id="8c54d-116">Query the file for its format capabilities.</span></span> <span data-ttu-id="8c54d-117">Para obter mais informações, consulte [descobrindo recursos de formato de dispositivo](discovering-device-format-capabilities.md).</span><span class="sxs-lookup"><span data-stu-id="8c54d-117">For more information, see [Discovering Device Format Capabilities](discovering-device-format-capabilities.md).</span></span>
    -   <span data-ttu-id="8c54d-118">Localize um formato aceitável que o aplicativo possa criar a partir do arquivo original.</span><span class="sxs-lookup"><span data-stu-id="8c54d-118">Find an acceptable format that the application can create from the original file.</span></span>
    -   <span data-ttu-id="8c54d-119">Se o arquivo precisar ser transcodificado, transcodifique-o.</span><span class="sxs-lookup"><span data-stu-id="8c54d-119">If the file needs to be transcoded, transcode it.</span></span>
3.  <span data-ttu-id="8c54d-120">Localize um armazenamento pai para o novo objeto.</span><span class="sxs-lookup"><span data-stu-id="8c54d-120">Find a parent storage for the new object.</span></span> <span data-ttu-id="8c54d-121">O Windows Media Gerenciador de Dispositivos não fornece uma maneira de descobrir o local de armazenamento padrão para qualquer tipo de arquivo específico (arquivos de vídeo ou áudio, WMV ou BMP, uma pasta "favoritos" e assim por diante), portanto, você precisará examinar cada dispositivo para tentar descobrir onde melhor armazenar o novo objeto.</span><span class="sxs-lookup"><span data-stu-id="8c54d-121">Windows Media Device Manager does not provide a way to discover the standard storage location for any particular file types (video or audio files, WMV or BMP, a "Favorites" folder, and so on), so you will have to examine each device to try to figure out where best to store the new object.</span></span> <span data-ttu-id="8c54d-122">(Outros aplicativos impõem uma determinada estrutura de pastas, por exemplo, o Windows Media Player cria álbuns, listas de reprodução e pastas de músicas em que a pasta música contém uma hierarquia de artista e Álbumname.</span><span class="sxs-lookup"><span data-stu-id="8c54d-122">(Other applications enforce a certain folder structure, for example, Windows Media Player creates Albums, Playlists and Music folders where the Music folder contains an Artist and AlbumName heirarchy.</span></span> <span data-ttu-id="8c54d-123">Por esse motivo, e como alguns dispositivos podem não ter sido testados com software diferente do Windows Media Player, lembre-se de que o posicionamento de objetos de lista de reprodução ou de álbuns em qualquer pasta diferente das pastas playlists ou álbuns pode, às vezes, levar a objetos que não funcionam em alguns dispositivos.)</span><span class="sxs-lookup"><span data-stu-id="8c54d-123">For this reason, and because some devices may not have been tested with software other than Windows Media Player, be aware that the placement of playlist or album objects in any folder other than the Playlists or Albums folders may sometimes lead to nonfunctioning objects on some devices.)</span></span>
4.  <span data-ttu-id="8c54d-124">Se o armazenamento de destino der suporte a [**IWMDMStorageControl3**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmstoragecontrol3), crie uma nova interface de metadados chamando [**IWMDMStorage3:: CreateEmptyMetadataObject**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-createemptymetadataobject).</span><span class="sxs-lookup"><span data-stu-id="8c54d-124">If the target storage supports [**IWMDMStorageControl3**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmstoragecontrol3), create a new metadata interface by calling [**IWMDMStorage3::CreateEmptyMetadataObject**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstorage3-createemptymetadataobject).</span></span> <span data-ttu-id="8c54d-125">Defina os metadados em uma interface [**IWMDMMetaData**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmmetadata) .</span><span class="sxs-lookup"><span data-stu-id="8c54d-125">Set metadata on an [**IWMDMMetaData**](/windows/desktop/api/mswmdm/nn-mswmdm-iwmdmmetadata) interface.</span></span> <span data-ttu-id="8c54d-126">Para obter mais informações, consulte [definindo metadados em um arquivo](setting-metadata-on-a-file.md).</span><span class="sxs-lookup"><span data-stu-id="8c54d-126">For more information, see [Setting Metadata on a File](setting-metadata-on-a-file.md).</span></span> <span data-ttu-id="8c54d-127">Os únicos metadados necessários são g \_ wszWMDMFormatCode (um valor de [**\_ FORMATCODE de WMDM**](wmdm-formatcode.md) que descreve o conteúdo), mas quanto mais metadados você puder fornecer, mais eficiente será a transferência para o provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="8c54d-127">The only required metadata is g\_wszWMDMFormatCode (a [**WMDM\_FORMATCODE**](wmdm-formatcode.md) value describing the content), but the more metadata you can provide, the more efficient the transfer will be for the service provider.</span></span>
5.  <span data-ttu-id="8c54d-128">Envie o arquivo para o dispositivo usando o método [**Insert**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol-insert), [**Insert2**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol2-insert2)ou [**Insert3**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol3-insert3) .</span><span class="sxs-lookup"><span data-stu-id="8c54d-128">Send the file to the device by using the [**Insert**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol-insert), [**Insert2**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol2-insert2), or [**Insert3**](/windows/desktop/api/mswmdm/nf-mswmdm-iwmdmstoragecontrol3-insert3) method.</span></span> <span data-ttu-id="8c54d-129">O **Insert3** permite que você inclua os metadados no dispositivo como parte do método.</span><span class="sxs-lookup"><span data-stu-id="8c54d-129">**Insert3** allows you to include the metadata on the device as part of the method.</span></span> <span data-ttu-id="8c54d-130">Para obter mais informações, consulte [enviando o arquivo para o dispositivo](sending-the-file-to-the-device.md).</span><span class="sxs-lookup"><span data-stu-id="8c54d-130">For more information, see [Sending the File to the Device](sending-the-file-to-the-device.md).</span></span>

<span data-ttu-id="8c54d-131">O código que demonstra cada uma dessas etapas é fornecido nas páginas de tópico vinculadas.</span><span class="sxs-lookup"><span data-stu-id="8c54d-131">Code demonstrating each of these steps is provided on the linked topic pages.</span></span>

## <a name="related-topics"></a><span data-ttu-id="8c54d-132">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="8c54d-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="8c54d-133">**Criando um aplicativo de Gerenciador de Dispositivos de mídia do Windows**</span><span class="sxs-lookup"><span data-stu-id="8c54d-133">**Creating a Windows Media Device Manager Application**</span></span>](creating-a-windows-media-device-manager-application.md)
</dt> </dl>

 

 




