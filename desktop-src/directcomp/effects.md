---
title: Efeitos (DirectComposition)
description: Este tópico discute os conceitos básicos dos efeitos DirectCompositions da Microsoft e descreve os tipos de efeitos aos quais o DirectComposition dá suporte.
ms.assetid: 805B17D2-2F6B-4C25-8C6D-41FFA5DFC774
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4cfd1ca154dcbc7e55ca65cc34d04cfa7d73ccee
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104366192"
---
# <a name="effects-directcomposition"></a><span data-ttu-id="79d7b-103">Efeitos (DirectComposition)</span><span class="sxs-lookup"><span data-stu-id="79d7b-103">Effects (DirectComposition)</span></span>

> [!NOTE]
> <span data-ttu-id="79d7b-104">Para aplicativos no Windows 10, é recomendável usar APIs do Windows. UI. composição em vez de DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="79d7b-104">For apps on Windows 10, we recommend using Windows.UI.Composition APIs instead of DirectComposition.</span></span> <span data-ttu-id="79d7b-105">Para obter mais informações, consulte [modernizar seu aplicativo de área de trabalho usando a camada Visual](/windows/uwp/composition/visual-layer-in-desktop-apps).</span><span class="sxs-lookup"><span data-stu-id="79d7b-105">For more info, see [Modernize your desktop app using the Visual layer](/windows/uwp/composition/visual-layer-in-desktop-apps).</span></span>

<span data-ttu-id="79d7b-106">Este tópico discute os conceitos básicos dos efeitos DirectCompositions da Microsoft e descreve os tipos de efeitos aos quais o DirectComposition dá suporte.</span><span class="sxs-lookup"><span data-stu-id="79d7b-106">This topic discusses the basics of Microsoft DirectComposition effects, and describes the types of effects that DirectComposition supports.</span></span>

<span data-ttu-id="79d7b-107">Este tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="79d7b-107">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="79d7b-108">O que é um efeito de DirectComposition?</span><span class="sxs-lookup"><span data-stu-id="79d7b-108">What is a DirectComposition effect?</span></span>](#what-is-a-directcomposition-effect)
-   [<span data-ttu-id="79d7b-109">Opacidade</span><span class="sxs-lookup"><span data-stu-id="79d7b-109">Opacity</span></span>](#opacity)
-   [<span data-ttu-id="79d7b-110">efeitos de transformação de perspectiva 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-110">3D perspective transform effects</span></span>](#3d-perspective-transform-effects)
    -   [<span data-ttu-id="79d7b-111">O espaço de coordenadas 3D do DirectComposition</span><span class="sxs-lookup"><span data-stu-id="79d7b-111">The DirectComposition 3D coordinate space</span></span>](#the-directcomposition-3d-coordinate-space)
    -   [<span data-ttu-id="79d7b-112">efeito de transformação de rotação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-112">3D rotation transform effect</span></span>](#3d-rotation-transform-effect)
    -   [<span data-ttu-id="79d7b-113">efeito de transformação de dimensionamento 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-113">3D scaling transform effect</span></span>](#3d-scaling-transform-effect)
    -   [<span data-ttu-id="79d7b-114">efeito de transformação de translação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-114">3D translation transform effect</span></span>](#3d-translation-transform-effect)
    -   [<span data-ttu-id="79d7b-115">efeito de transformação de matriz 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-115">3D matrix transform effect</span></span>](#3d-matrix-transform-effect)
    -   [<span data-ttu-id="79d7b-116">grupo de efeitos de transformação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-116">3D transform effect group</span></span>](#3d-transform-effect-group)
-   [<span data-ttu-id="79d7b-117">Objetos de efeito</span><span class="sxs-lookup"><span data-stu-id="79d7b-117">Effect objects</span></span>](#effect-objects)
-   [<span data-ttu-id="79d7b-118">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="79d7b-118">Related topics</span></span>](#related-topics)

## <a name="what-is-a-directcomposition-effect"></a><span data-ttu-id="79d7b-119">O que é um efeito de DirectComposition?</span><span class="sxs-lookup"><span data-stu-id="79d7b-119">What is a DirectComposition effect?</span></span>

<span data-ttu-id="79d7b-120">Um *efeito* DirectComposition é uma operação de bitmap que é aplicada durante a rasterização de um Visual para alterar a aparência do Visual de alguma forma.</span><span class="sxs-lookup"><span data-stu-id="79d7b-120">A DirectComposition *effect* is a bitmap operation that is applied during the rasterization of a visual to change the appearance of the visual in some way.</span></span>

<span data-ttu-id="79d7b-121">O DirectComposition cria um efeito colocando uma subárvore visual e renderizando-a em um único bitmap antes de aplicar o efeito.</span><span class="sxs-lookup"><span data-stu-id="79d7b-121">DirectComposition creates an effect by taking a visual subtree and rendering it into a single bitmap before applying the effect.</span></span> <span data-ttu-id="79d7b-122">Por exemplo, para criar um efeito de transformação de perspectiva 3D, DirectComposition produz uma imagem de uma subárvore visual e, em seguida, textura a imagem em um plano 3D que é transformado de acordo com a matriz resultante do efeito de transformação 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-122">For example, to create a 3D perspective transform effect, DirectComposition produces an image of a visual sub-tree and then textures the image onto a 3D plane that is transformed according to the 3D transform effect’s resulting matrix.</span></span>

<span data-ttu-id="79d7b-123">O DirectComposition dá suporte aos seguintes tipos de efeitos.</span><span class="sxs-lookup"><span data-stu-id="79d7b-123">DirectComposition supports the following types of effects.</span></span>



| <span data-ttu-id="79d7b-124">Tipo de efeito</span><span class="sxs-lookup"><span data-stu-id="79d7b-124">Effect type</span></span>                                                   | <span data-ttu-id="79d7b-125">Descrição</span><span class="sxs-lookup"><span data-stu-id="79d7b-125">Description</span></span>                                                                |
|---------------------------------------------------------------|----------------------------------------------------------------------------|
| [<span data-ttu-id="79d7b-126">Opacidade</span><span class="sxs-lookup"><span data-stu-id="79d7b-126">Opacity</span></span>](#opacity)                                           | <span data-ttu-id="79d7b-127">Define a opacidade de um Visual inteiro.</span><span class="sxs-lookup"><span data-stu-id="79d7b-127">Sets the opacity of an entire visual.</span></span>                                      |
| [<span data-ttu-id="79d7b-128">transformação de perspectiva 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-128">3D perspective transform</span></span>](#3d-perspective-transform-effects) | <span data-ttu-id="79d7b-129">Aplica um efeito de transformação de perspectiva tridimensional (3D) a um Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-129">Applies a three-dimensional (3D) perspective transform effect to a visual.</span></span> |



 

> [!Note]  
> <span data-ttu-id="79d7b-130">O DirectComposition não faz nenhum processamento especial ao aplicar efeitos ao conteúdo estéreo 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-130">DirectComposition does no special processing when applying effects to 3D stereo content.</span></span> <span data-ttu-id="79d7b-131">Isso significa que o conteúdo 3D pode parecer distorcido quando um efeito é aplicado a ele.</span><span class="sxs-lookup"><span data-stu-id="79d7b-131">This means the 3D content might appear distorted when an effect is applied to it.</span></span>

 

## <a name="opacity"></a><span data-ttu-id="79d7b-132">Opacidade</span><span class="sxs-lookup"><span data-stu-id="79d7b-132">Opacity</span></span>

<span data-ttu-id="79d7b-133">O efeito de opacidade permite definir o fator de opacidade que é aplicado a um Visual inteiro quando o Visual é renderizado.</span><span class="sxs-lookup"><span data-stu-id="79d7b-133">The opacity effect lets you set the opacity factor that is applied to an entire visual when the visual is rendered.</span></span> <span data-ttu-id="79d7b-134">Ele difere de uma máscara alfa, pois o mesmo fator de opacidade é aplicado a todos os pixels no Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-134">It differs from an alpha mask in that the same opacity factor is applied to all pixels in the visual.</span></span> <span data-ttu-id="79d7b-135">A opacidade é especificada como um valor que varia de 0 (completamente transparente) para 1 (completamente opaco).</span><span class="sxs-lookup"><span data-stu-id="79d7b-135">Opacity is specified as a value ranging from 0 (completely transparent) to 1 (completely opaque).</span></span>

<span data-ttu-id="79d7b-136">O fator de opacidade é aplicado de elementos visuais pai a filho, mas os efeitos visíveis das configurações de opacidade aninhadas não são indicados no valor da propriedade de visuais filho individuais.</span><span class="sxs-lookup"><span data-stu-id="79d7b-136">The opacity factor is applied from parent to child visuals, but the visible effects of the nested opacity settings are not indicated in the property value of individual child visuals.</span></span> <span data-ttu-id="79d7b-137">Por exemplo, se um visual raiz tiver uma opacidade de 50% (0,5) e um de seus filhos tiver uma opacidade de 20% (0,2), a opacidade líquida para esse filho será renderizada como 10% (0,1), mas o valor da propriedade de opacidade do filho ainda será 0,2.</span><span class="sxs-lookup"><span data-stu-id="79d7b-137">For instance, if a root visual has a 50% (0.5) opacity and one of its children has a 20% (0.2) opacity, the net opacity for that child is rendered as 10% (0.1), but the value of the child’s Opacity property would still be 0.2.</span></span>

## <a name="3d-perspective-transform-effects"></a><span data-ttu-id="79d7b-138">efeitos de transformação de perspectiva 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-138">3D perspective transform effects</span></span>

<span data-ttu-id="79d7b-139">Esta seção descreve o espaço de coordenadas que o DirectComposition usa para executar efeitos de transformação de perspectiva 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-139">This section describes the coordinate space that DirectComposition uses for performing 3D perspective transform effects.</span></span> <span data-ttu-id="79d7b-140">Ele também descreve os tipos de efeitos de transformação de perspectiva 3D aos quais o DirectComposition dá suporte.</span><span class="sxs-lookup"><span data-stu-id="79d7b-140">It also describes the types of 3D perspective transform effects that DirectComposition supports.</span></span>

-   [<span data-ttu-id="79d7b-141">O espaço de coordenadas 3D do DirectComposition</span><span class="sxs-lookup"><span data-stu-id="79d7b-141">The DirectComposition 3D coordinate space</span></span>](#the-directcomposition-3d-coordinate-space)
-   [<span data-ttu-id="79d7b-142">efeito de transformação de rotação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-142">3D rotation transform effect</span></span>](#3d-rotation-transform-effect)
-   [<span data-ttu-id="79d7b-143">efeito de transformação de dimensionamento 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-143">3D scaling transform effect</span></span>](#3d-scaling-transform-effect)
-   [<span data-ttu-id="79d7b-144">efeito de transformação de translação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-144">3D translation transform effect</span></span>](#3d-translation-transform-effect)
-   [<span data-ttu-id="79d7b-145">efeito de transformação de matriz 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-145">3D matrix transform effect</span></span>](#3d-matrix-transform-effect)
-   [<span data-ttu-id="79d7b-146">grupo de efeitos de transformação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-146">3D transform effect group</span></span>](#3d-transform-effect-group)

> [!Note]  
> <span data-ttu-id="79d7b-147">No DirectComposition, a aplicação de efeitos 3D a vários níveis na árvore visual não funciona da mesma maneira que faz com um mecanismo 3D completo, como o Microsoft Direct3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-147">In DirectComposition, applying 3D effects to multiple levels in the visual tree does not work in the same way as it does with a full 3D engine such as Microsoft Direct3D.</span></span> <span data-ttu-id="79d7b-148">Por exemplo, considere um visual pai que tenha um único Visual filho.</span><span class="sxs-lookup"><span data-stu-id="79d7b-148">For example, consider a parent visual that has a single child visual.</span></span> <span data-ttu-id="79d7b-149">Se o Visual filho for girado para frente na direção z (ao lado do eixo y) em 90 graus, a borda do Visual Edge filho enfrentaria o visualizador e, portanto, esperamos que o Visual não fique visível (porque um bitmap não tem profundidade real).</span><span class="sxs-lookup"><span data-stu-id="79d7b-149">If the child visual is rotated forward in the z direction (around the y-axis) by 90 degrees, the edge of the child visual edge would face the viewer, and so we’d expect the visual to not be visible (because a bitmap has no real depth).</span></span> <span data-ttu-id="79d7b-150">Se o visual pai for girado para trás na direção z negativa (ao lado do eixo y) por 90 graus, poderemos esperar que o Visual filho se torne totalmente visivelmente (uma vez que as transformações são negadas entre si).</span><span class="sxs-lookup"><span data-stu-id="79d7b-150">If the parent visual is then rotated backward in the negative z direction (around the y-axis) by 90 degrees, we might expect the child visual to become fully visibly (since the transformations negate each other).</span></span> <span data-ttu-id="79d7b-151">No entanto, em DirectComposition, esse não é o caso.</span><span class="sxs-lookup"><span data-stu-id="79d7b-151">However, in DirectComposition this is not the case.</span></span> <span data-ttu-id="79d7b-152">O Visual filho não será visível porque foi "mesclado" no bitmap pai.</span><span class="sxs-lookup"><span data-stu-id="79d7b-152">The child visual will not be visible because it was "flattened into" the parent bitmap.</span></span>

 

### <a name="the-directcomposition-3d-coordinate-space"></a><span data-ttu-id="79d7b-153">O espaço de coordenadas 3D do DirectComposition</span><span class="sxs-lookup"><span data-stu-id="79d7b-153">The DirectComposition 3D coordinate space</span></span>

<span data-ttu-id="79d7b-154">O espaço de coordenadas DirectComposition para efeitos de transformação 3D localiza a origem (0, 0, 0) no canto superior esquerdo da superfície do bitmap, com valores positivos do eixo x, prosseguindo para a direita, valores positivos do eixo y continuando para baixo e valores positivos do eixo z continuando para fora da origem, para o visualizador.</span><span class="sxs-lookup"><span data-stu-id="79d7b-154">The DirectComposition coordinate space for 3D transform effects locates the origin (0,0,0) at the upper-left corner of the bitmap surface, with positive x-axis values proceeding to the right, positive y-axis values proceeding downward, and positive z-axis values proceeding outward from the origin, toward the viewer.</span></span> <span data-ttu-id="79d7b-155">Esta ilustração mostra o espaço de coordenadas 3D DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="79d7b-155">This illustration shows the DirectComposition 3D coordinate space.</span></span>

![espaço de coordenadas 3D directcompostion](images/3d-coordinate-space.png)

### <a name="3d-rotation-transform-effect"></a><span data-ttu-id="79d7b-157">efeito de transformação de rotação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-157">3D rotation transform effect</span></span>

<span data-ttu-id="79d7b-158">Um efeito de transformação de rotação 3D gira um Visual em três dimensões pelo ângulo especificado sobre um vetor de eixo \[ x, y, z \] localizado no ponto central especificado (x, y, z).</span><span class="sxs-lookup"><span data-stu-id="79d7b-158">A 3D rotation transform effect rotates a visual in three dimensions by the specified angle about a rotation axis vector \[x,y,z\] located at the specified center point (x,y,z).</span></span> <span data-ttu-id="79d7b-159">O ângulo é especificado em graus.</span><span class="sxs-lookup"><span data-stu-id="79d7b-159">The angle is specified in degrees.</span></span> <span data-ttu-id="79d7b-160">O vetor do eixo de rotação padrão é \[ 0, 0,-1 \] , e o ponto central padrão é (0, 0, 0).</span><span class="sxs-lookup"><span data-stu-id="79d7b-160">The default rotation axis vector is \[0,0,-1\], and the default center point is (0,0,0).</span></span>

<span data-ttu-id="79d7b-161">Use o método [**IDCompositionDevice:: CreateRotateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d) para criar um objeto de transformação de rotação 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-161">Use the [**IDCompositionDevice::CreateRotateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d) method to create a 3D rotation transform object.</span></span> <span data-ttu-id="79d7b-162">O método recupera uma interface [**IDCompositionRotateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform3d) que você pode usar para definir as propriedades do objeto.</span><span class="sxs-lookup"><span data-stu-id="79d7b-162">The method retrieves an [**IDCompositionRotateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionrotatetransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-scaling-transform-effect"></a><span data-ttu-id="79d7b-163">efeito de transformação de dimensionamento 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-163">3D scaling transform effect</span></span>

<span data-ttu-id="79d7b-164">Um efeito de transformação de dimensionamento 3D torna um Visual maior ou menor.</span><span class="sxs-lookup"><span data-stu-id="79d7b-164">A 3D scaling transform effect makes a visual larger or smaller.</span></span> <span data-ttu-id="79d7b-165">Ele dimensiona um Visual na \[ direção x, y, z \] sobre o ponto central (x, y, z).</span><span class="sxs-lookup"><span data-stu-id="79d7b-165">It scales a visual in the \[x,y,z\] direction about the center point (x,y,z).</span></span> <span data-ttu-id="79d7b-166">O ponto central padrão é (0, 0, 0).</span><span class="sxs-lookup"><span data-stu-id="79d7b-166">The default center point is (0,0,0).</span></span>

<span data-ttu-id="79d7b-167">Use o método [**IDCompositionDevice:: CreateScaleTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d) para criar um objeto de transformação de dimensionamento 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-167">Use the [**IDCompositionDevice::CreateScaleTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d) method to create a 3D scaling transform object.</span></span> <span data-ttu-id="79d7b-168">O método recupera uma interface [**IDCompositionScaleTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform3d) que você pode usar para definir as propriedades do objeto.</span><span class="sxs-lookup"><span data-stu-id="79d7b-168">The method retrieves an [**IDCompositionScaleTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionscaletransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-translation-transform-effect"></a><span data-ttu-id="79d7b-169">efeito de transformação de translação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-169">3D translation transform effect</span></span>

<span data-ttu-id="79d7b-170">Um efeito de transformação de translação 3D altera a posição de um Visual na \[ direção x, y e z \] .</span><span class="sxs-lookup"><span data-stu-id="79d7b-170">A 3D translation transform effect changes the position of a visual in the \[x,y,z\] direction.</span></span>

<span data-ttu-id="79d7b-171">Use o método [**IDCompositionDevice:: CreateTranslateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d) para criar um objeto de transformação translação 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-171">Use the [**IDCompositionDevice::CreateTranslateTransform3D**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d) method to create a 3D translation transform object.</span></span> <span data-ttu-id="79d7b-172">O método recupera uma interface [**IDCompositionTranslateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform3d) que você pode usar para definir as propriedades do objeto.</span><span class="sxs-lookup"><span data-stu-id="79d7b-172">The method retrieves an [**IDCompositionTranslateTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositiontranslatetransform3d) interface that you can use to set the properties of the object.</span></span>

### <a name="3d-matrix-transform-effect"></a><span data-ttu-id="79d7b-173">efeito de transformação de matriz 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-173">3D matrix transform effect</span></span>

<span data-ttu-id="79d7b-174">A interface [**IDCompositionMatrixTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) permite que você defina sua própria matriz de transformação 4 por 4 e a aplica a um Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-174">The [**IDCompositionMatrixTransform3D**](/windows/win32/api/dcomp/nn-dcomp-idcompositionmatrixtransform) interface enables you to define your own 4-by-4 transformation matrix and apply it to a visual.</span></span> <span data-ttu-id="79d7b-175">Essa interface será útil se você precisar aplicar um tipo de efeito de transformação de perspectiva 3D que não está disponível por meio de outras interfaces de efeito de transformação 3D DirectComposition.</span><span class="sxs-lookup"><span data-stu-id="79d7b-175">This interface is useful if you need to apply a type of 3D perspective transform effect that is not available through the other DirectComposition 3D transform effect interfaces.</span></span> <span data-ttu-id="79d7b-176">Você define a matriz preenchendo uma estrutura [**D3DMATRIX**](/windows/desktop/direct3d10/d3d10-d3dmatrix) e passando-a para o método [**IDCompositionMatrixTransform3D:: setmatrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) .</span><span class="sxs-lookup"><span data-stu-id="79d7b-176">You define the matrix by filling a [**D3DMATRIX**](/windows/desktop/direct3d10/d3d10-d3dmatrix) structure and passing it to the [**IDCompositionMatrixTransform3D::SetMatrix**](/windows/win32/api/dcomp/nf-dcomp-idcompositionmatrixtransform-setmatrix) method.</span></span> <span data-ttu-id="79d7b-177">Como alternativa, você pode definir cada elemento da matriz usando o método [**IDCompositionMatrixTransform3D:: Setmatrixelement**](/previous-versions/windows/desktop/legacy/hh437429(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="79d7b-177">Alternatively, you can set each element of the matrix by using the [**IDCompositionMatrixTransform3D::SetMatrixElement**](/previous-versions/windows/desktop/legacy/hh437429(v=vs.85)) method.</span></span>

### <a name="3d-transform-effect-group"></a><span data-ttu-id="79d7b-178">grupo de efeitos de transformação 3D</span><span class="sxs-lookup"><span data-stu-id="79d7b-178">3D transform effect group</span></span>

<span data-ttu-id="79d7b-179">O [**IDCompositionDevice:: CreateTransform3DGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransform3dgroup) cria uma coleção de efeitos de transformação 3D que você pode aplicar a um Visual como um grupo.</span><span class="sxs-lookup"><span data-stu-id="79d7b-179">The [**IDCompositionDevice::CreateTransform3DGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtransform3dgroup) creates a collection of 3D transform effects that you can apply to a visual as a group.</span></span> <span data-ttu-id="79d7b-180">A matriz pode incluir qualquer número de objetos Transform e pode incluir transformações de matriz, rotação, escala e conversão.</span><span class="sxs-lookup"><span data-stu-id="79d7b-180">The array can include any number of transform objects, and can include matrix, rotate, scale, and translate transforms.</span></span> <span data-ttu-id="79d7b-181">A coleção de objetos de transformação 3D resulta em uma transformação cujo valor é a multiplicação de matriz das matrizes de transformação individuais na coleção.</span><span class="sxs-lookup"><span data-stu-id="79d7b-181">The collection of 3D transform objects results in a transform whose value is the matrix multiplication of the individual transform matrices in the collection.</span></span>

<span data-ttu-id="79d7b-182">A ordem das transformações individuais no grupo é importante.</span><span class="sxs-lookup"><span data-stu-id="79d7b-182">The order of individual transforms in the group is important.</span></span> <span data-ttu-id="79d7b-183">Por exemplo, girar, ajustar a escala e mover terá um resultado diferente de mover, girar e ajustar a escala.</span><span class="sxs-lookup"><span data-stu-id="79d7b-183">For example, if you first rotate, then scale, then translate, you get a different result than if you first translate, then rotate, then scale.</span></span> <span data-ttu-id="79d7b-184">DirectComposition respeita a ordem na qual você especifica transformações 3D em um grupo 3D de transformação da mesma maneira que faz para transformações 2D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-184">DirectComposition respects the order in which you specify 3D transforms within a transform 3D group the same way it does for 2D transforms.</span></span> <span data-ttu-id="79d7b-185">Além disso, as transformações de perspectiva 3D resultam no nivelamento da árvore visual após a aplicação de todas as transformações 3D no Visual atual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-185">Additionally, 3D perspective transforms result in flattening of the visual tree after all 3D transforms in the current visual have been applied.</span></span> <span data-ttu-id="79d7b-186">Isso é feito para garantir que a cena pareça o mais próximo possível do 3D.</span><span class="sxs-lookup"><span data-stu-id="79d7b-186">This is done to ensure that the scene looks as close to 3D as possible.</span></span>

## <a name="effect-objects"></a><span data-ttu-id="79d7b-187">Objetos de efeito</span><span class="sxs-lookup"><span data-stu-id="79d7b-187">Effect objects</span></span>

<span data-ttu-id="79d7b-188">Para aplicar um efeito a um Visual, primeiro você precisa criar e definir as propriedades de um objeto de efeito que representa o tipo de efeito que você deseja produzir no Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-188">To apply an effect to a visual, you first need to create and set the properties of an effect object that represents the type of effect that you want to produce on the visual.</span></span> <span data-ttu-id="79d7b-189">Em seguida, você precisa aplicar o objeto Effect à Propriedade Effect do Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-189">Then, you need to apply the effect object to the visual's Effect property.</span></span>

<span data-ttu-id="79d7b-190">Para criar um objeto de efeito, use um dos seguintes métodos de interface [**IDCompositionDevice**](/windows/win32/api/dcomp/nn-dcomp-idcompositiondevice) para criar um objeto de efeito para o tipo de efeito desejado.</span><span class="sxs-lookup"><span data-stu-id="79d7b-190">To create an effect object, use one of the following [**IDCompositionDevice**](/windows/win32/api/dcomp/nn-dcomp-idcompositiondevice) interface methods to create an effect object for the type of effect that you want.</span></span> <span data-ttu-id="79d7b-191">Os métodos a seguir criam objetos de efeito:</span><span class="sxs-lookup"><span data-stu-id="79d7b-191">The following methods create effect objects:</span></span>

-   [<span data-ttu-id="79d7b-192">**CreateMatrixTransform3D**</span><span class="sxs-lookup"><span data-stu-id="79d7b-192">**CreateMatrixTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-creatematrixtransform3d)
-   [<span data-ttu-id="79d7b-193">**CreateRotateTransform3D**</span><span class="sxs-lookup"><span data-stu-id="79d7b-193">**CreateRotateTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createrotatetransform3d)
-   [<span data-ttu-id="79d7b-194">**CreateScaleTransform3D**</span><span class="sxs-lookup"><span data-stu-id="79d7b-194">**CreateScaleTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createscaletransform3d)
-   [<span data-ttu-id="79d7b-195">**CreateTranslateTransform3D**</span><span class="sxs-lookup"><span data-stu-id="79d7b-195">**CreateTranslateTransform3D**</span></span>](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createtranslatetransform3d)

<span data-ttu-id="79d7b-196">Cada um dos métodos anteriores recupera uma interface que você pode usar para definir as propriedades do objeto de efeito recém-criado.</span><span class="sxs-lookup"><span data-stu-id="79d7b-196">Each of the preceding methods retrieves an interface that you can use to set the properties of the newly created effect object.</span></span> <span data-ttu-id="79d7b-197">Use os métodos de interface para definir as propriedades conforme necessário para produzir o efeito visual desejado.</span><span class="sxs-lookup"><span data-stu-id="79d7b-197">Use the interface methods to set the properties as necessary to produce the visual effect that you want.</span></span>

<span data-ttu-id="79d7b-198">A maioria das propriedades de um objeto de efeito pode ser animada.</span><span class="sxs-lookup"><span data-stu-id="79d7b-198">Most properties of an effect object can be animated.</span></span> <span data-ttu-id="79d7b-199">Para animar uma determinada propriedade, crie um objeto de animação e aplique-o à propriedade que você deseja animar; caso contrário, defina a propriedade como um valor estático que produz o efeito desejado.</span><span class="sxs-lookup"><span data-stu-id="79d7b-199">To animate a particular property, create an animation object and apply it to the property that you want to animate; otherwise, set the property to a static value that produces the effect that you want.</span></span> <span data-ttu-id="79d7b-200">Para obter mais informações sobre as propriedades de animação, consulte [animação](animation.md).</span><span class="sxs-lookup"><span data-stu-id="79d7b-200">For more information about animating properties, see [Animation](animation.md).</span></span>

<span data-ttu-id="79d7b-201">Para aplicar um objeto de efeito ao Visual, chame o método [**IDCompositionVisual:: seteffect**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-seteffect) .</span><span class="sxs-lookup"><span data-stu-id="79d7b-201">To apply an effect object to visual, call the [**IDCompositionVisual::SetEffect**](/windows/win32/api/dcomp/nf-dcomp-idcompositionvisual-seteffect) method.</span></span> <span data-ttu-id="79d7b-202">Quando você aplica um efeito a um Visual, o efeito é aplicado a toda a subárvore visual com raiz nesse Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-202">When you apply an effect to a visual, the effect is applied to the entire visual subtree rooted at that visual.</span></span> <span data-ttu-id="79d7b-203">Portanto, por exemplo, se você definir a opacidade de um Visual como 50 por cento, a opacidade de todos os visuais filho na subárvore Visual será reduzida em 50%.</span><span class="sxs-lookup"><span data-stu-id="79d7b-203">So, for example, if you set the opacity of a visual to 50 percent, the opacity of all child visuals in the visual subtree will be reduced by 50 percent.</span></span> <span data-ttu-id="79d7b-204">Você pode aplicar o mesmo objeto de efeito a um ou mais visuais.</span><span class="sxs-lookup"><span data-stu-id="79d7b-204">You can apply the same effect object to one or more visuals.</span></span> <span data-ttu-id="79d7b-205">Se você modificar as propriedades de um objeto de efeito depois de aplicá-lo a elementos visuais, todos os visuais serão recompostos para refletir a alteração.</span><span class="sxs-lookup"><span data-stu-id="79d7b-205">If you modify the properties of an effect object after applying it to visuals, all of the visuals are re-composed to reflect the change.</span></span>

<span data-ttu-id="79d7b-206">Usando um objeto de grupo de efeitos, você pode aplicar simultaneamente vários efeitos a um Visual.</span><span class="sxs-lookup"><span data-stu-id="79d7b-206">By using an effect group object, you can simultaneously apply multiple effects to a visual.</span></span> <span data-ttu-id="79d7b-207">Primeiro, chame [**IDCompositionDevice:: createeffect**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createeffectgroup) para criar o objeto de grupo de efeitos e, em seguida, Adicione efeitos ao grupo usando a interface [**IDCompositionEffectGroup**](/windows/win32/api/dcomp/nn-dcomp-idcompositioneffectgroup) do objeto.</span><span class="sxs-lookup"><span data-stu-id="79d7b-207">First call [**IDCompositionDevice::CreateEffectGroup**](/windows/win32/api/dcomp/nf-dcomp-idcompositiondevice-createeffectgroup) to create the effect group object, and then add effects to the group by using the object's [**IDCompositionEffectGroup**](/windows/win32/api/dcomp/nn-dcomp-idcompositioneffectgroup) interface.</span></span>

## <a name="related-topics"></a><span data-ttu-id="79d7b-208">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="79d7b-208">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="79d7b-209">Conceitos de DirectComposition</span><span class="sxs-lookup"><span data-stu-id="79d7b-209">DirectComposition Concepts</span></span>](directcomposition-concepts.md)
</dt> </dl>

 

 