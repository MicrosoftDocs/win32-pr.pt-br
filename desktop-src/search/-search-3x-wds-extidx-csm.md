---
description: O Gerenciador de escopo de rastreamento (CSM) é um conjunto de interfaces que fornece métodos para informar o mecanismo de pesquisa do Windows sobre os contêineres a serem rastreados e os itens sob esses contêineres para incluir ou excluir no catálogo.
ms.assetid: 7d65d00a-7294-4718-b593-89394b2e416f
title: Usando o Gerenciador de escopo de rastreamento
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ef79c9e5a2a4b1dda97bf8a8be7bbaa35d5ecd2c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104090102"
---
# <a name="using-the-crawl-scope-manager"></a><span data-ttu-id="974c1-103">Usando o Gerenciador de escopo de rastreamento</span><span class="sxs-lookup"><span data-stu-id="974c1-103">Using the Crawl Scope Manager</span></span>

<span data-ttu-id="974c1-104">O Gerenciador de escopo de rastreamento (CSM) é um conjunto de interfaces que fornece métodos para informar o mecanismo de pesquisa do Windows sobre os contêineres a serem rastreados e os itens sob esses contêineres para incluir ou excluir no catálogo.</span><span class="sxs-lookup"><span data-stu-id="974c1-104">The Crawl Scope Manager (CSM) is a set of interfaces that provides methods to inform the Windows Search engine about containers to crawl and items under those containers to include or exclude in the catalog.</span></span> <span data-ttu-id="974c1-105">Os desenvolvedores podem usar o CSM para definir um escopo de rastreamento programaticamente para um novo armazenamento de dados ou manipulador de protocolo.</span><span class="sxs-lookup"><span data-stu-id="974c1-105">Developers can use the CSM to define a crawl scope programmatically for a new data store or protocol handler.</span></span> <span data-ttu-id="974c1-106">Os administradores podem usar o CSM para exibir os índices de todos os usuários, raízes de pesquisa e regras de escopo.</span><span class="sxs-lookup"><span data-stu-id="974c1-106">Administrators can use the CSM to view all users' indexes, search roots, and scope rules.</span></span>

<span data-ttu-id="974c1-107">Esta seção é organizada da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="974c1-107">This section is organized as follows:</span></span>

-   [<span data-ttu-id="974c1-108">O que é o Gerenciador de escopo de rastreamento?</span><span class="sxs-lookup"><span data-stu-id="974c1-108">What is the Crawl Scope Manager?</span></span>](#what-is-the-crawl-scope-manager)
-   [<span data-ttu-id="974c1-109">Raízes de pesquisa e regras de escopo</span><span class="sxs-lookup"><span data-stu-id="974c1-109">Search Roots and Scope Rules</span></span>](#search-roots-and-scope-rules)
    -   [<span data-ttu-id="974c1-110">Raízes de pesquisa</span><span class="sxs-lookup"><span data-stu-id="974c1-110">Search Roots</span></span>](#search-roots-and-scope-rules)
    -   [<span data-ttu-id="974c1-111">Regras de escopo</span><span class="sxs-lookup"><span data-stu-id="974c1-111">Scope Rules</span></span>](#scope-rules)
-   [<span data-ttu-id="974c1-112">Políticas de grupo com suporte pelo Gerenciador de escopo de rastreamento</span><span class="sxs-lookup"><span data-stu-id="974c1-112">Group Policies Supported by the Crawl Scope Manager</span></span>](#group-policies-supported-by-the-crawl-scope-manager)
-   [<span data-ttu-id="974c1-113">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="974c1-113">Related topics</span></span>](#related-topics)

## <a name="what-is-the-crawl-scope-manager"></a><span data-ttu-id="974c1-114">O que é o Gerenciador de escopo de rastreamento?</span><span class="sxs-lookup"><span data-stu-id="974c1-114">What is the Crawl Scope Manager?</span></span>

<span data-ttu-id="974c1-115">Para entender o Gerenciador de escopo de rastreamento, você deve entender os seguintes termos:</span><span class="sxs-lookup"><span data-stu-id="974c1-115">To understand the Crawl Scope Manager, you must understand the following terms:</span></span>

-   <span data-ttu-id="974c1-116">Um *escopo de rastreamento* é um conjunto de URLs que apontam para repositórios de dados ou contêineres (armazenamentos de dados de email, bancos de dados, compartilhamentos de arquivos de rede e assim por diante) que o indexador rastreia para indexar itens.</span><span class="sxs-lookup"><span data-stu-id="974c1-116">A *crawl scope* is a set of URLs pointing to data stores or containers (email data stores, databases, network file shares, and so on) that the indexer crawls to index items.</span></span> <span data-ttu-id="974c1-117">Para um armazenamento de dados hierárquico, o escopo do rastreamento pode incluir uma URL pai, mas excluir uma URL filho e vice-versa.</span><span class="sxs-lookup"><span data-stu-id="974c1-117">For a hierarchical data store, the crawl scope can include a parent URL but exclude a child URL and vice versa.</span></span> <span data-ttu-id="974c1-118">Os itens dentro do escopo de rastreamento são indexados; os itens fora do escopo do rastreamento são ignorados.</span><span class="sxs-lookup"><span data-stu-id="974c1-118">Items within the crawl scope are indexed; items outside the crawl scope are ignored.</span></span>
-   <span data-ttu-id="974c1-119">Uma *raiz de pesquisa* é a URL de nível superior que identifica um armazenamento de contêiner ou de dados associado a um manipulador de protocolo específico.</span><span class="sxs-lookup"><span data-stu-id="974c1-119">A *search root* is the top-level URL identifying a container or data store that is associated with a particular protocol handler.</span></span> <span data-ttu-id="974c1-120">Raízes de pesquisa podem identificar locais específicos de um usuário, que estão em um computador remoto ou que correspondem a um padrão de curinga.</span><span class="sxs-lookup"><span data-stu-id="974c1-120">Search roots can identify locations that are specific to a user, that are on a remote computer, or that match a wildcard pattern.</span></span> <span data-ttu-id="974c1-121">Ao adicionar um novo armazenamento de dados ou manipulador de protocolo, você também deve adicionar uma raiz de pesquisa ao escopo do rastreamento.</span><span class="sxs-lookup"><span data-stu-id="974c1-121">When you add a new data store or protocol handler, you should also add a search root to the crawl scope.</span></span>
-   <span data-ttu-id="974c1-122">Uma *regra de escopo* é uma regra que inclui ou exclui URLs em uma raiz de pesquisa de serem rastreadas e indexadas.</span><span class="sxs-lookup"><span data-stu-id="974c1-122">A *scope rule* is a rule that includes or excludes URLs within a search root from being crawled and indexed.</span></span> <span data-ttu-id="974c1-123">Por exemplo, suponha que você queira que tudo dentro da pasta ProjectFiles seja indexado, exceto pelos protótipos de subpasta.</span><span class="sxs-lookup"><span data-stu-id="974c1-123">For example, suppose you want everything within the ProjectFiles folder indexed except for the subfolder Prototypes.</span></span> <span data-ttu-id="974c1-124">Você precisaria de uma regra de inclusão para file:///C: \\ WorkteamA \\ ProjectFiles \\ e uma regra de exclusão para os \\ protótipos file:///C: WorkteamA \\ ProjectFiles \\ \\ .</span><span class="sxs-lookup"><span data-stu-id="974c1-124">You would need an inclusion rule for file:///C:\\WorkteamA\\ProjectFiles\\ and an exclusion rule for file:///C:\\WorkteamA\\ProjectFiles\\Prototypes\\.</span></span>

<span data-ttu-id="974c1-125">O **Gerenciador de escopo de rastreamento (CSM)** é um conjunto de APIs que permite adicionar, remover e enumerar raízes de pesquisa e regras de escopo para o indexador do Windows Search.</span><span class="sxs-lookup"><span data-stu-id="974c1-125">The **Crawl Scope Manager (CSM)** is a set of APIs that lets you add, remove, and enumerate search roots and scope rules for the Windows Search indexer.</span></span> <span data-ttu-id="974c1-126">Quando desejar que o indexador comece a rastrear um novo contêiner, você poderá usar o CSM para definir as raízes de pesquisa e as regras de escopo dos caminhos nas raízes de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="974c1-126">When you want the indexer to begin crawling a new container, you can use the CSM to set the search root(s) and scope rules for paths within the search root(s).</span></span> <span data-ttu-id="974c1-127">Por exemplo, se você instalar um novo manipulador de protocolo, poderá criar uma raiz de pesquisa e adicionar uma ou mais regras de inclusão; em seguida, o indexador pode iniciar um rastreamento para a indexação inicial.</span><span class="sxs-lookup"><span data-stu-id="974c1-127">For example, if you install a new protocol handler, you can create a search root and add one or more inclusion rules; then the indexer can start a crawl for the initial indexing.</span></span> <span data-ttu-id="974c1-128">O CSM oferece as seguintes interfaces para ajudá-lo a fazer isso programaticamente.</span><span class="sxs-lookup"><span data-stu-id="974c1-128">The CSM offers the following interfaces to help you do this programmatically.</span></span>

-   [<span data-ttu-id="974c1-129">**IEnumSearchRoots**</span><span class="sxs-lookup"><span data-stu-id="974c1-129">**IEnumSearchRoots**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-ienumsearchroots)
-   [<span data-ttu-id="974c1-130">IEnumSearchScopeRules</span><span class="sxs-lookup"><span data-stu-id="974c1-130">IEnumSearchScopeRules</span></span>](/windows/win32/api/searchapi/nn-searchapi-ienumsearchscoperules)
-   [<span data-ttu-id="974c1-131">**ISearchCrawlScopeManager**</span><span class="sxs-lookup"><span data-stu-id="974c1-131">**ISearchCrawlScopeManager**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchcrawlscopemanager)
-   [<span data-ttu-id="974c1-132">ISearchCrawlScopeManager2</span><span class="sxs-lookup"><span data-stu-id="974c1-132">ISearchCrawlScopeManager2</span></span>](/windows/win32/api/searchapi/nn-searchapi-isearchcrawlscopemanager2)
-   [<span data-ttu-id="974c1-133">**ISearchRoot**</span><span class="sxs-lookup"><span data-stu-id="974c1-133">**ISearchRoot**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchroot)
-   [<span data-ttu-id="974c1-134">**ISearchScopeRule**</span><span class="sxs-lookup"><span data-stu-id="974c1-134">**ISearchScopeRule**</span></span>](/windows/desktop/api/Searchapi/nn-searchapi-isearchscoperule)
-   [<span data-ttu-id="974c1-135">ISearchItem</span><span class="sxs-lookup"><span data-stu-id="974c1-135">ISearchItem</span></span>](./-search-isearchitem.md)

<span data-ttu-id="974c1-136">Embora você possa usar as APIs CSM para definir um escopo de rastreamento programaticamente, o CSM foi projetado para dar suporte a usuários finais também.</span><span class="sxs-lookup"><span data-stu-id="974c1-136">While you can use the CSM APIs to define a crawl scope programmatically, the CSM was designed to support end users as well.</span></span> <span data-ttu-id="974c1-137">Por exemplo, suponha que você tenha desenvolvido um manipulador de protocolo para um novo armazenamento de dados e queira permitir que os usuários ou administradores gerenciem quais caminhos devem ser indexados.</span><span class="sxs-lookup"><span data-stu-id="974c1-137">For example, suppose you have developed a protocol handler for a new data store, and you want to let users or administrators manage which paths should be indexed.</span></span> <span data-ttu-id="974c1-138">Você pode usar o Gerenciador de escopo de rastreamento para definir uma ou mais raízes de pesquisa (por exemplo, file:///C: \\ MyContainer \\ ) e a interface do usuário do Windows Search para definir opções de indexação exibirá cada raiz de pesquisa com uma caixa de seleção.</span><span class="sxs-lookup"><span data-stu-id="974c1-138">You can use the Crawl Scope Manager to set one or more search roots (for example, file:///C:\\MyContainer\\), and the Windows Search user interface for setting indexing options will display each search root with a check box.</span></span> <span data-ttu-id="974c1-139">Os usuários podem incluir ou excluir o caminho ou os filhos desse caminho.</span><span class="sxs-lookup"><span data-stu-id="974c1-139">Users can then include or exclude that path or children of that path.</span></span>

## <a name="search-roots-and-scope-rules"></a><span data-ttu-id="974c1-140">Raízes de pesquisa e regras de escopo</span><span class="sxs-lookup"><span data-stu-id="974c1-140">Search Roots and Scope Rules</span></span>

<span data-ttu-id="974c1-141">As raízes de pesquisa e as regras de escopo juntas definem um conjunto de trabalho de URLs que compõem o escopo de rastreamento do indexador.</span><span class="sxs-lookup"><span data-stu-id="974c1-141">Search roots and scope rules together define a working set of URLs that comprise the indexer's crawl scope.</span></span>

### <a name="search-roots"></a><span data-ttu-id="974c1-142">Raízes de pesquisa</span><span class="sxs-lookup"><span data-stu-id="974c1-142">Search Roots</span></span>

<span data-ttu-id="974c1-143">Definir uma raiz de pesquisa não especifica quais partes desse armazenamento devem ser indexadas; Ele simplesmente sinaliza que um repositório de conteúdo existe e está associado a um manipulador de protocolo registrado.</span><span class="sxs-lookup"><span data-stu-id="974c1-143">Setting a search root does not specify which parts of this store should be indexed; it merely signals that a content store exists and is associated with a registered protocol handler.</span></span> <span data-ttu-id="974c1-144">A sintaxe de uma raiz de pesquisa inclui um protocolo, um site ou um identificador de segurança de usuário e um caminho para os locais a serem rastreados.</span><span class="sxs-lookup"><span data-stu-id="974c1-144">The syntax of a search root includes a protocol, a site or user security identifier, and a path to the location(s) to be crawled.</span></span>

<span data-ttu-id="974c1-145">Você deve criar novas raízes de pesquisa quando:</span><span class="sxs-lookup"><span data-stu-id="974c1-145">You should create new search roots when you:</span></span>

-   <span data-ttu-id="974c1-146">Instalar um manipulador de protocolo ou</span><span class="sxs-lookup"><span data-stu-id="974c1-146">Install a protocol handler OR</span></span>
-   <span data-ttu-id="974c1-147">Deseja indexar um novo armazenamento de dados</span><span class="sxs-lookup"><span data-stu-id="974c1-147">Want to index a new data store</span></span>

<span data-ttu-id="974c1-148">AND</span><span class="sxs-lookup"><span data-stu-id="974c1-148">AND</span></span>

-   <span data-ttu-id="974c1-149">esse armazenamento de dados ainda não está no escopo de rastreamento do indexador.</span><span class="sxs-lookup"><span data-stu-id="974c1-149">that data store is not already in the indexer's crawl scope.</span></span>

<span data-ttu-id="974c1-150">Consulte [Gerenciando raízes de pesquisa](-search-3x-wds-extidx-csm-searchroots.md) para obter instruções sobre como adicionar, remover e enumerar raízes de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="974c1-150">Refer to [Managing Search Roots](-search-3x-wds-extidx-csm-searchroots.md) for instructions on adding, removing, and enumerating search roots.</span></span>

### <a name="scope-rules"></a><span data-ttu-id="974c1-151">Regras de escopo</span><span class="sxs-lookup"><span data-stu-id="974c1-151">Scope Rules</span></span>

<span data-ttu-id="974c1-152">As regras de escopo incluem ou excluem URLs em uma raiz de pesquisa de serem rastreadas e indexadas.</span><span class="sxs-lookup"><span data-stu-id="974c1-152">Scope rules include or exclude URLs within a search root from being crawled and indexed.</span></span> <span data-ttu-id="974c1-153">As regras de escopo podem ser definidas por usuários finais, por política de grupo ou por desenvolvedores de terceiros.</span><span class="sxs-lookup"><span data-stu-id="974c1-153">Scope rules can be set by end users, by group policy, or by third-party developers.</span></span> <span data-ttu-id="974c1-154">Você deve definir regras de escopo programaticamente ao definir uma nova raiz de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="974c1-154">You should define scope rules programmatically when you define a new search root.</span></span> <span data-ttu-id="974c1-155">Suas raízes de pesquisa e regras de escopo incluem o escopo de rastreamento padrão para o armazenamento de dados e o manipulador de protocolo.</span><span class="sxs-lookup"><span data-stu-id="974c1-155">Your search roots and scope rules comprise the default crawl scope for your data store and protocol handler.</span></span>

> [!Note]  
> <span data-ttu-id="974c1-156">Os usuários com acesso ao painel de controle podem modificar o escopo de rastreamento padrão.</span><span class="sxs-lookup"><span data-stu-id="974c1-156">Users with access to Control Panel can modify the default crawl scope.</span></span> <span data-ttu-id="974c1-157">Portanto, qualquer aplicativo que ofereça gerenciamento de escopo sempre deve obter as regras diretamente do CSM usando os métodos de enumeração em vez de depender de sua própria cópia salva das regras do usuário.</span><span class="sxs-lookup"><span data-stu-id="974c1-157">Therefore, any application that offers scope management should always get the rules directly from the CSM by using the enumeration methods instead of relying on its own saved copy of the user's rules.</span></span>

 

<span data-ttu-id="974c1-158">Consulte [Gerenciando regras de escopo](-search-3x-wds-extidx-csm-scoperules.md) para obter instruções sobre como adicionar, remover, reverter e enumerar regras de escopo.</span><span class="sxs-lookup"><span data-stu-id="974c1-158">Refer to [Managing Scope Rules](-search-3x-wds-extidx-csm-scoperules.md) for instructions on adding, removing, reverting, and enumerating scope rules.</span></span>

## <a name="group-policies-supported-by-the-crawl-scope-manager"></a><span data-ttu-id="974c1-159">Políticas de grupo com suporte pelo Gerenciador de escopo de rastreamento</span><span class="sxs-lookup"><span data-stu-id="974c1-159">Group Policies Supported by the Crawl Scope Manager</span></span>

<span data-ttu-id="974c1-160">Os administradores do sistema podem definir escopos de rastreamento em suas organizações usando políticas de grupo.</span><span class="sxs-lookup"><span data-stu-id="974c1-160">System administrators can define crawl scopes across their organizations by using Group Policies.</span></span> <span data-ttu-id="974c1-161">Essas regras de diretiva de grupo também podem atuar como regras padrão, que os usuários podem substituir.</span><span class="sxs-lookup"><span data-stu-id="974c1-161">These group policy rules can also act as default rules, which users can override.</span></span> <span data-ttu-id="974c1-162">Por exemplo, você pode ter um conjunto de diretórios indexados para um grupo de usuários e um conjunto diferente para outro grupo de usuários, permitindo que os usuários desmarquem esses padrões.</span><span class="sxs-lookup"><span data-stu-id="974c1-162">For example, you can have one set of directories indexed for one group of users and a different set for another group of users, allowing the users to deselect these defaults.</span></span> <span data-ttu-id="974c1-163">As regras de política de grupo também podem atuar como regras de exclusão forçada que os usuários não podem substituir, impedindo que determinados usuários indexem determinados compartilhamentos de rede, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="974c1-163">Group policy rules can also act as forced exclusion rules that users cannot override, preventing certain users from indexing certain network shares, for example.</span></span>

## <a name="related-topics"></a><span data-ttu-id="974c1-164">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="974c1-164">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="974c1-165">Gerenciando raízes de pesquisa</span><span class="sxs-lookup"><span data-stu-id="974c1-165">Managing Search Roots</span></span>](-search-3x-wds-extidx-csm-searchroots.md)
</dt> <dt>

[<span data-ttu-id="974c1-166">Gerenciando regras de escopo</span><span class="sxs-lookup"><span data-stu-id="974c1-166">Managing Scope Rules</span></span>](-search-3x-wds-extidx-csm-scoperules.md)
</dt> <dt>

[<span data-ttu-id="974c1-167">O processo de indexação</span><span class="sxs-lookup"><span data-stu-id="974c1-167">The Indexing Process</span></span>](-search-indexing-process-overview.md)
</dt> </dl>

 

 
