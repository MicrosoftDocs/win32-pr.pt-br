---
description: As propriedades são extraídas de itens usando manipuladores de propriedade registrados ou usando filtros registrados para tipos de arquivo específicos. Um manipulador de filtro (uma implementação da interface IFilter) pode interpretar o conteúdo de um tipo de arquivo de várias maneiras.
ms.assetid: 6701d151-c36f-43e5-929b-9831c5ce5823
title: Retornando Propriedades de um manipulador de filtro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4df0bfc811176e9b0672dbcbe4ef4f04f3c3a6f2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105812397"
---
# <a name="returning-properties-from-a-filter-handler"></a><span data-ttu-id="77348-104">Retornando Propriedades de um manipulador de filtro</span><span class="sxs-lookup"><span data-stu-id="77348-104">Returning Properties from a Filter Handler</span></span>

<span data-ttu-id="77348-105">As propriedades são extraídas de itens usando manipuladores de propriedade registrados ou usando filtros registrados para tipos de arquivo específicos.</span><span class="sxs-lookup"><span data-stu-id="77348-105">Properties are extracted from items using registered property handlers, or using filters registered for specific file types.</span></span> <span data-ttu-id="77348-106">Um manipulador de filtro (uma implementação da interface [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) ) pode interpretar o conteúdo de um tipo de arquivo de várias maneiras.</span><span class="sxs-lookup"><span data-stu-id="77348-106">A filter handler (an implementation of the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface) can interpret the contents of a file type in any number of ways.</span></span>

<span data-ttu-id="77348-107">Este tópico é organizado da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="77348-107">This topic is organized as follows:</span></span>

- [<span data-ttu-id="77348-108">Filtragem de propriedades</span><span class="sxs-lookup"><span data-stu-id="77348-108">Property Filtering</span></span>](#returning-properties-from-a-filter-handler)
  - [<span data-ttu-id="77348-109">Limitações de tamanho de propriedade</span><span class="sxs-lookup"><span data-stu-id="77348-109">Property Size Limitations</span></span>](#property-size-limitations)
- [<span data-ttu-id="77348-110">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="77348-110">Additional Resources</span></span>](#additional-resources)
- [<span data-ttu-id="77348-111">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="77348-111">Related topics</span></span>](#related-topics)

## <a name="property-filtering"></a><span data-ttu-id="77348-112">Filtragem de propriedades</span><span class="sxs-lookup"><span data-stu-id="77348-112">Property Filtering</span></span>

<span data-ttu-id="77348-113">As práticas recomendadas para a filtragem de propriedades são listadas na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="77348-113">Best practices for property filtering are listed in the following table.</span></span>

| <span data-ttu-id="77348-114">Método</span><span class="sxs-lookup"><span data-stu-id="77348-114">Method</span></span>                                                | <span data-ttu-id="77348-115">Descrição</span><span class="sxs-lookup"><span data-stu-id="77348-115">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="77348-116">**IFilter:: init**</span><span class="sxs-lookup"><span data-stu-id="77348-116">**IFilter::Init**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-init)      | <span data-ttu-id="77348-117">Retorna a enumeração de [**\_ sinalizadores IFILTER**](/windows/win32/api/filter/ne-filter-ifilter_flags) .</span><span class="sxs-lookup"><span data-stu-id="77348-117">Returns the [**IFILTER\_FLAGS**](/windows/win32/api/filter/ne-filter-ifilter_flags) enumeration.</span></span> <span data-ttu-id="77348-118">Se o membro de *\_ \_ \_ Propriedades OLE de sinalizadores de IFILTER* dessa enumeração for definido como um, o Windows Search usará as interfaces de interfaces [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) e [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) para enumerar e acessar propriedades de tipo de valor externo.</span><span class="sxs-lookup"><span data-stu-id="77348-118">If the *IFILTER\_FLAGS\_OLE\_PROPERTIES* member of this enumeration is set to one, then Windows Search uses the [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) and [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) interfaces interfaces to enumerate and access external value-type properties.</span></span> |
| [<span data-ttu-id="77348-119">**IFilter:: GetChunk**</span><span class="sxs-lookup"><span data-stu-id="77348-119">**IFilter::GetChunk**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-getchunk) | <span data-ttu-id="77348-120">Retorna informações de um documento em "partes" com tipo de bloco (texto ou valor), nome e localidade.</span><span class="sxs-lookup"><span data-stu-id="77348-120">Returns information from a document in "chunks" with chunk type (text or value), name, and locale.</span></span> <span data-ttu-id="77348-121">Uma parte contém uma propriedade de documento.</span><span class="sxs-lookup"><span data-stu-id="77348-121">A chunk contains one document property.</span></span>                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="77348-122">**IFilter:: gettext**</span><span class="sxs-lookup"><span data-stu-id="77348-122">**IFilter::GetText**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-gettext)   | <span data-ttu-id="77348-123">Obtém uma propriedade de tipo de texto de uma parte.</span><span class="sxs-lookup"><span data-stu-id="77348-123">Gets a text-type property from a chunk.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="77348-124">**IFilter:: GetValue**</span><span class="sxs-lookup"><span data-stu-id="77348-124">**IFilter::GetValue**</span></span>](/windows/win32/api/filter/nf-filter-ifilter-getvalue) | <span data-ttu-id="77348-125">Obtém uma propriedade de tipo de valor de uma parte.</span><span class="sxs-lookup"><span data-stu-id="77348-125">Gets a value-type property from a chunk.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                        |

<span data-ttu-id="77348-126">A ilustração a seguir mostra um exemplo de documento.</span><span class="sxs-lookup"><span data-stu-id="77348-126">The following illustration shows an example document.</span></span> <span data-ttu-id="77348-127">A propriedade de tipo de valor externo `DocTitle` (obtida usando métodos das interfaces [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) e [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) ) e a propriedade de tipo de valor interno `Book` (obtida como resultado de uma implementação de [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) personalizada) descrevem o documento como um todo.</span><span class="sxs-lookup"><span data-stu-id="77348-127">The external value-type property `DocTitle` (obtained using methods of the [IPropertySetStorage](/windows/win32/api/propidl/nn-propidl-ipropertysetstorage) and [IPropertyStorage](/windows/win32/api/propidlbase/nn-propidlbase-ipropertystorage) interfaces) and the internal value-type property `Book` (obtained as a result of a custom [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) implementation) describe the document as a whole.</span></span> <span data-ttu-id="77348-128">As propriedades do tipo de texto `Contents` e `Chapter` descrevem o conteúdo do documento.</span><span class="sxs-lookup"><span data-stu-id="77348-128">The text-type properties `Contents` and `Chapter` describe the content of the document.</span></span> <span data-ttu-id="77348-129">Ao processar este documento, o manipulador de filtro (uma implementação da interface **IFilter** ) identifica e extrai essas propriedades.</span><span class="sxs-lookup"><span data-stu-id="77348-129">When processing this document, the filter handler (an implementation of the **IFilter** interface) identifies and extracts these properties.</span></span>

![diagrama mostrando os elementos de um documento típico](images/ifilterpropertyextraction.png)

### <a name="property-size-limitations"></a><span data-ttu-id="77348-131">Limitações de tamanho de propriedade</span><span class="sxs-lookup"><span data-stu-id="77348-131">Property Size Limitations</span></span>

<span data-ttu-id="77348-132">Há duas possíveis limitações no tamanho da propriedade:</span><span class="sxs-lookup"><span data-stu-id="77348-132">There are two potential limitations to property size:</span></span>

- <span data-ttu-id="77348-133">O tamanho máximo de dados que o Windows Search aceita por arquivo.</span><span class="sxs-lookup"><span data-stu-id="77348-133">The maximum size of data that Windows Search accepts per file.</span></span>
- <span data-ttu-id="77348-134">O tamanho máximo por propriedade, conforme definido no arquivo de descrição da propriedade.</span><span class="sxs-lookup"><span data-stu-id="77348-134">The maximum size per property as defined in the property description file.</span></span>

<span data-ttu-id="77348-135">Atualmente, o Windows Search não usa o tamanho de propriedade definido ao calcular a quantidade de dados que ele aceita de um item.</span><span class="sxs-lookup"><span data-stu-id="77348-135">Currently, Windows Search does not use the defined property size when calculating the amount of data it accepts from an item.</span></span> <span data-ttu-id="77348-136">Em vez disso, o limite que o Windows Search usa é o produto do tamanho do arquivo e o `MaxGrowFactor` (tamanho do arquivo N \* MaxGrowFactor) lido do registro.</span><span class="sxs-lookup"><span data-stu-id="77348-136">Instead, the limit Windows Search uses is the product of the size of the file and the `MaxGrowFactor` (file size N \* MaxGrowFactor) read from the registry.</span></span> <span data-ttu-id="77348-137">O padrão `MaxGrowFactor` é quatro.</span><span class="sxs-lookup"><span data-stu-id="77348-137">The default `MaxGrowFactor` is four.</span></span>

```
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Gathering Manager
            MaxGrowFactor
```

<span data-ttu-id="77348-138">Consequentemente, se o tipo de arquivo tende a ser pequeno no tamanho total, mas tiver Propriedades maiores, o Windows Search poderá não aceitar todos os dados de propriedade que você deseja emitir.</span><span class="sxs-lookup"><span data-stu-id="77348-138">Consequently, if your file type tends to be small in total size but have larger properties, Windows Search may not accept all the property data you want to emit.</span></span> <span data-ttu-id="77348-139">No entanto, você pode aumentar o `MaxGrowFactor` para atender às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="77348-139">However, you can increase the `MaxGrowFactor` to suit your needs.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="77348-140">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="77348-140">Additional Resources</span></span>

- <span data-ttu-id="77348-141">O exemplo de código [IFilterSample](-search-sample-ifiltersample.md) , disponível no [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), demonstra como criar uma classe base IFilter para implementar a interface [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) .</span><span class="sxs-lookup"><span data-stu-id="77348-141">The [IFilterSample](-search-sample-ifiltersample.md) code sample, available on [GitHub](https://github.com/Microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/WindowsSearch/IFilterSample), demonstrates how to create an IFilter base class for implementing the [**IFilter**](/windows/win32/api/filter/nn-filter-ifilter) interface.</span></span>
- <span data-ttu-id="77348-142">Para obter uma visão geral do processo de indexação, consulte [o processo de indexação](-search-indexing-process-overview.md).</span><span class="sxs-lookup"><span data-stu-id="77348-142">For an overview of the indexing process, see [The Indexing Process](-search-indexing-process-overview.md).</span></span>
- <span data-ttu-id="77348-143">Para obter uma visão geral dos tipos de arquivo, consulte [tipos de arquivo](../shell/fa-file-types.md).</span><span class="sxs-lookup"><span data-stu-id="77348-143">For an overview of file types, see [File Types](../shell/fa-file-types.md).</span></span>
- <span data-ttu-id="77348-144">Para consultar atributos de associação de arquivo para um tipo de arquivo, consulte [PerceivedTypes, SystemFileAssociations e registro de aplicativo](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="77348-144">To query file association attributes for a file type, see [PerceivedTypes, SystemFileAssociations, and Application Registration](/previous-versions/windows/desktop/legacy/cc144150(v=vs.85)).</span></span>
- <span data-ttu-id="77348-145">Para obter uma visão geral das propriedades e dos manipuladores de propriedade e uma lista de propriedades do sistema que você pode usar para os formatos de arquivo, consulte [desenvolvendo manipuladores de propriedade para o Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span><span class="sxs-lookup"><span data-stu-id="77348-145">For an overview of properties and property handlers, and a list of system properties that you can use for your file formats, see [Developing Property Handlers for Windows Search](-search-3x-wds-extidx-propertyhandlers.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="77348-146">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="77348-146">Related topics</span></span>

[<span data-ttu-id="77348-147">Desenvolvendo manipuladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77348-147">Developing Filter Handlers</span></span>](-search-ifilter-conceptual.md)

[<span data-ttu-id="77348-148">Sobre manipuladores de filtro no Windows Search</span><span class="sxs-lookup"><span data-stu-id="77348-148">About Filter Handlers in Windows Search</span></span>](-search-ifilter-about.md)

[<span data-ttu-id="77348-149">Práticas recomendadas para a criação de manipuladores de filtro no Windows Search</span><span class="sxs-lookup"><span data-stu-id="77348-149">Best Practices for Creating Filter Handlers in Windows Search</span></span>](-search-3x-wds-extidx-filters.md)

[<span data-ttu-id="77348-150">Manipuladores de filtro que acompanham o Windows</span><span class="sxs-lookup"><span data-stu-id="77348-150">Filter Handlers that Ship with Windows</span></span>](-search-ifilter-implementations.md)

[<span data-ttu-id="77348-151">Implementando manipuladores de filtro no Windows Search</span><span class="sxs-lookup"><span data-stu-id="77348-151">Implementing Filter Handlers in Windows Search</span></span>](-search-ifilter-constructing-filters.md)

[<span data-ttu-id="77348-152">Registrando manipuladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77348-152">Registering Filter Handlers</span></span>](-search-ifilter-registering-filters.md)

[<span data-ttu-id="77348-153">Testando manipuladores de filtro</span><span class="sxs-lookup"><span data-stu-id="77348-153">Testing Filter Handlers</span></span>](-search-ifilter-testing-filters.md)
