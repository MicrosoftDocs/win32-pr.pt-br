---
description: Usado para representar entradas de registro que controlam o cache de chave privada por CSPs baseados em software da Microsoft.
ms.assetid: 67909072-72fe-4777-ae52-a7b9047c9dd5
title: Constantes de cache de chave privada (Wincrypt. h)
ms.topic: reference
ms.date: 05/31/2018
ms.openlocfilehash: 6afa1394b33f4e36e31934e813b7c9fc41814e28
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103837383"
---
# <a name="private-key-caching-constants"></a><span data-ttu-id="50d78-103">Constantes de cache de chave privada</span><span class="sxs-lookup"><span data-stu-id="50d78-103">Private Key Caching Constants</span></span>

<span data-ttu-id="50d78-104">As constantes a seguir são usadas para representar entradas de registro que controlam o cache de [*chave privada*](../secgloss/p-gly.md) por CSPs baseados em software da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="50d78-104">The following constants are used to represent registry entries that control [*private key*](../secgloss/p-gly.md) caching by Microsoft software-based CSPs.</span></span>



| <span data-ttu-id="50d78-105">Constante/valor</span><span class="sxs-lookup"><span data-stu-id="50d78-105">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="50d78-106">Descrição</span><span class="sxs-lookup"><span data-stu-id="50d78-106">Description</span></span>                                                                                                |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------|
| <span id="szKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><span id="szkey_cryptoapi_private_key_options"></span><span id="SZKEY_CRYPTOAPI_PRIVATE_KEY_OPTIONS"></span><dl> <span data-ttu-id="50d78-107"><dt>**szKEY \_ \_Opções de \_ chave \_ privada CRYPTOAPI**</dt> <dt>"políticas de software \\ \\ \\ \\ criptografia da Microsoft \\ \\ "</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-107"><dt>**szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS**</dt> <dt>"Software\\\\Policies\\\\Microsoft\\\\Cryptography"</dt></span></span> </dl> | <span data-ttu-id="50d78-108">O caminho, na raiz **do \_ \_ computador local hKey** , das entradas do registro de cache de chave privada.</span><span class="sxs-lookup"><span data-stu-id="50d78-108">The path, under the **HKEY\_LOCAL\_MACHINE** root, of the private key caching registry entries.</span></span><br/> |



<span data-ttu-id="50d78-109">As constantes a seguir são usadas para identificar valores de registro que controlam o cache de chave privada globalmente para um processo específico por CSPs baseados em software da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="50d78-109">The following constants are used to identify registry values that control private key caching globally for a specific process by Microsoft software-based CSPs.</span></span>



| <span data-ttu-id="50d78-110">Constante/valor</span><span class="sxs-lookup"><span data-stu-id="50d78-110">Constant/value</span></span>                                                                                                                                                                                                                                                                                                                                                                                    | <span data-ttu-id="50d78-111">Descrição</span><span class="sxs-lookup"><span data-stu-id="50d78-111">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="szPRIV_KEY_CACHE_MAX_ITEMS"></span><span id="szpriv_key_cache_max_items"></span><span id="SZPRIV_KEY_CACHE_MAX_ITEMS"></span><dl> <span data-ttu-id="50d78-112"><dt>**szPRIV \_ \_Máximo de \_ \_ itens do cache de chaves**</dt> <dt>"PrivKeyCacheMaxItems"</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-112"><dt>**szPRIV\_KEY\_CACHE\_MAX\_ITEMS**</dt> <dt>"PrivKeyCacheMaxItems"</dt></span></span> </dl>                                                                  | <span data-ttu-id="50d78-113">Um valor **reg \_ DWORD** na chave de registro de **\_ \_ \_ \_ Opções de chave privada szKEY CRYPTOAPI** que especifica o número máximo de chaves privadas que podem ser armazenadas em cache ao mesmo tempo para um único processo.</span><span class="sxs-lookup"><span data-stu-id="50d78-113">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum number of private keys that can be cached at one time for a single process.</span></span> <span data-ttu-id="50d78-114">Essa verificação é executada sempre que uma chave privada armazenada é lida.</span><span class="sxs-lookup"><span data-stu-id="50d78-114">This check is performed whenever a stored private key is read.</span></span> <span data-ttu-id="50d78-115">Se o número máximo for excedido, a chave menos usada recentemente será removida do cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-115">If the maximum number is exceeded, the least recently used key is removed from the cache.</span></span><br/> <span data-ttu-id="50d78-116">Se esse valor for zero, nenhuma chave será armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-116">If this value is zero, no keys are cached.</span></span> <span data-ttu-id="50d78-117">Se esse valor não estiver presente, o **valor \_ \_ \_ padrão máximo de \_ itens \_ do cache de chave cPRIV** será usado como o padrão.</span><span class="sxs-lookup"><span data-stu-id="50d78-117">If this value is not present, the **cPRIV\_KEY\_CACHE\_MAX\_ITEMS\_DEFAULT** value is used as the default.</span></span><br/> <span data-ttu-id="50d78-118">Se uma chave privada que é excluída do cache for atualmente referenciada em um contexto aberto, a chave será lida do armazenamento na próxima vez que for feita uma tentativa de usar a chave.</span><span class="sxs-lookup"><span data-stu-id="50d78-118">If a private key that is deleted from the cache is currently referenced in an open context, then the key is read from storage the next time an attempt is made to use the key.</span></span><br/> <span data-ttu-id="50d78-119">**Windows Server 2003 e Windows XP com SP1 e anterior:** Não há suporte para esse valor de registro.</span><span class="sxs-lookup"><span data-stu-id="50d78-119">**Windows Server 2003 and Windows XP with SP1 and earlier:** This registry value is not supported.</span></span><br/>                                  |
| <span id="cPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><span id="cpriv_key_cache_max_items_default"></span><span id="CPRIV_KEY_CACHE_MAX_ITEMS_DEFAULT"></span><dl> <span data-ttu-id="50d78-120"><dt>**cPRIV \_ Máximo de itens do cache de chaves \_ \_ \_ \_ padrão**</dt> <dt>20</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-120"><dt>**cPRIV\_KEY\_CACHE\_MAX\_ITEMS\_DEFAULT**</dt> <dt>20</dt></span></span> </dl>                                                         | <span data-ttu-id="50d78-121">O valor padrão da entrada de registro **\_ máximo de \_ \_ \_ itens do cache de chave szPRIV** se nenhum valor for especificado.</span><span class="sxs-lookup"><span data-stu-id="50d78-121">The default value of the **szPRIV\_KEY\_CACHE\_MAX\_ITEMS** registry entry if no value is specified.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span id="szPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><span id="szpriv_key_cache_purge_interval_seconds"></span><span id="SZPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS"></span><dl> <span data-ttu-id="50d78-122"><dt>**szPRIV \_ \_Segundos do \_ \_ intervalo \_ de limpeza do cache de chave**</dt> <dt>"PrivKeyCachePurgeIntervalSeconds"</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-122"><dt>**szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS**</dt> <dt>"PrivKeyCachePurgeIntervalSeconds"</dt></span></span> </dl> | <span data-ttu-id="50d78-123">Um valor **reg \_ DWORD** na chave de registro de **\_ \_ \_ \_ Opções de chave privada szKEY CRYPTOAPI** que especifica a idade máxima, em segundos, de qualquer chave privada armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-123">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum age, in seconds, of any cached private key.</span></span> <span data-ttu-id="50d78-124">Essa verificação é executada sempre que uma chave privada armazenada é usada ou lida.</span><span class="sxs-lookup"><span data-stu-id="50d78-124">This check is performed whenever a stored private key is used or read.</span></span> <span data-ttu-id="50d78-125">Se esse período de tempo tiver decorrido desde a última limpeza, todas as chaves em cache que não foram referenciadas desde a última limpeza serão removidas do cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-125">If this amount of time has elapsed since the last clearing occurred, all cached keys that have not been referenced since the last clearing will be removed from the cache.</span></span><br/> <span data-ttu-id="50d78-126">Se esse valor não estiver presente, o **valor \_ \_ padrão de \_ \_ segundos do \_ \_ intervalo de limpeza do cache de chave cPRIV** será usado como o padrão.</span><span class="sxs-lookup"><span data-stu-id="50d78-126">If this value is not present, the **cPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS\_DEFAULT** value is used as the default.</span></span><br/> <span data-ttu-id="50d78-127">Se uma chave privada que é limpa do cache for atualmente referenciada em um contexto aberto, a chave será lida do armazenamento na próxima vez que for feita uma tentativa de usar a chave.</span><span class="sxs-lookup"><span data-stu-id="50d78-127">If a private key that is cleared from the cache is currently referenced in an open context, then the key will be read from storage the next time an attempt is made to use the key.</span></span><br/> <span data-ttu-id="50d78-128">**Windows Server 2003 e Windows XP com SP1 e anterior:** Não há suporte para esse valor de registro.</span><span class="sxs-lookup"><span data-stu-id="50d78-128">**Windows Server 2003 and Windows XP with SP1 and earlier:** This registry value is not supported.</span></span><br/> |
| <span id="cPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><span id="cpriv_key_cache_purge_interval_seconds_default"></span><span id="CPRIV_KEY_CACHE_PURGE_INTERVAL_SECONDS_DEFAULT"></span><dl> <span data-ttu-id="50d78-129"><dt>**cPRIV \_ Intervalo de limpeza de cache de chave- \_ \_ \_ \_ segundos \_ padrão**</dt> <dt>86400</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-129"><dt>**cPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS\_DEFAULT**</dt> <dt>86400</dt></span></span> </dl> | <span data-ttu-id="50d78-130">O valor padrão da entrada de registro de **segundos do intervalo de limpeza do \_ cache de chave \_ \_ \_ \_ szPRIV** se nenhum valor for especificado.</span><span class="sxs-lookup"><span data-stu-id="50d78-130">The default value of the **szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS** registry entry if no value is specified.</span></span> <span data-ttu-id="50d78-131">Esse valor é equivalente a um dia.</span><span class="sxs-lookup"><span data-stu-id="50d78-131">This value is equivalent to one day.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



<span data-ttu-id="50d78-132">As constantes a seguir são usadas para identificar valores de registro que controlam o cache de chave privada para uma única instância do CSP ( [*provedor de serviços de criptografia*](../secgloss/c-gly.md) ) baseada em software da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="50d78-132">The following constants are used to identify registry values that control private key caching for a single Microsoft software-based [*cryptographic service provider*](../secgloss/c-gly.md) (CSP) instance.</span></span>



| <span data-ttu-id="50d78-133">Constante/valor</span><span class="sxs-lookup"><span data-stu-id="50d78-133">Constant/value</span></span>                                                                                                                                                                                                                                                                                          | <span data-ttu-id="50d78-134">Descrição</span><span class="sxs-lookup"><span data-stu-id="50d78-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <dl> <span data-ttu-id="50d78-135"><dt></dt><dt>"AllowCachePW"</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-135"><dt></dt> <dt>"AllowCachePW"</dt></span></span> </dl>                                                                                                                                                         | <span data-ttu-id="50d78-136">Um valor **reg \_ DWORD** em **HKEY \_ local \_ Machine \\ software \\ Policies The \\ Microsoft \\ Cryptography \\ Protect** registry key, que especifica se o cache de senha está habilitado para chaves protegidas por senha nos CSPs baseados em software da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="50d78-136">A **REG\_DWORD** value under the **HKEY\_LOCAL\_MACHINE\\SOFTWARE\\Policies\\Microsoft\\Cryptography\\Protect** registry key that specifies whether password caching is enabled for password-protected keys in the Microsoft software-based CSPs.</span></span> <span data-ttu-id="50d78-137">Se esse valor for 0, o cache de senha será disabeld e o usuário será solicitado a fornecer a senha sempre que uma chave protegida por senha for usada.</span><span class="sxs-lookup"><span data-stu-id="50d78-137">If this value is 0, then password caching is disabeld and the user is prompted for the password every time a password-protected key is used.</span></span> <span data-ttu-id="50d78-138">Qualquer outro valor, ou a ausência desse valor, indica que a senha será armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-138">Any other value, or the absence of this value, indicates that the password will be cached.</span></span> <span data-ttu-id="50d78-139">Nesse cenário, o usuário é solicitado apenas uma vez por processo para cada chave.</span><span class="sxs-lookup"><span data-stu-id="50d78-139">In this scenario, the user is only prompted once per process for each such key.</span></span> <br/> |
| <span id="szKEY_CACHE_ENABLED"></span><span id="szkey_cache_enabled"></span><span id="SZKEY_CACHE_ENABLED"></span><dl> <span data-ttu-id="50d78-140"><dt>**szKEY \_ CACHE \_ habilitado**</dt> <dt>"CachePrivateKeys"</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-140"><dt>**szKEY\_CACHE\_ENABLED**</dt> <dt>"CachePrivateKeys"</dt></span></span> </dl>          | <span data-ttu-id="50d78-141">Um valor **reg \_ DWORD** na chave de registro de **\_ \_ \_ \_ Opções de chave privada szKEY CRYPTOAPI** que especifica se o cache de chave privada está habilitado.</span><span class="sxs-lookup"><span data-stu-id="50d78-141">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies whether private key caching is enabled.</span></span> <span data-ttu-id="50d78-142">Se esse valor for 1, o cache de chave privada será habilitado.</span><span class="sxs-lookup"><span data-stu-id="50d78-142">If this value is 1, then private key caching is enabled.</span></span> <span data-ttu-id="50d78-143">Qualquer outro valor, ou a ausência desse valor, indica que o cache de chave privada está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="50d78-143">Any other value, or the absence of this value, indicates that private key caching is disabled.</span></span><br/> <span data-ttu-id="50d78-144">**Windows Vista com SP1, Windows Vista e Windows XP:** Não há suporte para esse valor de registro.</span><span class="sxs-lookup"><span data-stu-id="50d78-144">**Windows Vista with SP1, Windows Vista and Windows XP:** This registry value is not supported.</span></span><br/>                                                                                                                                                        |
| <span id="szKEY_CACHE_SECONDS"></span><span id="szkey_cache_seconds"></span><span id="SZKEY_CACHE_SECONDS"></span><dl> <span data-ttu-id="50d78-145"><dt>**szKEY \_ \_Segundos de cache**</dt> <dt>"PrivateKeyLifetimeSeconds"</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-145"><dt>**szKEY\_CACHE\_SECONDS**</dt> <dt>"PrivateKeyLifetimeSeconds"</dt></span></span> </dl> | <span data-ttu-id="50d78-146">Um valor **reg \_ DWORD** na chave de registro de **\_ \_ \_ \_ Opções de chave privada szKEY CRYPTOAPI** que especifica a idade máxima, em segundos, de qualquer chave privada armazenada em cache.</span><span class="sxs-lookup"><span data-stu-id="50d78-146">A **REG\_DWORD** value under the **szKEY\_CRYPTOAPI\_PRIVATE\_KEY\_OPTIONS** registry key that specifies the maximum age, in seconds, of any cached private key.</span></span><br/> <span data-ttu-id="50d78-147">**Windows XP:** Não há suporte para esse valor de registro.</span><span class="sxs-lookup"><span data-stu-id="50d78-147">**Windows XP:** This registry value is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                                          |



## <a name="remarks"></a><span data-ttu-id="50d78-148">Comentários</span><span class="sxs-lookup"><span data-stu-id="50d78-148">Remarks</span></span>

<span data-ttu-id="50d78-149">As diferenças entre os **\_ \_ segundos de cache szKEY** e os valores de intervalo de **\_ limpeza de cache de chave \_ \_ \_ \_ szPRIV** são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="50d78-149">The differences between the **szKEY\_CACHE\_SECONDS** and the **szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS** values are as follows:</span></span>

 <span data-ttu-id="50d78-150">**\_segundos de cache szKEY \_**</span><span class="sxs-lookup"><span data-stu-id="50d78-150">**szKEY\_CACHE\_SECONDS**</span></span>  

-   <span data-ttu-id="50d78-151">Esse valor se aplica somente a um CSP específico.</span><span class="sxs-lookup"><span data-stu-id="50d78-151">This value only applies to a specific CSP.</span></span> <span data-ttu-id="50d78-152">Depois que o CSP é liberado, o cache do CSP é liberado também.</span><span class="sxs-lookup"><span data-stu-id="50d78-152">After the CSP is released, the CSP's cache is released as well.</span></span>  
-   <span data-ttu-id="50d78-153">Esse valor só é aplicado quando é feita uma tentativa de usar uma chave privada específica com um identificador de contexto específico.</span><span class="sxs-lookup"><span data-stu-id="50d78-153">This value is only applied when an attempt is made to use a specific private key with a specific context handle.</span></span>  

<span data-ttu-id="50d78-154">**\_segundos do \_ intervalo de limpeza do cache de chave szPRIV \_ \_ \_**</span><span class="sxs-lookup"><span data-stu-id="50d78-154">**szPRIV\_KEY\_CACHE\_PURGE\_INTERVAL\_SECONDS**</span></span>  

-   <span data-ttu-id="50d78-155">Esse valor se aplica a todos os CSPs em um processo.</span><span class="sxs-lookup"><span data-stu-id="50d78-155">This value applies to all CSPs in a process.</span></span> <span data-ttu-id="50d78-156">Mesmo que o CSP seja liberado, esse cache não será liberado.</span><span class="sxs-lookup"><span data-stu-id="50d78-156">Even if the CSP is released, this cache is not released.</span></span>  
-   <span data-ttu-id="50d78-157">Esse valor se aplica sempre que qualquer chave privada armazenada é usada ou lida do armazenamento em um único processo.</span><span class="sxs-lookup"><span data-stu-id="50d78-157">This value applies whenever any stored private key is used or read from storage in a single process.</span></span>  



## <a name="requirements"></a><span data-ttu-id="50d78-158">Requisitos</span><span class="sxs-lookup"><span data-stu-id="50d78-158">Requirements</span></span>



| <span data-ttu-id="50d78-159">Requisito</span><span class="sxs-lookup"><span data-stu-id="50d78-159">Requirement</span></span> | <span data-ttu-id="50d78-160">Valor</span><span class="sxs-lookup"><span data-stu-id="50d78-160">Value</span></span> |
|-------------------------------------|---------------------------------------------------------------------------------------|
| <span data-ttu-id="50d78-161">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="50d78-161">Minimum supported client</span></span><br/> | <span data-ttu-id="50d78-162">\[Somente aplicativos da área de trabalho do Windows XP\]</span><span class="sxs-lookup"><span data-stu-id="50d78-162">Windows XP \[desktop apps only\]</span></span><br/>                                           |
| <span data-ttu-id="50d78-163">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="50d78-163">Minimum supported server</span></span><br/> | <span data-ttu-id="50d78-164">\[Somente aplicativos da área de trabalho do Windows Server 2003\]</span><span class="sxs-lookup"><span data-stu-id="50d78-164">Windows Server 2003 \[desktop apps only\]</span></span><br/>                                  |
| <span data-ttu-id="50d78-165">parâmetro</span><span class="sxs-lookup"><span data-stu-id="50d78-165">Header</span></span><br/>                   | <dl> <span data-ttu-id="50d78-166"><dt>Wincrypt. h</dt></span><span class="sxs-lookup"><span data-stu-id="50d78-166"><dt>Wincrypt.h</dt></span></span> </dl> |



 

 
