---
title: SignTool
description: SignTool é uma ferramenta de linha de comando que assina arquivos digitalmente, verifica as assinaturas em arquivos e arquivos de carimbos de data/hora.
ms.assetid: aa59cb35-5fba-4ce8-97ea-fc767c83f88e
ms.topic: article
ms.date: 10/12/2020
ms.openlocfilehash: 884d4c132a2877a51cef7610dd32e8ef6b9c4bc3
ms.sourcegitcommit: 25e1fa2b3641ae13b79e0afdf9cb7a168d99e009
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/16/2020
ms.locfileid: "104366875"
---
# <a name="signtool"></a><span data-ttu-id="7434a-103">SignTool</span><span class="sxs-lookup"><span data-stu-id="7434a-103">SignTool</span></span>

<span data-ttu-id="7434a-104">SignTool é uma ferramenta de linha de comando que assina arquivos digitalmente, verifica as assinaturas em arquivos e arquivos de carimbos de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-104">SignTool is a command-line tool that digitally signs files, verifies the signatures in files, and timestamps files.</span></span> <span data-ttu-id="7434a-105">Para obter informações sobre por que a assinatura de arquivos é importante, consulte [introdução à assinatura de código](cryptography-tools.md).</span><span class="sxs-lookup"><span data-stu-id="7434a-105">For information about why signing files is important, see [Introduction to Code Signing](cryptography-tools.md).</span></span> <span data-ttu-id="7434a-106">A ferramenta é instalada na \\ pasta bin do caminho de instalação do SDK (Software Development Kit) do Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="7434a-106">The tool is installed in the \\Bin folder of the Microsoft Windows Software Development Kit (SDK) installation path.</span></span>

<span data-ttu-id="7434a-107">O SignTool está disponível como parte do SDK do Windows, do qual você pode baixar <https://developer.microsoft.com/windows/downloads/windows-10-sdk/> .</span><span class="sxs-lookup"><span data-stu-id="7434a-107">SignTool is available as part of the Windows SDK, which you can download from <https://developer.microsoft.com/windows/downloads/windows-10-sdk/>.</span></span>

> [!Note]  
> <span data-ttu-id="7434a-108">O Windows 10 SDK, Windows 10 HLK, Windows 10 WDK e Windows 10 ADK **builds 20236 e posteriores** agora exigirão a especificação do algoritmo Digest.</span><span class="sxs-lookup"><span data-stu-id="7434a-108">The Windows 10 SDK, Windows 10 HLK, Windows 10 WDK and Windows 10 ADK **builds 20236 and above** will now require specifying the digest algorithm.</span></span> <span data-ttu-id="7434a-109">O comando de sinal de SignTool requer que a `file digest algorithm` opção/FD e/TD `timestamp digest algorithm` seja especificada durante a assinatura e o carimbo de data/hora, respectivamente.</span><span class="sxs-lookup"><span data-stu-id="7434a-109">The SignTool sign command requires the /fd `file digest algorithm` and the /td `timestamp digest algorithm` option to be specified during signing and timestamping, respectively.</span></span> <span data-ttu-id="7434a-110">Um aviso (código de erro 0, inicialmente) será gerado se/FD não for especificado durante a assinatura e se/TD não for especificado durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-110">A warning (error code 0, initially) will be thrown if /fd is not specified during signing and if /td is not specified during timestamping.</span></span> <span data-ttu-id="7434a-111">Em versões posteriores de SignTool, o aviso se tornará um erro.</span><span class="sxs-lookup"><span data-stu-id="7434a-111">In later versions of SignTool, the warning will become an error.</span></span> <span data-ttu-id="7434a-112">SHA256 é recomendado e considerado mais seguro do que o SHA1 pelo setor.</span><span class="sxs-lookup"><span data-stu-id="7434a-112">SHA256 is recommended and considered to be more secure than SHA1 by the industry.</span></span>  


## <a name="syntax"></a><span data-ttu-id="7434a-113">Sintaxe</span><span class="sxs-lookup"><span data-stu-id="7434a-113">Syntax</span></span>  
  
```console  
signtool [command] [options] [file_name | ...]  
```  

## <a name="parameters"></a><span data-ttu-id="7434a-114">parâmetros</span><span class="sxs-lookup"><span data-stu-id="7434a-114">Parameters</span></span>  
  
|<span data-ttu-id="7434a-115">Argumento</span><span class="sxs-lookup"><span data-stu-id="7434a-115">Argument</span></span>|<span data-ttu-id="7434a-116">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-116">Description</span></span>|  
|----|----|  
|`command`|<span data-ttu-id="7434a-117">Um dos quatro comandos (`catdb`, `sign`, `Timestamp` ou `Verify`) que especifica uma operação a ser realizada em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-117">One of four commands (`catdb`, `sign`, `Timestamp`, or `Verify`) that specifies an operation to perform on a file.</span></span> <span data-ttu-id="7434a-118">Para obter uma descrição de cada comando, consulte a próxima tabela.</span><span class="sxs-lookup"><span data-stu-id="7434a-118">For a description of each command, see the next table.</span></span>|  
|`options`|<span data-ttu-id="7434a-119">Uma opção que modifica um comando.</span><span class="sxs-lookup"><span data-stu-id="7434a-119">An option that modifies a command.</span></span> <span data-ttu-id="7434a-120">Além das opções globais `/q` e `/v`, cada comando dá suporte a um conjunto exclusivo de opções.</span><span class="sxs-lookup"><span data-stu-id="7434a-120">In addition to the global `/q` and `/v` options, each command supports a unique set of options.</span></span>|  
|`file_name`|<span data-ttu-id="7434a-121">O caminho para um arquivo a ser assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-121">The path to a file to sign.</span></span>| 


<span data-ttu-id="7434a-122">Os comandos a seguir têm suporte de SignTool.</span><span class="sxs-lookup"><span data-stu-id="7434a-122">The following commands are supported by SignTool.</span></span>

|<span data-ttu-id="7434a-123">Comando</span><span class="sxs-lookup"><span data-stu-id="7434a-123">Command</span></span>|<span data-ttu-id="7434a-124">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-124">Description</span></span>|  
|----|----|  
|`Catdb`|<span data-ttu-id="7434a-125">Adiciona ou remove um arquivo de catálogo de um banco de dados do catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-125">Adds a catalog file to, or removes it from, a catalog database.</span></span> <span data-ttu-id="7434a-126">Os bancos de dados do catálogo são usados na pesquisa automática de arquivos de catálogo e são identificados por uma GUID.</span><span class="sxs-lookup"><span data-stu-id="7434a-126">Catalog databases are used for automatic lookup of catalog files and are identified by GUID.</span></span> <span data-ttu-id="7434a-127">Para obter uma lista de opções com suporte pelo comando `catdb`, consulte [Opções do Comando catdb](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span><span class="sxs-lookup"><span data-stu-id="7434a-127">For a list of the options supported by the `catdb` command, see [catdb Command Options](/dotnet/framework/tools/signtool-exe#catdb-command-options).</span></span>|  
|`Sign`|<span data-ttu-id="7434a-128">Assina arquivos digitalmente.</span><span class="sxs-lookup"><span data-stu-id="7434a-128">Digitally signs files.</span></span> <span data-ttu-id="7434a-129">As assinaturas digitais protegem os arquivos contra violação e permitem aos usuários verificar o signatário com base em um certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-129">Digital signatures protect files from tampering, and enable users to verify the signer based on a signing certificate.</span></span> <span data-ttu-id="7434a-130">Para obter uma lista de opções com suporte pelo comando `sign`, consulte [Opções do Comando sign](/dotnet/framework/tools/signtool-exe#sign-command-options).</span><span class="sxs-lookup"><span data-stu-id="7434a-130">For a list of the options supported by the `sign` command, see [sign Command Options](/dotnet/framework/tools/signtool-exe#sign-command-options).</span></span>|  
|`Timestamp`|<span data-ttu-id="7434a-131">Arquivos de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-131">Time-stamps files.</span></span> <span data-ttu-id="7434a-132">Para obter uma lista das opções com suporte pelo comando `TimeStamp`, consulte [Opções de Comando TimeStamp](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span><span class="sxs-lookup"><span data-stu-id="7434a-132">For a list of the options supported by the `TimeStamp` command, see [TimeStamp Command Options](/dotnet/framework/tools/signtool-exe#timestamp-command-options).</span></span>|  
|`Verify`|<span data-ttu-id="7434a-133">Verifica a assinatura digital dos arquivos determinando se o certificado de assinatura foi emitido por uma autoridade confiável, se o certificado de assinatura foi revogado e, como opção, se o certificado de assinatura é válido para uma política específica.</span><span class="sxs-lookup"><span data-stu-id="7434a-133">Verifies the digital signature of files by determining whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span> <span data-ttu-id="7434a-134">Para obter uma lista das opções com suporte pelo comando `Verify`, consulte [Opções do Comando Verify](/dotnet/framework/tools/signtool-exe#verify-command-options).</span><span class="sxs-lookup"><span data-stu-id="7434a-134">For a list of the options supported by the `Verify` command, see [Verify Command Options](/dotnet/framework/tools/signtool-exe#verify-command-options).</span></span>|

 <span data-ttu-id="7434a-135">As seguintes opções aplicam-se a todos os comandos da Ferramenta de Assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-135">The following options apply to all Sign Tool commands.</span></span>  
  
|<span data-ttu-id="7434a-136">Opção global</span><span class="sxs-lookup"><span data-stu-id="7434a-136">Global option</span></span>|<span data-ttu-id="7434a-137">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-137">Description</span></span>|  
|----|----|  
|<span data-ttu-id="7434a-138">**/q**</span><span class="sxs-lookup"><span data-stu-id="7434a-138">**/q**</span></span>|<span data-ttu-id="7434a-139">Não exibirá nenhuma saída se o comando for executado com êxito e exibirá saída mínima se o comando falhar.</span><span class="sxs-lookup"><span data-stu-id="7434a-139">Displays no output if the command runs successfully, and displays minimal output if the command fails.</span></span>|  
|<span data-ttu-id="7434a-140">**/v**</span><span class="sxs-lookup"><span data-stu-id="7434a-140">**/v**</span></span>|<span data-ttu-id="7434a-141">Exibe saída detalhada, independentemente de o comando ser executado com êxito ou falhar, além de exibir mensagens de aviso.</span><span class="sxs-lookup"><span data-stu-id="7434a-141">Displays verbose output regardless of whether the command runs successfully or fails, and displays warning messages.</span></span>|  
|<span data-ttu-id="7434a-142">**/debug**</span><span class="sxs-lookup"><span data-stu-id="7434a-142">**/debug**</span></span>|<span data-ttu-id="7434a-143">Exibe informações de depuração.</span><span class="sxs-lookup"><span data-stu-id="7434a-143">Displays debugging information.</span></span>|  

 
## <a name="catdb-command-options"></a><span data-ttu-id="7434a-144">Opções de comando CatDB</span><span class="sxs-lookup"><span data-stu-id="7434a-144">Catdb command options</span></span>  

 <span data-ttu-id="7434a-145">A tabela a seguir lista as opções que podem ser usadas com o comando `Catdb`.</span><span class="sxs-lookup"><span data-stu-id="7434a-145">The following table lists the options that can be used with the `Catdb` command.</span></span>

| <span data-ttu-id="7434a-146">Opção Catdb</span><span class="sxs-lookup"><span data-stu-id="7434a-146">Catdb option</span></span> | <span data-ttu-id="7434a-147">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-147">Description</span></span> |
|----|----| 
| <span data-ttu-id="7434a-148">**/d**</span><span class="sxs-lookup"><span data-stu-id="7434a-148">**/d**</span></span> | <span data-ttu-id="7434a-149">Especifica que o banco de dados de catálogo padrão seja atualizado.</span><span class="sxs-lookup"><span data-stu-id="7434a-149">Specifies that the default catalog database be updated.</span></span> <span data-ttu-id="7434a-150">Se nem a opção **/d** nem **/g** for usada, o SignTool atualizará o componente do sistema e o banco de dados do driver.</span><span class="sxs-lookup"><span data-stu-id="7434a-150">If neither the **/d** nor **/g** option is used, SignTool updates the system component and driver database.</span></span> |
| <span data-ttu-id="7434a-151"> *GUID* /g</span><span class="sxs-lookup"><span data-stu-id="7434a-151">**/g** *GUID*</span></span> | <span data-ttu-id="7434a-152">Especifica que o banco de dados do catálogo identificado pelo GUID seja atualizado.</span><span class="sxs-lookup"><span data-stu-id="7434a-152">Specifies that the catalog database identified by the GUID be updated.</span></span>|
| <span data-ttu-id="7434a-153">**/r**</span><span class="sxs-lookup"><span data-stu-id="7434a-153">**/r**</span></span> | <span data-ttu-id="7434a-154">Remove o catálogo especificado do banco de dados de catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-154">Removes the specified catalog from the catalog database.</span></span> <span data-ttu-id="7434a-155">Se essa opção não for especificada, SignTool adicionará o catálogo especificado ao banco de dados de catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-155">If this option is not specified, SignTool will add the specified catalog to the catalog database.</span></span>|
| <span data-ttu-id="7434a-156">**/u**</span><span class="sxs-lookup"><span data-stu-id="7434a-156">**/u**</span></span> | <span data-ttu-id="7434a-157">Especifica que um nome exclusivo será gerado automaticamente para os arquivos de catálogo adicionados.</span><span class="sxs-lookup"><span data-stu-id="7434a-157">Specifies that a unique name be automatically generated for the added catalog files.</span></span> <span data-ttu-id="7434a-158">Se necessário, os arquivos do catálogo são renomeados para evitar conflitos de nome com os arquivos de catálogo existentes.</span><span class="sxs-lookup"><span data-stu-id="7434a-158">If necessary, the catalog files are renamed to prevent name conflicts with existing catalog files.</span></span> <span data-ttu-id="7434a-159">Se essa opção não for especificada, o SignTool substituirá qualquer catálogo existente que tenha o mesmo nome que o catálogo que está sendo adicionado.</span><span class="sxs-lookup"><span data-stu-id="7434a-159">If this option is not specified, SignTool overwrites any existing catalog that has the same name as the catalog being added.</span></span>|

> [!Note]  
> <span data-ttu-id="7434a-160">Os bancos de dados de catálogo são usados para pesquisa automática de arquivos de catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-160">Catalog databases are used for automatic lookup of catalog files.</span></span>


## <a name="sign-command-options"></a><span data-ttu-id="7434a-161">Opções do comando de entrada</span><span class="sxs-lookup"><span data-stu-id="7434a-161">Sign command options</span></span>  

 <span data-ttu-id="7434a-162">A tabela a seguir lista as opções que podem ser usadas com o comando `sign`.</span><span class="sxs-lookup"><span data-stu-id="7434a-162">The following table lists the options that can be used with the `sign` command.</span></span>  
  
|<span data-ttu-id="7434a-163">Opções do comando de entrada</span><span class="sxs-lookup"><span data-stu-id="7434a-163">Sign command option</span></span>|<span data-ttu-id="7434a-164">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-164">Description</span></span>|  
|----|----| 
|`/a`|<span data-ttu-id="7434a-165">Seleciona automaticamente o melhor certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-165">Automatically selects the best signing certificate.</span></span> <span data-ttu-id="7434a-166">A Ferramenta de Assinatura encontrará todos os certificados válidos que atendem às condições especificadas e selecionará aquele válido durante um tempo mais longo.</span><span class="sxs-lookup"><span data-stu-id="7434a-166">Sign Tool will find all valid certificates that satisfy all specified conditions and select the one that is valid for the longest time.</span></span> <span data-ttu-id="7434a-167">Se essa opção não estiver presente, a Ferramenta de Assinatura deverá localizar apenas um certificado de assinatura válido.</span><span class="sxs-lookup"><span data-stu-id="7434a-167">If this option is not present, Sign Tool expects to find only one valid signing certificate.</span></span>|  
|<span data-ttu-id="7434a-168">`/ac`  *Grupo*</span><span class="sxs-lookup"><span data-stu-id="7434a-168">`/ac`  *file*</span></span>|<span data-ttu-id="7434a-169">Adiciona um certificado adicional de *file* ao bloco de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-169">Adds an additional certificate from *file* to the signature block.</span></span>|  
|`/as`|<span data-ttu-id="7434a-170">Acrescenta esta assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-170">Appends this signature.</span></span> <span data-ttu-id="7434a-171">Se nenhuma assinatura primária estiver presente, essa assinatura será definida como a assinatura principal.</span><span class="sxs-lookup"><span data-stu-id="7434a-171">If no primary signature is present, this signature is made the primary signature instead.</span></span>|  
|<span data-ttu-id="7434a-172">`/c`  *CertTemplateName*</span><span class="sxs-lookup"><span data-stu-id="7434a-172">`/c`  *CertTemplateName*</span></span>|<span data-ttu-id="7434a-173">Especifica o Nome do Modelo de Certificado (uma extensão da Microsoft) para o certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-173">Specifies the Certificate Template Name (a Microsoft extension) for the signing certificate.</span></span>|  
|<span data-ttu-id="7434a-174">`/csp`  *CSPName*</span><span class="sxs-lookup"><span data-stu-id="7434a-174">`/csp`  *CSPName*</span></span>|<span data-ttu-id="7434a-175">Especifica o provedor de serviços de criptografia (CSP) que contém o contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="7434a-175">Specifies the cryptographic service provider (CSP) that contains the private key container.</span></span>|  
|<span data-ttu-id="7434a-176">`/d`  *Crescente*</span><span class="sxs-lookup"><span data-stu-id="7434a-176">`/d`  *Desc*</span></span>|<span data-ttu-id="7434a-177">Especifica uma descrição do conteúdo assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-177">Specifies a description of the signed content.</span></span>|  
|<span data-ttu-id="7434a-178">`/dg`  *Caminho*</span><span class="sxs-lookup"><span data-stu-id="7434a-178">`/dg`  *Path*</span></span>|<span data-ttu-id="7434a-179">Gera o resumo a ser assinado e os arquivos PKCS7 não assinados.</span><span class="sxs-lookup"><span data-stu-id="7434a-179">Generates the digest to be signed and the unsigned PKCS7 files.</span></span> <span data-ttu-id="7434a-180">Os arquivos Digest e PKCS7 de saída serão: *Path\FileName.Dig* e *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="7434a-180">The output digest and PKCS7 files will be: *Path\FileName.dig* and *Path\FileName.p7u*.</span></span> <span data-ttu-id="7434a-181">Para gerar um arquivo XML adicional, consulte <strong>/DXML</strong>.</span><span class="sxs-lookup"><span data-stu-id="7434a-181">To output an additional XML file, see <strong>/dxml</strong>.</span></span>|  
|<span data-ttu-id="7434a-182">`/di`  *Caminho*</span><span class="sxs-lookup"><span data-stu-id="7434a-182">`/di`  *Path*</span></span>|<span data-ttu-id="7434a-183">Cria a assinatura ingerindo o resumo assinado para o arquivo PKCS7 não assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-183">Creates the signature by ingesting the signed digest to the unsigned PKCS7 file.</span></span> <span data-ttu-id="7434a-184">O resumo assinado de entrada e os arquivos PKCS7 não assinados devem ser: *Path\FileName.dig.Signed* e *Path\FileName.p7u*.</span><span class="sxs-lookup"><span data-stu-id="7434a-184">The input signed digest and unsigned PKCS7 files should be: *Path\FileName.dig.signed* and *Path\FileName.p7u*.</span></span>|  
|<span data-ttu-id="7434a-185">`/dlib`  *DLL*</span><span class="sxs-lookup"><span data-stu-id="7434a-185">`/dlib`  *DLL*</span></span>|<span data-ttu-id="7434a-186">Especifica a DLL que implementa a <code>AuthenticodeDigestSign</code> função com a qual assinar o resumo.</span><span class="sxs-lookup"><span data-stu-id="7434a-186">Specifies the DLL implementing the <code>AuthenticodeDigestSign</code> function to sign the digest with.</span></span> <span data-ttu-id="7434a-187">Essa opção é equivalente a usar <strong>SignTool</strong> separadamente com os comutadores <strong>/DG</strong>, <strong>/DS</strong>e <strong>/di</strong> , exceto que essa opção invoca todas as três como uma operação atômica.</span><span class="sxs-lookup"><span data-stu-id="7434a-187">This option is equivalent to using <strong>SignTool</strong> separately with the <strong>/dg</strong>, <strong>/ds</strong>, and <strong>/di</strong> switches, except this option invokes all three as one atomic operation.</span></span>|  
|<span data-ttu-id="7434a-188">`/dmdf`  *Nome do arquivo*</span><span class="sxs-lookup"><span data-stu-id="7434a-188">`/dmdf`  *Filename*</span></span>|<span data-ttu-id="7434a-189">Quando usado com a opção <strong>/DG</strong> , passa o conteúdo do arquivo para a <code>AuthenticodeDigestSign</code> função sem modificação.</span><span class="sxs-lookup"><span data-stu-id="7434a-189">When used with the <strong>/dg</strong> option, passes the file’s contents to the <code>AuthenticodeDigestSign</code> function without modification.</span></span>|  
|`/ds`  |<span data-ttu-id="7434a-190">Assina apenas o resumo.</span><span class="sxs-lookup"><span data-stu-id="7434a-190">Signs the digest only.</span></span> <span data-ttu-id="7434a-191">O arquivo de entrada deve ser o resumo gerado pela opção <strong>/DG</strong> .</span><span class="sxs-lookup"><span data-stu-id="7434a-191">The input file should be the digest generated by the <strong>/dg</strong> option.</span></span> <span data-ttu-id="7434a-192">O arquivo de saída será: *File. Signed*.</span><span class="sxs-lookup"><span data-stu-id="7434a-192">The output file will be: *File.signed*.</span></span>|  
|<span data-ttu-id="7434a-193">`/du`  *URL*</span><span class="sxs-lookup"><span data-stu-id="7434a-193">`/du`  *URL*</span></span>|<span data-ttu-id="7434a-194">Especifica uma URL (Uniform Resource Locator) para obter a descrição expandida do conteúdo assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-194">Specifies a Uniform Resource Locator (URL) for the expanded description of the signed content.</span></span>|  
|`/dxml`  |<span data-ttu-id="7434a-195">Quando usado com a opção <strong>/DG</strong> , o produz um arquivo XML.</span><span class="sxs-lookup"><span data-stu-id="7434a-195">When used with the <strong>/dg</strong> option, produces an XML file.</span></span> <span data-ttu-id="7434a-196">O arquivo de saída será: *Path\FileName.dig.xml*.</span><span class="sxs-lookup"><span data-stu-id="7434a-196">The output file will be: *Path\FileName.dig.xml*.</span></span>|  
|<span data-ttu-id="7434a-197">`/f`  *SignCertFile*</span><span class="sxs-lookup"><span data-stu-id="7434a-197">`/f`  *SignCertFile*</span></span>|<span data-ttu-id="7434a-198">Especifica o certificado de assinatura em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-198">Specifies the signing certificate in a file.</span></span> <span data-ttu-id="7434a-199">Se o arquivo estiver no formato PFX (Personal Information Exchange) e protegido por senha, use a opção `/p` para especificar a senha.</span><span class="sxs-lookup"><span data-stu-id="7434a-199">If the file is in Personal Information Exchange (PFX) format and protected by a password, use the `/p` option to specify the password.</span></span> <span data-ttu-id="7434a-200">Se o arquivo não contiver chaves privadas, use as opções `/csp` e `/kc` para especificar o CSP e o nome do contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="7434a-200">If the file does not contain private keys, use the `/csp` and `/kc` options to specify the CSP and private key container name.</span></span>|  
|<span data-ttu-id="7434a-201">`/fd`*alg*</span><span class="sxs-lookup"><span data-stu-id="7434a-201">`/fd` *alg*</span></span>|<span data-ttu-id="7434a-202">Especifica o algoritmo de resumo do arquivo a ser usado na criação de assinaturas de arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-202">Specifies the file digest algorithm to use for creating file signatures.</span></span> </br> <span data-ttu-id="7434a-203">**Observação:** Um aviso será gerado se A opção <strong>/FD</strong> não for fornecida durante a assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-203">**Note:** A warning is generated if <strong>/fd</strong> switch is not provided while signing.</span></span> <span data-ttu-id="7434a-204">O alg padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="7434a-204">The default alg is SHA1 but SHA256 is recommended.</span></span>|
|<span data-ttu-id="7434a-205">`/fd`  *certHash*</span><span class="sxs-lookup"><span data-stu-id="7434a-205">`/fd`  *certHash*</span></span>|<span data-ttu-id="7434a-206">A especificação da cadeia de caracteres certHash usará como padrão o algoritmo usado no certificado de autenticação.</span><span class="sxs-lookup"><span data-stu-id="7434a-206">Specifying the string certHash will default to the algorithm used on the signing certificate.</span></span> </br> <span data-ttu-id="7434a-207">**Observação:** Somente disponível no Windows 10 kit compilações 20236 e posteriores.</span><span class="sxs-lookup"><span data-stu-id="7434a-207">**Note:** Only available in Windows 10 kit builds 20236 and greater.</span></span>|  
|<span data-ttu-id="7434a-208">`/i`  *IssuerName*</span><span class="sxs-lookup"><span data-stu-id="7434a-208">`/i`  *IssuerName*</span></span>|<span data-ttu-id="7434a-209">Especifica o nome do emissor de certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-209">Specifies the name of the issuer of the signing certificate.</span></span> <span data-ttu-id="7434a-210">Esse valor pode ser uma subcadeia de caracteres do nome do emissor inteiro.</span><span class="sxs-lookup"><span data-stu-id="7434a-210">This value can be a substring of the entire issuer name.</span></span>|  
|<span data-ttu-id="7434a-211">`/kc`  *PrivKeyContainerName*</span><span class="sxs-lookup"><span data-stu-id="7434a-211">`/kc`  *PrivKeyContainerName*</span></span>|<span data-ttu-id="7434a-212">Especifica o nome do contêiner de chave privada.</span><span class="sxs-lookup"><span data-stu-id="7434a-212">Specifies the private key container name.</span></span>|  
|<span data-ttu-id="7434a-213">`/n`  *SubjectName*</span><span class="sxs-lookup"><span data-stu-id="7434a-213">`/n`  *SubjectName*</span></span>|<span data-ttu-id="7434a-214">Especifica o nome do assunto do certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-214">Specifies the name of the subject of the signing certificate.</span></span> <span data-ttu-id="7434a-215">Esse valor pode ser uma subcadeia de caracteres do nome da entidade inteiro.</span><span class="sxs-lookup"><span data-stu-id="7434a-215">This value can be a substring of the entire subject name.</span></span>|  
|`/nph`|<span data-ttu-id="7434a-216">Se compatível, suprime hashes de página para arquivos executáveis.</span><span class="sxs-lookup"><span data-stu-id="7434a-216">If supported, suppresses page hashes for executable files.</span></span> <span data-ttu-id="7434a-217">O padrão é determinado pela variável de ambiente SIGNTOOL_PAGE_HASHES e pela versão de wintrust.dll.</span><span class="sxs-lookup"><span data-stu-id="7434a-217">The default is determined by the SIGNTOOL_PAGE_HASHES environment variable and by the wintrust.dll version.</span></span> <span data-ttu-id="7434a-218">Essa opção é ignorada para arquivos não PE.</span><span class="sxs-lookup"><span data-stu-id="7434a-218">This option is ignored for non-PE files.</span></span>|  
|<span data-ttu-id="7434a-219">`/p`  *Senha*</span><span class="sxs-lookup"><span data-stu-id="7434a-219">`/p`  *Password*</span></span>|<span data-ttu-id="7434a-220">Especifica a senha a ser usada durante a abertura de um arquivo PFX.</span><span class="sxs-lookup"><span data-stu-id="7434a-220">Specifies the password to use when opening a PFX file.</span></span> <span data-ttu-id="7434a-221">(Use a opção `/f` para especificar um arquivo PFX).</span><span class="sxs-lookup"><span data-stu-id="7434a-221">(Use the `/f` option to specify a PFX file.)</span></span>|  
|<span data-ttu-id="7434a-222">`/p7` *Caminho*</span><span class="sxs-lookup"><span data-stu-id="7434a-222">`/p7` *Path*</span></span>|<span data-ttu-id="7434a-223">Especifica se um arquivo PKCS (Public Key Cryptography Standards) #7 é produzido para cada arquivo de conteúdo especificado.</span><span class="sxs-lookup"><span data-stu-id="7434a-223">Specifies that a Public Key Cryptography Standards (PKCS) #7 file is produced for each specified content file.</span></span> <span data-ttu-id="7434a-224">Arquivos de #7 PKCS são nomeados *path* \\ *filename*. P7.</span><span class="sxs-lookup"><span data-stu-id="7434a-224">PKCS #7 files are named *path*\\*filename*.p7.</span></span>|  
|<span data-ttu-id="7434a-225">`/p7ce` *Valor*</span><span class="sxs-lookup"><span data-stu-id="7434a-225">`/p7ce` *Value*</span></span>|<span data-ttu-id="7434a-226">Especifica opções para o conteúdo de PKCS #7 assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-226">Specifies options for the signed PKCS #7 content.</span></span> <span data-ttu-id="7434a-227">Defina *Value* como “Embedded” para inserir o conteúdo assinado no arquivo PKCS #7 ou como “DetachedSignedData” para produzir a parte de dados assinada de um arquivo PKCS #7 desanexado.</span><span class="sxs-lookup"><span data-stu-id="7434a-227">Set *Value* to "Embedded" to embed the signed content in the PKCS #7 file, or to "DetachedSignedData" to produce the signed data portion of a detached PKCS #7 file.</span></span> <span data-ttu-id="7434a-228">Se a opção `/p7ce` não for usada, o conteúdo assinado será inserido por padrão.</span><span class="sxs-lookup"><span data-stu-id="7434a-228">If the `/p7ce` option is not used, the signed content is embedded by default.</span></span>|  
|<span data-ttu-id="7434a-229">`/p7co` *\<OID>*</span><span class="sxs-lookup"><span data-stu-id="7434a-229">`/p7co` *\<OID>*</span></span>|<span data-ttu-id="7434a-230">Especifica o OID (identificador de objeto) que identifica o conteúdo assinado de PKCS #7.</span><span class="sxs-lookup"><span data-stu-id="7434a-230">Specifies the object identifier (OID) that identifies the signed PKCS #7 content.</span></span>|  
|`/ph`|<span data-ttu-id="7434a-231">Se compatível, gera hashes de página para arquivos executáveis.</span><span class="sxs-lookup"><span data-stu-id="7434a-231">If supported, generates page hashes for executable files.</span></span>|  
|<span data-ttu-id="7434a-232">`/r`  *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="7434a-232">`/r`  *RootSubjectName*</span></span>|<span data-ttu-id="7434a-233">Especifica o nome do assunto do certificado raiz em que o certificado de assinatura deve ser encadeado.</span><span class="sxs-lookup"><span data-stu-id="7434a-233">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="7434a-234">Esse valor pode ser uma subcadeia de caracteres do nome de entidade inteiro do certificado raiz.</span><span class="sxs-lookup"><span data-stu-id="7434a-234">This value may be a substring of the entire subject name of the root certificate.</span></span>|  
|<span data-ttu-id="7434a-235">`/s`  *StoreName*</span><span class="sxs-lookup"><span data-stu-id="7434a-235">`/s`  *StoreName*</span></span>|<span data-ttu-id="7434a-236">Especifica o armazenamento a ser aberto durante a pesquisa pelo certificado.</span><span class="sxs-lookup"><span data-stu-id="7434a-236">Specifies the store to open when searching for the certificate.</span></span> <span data-ttu-id="7434a-237">Se essa opção não for especificada, o armazenamento `My` será aberto.</span><span class="sxs-lookup"><span data-stu-id="7434a-237">If this option is not specified, the `My` store is opened.</span></span>|  
|<span data-ttu-id="7434a-238">`/sha1`  *Tralha*</span><span class="sxs-lookup"><span data-stu-id="7434a-238">`/sha1`  *Hash*</span></span>|<span data-ttu-id="7434a-239">Especifica o hash SHA1 do certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-239">Specifies the SHA1 hash of the signing certificate.</span></span> <span data-ttu-id="7434a-240">O hash SHA1 costuma ser especificado quando vários certificados atendem aos critérios especificados pelas opções restantes.</span><span class="sxs-lookup"><span data-stu-id="7434a-240">The SHA1 hash is commonly specified when multiple certificates satisfy the criteria specified by the remaining switches.</span></span>|  
|`/sm`|<span data-ttu-id="7434a-241">Especifica se um armazenamento do computador, em vez de um armazenamento de usuário, é usado.</span><span class="sxs-lookup"><span data-stu-id="7434a-241">Specifies that a machine store, instead of a user store, is used.</span></span>|  
|<span data-ttu-id="7434a-242">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="7434a-242">`/t`  *URL*</span></span>|<span data-ttu-id="7434a-243">Especifica a URL do servidor de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-243">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="7434a-244">Se essa opção (ou `/tr`) não estiver presente, o arquivo assinado não receberá carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-244">If this option (or `/tr`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="7434a-245">Um aviso será gerado se o carimbo de data/hora falhar.</span><span class="sxs-lookup"><span data-stu-id="7434a-245">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="7434a-246">Essa opção não pode ser usada com a opção `/tr`.</span><span class="sxs-lookup"><span data-stu-id="7434a-246">This option cannot be used with the `/tr` option.</span></span>|  
|<span data-ttu-id="7434a-247">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="7434a-247">`/td`  *alg*</span></span>|<span data-ttu-id="7434a-248">Usado com a opção `/tr` para solicitar um algoritmo de resumo usado pelo servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="7434a-248">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="7434a-249">**Observação:** Um aviso será gerado se A opção <strong>/td</strong> não for fornecida durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-249">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="7434a-250">O alg padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="7434a-250">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="7434a-251">A opção <strong>/td</strong> deve ser declarada após a opção <strong>/TR</strong> , não antes de.</span><span class="sxs-lookup"><span data-stu-id="7434a-251">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="7434a-252">Se a opção <strong>/td</strong> for declarada antes da opção <strong>/TR</strong> , o carimbo de data/hora retornado será de um algoritmo SHA1 em vez do algoritmo SHA256 pretendido.</span><span class="sxs-lookup"><span data-stu-id="7434a-252">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="7434a-253">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="7434a-253">`/tr`  *URL*</span></span>|<span data-ttu-id="7434a-254">Especifica a URL do servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="7434a-254">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="7434a-255">Se essa opção (ou `/t`) não estiver presente, o arquivo assinado não receberá carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-255">If this option (or `/t`) is not present, the signed file will not be time stamped.</span></span> <span data-ttu-id="7434a-256">Um aviso será gerado se o carimbo de data/hora falhar.</span><span class="sxs-lookup"><span data-stu-id="7434a-256">A warning is generated if time stamping fails.</span></span> <span data-ttu-id="7434a-257">Essa opção não pode ser usada com a opção `/t`.</span><span class="sxs-lookup"><span data-stu-id="7434a-257">This option cannot be used with the `/t` option.</span></span>|  
|<span data-ttu-id="7434a-258">`/u`  *Uso*</span><span class="sxs-lookup"><span data-stu-id="7434a-258">`/u`  *Usage*</span></span>|<span data-ttu-id="7434a-259">Especifica o EKU (uso avançado de chave) que deve estar presente no certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-259">Specifies the enhanced key usage (EKU) that must be present in the signing certificate.</span></span> <span data-ttu-id="7434a-260">O valor de uso pode ser especificado por OID ou por cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="7434a-260">The usage value can be specified by OID or string.</span></span> <span data-ttu-id="7434a-261">O uso padrão é "Assinatura de Código" (1.3.6.1.5.5.7.3.3).</span><span class="sxs-lookup"><span data-stu-id="7434a-261">The default usage is "Code Signing" (1.3.6.1.5.5.7.3.3).</span></span>|  
|`/uw`|<span data-ttu-id="7434a-262">Especifica o uso da "Verificação do Componente do Sistema Windows" (1.3.6.1.4.1.311.10.3.6).</span><span class="sxs-lookup"><span data-stu-id="7434a-262">Specifies usage of "Windows System Component Verification" (1.3.6.1.4.1.311.10.3.6).</span></span>|  
  
 <span data-ttu-id="7434a-263">Para obter exemplos de uso, consulte [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md) (Usando a SignTool para assinar um arquivo).</span><span class="sxs-lookup"><span data-stu-id="7434a-263">For usage examples, see [Using SignTool to Sign a File](using-signtool-to-sign-a-file.md).</span></span>  
  

## <a name="timestamp-command-options"></a><span data-ttu-id="7434a-264">Opções de comando TimeStamp</span><span class="sxs-lookup"><span data-stu-id="7434a-264">TimeStamp command options</span></span>  

 <span data-ttu-id="7434a-265">A tabela a seguir lista as opções que podem ser usadas com o comando `TimeStamp`.</span><span class="sxs-lookup"><span data-stu-id="7434a-265">The following table lists the options that can be used with the `TimeStamp` command.</span></span>  
  
|<span data-ttu-id="7434a-266">Opção do carimbo de data/hora</span><span class="sxs-lookup"><span data-stu-id="7434a-266">TimeStamp option</span></span>|<span data-ttu-id="7434a-267">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-267">Description</span></span>|  
|----|----|  
|`/p7`|<span data-ttu-id="7434a-268">Arquivos PKCS #7 do carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-268">Time stamps PKCS #7 files.</span></span>|  
|<span data-ttu-id="7434a-269">`/t`  *URL*</span><span class="sxs-lookup"><span data-stu-id="7434a-269">`/t`  *URL*</span></span>|<span data-ttu-id="7434a-270">Especifica a URL do servidor de carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-270">Specifies the URL of the time stamp server.</span></span> <span data-ttu-id="7434a-271">O arquivo com carimbo de data/hora assinado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7434a-271">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="7434a-272">A opção `/t` ou `/tr` é obrigatória.</span><span class="sxs-lookup"><span data-stu-id="7434a-272">Either the `/t` or the `/tr` option is required.</span></span>|  
|<span data-ttu-id="7434a-273">`/td`  *ALG*</span><span class="sxs-lookup"><span data-stu-id="7434a-273">`/td`  *alg*</span></span>|<span data-ttu-id="7434a-274">Usado com a opção `/tr` para solicitar um algoritmo de resumo usado pelo servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="7434a-274">Used with the `/tr` option to request a digest algorithm used by the RFC 3161 time stamp server.</span></span> </br> <span data-ttu-id="7434a-275">**Observação:** Um aviso será gerado se A opção <strong>/td</strong> não for fornecida durante o carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-275">**Note:** A warning is generated if <strong>/td</strong> switch is not provided while timestamping.</span></span> <span data-ttu-id="7434a-276">O alg padrão é SHA1, mas SHA256 é recomendado.</span><span class="sxs-lookup"><span data-stu-id="7434a-276">The default alg is SHA1 but SHA256 is recommended.</span></span> <br/> <span data-ttu-id="7434a-277">A opção <strong>/td</strong> deve ser declarada após a opção <strong>/TR</strong> , não antes de.</span><span class="sxs-lookup"><span data-stu-id="7434a-277">The <strong>/td</strong> switch must be declared after the <strong>/tr</strong> switch, not before.</span></span> <span data-ttu-id="7434a-278">Se a opção <strong>/td</strong> for declarada antes da opção <strong>/TR</strong> , o carimbo de data/hora retornado será de um algoritmo SHA1 em vez do algoritmo SHA256 pretendido.</span><span class="sxs-lookup"><span data-stu-id="7434a-278">If the <strong>/td</strong> switch is declared before the <strong>/tr</strong> switch, the timestamp that is returned is from an SHA1 algorithm instead of the intended SHA256 algorithm.</span></span> |
|<span data-ttu-id="7434a-279">`/tp`*índice* do</span><span class="sxs-lookup"><span data-stu-id="7434a-279">`/tp` *index*</span></span>|<span data-ttu-id="7434a-280">Marca com o carimbo de data/hora a assinatura em *index*.</span><span class="sxs-lookup"><span data-stu-id="7434a-280">Time stamps the signature at *index*.</span></span>|  
|<span data-ttu-id="7434a-281">`/tr`  *URL*</span><span class="sxs-lookup"><span data-stu-id="7434a-281">`/tr`  *URL*</span></span>|<span data-ttu-id="7434a-282">Especifica a URL do servidor do carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="7434a-282">Specifies the URL of the RFC 3161 time stamp server.</span></span> <span data-ttu-id="7434a-283">O arquivo com carimbo de data/hora assinado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="7434a-283">The file being time stamped must have previously been signed.</span></span> <span data-ttu-id="7434a-284">A opção `/tr` ou `/t` é obrigatória.</span><span class="sxs-lookup"><span data-stu-id="7434a-284">Either the `/tr` or the `/t` option is required.</span></span>|  


## <a name="verify-command-options"></a><span data-ttu-id="7434a-285">Verificar opções de comando</span><span class="sxs-lookup"><span data-stu-id="7434a-285">Verify command options</span></span>  

|<span data-ttu-id="7434a-286">Opção Verificar</span><span class="sxs-lookup"><span data-stu-id="7434a-286">Verify option</span></span>|<span data-ttu-id="7434a-287">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-287">Description</span></span>|
|----|----|
| <span data-ttu-id="7434a-288">**/a**</span><span class="sxs-lookup"><span data-stu-id="7434a-288">**/a**</span></span> | <span data-ttu-id="7434a-289">Especifica que todos os métodos podem ser usados na verificação do arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-289">Specifies that all methods can be used to verify the file.</span></span> <span data-ttu-id="7434a-290">Primeiro, os bancos de dados do catálogo são pesquisados para determinar se o arquivo está assinado em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-290">First, the catalog databases are searched to determine whether the file is signed in a catalog.</span></span> <span data-ttu-id="7434a-291">Se o arquivo não estiver assinado em nenhum catálogo, o SignTool tentará verificar a assinatura incorporada do arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-291">If the file is not signed in any catalog, SignTool attempts to verify the file's embedded signature.</span></span> <span data-ttu-id="7434a-292">Essa opção é recomendada durante a verificação de arquivos que podem estar ou não assinados em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-292">This option is recommended when verifying files that may or may not be signed in a catalog.</span></span> <span data-ttu-id="7434a-293">Exemplos de arquivos que podem ou não ser assinados incluem arquivos ou drivers do Windows.</span><span class="sxs-lookup"><span data-stu-id="7434a-293">Examples of files that may or may not be signed include Windows files or drivers.</span></span> |
| <span data-ttu-id="7434a-294">**/ad**</span><span class="sxs-lookup"><span data-stu-id="7434a-294">**/ad**</span></span> | <span data-ttu-id="7434a-295">Encontra o catálogo usando o banco de dados do catálogo padrão.</span><span class="sxs-lookup"><span data-stu-id="7434a-295">Finds the catalog by using the default catalog database.</span></span> |
| <span data-ttu-id="7434a-296">**/All**</span><span class="sxs-lookup"><span data-stu-id="7434a-296">**/all**</span></span> | <span data-ttu-id="7434a-297">Verifica todas as assinaturas em um arquivo com várias assinaturas.</span><span class="sxs-lookup"><span data-stu-id="7434a-297">Verifies all signatures in a file with multiple signatures.</span></span> |
| <span data-ttu-id="7434a-298">**/as**</span><span class="sxs-lookup"><span data-stu-id="7434a-298">**/as**</span></span> | <span data-ttu-id="7434a-299">Encontra o catálogo usando o banco de dados do catálogo do componente de sistema (driver).</span><span class="sxs-lookup"><span data-stu-id="7434a-299">Finds the catalog by using the system component (driver) catalog database.</span></span> |
| <span data-ttu-id="7434a-300">**/AG** *CatDBGUID*</span><span class="sxs-lookup"><span data-stu-id="7434a-300">**/ag** *CatDBGUID*</span></span> | <span data-ttu-id="7434a-301">Localiza o catálogo no banco de dados de catálogo identificado pelo **GUID**.</span><span class="sxs-lookup"><span data-stu-id="7434a-301">Finds the catalog in the catalog database identified by the **GUID**.</span></span> |
| <span data-ttu-id="7434a-302">**/c** *CatFile*</span><span class="sxs-lookup"><span data-stu-id="7434a-302">**/c** *CatFile*</span></span> | <span data-ttu-id="7434a-303">Especifica o arquivo de catálogo por nome.</span><span class="sxs-lookup"><span data-stu-id="7434a-303">Specifies the catalog file by name.</span></span> |
| <span data-ttu-id="7434a-304">**/d**</span><span class="sxs-lookup"><span data-stu-id="7434a-304">**/d**</span></span> | <span data-ttu-id="7434a-305">Imprima a descrição e a URL de descrição.</span><span class="sxs-lookup"><span data-stu-id="7434a-305">Print the description and description URL.</span></span><br/> <span data-ttu-id="7434a-306">**Windows Vista e versões anteriores:** Não há suporte para esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="7434a-306">**Windows Vista and earlier:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="7434a-307"> *índice* /DS</span><span class="sxs-lookup"><span data-stu-id="7434a-307">**/ds** *Index*</span></span> | <span data-ttu-id="7434a-308">Verifica a assinatura em uma determinada posição.</span><span class="sxs-lookup"><span data-stu-id="7434a-308">Verifies the signature at a certain position.</span></span> |
| <span data-ttu-id="7434a-309">**/hash**{**SHA1** \| **SHA256**}</span><span class="sxs-lookup"><span data-stu-id="7434a-309">**/hash**{**SHA1**\|**SHA256**}</span></span> | <span data-ttu-id="7434a-310">Especifica um algoritmo de hash opcional a ser usado durante a procura de um arquivo em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-310">Specifies an optional hash algorithm to use when searching for a file in a catalog.</span></span> |
| <span data-ttu-id="7434a-311">**/kp**</span><span class="sxs-lookup"><span data-stu-id="7434a-311">**/kp**</span></span> | <span data-ttu-id="7434a-312">Executa a verificação usando a política de assinatura de driver de modo kernel x64.</span><span class="sxs-lookup"><span data-stu-id="7434a-312">Performs the verification by using the x64 kernel-mode driver signing policy.</span></span> |
| <span data-ttu-id="7434a-313">**/ms**</span><span class="sxs-lookup"><span data-stu-id="7434a-313">**/ms**</span></span> | <span data-ttu-id="7434a-314">Usa várias semânticas de verificação.</span><span class="sxs-lookup"><span data-stu-id="7434a-314">Uses multiple verification semantics.</span></span> <span data-ttu-id="7434a-315">Esse é o comportamento padrão de uma chamada [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) .</span><span class="sxs-lookup"><span data-stu-id="7434a-315">This is the default behavior of a [**WinVerifyTrust**](/windows/desktop/api/Wintrust/nf-wintrust-winverifytrust) call.</span></span> |
| <span data-ttu-id="7434a-316">**/O** *versão*</span><span class="sxs-lookup"><span data-stu-id="7434a-316">**/o** *Version*</span></span> | <span data-ttu-id="7434a-317">Verifica o arquivo pela versão do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="7434a-317">Verifies the file by operating system version.</span></span> <span data-ttu-id="7434a-318">O parâmetro version está no formato:</span><span class="sxs-lookup"><span data-stu-id="7434a-318">The version parameter is of the form:</span></span><br/> <span data-ttu-id="7434a-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span><span class="sxs-lookup"><span data-stu-id="7434a-319">*PlatformID ***:*** VerMajor ***.*** VerMinor ***.*** BuildNumber*</span></span><br/> <span data-ttu-id="7434a-320">O uso da opção */o* é recomendado.</span><span class="sxs-lookup"><span data-stu-id="7434a-320">The use of the */o* switch is recommended.</span></span> <span data-ttu-id="7434a-321">Se */o* não for especificado, SignTool poderá retornar resultados inesperados.</span><span class="sxs-lookup"><span data-stu-id="7434a-321">If */o* is not specified SignTool may return unexpected results.</span></span> <span data-ttu-id="7434a-322">Por exemplo, se você não incluir a opção */o* , os catálogos do sistema que forem validados corretamente em um sistema operacional mais antigo poderão não ser validados corretamente em um sistema operacional mais recente.</span><span class="sxs-lookup"><span data-stu-id="7434a-322">For example, if you do not include the */o* switch, then system catalogs that validate correctly on an older OS may not validate correctly on a newer OS.</span></span> |
| <span data-ttu-id="7434a-323">**/p7**</span><span class="sxs-lookup"><span data-stu-id="7434a-323">**/p7**</span></span> | <span data-ttu-id="7434a-324">Verifique \# os arquivos PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="7434a-324">Verify PKCS \#7 files.</span></span> <span data-ttu-id="7434a-325">Nenhuma política existente é usada para \# validação PKCS 7.</span><span class="sxs-lookup"><span data-stu-id="7434a-325">No existing policies are used for PKCS \#7 validation.</span></span> <span data-ttu-id="7434a-326">A assinatura é verificada e uma cadeia é compilada para o certificado de assinatura.</span><span class="sxs-lookup"><span data-stu-id="7434a-326">The signature is checked and a chain is built for the signing certificate.</span></span> |
| <span data-ttu-id="7434a-327">**/pa**</span><span class="sxs-lookup"><span data-stu-id="7434a-327">**/pa**</span></span> | <span data-ttu-id="7434a-328">Especifica que a política de verificação de autenticação padrão é usada.</span><span class="sxs-lookup"><span data-stu-id="7434a-328">Specifies that the Default Authentication Verification Policy is used.</span></span> <span data-ttu-id="7434a-329">Se a opção **/PA** não for especificada, SignTool usará a política de verificação de driver do Windows.</span><span class="sxs-lookup"><span data-stu-id="7434a-329">If the **/pa** option is not specified, SignTool uses the Windows Driver Verification Policy.</span></span> <span data-ttu-id="7434a-330">Esta opção não pode ser usada com as opções **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="7434a-330">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="7434a-331">**/PG** *PolicyGUID*</span><span class="sxs-lookup"><span data-stu-id="7434a-331">**/pg** *PolicyGUID*</span></span> | <span data-ttu-id="7434a-332">Especifica uma política de verificação por **GUID**.</span><span class="sxs-lookup"><span data-stu-id="7434a-332">Specifies a verification policy by **GUID**.</span></span> <span data-ttu-id="7434a-333">O **GUID** corresponde ao ActionID da política de verificação.</span><span class="sxs-lookup"><span data-stu-id="7434a-333">The **GUID** corresponds to the ActionID of the verification policy.</span></span> <span data-ttu-id="7434a-334">Esta opção não pode ser usada com as opções **CatDB** .</span><span class="sxs-lookup"><span data-stu-id="7434a-334">This option cannot be used with the **catdb** options.</span></span> |
| <span data-ttu-id="7434a-335">**/pH**</span><span class="sxs-lookup"><span data-stu-id="7434a-335">**/ph**</span></span> | <span data-ttu-id="7434a-336">Imprimir e verificar valores de hash de página.</span><span class="sxs-lookup"><span data-stu-id="7434a-336">Print and verify page hash values.</span></span><br/> <span data-ttu-id="7434a-337">**Windows Vista e versões anteriores:** Não há suporte para esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="7434a-337">**Windows Vista and earlier:** This flag is not supported.</span></span><br/>  |
| <span data-ttu-id="7434a-338">**/R** *RootSubjectName*</span><span class="sxs-lookup"><span data-stu-id="7434a-338">**/r** *RootSubjectName*</span></span> | <span data-ttu-id="7434a-339">Especifica o nome do assunto do certificado raiz em que o certificado de assinatura deve ser encadeado.</span><span class="sxs-lookup"><span data-stu-id="7434a-339">Specifies the name of the subject of the root certificate that the signing certificate must chain to.</span></span> <span data-ttu-id="7434a-340">Esse valor pode ser uma subcadeia de caracteres do nome da entidade inteiro do certificado raiz.</span><span class="sxs-lookup"><span data-stu-id="7434a-340">This value can be a substring of the entire subject name of the root certificate.</span></span> |
| <span data-ttu-id="7434a-341">**/tw**</span><span class="sxs-lookup"><span data-stu-id="7434a-341">**/tw**</span></span> | <span data-ttu-id="7434a-342">Especifica que um aviso será gerado se a assinatura não tiver um carimbo de data/hora.</span><span class="sxs-lookup"><span data-stu-id="7434a-342">Specifies that a warning is generated if the signature is not time stamped.</span></span>|


<span data-ttu-id="7434a-343">O comando SignTool **Verify** determina se o certificado de autenticação foi emitido por uma autoridade confiável, se o certificado de autenticação foi revogado e, opcionalmente, se o certificado de autenticação é válido para uma política específica.</span><span class="sxs-lookup"><span data-stu-id="7434a-343">The SignTool **verify** command determines whether the signing certificate was issued by a trusted authority, whether the signing certificate has been revoked, and, optionally, whether the signing certificate is valid for a specific policy.</span></span>  

<span data-ttu-id="7434a-344">O comando SignTool **Verify** produzirá o status da assinatura **inserida** , a menos que uma opção seja especificada para pesquisar um catálogo (/a,/AD,/as,/AG,/c).</span><span class="sxs-lookup"><span data-stu-id="7434a-344">The SignTool **verify** command will output the **embedded** signature status unless an option is specified to search a catalog (/a, /ad, /as, /ag, /c).</span></span>


## <a name="return-value"></a><span data-ttu-id="7434a-345">Retornar valor</span><span class="sxs-lookup"><span data-stu-id="7434a-345">Return value</span></span>  

 <span data-ttu-id="7434a-346">A Ferramenta de Assinatura retorna um dos códigos de saída a seguir quando é encerrada.</span><span class="sxs-lookup"><span data-stu-id="7434a-346">Sign Tool returns one of the following exit codes when it terminates.</span></span>  
  
|<span data-ttu-id="7434a-347">Código de saída</span><span class="sxs-lookup"><span data-stu-id="7434a-347">Exit code</span></span>|<span data-ttu-id="7434a-348">Descrição</span><span class="sxs-lookup"><span data-stu-id="7434a-348">Description</span></span>|  
|----|----| 
|<span data-ttu-id="7434a-349">0</span><span class="sxs-lookup"><span data-stu-id="7434a-349">0</span></span>|<span data-ttu-id="7434a-350">A execução foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="7434a-350">Execution was successful.</span></span>|  
|<span data-ttu-id="7434a-351">1</span><span class="sxs-lookup"><span data-stu-id="7434a-351">1</span></span>|<span data-ttu-id="7434a-352">A execução falhou.</span><span class="sxs-lookup"><span data-stu-id="7434a-352">Execution has failed.</span></span>|  
|<span data-ttu-id="7434a-353">2</span><span class="sxs-lookup"><span data-stu-id="7434a-353">2</span></span>|<span data-ttu-id="7434a-354">A execução foi concluída com avisos.</span><span class="sxs-lookup"><span data-stu-id="7434a-354">Execution has completed with warnings.</span></span>|


## <a name="examples"></a><span data-ttu-id="7434a-355">Exemplos</span><span class="sxs-lookup"><span data-stu-id="7434a-355">Examples</span></span>  

 <span data-ttu-id="7434a-356">O comando a seguir adiciona o arquivo de catálogo MyCatalogFileName.cat aos bancos de dados do componente e de driver do sistema.</span><span class="sxs-lookup"><span data-stu-id="7434a-356">The following command adds the catalog file MyCatalogFileName.cat to the system component and driver database.</span></span> <span data-ttu-id="7434a-357">A opção `/u` gera um nome exclusivo, se necessário, para evitar a substituição de um arquivo de catálogo existente chamado `MyCatalogFileName.cat`.</span><span class="sxs-lookup"><span data-stu-id="7434a-357">The `/u` option generates a unique name if necessary to prevent replacing an existing catalog file named `MyCatalogFileName.cat`.</span></span>  
  
```console  
signtool catdb /v /u MyCatalogFileName.cat  
```  
  
 <span data-ttu-id="7434a-358">O comando a seguir assina um arquivo automaticamente usando-se o melhor certificado.</span><span class="sxs-lookup"><span data-stu-id="7434a-358">The following command signs a file automatically by using the best certificate.</span></span>  
  
```console  
signtool sign /a /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="7434a-359">O comando a seguir assina digitalmente um arquivo usando um certificado armazenado em um arquivo PFX protegido por senha.</span><span class="sxs-lookup"><span data-stu-id="7434a-359">The following command digitally signs a file by using a certificate stored in a password-protected PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /p MyPassword /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="7434a-360">O comando a seguir assina digitalmente e coloca carimbos de data/hora em um arquivo.</span><span class="sxs-lookup"><span data-stu-id="7434a-360">The following command digitally signs and time-stamps a file.</span></span> <span data-ttu-id="7434a-361">O certificado usado para assinar o arquivo é armazenado em um arquivo PFX.</span><span class="sxs-lookup"><span data-stu-id="7434a-361">The certificate used to sign the file is stored in a PFX file.</span></span>  
  
```console  
signtool sign /f MyCert.pfx /t http://timestamp.digicert.com /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="7434a-362">O comando a seguir assina um arquivo usando um certificado localizado no armazenamento `My` que tem um nome de entidade de `My Company Certificate`.</span><span class="sxs-lookup"><span data-stu-id="7434a-362">The following command signs a file by using a certificate located in the `My` store that has a subject name of `My Company Certificate`.</span></span>  
  
```console  
signtool sign /n "My Company Certificate" /fd SHA256 MyFile.exe 
```  
  
 <span data-ttu-id="7434a-363">O comando a seguir assina um controle ActiveX e fornece informações exibidas pelo Internet Explorer quando o usuário deve instalar o controle.</span><span class="sxs-lookup"><span data-stu-id="7434a-363">The following command signs an ActiveX control and provides information that is displayed by Internet Explorer when the user is prompted to install the control.</span></span>  
  
```console  
Signtool sign /f MyCert.pfx /d: "MyControl" /du http://www.example.com/MyControl/info.html /fd SHA256 MyControl.exe 
```  
  
 <span data-ttu-id="7434a-364">O comando a seguir marca um arquivo com carimbos de data/hora já assinado digitalmente.</span><span class="sxs-lookup"><span data-stu-id="7434a-364">The following command time-stamps a file that has already been digitally signed.</span></span>  
  
```console  
signtool timestamp /t http://timestamp.digicert.com MyFile.exe
```  

<span data-ttu-id="7434a-365">O tempo de comando a seguir carimba um arquivo usando um servidor de carimbo de data/hora RFC 3161.</span><span class="sxs-lookup"><span data-stu-id="7434a-365">The following command time-stamps a file using an RFC 3161 timestamp server.</span></span>  
  
```console  
signtool timestamp /tr http://timestamp.digicert.com /td SHA256 MyFile.exe
```  
  
 <span data-ttu-id="7434a-366">O comando a seguir verifica se um arquivo foi assinado.</span><span class="sxs-lookup"><span data-stu-id="7434a-366">The following command verifies that a file has been signed.</span></span>  
  
```console  
signtool verify MyFile.exe  
```  
  
 <span data-ttu-id="7434a-367">O comando a seguir verifica um arquivo de sistema que pode ser assinado em um catálogo.</span><span class="sxs-lookup"><span data-stu-id="7434a-367">The following command verifies a system file that may be signed in a catalog.</span></span>  
  
```console  
signtool verify /a SystemFile.dll  
```  
  
 <span data-ttu-id="7434a-368">O comando a seguir verifica um arquivo de sistema assinado em um catálogo chamado `MyCatalog.cat`.</span><span class="sxs-lookup"><span data-stu-id="7434a-368">The following command verifies a system file that is signed in a catalog named `MyCatalog.cat`.</span></span>  
  
```console  
signtool verify /c MyCatalog.cat SystemFile.dll  
```  
