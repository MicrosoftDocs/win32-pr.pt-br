---
description: As funções de CryptoAPI usam CSPs (provedores de serviços de criptografia) para executar criptografia e descriptografia e para fornecer segurança e armazenamento de chave.
ms.assetid: 7977e59b-7ce1-4bb4-aae4-d67b7d646493
title: CSPs e o processo de criptografia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f5404fc3641a9a2c753158f5acb84850f3f0f29
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104010428"
---
# <a name="csps-and-the-cryptography-process"></a><span data-ttu-id="04c7a-103">CSPs e o processo de criptografia</span><span class="sxs-lookup"><span data-stu-id="04c7a-103">CSPs and the Cryptography Process</span></span>

<span data-ttu-id="04c7a-104">As funções de [*CryptoAPI*](../secgloss/c-gly.md) usam CSPs ( [*provedores de serviços de criptografia*](../secgloss/c-gly.md) ) para executar criptografia e descriptografia e para fornecer segurança e armazenamento de chave.</span><span class="sxs-lookup"><span data-stu-id="04c7a-104">[*CryptoAPI*](../secgloss/c-gly.md) functions use [*cryptographic service providers*](../secgloss/c-gly.md) (CSPs) to perform encryption and decryption, and to provide key storage and security.</span></span> <span data-ttu-id="04c7a-105">Esses CSPs são módulos independentes.</span><span class="sxs-lookup"><span data-stu-id="04c7a-105">These CSPs are independent modules.</span></span> <span data-ttu-id="04c7a-106">O ideal é que os CSPs sejam escritos para serem independentes de um aplicativo específico, para que qualquer aplicativo seja executado com uma variedade de CSPs.</span><span class="sxs-lookup"><span data-stu-id="04c7a-106">Ideally, CSPs are written to be independent of a particular application, so that any application will run with a variety of CSPs.</span></span> <span data-ttu-id="04c7a-107">Na realidade, no entanto, alguns aplicativos têm requisitos específicos que exigem um CSP personalizado.</span><span class="sxs-lookup"><span data-stu-id="04c7a-107">In reality, however, some applications have specific requirements that require a customized CSP.</span></span> <span data-ttu-id="04c7a-108">Isso se compara ao modelo [*GDI*](../secgloss/g-gly.md) do Windows.</span><span class="sxs-lookup"><span data-stu-id="04c7a-108">This compares to the Windows [*GDI*](../secgloss/g-gly.md) model.</span></span> <span data-ttu-id="04c7a-109">Os CSPs são análogos aos drivers de dispositivo de gráficos.</span><span class="sxs-lookup"><span data-stu-id="04c7a-109">CSPs are analogous to graphics device drivers.</span></span>

<span data-ttu-id="04c7a-110">A qualidade de proteção para chaves no sistema é um parâmetro de design do CSP e não do sistema como um todo.</span><span class="sxs-lookup"><span data-stu-id="04c7a-110">The quality of protection for keys within the system is a design parameter of the CSP and not of the system as a whole.</span></span> <span data-ttu-id="04c7a-111">Isso permite que um aplicativo seja executado em uma variedade de contextos de segurança sem modificação.</span><span class="sxs-lookup"><span data-stu-id="04c7a-111">This allows an application to run in a variety of security contexts without modification.</span></span>

<span data-ttu-id="04c7a-112">Os aplicativos do Access que têm a criptografia interna são cuidadosamente restritos.</span><span class="sxs-lookup"><span data-stu-id="04c7a-112">The access applications have to the cryptographic internals is carefully restricted.</span></span> <span data-ttu-id="04c7a-113">Isso facilita o desenvolvimento de aplicativos seguros e portáteis.</span><span class="sxs-lookup"><span data-stu-id="04c7a-113">This facilitates secure and portable application development.</span></span>

<span data-ttu-id="04c7a-114">As três regras de design a seguir se aplicam:</span><span class="sxs-lookup"><span data-stu-id="04c7a-114">The following three design rules apply:</span></span>

-   <span data-ttu-id="04c7a-115">Os aplicativos não podem acessar diretamente o material de chave.</span><span class="sxs-lookup"><span data-stu-id="04c7a-115">Applications cannot directly access keying material.</span></span> <span data-ttu-id="04c7a-116">Como todo material de chave é gerado dentro do CSP e usado pelo aplicativo por meio de identificadores opacos, não há risco de um aplicativo ou de suas DLLs associadas divulgar material de chave ou escolher material de chaveamento de fontes de má qualidade.</span><span class="sxs-lookup"><span data-stu-id="04c7a-116">Because all keying material is generated within the CSP and used by the application through opaque handles, there is no risk of an application or its associated DLLs either divulging keying material or choosing keying material from poor random sources.</span></span>
-   <span data-ttu-id="04c7a-117">Os aplicativos não podem especificar os detalhes das operações de criptografia.</span><span class="sxs-lookup"><span data-stu-id="04c7a-117">Applications cannot specify the details of cryptographic operations.</span></span> <span data-ttu-id="04c7a-118">A interface do CSP permite que um aplicativo escolha um algoritmo de criptografia ou assinatura, mas a implementação de cada operação de criptografia é feita pelo CSP.</span><span class="sxs-lookup"><span data-stu-id="04c7a-118">The CSP interface allows an application to choose an encryption or signature algorithm, but the implementation of every cryptographic operation is done by the CSP.</span></span>
-   <span data-ttu-id="04c7a-119">Os aplicativos não tratam [*as credenciais*](../secgloss/c-gly.md) do usuário ou outros dados de autenticação do usuário.</span><span class="sxs-lookup"><span data-stu-id="04c7a-119">Applications do not handle user [*credentials*](../secgloss/c-gly.md) or other user authentication data.</span></span> <span data-ttu-id="04c7a-120">A autenticação do usuário é feita pelo CSP; Portanto, os CSPs futuros com recursos de autenticação avançada, como entradas biométricas, funcionarão sem a necessidade de alterar o modelo de autenticação do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="04c7a-120">User authentication is done by the CSP; therefore, future CSPs with advanced authentication capabilities, such as biometric inputs, will function without needing to change the application authentication model.</span></span>

<span data-ttu-id="04c7a-121">No mínimo, um CSP consiste em uma DLL (biblioteca de vínculo dinâmico) e um [*arquivo de assinatura*](../secgloss/s-gly.md).</span><span class="sxs-lookup"><span data-stu-id="04c7a-121">At a minimum, a CSP consists of a dynamic-link library (DLL) and a [*signature file*](../secgloss/s-gly.md).</span></span> <span data-ttu-id="04c7a-122">O arquivo de assinatura é necessário para garantir que o [*CryptoAPI*](../secgloss/c-gly.md) reconheça o CSP.</span><span class="sxs-lookup"><span data-stu-id="04c7a-122">The signature file is necessary to ensure that the [*CryptoAPI*](../secgloss/c-gly.md) recognizes the CSP.</span></span> <span data-ttu-id="04c7a-123">O CryptoAPI valida essa assinatura periodicamente para garantir que qualquer violação no CSP seja detectada.</span><span class="sxs-lookup"><span data-stu-id="04c7a-123">CryptoAPI validates this signature periodically to ensure that any tampering with the CSP is detected.</span></span>

<span data-ttu-id="04c7a-124">Alguns CSPs podem implementar uma fração de sua funcionalidade em um serviço separado por endereço chamado por meio de RPC local ou em hardware chamado por meio de um driver de dispositivo de sistema.</span><span class="sxs-lookup"><span data-stu-id="04c7a-124">Some CSPs can implement a fraction of their functionality in an address-separated service called through local RPC or in hardware called through a system device driver.</span></span> <span data-ttu-id="04c7a-125">Isolar as operações globais de estado de chave e criptografia central em um serviço separado por endereço ou em hardware mantém as chaves e as operações seguras contra violação em um espaço de dados de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="04c7a-125">Isolating global key-state and central cryptographic operations in an address-separated service or in hardware keeps keys and operations safe from tampering within an application data space.</span></span>

<span data-ttu-id="04c7a-126">Não é recomendável que os aplicativos tirem proveito dos atributos específicos de um CSP específico.</span><span class="sxs-lookup"><span data-stu-id="04c7a-126">It is unwise for applications to take advantage of attributes particular to a specific CSP.</span></span> <span data-ttu-id="04c7a-127">Por exemplo, o provedor criptográfico base da Microsoft (fornecido com o CryptoAPI) dá suporte a chaves de sessão de 40 bits e chaves públicas de 512 bits.</span><span class="sxs-lookup"><span data-stu-id="04c7a-127">For example, the Microsoft Base Cryptographic Provider (supplied with CryptoAPI) supports 40-bit session keys and 512-bit public keys.</span></span> <span data-ttu-id="04c7a-128">Os aplicativos que manipulam essas chaves devem evitar suposições sobre a quantidade de memória necessária para armazenar essas chaves porque o aplicativo provavelmente falhará se um CSP diferente for usado.</span><span class="sxs-lookup"><span data-stu-id="04c7a-128">Applications manipulating these keys must avoid assumptions about the amount of memory needed to store these keys because the application is likely to fail if a different CSP is used.</span></span> <span data-ttu-id="04c7a-129">Aplicativos bem escritos devem funcionar com uma variedade de CSPs.</span><span class="sxs-lookup"><span data-stu-id="04c7a-129">Well-written applications must work with a variety of CSPs.</span></span>

<span data-ttu-id="04c7a-130">Para obter detalhes sobre os tipos de provedor criptográfico e os CSPs predefinidos que podem ser usados com o CryptoAPI, consulte [tipos de provedor criptográfico](cryptographic-provider-types.md) e [provedores de serviços de criptografia da Microsoft](microsoft-cryptographic-service-providers.md).</span><span class="sxs-lookup"><span data-stu-id="04c7a-130">For details about cryptographic provider types and predefined CSPs that can be used with CryptoAPI, see [Cryptographic Provider Types](cryptographic-provider-types.md) and [Microsoft Cryptographic Service Providers](microsoft-cryptographic-service-providers.md).</span></span>

 

 
