---
description: O perfil de rede descreve os objetos usados para configurar o sistema para permitir que as máquinas virtuais se comuniquem pela rede.
ms.assetid: A5C4866B-0F65-47B5-8FC4-B92943842B86
title: Serviço de rede
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fc85b7a5121a3e7e42f333f829816184b57bd8eb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105778579"
---
# <a name="networking-service"></a><span data-ttu-id="16ecf-103">Serviço de rede</span><span class="sxs-lookup"><span data-stu-id="16ecf-103">Networking service</span></span>

<span data-ttu-id="16ecf-104">O perfil de rede descreve os objetos usados para configurar o sistema para permitir que as máquinas virtuais se comuniquem pela rede.</span><span class="sxs-lookup"><span data-stu-id="16ecf-104">The networking profile describes the objects used for configuring the system to allow virtual machines to communicate over the network.</span></span> <span data-ttu-id="16ecf-105">Os objetos de rede global, usados para configurar o comutador de rede no sistema operacional de gerenciamento, incluem as classes [**Msvm \_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md), [**Msvm \_ VirtualEthernetSwitch**](msvm-virtualethernetswitch.md)e [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md) .</span><span class="sxs-lookup"><span data-stu-id="16ecf-105">The global networking objects, used to configure the network switch in the management operating system, include the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md), [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md), and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes.</span></span> <span data-ttu-id="16ecf-106">Os objetos de rede da máquina virtual, usados para configurar a NIC (placa de interface de rede) na máquina virtual, incluem as classes [**Msvm \_ EmulatedEthernetPort**](msvm-emulatedethernetport.md), [**Msvm \_ ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md)e [**Msvm \_ LANEndpoint**](msvm-lanendpoint.md) .</span><span class="sxs-lookup"><span data-stu-id="16ecf-106">The virtual machine networking objects, used to configure the network interface card (NIC) in the virtual machine, include the [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md), [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md), and [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) classes.</span></span>

<span data-ttu-id="16ecf-107">A raiz do perfil de rede global é a classe [**Msvm \_ VirtualEthernetSwitch**](msvm-virtualethernetswitch.md) .</span><span class="sxs-lookup"><span data-stu-id="16ecf-107">The root of the global networking profile is the [**Msvm\_VirtualEthernetSwitch**](msvm-virtualethernetswitch.md) class.</span></span> <span data-ttu-id="16ecf-108">Essa classe representa um dispositivo de comutador virtual no sistema operacional de gerenciamento.</span><span class="sxs-lookup"><span data-stu-id="16ecf-108">This class represents a virtual switch device in the management operating system.</span></span> <span data-ttu-id="16ecf-109">**Msvm \_ VirtualEthernetSwitch** é associado a instâncias da classe [**\_ switchport Msvm**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) , que representa as portas no comutador virtual.</span><span class="sxs-lookup"><span data-stu-id="16ecf-109">**Msvm\_VirtualEthernetSwitch** is associated with instances of the [**Msvm\_SwitchPort**](https://www.bing.com/search?q=**Msvm\_SwitchPort**) class, which represents the ports on the virtual switch.</span></span> <span data-ttu-id="16ecf-110">As instâncias das classes **Msvm \_ VirtualEthernetSwitch** e [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md) são criadas, excluídas e conectadas por meio da classe Msvm [**\_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) (não mostrada na ilustração anterior).</span><span class="sxs-lookup"><span data-stu-id="16ecf-110">Instances of the **Msvm\_VirtualEthernetSwitch** and [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) classes are created, deleted, and connected via the [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) class (not shown in the illustration earlier).</span></span>

<span data-ttu-id="16ecf-111">O serviço de gerenciamento de comutador virtual (VSMS) representa o serviço de rede presente em um único host Hyper-V e contém métodos para [**Msvm \_ VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) usados para controlar a definição, modificação e destruição de recursos de rede global, como comutadores virtuais, portas de comutador e portas Ethernet internas.</span><span class="sxs-lookup"><span data-stu-id="16ecf-111">Virtual Switch Management Service (VSMS) represents the networking service present on a single Hyper-V host and contains methods for [**Msvm\_VirtualEthernetSwitchManagementService**](msvm-virtualethernetswitchmanagementservice.md) used to control the definition, modification, and destruction of global networking resources such as virtual switches, switch ports and internal Ethernet ports.</span></span>

<span data-ttu-id="16ecf-112">A representação do dispositivo NIC Ethernet na máquina virtual parece muito semelhante à de qualquer outro dispositivo, conforme descrito no serviço de gerenciamento de [**sistema virtual**](virtual-system-management-service.md).</span><span class="sxs-lookup"><span data-stu-id="16ecf-112">The representation of the Ethernet NIC device in the virtual machine looks very similar to that of any other device, as described in the [**Virtual System Management Service**](virtual-system-management-service.md).</span></span> <span data-ttu-id="16ecf-113">As classes [**Msvm \_ EmulatedEthernetPort**](msvm-emulatedethernetport.md) e [**Msvm \_ SyntheticEthernetPort**](msvm-syntheticethernetport.md) representam o dispositivo NIC virtual e são configuradas por meio de uma [**instância Msvm ResourceAllocationSettingData (RASD \_**](msvm-resourceallocationsettingdata.md) ) associada.</span><span class="sxs-lookup"><span data-stu-id="16ecf-113">The [**Msvm\_EmulatedEthernetPort**](msvm-emulatedethernetport.md) and [**Msvm\_SyntheticEthernetPort**](msvm-syntheticethernetport.md) classes represent the virtual NIC device, and are configured via an associated [**Msvm\_ResourceAllocationSettingData**](msvm-resourceallocationsettingdata.md) (RASD) instance.</span></span> <span data-ttu-id="16ecf-114">A única característica incomum dessa representação é que, quando a máquina virtual é instanciada e, por sua vez, cria os dispositivos **Msvm \_ EmulatedEthernetPort** e **Msvm \_ SyntheticEthernetPort** , ele também cria uma instância Msvm [**\_ LANEndpoint**](msvm-lanendpoint.md) associada para a NIC virtual.</span><span class="sxs-lookup"><span data-stu-id="16ecf-114">The only unusual characteristic of this representation is that, when the virtual machine is instantiated and in turn creates the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** devices, it also creates an associated [**Msvm\_LANEndpoint**](msvm-lanendpoint.md) instance for the virtual NIC.</span></span> <span data-ttu-id="16ecf-115">Da mesma forma, quando a máquina virtual é salva ou desativada e as instâncias **Msvm \_ EmulatedEthernetPort** e **Msvm \_ SyntheticEthernetPort** são destruídas, a instância Msvm [**\_ VmLANEndpoint**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) associada também é destruída.</span><span class="sxs-lookup"><span data-stu-id="16ecf-115">Similarly, when the virtual machine is saved or turned off and the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances are destroyed, the associated [**Msvm\_VmLANEndpoint**](https://www.bing.com/search?q=**Msvm\_VmLANEndpoint**) instance is also destroyed.</span></span> <span data-ttu-id="16ecf-116">A finalidade do **Msvm \_ LANEndpoint** é servir como uma ponte para conectar duas portas de rede entre si.</span><span class="sxs-lookup"><span data-stu-id="16ecf-116">The purpose of the **Msvm\_LANEndpoint** is to serve as a bridge for connecting two networking ports to each other.</span></span> <span data-ttu-id="16ecf-117">Nesse caso, ele é usado para conectar uma NIC virtual a uma porta no dispositivo do comutador virtual.</span><span class="sxs-lookup"><span data-stu-id="16ecf-117">In this case, it is used to connect a virtual NIC to a port on the virtual switch device.</span></span> <span data-ttu-id="16ecf-118">Em outras palavras, ele conecta as instâncias **Msvm \_ EmulatedEthernetPort** e **Msvm \_ SyntheticEthernetPort** na máquina virtual a uma instância de [**Msvm \_ EthernetSwitchPort**](msvm-ethernetswitchport.md) específica no comutador virtual.</span><span class="sxs-lookup"><span data-stu-id="16ecf-118">In other words, it connects the **Msvm\_EmulatedEthernetPort** and **Msvm\_SyntheticEthernetPort** instances on the virtual machine to a particular [**Msvm\_EthernetSwitchPort**](msvm-ethernetswitchport.md) instance on the virtual switch.</span></span> <span data-ttu-id="16ecf-119">Para conectar um comutador externo, você deve associar a porta Ethernet física ao [**Msvm \_ comutador virtual**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) por meio de [**BindExternalEthernetPort**](https://www.bing.com/search?q=**BindExternalEthernetPort**).</span><span class="sxs-lookup"><span data-stu-id="16ecf-119">To connect a switch to the outside, you must bind the physical Ethernet port to the [**Msvm\_VirtualSwitch**](https://www.bing.com/search?q=**Msvm\_VirtualSwitch**) through [**BindExternalEthernetPort**](https://www.bing.com/search?q=**BindExternalEthernetPort**).</span></span> <span data-ttu-id="16ecf-120">De forma adversa, ao conectar um comutador à pilha de rede do host, ou NIC interna, use ConnectInternal para que uma máquina virtual se comunique com o host e não com o mundo exterior.</span><span class="sxs-lookup"><span data-stu-id="16ecf-120">Adversely, when connecting a switch to the host networking stack, or internal NIC, use ConnectInternal to have a virtual machine talk to the host and not the outside world.</span></span> <span data-ttu-id="16ecf-121">[**Msvm \_ O ActiveConnection**](msvm-activeconnection.md) conecta uma porta de comutador ao [**Msvm \_ SwitchLANEndpoint**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) ao qual a porta está conectada dentro do Hyper-V.</span><span class="sxs-lookup"><span data-stu-id="16ecf-121">[**Msvm\_ActiveConnection**](msvm-activeconnection.md) connects a switch port to the [**Msvm\_SwitchLANEndpoint**](https://www.bing.com/search?q=**Msvm\_SwitchLANEndpoint**) to which the port is connected inside of Hyper-V.</span></span> <span data-ttu-id="16ecf-122">A existência desse objeto significa que a porta do comutador e o **Msvm \_ SwitchLANEndpoint** estão ativamente conectados e a porta Ethernet associada ao **Msvm \_ LANEndpoint** pode se comunicar com a rede por meio da porta do comutador.</span><span class="sxs-lookup"><span data-stu-id="16ecf-122">The existence of this object means that the switch port and the **Msvm\_SwitchLANEndpoint** are actively connected and the Ethernet port associated with **Msvm\_LANEndpoint** can communicate with the network through the switch port.</span></span>

 

 



