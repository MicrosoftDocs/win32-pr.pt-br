---
description: Este tópico descreve o controle de volume e de densidade XAudio2.
ms.assetid: dedc2d01-af83-d7d2-5b64-743dcebc83f7
title: Controle de volume e densidade XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2526cfa50c0260e90e1aae9e2bce21d507dc2e06
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104170437"
---
# <a name="xaudio2-volume-and-pitch-control"></a><span data-ttu-id="dcf97-103">Controle de volume e densidade XAudio2</span><span class="sxs-lookup"><span data-stu-id="dcf97-103">XAudio2 Volume and Pitch Control</span></span>

<span data-ttu-id="dcf97-104">Este tópico descreve o controle de volume e de densidade XAudio2.</span><span class="sxs-lookup"><span data-stu-id="dcf97-104">This topic describes XAudio2 volume and pitch control.</span></span>

## <a name="volume-control"></a><span data-ttu-id="dcf97-105">Controle de volume</span><span class="sxs-lookup"><span data-stu-id="dcf97-105">Volume Control</span></span>

<span data-ttu-id="dcf97-106">Os níveis de volume são expressos como multiplicadores de amplitude de ponto flutuante entre o \_ nível máximo de volume-XAudio2 \_ \_ e \_ \_ o nível de volume máximo XAUDIO2 \_ (-224 a 224), com um máximo de lucro de 144,5 dB.</span><span class="sxs-lookup"><span data-stu-id="dcf97-106">Volume levels are expressed as floating-point amplitude multipliers between -XAUDIO2\_MAX\_VOLUME\_LEVEL and XAUDIO2\_MAX\_VOLUME\_LEVEL (-224 to 224), with a maximum gain of 144.5 dB.</span></span> <span data-ttu-id="dcf97-107">Um volume de 1,0 significa que não há atenuação ou lucro; 0 significa silêncio; e os níveis negativos podem ser usados para inverter a fase de áudio.</span><span class="sxs-lookup"><span data-stu-id="dcf97-107">A volume of 1.0 means there is no attenuation or gain; 0 means silence; and negative levels can be used to invert the audio's phase.</span></span> <span data-ttu-id="dcf97-108">Duas funções embutidas são fornecidas em XAudio2. h para converter entre unidades de volume: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) e [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span><span class="sxs-lookup"><span data-stu-id="dcf97-108">Two inline functions are provided in XAudio2.h to convert between volume units: [**XAudio2DecibelsToAmplitudeRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2decibelstoamplituderatio) and [**XAudio2AmplitudeRatioToDecibels**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2amplituderatiotodecibels).</span></span>

<span data-ttu-id="dcf97-109">Você pode aplicar um nível de volume ao áudio em vários pontos conforme ele flui pelo grafo XAudio2:</span><span class="sxs-lookup"><span data-stu-id="dcf97-109">You can apply a volume level to the audio at several points as it flows through the XAudio2 graph:</span></span>

-   <span data-ttu-id="dcf97-110">Todos os tipos de voz aplicam um nível de volume geral à sua entrada, que controlam usando o método [**IXAudio2Voice:: SetVolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) .</span><span class="sxs-lookup"><span data-stu-id="dcf97-110">All voice types apply an overall volume level to their input, which they control using the [**IXAudio2Voice::SetVolume**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setvolume) method.</span></span> <span data-ttu-id="dcf97-111">No submix e nas vozes de mestre, o nível de volume geral é aplicado logo antes do filtro interno da voz e da cadeia de efeitos.</span><span class="sxs-lookup"><span data-stu-id="dcf97-111">In submix and mastering voices, the overall volume level is applied just before the voice's built-in filter and effect chain.</span></span> <span data-ttu-id="dcf97-112">Nas vozes de origem, o nível de volume geral é aplicado após o filtro interno da voz e a cadeia de efeitos.</span><span class="sxs-lookup"><span data-stu-id="dcf97-112">In source voices, the overall volume level is applied after the voice's built-in filter and effect chain.</span></span>
-   <span data-ttu-id="dcf97-113">As vozes aplicam um nível de volume por canal à sua saída, que controlam usando o método [**IXAudio2Voice:: SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) .</span><span class="sxs-lookup"><span data-stu-id="dcf97-113">Voices apply a per-channel volume level to their output, which they control using the [**IXAudio2Voice::SetChannelVolumes**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setchannelvolumes) method.</span></span> <span data-ttu-id="dcf97-114">O nível de volume por canal é aplicado logo após a conversão da taxa de amostragem final da voz e antes de ser enviado para outras vozes.</span><span class="sxs-lookup"><span data-stu-id="dcf97-114">The per-channel volume level is applied just after the voice's final sample rate conversion, and before it is sent to other voices.</span></span>
-   <span data-ttu-id="dcf97-115">Cada conexão entre uma voz e outra tem uma tabela de níveis usados para enviar áudio de cada canal de origem para cada canal de destino, que é controlado usando o método [**IXAudio2Voice:: SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) .</span><span class="sxs-lookup"><span data-stu-id="dcf97-115">Every connection between one voice and another has a table of levels used to send audio from each source channel to each target channel, which is controlled using the [**IXAudio2Voice::SetOutputMatrix**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-setoutputmatrix) method.</span></span>

<span data-ttu-id="dcf97-116">Todos os volumes gerais e volumes de canal são padronizados inicialmente para 1,0.</span><span class="sxs-lookup"><span data-stu-id="dcf97-116">All overall volumes and channel volumes default to 1.0 initially.</span></span> <span data-ttu-id="dcf97-117">Todas as matrizes de nível de envio assumem como padrão os valores apropriados que preservam a potência de sinal e o posicionamento do canal da maneira mais precisa.</span><span class="sxs-lookup"><span data-stu-id="dcf97-117">All send-level matrices default to appropriate values that preserve signal power and channel positioning as accurately as possible.</span></span> <span data-ttu-id="dcf97-118">Consulte a visão geral de [mapeamento de canal padrão do XAudio2](xaudio2-default-channel-mapping.md) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="dcf97-118">See the [XAudio2 Default Channel Mapping](xaudio2-default-channel-mapping.md) overview for details.</span></span>

> [!Note]  
> <span data-ttu-id="dcf97-119">O XAudio2 ajusta automaticamente os níveis de volume com base nas configurações de alto-falante do usuário para manter um nível de volume consistente entre as configurações.</span><span class="sxs-lookup"><span data-stu-id="dcf97-119">XAudio2 automatically adjusts volume levels based on the user's speaker settings to maintain a consistent volume level across configurations.</span></span> <span data-ttu-id="dcf97-120">Se as configurações do usuário não corresponderem à configuração física, o volume será muito alto ou muito simples em comparação com um sistema com configurações precisas.</span><span class="sxs-lookup"><span data-stu-id="dcf97-120">If the user's settings don't match their physical configuration the volume will either be too loud or too soft compared to a system with accurate settings.</span></span> <span data-ttu-id="dcf97-121">Por exemplo, um sistema configurado para 5,1 alto-falantes surround sound que tem apenas dois alto-falantes conectados soará muito soft.</span><span class="sxs-lookup"><span data-stu-id="dcf97-121">For example, a system configured for 5.1 surround sound speakers that only has two speakers connected will sound too soft.</span></span> <span data-ttu-id="dcf97-122">O XAudio2 não pode detectar se as configurações de alto-falante do usuário correspondem corretamente à configuração física.</span><span class="sxs-lookup"><span data-stu-id="dcf97-122">XAudio2 is unable to detect whether the user speaker settings correctly match their physical setup.</span></span>

 

## <a name="pitch-control"></a><span data-ttu-id="dcf97-123">Controle de densidade</span><span class="sxs-lookup"><span data-stu-id="dcf97-123">Pitch Control</span></span>

<span data-ttu-id="dcf97-124">As densidades são expressas como taxas de taxa de entrada/taxa de saída entre 1/1024 e 1024/1, inclusive.</span><span class="sxs-lookup"><span data-stu-id="dcf97-124">Pitches are expressed as input rate/output rate ratios between 1/1,024 and 1,024/1, inclusive.</span></span> <span data-ttu-id="dcf97-125">Uma taxa de 1/1024 diminui o Tom em 10 octaves, enquanto uma taxa de 1024/1 eleva-a por 10 octaves.</span><span class="sxs-lookup"><span data-stu-id="dcf97-125">A ratio of 1/1,024 lowers pitch by 10 octaves, while a ratio of 1,024/1 raises it by 10 octaves.</span></span> <span data-ttu-id="dcf97-126">Você só pode usar o método [**IXAudio2SourceVoice:: SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) para aplicar ajustes de inclinação às vozes de origem e somente se eles não tiverem sido criados com \_ o \_ sinalizador de ispitch de voz XAudio2.</span><span class="sxs-lookup"><span data-stu-id="dcf97-126">You can only use the [**IXAudio2SourceVoice::SetFrequencyRatio**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-setfrequencyratio) method to apply pitch adjustments to source voices, and only if they were not created with the XAUDIO2\_VOICE\_NOPITCH flag.</span></span> <span data-ttu-id="dcf97-127">A taxa de frequência padrão é 1/1: ou seja, sem alteração de Tom.</span><span class="sxs-lookup"><span data-stu-id="dcf97-127">The default frequency ratio is 1/1: that is, no pitch change.</span></span> <span data-ttu-id="dcf97-128">Duas funções embutidas são fornecidas em XAudio2. h para converter entre as taxas de frequência e semitones: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) e [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span><span class="sxs-lookup"><span data-stu-id="dcf97-128">Two inline functions are provided in XAudio2.h to convert between frequency ratios and semitones: [**XAudio2FrequencyRatioToSemitones**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2frequencyratiotosemitones) and [**XAudio2SemitonesToFrequencyRatio**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2semitonestofrequencyratio).</span></span>

## <a name="related-topics"></a><span data-ttu-id="dcf97-129">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="dcf97-129">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="dcf97-130">Controle de volume e densidade</span><span class="sxs-lookup"><span data-stu-id="dcf97-130">Volume and Pitch Control</span></span>](volume-and-pitch-control.md)
</dt> <dt>

[<span data-ttu-id="dcf97-131">Guia de Programação em XAudio2</span><span class="sxs-lookup"><span data-stu-id="dcf97-131">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> <dt>

[<span data-ttu-id="dcf97-132">Como: alterar a densidade da voz</span><span class="sxs-lookup"><span data-stu-id="dcf97-132">How to: Change Voice Pitch</span></span>](how-to--change-voice-pitch.md)
</dt> <dt>

[<span data-ttu-id="dcf97-133">Como: alterar o volume de voz</span><span class="sxs-lookup"><span data-stu-id="dcf97-133">How to: Change Voice Volume</span></span>](how-to--change-voice-volume.md)
</dt> </dl>

 

 
