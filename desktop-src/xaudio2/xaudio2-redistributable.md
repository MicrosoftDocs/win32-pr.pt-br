---
description: Guia do desenvolvedor para a versão redistribuível do XAudio 2.9
ms.assetid: ''
title: Guia do desenvolvedor para a versão redistribuível do XAudio 2.9
ms.topic: article
ms.date: 10/17/2019
ms.openlocfilehash: a73ebd01d599446dc96e1e6735d8af572203a23b
ms.sourcegitcommit: d0eb44d0a95f5e5efbfec3d3e9c143f5cba25bc3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/17/2021
ms.locfileid: "112262588"
---
# <a name="developer-guide-for-redistributable-version-of-xaudio-29"></a><span data-ttu-id="fcbaa-103">Guia do desenvolvedor para a versão redistribuível do XAudio 2.9</span><span class="sxs-lookup"><span data-stu-id="fcbaa-103">Developer guide for redistributable version of XAudio 2.9</span></span>

<span data-ttu-id="fcbaa-104">Uma versão do XAudio 2.9 está disponível como um [pacote NuGet](/nuget/what-is-nuget).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-104">A version of XAudio 2.9 is available as a [NuGet package](/nuget/what-is-nuget).</span></span> <span data-ttu-id="fcbaa-105">Os desenvolvedores podem redistribuir essa versão do XAudio 2.9 com seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-105">Developers can redistribute this version of XAudio 2.9 with their apps.</span></span> <span data-ttu-id="fcbaa-106">Isso permite que um aplicativo use o XAudio 2.9 em versões mais antigas do Windows que não incluem o XAudio 2.9 como parte da imagem do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-106">This allows an app to use XAudio 2.9 on older versions of Windows that do no not include XAudio 2.9 as part of the operating system image.</span></span> <span data-ttu-id="fcbaa-107">O uso desse redistribuível é preferencial em vez de redistribuir o XAudio 2.7 do SDK do DirectX, pois o XAudio 2.7 não foi atualizado desde 2010.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-107">Use of this redistributable is preferred over redistributing XAudio 2.7 from the DirectX SDK, as XAudio 2.7 has not been updated since 2010.</span></span>

<span data-ttu-id="fcbaa-108">Visite a Página de [Aterrissagem do DirectX para](https://devblogs.microsoft.com/directx/landing-page/) obter mais recursos para desenvolvedores do DirectX.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-108">Make sure that you visit the [DirectX Landing Page](https://devblogs.microsoft.com/directx/landing-page/) for more resources for DirectX developers.</span></span>

## <a name="supported-platforms"></a><span data-ttu-id="fcbaa-109">Plataformas compatíveis</span><span class="sxs-lookup"><span data-stu-id="fcbaa-109">Supported platforms</span></span>

<span data-ttu-id="fcbaa-110">O pacote NuGet XAudio 2.9 (*Microsoft.XAudio2.Redist. \* . nupkg*) inclui uma versão de 32 bits e uma versão de 64 bits de uma DLL que implementa a API XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-110">The XAudio 2.9 NuGet package (*Microsoft.XAudio2.Redist.\*.nupkg*) includes a 32-bit and a 64-bit version of a DLL that implements the XAudio 2.9 API.</span></span> <span data-ttu-id="fcbaa-111">A DLL é chamada de XAUDIO2 \_9REDIST.DLL.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-111">The DLL is called XAUDIO2\_9REDIST.DLL.</span></span> <span data-ttu-id="fcbaa-112">Essa DLL funcionará no Windows 7 SP1, Windows 8, Windows 8.1 e Windows 10.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-112">This DLL will work on Windows 7 SP1, Windows 8, Windows 8.1 and Windows 10.</span></span>

<span data-ttu-id="fcbaa-113">Quando a DLL é usada em um sistema Windows 10, ela verifica o número de versão do9.DLL XAUDIO2 que faz parte do sistema operacional e, se o sistema operacional for mais recente, ele delegará todas as chamadas à API para o9.DLL \_ XAUDIO2 no sistema \_ operacional.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-113">When the DLL is used on a Windows 10 system, it checks the version number of the XAUDIO2\_9.DLL that is part of the operating system, and if the operating system is newer, it will delegate all API calls to XAUDIO2\_9.DLL in the operating system.</span></span> <span data-ttu-id="fcbaa-114">Isso garante que os aplicativos sempre usem a versão mais recente do XAudio 2.9 que está disponível na plataforma atual.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-114">This ensures that apps always use the latest version of XAudio 2.9 that is available on the current platform.</span></span>

<span data-ttu-id="fcbaa-115">A DLL não se destina a Xbox One.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-115">The DLL is not intended for Xbox One.</span></span> <span data-ttu-id="fcbaa-116">Se usado no Xbox One, a DLL sempre delegará todas as chamadas à API para9.DLL XAUDIO2 no \_ Xbox One operacional.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-116">If used on Xbox One, the DLL will always delegate all API calls to XAUDIO2\_9.DLL in the Xbox One operating system.</span></span>

<span data-ttu-id="fcbaa-117">A DLL não se destina a aplicativos UWP.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-117">The DLL is not intended for UWP apps.</span></span> <span data-ttu-id="fcbaa-118">Os aplicativos UWP devem usar o9.DLL XAUDIO2 \_ que faz parte do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-118">UWP apps should use the XAUDIO2\_9.DLL that is part of the operating system.</span></span>

## <a name="installing-the-nuget-package"></a><span data-ttu-id="fcbaa-119">Instalando o pacote NuGet</span><span class="sxs-lookup"><span data-stu-id="fcbaa-119">Installing the NuGet package</span></span>

<span data-ttu-id="fcbaa-120">A maneira mais fácil de instalar o pacote NuGet é usar o [Gerenciador de Pacotes NuGet](/nuget/consume-packages/install-use-packages-visual-studio) Microsoft Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-120">The easiest way to install the NuGet package is to use the [NuGet Package Manager](/nuget/consume-packages/install-use-packages-visual-studio) in Microsoft Visual Studio.</span></span> <span data-ttu-id="fcbaa-121">Se você fizer isso, o Visual Studio de projeto será atualizado automaticamente para incluir *Microsoft.XAudio2.Redist.targets.*</span><span class="sxs-lookup"><span data-stu-id="fcbaa-121">If you do this, your Visual Studio project file will be automatically updated to include *Microsoft.XAudio2.Redist.targets*.</span></span> <span data-ttu-id="fcbaa-122">O *arquivo .targets* adiciona a pasta Include com os arquivos de header do XAudio2 à sua coleção de caminhos de inclusão de projeto.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-122">The *.targets* file adds the Include folder with the header files for the XAudio2 to your collection of project include paths.</span></span> <span data-ttu-id="fcbaa-123">O *arquivo .targets* também fará com que seu .DLL ou .EXE link com XAUDIO2REDIST. LIB e XAPOBASEREDIST. Lib.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-123">The *.targets* file will also make your .DLL or .EXE link with XAUDIO2REDIST.LIB and XAPOBASEREDIST.LIB.</span></span>

<span data-ttu-id="fcbaa-124">A biblioteca XAPOBASEREDIST. LIB só será necessário se você pretende empalar um objeto de processamento XAudio personalizado (XAPO) e você pode removê-lo do *Microsoft.XAudio2.Redist.targets* se ele não for usado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-124">The library XAPOBASEREDIST.LIB is only needed if you intend to impement a custom XAudio Processing Object (XAPO) and you can remove it from the *Microsoft.XAudio2.Redist.targets* if it is unused.</span></span>

<span data-ttu-id="fcbaa-125">Você também pode usar outras ferramentas para extrair o conteúdo do pacote NuGet ou até mesmo renomear a extensão de arquivo para .zip e extrair os arquivos com qualquer ferramenta de extrator zip.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-125">You can also use other tools to extract the contents of the NuGet package, or even rename the file extension to .zip and extract the files with any ZIP extractor tool.</span></span>

> <span data-ttu-id="fcbaa-126">Também há uma ``xaudio2redist`` porta disponível para o [vc++ Gerenciador de Pacotes](https://github.com/microsoft/vcpkg).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-126">There is also an ``xaudio2redist`` port available for the [VC++ Package Manager](https://github.com/microsoft/vcpkg).</span></span>

## <a name="compiling-your-app"></a><span data-ttu-id="fcbaa-127">Compilando seu aplicativo</span><span class="sxs-lookup"><span data-stu-id="fcbaa-127">Compiling your app</span></span>

### <a name="choosing-which-headers-to-include"></a><span data-ttu-id="fcbaa-128">Escolhendo quais headers incluir</span><span class="sxs-lookup"><span data-stu-id="fcbaa-128">Choosing which headers to include</span></span>

<span data-ttu-id="fcbaa-129">O pacote NuGet XAudio 2.9 inclui os mesmos arquivos de header XAudio2 incluídos no SDK do Windows 10.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-129">The XAudio 2.9 NuGet package includes the same XAudio2 header files that are included in the Windows 10 SDK.</span></span> <span data-ttu-id="fcbaa-130">No entanto, os arquivos de header tiveram alguns ajustes para garantir que você possa usá-los ao direcionar explicitamente todas as [plataformas](#supported-platforms)com suporte, incluindo versões mais antigas do Windows.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-130">However, the header files have had some adjustments to them to make sure that you can use them while explicitly targeting all [supported platforms](#supported-platforms), including older versions of Windows.</span></span>

<span data-ttu-id="fcbaa-131">Se você instalar o pacote [NuGet](#installing-the-nuget-package) usando o Gerenciador de Pacotes NuGet no Microsoft Visual Studio, o caminho para os arquivos de header será colocado na frente do caminho para os arquivos de SDK do Windows de SDK do Windows.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-131">If you [install the NuGet package](#installing-the-nuget-package) using the NuGet Package Manager in Microsoft Visual Studio then the path to the header files is placed in front of the path to the Windows SDK header files.</span></span> <span data-ttu-id="fcbaa-132">Isso significa que se o código em seu projeto incluir o XAUDIO2. O header H, ele escolherá o header de plataforma cruzada do pacote NuGet.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-132">That means that if code in your project includes the XAUDIO2.H header, it will pick up the cross-platform header from the NuGet package.</span></span> <span data-ttu-id="fcbaa-133">Normalmente, esse é o comportamento desejado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-133">This is normally the desired behavior.</span></span>

<span data-ttu-id="fcbaa-134">Você deve ter cuidado se adicionar o caminho aos headers de inclusão manualmente ao projeto, pois especificá-los na ordem errada pode causar o XAUDIO2 específico da versão do sistema [operacional. H](/windows/win32/api/xaudio2/) a ser incluído do SDK do Windows, em vez da versão de plataforma cruzada do XAUDIO2.H.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-134">You should be careful if adding the path to the include headers manually to the project, as specifying them in the wrong order can cause the OS-version specific [XAUDIO2.H](/windows/win32/api/xaudio2/) to be included from the Windows SDK, rather than the cross-platform version of XAUDIO2.H.</span></span>

<span data-ttu-id="fcbaa-135">Para tornar a inclusão de headers menos propensa a erros, o pacote NuGet contém uma versão de cada header com "REDIST" anexado a ele.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-135">To make the inclusion of headers less error-prone, the NuGet package contains a version of each header with "REDIST" appended to it.</span></span> <span data-ttu-id="fcbaa-136">Por exemplo, além de XAUDIO2. H, o pacote NuGet também inclui XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-136">For example, in addition to XAUDIO2.H, the NuGet package also includes XAUDIO2REDIST.H.</span></span> <span data-ttu-id="fcbaa-137">Se preferir, seu código poderá incluir diretamente XAUDIO2REDIST. H para eliminar qualquer ambiguidade sobre qual arquivo de header está sendo usado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-137">If you prefer, your code can directly include XAUDIO2REDIST.H to eliminate any ambiguity about which header file is being used.</span></span> <span data-ttu-id="fcbaa-138">Ao incluir o -REDIST. A versão H de um arquivo de header, a ordem na qual os diretórios de arquivos de inclusão são listados no arquivo de projeto, não importa.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-138">When including the -REDIST.H version of a header file, the order in which the include file directories are listed in the project file do not matter.</span></span>

<span data-ttu-id="fcbaa-139">Observe que, se seu aplicativo também estiver sendo compilado para Xbox One, você deverá continuar a incluir o XAUDIO2. H ao compilar para Xbox One, pois algumas APIs específicas Xbox One são excluídas de XAUDIO2REDIST.H.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-139">Note that if your app is also being compiled for Xbox One, you should continue to include XAUDIO2.H when compiling for Xbox One, as some Xbox One-specific APIs are excluded from XAUDIO2REDIST.H.</span></span> <span data-ttu-id="fcbaa-140">Este pacote NuGet não se destina a Xbox One.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-140">This NuGet package is not intended for Xbox One.</span></span>

### <a name="loading-the-dll"></a><span data-ttu-id="fcbaa-141">Carregando a DLL</span><span class="sxs-lookup"><span data-stu-id="fcbaa-141">Loading the DLL</span></span>

<span data-ttu-id="fcbaa-142">Recomendamos que você vincule seu aplicativo ao XAUDIO2REDIST. LIB e instale o XAUDIO2 \_9REDIST.DLL na mesma pasta que o executável do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-142">We recommend that you link your app with XAUDIO2REDIST.LIB and install XAUDIO2\_9REDIST.DLL in the same folder as your app's executable.</span></span> <span data-ttu-id="fcbaa-143">Isso fará com que o9REDIST.DLL XAUDIO2 \_ seja carregado assim que o executável for lançado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-143">This will cause XAUDIO2\_9REDIST.DLL to be loaded as soon as your executable is launched.</span></span> <span data-ttu-id="fcbaa-144">No entanto, se preferir, você poderá usar [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) e [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) para carregar9REDIST.DLL XAUDIO2 \_ sob demanda.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-144">However, if you prefer, you may use [**LoadLibraryEx**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibraryexw) and [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) to load XAUDIO2\_9REDIST.DLL on demand.</span></span> <span data-ttu-id="fcbaa-145">Essa é uma boa solução se seu aplicativo nem sempre precisa usar as APIs XAudio2.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-145">This is a good solution if your app does not always need to use the XAudio2 APIs.</span></span> <span data-ttu-id="fcbaa-146">Mas se você fizer isso, deverá manter o XAUDIO29REDIST.DLL carregado até que o aplicativo saia, pois tentar descarregar a DLL poderá causar uma falha se um thread em segundo plano ainda estiver executando o código na \_ DLL.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-146">But if you do this, you should keep the XAUDIO2\_9REDIST.DLL loaded until the app exits, as attempting to unload the DLL can cause a crash if a background thread is still executing code in the DLL.</span></span>

<span data-ttu-id="fcbaa-147">Ao contrário do XAudio 2.7 mais antigo, não é possível usar CoCreateInstance para carregar a DLL.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-147">Unlike the older XAudio 2.7, it is not possible to use CoCreateInstance to load the DLL.</span></span>

### <a name="verifying-the-dll-signature"></a><span data-ttu-id="fcbaa-148">Verificando a assinatura de DLL</span><span class="sxs-lookup"><span data-stu-id="fcbaa-148">Verifying the DLL signature</span></span>

<span data-ttu-id="fcbaa-149">O binário de9REDIST.DLL XAUDIO2 \_ é assinado pela Microsoft usando uma assinatura SHA-2.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-149">The XAUDIO2\_9REDIST.DLL binary is signed by Microsoft using a SHA-2 signature.</span></span> <span data-ttu-id="fcbaa-150">Qualquer código que tenta validar a assinatura, por exemplo, módulos anti-cheat para jogos, portanto, precisa dar suporte ao SHA-2.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-150">Any code that attempts to validate the signature, e.g., anti-cheat modules for games, therefore needs to support SHA-2.</span></span> <span data-ttu-id="fcbaa-151">Observe que o Windows 7 SP1 não era originalmente suportado sha-2 e requer uma atualização para adicionar essa funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-151">Note that Windows 7 SP1 did not originally support SHA-2 and requires an update to add that functionality.</span></span> <span data-ttu-id="fcbaa-152">A atualização está disponível como [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-152">The update is available as [KB4474419](https://support.microsoft.com/help/4474419/sha-2-code-signing-support-update).</span></span>

## <a name="testing"></a><span data-ttu-id="fcbaa-153">Testando</span><span class="sxs-lookup"><span data-stu-id="fcbaa-153">Testing</span></span>

### <a name="spatial-sound-in-newer-versions-of-windows-10"></a><span data-ttu-id="fcbaa-154">Som espacial em versões mais recentes do Windows 10</span><span class="sxs-lookup"><span data-stu-id="fcbaa-154">Spatial sound in newer versions of Windows 10</span></span>

<span data-ttu-id="fcbaa-155">A partir da atualização Windows 10 1903, o XAudio 2.9 usa automaticamente o som [de surround virtual](#spatial-sound-and-virtual-surround), se determinadas condições são atendidas.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-155">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses [virtual surround sound](#spatial-sound-and-virtual-surround), if certain conditions are satisfied.</span></span> <span data-ttu-id="fcbaa-156">É recomendável testar o jogo que gera som de vários canais no Windows 10 1903 (ou mais novo) para verificar se o jogo parece o esperado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-156">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span>

#### <a name="enabling-spatial-sound"></a><span data-ttu-id="fcbaa-157">Habilitando o som espacial</span><span class="sxs-lookup"><span data-stu-id="fcbaa-157">Enabling spatial sound</span></span>

<span data-ttu-id="fcbaa-158">O usuário pode habilitar um formato de som espacial clicando com o botão direito do mouse no ícone do locutor na bandeja do sistema Windows.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-158">The user can enable a spatial sound format by right-clicking on the speaker icon in the Windows system tray.</span></span> 

<span data-ttu-id="fcbaa-159">O XAudio 2.9 só usará o formato de som espacial selecionado pelo usuário se o processo que está usando a API XAudio2 for reconhecido como um jogo pelo Windows Game Bar.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-159">XAudio 2.9 will only use the user's selected spatial sound format if the process that is using the XAudio2 API is recognized as a game by the Windows Game Bar.</span></span> <span data-ttu-id="fcbaa-160">Durante o desenvolvimento, é possível que o processo ainda não seja reconhecido como um jogo pelo Game Bar.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-160">During development, it is possible that the process is not yet recognized as a game by the Game Bar.</span></span> <span data-ttu-id="fcbaa-161">Para alterar isso, use o atalho do teclado Win+G para abrir o Game Bar enquanto o jogo está em execução.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-161">To change this, use the Win+G keyboard short-cut to bring up the Game Bar while the game is running.</span></span> <span data-ttu-id="fcbaa-162">Em seguida, clique no ícone "Configurações" e marque a caixa de seleção que diz " Lembre-se de que este é um jogo".</span><span class="sxs-lookup"><span data-stu-id="fcbaa-162">Then click on the "Settings" icon and check the checkbox that says, "Remember that this is a game".</span></span>

#### <a name="opting-out-from-spatial-sound"></a><span data-ttu-id="fcbaa-163">Opting out from spatial sound</span><span class="sxs-lookup"><span data-stu-id="fcbaa-163">Opting out from spatial sound</span></span>

<span data-ttu-id="fcbaa-164">Há uma maneira de não fazer com que XAudio2 use o codificador de som espacial especificando determinados valores para o parâmetro [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) em [**IXAudio2::CreateMasteringVoice.**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice)</span><span class="sxs-lookup"><span data-stu-id="fcbaa-164">There is a way to opt out from having XAudio2 use the spatial sound encoder by specifying certain values for the [**AUDIO_STREAM_CATEGORY**](/windows/win32/api/audiosessiontypes/ne-audiosessiontypes-audio_stream_category) parameter in [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span> 

<span data-ttu-id="fcbaa-165">O som espacial está habilitado para estas categorias:</span><span class="sxs-lookup"><span data-stu-id="fcbaa-165">Spatial sound is enabled for these categories:</span></span>

* <span data-ttu-id="fcbaa-166">AudioCategory_ForegroundOnlyMedia</span><span class="sxs-lookup"><span data-stu-id="fcbaa-166">AudioCategory_ForegroundOnlyMedia</span></span>
* <span data-ttu-id="fcbaa-167">AudioCategory_GameEffects</span><span class="sxs-lookup"><span data-stu-id="fcbaa-167">AudioCategory_GameEffects</span></span>
* <span data-ttu-id="fcbaa-168">AudioCategory_GameMedia</span><span class="sxs-lookup"><span data-stu-id="fcbaa-168">AudioCategory_GameMedia</span></span>
* <span data-ttu-id="fcbaa-169">AudioCategory_Movie</span><span class="sxs-lookup"><span data-stu-id="fcbaa-169">AudioCategory_Movie</span></span>
* <span data-ttu-id="fcbaa-170">AudioCategory_Media</span><span class="sxs-lookup"><span data-stu-id="fcbaa-170">AudioCategory_Media</span></span>

<span data-ttu-id="fcbaa-171">O som espacial não será habilitado se qualquer uma das seguintes categorias for especificada:</span><span class="sxs-lookup"><span data-stu-id="fcbaa-171">Spatial sound is not enabled if any of the following categories are specified:</span></span>

* <span data-ttu-id="fcbaa-172">AudioCategory_Other</span><span class="sxs-lookup"><span data-stu-id="fcbaa-172">AudioCategory_Other</span></span>
* <span data-ttu-id="fcbaa-173">AudioCategory_Communications</span><span class="sxs-lookup"><span data-stu-id="fcbaa-173">AudioCategory_Communications</span></span>
* <span data-ttu-id="fcbaa-174">AudioCategory_Alerts</span><span class="sxs-lookup"><span data-stu-id="fcbaa-174">AudioCategory_Alerts</span></span>
* <span data-ttu-id="fcbaa-175">AudioCategory_SoundEffects</span><span class="sxs-lookup"><span data-stu-id="fcbaa-175">AudioCategory_SoundEffects</span></span>
* <span data-ttu-id="fcbaa-176">AudioCategory_GameChat</span><span class="sxs-lookup"><span data-stu-id="fcbaa-176">AudioCategory_GameChat</span></span>
* <span data-ttu-id="fcbaa-177">AudioCategory_Speech</span><span class="sxs-lookup"><span data-stu-id="fcbaa-177">AudioCategory_Speech</span></span>

### <a name="error-handling"></a><span data-ttu-id="fcbaa-178">Tratamento de erros</span><span class="sxs-lookup"><span data-stu-id="fcbaa-178">Error handling</span></span>

<span data-ttu-id="fcbaa-179">É importante testar se o jogo pode lidar com uma alteração no dispositivo de áudio, por exemplo, quando os fones de ouvido estão conectados ou desconectados.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-179">It is important to test that you game can handle a change in audio device, for example, when headphones are plugged in, or unplugged.</span></span> <span data-ttu-id="fcbaa-180">Isso deve ser testado com fones de ouvido que só suportam taxa de amostragem de 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-180">This should be tested with headphones that only support 44.1 kHz sampling rate.</span></span> <span data-ttu-id="fcbaa-181">Muitos fones de ouvido USB de baixo nível e headsets Bluetooth só são compatíveis com 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-181">Many low-end USB headphones and Bluetooth headsets only support 44.1 kHz.</span></span> <span data-ttu-id="fcbaa-182">A transição entre a taxa de amostragem de 48 kHz e a taxa de amostragem de 44,1 kHz pode causar um erro mesmo quando o recurso de ponto de extremidade de áudio [virtual](#virtual-audio-endpoint) é usado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-182">The transition between 48 kHz sampling rate and 44.1 kHz sampling rate can cause an error even when the [virtual audio endpoint](#virtual-audio-endpoint) feature is used.</span></span> <span data-ttu-id="fcbaa-183">O erro não ocorrerá se os fones de ouvido também deem suporte a 48 kHz.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-183">The error will not happen if the headphones also support 48 kHz.</span></span> <span data-ttu-id="fcbaa-184">Observe que o recurso de ponto de extremidade de áudio virtual não está disponível no Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-184">Note that the virtual audio endpoint feature is not available on Windows 7 SP1.</span></span>

<span data-ttu-id="fcbaa-185">O código de erro retornado pelo XAudio 2.9 quando ele não pode se recuperar automaticamente de uma alteração no ponto de extremidade de áudio é [XAUDIO2 \_ E \_ DEVICE \_ INVALIDATED](xaudio2-error-codes.md).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-185">The error code returned by XAudio 2.9 when it cannot automatically recover from a change in audio endpoint is [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md).</span></span> <span data-ttu-id="fcbaa-186">No entanto, recomendamos que os aplicativos não codificam uma dependência no código de erro com um valor específico.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-186">However, we recommend that apps do not hard-code a dependency on the error code having a specific value.</span></span>

<span data-ttu-id="fcbaa-187">Para ser notificado sobre o erro, o aplicativo deve implementar a interface [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) e fornecer um ponteiro para essa interface invocando o método [**IXAudio2::RegisterForCallbacks.**](xaudio2-callbacks.md)</span><span class="sxs-lookup"><span data-stu-id="fcbaa-187">To be notified of the error, the app should implement the [**IXAudio2EngineCallback**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2enginecallback) interface and provide a pointer to that interface by invoking the [**IXAudio2::RegisterForCallbacks**](xaudio2-callbacks.md) method.</span></span> <span data-ttu-id="fcbaa-188">A implementação do aplicativo [**de IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) será invocada pela API XAudio2 se ocorrer um erro durante a reprodução.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-188">The app's implementation of the [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) will be invoked by the XAudio2 API if an error occurs during playback.</span></span>

<span data-ttu-id="fcbaa-189">Observe que [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) não será necessariamente invocado se o pipeline de áudio estiver em pausa.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-189">Note that [**IXAudio2EngineCallback::OnCriticalError**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2enginecallback-oncriticalerror) is not necessarily invoked if the audio pipeline is paused.</span></span> <span data-ttu-id="fcbaa-190">Por exemplo, se o usuário minimizar o aplicativo ou o aplicativo for suspenso por qualquer motivo, a reprodução de áudio poderá ser pausada.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-190">For example, if the user minimizes the app, or the app gets suspended for any reason, audio playback might be paused.</span></span> <span data-ttu-id="fcbaa-191">Se a alteração no dispositivo de áudio ocorrer durante esse tempo, o erro só será retornado quando o aplicativo invocar [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) e/ou invocar [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-191">If the change in audio device happens during this time, the error is only returned when the app invokes [**IXAudio2::StartEngine**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2-startengine) and/or invokes [**IXAudio2SourceVoice::Start**](/windows/desktop/api/xaudio2/nf-xaudio2-ixaudio2sourcevoice-start).</span></span> <span data-ttu-id="fcbaa-192">Se a reprodução puder ser pausada com seu aplicativo, você deverá testar a alteração do dispositivo de áudio enquanto a reprodução está em pausa, para verificar se o aplicativo ainda pode se recuperar dessa situação.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-192">If playback can be paused with your app, you should test changing the audio device while the playback is paused, to verify that the app still can recover from this situation.</span></span>

## <a name="xaudio-29-api-differences-compared-to-xaudio-27"></a><span data-ttu-id="fcbaa-193">Diferenças de API do XAudio 2.9 em comparação com o XAudio 2.7</span><span class="sxs-lookup"><span data-stu-id="fcbaa-193">XAudio 2.9 API differences compared to XAudio 2.7</span></span>

<span data-ttu-id="fcbaa-194">Esta seção fornece um resumo de algumas das diferenças de API entre o XAudio 2.7 e a versão redistribuível do XAudio 2.9.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-194">This section provides a summary of some of the API differences between XAudio 2.7 and the redistributable version of XAudio 2.9.</span></span>

### <a name="supported-formats"></a><span data-ttu-id="fcbaa-195">Formatos com suporte</span><span class="sxs-lookup"><span data-stu-id="fcbaa-195">Supported formats</span></span>

<span data-ttu-id="fcbaa-196">O XAudio 2.9 dá suporte a esses formatos de entrada no PC:</span><span class="sxs-lookup"><span data-stu-id="fcbaa-196">XAudio 2.9 supports these input formats on PC:</span></span>

* <span data-ttu-id="fcbaa-197">PCM linear de 16 bits</span><span class="sxs-lookup"><span data-stu-id="fcbaa-197">Linear 16-bit PCM</span></span>
* <span data-ttu-id="fcbaa-198">PCM Float linear de 32 bits</span><span class="sxs-lookup"><span data-stu-id="fcbaa-198">Linear 32-bit Float PCM</span></span>
* <span data-ttu-id="fcbaa-199">ADPCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="fcbaa-199">16-bit ADPCM</span></span>
* <span data-ttu-id="fcbaa-200">xWMA</span><span class="sxs-lookup"><span data-stu-id="fcbaa-200">xWMA</span></span>

<span data-ttu-id="fcbaa-201">O formato XMA só tem suporte no Xbox One.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-201">The XMA format is only supported on Xbox One.</span></span>

### <a name="preferred-cpu-core"></a><span data-ttu-id="fcbaa-202">Núcleo de CPU preferencial</span><span class="sxs-lookup"><span data-stu-id="fcbaa-202">Preferred CPU core</span></span>

<span data-ttu-id="fcbaa-203">É possível especificar qual CPU Core XAudio 2,9 deve usar para seu thread de processamento de áudio.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-203">It is possible to specify which CPU core XAudio 2.9 should use for its audio processing thread.</span></span> <span data-ttu-id="fcbaa-204">No entanto, geralmente é preferível permitir que XAudio 2,9 escolha esse valor por si só.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-204">However, it is usually preferred to let XAudio 2.9 choose this value by itself.</span></span> <span data-ttu-id="fcbaa-205">Isso é feito definindo o parâmetro **XAudio2Processor** na chamada para [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) como XAudio2 usar o \_ \_ processador padrão \_ .</span><span class="sxs-lookup"><span data-stu-id="fcbaa-205">This is done by setting the **XAudio2Processor** parameter in the call to [**XAudio2Create**](/windows/desktop/api/xaudio2/nf-xaudio2-xaudio2create) to XAUDIO2\_USE\_DEFAULT\_PROCESSOR.</span></span> 

<span data-ttu-id="fcbaa-206">O XAudio 2,9 escolherá um núcleo de CPU diferente no Xbox, um do PC.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-206">XAudio 2.9 will choose a different CPU core on Xbox One than on PC.</span></span> <span data-ttu-id="fcbaa-207">O método IXAudio2Extension:: getprocesser pode ser usado para determinar qual XAudio2 de CPU principal foi escolhido.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-207">The IXAudio2Extension::GetProcessor method can be used to determine which CPU core XAudio2 has chosen.</span></span>

### <a name="virtual-audio-endpoint"></a><span data-ttu-id="fcbaa-208">Ponto de extremidade de áudio virtual</span><span class="sxs-lookup"><span data-stu-id="fcbaa-208">Virtual audio endpoint</span></span>

<span data-ttu-id="fcbaa-209">O XAudio 2,9 usará um ponto de extremidade de áudio virtual por padrão, quando executado no Windows 8 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-209">XAudio 2.9 will use a virtual audio endpoint by default, when running on Windows 8 or later.</span></span> <span data-ttu-id="fcbaa-210">Isso significa que, se o ponto de extremidade de áudio padrão for alterado enquanto XAudio 2,9 for usado, ele tentará alternar automaticamente para o novo ponto de extremidade de áudio.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-210">This means that if the default audio endpoint changes while XAudio 2.9 is used, it will attempt to automatically switch to the new audio endpoint.</span></span> <span data-ttu-id="fcbaa-211">Um exemplo de quando isso pode acontecer quando o ponto de extremidade de áudio padrão é um par de fones de ouvido conectados por USB e, em seguida, o usuário desconecta os fones de ouvido.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-211">An example of when this can happen when the default audio endpoint is a pair of headphones that are connected over USB, and then the user unplugs the headphones.</span></span> <span data-ttu-id="fcbaa-212">Isso fará com que os alto-falantes sejam o novo ponto de extremidade de áudio padrão.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-212">This will cause the speakers to be the new default audio endpoint.</span></span>

<span data-ttu-id="fcbaa-213">Se o aplicativo especificar um formato de áudio específico ao invocar [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), talvez não seja possível para o XAudio 2,9 executar essa opção.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-213">If the app specifies a specific audio format when invoking [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice), it may not be possible for XAudio 2.9 to perform this switch.</span></span> <span data-ttu-id="fcbaa-214">Por exemplo, se o aplicativo especificou que a voz de mestre deve usar uma taxa de amostragem de 48 kHz e o novo dispositivo de áudio der suporte apenas a 44,1 kHz, o comutador automático falhará e o XAudio 2,9 relatará o erro [ \_ \_ \_ invalidado do dispositivo XAudio2 E](xaudio2-error-codes.md) .</span><span class="sxs-lookup"><span data-stu-id="fcbaa-214">For example, if the app specified that the Mastering Voice shall use a 48 kHz sampling rate and the new audio device only supports 44.1 kHz, then the automatic switch will fail, and XAudio 2.9 will report the [XAUDIO2\_E\_DEVICE\_INVALIDATED](xaudio2-error-codes.md) error.</span></span>

<span data-ttu-id="fcbaa-215">É possível que o aplicativo cancele o uso do ponto de extremidade de áudio virtual passando o sinalizador [**não XAudio2 \_ de \_ \_ \_ cliente de áudio virtual**](xaudio2-boundary-values-and-flags.md) para [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span><span class="sxs-lookup"><span data-stu-id="fcbaa-215">It is possible for the app to opt out of using the virtual audio endpoint by passing in the [**XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT**](xaudio2-boundary-values-and-flags.md) flag to [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice).</span></span>

<span data-ttu-id="fcbaa-216">Os pontos de extremidade de áudio virtual não estão disponíveis no Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-216">Virtual audio endpoints are not available on Windows 7 SP1.</span></span> <span data-ttu-id="fcbaa-217">O **sinalizador \_ XAudio2 \_ nenhum \_ \_ cliente de áudio virtual** não tem nenhum efeito no Windows 7 SP1.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-217">The **XAUDIO2\_NO\_VIRTUAL\_AUDIO\_CLIENT** flag has no effect on Windows 7 SP1.</span></span>

### <a name="audio-categories"></a><span data-ttu-id="fcbaa-218">Categorias de áudio</span><span class="sxs-lookup"><span data-stu-id="fcbaa-218">Audio categories</span></span>

<span data-ttu-id="fcbaa-219">O aplicativo deve especificar uma categoria para seu fluxo de áudio.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-219">The app should specify a category for its audio stream.</span></span> <span data-ttu-id="fcbaa-220">Isso é feito fornecendo um valor da enumeração AudioCategory ao invocar o método [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) .</span><span class="sxs-lookup"><span data-stu-id="fcbaa-220">This is done by providing a value from the AudioCategory enumeration when invoking the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) method.</span></span> <span data-ttu-id="fcbaa-221">Por exemplo, AudioCategory_GameEffects.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-221">For example, AudioCategory_GameEffects.</span></span> <span data-ttu-id="fcbaa-222">A categoria de áudio pode afetar o modo como o Windows processa o som ou como ele representa o fluxo de áudio no painel de controle de volume.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-222">The audio category can affect how Windows processes the sound or how it represents the audio stream in the volume control panel.</span></span> <span data-ttu-id="fcbaa-223">A categoria de áudio também afeta se o [surround virtual](#spatial-sound-and-virtual-surround) está habilitado automaticamente.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-223">The audio category also affects if [virtual surround sound](#spatial-sound-and-virtual-surround) is automatically enabled.</span></span>

### <a name="duration-of-audio-processing-quantum"></a><span data-ttu-id="fcbaa-224">Duração da Quantum de processamento de áudio</span><span class="sxs-lookup"><span data-stu-id="fcbaa-224">Duration of audio processing quantum</span></span>

<span data-ttu-id="fcbaa-225">Na maioria dos PCs, XAudio 2,9 processa o áudio em partes de 10 milissegundos.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-225">On most PCs, XAudio 2.9 processes audio in 10 millisecond chunks.</span></span> <span data-ttu-id="fcbaa-226">Isso é chamado de Quantum de processamento.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-226">This is called the processing quantum.</span></span> <span data-ttu-id="fcbaa-227">No entanto, a duração dessa Quantum pode ser diferente de 10 milissegundos em algum hardware.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-227">However, the duration of this quantum may be different than 10 milliseconds on some hardware.</span></span> <span data-ttu-id="fcbaa-228">Os aplicativos que precisam saber a Quantum exata podem invocar o método IXAudio2Extension:: GetProcessingQuantum para recuperar o valor.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-228">Apps that need to know the exact quantum can invoke the IXAudio2Extension::GetProcessingQuantum method to retrieve the value.</span></span>

### <a name="spatial-sound-and-virtual-surround"></a><span data-ttu-id="fcbaa-229">Som espacial e surround virtual</span><span class="sxs-lookup"><span data-stu-id="fcbaa-229">Spatial sound and virtual surround</span></span>

<span data-ttu-id="fcbaa-230">A partir da atualização do Windows 10 1903, o XAudio 2,9 usa automaticamente o Surround Sound virtual, se determinadas condições forem satisfeitas.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-230">Starting with the Windows 10 1903 update, XAudio 2.9 automatically uses virtual surround sound, if certain conditions are satisfied.</span></span> <span data-ttu-id="fcbaa-231">É recomendável testar o jogo que gera som multicanal no Windows 10 1903 (ou mais recente) para verificar se o jogo soa como esperado.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-231">We recommend testing game that generate multi-channel sound on Windows 10 1903 (or newer) to verify that the game sounds as expected.</span></span> <span data-ttu-id="fcbaa-232">Consulte a seção [teste de som espacial](#spatial-sound-in-newer-versions-of-windows-10) para obter uma discussão sobre como testar esse recurso.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-232">See the [testing spatial sound](#spatial-sound-in-newer-versions-of-windows-10) section for a discussion about how to test this feature.</span></span>

<span data-ttu-id="fcbaa-233">Normalmente, o XAudio 2,9 executa uma dobra de qualquer áudio de vários canais para corresponder ao número "físico" de canais de áudio que são suportados pelo ponto de extremidade de áudio.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-233">Normally, XAudio 2.9 performs a folds down any multi-channel audio to match the "physical" number of audio channels that are supported by the audio endpoint.</span></span> <span data-ttu-id="fcbaa-234">Por exemplo, se o jogo fornecer uma fonte de áudio de canal de 7,1, mas o som for reproduzido nos fones de ouvido, XAudio 2,9 dobrará o áudio do canal 7,1 em estéreo, usando uma matriz de dobras padrão do setor.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-234">For example, if the game provides a 7.1 channel audio source, but the sound is played on headphones, XAudio 2.9 will fold down the 7.1 channel audio into stereo, using an industry standard fold-down matrix.</span></span> <span data-ttu-id="fcbaa-235">Se o PC estiver conectado a um ponto de extremidade de áudio HDMI, o áudio do canal 7,1 será transmitido como está por meio da conexão HDMI.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-235">If the PC is connected to a HDMI audio endpoint, then the 7.1 channel audio will be transmitted as-is over the HDMI connection.</span></span>

<span data-ttu-id="fcbaa-236">O Windows 10 adiciona suporte para áudio espacial, usando um codificador centralizado que codifica áudio em um formato de [som espacial](../coreaudio/spatial-sound.md) selecionado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-236">Windows 10 adds support for spatial audio, using a centralized encoder that encodes audio into a user-selected [spatial sound](../coreaudio/spatial-sound.md) format.</span></span> <span data-ttu-id="fcbaa-237">O Windows 10 vem incluído com um formato de som espacial chamado Windows Sonic.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-237">Windows 10 comes included with a spatial sound format called Windows Sonic.</span></span> <span data-ttu-id="fcbaa-238">Outros formatos, como Dolby Atmos para fones de ouvido, podem ser baixados da Microsoft Store.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-238">Other formats, such as Dolby Atmos for Headphones, can be downloaded from the Microsoft Store.</span></span> <span data-ttu-id="fcbaa-239">Alguns dos formatos de som espaciais, como o Windows Sonic e o Dolby Atmos para fones de ouvido, foram projetados para serem usados em pontos de extremidade de áudio estéreo.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-239">Some of the spatial sound formats, such as Windows Sonic and Dolby Atmos for Headphones, are designed to be used on stereo audio endpoints.</span></span> <span data-ttu-id="fcbaa-240">Esses formatos dobram o som surround para o estéreo usando algoritmos proprietários que atingem um efeito de som surround "virtual".</span><span class="sxs-lookup"><span data-stu-id="fcbaa-240">These formats fold down surround sound to stereo using proprietary algorithms that achieve a "virtual" surround sound effect.</span></span> <span data-ttu-id="fcbaa-241">Em outras palavras, o ouvinte pode perceber que o som aparecesse de diferentes posições no espaço 3D mesmo enquanto estiver apenas gastando fones de ouvido ou escutando em um único par de auto-falantes estéreo.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-241">In other words, the listener can perceive sound appearing from different positions in 3D space even while only wearing headphones, or while listening on a single pair of stereo speakers.</span></span>

<span data-ttu-id="fcbaa-242">Efeitos semelhantes podem ser obtidos usando as APIs [X3DAudio](x3daudio.md) incluídas no XAudio 2,9.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-242">Similar effects can be achieved using the [X3DAudio](x3daudio.md) APIs that are included with XAudio 2.9.</span></span> <span data-ttu-id="fcbaa-243">A principal diferença é que o X3DAudio exige que o desenvolvedor do aplicativo programe explicitamente para áudio 3D, enquanto que o surround virtual é aplicado automaticamente a qualquer fonte de som baseada em canal tradional.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-243">The main difference is that X3DAudio requires the app developer to explicitly program for 3D audio, whereas virtual surround sound is applied automatically to any tradional channel-based sound source.</span></span>

<span data-ttu-id="fcbaa-244">No Windows 10 1903 e mais recentes, os jogos que usam o XAudio 2,9 usarão o formato de som espacial de todo o sistema que o usuário habilitou no ponto de extremidade de áudio, se houver.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-244">On Windows 10 1903, and newer, games that use XAudio 2.9 will use the system-wide spatial sound format that the user has enabled on the audio endpoint, if any.</span></span> <span data-ttu-id="fcbaa-245">Isso significa que o XAudio 2,9 não executará a dobra normal do som surround para o estéreo.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-245">This means that XAudio 2.9 will not perform the usual fold-down of surround sound to stereo.</span></span> <span data-ttu-id="fcbaa-246">Em vez disso, o sinal de som surround será entregue ao codificador de som espacial (por exemplo, o Windows Sonic) para obter um efeito surround virtual.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-246">Instead, the surround sound signal will be delivered to the spatial sound encoder (e.g., Windows Sonic) to achieve a virtual surround sound effect.</span></span>

### <a name="createhrtfapo"></a><span data-ttu-id="fcbaa-247">CreateHrtfApo</span><span class="sxs-lookup"><span data-stu-id="fcbaa-247">CreateHrtfApo</span></span>

<span data-ttu-id="fcbaa-248">A função [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) só está disponível no Windows 10.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-248">The [**CreateHrtfApo**](/windows/desktop/api/HrtfApoApi/nf-hrtfapoapi-createhrtfapo) function is only available on Windows 10.</span></span> <span data-ttu-id="fcbaa-249">Ele não é implementado no XAudio 2,9 redistribuível.</span><span class="sxs-lookup"><span data-stu-id="fcbaa-249">It is not implemented in the XAudio 2.9 redistributable.</span></span>
