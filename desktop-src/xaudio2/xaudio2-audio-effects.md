---
description: Um efeito de áudio é um objeto que usa dados de áudio de entrada e executa alguma operação nos dados antes de passá-los. Você pode usar um efeito para executar uma variedade de tarefas, incluindo adicionar reverberação a um fluxo de áudio e monitorar os níveis de volume de pico.
ms.assetid: 8c3fa4ca-dcff-bd23-7220-7d0aeb6c6068
title: Efeitos de áudio XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f8de87a65ea4321b5e8d73a837f79a3e56e8e3a0
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105772731"
---
# <a name="xaudio2-audio-effects"></a><span data-ttu-id="f99da-104">Efeitos de áudio XAudio2</span><span class="sxs-lookup"><span data-stu-id="f99da-104">XAudio2 Audio Effects</span></span>

<span data-ttu-id="f99da-105">Um efeito de áudio é um objeto que usa dados de áudio de entrada e executa alguma operação nos dados antes de passá-los.</span><span class="sxs-lookup"><span data-stu-id="f99da-105">An audio effect is an object that takes incoming audio data, and performs some operation on the data before passing it on.</span></span> <span data-ttu-id="f99da-106">Você pode usar um efeito para executar uma variedade de tarefas, incluindo adicionar reverberação a um fluxo de áudio e monitorar os níveis de volume de pico.</span><span class="sxs-lookup"><span data-stu-id="f99da-106">You can use an effect to perform a variety of tasks, including adding reverb to an audio stream and monitoring peak volume levels.</span></span>

## <a name="effect-chains"></a><span data-ttu-id="f99da-107">Cadeias de efeito</span><span class="sxs-lookup"><span data-stu-id="f99da-107">Effect Chains</span></span>

<span data-ttu-id="f99da-108">Qualquer voz XAudio2 pode hospedar uma cadeia de efeitos de áudio.</span><span class="sxs-lookup"><span data-stu-id="f99da-108">Any XAudio2 voice can host a chain of audio effects.</span></span> <span data-ttu-id="f99da-109">Você pode usar uma matriz de estruturas de [**\_ \_ descritor de efeito XAudio2**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor) para especificar cadeias de efeito.</span><span class="sxs-lookup"><span data-stu-id="f99da-109">You can use an array of [**XAUDIO2\_EFFECT\_DESCRIPTOR**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor) structures to specify effect chains.</span></span> <span data-ttu-id="f99da-110">Cada descritor contém um ponteiro para um objeto de efeito fornecido pelo cliente.</span><span class="sxs-lookup"><span data-stu-id="f99da-110">Each descriptor contains a pointer to an effect object provided by the client.</span></span> <span data-ttu-id="f99da-111">Esses objetos devem implementar as interfaces do objeto de processamento de áudio (APO).</span><span class="sxs-lookup"><span data-stu-id="f99da-111">These objects must implement the Audio Processing Object (APO) interfaces.</span></span> <span data-ttu-id="f99da-112">Consulte a [visão geral do XAPO](xapo-overview.md) para obter mais informações sobre o modelo APO.</span><span class="sxs-lookup"><span data-stu-id="f99da-112">See the [XAPO Overview](xapo-overview.md) for more information about the APO model.</span></span>

<span data-ttu-id="f99da-113">Cadeias de efeitos podem ser modificadas dinamicamente pelo cliente (enquanto o mecanismo XAudio2 está em execução), os efeitos podem ser habilitados ou desabilitados individualmente, e os parâmetros de efeito podem ser alterados, tudo isso sem qualquer interrupção do áudio.</span><span class="sxs-lookup"><span data-stu-id="f99da-113">Effect chains can be modified by the client dynamically (while the XAudio2 engine is running), effects can be enabled or disabled individually, and effect parameters can be changed—all without any interruption of the audio.</span></span> <span data-ttu-id="f99da-114">Sempre que qualquer aspecto do efeito do gráfico é alterado, o XAudio2 otimiza o grafo novamente para evitar o processamento desnecessário.</span><span class="sxs-lookup"><span data-stu-id="f99da-114">Whenever any aspect of the effect graph changes, XAudio2 optimizes the graph again to avoid unnecessary processing.</span></span> <span data-ttu-id="f99da-115">Consulte [**IXAudio2Voice:: SetEffectChain**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectchain), [**IXAudio2Voice:: EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect)e [**IXAudio2Voice:: seteffectparameters**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters).</span><span class="sxs-lookup"><span data-stu-id="f99da-115">See [**IXAudio2Voice::SetEffectChain**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectchain), [**IXAudio2Voice::EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect), and [**IXAudio2Voice::SetEffectParameters**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-seteffectparameters).</span></span>

<span data-ttu-id="f99da-116">Depois que um efeito é anexado a uma voz do XAudio2, o XAudio2 assume o controle do efeito e o cliente não deve fazer mais nenhuma chamada a ele.</span><span class="sxs-lookup"><span data-stu-id="f99da-116">After an effect is attached to an XAudio2 voice, XAudio2 takes control of the effect, and the client should not make any further calls to it.</span></span> <span data-ttu-id="f99da-117">A maneira mais simples de garantir isso é liberar todos os ponteiros para o efeito.</span><span class="sxs-lookup"><span data-stu-id="f99da-117">The simplest way to ensure this is to release all pointers to the effect.</span></span>

<span data-ttu-id="f99da-118">Os efeitos em uma cadeia de efeitos de uma voz XAudio2 específica devem consumir e produzir áudio de ponto flutuante na taxa de amostragem de processamento dessa voz.</span><span class="sxs-lookup"><span data-stu-id="f99da-118">The effects in a given XAudio2 voice's effect chain must consume and produce floating-point audio at that voice's processing sample rate.</span></span> <span data-ttu-id="f99da-119">O único aspecto do formato de áudio que eles podem alterar é a contagem de canais (por exemplo, um efeito de reverberação pode converter dados mono em 5,1).</span><span class="sxs-lookup"><span data-stu-id="f99da-119">The only aspect of the audio format they can change is the channel count (for example, a reverb effect can convert mono data to 5.1).</span></span> <span data-ttu-id="f99da-120">O cliente pode usar o [**\_ \_ descritor de efeito XAudio2**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor).**Campo OutputChannels** para especificar o número de canais que cada efeito deve produzir.</span><span class="sxs-lookup"><span data-stu-id="f99da-120">The client can use the [**XAUDIO2\_EFFECT\_DESCRIPTOR**](/windows/desktop/api/xaudio2/ns-xaudio2-xaudio2_effect_descriptor).**OutputChannels** field to specify the number of channels that each effect should produce.</span></span> <span data-ttu-id="f99da-121">A cadeia de efeitos falhará se qualquer um dos efeitos não puder atender a esses requisitos, ou se um efeito produzir vários canais que o próximo efeito não possa manipular.</span><span class="sxs-lookup"><span data-stu-id="f99da-121">The effect chain fails if any of the effects cannot fulfill these requirements, or if an effect produces a number of channels that the next effect cannot handle.</span></span> <span data-ttu-id="f99da-122">Qualquer [**IXAudio2Voice:: EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect) ou [**IXAudio2Voice::D isableeffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-disableeffect) chamadas que fazem com que a cadeia de efeitos pare de atender a esses requisitos falharão.</span><span class="sxs-lookup"><span data-stu-id="f99da-122">Any [**IXAudio2Voice::EnableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-enableeffect) or [**IXAudio2Voice::DisableEffect**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2voice-disableeffect) calls that cause the effect chain to stop fulfilling these requirements will fail.</span></span>

<span data-ttu-id="f99da-123">As interfaces APO usadas em XAudio2 devem ser *destrutivas*.</span><span class="sxs-lookup"><span data-stu-id="f99da-123">APO interfaces used in XAudio2 must be *destructive*.</span></span> <span data-ttu-id="f99da-124">Isso significa que eles sempre substituem os dados encontrados em seus buffers de saída.</span><span class="sxs-lookup"><span data-stu-id="f99da-124">This means they always overwrite any data they find in their output buffers.</span></span> <span data-ttu-id="f99da-125">Caso contrário, o áudio resultante pode estar incorreto porque XAudio2 não garante que esses buffers tenham sido inicializados anteriormente com silêncio.</span><span class="sxs-lookup"><span data-stu-id="f99da-125">Otherwise, the resulting audio might be incorrect because XAudio2 makes no guarantee that these buffers have been initialized previously with silence.</span></span>

## <a name="xaudio2-built-in-effects"></a><span data-ttu-id="f99da-126">XAudio2 efeitos internos</span><span class="sxs-lookup"><span data-stu-id="f99da-126">XAudio2 Built-in Effects</span></span>

<span data-ttu-id="f99da-127">A tabela a seguir lista o conjunto de efeitos de áudio internos fornecidos pelo XAudio2 e seus métodos de criação.</span><span class="sxs-lookup"><span data-stu-id="f99da-127">The following table lists the set of built-in audio effects provided by XAudio2 and their creation methods.</span></span> 

| <span data-ttu-id="f99da-128">Efeito</span><span class="sxs-lookup"><span data-stu-id="f99da-128">Effect</span></span>       | <span data-ttu-id="f99da-129">Método de criação</span><span class="sxs-lookup"><span data-stu-id="f99da-129">Creation Method</span></span>                                              |
|--------------|--------------------------------------------------------------|
| <span data-ttu-id="f99da-130">Reverberação</span><span class="sxs-lookup"><span data-stu-id="f99da-130">Reverb</span></span>       | [<span data-ttu-id="f99da-131">**XAudio2CreateReverb**</span><span class="sxs-lookup"><span data-stu-id="f99da-131">**XAudio2CreateReverb**</span></span>](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createreverb)           |
| <span data-ttu-id="f99da-132">Medidor de volume</span><span class="sxs-lookup"><span data-stu-id="f99da-132">Volume Meter</span></span> | [<span data-ttu-id="f99da-133">**XAudio2CreateVolumeMeter**</span><span class="sxs-lookup"><span data-stu-id="f99da-133">**XAudio2CreateVolumeMeter**</span></span>](/windows/desktop/api/xaudio2fx/nf-xaudio2fx-xaudio2createvolumemeter) |



 

<span data-ttu-id="f99da-134">Para obter um exemplo de como criar e usar uma instância de um efeito de áudio, consulte [como: criar uma cadeia de efeito](how-to--create-an-effect-chain.md).</span><span class="sxs-lookup"><span data-stu-id="f99da-134">For an example of creating and using an instance of an audio effect, see [How to: Create an Effect Chain](how-to--create-an-effect-chain.md).</span></span>

## <a name="custom-effects-in-xaudio2"></a><span data-ttu-id="f99da-135">Efeitos personalizados em XAudio2</span><span class="sxs-lookup"><span data-stu-id="f99da-135">Custom Effects in XAudio2</span></span>

<span data-ttu-id="f99da-136">A API [XAPO](xapo-overview.md) fornece uma estrutura para a criação de efeitos de áudio personalizados que você pode usar em XAudio2.</span><span class="sxs-lookup"><span data-stu-id="f99da-136">The [XAPO](xapo-overview.md) API provides a framework for creating custom audio effects that you can use in XAudio2.</span></span> <span data-ttu-id="f99da-137">Para obter um exemplo de como criar um efeito personalizado com XAPO, consulte [como: criar um XAPO](how-to--create-an-xapo.md).</span><span class="sxs-lookup"><span data-stu-id="f99da-137">For an example of creating a custom effect with XAPO, see [How to: Create an XAPO](how-to--create-an-xapo.md).</span></span>

## <a name="xapo-effect-library-xapofx"></a><span data-ttu-id="f99da-138">XAPOFX (XAPO Effect Library)</span><span class="sxs-lookup"><span data-stu-id="f99da-138">XAPO Effect Library (XAPOFX)</span></span>

<span data-ttu-id="f99da-139">O [xapofx](xapofx-overview.md) fornece uma biblioteca adicional de XAPOs e mecanismos comuns para criá-los.</span><span class="sxs-lookup"><span data-stu-id="f99da-139">[XAPOFX](xapofx-overview.md) provides an additional library of XAPOs and common mechanism for creating them.</span></span> <span data-ttu-id="f99da-140">Para obter um exemplo de como usar XAPOFX com XAudio2, consulte [como: usar xapofx no XAudio2](how-to--use-xapofx-in-xaudio2.md).</span><span class="sxs-lookup"><span data-stu-id="f99da-140">For an example of using XAPOFX with XAudio2, see [How to: Use XAPOFX in XAudio2](how-to--use-xapofx-in-xaudio2.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f99da-141">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f99da-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f99da-142">Efeitos de áudio</span><span class="sxs-lookup"><span data-stu-id="f99da-142">Audio Effects</span></span>](audio-effects.md)
</dt> <dt>

[<span data-ttu-id="f99da-143">Guia de Programação em XAudio2</span><span class="sxs-lookup"><span data-stu-id="f99da-143">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 
