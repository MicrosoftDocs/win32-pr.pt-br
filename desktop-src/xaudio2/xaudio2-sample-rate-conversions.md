---
description: As vozes XAudio2 podem executar conversões de taxa de amostragem automáticas se a taxa de amostragem de entrada for diferente da taxa de amostra de entrada de suas vozes de saída.
ms.assetid: be34ce62-6552-45e2-a247-830ab55ea9ec
title: Conversões de taxa de exemplo XAudio2
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d437a45f9e896826bedc1418382fb257201722d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104172040"
---
# <a name="xaudio2-sample-rate-conversions"></a><span data-ttu-id="a8f99-103">Conversões de taxa de exemplo XAudio2</span><span class="sxs-lookup"><span data-stu-id="a8f99-103">XAudio2 Sample Rate Conversions</span></span>

<span data-ttu-id="a8f99-104">As vozes XAudio2 podem executar conversões de taxa de amostragem automáticas se a taxa de amostragem de entrada for diferente da taxa de amostra de entrada de suas vozes de saída.</span><span class="sxs-lookup"><span data-stu-id="a8f99-104">XAudio2 voices can perform automatic sample rate conversions if their input sample rate is different from the input sample rate of their output voices.</span></span>

<span data-ttu-id="a8f99-105">As conversões de taxa de amostra seguem estas regras:</span><span class="sxs-lookup"><span data-stu-id="a8f99-105">Sample rate conversions follow these rules:</span></span>

-   <span data-ttu-id="a8f99-106">A taxa de amostra de entrada de voz é fixa.</span><span class="sxs-lookup"><span data-stu-id="a8f99-106">Voice input sample rate is fixed.</span></span>

    <span data-ttu-id="a8f99-107">As vozes só podem manipular a taxa de amostra de entrada especificada quando foram criadas.</span><span class="sxs-lookup"><span data-stu-id="a8f99-107">Voices can only handle the input sample rate specified when they were created.</span></span> <span data-ttu-id="a8f99-108">Para [**vozes de mestre**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) e [**vozes submix**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), a taxa de amostra de entrada é especificada com o argumento *InputSampleRate* para as funções [**IXAudio2:: CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) e [**IXAudio2:: CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) .</span><span class="sxs-lookup"><span data-stu-id="a8f99-108">For [**mastering voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2masteringvoice) and [**submix voices**](/windows/desktop/api/xaudio2/nn-xaudio2-ixaudio2submixvoice), the input sample rate is specified with the *InputSampleRate* argument to the [**IXAudio2::CreateMasteringVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createmasteringvoice) and [**IXAudio2::CreateSubmixVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsubmixvoice) functions.</span></span> <span data-ttu-id="a8f99-109">Para as vozes de origem, a taxa de amostra de entrada da voz é especificada pelo argumento pSourceFormat para a função [**IXAudio2:: CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) .</span><span class="sxs-lookup"><span data-stu-id="a8f99-109">For source voices, the input sample rate of the voice is specified by the pSourceFormat argument to the [**IXAudio2::CreateSourceVoice**](/windows/win32/api/xaudio2/nf-xaudio2-ixaudio2-createsourcevoice) function.</span></span>

-   <span data-ttu-id="a8f99-110">Todas as vozes de saída de uma voz devem ter a mesma taxa de amostragem de entrada.</span><span class="sxs-lookup"><span data-stu-id="a8f99-110">All of a voice's output voices must have the same input sample rate.</span></span>

    <span data-ttu-id="a8f99-111">As vozes podem converter de sua taxa de amostra de entrada para qualquer taxa de amostragem de saída, mas todas as vozes de saída da voz devem ter a mesma taxa de amostra de entrada.</span><span class="sxs-lookup"><span data-stu-id="a8f99-111">Voices can convert from their input sample rate to any output sample rate, but all of the voice's output voices must have the same input sample rate.</span></span> <span data-ttu-id="a8f99-112">Por exemplo, uma voz pode gerar uma saída para qualquer número de vozes com uma taxa de amostragem de entrada de 22 kHz.</span><span class="sxs-lookup"><span data-stu-id="a8f99-112">For example, a voice could output to any number of voices with an input sample rate of 22 kHz.</span></span> <span data-ttu-id="a8f99-113">No entanto, se essa mesma voz tivesse várias vozes de saída, cada uma com uma taxa de amostra de entrada diferente, o grafo de áudio não seria válido.</span><span class="sxs-lookup"><span data-stu-id="a8f99-113">However, if that same voice had several output voices, each of which had a different input sample rate, the audio graph would not be valid.</span></span>

-   <span data-ttu-id="a8f99-114">O processamento de conversão de taxa de amostra só ocorre quando necessário.</span><span class="sxs-lookup"><span data-stu-id="a8f99-114">Sample rate conversion processing only occurs when necessary.</span></span>

    <span data-ttu-id="a8f99-115">Converter dados de áudio em uma taxa de amostra diferente incorre em mais sobrecarga de processamento, o que é preferível evitar.</span><span class="sxs-lookup"><span data-stu-id="a8f99-115">Converting audio data to a different sample rate incurs more processing overhead, which it is preferable to avoid.</span></span> <span data-ttu-id="a8f99-116">Se a taxa de amostra de entrada de uma voz corresponder à taxa de amostra de entrada de suas vozes de saída, essa conversão não será feita e o tempo de processamento será reduzido.</span><span class="sxs-lookup"><span data-stu-id="a8f99-116">If a voice's input sample rate matches the input sample rate of its output voices, this conversion is not done and processing time is shortened.</span></span>

-   <span data-ttu-id="a8f99-117">A taxa de amostragem de saída pode variar ao longo da vida útil de uma voz.</span><span class="sxs-lookup"><span data-stu-id="a8f99-117">Output sample rate can vary over the life of a voice.</span></span>

    <span data-ttu-id="a8f99-118">A taxa de amostra de saída de uma voz não é fixa.</span><span class="sxs-lookup"><span data-stu-id="a8f99-118">The output sample rate of a voice is not fixed.</span></span> <span data-ttu-id="a8f99-119">Desde que todas as suas vozes de saída tenham a mesma taxa de amostragem de entrada, o grafo de áudio será válido.</span><span class="sxs-lookup"><span data-stu-id="a8f99-119">As long as all of its output voices have the same input sample rate, the audio graph will be valid.</span></span> <span data-ttu-id="a8f99-120">Se uma voz for alterada para saída para novas vozes com uma taxa de amostra de entrada diferente, a voz será convertida para a taxa de amostra de entrada das novas vozes.</span><span class="sxs-lookup"><span data-stu-id="a8f99-120">If a voice is changed to output to new voices with a different input sample rate, the voice will convert to the input sample rate of the new voices.</span></span>

<span data-ttu-id="a8f99-121">Há alguns cenários em que é necessário adicionar uma voz submix para executar a conversão de taxa de amostra entre as vozes.</span><span class="sxs-lookup"><span data-stu-id="a8f99-121">There are some scenarios in which it is necessary to add a submix voice to perform sample rate conversion between voices.</span></span> <span data-ttu-id="a8f99-122">Se uma voz precisar de saída para vozes com várias taxas de amostra de entrada, somente uma das vozes poderá ser uma saída direta da voz original.</span><span class="sxs-lookup"><span data-stu-id="a8f99-122">If a voice needs to output to voices with various input sample rates, only one of the voices can be a direct output of the original voice.</span></span> <span data-ttu-id="a8f99-123">Como todas as vozes de saída de uma voz devem ter a mesma taxa de amostra de entrada, as outras vozes recebem a saída indiretamente.</span><span class="sxs-lookup"><span data-stu-id="a8f99-123">Because all of a voice's output voices must have the same input sample rate, the other voices receive output indirectly.</span></span> <span data-ttu-id="a8f99-124">Deve haver uma voz submix com a taxa de amostra de entrada correta que vem entre a voz original e a voz de saída pretendida.</span><span class="sxs-lookup"><span data-stu-id="a8f99-124">There must be a submix voice with the correct input sample rate that comes between the original voice and the intended output voice.</span></span>

<span data-ttu-id="a8f99-125">Por exemplo, considere uma voz de origem com uma taxa de amostra de entrada de 22 kHz, que precisa gerar saída para uma voz submix com uma taxa de amostra de entrada de 11 kHz e uma voz de mestre com uma taxa de amostragem de entrada de 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="a8f99-125">For example, consider a source voice with an input sample rate of 22 kHz, which needs to output to a submix voice with an input sample rate of 11 kHz and a mastering voice with an input sample rate of 44.1 kHz.</span></span> <span data-ttu-id="a8f99-126">Como as duas vozes de saída têm taxas de amostra de entrada diferentes, você precisa inserir mais vozes submix entre a voz original e suas vozes de saída pretendidas.</span><span class="sxs-lookup"><span data-stu-id="a8f99-126">Because the two output voices have different input sample rates, you need to insert more submix voices between the original voice and its intended output voices.</span></span> <span data-ttu-id="a8f99-127">Para manter a fidelidade da voz de origem e evitar conversões caras desnecessárias para taxas de exemplo mais altas, você precisa inserir duas vozes submix com taxas de entrada de exemplo de 22 kHz no grafo.</span><span class="sxs-lookup"><span data-stu-id="a8f99-127">To maintain the fidelity of the source voice and avoid unnecessary expensive conversions to higher sample rates, you need to insert two submix voices with 22 khz sample input rates into the graph.</span></span> <span data-ttu-id="a8f99-128">Uma voz submix seria transformada em 11 kHz à voz submix com o efeito de reverberação, e a outra voz submix seria a saída para a voz de mestre em 44,1 kHz.</span><span class="sxs-lookup"><span data-stu-id="a8f99-128">One submix voice would output at 11 khz to the submix voice with the reverb effect, and the other submix voice would output to the mastering voice at 44.1 khz.</span></span>

## <a name="examples-of-sample-rate-conversion-in-audio-graphs"></a><span data-ttu-id="a8f99-129">Exemplos de conversão de taxa de exemplo em grafos de áudio</span><span class="sxs-lookup"><span data-stu-id="a8f99-129">Examples of Sample Rate Conversion in Audio Graphs</span></span>

<span data-ttu-id="a8f99-130">Todas as vozes têm a mesma taxa de entrada de exemplo; nenhuma conversão de taxa de amostragem é feita no grafo de áudio.</span><span class="sxs-lookup"><span data-stu-id="a8f99-130">All voices have the same sample input rate; no sample rate conversion is done in the audio graph.</span></span>![nenhuma conversão de taxa de amostragem é feita no grafo de áudio.](images/xaudio2-sample-rate-conversions-1.png)

<span data-ttu-id="a8f99-132">Todas as vozes têm a mesma taxa de entrada de exemplo, exceto a voz de mestre; a conversão de taxa de amostra só é executada em dados que vão para a voz de mestre.</span><span class="sxs-lookup"><span data-stu-id="a8f99-132">All voices have the same sample input rate except the mastering voice; sample rate conversion is only performed on data going to the mastering voice.</span></span> ![a conversão de taxa de amostra só é executada em dados que vão para a voz de mestre.](images/xaudio2-sample-rate-conversions-2.png)

<span data-ttu-id="a8f99-134">As vozes têm taxas de entrada de exemplo diferentes e exigem mais vozes submix para executar conversões de taxas de amostra; a conversão de taxa de amostra é executada em vários locais no grafo de áudio.</span><span class="sxs-lookup"><span data-stu-id="a8f99-134">Voices have different sample input rates and require more submix voices to perform sample rate conversions; sample rate conversion is performed in multiple places in the audio graph.</span></span> ![a conversão de taxa de amostra é executada em vários locais no grafo de áudio.](images/xaudio2-sample-rate-conversions-3.png)

## <a name="related-topics"></a><span data-ttu-id="a8f99-136">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="a8f99-136">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="a8f99-137">Vozes</span><span class="sxs-lookup"><span data-stu-id="a8f99-137">Voices</span></span>](voices.md)
</dt> <dt>

[<span data-ttu-id="a8f99-138">Guia de Programação em XAudio2</span><span class="sxs-lookup"><span data-stu-id="a8f99-138">XAudio2 Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 
