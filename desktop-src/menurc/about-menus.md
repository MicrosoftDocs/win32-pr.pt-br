---
title: Sobre os menus
description: Este tópico discute os menus.
ms.assetid: fd0b26f1-93cd-421b-9097-8502ab7681e9
keywords:
- recursos, menus
- menus, sobre
- submenus
- barras de menu
- menus de nível superior
- menus pop-up
- menus suspensos
- menus, nível superior
- menus, pop-up
- menus, suspensos
- nomes de menu
- menus, atalho
- menus, janela
- menus, sistema
- menus, controle
- menus de atalho
- Menu Janela
- Menu do sistema
- Menu de controle
- identificadores de ajuda
- alças do menu
- itens de menu
- itens de comando
- menu-identificadores de item
- menu-posição do item
- selecionando itens de menu
- limpando itens de menu
- menus desenhados pelo proprietário
- menus, proprietário desenhado
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ed5d42eb42aaaaa16eef0b5b118adcfe0f91156e
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104365910"
---
# <a name="about-menus"></a><span data-ttu-id="a6aed-132">Sobre os menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-132">About Menus</span></span>

<span data-ttu-id="a6aed-133">Um *menu* é uma lista de itens que especificam opções ou grupos de opções (um submenu) para um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-133">A *menu* is a list of items that specify options or groups of options (a submenu) for an application.</span></span> <span data-ttu-id="a6aed-134">Clicar em um item de menu abre um submenu ou faz com que o aplicativo execute um comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-134">Clicking a menu item opens a submenu or causes the application to carry out a command.</span></span> <span data-ttu-id="a6aed-135">Esta seção fornece informações sobre os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a6aed-135">This section provides information on the following topics:</span></span>

-   [<span data-ttu-id="a6aed-136">Menus e barras de menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-136">Menu Bars and Menus</span></span>](#menu-bars-and-menus)
    -   [<span data-ttu-id="a6aed-137">Menus de atalho</span><span class="sxs-lookup"><span data-stu-id="a6aed-137">Shortcut Menus</span></span>](#shortcut-menus)
    -   [<span data-ttu-id="a6aed-138">O menu janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-138">The Window Menu</span></span>](#the-window-menu)
    -   [<span data-ttu-id="a6aed-139">Identificador da ajuda</span><span class="sxs-lookup"><span data-stu-id="a6aed-139">Help Identifier</span></span>](#help-identifier)
-   [<span data-ttu-id="a6aed-140">Acesso ao teclado para menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-140">Keyboard Access to Menus</span></span>](#keyboard-access-to-menus)
    -   [<span data-ttu-id="a6aed-141">Interface de teclado padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-141">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
    -   [<span data-ttu-id="a6aed-142">Teclas de acesso do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-142">Menu Access Keys</span></span>](#menu-access-keys)
    -   [<span data-ttu-id="a6aed-143">Teclas de atalho do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-143">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)
-   [<span data-ttu-id="a6aed-144">Criação de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-144">Menu Creation</span></span>](#menu-creation)
    -   [<span data-ttu-id="a6aed-145">Recursos de modelo de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-145">Menu Template Resources</span></span>](#menu-template-resources)
    -   [<span data-ttu-id="a6aed-146">Modelo de menu na memória</span><span class="sxs-lookup"><span data-stu-id="a6aed-146">Menu Template in Memory</span></span>](#menu-template-in-memory)
    -   [<span data-ttu-id="a6aed-147">Alças do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-147">Menu Handles</span></span>](#menu-handles)
    -   [<span data-ttu-id="a6aed-148">Funções de criação de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-148">Menu Creation Functions</span></span>](#menu-creation-functions)
    -   [<span data-ttu-id="a6aed-149">Exibição do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-149">Menu Display</span></span>](#menu-display)
    -   [<span data-ttu-id="a6aed-150">Menus de classe de janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-150">Window Class Menus</span></span>](#window-class-menus)
-   [<span data-ttu-id="a6aed-151">Itens de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-151">Menu Items</span></span>](#menu-items)
    -   [<span data-ttu-id="a6aed-152">Itens de comando e itens que abrem submenus</span><span class="sxs-lookup"><span data-stu-id="a6aed-152">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
    -   [<span data-ttu-id="a6aed-153">Menu-identificador de item</span><span class="sxs-lookup"><span data-stu-id="a6aed-153">Menu-Item Identifier</span></span>](#menu-item-identifier)
    -   [<span data-ttu-id="a6aed-154">Menu-posição do item</span><span class="sxs-lookup"><span data-stu-id="a6aed-154">Menu-Item Position</span></span>](#menu-item-position)
    -   [<span data-ttu-id="a6aed-155">Acessando itens de menu programaticamente</span><span class="sxs-lookup"><span data-stu-id="a6aed-155">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
    -   [<span data-ttu-id="a6aed-156">Itens de menu padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-156">Default Menu Items</span></span>](#default-menu-items)
    -   [<span data-ttu-id="a6aed-157">Itens de menu selecionados e desmarcados</span><span class="sxs-lookup"><span data-stu-id="a6aed-157">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
    -   [<span data-ttu-id="a6aed-158">Itens de menu habilitados, esmaecidos e desabilitados</span><span class="sxs-lookup"><span data-stu-id="a6aed-158">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
    -   [<span data-ttu-id="a6aed-159">Itens de menu realçados</span><span class="sxs-lookup"><span data-stu-id="a6aed-159">Highlighted Menu Items</span></span>](#highlighted-menu-items)
    -   [<span data-ttu-id="a6aed-160">Itens de menu de desenho proprietário</span><span class="sxs-lookup"><span data-stu-id="a6aed-160">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
    -   [<span data-ttu-id="a6aed-161">Separadores de itens de menu e quebras de linha</span><span class="sxs-lookup"><span data-stu-id="a6aed-161">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)
-   [<span data-ttu-id="a6aed-162">Mensagens usadas com menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-162">Messages Used with Menus</span></span>](#messages-used-with-menus)
-   [<span data-ttu-id="a6aed-163">Destruição de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-163">Menu Destruction</span></span>](#menu-destruction)

## <a name="menu-bars-and-menus"></a><span data-ttu-id="a6aed-164">Menus e barras de menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-164">Menu Bars and Menus</span></span>

<span data-ttu-id="a6aed-165">Um menu é organizado em uma hierarquia.</span><span class="sxs-lookup"><span data-stu-id="a6aed-165">A menu is arranged in a hierarchy.</span></span> <span data-ttu-id="a6aed-166">No nível superior da hierarquia está a barra de *menus*; que contém uma lista de *menus* que, por sua vez, podem conter *submenus*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-166">At the top level of the hierarchy is the *menu bar*; which contains a list of *menus*, which in turn can contain *submenus*.</span></span> <span data-ttu-id="a6aed-167">Uma barra de menus, às vezes, é chamada de *menu de nível superior*, e os menus e submenus também são conhecidos como *menus pop-up*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-167">A menu bar is sometimes called a *top-level menu*, and the menus and submenus are also known as *pop-up menus*.</span></span>

<span data-ttu-id="a6aed-168">Um item de menu pode executar um comando ou abrir um submenu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-168">A menu item can either carry out a command or open a submenu.</span></span> <span data-ttu-id="a6aed-169">Um item que executa um comando é chamado de *item de comando* ou *comando*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-169">An item that carries out a command is called a *command item* or a *command*.</span></span>

<span data-ttu-id="a6aed-170">Um item na barra de menus quase sempre abre um menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-170">An item on the menu bar almost always opens a menu.</span></span> <span data-ttu-id="a6aed-171">Barras de menu raramente contêm itens de comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-171">Menu bars rarely contain command items.</span></span> <span data-ttu-id="a6aed-172">Um menu aberto na barra de menus cai da barra de menus e, às vezes, é chamado de *menu suspenso*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-172">A menu opened from the menu bar drops down from the menu bar and is sometimes called a *drop-down menu*.</span></span> <span data-ttu-id="a6aed-173">Quando um menu suspenso é exibido, ele é anexado à barra de menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-173">When a drop-down menu is displayed, it is attached to the menu bar.</span></span> <span data-ttu-id="a6aed-174">Um item de menu na barra de menus que abre um menu suspenso também é chamado de *nome de menu*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-174">A menu item on the menu bar that opens a drop-down menu is also called a *menu name*.</span></span>

<span data-ttu-id="a6aed-175">Os nomes de menu em uma barra de menus representam as principais categorias de comandos que um aplicativo fornece.</span><span class="sxs-lookup"><span data-stu-id="a6aed-175">The menu names on a menu bar represent the main categories of commands that an application provides.</span></span> <span data-ttu-id="a6aed-176">A seleção de um nome de menu na barra de menus normalmente abre um menu cujos itens de menu correspondem aos comandos em uma categoria.</span><span class="sxs-lookup"><span data-stu-id="a6aed-176">Selecting a menu name from the menu bar typically opens a menu whose menu items correspond to the commands in a category.</span></span> <span data-ttu-id="a6aed-177">Por exemplo, uma barra de menus pode conter um nome de menu de **arquivo** que, quando clicado pelo usuário, ativa um menu com itens de menu, como **novo**, **abrir** e **salvar**.</span><span class="sxs-lookup"><span data-stu-id="a6aed-177">For example, a menu bar might contain a **File** menu name that, when clicked by the user, activates a menu with menu items such as **New**, **Open**, and **Save**.</span></span> <span data-ttu-id="a6aed-178">Para obter informações sobre uma barra de menus, chame [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span><span class="sxs-lookup"><span data-stu-id="a6aed-178">To get information about a menu bar, call [**GetMenuBarInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenubarinfo).</span></span>

<span data-ttu-id="a6aed-179">Somente uma janela sobreposta ou pop-up pode conter uma barra de menus; uma janela filho não pode conter uma.</span><span class="sxs-lookup"><span data-stu-id="a6aed-179">Only an overlapped or pop-up window can contain a menu bar; a child window cannot contain one.</span></span> <span data-ttu-id="a6aed-180">Se a janela tiver uma barra de título, o sistema posicionará a barra de menus logo abaixo dela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-180">If the window has a title bar, the system positions the menu bar just below it.</span></span> <span data-ttu-id="a6aed-181">Uma barra de menus está sempre visível.</span><span class="sxs-lookup"><span data-stu-id="a6aed-181">A menu bar is always visible.</span></span> <span data-ttu-id="a6aed-182">No entanto, um submenu não fica visível até que o usuário selecione um item de menu que o ative.</span><span class="sxs-lookup"><span data-stu-id="a6aed-182">A submenu is not visible, however, until the user selects a menu item that activates it.</span></span> <span data-ttu-id="a6aed-183">Para obter mais informações sobre janelas sobrepostas e pop-up, consulte [tipos de janela](/windows/desktop/winmsg/window-features).</span><span class="sxs-lookup"><span data-stu-id="a6aed-183">For more information about overlapped and pop-up windows, see [Window Types](/windows/desktop/winmsg/window-features).</span></span>

<span data-ttu-id="a6aed-184">Cada menu deve ter uma janela de proprietário.</span><span class="sxs-lookup"><span data-stu-id="a6aed-184">Each menu must have an owner window.</span></span> <span data-ttu-id="a6aed-185">O sistema envia mensagens para a janela do proprietário de um menu quando o usuário seleciona o menu ou escolhe um item no menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-185">The system sends messages to a menu's owner window when the user selects the menu or chooses an item from the menu.</span></span>

<span data-ttu-id="a6aed-186">Esta seção aborda os tópicos a seguir.</span><span class="sxs-lookup"><span data-stu-id="a6aed-186">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="a6aed-187">Menus de atalho</span><span class="sxs-lookup"><span data-stu-id="a6aed-187">Shortcut Menus</span></span>](#shortcut-menus)
-   [<span data-ttu-id="a6aed-188">O menu janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-188">The Window Menu</span></span>](#the-window-menu)
-   [<span data-ttu-id="a6aed-189">Identificador da ajuda</span><span class="sxs-lookup"><span data-stu-id="a6aed-189">Help Identifier</span></span>](#help-identifier)

### <a name="shortcut-menus"></a><span data-ttu-id="a6aed-190">Menus de atalho</span><span class="sxs-lookup"><span data-stu-id="a6aed-190">Shortcut Menus</span></span>

<span data-ttu-id="a6aed-191">O sistema também fornece *menus de atalho*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-191">The system also provides *shortcut menus*.</span></span> <span data-ttu-id="a6aed-192">Um menu de atalho não está anexado à barra de menus; Ele pode aparecer em qualquer lugar na tela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-192">A shortcut menu is not attached to the menu bar; it can appear anywhere on the screen.</span></span> <span data-ttu-id="a6aed-193">Um aplicativo normalmente associa um menu de atalho com uma parte de uma janela, como a área do cliente, ou com um objeto específico, como um ícone.</span><span class="sxs-lookup"><span data-stu-id="a6aed-193">An application typically associates a shortcut menu with a portion of a window, such as the client area, or with a specific object, such as an icon.</span></span> <span data-ttu-id="a6aed-194">Por esse motivo, esses menus também são chamados de *menus de contexto*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-194">For this reason, these menus are also called *context menus*.</span></span>

<span data-ttu-id="a6aed-195">Um menu de atalho permanece oculto até que o usuário o ative, normalmente clicando com o botão direito do mouse em uma seleção, uma barra de ferramentas ou um botão da barra de tarefas.</span><span class="sxs-lookup"><span data-stu-id="a6aed-195">A shortcut menu remains hidden until the user activates it, typically by right-clicking a selection, a toolbar, or a taskbar button.</span></span> <span data-ttu-id="a6aed-196">Geralmente, o menu é exibido na posição do cursor ou mouse.</span><span class="sxs-lookup"><span data-stu-id="a6aed-196">The menu is usually displayed at the position of the caret or mouse cursor.</span></span>

### <a name="the-window-menu"></a><span data-ttu-id="a6aed-197">O menu janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-197">The Window Menu</span></span>

<span data-ttu-id="a6aed-198">O menu **janela** (também conhecido como menu do **sistema** ou menu de **controle** ) é um menu pop-up definido e gerenciado quase exclusivamente pelo sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="a6aed-198">The **Window** menu (also known as the **System** menu or **Control** menu) is a pop-up menu defined and managed almost exclusively by the operating system.</span></span> <span data-ttu-id="a6aed-199">O usuário pode abrir o menu janela clicando no ícone do aplicativo na barra de título ou clicando com o botão direito do mouse em qualquer lugar na barra de título.</span><span class="sxs-lookup"><span data-stu-id="a6aed-199">The user can open the window menu by clicking the application icon on the title bar or by right-clicking anywhere on the title bar.</span></span>

<span data-ttu-id="a6aed-200">O menu **janela** fornece um conjunto padrão de itens de menu que o usuário pode escolher para alterar o tamanho ou a posição de uma janela ou fechar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-200">The **Window** menu provides a standard set of menu items that the user can choose to change a window's size or position, or close the application.</span></span> <span data-ttu-id="a6aed-201">Os itens no menu janela podem ser adicionados, excluídos e modificados, mas a maioria dos aplicativos usa apenas o conjunto padrão de itens de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-201">Items on the window menu can be added, deleted, and modified, but most applications just use the standard set of menu items.</span></span> <span data-ttu-id="a6aed-202">Uma janela sobreposta, pop-up ou filho pode ter um menu de janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-202">An overlapped, pop-up, or child window can have a window menu.</span></span> <span data-ttu-id="a6aed-203">Não é comum uma janela sobreposta ou pop-up não incluir um menu de janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-203">It is uncommon for an overlapped or pop-up window not to include a window menu.</span></span>

<span data-ttu-id="a6aed-204">Quando o usuário escolhe um comando no menu **janela** , o sistema envia uma mensagem do [**WM \_ SYSCOMMAND**](wm-syscommand.md) para a janela do proprietário do menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-204">When the user chooses a command from the **Window** menu, the system sends a [**WM\_SYSCOMMAND**](wm-syscommand.md) message to the menu's owner window.</span></span> <span data-ttu-id="a6aed-205">Na maioria dos aplicativos, o procedimento de janela não processa mensagens no menu janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-205">In most applications, the window procedure does not process messages from the window menu.</span></span> <span data-ttu-id="a6aed-206">Em vez disso, ele simplesmente passa as mensagens para a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para o processamento padrão do sistema da mensagem.</span><span class="sxs-lookup"><span data-stu-id="a6aed-206">Instead, it simply passes the messages to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for system-default processing of the message.</span></span> <span data-ttu-id="a6aed-207">Se um aplicativo Adicionar um comando ao menu janela, o procedimento de janela deverá processar o comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-207">If an application adds a command to the window menu, the window procedure must process the command.</span></span>

<span data-ttu-id="a6aed-208">Um aplicativo pode usar a função [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) para criar uma cópia do menu de janela padrão para modificar.</span><span class="sxs-lookup"><span data-stu-id="a6aed-208">An application can use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function to create a copy of the default window menu to modify.</span></span> <span data-ttu-id="a6aed-209">Qualquer janela que não use a função **GetSystemMenu** para fazer sua própria cópia do menu janela receberá o menu de janela padrão.</span><span class="sxs-lookup"><span data-stu-id="a6aed-209">Any window that does not use the **GetSystemMenu** function to make its own copy of the window menu receives the standard window menu.</span></span>

### <a name="help-identifier"></a><span data-ttu-id="a6aed-210">Identificador da ajuda</span><span class="sxs-lookup"><span data-stu-id="a6aed-210">Help Identifier</span></span>

<span data-ttu-id="a6aed-211">Associado a cada barra de menus, menu, submenu e menu de atalho é um identificador de ajuda.</span><span class="sxs-lookup"><span data-stu-id="a6aed-211">Associated with each menu bar, menu, submenu, and shortcut menu is a help identifier.</span></span> <span data-ttu-id="a6aed-212">Se o usuário pressionar a tecla F1 enquanto o menu estiver ativo, esse valor será enviado para a janela do proprietário como parte de uma mensagem de [**\_ ajuda do WM**](../shell/wm-help.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-212">If the user presses the F1 key while the menu is active, this value is sent to the owner window as part of a [**WM\_HELP**](../shell/wm-help.md) message.</span></span>

## <a name="keyboard-access-to-menus"></a><span data-ttu-id="a6aed-213">Acesso ao teclado para menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-213">Keyboard Access to Menus</span></span>

<span data-ttu-id="a6aed-214">O sistema fornece uma interface de teclado padrão para menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-214">The system provides a standard keyboard interface for menus.</span></span> <span data-ttu-id="a6aed-215">Você pode aprimorar essa interface fornecendo chaves de acesso mnemônico e teclas de atalho (aceleração) para seus itens de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-215">You can enhance this interface by providing mnemonic access keys and shortcut (accelerator) keys for your menu items.</span></span>

<span data-ttu-id="a6aed-216">Os tópicos a seguir descrevem a interface de teclado padrão, as chaves de acesso e as teclas de atalho:</span><span class="sxs-lookup"><span data-stu-id="a6aed-216">The following topics describe the standard keyboard interface, access keys, and shortcut keys:</span></span>

-   [<span data-ttu-id="a6aed-217">Interface de teclado padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-217">Standard Keyboard Interface</span></span>](#standard-keyboard-interface)
-   [<span data-ttu-id="a6aed-218">Teclas de acesso do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-218">Menu Access Keys</span></span>](#menu-access-keys)
-   [<span data-ttu-id="a6aed-219">Teclas de atalho do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-219">Menu Shortcut Keys</span></span>](#menu-shortcut-keys)

### <a name="standard-keyboard-interface"></a><span data-ttu-id="a6aed-220">Interface de teclado padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-220">Standard Keyboard Interface</span></span>

<span data-ttu-id="a6aed-221">O sistema foi projetado para trabalhar com ou sem um mouse ou outro dispositivo apontador.</span><span class="sxs-lookup"><span data-stu-id="a6aed-221">The system is designed to work with or without a mouse or other pointing device.</span></span> <span data-ttu-id="a6aed-222">Como o sistema fornece uma interface de teclado padrão, o usuário pode usar o teclado para selecionar itens de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-222">Because the system provides a standard keyboard interface, the user can use the keyboard to select menu items.</span></span> <span data-ttu-id="a6aed-223">Essa interface de teclado não precisa de código especial.</span><span class="sxs-lookup"><span data-stu-id="a6aed-223">This keyboard interface does not need special code.</span></span> <span data-ttu-id="a6aed-224">Um aplicativo recebe uma mensagem de comando se o usuário seleciona um item de menu por meio do teclado ou usando um mouse.</span><span class="sxs-lookup"><span data-stu-id="a6aed-224">An application receives a command message whether the user selects a menu item through the keyboard or by using a mouse.</span></span> <span data-ttu-id="a6aed-225">A interface de teclado padrão processa os seguintes pressionamentos de teclas.</span><span class="sxs-lookup"><span data-stu-id="a6aed-225">The standard keyboard interface processes the following keystrokes.</span></span>



| <span data-ttu-id="a6aed-226">Teclas</span><span class="sxs-lookup"><span data-stu-id="a6aed-226">Keystroke</span></span>              | <span data-ttu-id="a6aed-227">Ação</span><span class="sxs-lookup"><span data-stu-id="a6aed-227">Action</span></span>                                                                                                                                                                                                                                   |
|------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a6aed-228">Caractere alfabético</span><span class="sxs-lookup"><span data-stu-id="a6aed-228">Alphabetical character</span></span> | <span data-ttu-id="a6aed-229">Seleciona o primeiro item de menu com o caractere especificado como sua chave de acesso.</span><span class="sxs-lookup"><span data-stu-id="a6aed-229">Selects the first menu item with the specified character as its access key.</span></span> <span data-ttu-id="a6aed-230">Se o item selecionado invocar um menu, o menu será exibido e o primeiro item será realçado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-230">If the selected item invokes a menu, the menu is displayed and the first item is highlighted.</span></span> <span data-ttu-id="a6aed-231">Caso contrário, o item de menu será escolhido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-231">Otherwise, the menu item is chosen.</span></span>                            |
| <span data-ttu-id="a6aed-232">ALT</span><span class="sxs-lookup"><span data-stu-id="a6aed-232">ALT</span></span>                    | <span data-ttu-id="a6aed-233">Alterna para dentro e para fora do modo de barra de menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-233">Toggles in and out of menu bar mode.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="a6aed-234">ALT+BARRA DE ESPAÇOS</span><span class="sxs-lookup"><span data-stu-id="a6aed-234">ALT+SPACEBAR</span></span>           | <span data-ttu-id="a6aed-235">Exibe o menu janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-235">Displays the window menu.</span></span>                                                                                                                                                                                                                |
| <span data-ttu-id="a6aed-236">Enter</span><span class="sxs-lookup"><span data-stu-id="a6aed-236">ENTER</span></span>                  | <span data-ttu-id="a6aed-237">Ativa um menu e seleciona o primeiro item de menu se um item tiver um menu associado a ele.</span><span class="sxs-lookup"><span data-stu-id="a6aed-237">Activates a menu and selects the first menu item if an item has a menu associated with it.</span></span> <span data-ttu-id="a6aed-238">Caso contrário, esse pressionamento de teclas escolhe o item como se o usuário liberasse o botão do mouse enquanto o item estava selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-238">Otherwise, this keystroke chooses the item as if the user released the mouse button while the item was selected.</span></span>                              |
| <span data-ttu-id="a6aed-239">ESC</span><span class="sxs-lookup"><span data-stu-id="a6aed-239">ESC</span></span>                    | <span data-ttu-id="a6aed-240">Sai do modo de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-240">Exits menu mode.</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="a6aed-241">SETA PARA A ESQUERDA</span><span class="sxs-lookup"><span data-stu-id="a6aed-241">LEFT ARROW</span></span>             | <span data-ttu-id="a6aed-242">Circula para o item de menu de nível superior anterior.</span><span class="sxs-lookup"><span data-stu-id="a6aed-242">Cycles to the previous top-level menu item.</span></span> <span data-ttu-id="a6aed-243">Os itens de menu de nível superior incluem nomes de menu e o menu janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-243">Top-level menu items include menu names and the window menu.</span></span> <span data-ttu-id="a6aed-244">Se o item selecionado estiver em um menu, a coluna anterior no menu será selecionada ou o item de menu de nível superior anterior será selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-244">If the selected item is in a menu, the previous column in the menu is selected or the previous top-level menu item is selected.</span></span> |
| <span data-ttu-id="a6aed-245">SETA PARA A DIREITA</span><span class="sxs-lookup"><span data-stu-id="a6aed-245">RIGHT ARROW</span></span>            | <span data-ttu-id="a6aed-246">Funciona como a tecla de seta para a esquerda, exceto na direção oposta.</span><span class="sxs-lookup"><span data-stu-id="a6aed-246">Works like the LEFT ARROW key, except in the opposite direction.</span></span> <span data-ttu-id="a6aed-247">Em menus, esse pressionamento de teclas avança uma coluna. Quando o item selecionado no momento estiver na coluna da extrema direita, o menu avançar será selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-247">In menus, this keystroke moves forward one column; when the currently selected item is in the far-right column, the next menu is selected.</span></span>                              |
| <span data-ttu-id="a6aed-248">SETAS para cima ou para baixo</span><span class="sxs-lookup"><span data-stu-id="a6aed-248">UP or DOWN ARROWS</span></span>      | <span data-ttu-id="a6aed-249">Ativa um menu quando é pressionado em um nome de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-249">Activates a menu when pressed in a menu name.</span></span> <span data-ttu-id="a6aed-250">Quando pressionado em um menu, a tecla de seta para cima seleciona o item anterior; a tecla de seta para baixo seleciona o próximo item.</span><span class="sxs-lookup"><span data-stu-id="a6aed-250">When pressed in a menu, the UP ARROW keystroke selects the previous item; the DOWN ARROW keystroke selects the next item.</span></span>                                                                  |



 

### <a name="menu-access-keys"></a><span data-ttu-id="a6aed-251">Teclas de acesso do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-251">Menu Access Keys</span></span>

<span data-ttu-id="a6aed-252">A interface de teclado padrão para menus pode ser aprimorada adicionando chaves de acesso (mnemônicos) a itens de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-252">The standard keyboard interface for menus can be enhanced by adding access keys (mnemonics) to menu items.</span></span> <span data-ttu-id="a6aed-253">Uma tecla de acesso é uma letra sublinhada no texto de um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-253">An access key is an underlined letter in the text of a menu item.</span></span> <span data-ttu-id="a6aed-254">Quando um menu está ativo, o usuário pode selecionar um item de menu pressionando a tecla que corresponde à letra sublinhada do item.</span><span class="sxs-lookup"><span data-stu-id="a6aed-254">When a menu is active, the user can select a menu item by pressing the key that corresponds to the item's underlined letter.</span></span> <span data-ttu-id="a6aed-255">O usuário torna a barra de menus ativa pressionando a tecla ALT para realçar o primeiro item na barra de menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-255">The user makes the menu bar active by pressing the ALT key to highlight the first item on the menu bar.</span></span> <span data-ttu-id="a6aed-256">Um menu está ativo quando é exibido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-256">A menu is active when it is displayed.</span></span>

<span data-ttu-id="a6aed-257">Para criar uma chave de acesso para um item de menu, preceda qualquer caractere na cadeia de caracteres de texto do item com um e comercial.</span><span class="sxs-lookup"><span data-stu-id="a6aed-257">To create an access key for a menu item, precede any character in the item's text string with an ampersand.</span></span> <span data-ttu-id="a6aed-258">Por exemplo, a cadeia de texto "&mover" faz com que o sistema sublinhar a letra "M".</span><span class="sxs-lookup"><span data-stu-id="a6aed-258">For example, the text string "&Move" causes the system to underline the letter "M".</span></span>

### <a name="menu-shortcut-keys"></a><span data-ttu-id="a6aed-259">Teclas de atalho do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-259">Menu Shortcut Keys</span></span>

<span data-ttu-id="a6aed-260">Além de ter uma chave de acesso, um item de menu pode ter uma tecla de atalho associada a ele.</span><span class="sxs-lookup"><span data-stu-id="a6aed-260">In addition to having an access key, a menu item can have a shortcut key associated with it.</span></span> <span data-ttu-id="a6aed-261">Uma tecla de atalho é diferente de uma chave de acesso, porque o menu não precisa estar ativo para que a tecla de atalho funcione.</span><span class="sxs-lookup"><span data-stu-id="a6aed-261">A shortcut key is different from an access key, because the menu does not have to be active for the shortcut key to work.</span></span> <span data-ttu-id="a6aed-262">Além disso, uma tecla de acesso é *sempre* associada a um item de menu, enquanto uma tecla de atalho *geralmente* (mas não precisa estar) associada a um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-262">Also, an access key is *always* associated with a menu item, while an shortcut key is *usually* (but does not have to be) associated with a menu item.</span></span>

<span data-ttu-id="a6aed-263">O texto que identifica a tecla de atalho é adicionado à cadeia de caracteres de texto do item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-263">Text that identifies the shortcut key is added to the menu-item text string.</span></span> <span data-ttu-id="a6aed-264">O texto do atalho é exibido à direita do nome do item de menu, após uma barra invertida e um caractere de tabulação ( \\ t).</span><span class="sxs-lookup"><span data-stu-id="a6aed-264">The shortcut text appears to the right of the menu item name, after a backslash and tab character (\\t).</span></span> <span data-ttu-id="a6aed-265">Por exemplo, "&fechar \\ tAlt + F4" representa um comando de fechamento com a combinação de teclas ALT + F4 como sua tecla de atalho e com a letra "C" como sua chave de acesso.</span><span class="sxs-lookup"><span data-stu-id="a6aed-265">For example, "&Close\\tAlt+F4" represents a Close command with the ALT+F4 key combination as its shortcut key and with the letter "C" as its access key.</span></span> <span data-ttu-id="a6aed-266">Para obter mais informações, consulte [aceleradores de teclado](keyboard-accelerators.md).</span><span class="sxs-lookup"><span data-stu-id="a6aed-266">For more information, see [Keyboard Accelerators](keyboard-accelerators.md).</span></span>

## <a name="menu-creation"></a><span data-ttu-id="a6aed-267">Criação de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-267">Menu Creation</span></span>

<span data-ttu-id="a6aed-268">Você pode criar um menu usando um modelo de menu ou funções de criação de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-268">You can create a menu using either a menu template or menu creation functions.</span></span> <span data-ttu-id="a6aed-269">Os modelos de menu normalmente são definidos como recursos.</span><span class="sxs-lookup"><span data-stu-id="a6aed-269">Menu templates are typically defined as resources.</span></span> <span data-ttu-id="a6aed-270">Menu-recursos de modelo podem ser carregados explicitamente ou atribuídos como o menu padrão para uma classe de janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-270">Menu-template resources can be loaded explicitly or assigned as the default menu for a window class.</span></span> <span data-ttu-id="a6aed-271">Você também pode criar recursos de modelo de menu dinamicamente na memória.</span><span class="sxs-lookup"><span data-stu-id="a6aed-271">You can also create menu-template resources dynamically in memory.</span></span>

<span data-ttu-id="a6aed-272">Os tópicos a seguir descrevem a criação de menu em detalhes:</span><span class="sxs-lookup"><span data-stu-id="a6aed-272">The following topics describe menu creation in detail:</span></span>

-   [<span data-ttu-id="a6aed-273">Recursos de modelo de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-273">Menu Template Resources</span></span>](#menu-template-resources)
-   [<span data-ttu-id="a6aed-274">Modelo de menu na memória</span><span class="sxs-lookup"><span data-stu-id="a6aed-274">Menu Template in Memory</span></span>](#menu-template-in-memory)
-   [<span data-ttu-id="a6aed-275">Alças do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-275">Menu Handles</span></span>](#menu-handles)
-   [<span data-ttu-id="a6aed-276">Funções de criação de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-276">Menu Creation Functions</span></span>](#menu-creation-functions)
-   [<span data-ttu-id="a6aed-277">Exibição do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-277">Menu Display</span></span>](#menu-display)
-   [<span data-ttu-id="a6aed-278">Menus de classe de janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-278">Window Class Menus</span></span>](#window-class-menus)

### <a name="menu-template-resources"></a><span data-ttu-id="a6aed-279">Recursos de modelo de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-279">Menu Template Resources</span></span>

<span data-ttu-id="a6aed-280">A maioria dos aplicativos cria menus usando recursos de modelo de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-280">Most applications create menus using menu-template resources.</span></span> <span data-ttu-id="a6aed-281">Um *modelo de menu* define um menu, incluindo os itens na barra de menus e todos os menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-281">A *menu template* defines a menu, including the items in the menu bar and all menus.</span></span> <span data-ttu-id="a6aed-282">Para obter informações sobre como criar um recurso de modelo de menu, consulte a documentação incluída com suas ferramentas de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="a6aed-282">For information about creating a menu-template resource, see the documentation included with your development tools.</span></span>

<span data-ttu-id="a6aed-283">Depois de criar um recurso de modelo de menu e adicioná-lo ao arquivo executável (. exe) do seu aplicativo, você pode usar a função [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) para carregar o recurso na memória.</span><span class="sxs-lookup"><span data-stu-id="a6aed-283">After you create a menu-template resource and add it to your application's executable (.exe) file, you can use the [**LoadMenu**](/windows/desktop/api/Winuser/nf-winuser-loadmenua) function to load the resource into memory.</span></span> <span data-ttu-id="a6aed-284">Essa função retorna um identificador para o menu, que você pode atribuir a uma janela usando a função [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-284">This function returns a handle to the menu, which you can then assign to a window by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="a6aed-285">Você pode atribuir um menu a qualquer janela que não seja uma janela filho.</span><span class="sxs-lookup"><span data-stu-id="a6aed-285">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="a6aed-286">A implementação de menus como recursos torna mais fácil a localização de um aplicativo para uso em vários países/regiões.</span><span class="sxs-lookup"><span data-stu-id="a6aed-286">Implementing menus as resources makes an application easier to localize for use in multiple countries/regions.</span></span> <span data-ttu-id="a6aed-287">Somente o arquivo de definição de recurso precisa ser localizado para cada idioma, não o código-fonte do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-287">Only the resource-definition file needs to be localized for each language, not the application's source code.</span></span>

### <a name="menu-template-in-memory"></a><span data-ttu-id="a6aed-288">Modelo de menu na memória</span><span class="sxs-lookup"><span data-stu-id="a6aed-288">Menu Template in Memory</span></span>

<span data-ttu-id="a6aed-289">Um menu pode ser criado a partir de um modelo de menu que é interno na memória em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="a6aed-289">A menu can be created from a menu template that is built in memory at run time.</span></span> <span data-ttu-id="a6aed-290">Por exemplo, um aplicativo que permite que um usuário personalize seu menu pode criar um modelo de menu na memória com base nas preferências do usuário.</span><span class="sxs-lookup"><span data-stu-id="a6aed-290">For example, an application that allows a user to customize its menu might create a menu template in memory based on the user's preferences.</span></span> <span data-ttu-id="a6aed-291">O aplicativo poderia, então, salvar o modelo em um arquivo ou no registro para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="a6aed-291">The application could then save the template in a file or in the registry for future use.</span></span> <span data-ttu-id="a6aed-292">Para criar um menu a partir de um modelo na memória, use a função [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-292">To create a menu from a template in memory, use the [**LoadMenuIndirect**](/windows/desktop/api/Winuser/nf-winuser-loadmenuindirecta) function.</span></span> <span data-ttu-id="a6aed-293">Para obter descrições dos formatos de modelo de menu, consulte [recursos de modelo de menu](#menu-template-resources).</span><span class="sxs-lookup"><span data-stu-id="a6aed-293">For descriptions of menu-template formats, see [Menu Template Resources](#menu-template-resources).</span></span>

<span data-ttu-id="a6aed-294">Um modelo de menu padrão consiste em uma estrutura [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) seguida por uma ou mais estruturas [**MenuItemTemplate**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-294">A standard menu template consists of a [**MENUITEMTEMPLATEHEADER**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplateheader) structure followed by one or more [**MENUITEMTEMPLATE**](/windows/desktop/api/Winuser/ns-winuser-menuitemtemplate) structures.</span></span>

<span data-ttu-id="a6aed-295">Um modelo de menu estendido consiste em uma estrutura de [**\_ \_ cabeçalho de modelo MENUEX**](menuex-template-header.md) seguida por uma ou mais estruturas de [**\_ \_ item de modelo MENUEX**](menuex-template-item.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-295">An extended menu template consists of a [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) structure followed by one or more [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures.</span></span>

### <a name="menu-handles"></a><span data-ttu-id="a6aed-296">Alças do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-296">Menu Handles</span></span>

<span data-ttu-id="a6aed-297">O sistema gera um identificador exclusivo para cada menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-297">The system generates a unique handle to each menu.</span></span> <span data-ttu-id="a6aed-298">Um *identificador de menu* é um valor do tipo **HMENU** .</span><span class="sxs-lookup"><span data-stu-id="a6aed-298">A *menu handle* is a value of the **HMENU** type.</span></span> <span data-ttu-id="a6aed-299">Um aplicativo deve especificar um identificador de menu em muitas das funções de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-299">An application must specify a menu handle in many of the menu functions.</span></span> <span data-ttu-id="a6aed-300">Você recebe um identificador para uma barra de menus quando cria o menu ou carrega um recurso de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-300">You receive a handle to a menu bar when you create the menu or load a menu resource.</span></span>

<span data-ttu-id="a6aed-301">Para recuperar um identificador para a barra de menus para um menu que foi criado ou carregado, use a função [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-301">To retrieve a handle to the menu bar for a menu that has been created or loaded, use the [**GetMenu**](/windows/desktop/api/Winuser/nf-winuser-getmenu) function.</span></span> <span data-ttu-id="a6aed-302">Para recuperar um identificador para o submenu associado a um item de menu, use a função [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) ou [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-302">To retrieve a handle to the submenu associated with a menu item, use the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span> <span data-ttu-id="a6aed-303">Para recuperar um identificador para um menu de janela, use a função [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-303">To retrieve a handle to a window menu, use the [**GetSystemMenu**](/windows/desktop/api/Winuser/nf-winuser-getsystemmenu) function.</span></span>

### <a name="menu-creation-functions"></a><span data-ttu-id="a6aed-304">Funções de criação de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-304">Menu Creation Functions</span></span>

<span data-ttu-id="a6aed-305">Usando funções de criação de menu, você pode criar menus em tempo de execução ou adicionar itens de menu a menus existentes.</span><span class="sxs-lookup"><span data-stu-id="a6aed-305">Using menu creation functions, you can create menus at run time or add menu items to existing menus.</span></span> <span data-ttu-id="a6aed-306">Você pode usar a função [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) para criar uma barra de menus vazia e a função [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) para criar um menu vazio.</span><span class="sxs-lookup"><span data-stu-id="a6aed-306">You can use the [**CreateMenu**](/windows/desktop/api/Winuser/nf-winuser-createmenu) function to create an empty menu bar and the [**CreatePopupMenu**](/windows/desktop/api/Winuser/nf-winuser-createpopupmenu) function to create an empty menu.</span></span> <span data-ttu-id="a6aed-307">Você pode salvar algumas informações de configurações para um menu usando a estrutura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-307">You can save certain settings information for a menu by using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="a6aed-308">Para obter ou recuperar as configurações de um menu, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) ou [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span><span class="sxs-lookup"><span data-stu-id="a6aed-308">To get or retrieve the settings of a menu, use [**GetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuinfo) or [**SetMenuInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuinfo).</span></span> <span data-ttu-id="a6aed-309">Para adicionar itens a um menu, use a função [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-309">To add items to a menu, use the [**InsertMenuItem**](/windows/desktop/api/Winuser/nf-winuser-insertmenuitema) function.</span></span> <span data-ttu-id="a6aed-310">As funções [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) e [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) mais antigas ainda têm suporte, mas o **InsertMenuItem** deve ser usado para novos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="a6aed-310">The older [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua) and [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua) functions are still supported, but **InsertMenuItem** should be used for new applications.</span></span>

### <a name="menu-display"></a><span data-ttu-id="a6aed-311">Exibição do menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-311">Menu Display</span></span>

<span data-ttu-id="a6aed-312">Depois que um menu é carregado ou criado, ele deve ser atribuído a uma janela antes que o sistema possa exibi-lo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-312">After a menu has been loaded or created, it must be assigned to a window before the system can display it.</span></span> <span data-ttu-id="a6aed-313">Você pode atribuir um menu definindo um menu de classe.</span><span class="sxs-lookup"><span data-stu-id="a6aed-313">You can assign a menu by defining a class menu.</span></span> <span data-ttu-id="a6aed-314">Para obter mais informações, consulte [menus de classe de janela](#window-class-menus).</span><span class="sxs-lookup"><span data-stu-id="a6aed-314">For more information, see [Window Class Menus](#window-class-menus).</span></span> <span data-ttu-id="a6aed-315">Você também pode atribuir um menu a uma janela especificando um identificador para o menu como o parâmetro *HMENU* da função [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) ou [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , ou chamando a função [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-315">You can also assign a menu to a window by specifying a handle to the menu as the *hMenu* parameter of the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, or by calling the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span>

<span data-ttu-id="a6aed-316">Para exibir um menu de atalho, use a função [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-316">To display a shortcut menu use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span> <span data-ttu-id="a6aed-317">Os menus de atalho, também chamados de menus pop-up flutuantes ou menus de contexto, são normalmente exibidos quando a mensagem de [**\_ CONTEXTMENU do WM**](wm-contextmenu.md) é processada.</span><span class="sxs-lookup"><span data-stu-id="a6aed-317">Shortcut menus, also called floating pop-up menus or context menus, are typically displayed when the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message is processed.</span></span>

<span data-ttu-id="a6aed-318">Você pode atribuir um menu a qualquer janela que não seja uma janela filho.</span><span class="sxs-lookup"><span data-stu-id="a6aed-318">You can assign a menu to any window that is not a child window.</span></span>

<span data-ttu-id="a6aed-319">A função [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) mais antiga ainda tem suporte, mas novos aplicativos devem usar a função [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-319">The older [**TrackPopupMenu**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenu) function is still supported, but new applications should use the [**TrackPopupMenuEx**](/windows/desktop/api/Winuser/nf-winuser-trackpopupmenuex) function.</span></span>

### <a name="window-class-menus"></a><span data-ttu-id="a6aed-320">Menus de classe de janela</span><span class="sxs-lookup"><span data-stu-id="a6aed-320">Window Class Menus</span></span>

<span data-ttu-id="a6aed-321">Você pode especificar um menu padrão, chamado de *menu de classe,* ao registrar uma classe de janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-321">You can specify a default menu, called a *class menu,* when you register a window class.</span></span> <span data-ttu-id="a6aed-322">Para fazer isso, atribua o nome do recurso de modelo de menu ao membro **lpszMenuName** da estrutura [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) usada para registrar a classe.</span><span class="sxs-lookup"><span data-stu-id="a6aed-322">To do so, you assign the name of the menu-template resource to the **lpszMenuName** member of the [**WNDCLASS**](/windows/win32/api/winuser/ns-winuser-wndclassa) structure used to register the class.</span></span>

<span data-ttu-id="a6aed-323">Por padrão, cada janela recebe o menu de classe de sua classe de janela para que você não precise carregar o menu explicitamente e atribuí-lo a cada janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-323">By default, every window is assigned the class menu for its window class so you do not need to explicitly load the menu and assign it to each window.</span></span> <span data-ttu-id="a6aed-324">Você pode substituir o menu de classe especificando um identificador de menu diferente em uma chamada para a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-324">You can override the class menu by specifying a different menu handle in a call to the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span> <span data-ttu-id="a6aed-325">Você também pode alterar o menu de uma janela depois que ela é criada usando a função [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-325">You can also change a window's menu after it is created by using the [**SetMenu**](/windows/desktop/api/Winuser/nf-winuser-setmenu) function.</span></span> <span data-ttu-id="a6aed-326">Para obter mais informações, consulte [classes de janela](/windows/desktop/winmsg/window-classes).</span><span class="sxs-lookup"><span data-stu-id="a6aed-326">For more information, see [Window Classes](/windows/desktop/winmsg/window-classes).</span></span>

## <a name="menu-items"></a><span data-ttu-id="a6aed-327">Itens de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-327">Menu Items</span></span>

<span data-ttu-id="a6aed-328">Os tópicos a seguir discutem o que o sistema faz quando o usuário escolhe um item de menu e as maneiras como um aplicativo pode controlar a aparência e a funcionalidade de um item:</span><span class="sxs-lookup"><span data-stu-id="a6aed-328">The following topics discuss what the system does when the user chooses a menu item, and the ways an application can control an item's appearance and functionality:</span></span>

-   [<span data-ttu-id="a6aed-329">Itens de comando e itens que abrem submenus</span><span class="sxs-lookup"><span data-stu-id="a6aed-329">Command Items and Items that Open Submenus</span></span>](#command-items-and-items-that-open-submenus)
-   [<span data-ttu-id="a6aed-330">Menu-identificador de item</span><span class="sxs-lookup"><span data-stu-id="a6aed-330">Menu-Item Identifier</span></span>](#menu-item-identifier)
-   [<span data-ttu-id="a6aed-331">Menu-posição do item</span><span class="sxs-lookup"><span data-stu-id="a6aed-331">Menu-Item Position</span></span>](#menu-item-position)
-   [<span data-ttu-id="a6aed-332">Acessando itens de menu programaticamente</span><span class="sxs-lookup"><span data-stu-id="a6aed-332">Accessing Menu Items Programmatically</span></span>](#accessing-menu-items-programmatically)
-   [<span data-ttu-id="a6aed-333">Itens de menu padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-333">Default Menu Items</span></span>](#default-menu-items)
-   [<span data-ttu-id="a6aed-334">Itens de menu selecionados e desmarcados</span><span class="sxs-lookup"><span data-stu-id="a6aed-334">Selected and Clear Menu Items</span></span>](#selected-and-clear-menu-items)
-   [<span data-ttu-id="a6aed-335">Itens de menu habilitados, esmaecidos e desabilitados</span><span class="sxs-lookup"><span data-stu-id="a6aed-335">Enabled, Grayed, and Disabled Menu Items</span></span>](#enabled-grayed-and-disabled-menu-items)
-   [<span data-ttu-id="a6aed-336">Itens de menu realçados</span><span class="sxs-lookup"><span data-stu-id="a6aed-336">Highlighted Menu Items</span></span>](#highlighted-menu-items)
-   [<span data-ttu-id="a6aed-337">Itens de menu de desenho proprietário</span><span class="sxs-lookup"><span data-stu-id="a6aed-337">Owner-Drawn Menu Items</span></span>](#owner-drawn-menu-items)
-   [<span data-ttu-id="a6aed-338">Separadores de itens de menu e quebras de linha</span><span class="sxs-lookup"><span data-stu-id="a6aed-338">Menu Item Separators and Line Breaks</span></span>](#menu-item-separators-and-line-breaks)

### <a name="command-items-and-items-that-open-submenus"></a><span data-ttu-id="a6aed-339">Itens de comando e itens que abrem submenus</span><span class="sxs-lookup"><span data-stu-id="a6aed-339">Command Items and Items that Open Submenus</span></span>

<span data-ttu-id="a6aed-340">Quando o usuário escolhe um item de comando, o sistema envia uma mensagem de comando para a janela que possui o menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-340">When the user chooses a command item, the system sends a command message to the window that owns the menu.</span></span> <span data-ttu-id="a6aed-341">Se o item de comando estiver no menu janela, o sistema enviará a mensagem [**\_ SYSCOMMAND do WM**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-341">If the command item is on the window menu, the system sends the [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="a6aed-342">Caso contrário, ele envia a mensagem de [**\_ comando do WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-342">Otherwise, it sends the [**WM\_COMMAND**](wm-command.md) message.</span></span>

<span data-ttu-id="a6aed-343">Associado a cada item de menu que abre um submenu é um identificador para o submenu correspondente.</span><span class="sxs-lookup"><span data-stu-id="a6aed-343">Associated with each menu item that opens a submenu is a handle to the corresponding submenu.</span></span> <span data-ttu-id="a6aed-344">Quando o usuário aponta para esse item, o sistema abre o submenu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-344">When the user points to such an item, the system opens the submenu.</span></span> <span data-ttu-id="a6aed-345">Nenhuma mensagem de comando é enviada para a janela do proprietário.</span><span class="sxs-lookup"><span data-stu-id="a6aed-345">No command message is sent to the owner window.</span></span> <span data-ttu-id="a6aed-346">No entanto, o sistema envia uma mensagem do [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) para a janela do proprietário antes de exibir o submenu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-346">However, the system sends a [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message to the owner window before displaying the submenu.</span></span> <span data-ttu-id="a6aed-347">Você pode obter um identificador para o submenu associado a um item usando a função [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) ou [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-347">You can get a handle to the submenu associated with an item by using the [**GetSubMenu**](/windows/desktop/api/Winuser/nf-winuser-getsubmenu) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="a6aed-348">Uma barra de menus geralmente contém nomes de menus, mas também pode conter itens de comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-348">A menu bar typically contains menu names, but it can also contain command items.</span></span> <span data-ttu-id="a6aed-349">Um submenu geralmente contém itens de comando, mas também pode conter itens que abrem submenus aninhados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-349">A submenu typically contains command items, but it can also contain items that open nested submenus.</span></span> <span data-ttu-id="a6aed-350">Ao adicionar esses itens aos submenus, você pode aninhar menus a qualquer profundidade.</span><span class="sxs-lookup"><span data-stu-id="a6aed-350">By adding such items to submenus, you can nest menus to any depth.</span></span> <span data-ttu-id="a6aed-351">Para fornecer uma indicação visual para o usuário, o sistema exibe automaticamente uma seta pequena à direita do texto de um item de menu que abre um submenu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-351">To provide a visual cue for the user, the system automatically displays a small arrow to the right of the text of a menu item that opens a submenu.</span></span>

### <a name="menu-item-identifier"></a><span data-ttu-id="a6aed-352">Identificador de Menu-Item</span><span class="sxs-lookup"><span data-stu-id="a6aed-352">Menu-Item Identifier</span></span>

<span data-ttu-id="a6aed-353">Associado a cada item de menu há um inteiro exclusivo definido pelo aplicativo, chamado de *identificador de item de menu*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-353">Associated with each menu item is a unique, application-defined integer, called a *menu-item identifier*.</span></span> <span data-ttu-id="a6aed-354">Quando o usuário escolhe um item de comando em um menu, o sistema envia o identificador do item para a janela do proprietário como parte de uma mensagem de [**\_ comando do WM**](wm-command.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-354">When the user chooses a command item from a menu, the system sends the item's identifier to the owner window as part of a [**WM\_COMMAND**](wm-command.md) message.</span></span> <span data-ttu-id="a6aed-355">O procedimento de janela examina o identificador para determinar a origem da mensagem e processa a mensagem de acordo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-355">The window procedure examines the identifier to determine the source of the message, and processes the message accordingly.</span></span> <span data-ttu-id="a6aed-356">Além disso, você pode especificar um item de menu usando seu identificador ao chamar funções de menu; por exemplo, para habilitar ou desabilitar um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-356">In addition, you can specify a menu item using its identifier when you call menu functions; for example, to enable or disable a menu item.</span></span>

<span data-ttu-id="a6aed-357">Os itens de menu que abrem submenus têm identificadores exatamente como itens de comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-357">Menu items that open submenus have identifiers just as command items do.</span></span> <span data-ttu-id="a6aed-358">No entanto, o sistema não envia uma mensagem de comando quando esse item é selecionado em um menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-358">However, the system does not send a command message when such an item is selected from a menu.</span></span> <span data-ttu-id="a6aed-359">Em vez disso, o sistema abre o submenu associado ao item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-359">Instead, the system opens the submenu associated with the menu item.</span></span>

<span data-ttu-id="a6aed-360">Para recuperar o identificador do item de menu em uma posição especificada, use a função [**Getmenuitemid**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) ou [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-360">To retrieve the identifier of the menu item at a specified position, use the [**GetMenuItemID**](/windows/desktop/api/Winuser/nf-winuser-getmenuitemid) or [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

### <a name="menu-item-position"></a><span data-ttu-id="a6aed-361">Posição de Menu-Item</span><span class="sxs-lookup"><span data-stu-id="a6aed-361">Menu-Item Position</span></span>

<span data-ttu-id="a6aed-362">Além de ter um identificador exclusivo, cada item de menu em uma barra de menus ou menu tem um valor de posição exclusivo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-362">In addition to having a unique identifier, each menu item in a menu bar or menu has a unique position value.</span></span> <span data-ttu-id="a6aed-363">O item mais à esquerda em uma barra de menus, ou o item superior em um menu, tem a posição zero.</span><span class="sxs-lookup"><span data-stu-id="a6aed-363">The leftmost item in a menu bar, or the top item in a menu, has position zero.</span></span> <span data-ttu-id="a6aed-364">O valor da posição é incrementado para itens de menu subsequentes.</span><span class="sxs-lookup"><span data-stu-id="a6aed-364">The position value is incremented for subsequent menu items.</span></span> <span data-ttu-id="a6aed-365">O sistema atribui um valor de posição a todos os itens em um menu, incluindo separadores.</span><span class="sxs-lookup"><span data-stu-id="a6aed-365">The system assigns a position value to all items in a menu, including separators.</span></span> <span data-ttu-id="a6aed-366">A ilustração a seguir mostra os valores de posição de itens em uma barra de menus e em um menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-366">The following illustration shows the position values of items in a menu bar and in a menu.</span></span>

![barra de menus e menu](images/csemn-01.png)

<span data-ttu-id="a6aed-368">Ao chamar uma função de menu que modifica ou recupera informações sobre um item de menu específico, você pode especificar o item usando seu identificador ou sua posição.</span><span class="sxs-lookup"><span data-stu-id="a6aed-368">When calling a menu function that modifies or retrieves information about a specific menu item, you can specify the item using either its identifier or its position.</span></span> <span data-ttu-id="a6aed-369">Para obter mais informações, consulte a próxima seção.</span><span class="sxs-lookup"><span data-stu-id="a6aed-369">For more information, see the next section.</span></span>

### <a name="accessing-menu-items-programmatically"></a><span data-ttu-id="a6aed-370">Acessando itens de menu programaticamente</span><span class="sxs-lookup"><span data-stu-id="a6aed-370">Accessing Menu Items Programmatically</span></span>

<span data-ttu-id="a6aed-371">A maioria das funções de menu permitem que você especifique um item de menu por posição ou por comando.</span><span class="sxs-lookup"><span data-stu-id="a6aed-371">Most menu functions allow you to specify a menu item either by position or by command.</span></span> <span data-ttu-id="a6aed-372">Algumas funções usam os sinalizadores **MF \_ BYPOSITION** e **MF \_ BYCOMMAND** para indicar o algoritmo de pesquisa; outras têm um parâmetro *fByPosition* explícito.</span><span class="sxs-lookup"><span data-stu-id="a6aed-372">Some functions use the **MF\_BYPOSITION** and **MF\_BYCOMMAND** flags to indicate the search algorithm; others have an explicit *fByPosition* parameter.</span></span> <span data-ttu-id="a6aed-373">Se você especificar o item de menu por posição, o número do item será um índice baseado em zero no menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-373">If you specify the menu item by position, the item number is a zero-based index into the menu.</span></span> <span data-ttu-id="a6aed-374">Se você especificar o item de menu por comando, o menu e seus submenus serão pesquisados em um item cujo identificador de menu é igual ao número de item fornecido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-374">If you specify the menu item by command, the menu and its submenus are searched for an item whose menu identifier equals the item number provided.</span></span> <span data-ttu-id="a6aed-375">Se mais de um item na hierarquia do menu corresponder ao número do item, ele não será especificado, o qual será usado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-375">If more than one item in the menu hierarchy matches the item number, it is unspecified which one is used.</span></span> <span data-ttu-id="a6aed-376">Se os menus contiverem identificadores de menu duplicados, você deverá usar operações de menu baseadas em posição para evitar essa ambiguidade.</span><span class="sxs-lookup"><span data-stu-id="a6aed-376">If your menus contain duplicate menu identifiers, you should use position-based menu operations to avoid this ambiguity.</span></span>

### <a name="default-menu-items"></a><span data-ttu-id="a6aed-377">Itens de menu padrão</span><span class="sxs-lookup"><span data-stu-id="a6aed-377">Default Menu Items</span></span>

<span data-ttu-id="a6aed-378">Um submenu pode conter um item de menu padrão.</span><span class="sxs-lookup"><span data-stu-id="a6aed-378">A submenu can contain one default menu item.</span></span> <span data-ttu-id="a6aed-379">Quando o usuário abre um submenu clicando duas vezes, o sistema envia uma mensagem de comando para a janela do proprietário do menu e fecha o menu como se o item de comando padrão tivesse sido escolhido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-379">When the user opens a submenu by double-clicking, the system sends a command message to the menu's owner window and closes the menu as if the default command item had been chosen.</span></span> <span data-ttu-id="a6aed-380">Se não houver nenhum item de comando padrão, o submenu permanecerá aberto.</span><span class="sxs-lookup"><span data-stu-id="a6aed-380">If there is no default command item, the submenu remains open.</span></span> <span data-ttu-id="a6aed-381">Para recuperar e definir o item padrão para um submenu, use as funções [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) e [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-381">To retrieve and set the default item for a submenu, use the [**GetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-getmenudefaultitem) and [**SetMenuDefaultItem**](/windows/desktop/api/Winuser/nf-winuser-setmenudefaultitem) functions.</span></span>

### <a name="selected-and-clear-menu-items"></a><span data-ttu-id="a6aed-382">Itens de menu selecionados e desmarcados</span><span class="sxs-lookup"><span data-stu-id="a6aed-382">Selected and Clear Menu Items</span></span>

<span data-ttu-id="a6aed-383">Um item de menu pode ser selecionado ou limpo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-383">A menu item can be either selected or clear.</span></span> <span data-ttu-id="a6aed-384">O sistema exibe um bitmap ao lado dos itens de menu selecionados para indicar o estado selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-384">The system displays a bitmap next to selected menu items to indicate their selected state.</span></span> <span data-ttu-id="a6aed-385">O sistema não exibe um bitmap ao lado de limpar itens, a menos que um bitmap "Clear" definido pelo aplicativo seja especificado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-385">The system does not display a bitmap next to clear items, unless an application-defined "clear" bitmap is specified.</span></span> <span data-ttu-id="a6aed-386">Somente itens de menu em um menu podem ser selecionados; os itens em uma barra de menus não podem ser selecionados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-386">Only menu items in a menu can be selected; items in a menu bar cannot be selected.</span></span>

<span data-ttu-id="a6aed-387">Normalmente, os aplicativos verificam ou desmarcam um item de menu para indicar se uma opção está em vigor.</span><span class="sxs-lookup"><span data-stu-id="a6aed-387">Applications typically check or clear a menu item to indicate whether an option is in effect.</span></span> <span data-ttu-id="a6aed-388">Por exemplo, suponha que um aplicativo tenha uma barra de ferramentas que o usuário possa mostrar ou ocultar usando um comando de **barra de ferramentas** em um menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-388">For example, suppose an application has a toolbar that the user can show or hide by using a **Toolbar** command on a menu.</span></span> <span data-ttu-id="a6aed-389">Quando a barra de ferramentas está oculta, o item de menu da **barra de ferramentas** fica claro.</span><span class="sxs-lookup"><span data-stu-id="a6aed-389">When the toolbar is hidden, the **Toolbar** menu item is clear.</span></span> <span data-ttu-id="a6aed-390">Quando o usuário escolhe o comando, o aplicativo verifica o item de menu e mostra a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a6aed-390">When the user chooses the command, the application checks the menu item and shows the toolbar.</span></span>

<span data-ttu-id="a6aed-391">Um atributo de marca de seleção controla se um item de menu está selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-391">A check mark attribute controls whether a menu item is selected.</span></span> <span data-ttu-id="a6aed-392">Você pode definir o atributo de marca de seleção de um item de menu usando a função [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-392">You can set a menu item's check mark attribute by using the [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) function.</span></span> <span data-ttu-id="a6aed-393">Você pode usar a função [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) para determinar se um item de menu está selecionado ou desmarcado no momento.</span><span class="sxs-lookup"><span data-stu-id="a6aed-393">You can use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is currently selected or cleared.</span></span>

<span data-ttu-id="a6aed-394">Em vez de [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) e [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), você pode usar as funções [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) e [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) para recuperar e definir o estado de verificação de um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-394">Instead of [**CheckMenuItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuitem) and [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate), you can use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) and [**SetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-setmenuiteminfoa) functions to retrieve and set the check state of a menu item.</span></span>

<span data-ttu-id="a6aed-395">Às vezes, um grupo de itens de menu corresponde a um conjunto de opções mutuamente exclusivas.</span><span class="sxs-lookup"><span data-stu-id="a6aed-395">Sometimes, a group of menu items corresponds to a set of mutually exclusive options.</span></span> <span data-ttu-id="a6aed-396">Nesse caso, você pode indicar a opção selecionada usando um item de menu de rádio selecionado (análogo a um controle de botão de opção).</span><span class="sxs-lookup"><span data-stu-id="a6aed-396">In this case, you can indicate the selected option by using a selected radio menu item (analogous to a radio button control).</span></span> <span data-ttu-id="a6aed-397">Os itens de rádio selecionados são exibidos com um bitmap de marcador em vez de um bitmap de marca de seleção.</span><span class="sxs-lookup"><span data-stu-id="a6aed-397">Selected radio items are displayed with a bullet bitmap instead of a check mark bitmap.</span></span> <span data-ttu-id="a6aed-398">Para verificar um item de menu e transformá-lo em um item de rádio, use a função [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-398">To check a menu item and make it a radio item, use the [**CheckMenuRadioItem**](/windows/desktop/api/Winuser/nf-winuser-checkmenuradioitem) function.</span></span>

<span data-ttu-id="a6aed-399">Por padrão, o sistema exibe uma marca de seleção ou bitmap de marcador ao lado dos itens de menu selecionados e nenhum bitmap ao lado dos itens de menu desmarcados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-399">By default, the system displays a check mark or bullet bitmap next to selected menu items and no bitmap next to cleared menu items.</span></span> <span data-ttu-id="a6aed-400">No entanto, você pode usar a função [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) para associar bitmaps selecionados e limpos definidos pelo aplicativo a um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-400">However, you can use the [**SetMenuItemBitmaps**](/windows/desktop/api/Winuser/nf-winuser-setmenuitembitmaps) function to associate application-defined selected and cleared bitmaps with a menu item.</span></span> <span data-ttu-id="a6aed-401">Em seguida, o sistema usa os bitmaps especificados para indicar o estado selecionado ou limpo do item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-401">The system then uses the specified bitmaps to indicate the menu item's selected or cleared state.</span></span>

<span data-ttu-id="a6aed-402">Os bitmaps definidos pelo aplicativo associados a um item de menu devem ter o mesmo tamanho que o bitmap de marca de seleção padrão, as dimensões que podem variar dependendo da resolução da tela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-402">Application-defined bitmaps associated with a menu item must be the same size as the default check mark bitmap, the dimensions of which may vary depending on screen resolution.</span></span> <span data-ttu-id="a6aed-403">Para recuperar as dimensões corretas, use a função [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-403">To retrieve the correct dimensions, use the [**GetSystemMetrics**](/windows/desktop/api/winuser/nf-winuser-getsystemmetrics) function.</span></span> <span data-ttu-id="a6aed-404">Você pode criar vários recursos de bitmap para diferentes resoluções de tela; Crie um recurso de bitmap e dimensione-o, se necessário; ou crie um bitmap em tempo de execução e desenhe uma imagem nele.</span><span class="sxs-lookup"><span data-stu-id="a6aed-404">You can create multiple bitmap resources for different screen resolutions; create one bitmap resource and scale it, if necessary; or create a bitmap at run time and draw an image in it.</span></span> <span data-ttu-id="a6aed-405">Os bitmaps podem ser monocromáticos ou coloridos.</span><span class="sxs-lookup"><span data-stu-id="a6aed-405">The bitmaps may be either monochrome or color.</span></span> <span data-ttu-id="a6aed-406">No entanto, como os itens de menu são invertidos quando realçados, a aparência de determinados bitmaps de cores invertidos pode ser indesejável.</span><span class="sxs-lookup"><span data-stu-id="a6aed-406">However, because menu items are inverted when highlighted, the appearance of certain inverted color bitmaps may be undesirable.</span></span> <span data-ttu-id="a6aed-407">Para obter mais informações, consulte [bitmaps](/windows/desktop/gdi/bitmaps).</span><span class="sxs-lookup"><span data-stu-id="a6aed-407">For more information, see [Bitmaps](/windows/desktop/gdi/bitmaps).</span></span>

### <a name="enabled-grayed-and-disabled-menu-items"></a><span data-ttu-id="a6aed-408">Itens de menu habilitados, esmaecidos e desabilitados</span><span class="sxs-lookup"><span data-stu-id="a6aed-408">Enabled, Grayed, and Disabled Menu Items</span></span>

<span data-ttu-id="a6aed-409">Um item de menu pode ser habilitado, esmaecido ou desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-409">A menu item can be enabled, grayed, or disabled.</span></span> <span data-ttu-id="a6aed-410">Por padrão, um item de menu é habilitado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-410">By default, a menu item is enabled.</span></span> <span data-ttu-id="a6aed-411">Quando o usuário escolhe um item de menu habilitado, o sistema envia uma mensagem de comando para a janela do proprietário ou exibe o submenu correspondente, dependendo do tipo de item do menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-411">When the user chooses an enabled menu item, the system sends a command message to the owner window or displays the corresponding submenu, depending on what kind of menu item it is.</span></span>

<span data-ttu-id="a6aed-412">Quando itens de menu não estão disponíveis para o usuário, eles devem estar esmaecidos ou desabilitados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-412">When menu items are not available to the user, they should be grayed or disabled.</span></span> <span data-ttu-id="a6aed-413">Não é possível escolher itens de menu esmaecidos e desabilitados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-413">Grayed and disabled menu items cannot be chosen.</span></span> <span data-ttu-id="a6aed-414">Um item desabilitado é semelhante a um item habilitado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-414">A disabled item looks just like an enabled item.</span></span> <span data-ttu-id="a6aed-415">Quando o usuário clica em um item desabilitado, o item não é selecionado e nada acontece.</span><span class="sxs-lookup"><span data-stu-id="a6aed-415">When the user clicks on a disabled item, the item is not selected, and nothing happens.</span></span> <span data-ttu-id="a6aed-416">Os itens desabilitados podem ser úteis no, por exemplo, um tutorial que apresenta um menu que parece ativo, mas não.</span><span class="sxs-lookup"><span data-stu-id="a6aed-416">Disabled items can be useful in, for example, a tutorial that presents a menu that looks active but isn't.</span></span>

<span data-ttu-id="a6aed-417">Um aplicativo cinza um item de menu indisponível para fornecer uma indicação visual para o usuário de que um comando não está disponível.</span><span class="sxs-lookup"><span data-stu-id="a6aed-417">An application grays an unavailable menu item to provide a visual cue to the user that a command is not available.</span></span> <span data-ttu-id="a6aed-418">Você pode usar um item acinzentado quando uma ação não é apropriada (por exemplo, você pode esmaecer o comando **Imprimir** no menu **arquivo** quando o sistema não tem uma impressora instalada).</span><span class="sxs-lookup"><span data-stu-id="a6aed-418">You can use a grayed item when an action is not appropriate (for example, you can gray the **Print** command in the **File** menu when the system does not have a printer installed).</span></span>

<span data-ttu-id="a6aed-419">A função [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) habilita, cinza ou desabilita um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-419">The [**EnableMenuItem**](/windows/desktop/api/Winuser/nf-winuser-enablemenuitem) function enables, grays, or disables a menu item.</span></span> <span data-ttu-id="a6aed-420">Para determinar se um item de menu está habilitado, esmaecido ou desabilitado, use a função [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-420">To determine whether a menu item is enabled, grayed, or disabled, use the [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa) function.</span></span>

<span data-ttu-id="a6aed-421">Em vez de [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), você também pode usar a função [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) para determinar se um item de menu está habilitado, esmaecido ou desabilitado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-421">Instead of [**GetMenuItemInfo**](/windows/desktop/api/Winuser/nf-winuser-getmenuiteminfoa), you can also use the [**GetMenuState**](/windows/desktop/api/Winuser/nf-winuser-getmenustate) function to determine whether a menu item is enabled, grayed, or disabled.</span></span>

### <a name="highlighted-menu-items"></a><span data-ttu-id="a6aed-422">Itens de menu realçados</span><span class="sxs-lookup"><span data-stu-id="a6aed-422">Highlighted Menu Items</span></span>

<span data-ttu-id="a6aed-423">O sistema realça automaticamente os itens de menu em menus à medida que o usuário os seleciona.</span><span class="sxs-lookup"><span data-stu-id="a6aed-423">The system automatically highlights menu items on menus as the user selects them.</span></span> <span data-ttu-id="a6aed-424">No entanto, o realce pode ser explicitamente adicionado ou removido de um nome de menu na barra de menus usando a função [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-424">However, highlighting can be explicitly added or removed from a menu name on the menu bar by using the [**HiliteMenuItem**](/windows/desktop/api/Winuser/nf-winuser-hilitemenuitem) function.</span></span> <span data-ttu-id="a6aed-425">Esta função não tem efeito sobre itens de menu em menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-425">This function has no effect on menu items on menus.</span></span> <span data-ttu-id="a6aed-426">Quando **HiliteMenuItem** é usado para realçar um nome de menu, no entanto, o nome aparece apenas para ser selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-426">When **HiliteMenuItem** is used to highlight a menu name, though, the name only appears to be selected.</span></span> <span data-ttu-id="a6aed-427">Se o usuário pressionar a tecla ENTER, o item realçado não será escolhido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-427">If the user presses the ENTER key, the highlighted item is not chosen.</span></span> <span data-ttu-id="a6aed-428">Esse recurso pode ser útil em, por exemplo, um aplicativo de treinamento que demonstra o uso de menus.</span><span class="sxs-lookup"><span data-stu-id="a6aed-428">This feature might be useful in, for example, a training application that demonstrates the use of menus.</span></span>

### <a name="owner-drawn-menu-items"></a><span data-ttu-id="a6aed-429">Owner-Drawn itens de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-429">Owner-Drawn Menu Items</span></span>

<span data-ttu-id="a6aed-430">Um aplicativo pode controlar completamente a aparência de um item de menu usando um *Item desenhado pelo proprietário*.</span><span class="sxs-lookup"><span data-stu-id="a6aed-430">An application can completely control the appearance of a menu item by using an *owner-drawn item*.</span></span> <span data-ttu-id="a6aed-431">Os itens desenhados pelo proprietário exigem que um aplicativo assuma a responsabilidade total para o desenho de Estados selecionados (realçados), selecionados e limpos.</span><span class="sxs-lookup"><span data-stu-id="a6aed-431">Owner-drawn items require an application to take total responsibility for drawing selected (highlighted), selected, and cleared states.</span></span> <span data-ttu-id="a6aed-432">Por exemplo, se um aplicativo forneceu um menu fonte, ele poderia desenhar cada item de menu usando a fonte correspondente; o item para Roman seria desenhado com Roman, o item para itálico seria desenhado em itálico e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="a6aed-432">For example, if an application provided a font menu, it could draw each menu item by using the corresponding font; the item for Roman would be drawn with roman, the item for Italic would be drawn in italic, and so on.</span></span> <span data-ttu-id="a6aed-433">Para obter mais informações, consulte [criando Owner-Drawn itens de menu](using-menus.md).</span><span class="sxs-lookup"><span data-stu-id="a6aed-433">For more information, see [Creating Owner-Drawn Menu Items](using-menus.md).</span></span>

### <a name="menu-item-separators-and-line-breaks"></a><span data-ttu-id="a6aed-434">Separadores de itens de menu e quebras de linha</span><span class="sxs-lookup"><span data-stu-id="a6aed-434">Menu Item Separators and Line Breaks</span></span>

<span data-ttu-id="a6aed-435">O sistema fornece um tipo especial de item de menu, chamado de *separador*, que aparece como uma linha horizontal.</span><span class="sxs-lookup"><span data-stu-id="a6aed-435">The system provides a special type of menu item, called a *separator*, that appears as a horizontal line.</span></span> <span data-ttu-id="a6aed-436">Você pode usar um separador para dividir um menu em grupos de itens relacionados.</span><span class="sxs-lookup"><span data-stu-id="a6aed-436">You can use a separator to divide a menu into groups of related items.</span></span> <span data-ttu-id="a6aed-437">Um separador não pode ser usado em uma barra de menus e o usuário não pode selecionar um separador.</span><span class="sxs-lookup"><span data-stu-id="a6aed-437">A separator cannot be used in a menu bar, and the user cannot select a separator.</span></span>

<span data-ttu-id="a6aed-438">Quando uma barra de menus contém mais nomes de menu do que cabe em uma linha, o sistema encapsula a barra de menus dividindo-a automaticamente em duas ou mais linhas.</span><span class="sxs-lookup"><span data-stu-id="a6aed-438">When a menu bar contains more menu names than will fit on one line, the system wraps the menu bar by automatically breaking it into two or more lines.</span></span> <span data-ttu-id="a6aed-439">Você pode fazer com que uma quebra de linha ocorra em um item específico em uma barra de menus, atribuindo o sinalizador do tipo **MFT \_ MENUBREAK** ao item.</span><span class="sxs-lookup"><span data-stu-id="a6aed-439">You can cause a line break to occur at a specific item on a menu bar by assigning the **MFT\_MENUBREAK** type flag to the item.</span></span> <span data-ttu-id="a6aed-440">O sistema coloca esse item e todos os itens subsequentes em uma nova linha.</span><span class="sxs-lookup"><span data-stu-id="a6aed-440">The system places that item and all subsequent items on a new line.</span></span>

<span data-ttu-id="a6aed-441">Quando um menu contém mais itens do que caberá em uma coluna, o menu será truncado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-441">When a menu contains more items than will fit in one column, the menu will be truncated.</span></span> <span data-ttu-id="a6aed-442">Você pode fazer com que uma quebra de coluna ocorra em um item específico em um menu atribuindo o sinalizador do tipo **MFT \_ MENUBREAK** ao item ou usando a opção MENUBREAK na instrução [MenuItem](/windows/desktop/menurc/menuitem-statement) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-442">You can cause a column break to occur at a specific item in a menu by assigning the **MFT\_MENUBREAK** type flag to the item or using the MENUBREAK option in the [MENUITEM](/windows/desktop/menurc/menuitem-statement) statement.</span></span> <span data-ttu-id="a6aed-443">O sistema coloca esse item e todos os itens subsequentes em uma nova coluna.</span><span class="sxs-lookup"><span data-stu-id="a6aed-443">The system places that item and all subsequent items in a new column.</span></span> <span data-ttu-id="a6aed-444">O sinalizador do tipo **MFT \_ MENUBARBREAK** tem o mesmo efeito, exceto que uma linha vertical aparece entre a nova coluna e a antiga.</span><span class="sxs-lookup"><span data-stu-id="a6aed-444">The **MFT\_MENUBARBREAK** type flag has the same effect, except that a vertical line appears between the new column and the old.</span></span>

<span data-ttu-id="a6aed-445">Se você usar as funções [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua)ou [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) para atribuir quebras de linha, deverá atribuir os sinalizadores de tipo **MF \_ MENUBREAK** ou **MF \_ MENUBARBREAK**.</span><span class="sxs-lookup"><span data-stu-id="a6aed-445">If you use the [**AppendMenu**](/windows/desktop/api/Winuser/nf-winuser-appendmenua), [**InsertMenu**](/windows/desktop/api/Winuser/nf-winuser-insertmenua), or [**ModifyMenu**](/windows/desktop/api/Winuser/nf-winuser-modifymenua) functions to assign line breaks, you should assign the type flags **MF\_MENUBREAK** or **MF\_MENUBARBREAK**.</span></span>

## <a name="messages-used-with-menus"></a><span data-ttu-id="a6aed-446">Mensagens usadas com menus</span><span class="sxs-lookup"><span data-stu-id="a6aed-446">Messages Used with Menus</span></span>

<span data-ttu-id="a6aed-447">O sistema relata a atividade relacionada ao menu enviando mensagens para o procedimento de janela da janela que possui o menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-447">The system reports menu-related activity by sending messages to the window procedure of the window that owns the menu.</span></span> <span data-ttu-id="a6aed-448">O sistema envia uma série de mensagens quando o usuário seleciona itens na barra de menus ou clica com o botão direito do mouse para exibir um menu de atalho.</span><span class="sxs-lookup"><span data-stu-id="a6aed-448">The system sends a series of messages when the user selects items on the menu bar or clicks the right mouse button to display a shortcut menu.</span></span>

<span data-ttu-id="a6aed-449">Quando o usuário ativa um item na barra de menus, a janela do proprietário recebe primeiro uma mensagem do [**WM \_ SYSCOMMAND**](wm-syscommand.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-449">When the user activates an item on the menu bar, the owner window first receives a [**WM\_SYSCOMMAND**](wm-syscommand.md) message.</span></span> <span data-ttu-id="a6aed-450">Essa mensagem inclui um sinalizador que indica se o usuário ativou o menu usando o teclado (SC \_ keymenu) ou o mouse (SC \_ MOUSEMENU).</span><span class="sxs-lookup"><span data-stu-id="a6aed-450">This message includes a flag that indicates whether the user activated the menu by using the keyboard (SC\_KEYMENU) or the mouse (SC\_MOUSEMENU).</span></span> <span data-ttu-id="a6aed-451">Para obter mais informações, consulte [acesso de teclado aos menus](#keyboard-access-to-menus).</span><span class="sxs-lookup"><span data-stu-id="a6aed-451">For more information, see [Keyboard Access to Menus](#keyboard-access-to-menus).</span></span>

<span data-ttu-id="a6aed-452">Em seguida, antes de exibir qualquer menu, o sistema envia a mensagem do [**WM \_ INITMENU**](wm-initmenu.md) para o procedimento de janela para que um aplicativo possa modificar os menus antes que o usuário os veja.</span><span class="sxs-lookup"><span data-stu-id="a6aed-452">Next, before displaying any menus, the system sends the [**WM\_INITMENU**](wm-initmenu.md) message to the window procedure so that an application can modify the menus before the user sees them.</span></span> <span data-ttu-id="a6aed-453">O sistema envia a mensagem do **WM \_ INITMENU** apenas uma vez por ativação de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-453">The system sends the **WM\_INITMENU** message only once per menu activation.</span></span>

<span data-ttu-id="a6aed-454">Quando o usuário aponta para um item de menu que abre um submenu, o sistema envia a janela do proprietário da mensagem do [**WM \_ INITMENUPOPUP**](wm-initmenupopup.md) antes de exibir o submenu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-454">When the user points to a menu item that opens a submenu, the system sends the owner window the [**WM\_INITMENUPOPUP**](wm-initmenupopup.md) message before displaying the submenu.</span></span> <span data-ttu-id="a6aed-455">Essa mensagem dá ao aplicativo uma oportunidade de modificar o submenu antes que ele seja exibido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-455">This message gives the application an opportunity to modify the submenu before it is displayed.</span></span>

<span data-ttu-id="a6aed-456">Cada vez que o usuário move o realce de um item para outro, o sistema envia uma mensagem do [**WM \_ MENUSELECT**](wm-menuselect.md) para o procedimento de janela da janela do proprietário do menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-456">Each time the user moves the highlighting from one item to another, the system sends a [**WM\_MENUSELECT**](wm-menuselect.md) message to the window procedure of the menu's owner window.</span></span> <span data-ttu-id="a6aed-457">Esta mensagem identifica o item de menu selecionado no momento.</span><span class="sxs-lookup"><span data-stu-id="a6aed-457">This message identifies the currently selected menu item.</span></span> <span data-ttu-id="a6aed-458">Muitos aplicativos fornecem uma área de informações na parte inferior de suas janelas principais e usam essa mensagem para exibir informações adicionais sobre o item de menu selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-458">Many applications provide an information area at the bottom of their main windows and use this message to display additional information about the selected menu item.</span></span>

<span data-ttu-id="a6aed-459">Quando o usuário escolhe um item de comando em um menu, o sistema envia uma mensagem de [**\_ comando do WM**](wm-command.md) para o procedimento de janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-459">When the user chooses a command item from a menu, the system sends a [**WM\_COMMAND**](wm-command.md) message to the window procedure.</span></span> <span data-ttu-id="a6aed-460">A palavra de ordem inferior do parâmetro *wParam* da mensagem de **\_ comando do WM** contém o identificador do item escolhido.</span><span class="sxs-lookup"><span data-stu-id="a6aed-460">The low-order word of the **WM\_COMMAND** message's *wParam* parameter contains the identifier of the chosen item.</span></span> <span data-ttu-id="a6aed-461">O procedimento de janela deve examinar o identificador e processar a mensagem de acordo.</span><span class="sxs-lookup"><span data-stu-id="a6aed-461">The window procedure should examine the identifier and process the message accordingly.</span></span>

<span data-ttu-id="a6aed-462">Você pode salvar informações de um menu usando a estrutura [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-462">You can save information for a menu using the [**MENUINFO**](/windows/win32/api/winuser/ns-winuser-menuinfo) structure.</span></span> <span data-ttu-id="a6aed-463">Se o menu for definido com um **MENUINFO**. **dwStyle** valor de MNS \_ NOTIFYBYPOS, o sistema envia o [**WM \_ MENUCOMMAND**](wm-menucommand.md) em vez do [**\_ comando do WM**](wm-command.md) quando um item é selecionado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-463">If the menu is defined with a **MENUINFO**.**dwStyle** value of MNS\_NOTIFYBYPOS, the system sends [**WM\_MENUCOMMAND**](wm-menucommand.md) instead of the [**WM\_COMMAND**](wm-command.md) when an item is selected.</span></span> <span data-ttu-id="a6aed-464">Isso permite que você acesse as informações na estrutura **MENUINFO** e também fornece o índice do item selecionado diretamente.</span><span class="sxs-lookup"><span data-stu-id="a6aed-464">This allows you to access the information in the **MENUINFO** structure and also provides the index of the selected item directly.</span></span>

<span data-ttu-id="a6aed-465">Nem todos os menus podem ser acessados por meio da barra de menus de uma janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-465">Not all menus are accessible through a window's menu bar.</span></span> <span data-ttu-id="a6aed-466">Muitos aplicativos exibem menus de atalho quando o usuário clica com o botão direito do mouse em um local específico.</span><span class="sxs-lookup"><span data-stu-id="a6aed-466">Many applications display shortcut menus when the user clicks the right mouse button at a specific location.</span></span> <span data-ttu-id="a6aed-467">Esses aplicativos devem processar a [**mensagem \_ CONTEXTMENU do WM**](wm-contextmenu.md) e exibir um menu de atalho, se apropriado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-467">Such applications should process the [**WM\_CONTEXTMENU**](wm-contextmenu.md) message and display a shortcut menu, if appropriate.</span></span> <span data-ttu-id="a6aed-468">Se um aplicativo não exibir um menu de atalho, ele deverá passar a mensagem de **\_ CONTEXTMENU do WM** para a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) para o processamento padrão.</span><span class="sxs-lookup"><span data-stu-id="a6aed-468">If an application does not display a shortcut menu, it should pass the **WM\_CONTEXTMENU** message to the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function for default processing.</span></span>

<span data-ttu-id="a6aed-469">A mensagem do [**WM \_ MENURBUTTONUP**](wm-menurbuttonup.md) é enviada quando o usuário libera o botão direito do mouse enquanto o cursor está em um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-469">The [**WM\_MENURBUTTONUP**](wm-menurbuttonup.md) message is sent when the user releases the right mouse button while the cursor is on a menu item.</span></span> <span data-ttu-id="a6aed-470">Essa mensagem é fornecida para que os aplicativos possam exibir um menu contextual ou de atalho para um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-470">This message is provided so that applications can display a context-sensitive or shortcut menu for a menu item.</span></span>

<span data-ttu-id="a6aed-471">Há algumas mensagens que envolvem apenas menus do tipo "arrastar e soltar".</span><span class="sxs-lookup"><span data-stu-id="a6aed-471">There are a few messages that only involve drag-and-drop menus.</span></span> <span data-ttu-id="a6aed-472">O [**\_ MENUGETOBJECT do WM**](wm-menugetobject.md) é enviado para o proprietário de um menu do tipo "arrastar e soltar" quando o cursor do mouse entra em um item de menu ou se move do centro de um item para a parte superior ou inferior de um item.</span><span class="sxs-lookup"><span data-stu-id="a6aed-472">The [**WM\_MENUGETOBJECT**](wm-menugetobject.md) is sent to the owner of a drag-and-drop menu when the mouse cursor enters a menu item or moves from the center of an item to the top or the bottom of an item.</span></span> <span data-ttu-id="a6aed-473">A mensagem do [**WM \_ MENUDRAG**](wm-menudrag.md) é enviada quando o usuário realmente arrasta um item de menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-473">The [**WM\_MENUDRAG**](wm-menudrag.md) message is sent when the user actually drags a menu item.</span></span>

<span data-ttu-id="a6aed-474">Quando um menu suspenso ou um submenu foi destruído, o sistema envia uma mensagem do [**WM \_ UNINITMENUPOPUP**](wm-uninitmenupopup.md) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-474">When a drop-down menu or a submenu has been destroyed, the system sends a [**WM\_UNINITMENUPOPUP**](wm-uninitmenupopup.md) message.</span></span>

## <a name="menu-destruction"></a><span data-ttu-id="a6aed-475">Destruição de menu</span><span class="sxs-lookup"><span data-stu-id="a6aed-475">Menu Destruction</span></span>

<span data-ttu-id="a6aed-476">Se um menu for atribuído a uma janela e essa janela for destruída, o sistema destruirá automaticamente o menu e seus submenus, liberando o identificador do menu e a memória ocupada pelo menu.</span><span class="sxs-lookup"><span data-stu-id="a6aed-476">If a menu is assigned to a window and that window is destroyed, the system automatically destroys the menu and its submenus, freeing the menu's handle and the memory occupied by the menu.</span></span> <span data-ttu-id="a6aed-477">O sistema não destrói automaticamente um menu que não está atribuído a uma janela.</span><span class="sxs-lookup"><span data-stu-id="a6aed-477">The system does not automatically destroy a menu that is not assigned to a window.</span></span> <span data-ttu-id="a6aed-478">Um aplicativo deve destruir o menu não atribuído chamando a função [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-478">An application must destroy the unassigned menu by calling the [**DestroyMenu**](/windows/desktop/api/Winuser/nf-winuser-destroymenu) function.</span></span> <span data-ttu-id="a6aed-479">Caso contrário, o menu continuará existindo na memória mesmo depois que o aplicativo for fechado.</span><span class="sxs-lookup"><span data-stu-id="a6aed-479">Otherwise, the menu continues to exist in memory even after the application closes.</span></span> <span data-ttu-id="a6aed-480">Para finalizar o menu ativo do thread de chamada, use [**endmenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span><span class="sxs-lookup"><span data-stu-id="a6aed-480">To end the calling thread's active menu, use [**EndMenu**](/windows/desktop/api/Winuser/nf-winuser-endmenu).</span></span> <span data-ttu-id="a6aed-481">Se uma plataforma não oferecer suporte ao **menu** end, envie o proprietário do menu ativo uma mensagem do [**WM \_ cancelable**](/windows/desktop/winmsg/wm-cancelmode) .</span><span class="sxs-lookup"><span data-stu-id="a6aed-481">If a platform does not support **EndMenu**, send the owner of the active menu a [**WM\_CANCELMODE**](/windows/desktop/winmsg/wm-cancelmode) message.</span></span>

 

 