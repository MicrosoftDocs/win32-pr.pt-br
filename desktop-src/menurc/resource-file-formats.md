---
title: Formatos de arquivo de recurso
description: Esta seção descreve o formato do arquivo de recurso binário que o compilador de recurso cria com base no conteúdo do arquivo de definição de recurso.
ms.assetid: a0b17555-f50a-4d58-b2bc-760843dd67eb
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b90c789cd1684c1f5ca31af0e2d60a31052ca03f
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103823756"
---
# <a name="resource-file-formats"></a><span data-ttu-id="7f0e3-103">Formatos de arquivo de recurso</span><span class="sxs-lookup"><span data-stu-id="7f0e3-103">Resource File Formats</span></span>

<span data-ttu-id="7f0e3-104">Esta seção descreve o formato do arquivo de recurso binário que o compilador de recurso cria com base no conteúdo do arquivo de definição de recurso.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-104">This section describes the format of the binary resource file that the resource compiler creates based on the contents of the resource-definition file.</span></span> <span data-ttu-id="7f0e3-105">Esse arquivo geralmente tem uma extensão. res.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-105">This file usually has an .res extension.</span></span> <span data-ttu-id="7f0e3-106">O vinculador reformata o arquivo. res em um arquivo de objeto de recurso e o vincula ao arquivo executável de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-106">The linker reformats the .res file into a resource object file and then links it to the executable file of an application.</span></span>

<span data-ttu-id="7f0e3-107">Um arquivo de recurso binário consiste em um número de entradas de recurso concatenadas.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-107">A binary resource file consists of a number of concatenated resource entries.</span></span> <span data-ttu-id="7f0e3-108">Cada entrada consiste em um cabeçalho de recurso e os dados para esse recurso.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-108">Each entry consists of a resource header and the data for that resource.</span></span> <span data-ttu-id="7f0e3-109">Um cabeçalho de recurso é alinhado em **DWORD** no arquivo e consiste no seguinte:</span><span class="sxs-lookup"><span data-stu-id="7f0e3-109">A resource header is **DWORD**-aligned in the file and consists of the following:</span></span>

-   <span data-ttu-id="7f0e3-110">Um **DWORD** que contém o tamanho do cabeçalho do recurso</span><span class="sxs-lookup"><span data-stu-id="7f0e3-110">A **DWORD** that contains the size of the resource header</span></span>
-   <span data-ttu-id="7f0e3-111">Um **DWORD** que contém o tamanho dos dados do recurso</span><span class="sxs-lookup"><span data-stu-id="7f0e3-111">A **DWORD** that contains the size of the resource data</span></span>
-   <span data-ttu-id="7f0e3-112">O tipo de recurso</span><span class="sxs-lookup"><span data-stu-id="7f0e3-112">The resource type</span></span>
-   <span data-ttu-id="7f0e3-113">O nome do recurso</span><span class="sxs-lookup"><span data-stu-id="7f0e3-113">The resource name</span></span>
-   <span data-ttu-id="7f0e3-114">Informações adicionais sobre recursos</span><span class="sxs-lookup"><span data-stu-id="7f0e3-114">Additional resource information</span></span>

<span data-ttu-id="7f0e3-115">A estrutura [**RESOURCEHEADER**](resourceheader.md) descreve o formato desse cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-115">The [**RESOURCEHEADER**](resourceheader.md) structure describes the format of this header.</span></span> <span data-ttu-id="7f0e3-116">Os dados do recurso seguem o cabeçalho do recurso e são específicos de cada tipo de recurso.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-116">The data for the resource follows the resource header and is specific to each type of resource.</span></span> <span data-ttu-id="7f0e3-117">Alguns recursos também empregam uma estrutura de cabeçalho de grupo específica do recurso para fornecer informações sobre um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-117">Some resources also employ a resource-specific group header structure to provide information about a group of resources.</span></span>

## <a name="accelerator-table-resources"></a><span data-ttu-id="7f0e3-118">Recursos de tabela de acelerador</span><span class="sxs-lookup"><span data-stu-id="7f0e3-118">Accelerator Table Resources</span></span>

<span data-ttu-id="7f0e3-119">Uma tabela de acelerador é uma entrada de recurso em um arquivo de recurso.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-119">An accelerator table is one resource entry in a resource file.</span></span> <span data-ttu-id="7f0e3-120">Ele não tem um cabeçalho de grupo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-120">It does not have a group header.</span></span> <span data-ttu-id="7f0e3-121">Uma estrutura [**ACCELTABLEENTRY**](acceltableentry.md) descreve cada entrada na tabela do acelerador.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-121">An [**ACCELTABLEENTRY**](acceltableentry.md) structure describes each entry in the accelerator table.</span></span> <span data-ttu-id="7f0e3-122">Várias tabelas de acelerador são permitidas.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-122">Multiple accelerator tables are permitted.</span></span>

## <a name="cursor-and-icon-resources"></a><span data-ttu-id="7f0e3-123">Recursos de cursor e ícone</span><span class="sxs-lookup"><span data-stu-id="7f0e3-123">Cursor and Icon Resources</span></span>

<span data-ttu-id="7f0e3-124">O sistema trata cada ícone e cursor como um único arquivo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-124">The system handles each icon and cursor as a single file.</span></span> <span data-ttu-id="7f0e3-125">No entanto, eles são armazenados em arquivos. res e em arquivos executáveis como um grupo de recursos de ícone ou um grupo de recursos de cursor.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-125">However, these are stored in .res files and in executable files as a group of icon resources or a group of cursor resources.</span></span> <span data-ttu-id="7f0e3-126">Os formatos de arquivo dos recursos de ícone e cursor são semelhantes.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-126">The file formats of icon and cursor resources are similar.</span></span> <span data-ttu-id="7f0e3-127">No arquivo. res, um cabeçalho do grupo de recursos segue todos os componentes individuais de ícone ou grupo de cursores.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-127">In the .res file a resource group header follows all of the individual icon or cursor group components.</span></span>

<span data-ttu-id="7f0e3-128">O formato de cada componente de ícone é parecido com o formato do arquivo. ico.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-128">The format of each icon component closely resembles the format of the .ico file.</span></span> <span data-ttu-id="7f0e3-129">Cada imagem de ícone é armazenada em uma estrutura [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) seguida pelos bits DIB (bitmap independente de cor) da máscara **XOR** do ícone.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-129">Each icon image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the color device-independent bitmap (DIB) bits of the icon's **XOR** mask.</span></span> <span data-ttu-id="7f0e3-130">Os bits DIB monocromáticos do ícone **e** da máscara seguem os bits de cor DIB.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-130">The monochrome DIB bits of the icon's **AND** mask follow the color DIB bits.</span></span>

<span data-ttu-id="7f0e3-131">O formato de cada componente de cursor se assemelha ao formato do arquivo. cur.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-131">The format of each cursor component resembles the format of the .cur file.</span></span> <span data-ttu-id="7f0e3-132">Cada imagem de cursor é armazenada em uma estrutura [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) seguida pelos bits DIB monocromáticos da máscara **XOR** do cursor e, em seguida, pelos bits DIB monocromáticos do cursor **e** da máscara.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-132">Each cursor image is stored in a [**BITMAPINFO**](/windows/win32/api/wingdi/ns-wingdi-bitmapinfo) structure followed by the monochrome DIB bits of the cursor's **XOR** mask, and then by the monochrome DIB bits of the cursor's **AND** mask.</span></span> <span data-ttu-id="7f0e3-133">Observe que há uma diferença nos bitmaps dos dois recursos: ao contrário dos ícones, as máscaras XOR do cursor não têm bits DIB de cor.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-133">Note that there is a difference in the bitmaps of the two resources: Unlike icons, cursor XOR masks do not have color DIB bits.</span></span> <span data-ttu-id="7f0e3-134">Embora os bitmaps das máscaras de cursor sejam monocromáticos e não tenham cabeçalhos DIB ou tabelas de cores, os bits ainda estão no formato DIB em relação ao alinhamento e à direção.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-134">Although the bitmaps of the cursor masks are monochrome and do not have DIB headers or color tables, the bits are still in DIB format with respect to alignment and direction.</span></span> <span data-ttu-id="7f0e3-135">Outra diferença significativa entre cursores e ícones é que os cursores têm um ponto de interativação e os ícones não.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-135">Another significant difference between cursors and icons is that cursors have a hotspot and icons do not.</span></span>

<span data-ttu-id="7f0e3-136">O cabeçalho de grupo para os recursos de ícone e cursor consiste em uma estrutura [**NEWHEADER**](newheader.md) , além de uma ou mais estruturas [**RESDIR**](resdir.md) .</span><span class="sxs-lookup"><span data-stu-id="7f0e3-136">The group header for both icon and cursor resources consists of a [**NEWHEADER**](newheader.md) structure plus one or more [**RESDIR**](resdir.md) structures.</span></span> <span data-ttu-id="7f0e3-137">Há uma estrutura **RESDIR** para cada ícone ou cursor.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-137">There is one **RESDIR** structure for each icon or cursor.</span></span> <span data-ttu-id="7f0e3-138">O cabeçalho do grupo contém as informações de que um aplicativo precisa para selecionar o ícone ou o cursor correto a ser exibido.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-138">The group header contains the information an application needs to select the correct icon or cursor to display.</span></span> <span data-ttu-id="7f0e3-139">O cabeçalho do grupo e os dados que se repetem para cada ícone ou cursor no grupo têm um comprimento fixo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-139">Both the group header and the data that repeats for each icon or cursor in the group have a fixed length.</span></span> <span data-ttu-id="7f0e3-140">Isso permite que o aplicativo acesse as informações aleatoriamente.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-140">This allows the application to randomly access the information.</span></span>

## <a name="dialog-box-resources"></a><span data-ttu-id="7f0e3-141">Recursos da caixa de diálogo</span><span class="sxs-lookup"><span data-stu-id="7f0e3-141">Dialog Box Resources</span></span>

<span data-ttu-id="7f0e3-142">Uma caixa de diálogo também é uma entrada de recurso no arquivo de recurso.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-142">A dialog box is also one resource entry in the resource file.</span></span> <span data-ttu-id="7f0e3-143">Ele consiste em uma estrutura de cabeçalho da caixa de diálogo [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) mais uma estrutura [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) para cada controle na caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-143">It consists of one [**DLGTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgtemplate) dialog box header structure plus one [**DLGITEMTEMPLATE**](/windows/desktop/api/winuser/ns-winuser-dlgitemtemplate) structure for each control in the dialog box.</span></span> <span data-ttu-id="7f0e3-144">As estruturas [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) e [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) descrevem o formato dos recursos estendidos da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-144">The [**DLGTEMPLATEEX**](/windows/desktop/dlgbox/dlgtemplateex) and the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structures describe the format of extended dialog box resources.</span></span>

## <a name="font-resources"></a><span data-ttu-id="7f0e3-145">Recursos de fonte</span><span class="sxs-lookup"><span data-stu-id="7f0e3-145">Font Resources</span></span>

<span data-ttu-id="7f0e3-146">As fontes são armazenadas no arquivo de recursos como um grupo de recursos.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-146">Fonts are stored in the resource file as a group of resources.</span></span> <span data-ttu-id="7f0e3-147">Fontes individuais compõem um grupo de fontes.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-147">Individual fonts make up a font group.</span></span> <span data-ttu-id="7f0e3-148">Uma instrução de definição de recurso de [instrução de fonte](./font-statement.md) no. O arquivo RC define cada fonte.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-148">A [FONT Statement](./font-statement.md) resource definition statement in the .RC file defines each font.</span></span> <span data-ttu-id="7f0e3-149">Cada fonte individual no recurso consiste no conteúdo completo do arquivo. fnt relacionado.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-149">Each individual font in the resource consists of the complete contents of the related .fnt file.</span></span> <span data-ttu-id="7f0e3-150">Uma estrutura [**FONTGROUPHDR**](fontgrouphdr.md) segue todos os componentes de fonte individuais no arquivo. res.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-150">A [**FONTGROUPHDR**](fontgrouphdr.md) structure follows all the individual font components in the .res file.</span></span>

<span data-ttu-id="7f0e3-151">Os recursos de fonte não são adicionados aos recursos de um aplicativo específico.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-151">Font resources are not added to the resources of a specific application.</span></span> <span data-ttu-id="7f0e3-152">Em vez disso, eles são normalmente adicionados a arquivos executáveis que têm uma extensão. Fon.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-152">Instead, they are normally added to executable files that have a .fon extension.</span></span> <span data-ttu-id="7f0e3-153">Esses arquivos normalmente são DLLs somente de recursos em vez de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-153">These files are usually resource-only DLLs rather than applications.</span></span>

## <a name="menu-resources"></a><span data-ttu-id="7f0e3-154">Recursos de menu</span><span class="sxs-lookup"><span data-stu-id="7f0e3-154">Menu Resources</span></span>

<span data-ttu-id="7f0e3-155">Um *recurso de menu* consiste em uma estrutura [**MENUHEADER**](menuheader.md) seguida por uma ou mais estruturas [**NORMALMENUITEM**](normalmenuitem.md) ou [**POPUPMENUITEM**](popupmenuitem.md) , uma para cada item de menu no modelo de menu.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-155">A *menu resource* consists of a [**MENUHEADER**](menuheader.md) structure followed by one or more [**NORMALMENUITEM**](normalmenuitem.md) or [**POPUPMENUITEM**](popupmenuitem.md) structures, one for each menu item in the menu template.</span></span> <span data-ttu-id="7f0e3-156">O [**\_ \_ cabeçalho do modelo MENUEX**](menuex-template-header.md) e as estruturas de [**\_ \_ item de modelo MENUEX**](menuex-template-item.md) descrevem o formato dos recursos de menu estendidos.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-156">The [**MENUEX\_TEMPLATE\_HEADER**](menuex-template-header.md) and the [**MENUEX\_TEMPLATE\_ITEM**](menuex-template-item.md) structures describe the format of extended menu resources.</span></span>

## <a name="message-table-resources"></a><span data-ttu-id="7f0e3-157">Recursos de tabela de mensagens</span><span class="sxs-lookup"><span data-stu-id="7f0e3-157">Message Table Resources</span></span>

<span data-ttu-id="7f0e3-158">Uma *tabela de mensagens* é um recurso que contém texto formatado para exibição como uma mensagem de erro ou em uma caixa de mensagem.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-158">A *message table* is a resource that contains formatted text for display as an error message or in a message box.</span></span> <span data-ttu-id="7f0e3-159">A estrutura principal em um recurso de tabela de mensagens é a estrutura de [**\_ \_ dados do recurso de mensagem**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) .</span><span class="sxs-lookup"><span data-stu-id="7f0e3-159">The main structure in a message table resource is the [**MESSAGE\_RESOURCE\_DATA**](/windows/desktop/api/Winnt/ns-winnt-message_resource_data) structure.</span></span>

## <a name="version-resources"></a><span data-ttu-id="7f0e3-160">Recursos de versão</span><span class="sxs-lookup"><span data-stu-id="7f0e3-160">Version Resources</span></span>

<span data-ttu-id="7f0e3-161">A estrutura principal em um recurso de versão é a estrutura do [**vs \_ FIXEDFILEINFO**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) .</span><span class="sxs-lookup"><span data-stu-id="7f0e3-161">The main structure in a version resource is the [**VS\_FIXEDFILEINFO**](/windows/win32/api/verrsrc/ns-verrsrc-vs_fixedfileinfo) structure.</span></span> <span data-ttu-id="7f0e3-162">Estruturas adicionais incluem a estrutura [**VarFileInfo**](varfileinfo.md) para armazenar dados de informações de idioma e [**StringFileInfo**](stringfileinfo.md) para informações de cadeias de caracteres definidas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-162">Additional structures include the [**VarFileInfo**](varfileinfo.md) structure to store language information data, and [**StringFileInfo**](stringfileinfo.md) for user-defined string information.</span></span> <span data-ttu-id="7f0e3-163">Todas as cadeias de caracteres em um recurso de versão estão no formato Unicode.</span><span class="sxs-lookup"><span data-stu-id="7f0e3-163">All strings in a version resource are in Unicode format.</span></span> <span data-ttu-id="7f0e3-164">Cada bloco de informações é alinhado em um limite **DWORD** .</span><span class="sxs-lookup"><span data-stu-id="7f0e3-164">Each block of information is aligned on a **DWORD** boundary.</span></span>

 

 