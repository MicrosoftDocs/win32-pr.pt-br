---
description: Visão geral das considerações de Threading ao usar a API (interface de programação de aplicativo) do StylusInput.
ms.assetid: 5d98768a-c60b-4bb0-8640-9bf38254d41f
title: Considerações de threading para a API StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 530ac95fdf0e74e30c83a437b6ed573d03bb2c91
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103828474"
---
# <a name="threading-considerations-for-the-stylusinput-api"></a><span data-ttu-id="e3ef4-103">Considerações de threading para a API StylusInput</span><span class="sxs-lookup"><span data-stu-id="e3ef4-103">Threading Considerations for the StylusInput API</span></span>

<span data-ttu-id="e3ef4-104">O objeto [**RealTimeStylus**](realtimestylus-class.md) foi projetado para fornecer acesso em tempo real ao fluxo de dados da caneta eletrônica.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-104">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from the tablet pen.</span></span> <span data-ttu-id="e3ef4-105">Plug-ins, objetos que implementam a interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) ou [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) podem ser adicionados a um objeto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="e3ef4-105">Plug-ins, objects which implement the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) or [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface can be added to a **RealTimeStylus** object.</span></span> <span data-ttu-id="e3ef4-106">Plug-ins síncronos são geralmente chamados diretamente pelo objeto **RealTimeStylus** em um thread de alta prioridade, enquanto plug-ins assíncronos são geralmente chamados no thread da interface do usuário do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-106">Synchronous plug-ins are generally called directly by the **RealTimeStylus** object on a high-priority thread, while asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span> <span data-ttu-id="e3ef4-107">Crie ou use plug-ins síncronos para tarefas que exigem acesso em tempo real ao fluxo de dados e são de cálculo computacional, como a filtragem de pacotes.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-107">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as packet filtering.</span></span> <span data-ttu-id="e3ef4-108">Crie ou use plug-ins assíncronos para tarefas que não exigem acesso em tempo real ao fluxo de dados, como a coleta de tinta.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-108">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as ink collection.</span></span>

<span data-ttu-id="e3ef4-109">Como os dados de plug-in para a coleção de plug-ins assíncrono do objeto [**RealTimeStylus**](realtimestylus-class.md) são enfileirados, plug-in assíncronos podem receber dados antes de receber uma chamada para seu método [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) , mas depois que o objeto **RealTimeStylus** é desabilitado.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-109">Because the plug-in data for the [**RealTimeStylus**](realtimestylus-class.md) object's asynchronous plug-in collection is queued, asynchronous plug-ins may receive data prior to receiving a call to its [RealTimeStylusDisabled](/previous-versions/ms824774(v=msdn.10)) method but after the **RealTimeStylus** object is disabled.</span></span> <span data-ttu-id="e3ef4-110">Observe que alguns dos métodos e propriedades do objeto **RealTimeStylus** geram uma exceção se o objeto **RealTimeStylus** está desabilitado.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-110">Note that some of the **RealTimeStylus** object's methods and properties throw an exception if the **RealTimeStylus** object is disabled.</span></span>

<span data-ttu-id="e3ef4-111">Os métodos de interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) a seguir podem chamar em um thread diferente do thread de dados da caneta eletrônica.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-111">The following [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface methods may call on a thread other than the tablet pen data thread.</span></span>

-   <span data-ttu-id="e3ef4-112">Os métodos [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) e [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) são chamados no thread que atualiza a propriedade [Enabled](/previous-versions/ms585380(v=vs.100)) do objeto [**RealTimeStylus**](realtimestylus-class.md) ou que adiciona ou remove o plug-in enquanto o objeto **RealTimeStylus** está habilitado.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-112">The [RealTimeStylusEnabled](/previous-versions/ms824758(v=msdn.10)) and [RealTimeStylusDisabled](/previous-versions/ms824757(v=msdn.10)) methods are called on the thread that updates the [**RealTimeStylus**](realtimestylus-class.md) object's [Enabled](/previous-versions/ms585380(v=vs.100)) property or that adds or removes the plug-in while the **RealTimeStylus** object is enabled.</span></span>
-   <span data-ttu-id="e3ef4-113">O método [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) é chamado no thread que chama o método [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) do objeto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="e3ef4-113">The [CustomStylusDataAdded](/previous-versions/ms824753(v=msdn.10)) method is called on the thread that calls the [**RealTimeStylus**](realtimestylus-class.md) object's [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method.</span></span>
-   <span data-ttu-id="e3ef4-114">O método de [erro](/previous-versions/ms824754(v=msdn.10)) é chamado no thread no qual o plug-in síncrono está em execução quando gera uma exceção.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-114">The [Error](/previous-versions/ms824754(v=msdn.10)) method is called on the thread on which the synchronous plug-in is running when it throws an exception.</span></span>

<span data-ttu-id="e3ef4-115">Para interagir com seu aplicativo a partir de um plug-in síncrono, use o método [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) do objeto [**RealTimeStylus**](realtimestylus-class.md) e manipule os dados da caneta personalizada em um dos seus plug-ins assíncronos. Se você fizer uma chamada síncrona para outro thread de um plug-in síncrono, poderá bloquear o objeto **RealTimeStylus** e, portanto, bloquear a coleta de tinta.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-115">To interact with your application from a synchronous plug-in, use the [AddCustomStylusDataToQueue](/previous-versions/ms825761(v=msdn.10)) method of the [**RealTimeStylus**](realtimestylus-class.md) object and handle the custom stylus data in one of your asynchronous plug-ins. If you make a synchronous call to another thread from a synchronous plug-in, you may block the **RealTimeStylus** object and thus block ink collection.</span></span>

<span data-ttu-id="e3ef4-116">Determinadas tarefas podem ser computacionalmente exigentes, ainda assim exigem acesso em tempo real ao fluxo de dados da caneta do Tablet, como para o reconhecimento de gestos com vários traços.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-116">Certain tasks may be computationally demanding yet still require real-time access to the tablet pen's data stream, such as for multistroke gesture recognition.</span></span> <span data-ttu-id="e3ef4-117">As APIs StylusInput fornecem um modelo [**RealTimeStylus**](realtimestylus-class.md) em cascata que permite que você use dois objetos **RealTimeStylus** , cada um chamando seus plug-ins síncronos de threads diferentes.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-117">The StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each one calling its synchronous plug-ins from different threads.</span></span> <span data-ttu-id="e3ef4-118">Para obter mais informações sobre o modelo **RealTimeStylus** em cascata, consulte [o modelo RealTimeStylus em cascata](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="e3ef4-118">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

> [!Note]  
> <span data-ttu-id="e3ef4-119">Não é possível anexar o objeto [**RealTimeStylus**](realtimestylus-class.md) a uma janela ou controle em um processo diferente.</span><span class="sxs-lookup"><span data-stu-id="e3ef4-119">You cannot attach the [**RealTimeStylus**](realtimestylus-class.md) object to a window or control in a different process.</span></span>

 

<span data-ttu-id="e3ef4-120">Para obter mais informações sobre considerações de threading para o Tablet PC em geral, consulte [considerações de Threading do Tablet PC](tablet-pc-threading-considerations.md)</span><span class="sxs-lookup"><span data-stu-id="e3ef4-120">For more information about threading considerations for the Tablet PC in general, see [Tablet PC Threading Considerations](tablet-pc-threading-considerations.md)</span></span>

 

 
