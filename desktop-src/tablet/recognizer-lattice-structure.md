---
description: Os reconhecedores criados para uso com o Windows Vista e o Windows XP Tablet PC Edition usam um conjunto de estruturas, sendo que cada uma delas é chamada de malha, para passar os resultados de reconhecimento para as bibliotecas da plataforma do Tablet PC.
ms.assetid: 628ca677-31eb-47d9-bcc6-d7777f8aaf7c
title: Estrutura malha do reconhecedor
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 46bbfe71674571ae0554509dfa8477569ef8b44d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104569331"
---
# <a name="recognizer-lattice-structure"></a><span data-ttu-id="1c57b-103">Estrutura malha do reconhecedor</span><span class="sxs-lookup"><span data-stu-id="1c57b-103">Recognizer Lattice Structure</span></span>

<span data-ttu-id="1c57b-104">Os reconhecedores criados para uso com o Windows Vista e o Windows XP Tablet PC Edition usam um conjunto de estruturas, sendo que cada uma delas é chamada de malha, para passar os resultados de reconhecimento para as bibliotecas da plataforma do Tablet PC.</span><span class="sxs-lookup"><span data-stu-id="1c57b-104">Recognizers created for use with Windows Vista and Windows XP Tablet PC Edition use a set of structures, each of which is called a lattice, to pass recognition results back to Tablet PC platform libraries.</span></span> <span data-ttu-id="1c57b-105">Em seguida, a plataforma do Tablet PC copia as informações nessas estruturas para o objeto [**IInkRecognitionResult**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) , a coleção [**IInkRecognitionAlternates**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternates) e o objeto [**IInkRecognitionAlternate**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternate) .</span><span class="sxs-lookup"><span data-stu-id="1c57b-105">The Tablet PC platform then copies the information in these structures into the [**IInkRecognitionResult**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionresult) object, the [**IInkRecognitionAlternates**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternates) collection, and the [**IInkRecognitionAlternate**](/windows/desktop/api/msinkaut/nn-msinkaut-iinkrecognitionalternate) object.</span></span>

<span data-ttu-id="1c57b-106">Um ponteiro para o malha deve ser retornado pelo reconhecedor quando a plataforma chama a função [**GetLatticePtr**](/windows/desktop/api/recapis/nf-recapis-getlatticeptr) no identificador [HRECOCONTEXT](hrecocontext-handle.md) .</span><span class="sxs-lookup"><span data-stu-id="1c57b-106">A pointer to the lattice should be returned by the recognizer when the platform calls the [**GetLatticePtr**](/windows/desktop/api/recapis/nf-recapis-getlatticeptr) function on the [HRECOCONTEXT](hrecocontext-handle.md) handle.</span></span>

<span data-ttu-id="1c57b-107">Esta seção descreve a estrutura malha em detalhes.</span><span class="sxs-lookup"><span data-stu-id="1c57b-107">This section describes the lattice structure in detail.</span></span> <span data-ttu-id="1c57b-108">Para obter uma visão geral dos reconhecedores e conceitos relacionados, consulte [sobre o reconhecimento de manuscrito](about-handwriting-recognition.md).</span><span class="sxs-lookup"><span data-stu-id="1c57b-108">For an overview of recognizers and related concepts, see [About Handwriting Recognition](about-handwriting-recognition.md).</span></span>

## <a name="the-need-for-a-lattice"></a><span data-ttu-id="1c57b-109">A necessidade de um malha</span><span class="sxs-lookup"><span data-stu-id="1c57b-109">The Need for a Lattice</span></span>

<span data-ttu-id="1c57b-110">Um reconhecedor pode encontrar várias maneiras de quebrar um conjunto de traços de tinta em segmentos de reconhecimento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-110">A recognizer may find several ways to break a set of ink strokes into recognition segments.</span></span> <span data-ttu-id="1c57b-111">O que o reconhecedor usa como um segmento de reconhecimento depende do tipo de reconhecedor.</span><span class="sxs-lookup"><span data-stu-id="1c57b-111">What the recognizer uses as a recognition segment depends upon the type of recognizer.</span></span> <span data-ttu-id="1c57b-112">Os reconhecedores de idioma inglês normalmente usam palavras como o segmento de reconhecimento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-112">English language recognizers typically use words as the recognition segment.</span></span> <span data-ttu-id="1c57b-113">Outros reconhecedores podem usar caracteres, formas ou gestos como o segmento de reconhecimento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-113">Other recognizers might use characters, shapes, or gestures as the recognition segment.</span></span> <span data-ttu-id="1c57b-114">A flexibilidade das estruturas malha permite o gerenciamento lógico do grande número de resultados de reconhecimento que podem ser combinados em relações complexas.</span><span class="sxs-lookup"><span data-stu-id="1c57b-114">The flexibility of the lattice structures allows for logical management of the large number of recognition results that can be combined in complex relationships.</span></span>

<span data-ttu-id="1c57b-115">Internamente, os reconhecedores usam um malha para manter as unidades de reconhecimento básicas para uma determinada folha de tinta.</span><span class="sxs-lookup"><span data-stu-id="1c57b-115">Internally, recognizers use a lattice to hold basic recognition units for a given piece of ink.</span></span> <span data-ttu-id="1c57b-116">O malha também contém a pontuação, ou o nível de confiança, do resultado combinado.</span><span class="sxs-lookup"><span data-stu-id="1c57b-116">The lattice also holds the score, or confidence level, of the combined result.</span></span> <span data-ttu-id="1c57b-117">Além disso, o malha armazena o mapeamento de segmentos para os traços de tinta originais.</span><span class="sxs-lookup"><span data-stu-id="1c57b-117">In addition, the lattice stores the mapping of segments to the original ink strokes.</span></span>

<span data-ttu-id="1c57b-118">As estruturas malha são definidas no arquivo de cabeçalho rectypes. h.</span><span class="sxs-lookup"><span data-stu-id="1c57b-118">The lattice structures are defined in the RecTypes.h header file.</span></span> <span data-ttu-id="1c57b-119">As estruturas malha incluem as seguintes estruturas:</span><span class="sxs-lookup"><span data-stu-id="1c57b-119">The lattice structures include the following structures:</span></span>

-   [<span data-ttu-id="1c57b-120">**RECUP \_ malha**</span><span class="sxs-lookup"><span data-stu-id="1c57b-120">**RECO\_LATTICE**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice)
-   [<span data-ttu-id="1c57b-121">**\_coluna recup malha \_**</span><span class="sxs-lookup"><span data-stu-id="1c57b-121">**RECO\_LATTICE\_COLUMN**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column)
-   [<span data-ttu-id="1c57b-122">**\_elemento recup malha \_**</span><span class="sxs-lookup"><span data-stu-id="1c57b-122">**RECO\_LATTICE\_ELEMENT**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element)
-   [<span data-ttu-id="1c57b-123">**Propriedades de RECUP \_ malha \_**</span><span class="sxs-lookup"><span data-stu-id="1c57b-123">**RECO\_LATTICE\_PROPERTIES**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_properties)
-   [<span data-ttu-id="1c57b-124">**\_Propriedade recup malha \_**</span><span class="sxs-lookup"><span data-stu-id="1c57b-124">**RECO\_LATTICE\_PROPERTY**</span></span>](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_property)

## <a name="lattice-components"></a><span data-ttu-id="1c57b-125">Componentes do malha</span><span class="sxs-lookup"><span data-stu-id="1c57b-125">Lattice Components</span></span>

<span data-ttu-id="1c57b-126">Os exemplos a seguir usam os traços para a palavra "juntas", conforme mostrado na imagem a seguir.</span><span class="sxs-lookup"><span data-stu-id="1c57b-126">The following examples use the strokes for the word "together" as shown in the following image.</span></span> <span data-ttu-id="1c57b-127">Nos exemplos, os segmentos são avaliados como uma ou mais palavras.</span><span class="sxs-lookup"><span data-stu-id="1c57b-127">In the examples, the segments are evaluated as one or more words.</span></span> <span data-ttu-id="1c57b-128">Os números representam os traços individuais no segmento que está sendo avaliado.</span><span class="sxs-lookup"><span data-stu-id="1c57b-128">The numbers represent the individual strokes in the segment being evaluated.</span></span> <span data-ttu-id="1c57b-129">Observe que cada um dos caracteres "t" contém dois traços.</span><span class="sxs-lookup"><span data-stu-id="1c57b-129">Note that each of the "t" characters contains two strokes.</span></span>

![traços para a palavra "juntas"](images/1d5fa9fb-6c38-49b8-8caa-2b6dcc1d5dec.gif)

<span data-ttu-id="1c57b-131">Um malha é composto de uma ou mais colunas, uma para cada segmento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-131">A lattice is composed of one or more columns, one for each segment.</span></span> <span data-ttu-id="1c57b-132">Cada coluna, por sua vez, contém um ou mais elementos.</span><span class="sxs-lookup"><span data-stu-id="1c57b-132">Each column in turn contains one or more elements.</span></span> <span data-ttu-id="1c57b-133">Um elemento mantém uma alternativa de reconhecimento discreto.</span><span class="sxs-lookup"><span data-stu-id="1c57b-133">An element holds a discrete recognition alternate.</span></span> <span data-ttu-id="1c57b-134">Para obter mais informações sobre colunas, consulte a estrutura de [**\_ \_ coluna recup malha**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column) .</span><span class="sxs-lookup"><span data-stu-id="1c57b-134">For more information about columns, see the [**RECO\_LATTICE\_COLUMN**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_column) structure.</span></span> <span data-ttu-id="1c57b-135">Para obter mais informações sobre elementos, consulte a estrutura do [**\_ \_ elemento recup malha**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element) .</span><span class="sxs-lookup"><span data-stu-id="1c57b-135">For more information about elements, see the [**RECO\_LATTICE\_ELEMENT**](/windows/win32/api/rectypes/ns-rectypes-reco_lattice_element) structure.</span></span>

<span data-ttu-id="1c57b-136">O reconhecedor pode retornar um único segmento ao avaliar o exemplo de tinta mostrado no exemplo anterior.</span><span class="sxs-lookup"><span data-stu-id="1c57b-136">The recognizer might return a single segment when evaluating the ink sample shown in the previous example.</span></span> <span data-ttu-id="1c57b-137">Nesse caso, o malha contém uma única coluna com um único elemento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-137">In this case the lattice contains a single column with a single element.</span></span>

<span data-ttu-id="1c57b-138">Um exemplo mais complexo apresenta a si mesmo quando o reconhecedor avalia o exemplo de tinta e apresenta vários segmentos e várias alternativas para cada segmento.</span><span class="sxs-lookup"><span data-stu-id="1c57b-138">A more complex example presents itself when the recognizer evaluates the ink sample and comes up with multiple segments and multiple alternates for each segment.</span></span>

<span data-ttu-id="1c57b-139">O número de alternativas de reconhecimento pode ser escalonado, mesmo para uma amostra de tinta pequena.</span><span class="sxs-lookup"><span data-stu-id="1c57b-139">The number of recognition alternates may be staggering, even for a small ink sample.</span></span> <span data-ttu-id="1c57b-140">Por exemplo, "t o g e t h e r" podem produzir os seguintes resultados:</span><span class="sxs-lookup"><span data-stu-id="1c57b-140">For example, "t o g e t h e r" can yield the following results:</span></span>

-   <span data-ttu-id="1c57b-141">"para obter a sua" (além de alternativas para cada palavra)</span><span class="sxs-lookup"><span data-stu-id="1c57b-141">"to get her" (plus alternates for each word)</span></span>
-   <span data-ttu-id="1c57b-142">"para reunir" (além de alternativas para cada palavra)</span><span class="sxs-lookup"><span data-stu-id="1c57b-142">"to gather" (plus alternates for each word)</span></span>
-   <span data-ttu-id="1c57b-143">"para obter a sua" (além de alternativas para cada palavra)</span><span class="sxs-lookup"><span data-stu-id="1c57b-143">"to got her" (plus alternates for each word)</span></span>
-   <span data-ttu-id="1c57b-144">"juntos" (além de alternativas para a palavra)</span><span class="sxs-lookup"><span data-stu-id="1c57b-144">"together" (plus alternates for the word)</span></span>

<span data-ttu-id="1c57b-145">Nesse caso, um reconhecedor pode criar a seguinte estrutura malha.</span><span class="sxs-lookup"><span data-stu-id="1c57b-145">In this case, a recognizer might create the following lattice structure.</span></span>

![estrutura malha para a palavra "juntas"](images/2496c3dd-8b08-4f86-9fe3-f118be49a8c8.gif)

> [!Note]  
> <span data-ttu-id="1c57b-147">Cada coluna compartilha a mesma ordem de traço porque todas se referem à mesma coleção [InkStrokes](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="1c57b-147">Each column shares the same stroke order because they all refer to the same [InkStrokes](/previous-versions/windows/desktop/legacy/ms703293(v=vs.85)) collection.</span></span>

 

 

 
