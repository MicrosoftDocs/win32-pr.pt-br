---
description: As APIs do StylusInput permitem que você interaja com o fluxo de dados da caneta do Tablet. Para interagir com o fluxo de dados, adicione um objeto RealTimeStylus ao seu aplicativo e adicione plug-ins ao objeto RealTimeStylus.
ms.assetid: 88bab0ab-df9f-4813-9a9f-9a137813f0b4
title: Arquitetura das APIs do StylusInput
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: eeda6a6a0269e8306aed6a6b6de4c1bbe33bc46f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104091745"
---
# <a name="architecture-of-the-stylusinput-apis"></a><span data-ttu-id="57ef6-104">Arquitetura das APIs do StylusInput</span><span class="sxs-lookup"><span data-stu-id="57ef6-104">Architecture of the StylusInput APIs</span></span>

<span data-ttu-id="57ef6-105">As APIs do StylusInput permitem que você interaja com o fluxo de dados da caneta do Tablet.</span><span class="sxs-lookup"><span data-stu-id="57ef6-105">The StylusInput APIs allow you to interact with the tablet pen data stream.</span></span> <span data-ttu-id="57ef6-106">Para interagir com o fluxo de dados, adicione um objeto [**RealTimeStylus**](realtimestylus-class.md) ao seu aplicativo e adicione plug-ins ao objeto **RealTimeStylus** .</span><span class="sxs-lookup"><span data-stu-id="57ef6-106">To interact with the data stream add a [**RealTimeStylus**](realtimestylus-class.md) object to your application, and add plug-ins to the **RealTimeStylus** object.</span></span>

<span data-ttu-id="57ef6-107">Dois plug-ins são fornecidos nas APIs do StylusInput.</span><span class="sxs-lookup"><span data-stu-id="57ef6-107">Two plug-ins are provided in the StylusInput APIs.</span></span> <span data-ttu-id="57ef6-108">O objeto [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) implementa a interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-108">The [**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85)) object implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="57ef6-109">O objeto **DynamicRenderer** renderiza a tinta em tempo real, pois ela está sendo desenhada.</span><span class="sxs-lookup"><span data-stu-id="57ef6-109">The **DynamicRenderer** object renders the ink in real time, as it is being drawn.</span></span> <span data-ttu-id="57ef6-110">O objeto [**GestureRecognizer**](gesturerecognizer-class.md) implementa as interfaces **IStylusSyncPlugin** e [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-110">The [**GestureRecognizer**](gesturerecognizer-class.md) object implements the **IStylusSyncPlugin** and [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interfaces.</span></span> <span data-ttu-id="57ef6-111">O objeto **GestureRecognizer** reconhece os gestos do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="57ef6-111">The **GestureRecognizer** object recognizes application gestures.</span></span>

## <a name="definitions"></a><span data-ttu-id="57ef6-112">Definições</span><span class="sxs-lookup"><span data-stu-id="57ef6-112">Definitions</span></span>

<span data-ttu-id="57ef6-113">Os termos a seguir são usados nas seções que descrevem as APIs StylusInput:</span><span class="sxs-lookup"><span data-stu-id="57ef6-113">The following terms are used in the sections describing the StylusInput APIs:</span></span>

<span data-ttu-id="57ef6-114">Plug-in síncrono</span><span class="sxs-lookup"><span data-stu-id="57ef6-114">Synchronous plug-in</span></span>

<span data-ttu-id="57ef6-115">Uma classe que implementa a interface [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-115">A class that implements the [**IStylusSyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin) interface.</span></span> <span data-ttu-id="57ef6-116">Plug-ins síncronos são geralmente chamados diretamente pelo objeto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-116">Synchronous plug-ins are generally called directly by the [**RealTimeStylus**](realtimestylus-class.md) object.</span></span>

<span data-ttu-id="57ef6-117">Plug-in assíncrono</span><span class="sxs-lookup"><span data-stu-id="57ef6-117">Asynchronous plug-in</span></span>

<span data-ttu-id="57ef6-118">Uma classe que implementa a interface [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-118">A class that implements the [**IStylusAsyncPlugin**](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin) interface.</span></span> <span data-ttu-id="57ef6-119">Plug-ins assíncronos são geralmente chamados no thread da interface do usuário do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="57ef6-119">Asynchronous plug-ins are generally called on the application's user interface (UI) thread.</span></span>

<span data-ttu-id="57ef6-120">Coleção de plug-ins síncrona</span><span class="sxs-lookup"><span data-stu-id="57ef6-120">Synchronous plug-in collection</span></span>

<span data-ttu-id="57ef6-121">Uma coleção [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) , que é uma coleção ordenada de objetos [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-121">A [StylusSyncPluginCollection](/previous-versions/ms824788(v=msdn.10)) collection, which is an ordered collection of [IStylusSyncPlugin](/previous-versions/ms824751(v=msdn.10)) objects.</span></span> <span data-ttu-id="57ef6-122">Uma coleção de plug-ins síncrona geralmente se refere à coleção atribuída à propriedade [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) de um objeto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-122">A synchronous plug-in collection usually refers to the collection assigned to the [SyncPluginCollection](/previous-versions/ms824833(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="57ef6-123">Somente plug-ins síncronos podem ser adicionados a uma coleção de plug-in síncrona.</span><span class="sxs-lookup"><span data-stu-id="57ef6-123">Only synchronous plug-ins may be added to a synchronous plug-in collection.</span></span>

<span data-ttu-id="57ef6-124">Coleção de plug-ins assíncrono</span><span class="sxs-lookup"><span data-stu-id="57ef6-124">Asynchronous plug-in collection</span></span>

<span data-ttu-id="57ef6-125">Uma coleção [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) , que é uma coleção ordenada de objetos [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-125">A [StylusAsyncPluginCollection](/previous-versions/ms824808(v=msdn.10)) collection, which is an ordered collection of [IStylusAsyncPlugin](/previous-versions/ms824768(v=msdn.10)) objects.</span></span> <span data-ttu-id="57ef6-126">Uma coleção de plug-ins assíncrona geralmente se refere à coleção atribuída à propriedade [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) de um objeto [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-126">An asynchronous plug-in collection usually refers to the collection assigned to the [AsyncPluginCollection](/previous-versions/ms824831(v=msdn.10)) property of a [RealTimeStylus](/previous-versions/ms824830(v=msdn.10)) object.</span></span> <span data-ttu-id="57ef6-127">Somente plug-ins assíncronos podem ser adicionados a uma coleção de plug-in assíncrona.</span><span class="sxs-lookup"><span data-stu-id="57ef6-127">Only asynchronous plug-ins may be added to an asynchronous plug-in collection.</span></span>

## <a name="synchronous-and-asynchronous-plug-ins"></a><span data-ttu-id="57ef6-128">Plug-ins síncronos e assíncronos</span><span class="sxs-lookup"><span data-stu-id="57ef6-128">Synchronous and Asynchronous Plug-ins</span></span>

<span data-ttu-id="57ef6-129">O objeto [**RealTimeStylus**](realtimestylus-class.md) foi projetado para fornecer acesso em tempo real ao fluxo de dados de uma caneta eletrônica.</span><span class="sxs-lookup"><span data-stu-id="57ef6-129">The [**RealTimeStylus**](realtimestylus-class.md) object is designed to provide real-time access to the data stream from a tablet pen.</span></span> <span data-ttu-id="57ef6-130">Crie ou use plug-ins síncronos para tarefas que exigem acesso em tempo real para o fluxo de dados e são, de modo computacional, desexigentes, como para filtragem de pacotes.</span><span class="sxs-lookup"><span data-stu-id="57ef6-130">Create or use synchronous plug-ins for tasks that require real-time access to the data stream and are computationally undemanding, such as for packet filtering.</span></span> <span data-ttu-id="57ef6-131">Crie ou use plug-ins assíncronos para tarefas que não exigem acesso em tempo real ao fluxo de dados, como para criar e armazenar traços em um objeto [**InkDisp**](inkdisp-class.md) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-131">Create or use asynchronous plug-ins for tasks that do not require real-time access to the data stream, such as for creating and storing strokes in an [**InkDisp**](inkdisp-class.md) object.</span></span>

<span data-ttu-id="57ef6-132">Determinadas tarefas podem ser computacionalmente exigentes, mas exigem acesso em tempo real ao fluxo de dados, como o reconhecimento de gestos com vários traços.</span><span class="sxs-lookup"><span data-stu-id="57ef6-132">Certain tasks may be computationally demanding yet require real-time access to the data stream, such as multistroke gesture recognition.</span></span> <span data-ttu-id="57ef6-133">Para atender a essas necessidades, as APIs StylusInput fornecem um modelo [**RealTimeStylus**](realtimestylus-class.md) em cascata que permite que você use dois objetos **RealTimeStylus** , cada um em execução em seu próprio thread.</span><span class="sxs-lookup"><span data-stu-id="57ef6-133">To address these needs, the StylusInput APIs provide a cascaded [**RealTimeStylus**](realtimestylus-class.md) model that allows you to use two **RealTimeStylus** objects, each running on its own thread.</span></span> <span data-ttu-id="57ef6-134">Para obter mais informações sobre o modelo **RealTimeStylus** em cascata, consulte [o modelo RealTimeStylus em cascata](the-cascaded-realtimestylus-model.md).</span><span class="sxs-lookup"><span data-stu-id="57ef6-134">For more information about the cascaded **RealTimeStylus** model, see [The Cascaded RealTimeStylus Model](the-cascaded-realtimestylus-model.md).</span></span>

<span data-ttu-id="57ef6-135">Para obter mais informações sobre como usar e criar plug-ins, consulte [trabalhando com as APIs StylusInput](working-with-the-stylusinput-apis.md).</span><span class="sxs-lookup"><span data-stu-id="57ef6-135">For more information about using and creating plug-ins, see [Working with the StylusInput APIs](working-with-the-stylusinput-apis.md).</span></span>

## <a name="the-tablet-pen-data-stream"></a><span data-ttu-id="57ef6-136">O fluxo de dados da caneta do Tablet</span><span class="sxs-lookup"><span data-stu-id="57ef6-136">The Tablet Pen Data Stream</span></span>

<span data-ttu-id="57ef6-137">O objeto [**RealTimeStylus**](realtimestylus-class.md) tem duas filas internas que transportam os dados da caneta do Tablet, a fila de entrada e a fila de saída.</span><span class="sxs-lookup"><span data-stu-id="57ef6-137">The [**RealTimeStylus**](realtimestylus-class.md) object has two internal queues that carry the tablet pen data, the input queue and the output queue.</span></span> <span data-ttu-id="57ef6-138">Os dados da caneta são convertidos em instâncias das classes no namespace [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-138">The pen data is converted into instances of the classes in the [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespace.</span></span> <span data-ttu-id="57ef6-139">A lista a seguir descreve como o objeto **RealTimeStylus** manipula os dados da caneta eletrônica:</span><span class="sxs-lookup"><span data-stu-id="57ef6-139">The following list describes how the **RealTimeStylus** object handles the tablet pen data:</span></span>

<span data-ttu-id="57ef6-140">O objeto [**RealTimeStylus**](realtimestylus-class.md) verifica primeiro os objetos de dados de plug-in em sua fila de entrada e, em seguida, do fluxo de dados da caneta eletrônica.</span><span class="sxs-lookup"><span data-stu-id="57ef6-140">The [**RealTimeStylus**](realtimestylus-class.md) object checks for plug-in data objects first on its input queue and then from the tablet pen data stream.</span></span>

<span data-ttu-id="57ef6-141">O objeto [**RealTimeStylus**](realtimestylus-class.md) envia um objeto de dados de plug-in para os objetos em sua coleção de plug-ins síncrona.</span><span class="sxs-lookup"><span data-stu-id="57ef6-141">The [**RealTimeStylus**](realtimestylus-class.md) object sends one plug-in data object to the objects in its synchronous plug-in collection.</span></span> <span data-ttu-id="57ef6-142">Cada plug-in síncrono pode adicionar dados à fila de entrada ou saída.</span><span class="sxs-lookup"><span data-stu-id="57ef6-142">Each synchronous plug-in can add data to either the input or output queue.</span></span>

<span data-ttu-id="57ef6-143">Depois que o objeto de dados de plug-in for enviado a todos os membros da coleção de plug-ins síncronos, o objeto de dados de plug-in será colocado na fila de saída do objeto [**RealTimeStylus**](realtimestylus-class.md) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-143">After the plug-in data object has been sent to all members of the synchronous plug-in collection, the plug-in data object is placed on the [**RealTimeStylus**](realtimestylus-class.md) object's output queue.</span></span>

<span data-ttu-id="57ef6-144">O objeto [**RealTimeStylus**](realtimestylus-class.md) , em seguida, verifica o próximo objeto de dados de plug-in a ser processado.</span><span class="sxs-lookup"><span data-stu-id="57ef6-144">The [**RealTimeStylus**](realtimestylus-class.md) object then checks for the next plug-in data object to process.</span></span>

<span data-ttu-id="57ef6-145">Embora a fila de saída do objeto [**RealTimeStylus**](realtimestylus-class.md) contenha dados, o objeto **RealTimeStylus** envia um objeto de dados de plug-in de sua fila de saída para os objetos em sua coleção de plug-ins assíncrona.</span><span class="sxs-lookup"><span data-stu-id="57ef6-145">While the [**RealTimeStylus**](realtimestylus-class.md) object's output queue contains data, the **RealTimeStylus** object sends one plug-in data object from its output queue to the objects in its asynchronous plug-in collection.</span></span> <span data-ttu-id="57ef6-146">Cada plug-in assíncrono pode adicionar dados à fila de entrada ou de saída.</span><span class="sxs-lookup"><span data-stu-id="57ef6-146">Each asynchronous plug-in can add data to either the input or output queue.</span></span> <span data-ttu-id="57ef6-147">No entanto, como os plug-ins assíncronos são executados no thread da interface do usuário, os dados são adicionados à fila em relação aos dados da caneta atual que o objeto **RealTimeStylus** está processando e não em relação aos dados que o plug-in assíncrono está processando.</span><span class="sxs-lookup"><span data-stu-id="57ef6-147">However, because the asynchronous plug-ins run on the UI thread, the data is added to the queue in relation to the current pen data the **RealTimeStylus** object is processing, and not in relation to the data that the asynchronous plug-in is processing.</span></span>

<span data-ttu-id="57ef6-148">O diagrama a seguir ilustra o fluxo de dados da caneta do Tablet por meio do objeto [**RealTimeStylus**](realtimestylus-class.md) e de suas coleções de plug-ins.</span><span class="sxs-lookup"><span data-stu-id="57ef6-148">The following diagram illustrates the flow of tablet pen data through the [**RealTimeStylus**](realtimestylus-class.md) object and its plug-in collections.</span></span>

![fluxo de dados da caneta do Tablet por meio do objeto RealTimeStylus e suas coleções de plug-ins](images/5a698bc9-833b-4b24-9fa2-70be0ca61032.gif)

<span data-ttu-id="57ef6-150">Neste diagrama, os círculos rotulados como "A" e "B" representam dados da caneta eletrônica que já foram adicionados à fila de saída do objeto [**RealTimeStylus**](realtimestylus-class.md) e que ainda não foram enviados para a coleção de plug-ins assíncronos.</span><span class="sxs-lookup"><span data-stu-id="57ef6-150">In this diagram, the circles labeled "A" and "B" represent tablet pen data that has already been added to the [**RealTimeStylus**](realtimestylus-class.md) object's output queue and that has not yet been sent to the asynchronous plug-in collection.</span></span> <span data-ttu-id="57ef6-151">O círculo rotulado como "C" representa os dados da caneta do Tablet que o objeto **RealTimeStylus** está processando no momento.</span><span class="sxs-lookup"><span data-stu-id="57ef6-151">The circle labeled "C" represents the tablet pen data that the **RealTimeStylus** object is currently processing.</span></span> <span data-ttu-id="57ef6-152">Ele é enviado para a coleção de plug-ins síncrona e colocado na fila de saída.</span><span class="sxs-lookup"><span data-stu-id="57ef6-152">It is sent to the synchronous plug-in collection and placed on the output queue.</span></span> <span data-ttu-id="57ef6-153">O círculo vazio representa a posição na fila de saída em que os dados futuros da caneta do Tablet são adicionados.</span><span class="sxs-lookup"><span data-stu-id="57ef6-153">The empty circle represents the position in the output queue where future tablet pen data is added.</span></span>

<span data-ttu-id="57ef6-154">Para obter mais informações sobre como os dados específicos são adicionados à fila e processados, consulte [dados de plug-in e a classe RealTimeStylus](plug-in-data-and-the-realtimestylus-class.md).</span><span class="sxs-lookup"><span data-stu-id="57ef6-154">For more information about how specific data is added to the queue and processed, see [Plug-in Data and the RealTimeStylus Class](plug-in-data-and-the-realtimestylus-class.md).</span></span>

## <a name="the-stylusinput-apis"></a><span data-ttu-id="57ef6-155">As APIs StylusInput</span><span class="sxs-lookup"><span data-stu-id="57ef6-155">The StylusInput APIs</span></span>

<span data-ttu-id="57ef6-156">As APIs StylusInput residem principalmente nos namespaces [Microsoft. StylusInput](/previous-versions/ms824750(v=msdn.10)) e [Microsoft. StylusInput. PluginData](/previous-versions/ms823992(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-156">The StylusInput APIs reside primarily in the [Microsoft.StylusInput](/previous-versions/ms824750(v=msdn.10)) and [Microsoft.StylusInput.PluginData](/previous-versions/ms823992(v=msdn.10)) namespaces.</span></span> <span data-ttu-id="57ef6-157">No entanto, as APIs StylusInput também fazem referência a algumas classes no namespace [Microsoft. Ink](/previous-versions/ms826516(v=msdn.10)) , como a classe [Tablet](/previous-versions/ms827783(v=msdn.10)) , a coleção [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) e as enumerações [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) e [SystemGesture](/previous-versions/ms827134(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="57ef6-157">However, the StylusInput APIs also reference some classes in the [Microsoft.Ink](/previous-versions/ms826516(v=msdn.10)) namespace, such as the [Tablet](/previous-versions/ms827783(v=msdn.10)) class, the [TabletPropertyDescriptionCollection](/previous-versions/ms827760(v=msdn.10)) collection, and the [ApplicationGesture](/previous-versions/ms827547(v=msdn.10)) and [SystemGesture](/previous-versions/ms827134(v=msdn.10)) enumerations.</span></span>

## <a name="related-topics"></a><span data-ttu-id="57ef6-158">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="57ef6-158">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="57ef6-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="57ef6-159">[**DynamicRenderer**](/previous-versions/windows/desktop/legacy/ms701168(v=vs.85))</span></span>
</dt> <dt>

[<span data-ttu-id="57ef6-160">**GestureRecognizer**</span><span class="sxs-lookup"><span data-stu-id="57ef6-160">**GestureRecognizer**</span></span>](gesturerecognizer-class.md)
</dt> <dt>

[<span data-ttu-id="57ef6-161">**RealTimeStylus**</span><span class="sxs-lookup"><span data-stu-id="57ef6-161">**RealTimeStylus**</span></span>](realtimestylus-class.md)
</dt> <dt>

[<span data-ttu-id="57ef6-162">**IStylusAsyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="57ef6-162">**IStylusAsyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylusasyncplugin)
</dt> <dt>

[<span data-ttu-id="57ef6-163">**IStylusSyncPlugin**</span><span class="sxs-lookup"><span data-stu-id="57ef6-163">**IStylusSyncPlugin**</span></span>](/windows/win32/api/rtscom/nn-rtscom-istylussyncplugin)
</dt> <dt>

[<span data-ttu-id="57ef6-164">Trabalhando com as APIs do StylusInput</span><span class="sxs-lookup"><span data-stu-id="57ef6-164">Working with the StylusInput APIs</span></span>](working-with-the-stylusinput-apis.md)
</dt> <dt>

[<span data-ttu-id="57ef6-165">O modelo RealTimeStylus em cascata</span><span class="sxs-lookup"><span data-stu-id="57ef6-165">The Cascaded RealTimeStylus Model</span></span>](the-cascaded-realtimestylus-model.md)
</dt> </dl>

 

 
