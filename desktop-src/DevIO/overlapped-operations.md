---
description: Operações sobrepostas permitem que um thread execute uma operação de e/s demorada em segundo plano, deixando o thread livre para executar outras tarefas.
ms.assetid: 8c0eb20d-685a-4750-8253-a87089b68509
title: Operações sobrepostas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 19d8dc9e39386e25129d3e7d7a5281a8299d54ed
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104457012"
---
# <a name="overlapped-operations"></a><span data-ttu-id="719e6-103">Operações sobrepostas</span><span class="sxs-lookup"><span data-stu-id="719e6-103">Overlapped Operations</span></span>

<span data-ttu-id="719e6-104">Operações sobrepostas permitem que um thread execute uma operação de e/s demorada em segundo plano, deixando o thread livre para executar outras tarefas.</span><span class="sxs-lookup"><span data-stu-id="719e6-104">Overlapped operations enable a thread to perform a time-consuming I/O operation in the background, leaving the thread free to perform other tasks.</span></span> <span data-ttu-id="719e6-105">Para habilitar operações de e/s sobrepostas em um recurso de comunicação, o thread deve especificar o sinalizador **\_ \_ sobreposto do sinalizador de arquivo** na função [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) quando o identificador é aberto.</span><span class="sxs-lookup"><span data-stu-id="719e6-105">To enable overlapped I/O operations on a communications resource, the thread must specify the **FILE\_FLAG\_OVERLAPPED** flag in the [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) function when the handle is opened.</span></span> <span data-ttu-id="719e6-106">Para executar a função [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) ou [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) como uma operação sobreposta, o thread de chamada deve especificar um ponteiro para uma estrutura [**sobreposta**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) .</span><span class="sxs-lookup"><span data-stu-id="719e6-106">To run the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) or [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) function as an overlapped operation, the calling thread must specify a pointer to an [**OVERLAPPED**](/windows/desktop/api/minwinbase/ns-minwinbase-overlapped) structure.</span></span> <span data-ttu-id="719e6-107">A estrutura **sobreposta** deve conter um identificador para um objeto de evento de redefinição manual (não é um reinício automático).</span><span class="sxs-lookup"><span data-stu-id="719e6-107">The **OVERLAPPED** structure must contain a handle to a manual-reset (not an auto-reset) event object.</span></span> <span data-ttu-id="719e6-108">O sistema define o estado do objeto de evento como não-sinalizado quando uma chamada para a função de e/s retorna antes de a operação ser concluída.</span><span class="sxs-lookup"><span data-stu-id="719e6-108">The system sets the state of the event object to not-signaled when a call to the I/O function returns before the operation has been completed.</span></span> <span data-ttu-id="719e6-109">O sistema define o estado do objeto de evento para sinalizado quando a operação foi concluída.</span><span class="sxs-lookup"><span data-stu-id="719e6-109">The system sets the state of the event object to signaled when the operation has been completed.</span></span> <span data-ttu-id="719e6-110">O thread usa uma função Wait para verificar o estado atual do objeto de evento ou aguardar que seu estado seja sinalizado.</span><span class="sxs-lookup"><span data-stu-id="719e6-110">The thread uses a wait function to check the current state of the event object or to wait for its state to be signaled.</span></span>

<span data-ttu-id="719e6-111">As funções [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) e [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) podem ser executadas somente como operações sobrepostas.</span><span class="sxs-lookup"><span data-stu-id="719e6-111">The [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) and [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) functions can be performed only as overlapped operations.</span></span> <span data-ttu-id="719e6-112">O thread de chamada especifica um ponteiro para a função [**FileIOCompletionRoutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) , que é executada quando a operação sobreposta é concluída.</span><span class="sxs-lookup"><span data-stu-id="719e6-112">The calling thread specifies a pointer to the [**FileIOCompletionRoutine**](/windows/desktop/api/minwinbase/nc-minwinbase-lpoverlapped_completion_routine) function, which is performed when the overlapped operation is completed.</span></span> <span data-ttu-id="719e6-113">A rotina de conclusão será executada somente se o thread de chamada executar uma operação de alerta.</span><span class="sxs-lookup"><span data-stu-id="719e6-113">The completion routine is executed only if the calling thread performs an alertable operation.</span></span>

<span data-ttu-id="719e6-114">Para obter mais informações sobre objetos de evento, funções de espera, esperas de alerta e rotinas de conclusão, consulte [sobre sincronização](/windows/desktop/Sync/about-synchronization).</span><span class="sxs-lookup"><span data-stu-id="719e6-114">For more information about event objects, wait functions, alertable waits, and completion routines, see [About Synchronization](/windows/desktop/Sync/about-synchronization).</span></span>

 

 
