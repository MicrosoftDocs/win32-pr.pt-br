---
description: O Windows dá suporte a operações de e/s de arquivo síncronas e assíncronas (sobrepostas) em recursos de comunicação serial.
ms.assetid: cee44596-ad73-4afb-b86a-744b0b46d9d5
title: Operações de leitura e gravação
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a26cc53dbe8c52286fe53c81202ab3828808b1aa
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104089150"
---
# <a name="read-and-write-operations"></a><span data-ttu-id="a1953-103">Operações de leitura e gravação</span><span class="sxs-lookup"><span data-stu-id="a1953-103">Read and Write Operations</span></span>

<span data-ttu-id="a1953-104">O Windows dá suporte a operações de e/s de arquivo síncronas e assíncronas (sobrepostas) em recursos de comunicação serial.</span><span class="sxs-lookup"><span data-stu-id="a1953-104">Windows supports both synchronous and asynchronous (overlapped) file I/O operations on serial communications resources.</span></span> <span data-ttu-id="a1953-105">Operações sobrepostas permitem que o thread de chamada execute outras tarefas enquanto a operação é executada em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="a1953-105">Overlapped operations enable the calling thread to perform other tasks while the operation executes in the background.</span></span> <span data-ttu-id="a1953-106">Um thread usa a função [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) ou [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) para ler de um recurso de comunicação e a função [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) ou [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) para gravar em um recurso de comunicação.</span><span class="sxs-lookup"><span data-stu-id="a1953-106">A thread uses the [**ReadFile**](/windows/desktop/api/fileapi/nf-fileapi-readfile) or [**ReadFileEx**](/windows/desktop/api/fileapi/nf-fileapi-readfileex) function to read from a communications resource, and the [**WriteFile**](/windows/desktop/api/fileapi/nf-fileapi-writefile) or [**WriteFileEx**](/windows/desktop/api/fileapi/nf-fileapi-writefileex) function to write to a communications resource.</span></span> <span data-ttu-id="a1953-107">O **ReadFile** e o **WriteFile** podem ser executados de forma síncrona ou assíncrona.</span><span class="sxs-lookup"><span data-stu-id="a1953-107">**ReadFile** and **WriteFile** can be performed synchronously or asynchronously.</span></span> <span data-ttu-id="a1953-108">**ReadFileEx** e **WriteFileEx** só podem ser executados de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="a1953-108">**ReadFileEx** and **WriteFileEx** can only be performed asynchronously.</span></span>

<span data-ttu-id="a1953-109">O comportamento dessas funções de leitura e gravação é afetado pelo fato de a função ser executada como uma operação sobreposta, se os parâmetros de tempo limite estão associados ao identificador e se os parâmetros de controle de fluxo estão associados ao identificador.</span><span class="sxs-lookup"><span data-stu-id="a1953-109">The behavior of these read and write functions is affected by whether the function is executed as an overlapped operation, whether the time-out parameters are associated with the handle, and whether flow control parameters are associated with the handle.</span></span>

<span data-ttu-id="a1953-110">Um thread também pode gravar em um recurso de comunicação usando a função [**TransmitCommChar**](/windows/desktop/api/Winbase/nf-winbase-transmitcommchar) , que transmite um caractere especificado à frente de quaisquer dados pendentes no buffer de saída.</span><span class="sxs-lookup"><span data-stu-id="a1953-110">A thread can also write to a communications resource by using the [**TransmitCommChar**](/windows/desktop/api/Winbase/nf-winbase-transmitcommchar) function, which transmits a specified character ahead of any pending data in the output buffer.</span></span> <span data-ttu-id="a1953-111">Essa função é útil para transmitir um caractere de sinal de alta prioridade para o sistema de recebimento.</span><span class="sxs-lookup"><span data-stu-id="a1953-111">This function is useful for transmitting a high priority signal character to the receiving system.</span></span> <span data-ttu-id="a1953-112">A transmissão do caractere de prioridade alta ainda está sujeita ao controle de fluxo e tempo limite de gravação, e a operação é executada de forma síncrona.</span><span class="sxs-lookup"><span data-stu-id="a1953-112">Transmission of the high priority character is still subject to flow control and write time-outs, and the operation is performed synchronously.</span></span>

<span data-ttu-id="a1953-113">Um thread pode usar a função [**PurgeComm**](/windows/desktop/api/Winbase/nf-winbase-purgecomm) para descartar todos os caracteres na saída de um dispositivo ou no buffer de entrada.</span><span class="sxs-lookup"><span data-stu-id="a1953-113">A thread can use the [**PurgeComm**](/windows/desktop/api/Winbase/nf-winbase-purgecomm) function to discard all characters in a device's output or input buffer.</span></span> <span data-ttu-id="a1953-114">**PurgeComm** também pode encerrar operações de leitura ou gravação pendentes, mesmo que as operações não tenham sido concluídas.</span><span class="sxs-lookup"><span data-stu-id="a1953-114">**PurgeComm** can also terminate pending read or write operations, even if the operations have not been completed.</span></span> <span data-ttu-id="a1953-115">Se um thread usar **PurgeComm** para liberar um buffer de saída, os caracteres excluídos não serão transmitidos.</span><span class="sxs-lookup"><span data-stu-id="a1953-115">If a thread uses **PurgeComm** to flush an output buffer, the deleted characters are not transmitted.</span></span> <span data-ttu-id="a1953-116">Para esvaziar o buffer de saída ao garantir que o conteúdo seja transmitido, um thread pode chamar a função [**FlushFileBuffers**](/windows/desktop/api/fileapi/nf-fileapi-flushfilebuffers) (uma operação síncrona).</span><span class="sxs-lookup"><span data-stu-id="a1953-116">To empty the output buffer while ensuring that the contents are transmitted, a thread can call the [**FlushFileBuffers**](/windows/desktop/api/fileapi/nf-fileapi-flushfilebuffers) function (a synchronous operation).</span></span> <span data-ttu-id="a1953-117">Observe, no entanto, que **FlushFileBuffers** está sujeito ao controle de fluxo, mas não à gravação de tempos limite, e não retornará até que todas as operações de gravação pendentes tenham sido transmitidas.</span><span class="sxs-lookup"><span data-stu-id="a1953-117">Note, however, that **FlushFileBuffers** is subject to flow control but not to write time-outs, and it will not return until all pending write operations have been transmitted.</span></span>

 

 
