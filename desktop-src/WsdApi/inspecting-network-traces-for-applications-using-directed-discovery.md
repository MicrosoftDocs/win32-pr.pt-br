---
description: Qualquer analisador de pacotes de rede que possa exibir pacotes brutos pode ser usado para inspecionar solicitações de troca de metadados HTTP. O Monitor de Rede da Microsoft 3 (Netmon) é recomendado. Para obter mais informações sobre o Netmon, consulte baixando os filtros do Netmon e do DPWS de exemplo.
ms.assetid: 9b124117-06e7-4637-9863-0f9650861526
title: Inspecionando rastreamentos de rede para aplicativos usando a descoberta direcionada
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 98a424117896c18a5fcf84c883ba824b8223ef01
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105790519"
---
# <a name="inspecting-network-traces-for-applications-using-directed-discovery"></a><span data-ttu-id="f6423-105">Inspecionando rastreamentos de rede para aplicativos usando a descoberta direcionada</span><span class="sxs-lookup"><span data-stu-id="f6423-105">Inspecting Network Traces for Applications Using Directed Discovery</span></span>

<span data-ttu-id="f6423-106">Qualquer analisador de pacotes de rede que possa exibir pacotes brutos pode ser usado para inspecionar solicitações de troca de metadados HTTP.</span><span class="sxs-lookup"><span data-stu-id="f6423-106">Any network packet analyzer that can display raw packets can be used to inspect HTTP metadata exchange requests.</span></span> <span data-ttu-id="f6423-107">O Monitor de Rede da Microsoft 3 (Netmon) é recomendado.</span><span class="sxs-lookup"><span data-stu-id="f6423-107">Microsoft Network Monitor 3 (Netmon) is recommended.</span></span> <span data-ttu-id="f6423-108">Para obter mais informações sobre o Netmon, consulte [baixando os filtros do Netmon e do DPWS de exemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="f6423-108">For more information about Netmon, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>

<span data-ttu-id="f6423-109">**Para inspecionar rastreamentos de rede para descoberta direcionada**</span><span class="sxs-lookup"><span data-stu-id="f6423-109">**To inspect network traces for directed discovery**</span></span>

1.  <span data-ttu-id="f6423-110">Configure o host e o cliente para serem executados na rede (ou seja, certifique-se de que o host e o cliente funcionarão em computadores diferentes).</span><span class="sxs-lookup"><span data-stu-id="f6423-110">Configure the host and client to run across the network (that is, make sure that the host and client will operate on different machines).</span></span>
2.  <span data-ttu-id="f6423-111">Instale o analisador de pacotes (Netmon) no cliente ou no host.</span><span class="sxs-lookup"><span data-stu-id="f6423-111">Install the packet analyzer (Netmon) on either the client or the host.</span></span>
3.  <span data-ttu-id="f6423-112">Configure o analisador de pacotes para capturar o tráfego no adaptador de rede que está conectando o host e o cliente.</span><span class="sxs-lookup"><span data-stu-id="f6423-112">Configure the packet analyzer to capture traffic on the network adapter connecting the host and the client.</span></span>
4.  <span data-ttu-id="f6423-113">Reproduza a falha iniciando o host e o cliente ou pressionando F5 no Gerenciador de rede.</span><span class="sxs-lookup"><span data-stu-id="f6423-113">Reproduce the failure by starting the host and client or by pressing F5 in the Network Explorer.</span></span>
5.  <span data-ttu-id="f6423-114">Filtre os resultados para isolar o tráfego de WS-Discovery e de troca de metadados.</span><span class="sxs-lookup"><span data-stu-id="f6423-114">Filter the results to isolate WS-Discovery and metadata exchange traffic.</span></span> <span data-ttu-id="f6423-115">Para exibir os filtros de exemplo do Netmon, consulte [baixando os filtros de DPWS de Netmon e de exemplo](downloading-netmon-and-sample-dpws-filters.md).</span><span class="sxs-lookup"><span data-stu-id="f6423-115">To view sample Netmon filters, see [Downloading Netmon and Sample DPWS Filters](downloading-netmon-and-sample-dpws-filters.md).</span></span>
    > [!Note]  
    > <span data-ttu-id="f6423-116">Esta etapa é opcional.</span><span class="sxs-lookup"><span data-stu-id="f6423-116">This step is optional.</span></span>

     

6.  <span data-ttu-id="f6423-117">Verifique se as mensagens enviadas entre o cliente e o host atendem aos requisitos básicos de tráfego.</span><span class="sxs-lookup"><span data-stu-id="f6423-117">Verify that messages sent between client and host meet basic traffic requirements.</span></span>

## <a name="verifying-that-messages-meet-traffic-requirements"></a><span data-ttu-id="f6423-118">Verificando se as mensagens atendem aos requisitos de tráfego</span><span class="sxs-lookup"><span data-stu-id="f6423-118">Verifying that messages meet traffic requirements</span></span>

<span data-ttu-id="f6423-119">Os clientes e hosts WSDAPI devem enviar mensagens que estejam em conformidade com os critérios a seguir.</span><span class="sxs-lookup"><span data-stu-id="f6423-119">WSDAPI clients and hosts must send messages that conform to the following criteria.</span></span> <span data-ttu-id="f6423-120">Para obter informações gerais sobre os padrões de mensagem, consulte [descoberta e padrões de mensagem de troca de metadados](discovery-and-metadata-exchange-message-patterns.md).</span><span class="sxs-lookup"><span data-stu-id="f6423-120">For general information about message patterns, see [Discovery and Metadata Exchange Message Patterns](discovery-and-metadata-exchange-message-patterns.md).</span></span>

-   <span data-ttu-id="f6423-121">As mensagens de [investigação](probe-message.md) devem ser enviadas por http ou HTTPS, geralmente para a porta 5357 ou 5358.</span><span class="sxs-lookup"><span data-stu-id="f6423-121">[Probe](probe-message.md) messages must be sent by HTTP or HTTPS, usually to port 5357 or 5358.</span></span>
-   <span data-ttu-id="f6423-122">O elemento **Types** de uma mensagem de [investigação](probe-message.md) deve estar presente e não deve estar vazio.</span><span class="sxs-lookup"><span data-stu-id="f6423-122">The **Types** element of a [Probe](probe-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="f6423-123">Ele deve conter os tipos aos quais um host responderá.</span><span class="sxs-lookup"><span data-stu-id="f6423-123">It must contain the types to which a host will respond.</span></span>
-   <span data-ttu-id="f6423-124">Uma mensagem [ProbeMatches](probematches-message.md) deve ser enviada para a porta http ou HTTPS da qual a [investigação](probe-message.md) foi enviada.</span><span class="sxs-lookup"><span data-stu-id="f6423-124">A [ProbeMatches](probematches-message.md) message must be sent to the HTTP or HTTPS port from which the [Probe](probe-message.md) was sent.</span></span>
-   <span data-ttu-id="f6423-125">O elemento **RelatesTo** de uma mensagem [ProbeMatches](probematches-message.md) deve estar presente e não deve estar vazio.</span><span class="sxs-lookup"><span data-stu-id="f6423-125">The **RelatesTo** element of a [ProbeMatches](probematches-message.md) message must be present and must not be empty.</span></span> <span data-ttu-id="f6423-126">Seu valor deve corresponder ao valor do elemento **MessageId** da mensagem de [investigação](probe-message.md) correspondente.</span><span class="sxs-lookup"><span data-stu-id="f6423-126">Its value must match the value of the **MessageId** element from the corresponding [Probe](probe-message.md) message.</span></span>
-   <span data-ttu-id="f6423-127">Se um elemento **XAddrs** foi incluído na mensagem [ProbeMatches](probematches-message.md) , os endereços de transporte fornecidos devem ser validados.</span><span class="sxs-lookup"><span data-stu-id="f6423-127">If an **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, the supplied transport addresses must be validated.</span></span> <span data-ttu-id="f6423-128">Para obter mais informações, consulte [XAddr Validation Rules](xaddr-validation-rules.md).</span><span class="sxs-lookup"><span data-stu-id="f6423-128">For more information, see [XAddr Validation Rules](xaddr-validation-rules.md).</span></span>
-   <span data-ttu-id="f6423-129">Uma mensagem [ProbeMatches](probematches-message.md) deve ser enviada dentro de 4 segundos da mensagem de [investigação](probe-message.md) correspondente.</span><span class="sxs-lookup"><span data-stu-id="f6423-129">A [ProbeMatches](probematches-message.md) message must be sent within 4 seconds of the corresponding [Probe](probe-message.md) message.</span></span> <span data-ttu-id="f6423-130">O Firewall do Windows pode descartar uma mensagem ProbeMatches enviada mais de 4 segundos após uma mensagem de investigação.</span><span class="sxs-lookup"><span data-stu-id="f6423-130">The Windows Firewall may drop a ProbeMatches message sent more than 4 seconds after a Probe message.</span></span>
-   <span data-ttu-id="f6423-131">Se nenhum elemento **XAddrs** foi incluído na mensagem [ProbeMatches](probematches-message.md) , e o cliente ou host enviará uma mensagem http (como uma solicitação de troca de metadados [Get](get--metadata-exchange--http-request-and-message.md) ou uma mensagem de serviço), o cliente ou o host deverá enviar uma mensagem de [resolução](resolve-message.md) por http ou HTTPS.</span><span class="sxs-lookup"><span data-stu-id="f6423-131">If no **XAddrs** element was included in the [ProbeMatches](probematches-message.md) message, and the client or host will send an HTTP message (such as a [Get](get--metadata-exchange--http-request-and-message.md) metadata exchange request or a service message), then the client or host must send a [Resolve](resolve-message.md) message by HTTP or HTTPS.</span></span> <span data-ttu-id="f6423-132">Essa mensagem é geralmente enviada para a porta 5357 ou 5358.</span><span class="sxs-lookup"><span data-stu-id="f6423-132">This message is usually sent to port 5357 or 5358.</span></span>
-   <span data-ttu-id="f6423-133">Se uma mensagem de [resolução](resolve-message.md) for enviada, uma mensagem [ResolveMatches](resolvematches-message.md) deverá ser enviada para a porta http ou HTTPS da qual a mensagem de resolução foi enviada.</span><span class="sxs-lookup"><span data-stu-id="f6423-133">If a [Resolve](resolve-message.md) message is sent, then a [ResolveMatches](resolvematches-message.md) message must be sent to the HTTP or HTTPS port from which the Resolve message was sent.</span></span>
-   <span data-ttu-id="f6423-134">Uma mensagem [ResolveMatches](resolvematches-message.md) deve ser enviada dentro de 4 segundos da mensagem de [resolução](resolve-message.md) correspondente.</span><span class="sxs-lookup"><span data-stu-id="f6423-134">A [ResolveMatches](resolvematches-message.md) message must be sent within 4 seconds of the corresponding [Resolve](resolve-message.md) message.</span></span> <span data-ttu-id="f6423-135">O Firewall do Windows pode cancelar um ResolveMatchesmessage enviado mais de 4 segundos após uma mensagem de resolução.</span><span class="sxs-lookup"><span data-stu-id="f6423-135">The Windows Firewall may drop a ResolveMatchesmessage sent more than 4 seconds after a Resolve message.</span></span>

<span data-ttu-id="f6423-136">Se as mensagens enviadas pelo programa não estiverem em conformidade com esses requisitos de mensagem, a causa do problema foi identificada com êxito e nenhuma outra etapa de solução de problemas será necessária.</span><span class="sxs-lookup"><span data-stu-id="f6423-136">If the messages sent by the program do not conform to these message requirements, the cause of the problem has been successfully identified and no further troubleshooting steps are necessary.</span></span> <span data-ttu-id="f6423-137">Reescreva o programa para que ele gere mensagens de conformidade e teste o programa novamente.</span><span class="sxs-lookup"><span data-stu-id="f6423-137">Rewrite the program so that it generates conformant messages and retest the program.</span></span>

<span data-ttu-id="f6423-138">Se a origem do problema ainda não puder ser identificada, entre em contato com o suporte da Microsoft para obter assistência.</span><span class="sxs-lookup"><span data-stu-id="f6423-138">If the source of the problem still cannot be identified, contact Microsoft support for assistance.</span></span> <span data-ttu-id="f6423-139">Antes de entrar em contato com o suporte, colete os arquivos de log apropriados para ajudar a identificar a causa raiz do problema.</span><span class="sxs-lookup"><span data-stu-id="f6423-139">Before contacting support, collect the appropriate log files to help identify the root cause of the problem.</span></span> <span data-ttu-id="f6423-140">Para obter mais informações, consulte [habilitando o rastreamento WSDAPI](enabling-wsdapi-tracing.md).</span><span class="sxs-lookup"><span data-stu-id="f6423-140">For more information, see [Enabling WSDAPI Tracing](enabling-wsdapi-tracing.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="f6423-141">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="f6423-141">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="f6423-142">Solucionando problemas de aplicativos usando a descoberta direcionada</span><span class="sxs-lookup"><span data-stu-id="f6423-142">Troubleshooting Applications Using Directed Discovery</span></span>](troubleshooting-applications-using-directed-discovery.md)
</dt> <dt>

[<span data-ttu-id="f6423-143">Procedimentos de diagnóstico do WSDAPI</span><span class="sxs-lookup"><span data-stu-id="f6423-143">WSDAPI Diagnostic Procedures</span></span>](wsdapi-diagnostic-procedures.md)
</dt> <dt>

[<span data-ttu-id="f6423-144">Introdução com a solução de problemas de WSDAPI</span><span class="sxs-lookup"><span data-stu-id="f6423-144">Getting Started with WSDAPI Troubleshooting</span></span>](getting-started-with-wsdapi-troubleshooting.md)
</dt> <dt>

[<span data-ttu-id="f6423-145">Baixando os filtros de DPWS e de exemplo do Netmon</span><span class="sxs-lookup"><span data-stu-id="f6423-145">Downloading Netmon and Sample DPWS Filters</span></span>](downloading-netmon-and-sample-dpws-filters.md)
</dt> </dl>

 

 



