---
description: Os serviços Web na API de dispositivos (WSDAPI) são usados para desenvolver aplicativos cliente que localizam e acessam dispositivos e para desenvolver hosts de dispositivo e serviços associados que são executados no Windows Vista e no Windows Server 2008.
ms.assetid: 2b23d7d3-3b06-48c8-993e-49c72b139624
title: Visão geral das interfaces WSDAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1f3e728971741f97707c1dc72effdaf0ca17dbb2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105781388"
---
# <a name="overview-of-the-wsdapi-interfaces"></a><span data-ttu-id="a08d0-103">Visão geral das interfaces WSDAPI</span><span class="sxs-lookup"><span data-stu-id="a08d0-103">Overview of the WSDAPI Interfaces</span></span>

<span data-ttu-id="a08d0-104">Os serviços Web na API de dispositivos (WSDAPI) são usados para desenvolver aplicativos cliente que localizam e acessam dispositivos e para desenvolver hosts de dispositivo e serviços associados que são executados no Windows Vista e no Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="a08d0-104">Web Services on Devices API (WSDAPI) is used to develop client applications that find and access devices, and to develop device hosts and associated services that run on Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="a08d0-105">A API de [descoberta de função](/previous-versions/windows/desktop/fundisc/fd-portal) e a ferramenta [WsdCodeGen](web-services-for-devices-code-generator.md) são ferramentas complementares que podem ser usadas para o cliente, o host do dispositivo e o desenvolvimento do serviço.</span><span class="sxs-lookup"><span data-stu-id="a08d0-105">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API and the [WsdCodeGen](web-services-for-devices-code-generator.md) tool are supplemental tools that can be used for client, device host, and service development.</span></span> <span data-ttu-id="a08d0-106">As interfaces WSDAPI podem ser usadas diretamente para expor a funcionalidade avançada.</span><span class="sxs-lookup"><span data-stu-id="a08d0-106">The WSDAPI interfaces can be used directly to expose advanced functionality.</span></span>

## <a name="major-wsdapi-interfaces"></a><span data-ttu-id="a08d0-107">Principais interfaces WSDAPI</span><span class="sxs-lookup"><span data-stu-id="a08d0-107">Major WSDAPI interfaces</span></span>

<span data-ttu-id="a08d0-108">As quatro principais interfaces WSDAPI são [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy)e [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span><span class="sxs-lookup"><span data-stu-id="a08d0-108">The four major WSDAPI interfaces are [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider), [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher), [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy), and [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost).</span></span> <span data-ttu-id="a08d0-109">Para obter uma lista de todas as interfaces WSDAPI, consulte [Serviços Web em interfaces de dispositivos](web-services-for-devices-interfaces.md).</span><span class="sxs-lookup"><span data-stu-id="a08d0-109">For a list of all of the WSDAPI interfaces, see [Web Services on Devices Interfaces](web-services-for-devices-interfaces.md).</span></span>

## <a name="iwsdiscoveryprovider"></a><span data-ttu-id="a08d0-110">IWSDiscoveryProvider</span><span class="sxs-lookup"><span data-stu-id="a08d0-110">IWSDiscoveryProvider</span></span>

<span data-ttu-id="a08d0-111">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) é usado para implementar WS-Discovery funcionalidade em clientes.</span><span class="sxs-lookup"><span data-stu-id="a08d0-111">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) is used to implement WS-Discovery functionality on clients.</span></span>

<span data-ttu-id="a08d0-112">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) problemas WS-Discovery [investigação](probe-message.md) e [resolução](resolve-message.md) de mensagens e recebe mensagens de [saudação](hello-message.md), [adeus](bye-message.md), [ProbeMatches](probematches-message.md)e [ResolveMatches](resolvematches-message.md) .</span><span class="sxs-lookup"><span data-stu-id="a08d0-112">[**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) issues WS-Discovery [Probe](probe-message.md) and [Resolve](resolve-message.md) messages, and receives [Hello](hello-message.md), [Bye](bye-message.md), [ProbeMatches](probematches-message.md), and [ResolveMatches](resolvematches-message.md) messages.</span></span> <span data-ttu-id="a08d0-113">Use as informações recuperadas por meio da interface **IWSDiscoveryProvider** ao criar uma interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) usada para descrever e controlar um dispositivo DPWS específico.</span><span class="sxs-lookup"><span data-stu-id="a08d0-113">Use the information retrieved through the **IWSDiscoveryProvider** interface when creating an [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface used to describe and control a specific DPWS device.</span></span>

<span data-ttu-id="a08d0-114">Uma interface [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) não é necessária para simplesmente resolver um endereço de dispositivo DPWS específico antes de criar um proxy de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a08d0-114">An [**IWSDiscoveryProvider**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoveryprovider) interface is not necessary when simply resolving a particular DPWS device address before creating a device proxy.</span></span> <span data-ttu-id="a08d0-115">O [**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) resolverá automaticamente o endereço do dispositivo, se necessário.</span><span class="sxs-lookup"><span data-stu-id="a08d0-115">[**WSDCreateDeviceProxy**](/windows/desktop/api/WsdClient/nf-wsdclient-wsdcreatedeviceproxy) will automatically resolve the device address if required.</span></span>

<span data-ttu-id="a08d0-116">A API de [descoberta de função](/previous-versions/windows/desktop/fundisc/fd-portal) pode ser usada para descoberta de dispositivo e serviço genérico, pois a API pode descobrir dispositivos DPWS e também dispositivos usando outros protocolos.</span><span class="sxs-lookup"><span data-stu-id="a08d0-116">The [Function Discovery](/previous-versions/windows/desktop/fundisc/fd-portal) API can be used for generic device and service discovery, as the API can discover DPWS devices and also devices using other protocols.</span></span> <span data-ttu-id="a08d0-117">Considere o uso da descoberta de função ao escrever um aplicativo de descoberta genérico.</span><span class="sxs-lookup"><span data-stu-id="a08d0-117">Consider using Function Discovery when writing a generic discovery application.</span></span>

## <a name="iwsdiscoverypublisher"></a><span data-ttu-id="a08d0-118">IWSDiscoveryPublisher</span><span class="sxs-lookup"><span data-stu-id="a08d0-118">IWSDiscoveryPublisher</span></span>

<span data-ttu-id="a08d0-119">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) é usado para implementar WS-Discovery funcionalidade nos serviços de destino, como dispositivos.</span><span class="sxs-lookup"><span data-stu-id="a08d0-119">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) is used to implement WS-Discovery functionality on target services, such as devices.</span></span>

<span data-ttu-id="a08d0-120">O [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) permite que um aplicativo publique sua presença usando WS-Discovery mensagens de saudação e adeus.</span><span class="sxs-lookup"><span data-stu-id="a08d0-120">[**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) allows an application to publish its presence using WS-Discovery Hello and Bye messages.</span></span> <span data-ttu-id="a08d0-121">Essa interface permite que um aplicativo receba solicitações de investigação e resolução e construa e envie respostas ProbeMatches e ResolveMatches.</span><span class="sxs-lookup"><span data-stu-id="a08d0-121">This interface allows an application to receive Probe and Resolve requests, and construct and send ProbeMatches and ResolveMatches responses.</span></span>

<span data-ttu-id="a08d0-122">Uma interface [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) não é necessária ao simplesmente publicar a existência de um objeto [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) .</span><span class="sxs-lookup"><span data-stu-id="a08d0-122">An [**IWSDiscoveryPublisher**](/windows/desktop/api/WsdDisco/nn-wsddisco-iwsdiscoverypublisher) interface is not necessary when simply publishing the existence of an [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object.</span></span> <span data-ttu-id="a08d0-123">O **IWSDDeviceHost** gerencia sua própria presença de WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="a08d0-123">**IWSDDeviceHost** manages its own WS-Discovery presence.</span></span>

## <a name="iwsddeviceproxy"></a><span data-ttu-id="a08d0-124">IWSDDeviceProxy</span><span class="sxs-lookup"><span data-stu-id="a08d0-124">IWSDDeviceProxy</span></span>

<span data-ttu-id="a08d0-125">O [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) é usado para implementar a funcionalidade WS-Discovery, WS-MetadataExchange e Control do lado do cliente.</span><span class="sxs-lookup"><span data-stu-id="a08d0-125">[**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) is used to implement client-side WS-Discovery, WS-MetadataExchange, and control functionality.</span></span> <span data-ttu-id="a08d0-126">Essa funcionalidade inclui recursos opcionais de canal seguro, WS-Event e Attachment.</span><span class="sxs-lookup"><span data-stu-id="a08d0-126">This functionality includes optional secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="a08d0-127">A interface [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) tem os três usos a seguir.</span><span class="sxs-lookup"><span data-stu-id="a08d0-127">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) interface has the following three uses.</span></span>

-   <span data-ttu-id="a08d0-128">Resolve endereços lógicos de dispositivo, se necessário.</span><span class="sxs-lookup"><span data-stu-id="a08d0-128">Resolves logical device addresses, if necessary.</span></span>
-   <span data-ttu-id="a08d0-129">Inicia solicitações de metadados para dispositivos para enumerar os tipos e endereços de serviços.</span><span class="sxs-lookup"><span data-stu-id="a08d0-129">Initiates metadata requests to devices to enumerate the types and addresses of services.</span></span>
-   <span data-ttu-id="a08d0-130">Fornece uma fonte para objetos [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) , que podem ser usados para emitir mensagens de controle para serviços específicos em um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a08d0-130">Provides a source for [**IWSDServiceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsdserviceproxy) objects, which can be used to issue control messages to specific services on a device.</span></span>

<span data-ttu-id="a08d0-131">O objeto [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) normalmente é criado e usado inteiramente dentro do código gerado pelo [WsdCodeGen](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="a08d0-131">The [**IWSDDeviceProxy**](/windows/desktop/api/WsdClient/nn-wsdclient-iwsddeviceproxy) object is typically created and used entirely inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

## <a name="iwsddevicehost"></a><span data-ttu-id="a08d0-132">IWSDDeviceHost</span><span class="sxs-lookup"><span data-stu-id="a08d0-132">IWSDDeviceHost</span></span>

<span data-ttu-id="a08d0-133">O [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) é usado para implementar o WS-Discovery, o WS-MetadataExchange e a funcionalidade de Hospedagem de serviço no lado do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a08d0-133">[**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) is used to implement device-side WS-Discovery, WS-MetadataExchange, and service hosting functionality.</span></span> <span data-ttu-id="a08d0-134">Os serviços hospedados podem responder a mensagens de controle e podem dar suporte a recursos de canal seguro, WS-Event e de anexo.</span><span class="sxs-lookup"><span data-stu-id="a08d0-134">Hosted services may respond to control messages, and may support secure channel, WS-Eventing, and attachment capabilities.</span></span>

<span data-ttu-id="a08d0-135">A interface [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) tem os seguintes usos.</span><span class="sxs-lookup"><span data-stu-id="a08d0-135">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) interface has the following uses.</span></span>

-   <span data-ttu-id="a08d0-136">Hospeda objetos de serviço.</span><span class="sxs-lookup"><span data-stu-id="a08d0-136">Hosts service objects.</span></span>
-   <span data-ttu-id="a08d0-137">Anuncia a presença de um host de dispositivo na rede usando o WS-Discovery.</span><span class="sxs-lookup"><span data-stu-id="a08d0-137">Announces the presence of a device host on the network using WS-Discovery.</span></span>
-   <span data-ttu-id="a08d0-138">Responde a WS-MetadataExchange solicitações e descreve os tipos e os locais dos serviços hospedados.</span><span class="sxs-lookup"><span data-stu-id="a08d0-138">Responds to WS-MetadataExchange requests and describes the types and locations of hosted services.</span></span>
-   <span data-ttu-id="a08d0-139">Despacha solicitações de rede em objetos de serviço.</span><span class="sxs-lookup"><span data-stu-id="a08d0-139">Dispatches network requests into service objects.</span></span>

<span data-ttu-id="a08d0-140">O WS-Discovery, o WS-MetadataExchange e a funcionalidade de gerenciamento de assinatura WS-Eventing são manipulados inteiramente dentro do objeto de host do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="a08d0-140">WS-Discovery, WS-MetadataExchange, and WS-Eventing subscription management functionality is handled entirely within the device host object.</span></span> <span data-ttu-id="a08d0-141">Antes que um serviço possa ser hospedado dentro de um host de dispositivo, os requisitos a seguir devem ser atendidos.</span><span class="sxs-lookup"><span data-stu-id="a08d0-141">Before a service can be hosted inside a device host, the following requirements must be met.</span></span>

-   <span data-ttu-id="a08d0-142">O host deve ser criado chamando [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span><span class="sxs-lookup"><span data-stu-id="a08d0-142">The host must be created by calling [**WSDCreateDeviceHost**](/windows/desktop/api/WsdHost/nf-wsdhost-wsdcreatedevicehost).</span></span>
-   <span data-ttu-id="a08d0-143">Os metadados associados ao serviço devem ser registrados.</span><span class="sxs-lookup"><span data-stu-id="a08d0-143">The metadata associated with the service must be registered.</span></span>
-   <span data-ttu-id="a08d0-144">O próprio serviço deve ser registrado.</span><span class="sxs-lookup"><span data-stu-id="a08d0-144">The service itself must be registered.</span></span>
-   <span data-ttu-id="a08d0-145">O host do dispositivo deve ser iniciado.</span><span class="sxs-lookup"><span data-stu-id="a08d0-145">The device host must be started.</span></span>

<span data-ttu-id="a08d0-146">O objeto [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) normalmente é criado e usado dentro do código gerado pelo [WsdCodeGen](web-services-for-devices-code-generator.md).</span><span class="sxs-lookup"><span data-stu-id="a08d0-146">The [**IWSDDeviceHost**](/windows/desktop/api/WsdHost/nn-wsdhost-iwsddevicehost) object is typically created and used inside code generated by [WsdCodeGen](web-services-for-devices-code-generator.md).</span></span>

 

 
