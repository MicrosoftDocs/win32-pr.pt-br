---
title: Implementando o modelo de segurança Teredo
description: O modelo de segurança Teredo é baseado na tecnologia WFP (Windows Filtering Platform) interna do Windows Vista. Como resultado, é recomendável que firewalls de terceiros usem o WFP para impor o modelo de segurança Teredo.
ms.assetid: ee81e5f1-e3e0-440e-a53f-2accced476bc
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a39668f8e1c86e0cd5b12056df5eb9a5fd9cd3ee
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103641537"
---
# <a name="implementing-the-teredo-security-model"></a><span data-ttu-id="c7a02-104">Implementando o modelo de segurança Teredo</span><span class="sxs-lookup"><span data-stu-id="c7a02-104">Implementing the Teredo Security Model</span></span>

<span data-ttu-id="c7a02-105">O modelo de segurança Teredo é baseado na tecnologia WFP ( [Windows Filtering Platform](/windows/desktop/FWP/windows-filtering-platform-start-page) ) interna do Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="c7a02-105">The Teredo security model is based on the [Windows Filtering Platform](/windows/desktop/FWP/windows-filtering-platform-start-page) (WFP) technology built into Windows Vista.</span></span> <span data-ttu-id="c7a02-106">Como resultado, é recomendável que firewalls de terceiros usem o WFP para impor o modelo de segurança [Teredo](about-teredo.md) .</span><span class="sxs-lookup"><span data-stu-id="c7a02-106">As a result, it is recommended that third-party firewalls use WFP to enforce the [Teredo](about-teredo.md) security model.</span></span>

<span data-ttu-id="c7a02-107">A implementação geral do [modelo de segurança Teredo](the-teredo-security-model.md) requer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="c7a02-107">The general implementation of the [Teredo Security Model](the-teredo-security-model.md) requires the following:</span></span>

-   <span data-ttu-id="c7a02-108">Um firewall de host com capacidade para IPv6 deve ser registrado na WSC (central de segurança do Windows) no computador.</span><span class="sxs-lookup"><span data-stu-id="c7a02-108">An IPv6-capable host firewall must be registered with Windows Security Center (WSC) on the machine.</span></span> <span data-ttu-id="c7a02-109">Na ausência de um firewall baseado em host, ou da WSC em si, a interface teredo não estará disponível para uso.</span><span class="sxs-lookup"><span data-stu-id="c7a02-109">In the absence of a host-based firewall, or WSC itself, the Teredo interface will not be available for use.</span></span> <span data-ttu-id="c7a02-110">Esse é o único requisito para receber tráfego solicitado da Internet pela interface teredo.</span><span class="sxs-lookup"><span data-stu-id="c7a02-110">This is the only requirement to receive solicited traffic from the Internet over the Teredo interface.</span></span>
-   <span data-ttu-id="c7a02-111">Qualquer aplicativo que recebe tráfego não solicitado da Internet pela interface teredo deve se registrar com um firewall compatível com IPv6, como o [Firewall do Windows](/previous-versions/windows/desktop/ics/windows-firewall-start-page), antes de receber o tráfego não solicitado.</span><span class="sxs-lookup"><span data-stu-id="c7a02-111">Any application that receives unsolicited traffic from the Internet over the Teredo interface must register with an IPv6-capable firewall, like [Windows Firewall](/previous-versions/windows/desktop/ics/windows-firewall-start-page), before receiving the unsolicited traffic.</span></span>

<span data-ttu-id="c7a02-112">Um endereço Teredo se tornará inativo se o tráfego não tiver sido enviado ou recebido pela interface teredo por uma hora e se os aplicativos que atendem aos critérios de segurança necessários para o tráfego não solicitado não estiverem em execução ou não tiverem soquetes de escuta abertos.</span><span class="sxs-lookup"><span data-stu-id="c7a02-112">A Teredo address will become dormant if traffic has not been sent or received over the Teredo interface for one hour and if applications that meet the required security criteria for unsolicited traffic are not running or do not have listening sockets open.</span></span>

<span data-ttu-id="c7a02-113">Após a reinicialização de um computador, ou se o endereço Teredo perder suas qualificações, o Windows Vista qualificará automaticamente o endereço e o tornará disponível para uso assim que um aplicativo for associado a soquetes compatíveis com IPv6.</span><span class="sxs-lookup"><span data-stu-id="c7a02-113">After the reboot of a machine, or if the Teredo address loses its qualifications, Windows Vista will automatically qualify the address and makes it available for use as soon as an application binds to IPv6-capable sockets.</span></span> <span data-ttu-id="c7a02-114">É importante observar que a opção "travessia da borda" do firewall do Windows definida por um aplicativo para permitir o tráfego não solicitado via Teredo é persistente entre reinicializações.</span><span class="sxs-lookup"><span data-stu-id="c7a02-114">It is important to note that the Windows Firewall "Edge Traversal" option set by an application to allow unsolicited traffic via Teredo is persistent across reboots.</span></span>

## <a name="firewall-requirements-for-teredo"></a><span data-ttu-id="c7a02-115">Requisitos de firewall para Teredo</span><span class="sxs-lookup"><span data-stu-id="c7a02-115">Firewall Requirements for Teredo</span></span>

<span data-ttu-id="c7a02-116">Os fornecedores de firewall podem incorporar facilmente o suporte a Teredo em seus produtos e proteger seus usuários usando os recursos da plataforma de filtragem do Windows.</span><span class="sxs-lookup"><span data-stu-id="c7a02-116">Firewall vendors can easily incorporate Teredo support in their products and protect their users by using the capabilities of the Windows Filtering Platform.</span></span> <span data-ttu-id="c7a02-117">Isso pode ser feito registrando o firewall compatível com IPv6 com a central de segurança do Windows, adicionando as regras apropriadas à subcamada do WFP Teredo e usando APIs internas no Windows para enumerar aplicativos que podem ouvir o tráfego não solicitado pelo Teredo.</span><span class="sxs-lookup"><span data-stu-id="c7a02-117">This can be accomplished by registering the IPv6-capable firewall with the Windows Security Center, adding appropriate rules into the WFP Teredo sublayer, and using built-in APIs in Windows to enumerate applications that might listen to unsolicited traffic over Teredo.</span></span> <span data-ttu-id="c7a02-118">Em situações em que um aplicativo não precisa escutar o tráfego solicitado por Teredo, os firewalls não exigem regras adicionais adicionadas à WFP.</span><span class="sxs-lookup"><span data-stu-id="c7a02-118">In situations where an application does not need to listen to solicited traffic over Teredo, firewalls do not require additional rules added to the WFP.</span></span> <span data-ttu-id="c7a02-119">No entanto, um registro de firewall compatível com IPv6 com a central de segurança do Windows ainda é um requisito para disponibilizar o endereço Teredo para uso.</span><span class="sxs-lookup"><span data-stu-id="c7a02-119">However an IPv6 capable firewall registration with Windows Security Center is still a requirement to make the Teredo address to available for use.</span></span>

<span data-ttu-id="c7a02-120">Para dar suporte a esse cenário, o firewall deve ser compatível com IPv6 e registrado na central de segurança do Windows.</span><span class="sxs-lookup"><span data-stu-id="c7a02-120">In order to support this scenario, the firewall must be IPv6-capable and registered with the Windows Security Center.</span></span> <span data-ttu-id="c7a02-121">Além disso, o firewall não deve alterar o estado de execução ou de inicialização do serviço da central de segurança do Windows (wscsvc), pois o Teredo depende das informações de estado fornecidas por meio das APIs da WSC.</span><span class="sxs-lookup"><span data-stu-id="c7a02-121">Additionally, the firewall must not change the running or startup state of the Windows Security Center service (wscsvc), as Teredo is dependent on the state information provided through the WSC APIs.</span></span>

<span data-ttu-id="c7a02-122">A API utilizada para registrar um firewall com a WSC pode ser obtida entrando em contato com a Microsoft em wscisv@microsoft.com .</span><span class="sxs-lookup"><span data-stu-id="c7a02-122">The API utilized to register a firewall with the WSC can be obtained by contacting Microsoft at wscisv@microsoft.com.</span></span> <span data-ttu-id="c7a02-123">Um contrato de confidencialidade (NDA) é necessário para a divulgação dessa API devido a questões de segurança.</span><span class="sxs-lookup"><span data-stu-id="c7a02-123">A Non-Disclosure Agreement (NDA) is required for the disclosure of this API due to security concerns.</span></span>

<span data-ttu-id="c7a02-124">A documentação a seguir detalha os filtros e as exceções utilizados para garantir a compatibilidade ideal com o Teredo:</span><span class="sxs-lookup"><span data-stu-id="c7a02-124">The following documentation details the filters and exceptions utilized to ensure optimal compatibility with Teredo:</span></span>

-   [<span data-ttu-id="c7a02-125">Implementando filtros de firewall para Teredo</span><span class="sxs-lookup"><span data-stu-id="c7a02-125">Implementing Firewall Filters for Teredo</span></span>](implementing-firewall-filters-for-teredo.md)
-   [<span data-ttu-id="c7a02-126">Exceções de firewall necessárias para Teredo</span><span class="sxs-lookup"><span data-stu-id="c7a02-126">Required Firewall Exceptions for Teredo</span></span>](required-firewall-exceptions-for-teredo.md)
-   [<span data-ttu-id="c7a02-127">Exceções necessárias da plataforma de filtragem do Windows para Teredo</span><span class="sxs-lookup"><span data-stu-id="c7a02-127">Required Windows Filtering Platform Exceptions for Teredo</span></span>](required-windows-filtering-platform-exceptions-for-teredo.md)

## <a name="firewall-requirements-for-other-ipv6-transition-technologies"></a><span data-ttu-id="c7a02-128">Requisitos de firewall para outras tecnologias de transição IPv6</span><span class="sxs-lookup"><span data-stu-id="c7a02-128">Firewall Requirements for Other IPv6 Transition Technologies</span></span>

<span data-ttu-id="c7a02-129">Para dar suporte a outras tecnologias de transição IPv6 (como 6to4 e ISATAP), o produto de firewall de host deve ser capaz de processar o tráfego IPv6.</span><span class="sxs-lookup"><span data-stu-id="c7a02-129">In order to support other IPv6 transition technologies (such as 6to4 and ISATAP), the host firewall product must be capable of processing IPv6 traffic.</span></span> <span data-ttu-id="c7a02-130">O protocolo IP 41 indica quando um cabeçalho IPv6 segue um cabeçalho IPv4.</span><span class="sxs-lookup"><span data-stu-id="c7a02-130">The IP Protocol 41 indicates when an IPv6 header follows an IPv4 header.</span></span> <span data-ttu-id="c7a02-131">Quando um firewall de host encontra o protocolo 41, ele deve reconhecer que o pacote é um pacote encapsulado IPv6 e, como resultado, deve processar o pacote adequadamente e tomar as decisões de aceitação/negação com base nas regras de IPv6 em sua política.</span><span class="sxs-lookup"><span data-stu-id="c7a02-131">When a host firewall encounters protocol 41, it must recognize that the packet is an IPv6-encapsulated packet and as a result must process the packet appropriately and make the accept/deny decisions based on the IPv6 rules in its policy.</span></span>

 

 