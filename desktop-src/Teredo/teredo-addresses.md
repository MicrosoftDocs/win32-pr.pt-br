---
title: Endereços Teredo
ms.assetid: e2e185c2-e53d-471d-aedb-54d75f9db0bb
description: 'Saiba mais sobre: endereços Teredo'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc08a53da2f710423d948e9479df2aeb08f20178
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104297578"
---
# <a name="teredo-addresses"></a><span data-ttu-id="4cb67-103">Endereços Teredo</span><span class="sxs-lookup"><span data-stu-id="4cb67-103">Teredo Addresses</span></span>

<span data-ttu-id="4cb67-104">Um endereço Teredo consiste no seguinte:</span><span class="sxs-lookup"><span data-stu-id="4cb67-104">A Teredo address consists of the following:</span></span>

-   <span data-ttu-id="4cb67-105">**Prefixo Teredo**</span><span class="sxs-lookup"><span data-stu-id="4cb67-105">**Teredo prefix**</span></span>

    <span data-ttu-id="4cb67-106">Os primeiros 32 bits são para o prefixo Teredo, que é o mesmo para todos os endereços Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-106">The first 32 bits are for the Teredo prefix, which is the same for all Teredo addresses.</span></span> <span data-ttu-id="4cb67-107">O Windows XP e o Windows Server 2003 usaram inicialmente o prefixo Teredo 3FFE: 831F::/32.</span><span class="sxs-lookup"><span data-stu-id="4cb67-107">Windows XP and Windows Server 2003 initially used the 3FFE:831F::/32 Teredo prefix.</span></span> <span data-ttu-id="4cb67-108">O prefixo definido para Teredo na RFC 4380 é 2001::/32 e é o prefixo usado pelo Teredo no Windows Vista e no Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="4cb67-108">The prefix defined for Teredo in RFC 4380 is 2001::/32 and is the prefix used by Teredo in Windows Vista and Windows Server 2008.</span></span> <span data-ttu-id="4cb67-109">Os computadores que executam o Windows XP e o Windows Server 2003 usarão o prefixo de Teredo 2001::/32 quando atualizados com o boletim de segurança da Microsoft MS06-064.</span><span class="sxs-lookup"><span data-stu-id="4cb67-109">Computers running Windows XP and Windows Server 2003 will use the 2001::/32 Teredo prefix when updated with Microsoft Security Bulletin MS06-064.</span></span>

-   <span data-ttu-id="4cb67-110">**Endereço IPv4 do servidor Teredo**</span><span class="sxs-lookup"><span data-stu-id="4cb67-110">**Teredo server IPv4 address**</span></span>

    <span data-ttu-id="4cb67-111">Os próximos 32 bits contêm o endereço IPv4 público do servidor Teredo que ajudou a configurar esse endereço Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-111">The next 32 bits contain the IPv4 public address of the Teredo server that helped configure this Teredo address.</span></span> <span data-ttu-id="4cb67-112">Para obter mais informações, consulte "configuração inicial para clientes Teredo" neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-112">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

-   <span data-ttu-id="4cb67-113">**Sinalizadores**</span><span class="sxs-lookup"><span data-stu-id="4cb67-113">**Flags**</span></span>

    <span data-ttu-id="4cb67-114">Os próximos 16 bits para são reservados para sinalizadores Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-114">The next 16 bits for are reserved for Teredo flags.</span></span> <span data-ttu-id="4cb67-115">Para clientes Teredo baseados no Windows XP, o único sinalizador definido é o bit de ordem superior conhecido como o sinalizador de cone.</span><span class="sxs-lookup"><span data-stu-id="4cb67-115">For Windows XP-based Teredo clients, the only defined flag is the high order bit known as the Cone flag.</span></span> <span data-ttu-id="4cb67-116">O sinalizador de cone é definido quando o cliente Teredo está atrás de um NAT de cone.</span><span class="sxs-lookup"><span data-stu-id="4cb67-116">The Cone flag is set when Teredo client is behind a cone NAT.</span></span> <span data-ttu-id="4cb67-117">A determinação de se o NAT conectado à Internet é um cone NAT que ocorre durante a configuração inicial do cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-117">The determination of whether the NAT connected to the Internet is a cone NAT occurs during the Teredo client's initial configuration.</span></span> <span data-ttu-id="4cb67-118">Para obter mais informações, consulte "configuração inicial para clientes Teredo" neste artigo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-118">For more information, see "Initial configuration for Teredo clients" in this article.</span></span>

    <span data-ttu-id="4cb67-119">Para clientes Teredo baseados no Windows Vista e no Windows Server 2008, bits não utilizados no campo sinalizadores fornecem um nível de proteção contra verificações de endereço por usuários mal-intencionados.</span><span class="sxs-lookup"><span data-stu-id="4cb67-119">For Windows Vista and Windows Server 2008-based Teredo clients, unused bits within the Flags field provide a level of protection from address scans by malicious users.</span></span> <span data-ttu-id="4cb67-120">Os 16 bits dentro do campo Flags para clientes Teredo baseados no Windows Vista e no Windows Server 2008 consistem no seguinte: CRAAAAUG AAAAAAAA.</span><span class="sxs-lookup"><span data-stu-id="4cb67-120">The 16 bits within the Flags field for Windows Vista and Windows Server 2008-based Teredo clients consists of the following: CRAAAAUG AAAAAAAA.</span></span> <span data-ttu-id="4cb67-121">O bit C é para o sinalizador de cone.</span><span class="sxs-lookup"><span data-stu-id="4cb67-121">The C bit is for the Cone flag.</span></span> <span data-ttu-id="4cb67-122">O bit R é reservado para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="4cb67-122">The R bit is reserved for future use.</span></span> <span data-ttu-id="4cb67-123">O bit U é para o sinalizador universal/local (definido como 0).</span><span class="sxs-lookup"><span data-stu-id="4cb67-123">The U bit is for the Universal/Local flag (set to 0).</span></span> <span data-ttu-id="4cb67-124">O G bit é um sinalizador individual/de grupo (definido como 0).</span><span class="sxs-lookup"><span data-stu-id="4cb67-124">The G bit is Individual/Group flag (set to 0).</span></span> <span data-ttu-id="4cb67-125">Os bits a são definidos como um número gerado aleatoriamente de 12 bits.</span><span class="sxs-lookup"><span data-stu-id="4cb67-125">The A bits are set to a 12-bit randomly generated number.</span></span> <span data-ttu-id="4cb67-126">Usando um número aleatório para os bits, um usuário mal-intencionado que determinou o restante do endereço Teredo capturando a troca de configuração inicial dos pacotes entre o cliente Teredo e o servidor Teredo precisará tentar até 4.096 (212) endereços diferentes para determinar o endereço de um cliente Teredo durante uma verificação de endereço.</span><span class="sxs-lookup"><span data-stu-id="4cb67-126">By using a random number for the A bits, a malicious user that has determined the rest of the Teredo address by capturing the initial configuration exchange of packets between the Teredo client and Teredo server will have to try up to 4,096 (212) different addresses to determine a Teredo client's address during an address scan.</span></span>

-   <span data-ttu-id="4cb67-127">**Porta externa obscurecida**</span><span class="sxs-lookup"><span data-stu-id="4cb67-127">**Obscured external port**</span></span>

    <span data-ttu-id="4cb67-128">Os próximos 16 bits armazenam uma versão obscura da porta UDP externa correspondente a todo o tráfego Teredo para esse cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-128">The next 16 bits store an obscured version of the external UDP port corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="4cb67-129">Quando o cliente Teredo envia seu pacote inicial para um servidor Teredo, a porta UDP de origem do pacote é mapeada pelo NAT para uma porta UDP externa diferente.</span><span class="sxs-lookup"><span data-stu-id="4cb67-129">When the Teredo client sends its initial packet to a Teredo server, the source UDP port of the packet is mapped by the NAT to a different, external UDP port.</span></span> <span data-ttu-id="4cb67-130">O cliente Teredo mantém esse mapeamento de porta para que ele permaneça na tabela de conversão da NAT.</span><span class="sxs-lookup"><span data-stu-id="4cb67-130">The Teredo client maintains this port mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="4cb67-131">Portanto, todo o tráfego Teredo para o host usa a mesma porta UDP mapeada e externa.</span><span class="sxs-lookup"><span data-stu-id="4cb67-131">Therefore, all Teredo traffic for the host uses the same external, mapped UDP port.</span></span> <span data-ttu-id="4cb67-132">A porta UDP externa é determinada pelo servidor Teredo da porta UDP de origem do pacote inicial de entrada enviado pelo cliente Teredo e enviada de volta para o cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-132">The external UDP port is determined by the Teredo server from the source UDP port of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="4cb67-133">A porta externa é obscurecida por XORing a porta externa com 0xFFFF.</span><span class="sxs-lookup"><span data-stu-id="4cb67-133">The external port is obscured by XORing the external port with 0xFFFF.</span></span> <span data-ttu-id="4cb67-134">Por exemplo, a versão obscurecida da porta externa 5000 no formato hexadecimal é EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span><span class="sxs-lookup"><span data-stu-id="4cb67-134">For example, the obscured version of the external port 5000 in hexadecimal format is EC77 (5000 = 0x1388, 0x1388 XOR 0xFFFF = 0xEC77).</span></span> <span data-ttu-id="4cb67-135">Obscurecer a porta externa impede que os NATs traduzam a porta externa dentro do conteúdo dos pacotes que estão encaminhando.</span><span class="sxs-lookup"><span data-stu-id="4cb67-135">Obscuring the external port prevents NATs from translating the external port within the payload of the packets that they are forwarding.</span></span>

-   <span data-ttu-id="4cb67-136">**Endereço externo obscuro**</span><span class="sxs-lookup"><span data-stu-id="4cb67-136">**Obscured external address**</span></span>

    <span data-ttu-id="4cb67-137">Os últimos 32 bits armazenam uma versão obscura do endereço IPv4 externo correspondente a todo o tráfego Teredo para esse cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-137">The last 32 bits store an obscured version of the external IPv4 address corresponding to all Teredo traffic for this Teredo client.</span></span> <span data-ttu-id="4cb67-138">Assim como a porta externa, quando o cliente Teredo envia seu pacote inicial para um servidor Teredo, o endereço IP de origem do pacote é mapeado pelo NAT para um endereço externo (público) diferente.</span><span class="sxs-lookup"><span data-stu-id="4cb67-138">Just like the external port, when the Teredo client sends its initial packet to a Teredo server, the source IP address of the packet is mapped by the NAT to a different, external (public) address.</span></span> <span data-ttu-id="4cb67-139">O cliente Teredo mantém esse mapeamento de endereço para que ele permaneça na tabela de conversão da NAT.</span><span class="sxs-lookup"><span data-stu-id="4cb67-139">The Teredo client maintains this address mapping so that it remains in the NAT's translation table.</span></span> <span data-ttu-id="4cb67-140">Portanto, todo o tráfego de Teredo para o host usa o mesmo endereço IPv4 público, mapeado e externo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-140">Therefore, all Teredo traffic for the host uses the same external, mapped, public IPv4 address.</span></span> <span data-ttu-id="4cb67-141">O endereço IPv4 externo é determinado pelo servidor Teredo do endereço IPv4 de origem do pacote inicial de entrada enviado pelo cliente Teredo e enviado de volta para o cliente Teredo.</span><span class="sxs-lookup"><span data-stu-id="4cb67-141">The external IPv4 address is determined by the Teredo server from the source IPv4 address of the incoming initial packet sent by the Teredo client and sent back to the Teredo client.</span></span>

    <span data-ttu-id="4cb67-142">O endereço externo é obscurecido por XORing o endereço externo com 0xFFFFFFFF.</span><span class="sxs-lookup"><span data-stu-id="4cb67-142">The external address is obscured by XORing the external address with 0xFFFFFFFF.</span></span> <span data-ttu-id="4cb67-143">Por exemplo, a versão obscurecida do endereço IPv4 público 131.107.0.1 em formato hexadecimal com dois-pontos é 7C94: FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span><span class="sxs-lookup"><span data-stu-id="4cb67-143">For example, the obscured version of the public IPv4 address 131.107.0.1 in colon-hexadecimal format is 7C94:FFFE (131.107.0.1 = 0x836B0001, 0x836B0001 XOR 0xFFFFFFFF = 0x7C94FFFE).</span></span> <span data-ttu-id="4cb67-144">Obscurecer o endereço externo impede que os NATs traduzam o endereço externo dentro do conteúdo dos pacotes que estão encaminhando.</span><span class="sxs-lookup"><span data-stu-id="4cb67-144">Obscuring the external address prevents NATs from translating the external address within the payload of the packets that they are forwarding.</span></span>

 

 




