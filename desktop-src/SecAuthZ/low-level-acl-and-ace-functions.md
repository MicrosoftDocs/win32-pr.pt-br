---
description: Crie uma ACL (lista de controle de acesso) usando as funções de nível baixo, aloque um buffer para a ACL e, em seguida, inicialize-o chamando a função InitializeAcl.
ms.assetid: 9dcbbd4c-b3b3-43fd-b3a6-0637a53a455a
title: Funções de ACL e ACE de nível baixo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ac63c17d84996afe9bdc43d0ccdd021db69ab488
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103829732"
---
# <a name="low-level-acl-and-ace-functions"></a><span data-ttu-id="f1a67-103">Funções de ACL e ACE de nível baixo</span><span class="sxs-lookup"><span data-stu-id="f1a67-103">Low-level ACL and ACE Functions</span></span>

<span data-ttu-id="f1a67-104">Para criar uma ACL ( [*lista de controle de acesso*](/windows/desktop/SecGloss/a-gly) ) usando as funções de nível baixo, aloque um buffer para a ACL e, em seguida, inicialize-o chamando a função [**InitializeAcl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializeacl) .</span><span class="sxs-lookup"><span data-stu-id="f1a67-104">To create an [*access control list*](/windows/desktop/SecGloss/a-gly) (ACL) by using the low-level functions, allocate a buffer for the ACL and then initialize it by calling the [**InitializeAcl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-initializeacl) function.</span></span> <span data-ttu-id="f1a67-105">Para adicionar ACEs ( [*entradas de controle de acesso*](/windows/desktop/SecGloss/a-gly) ) ao final de uma DACL (lista de controle de [*acesso discricionário*](/windows/desktop/SecGloss/d-gly) ), use as funções [**AddAccessAllowedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace) e [**AddAccessDeniedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedace) .</span><span class="sxs-lookup"><span data-stu-id="f1a67-105">To add [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) to the end of a [*discretionary access control list*](/windows/desktop/SecGloss/d-gly) (DACL), use the [**AddAccessAllowedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace) and [**AddAccessDeniedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedace) functions.</span></span> <span data-ttu-id="f1a67-106">A função [**AddAuditAccessAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessace) adiciona uma ACE ao final de uma SACL ( [*lista de controle de acesso*](/windows/desktop/SecGloss/s-gly) ) do sistema.</span><span class="sxs-lookup"><span data-stu-id="f1a67-106">The [**AddAuditAccessAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessace) function adds an ACE to the end of a [*system access control list*](/windows/desktop/SecGloss/s-gly) (SACL).</span></span> <span data-ttu-id="f1a67-107">Você pode usar a função [**AddAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace) para adicionar uma ou mais ACEs em uma posição especificada em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-107">You can use the [**AddAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace) function to add one or more ACEs at a specified position in an ACL.</span></span> <span data-ttu-id="f1a67-108">A função **AddAce** também permite que você adicione uma ACE herdável a uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-108">The **AddAce** function also allows you to add an inheritable ACE to an ACL.</span></span> <span data-ttu-id="f1a67-109">A função [**DeleteAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-deleteace) remove uma ACE de uma posição especificada em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-109">The [**DeleteAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-deleteace) function removes an ACE from a specified position in an ACL.</span></span> <span data-ttu-id="f1a67-110">A função [**GetAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace) recupera uma ACE de uma posição especificada em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-110">The [**GetAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace) function retrieves an ACE from a specified position in an ACL.</span></span> <span data-ttu-id="f1a67-111">A função [**FindFirstFreeAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-findfirstfreeace) recupera um ponteiro para o primeiro byte livre em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-111">The [**FindFirstFreeAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-findfirstfreeace) function retrieves a pointer to the first free byte in an ACL.</span></span>

<span data-ttu-id="f1a67-112">Para modificar uma ACL existente no [*descritor de segurança*](/windows/desktop/SecGloss/s-gly)de um objeto, use a função [**GetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptordacl) ou [**GetSecurityDescriptorSacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorsacl) para obter a ACL existente.</span><span class="sxs-lookup"><span data-stu-id="f1a67-112">To modify an existing ACL in an object's [*security descriptor*](/windows/desktop/SecGloss/s-gly), use the [**GetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptordacl) or [**GetSecurityDescriptorSacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getsecuritydescriptorsacl) function to get the existing ACL.</span></span> <span data-ttu-id="f1a67-113">Você pode usar a função [**GetAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace) para copiar Aces da ACL existente.</span><span class="sxs-lookup"><span data-stu-id="f1a67-113">You can use the [**GetAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getace) function to copy ACEs from the existing ACL.</span></span> <span data-ttu-id="f1a67-114">Depois de alocar e inicializar uma nova ACL, use funções como [**AddAccessAllowedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace) e [**AddAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace) para adicionar ACEs a ela.</span><span class="sxs-lookup"><span data-stu-id="f1a67-114">After allocating and initializing a new ACL, use functions such as [**AddAccessAllowedAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedace) and [**AddAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addace) to add ACEs to it.</span></span> <span data-ttu-id="f1a67-115">Quando você terminar de criar a nova ACL, use a função [**SetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl) ou [**SetSecurityDescriptorSacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorsacl) para adicionar a nova ACL ao descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="f1a67-115">When you have finished building the new ACL, use the [**SetSecurityDescriptorDacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptordacl) or [**SetSecurityDescriptorSacl**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setsecuritydescriptorsacl) function to add the new ACL to the object's security descriptor.</span></span>

<span data-ttu-id="f1a67-116">Você pode usar as funções [**AddAccessAllowedObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedobjectace), [**AddAccessDeniedObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedobjectace)ou [**AddAuditAccessObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessobjectace) para adicionar [ACEs específicas do objeto](object-specific-aces.md) ao final de uma ACL.</span><span class="sxs-lookup"><span data-stu-id="f1a67-116">You can use the [**AddAccessAllowedObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessallowedobjectace), [**AddAccessDeniedObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addaccessdeniedobjectace), or [**AddAuditAccessObjectAce**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-addauditaccessobjectace) functions to add [object-specific ACEs](object-specific-aces.md) to the end of an ACL.</span></span>

 

 
