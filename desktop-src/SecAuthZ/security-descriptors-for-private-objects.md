---
description: Para criar um descritor de segurança, um servidor protegido pode usar o mesmo procedimento que um aplicativo usaria para criar um descritor de segurança para um objeto protegível.
ms.assetid: f40c4b62-a3f0-4e66-875e-2ef904d052e5
title: Descritores de segurança para objetos privados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 97c40dc5c4e9f0a3d0e641874153d2862d038a19
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103921046"
---
# <a name="security-descriptors-for-private-objects"></a><span data-ttu-id="c6877-103">Descritores de segurança para objetos privados</span><span class="sxs-lookup"><span data-stu-id="c6877-103">Security Descriptors for Private Objects</span></span>

<span data-ttu-id="c6877-104">Para criar um [*descritor de segurança*](/windows/desktop/SecGloss/s-gly), um servidor protegido pode usar o mesmo procedimento que um aplicativo usaria para criar um descritor de segurança para um objeto protegível.</span><span class="sxs-lookup"><span data-stu-id="c6877-104">To create a [*security descriptor*](/windows/desktop/SecGloss/s-gly), a protected server can use the same procedure that an application would use to create a security descriptor for a securable object.</span></span> <span data-ttu-id="c6877-105">Para obter o código de exemplo, consulte [criando um descritor de segurança para um novo objeto em C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span><span class="sxs-lookup"><span data-stu-id="c6877-105">For sample code, see [Creating a Security Descriptor for a New Object in C++](creating-a-security-descriptor-for-a-new-object-in-c--.md).</span></span> <span data-ttu-id="c6877-106">Como alternativa, um aplicativo de servidor protegido pode chamar a função [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="c6877-106">Alternatively, a protected server application can call the [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) function to do this.</span></span> <span data-ttu-id="c6877-107">Se um ponteiro para um [*descritor de segurança autônomo*](/windows/desktop/SecGloss/s-gly) existente for fornecido para **BuildSecurityDescriptor**, ele criará o novo descritor de segurança com informações extraídas do descritor de segurança mesclado com novas informações de controle de acesso passadas como parâmetros na chamada de função.</span><span class="sxs-lookup"><span data-stu-id="c6877-107">If a pointer to an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly) is supplied to **BuildSecurityDescriptor**, it will build the new security descriptor with information taken from that security descriptor merged with new access control information passed as parameters in the function call.</span></span> <span data-ttu-id="c6877-108">O proprietário e o grupo são opcionalmente especificados por estruturas de [**confiança**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) passadas para a função.</span><span class="sxs-lookup"><span data-stu-id="c6877-108">The owner and group are optionally specified by [**TRUSTEE**](/windows/desktop/api/AccCtrl/ns-accctrl-trustee_a) structures passed to the function.</span></span> <span data-ttu-id="c6877-109">O descritor de segurança criado pelo **BuildSecurityDescriptor** está em um formato *auto-relativo* .</span><span class="sxs-lookup"><span data-stu-id="c6877-109">The security descriptor created by **BuildSecurityDescriptor** is in *self-relative* format.</span></span>

<span data-ttu-id="c6877-110">Além disso, a API do Windows fornece um conjunto de funções para mesclar informações de segurança do cliente com informações herdadas do descritor de segurança para um objeto pai ou de um descritor de segurança padrão.</span><span class="sxs-lookup"><span data-stu-id="c6877-110">In addition, the Windows API provides a set of functions for merging client security information with information inherited from the security descriptor for a parent object or from a default security descriptor.</span></span> <span data-ttu-id="c6877-111">As funções [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity)e [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) fornecem a capacidade de recuperar informações padrão de um [*token de acesso*](/windows/desktop/SecGloss/a-gly), dar suporte à herança e manipular partes específicas do descritor de segurança.</span><span class="sxs-lookup"><span data-stu-id="c6877-111">The [**CreatePrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createprivateobjectsecurity), [**GetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-getprivateobjectsecurity), [**SetPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-setprivateobjectsecurity), and [**DestroyPrivateObjectSecurity**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-destroyprivateobjectsecurity) functions provide the ability to retrieve default information from an [*access token*](/windows/desktop/SecGloss/a-gly), support inheritance, and manipulate specific parts of the security descriptor.</span></span> <span data-ttu-id="c6877-112">Isso pode ser útil quando um cliente cria um objeto particular em uma hierarquia de objetos protegidos.</span><span class="sxs-lookup"><span data-stu-id="c6877-112">This can be useful when a client creates a private object in a hierarchy of secured objects.</span></span> <span data-ttu-id="c6877-113">Por exemplo, você pode usar a função **CreatePrivateObjectSecurity** para criar um descritor de segurança que continha ACEs especificadas pelo cliente, Aces herdadas de um objeto pai e o proprietário padrão do token de acesso do cliente de criação.</span><span class="sxs-lookup"><span data-stu-id="c6877-113">For example, you could use the **CreatePrivateObjectSecurity** function to create a security descriptor that contained ACEs specified by the client, ACEs inherited from a parent object, and the default owner from the creating client's access token.</span></span> <span data-ttu-id="c6877-114">Enquanto o [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) cria descritores de segurança a partir das informações de controle de acesso passadas para a chamada de função ou a partir de uma descrição de segurança existente, o **CreatePrivateObjectSecurity** cria um descritor de segurança exclusivamente das informações nos descritores de segurança existentes.</span><span class="sxs-lookup"><span data-stu-id="c6877-114">While [**BuildSecurityDescriptor**](/windows/desktop/api/Aclapi/nf-aclapi-buildsecuritydescriptora) creates security descriptors either from access control information passed into the function call or from an existing security descriptor, **CreatePrivateObjectSecurity** creates a security descriptor solely from the information in existing security descriptors.</span></span>

<span data-ttu-id="c6877-115">A função [**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) Obtém informações de descritor de segurança de um [*descritor de segurança autônomo*](/windows/desktop/SecGloss/s-gly)existente.</span><span class="sxs-lookup"><span data-stu-id="c6877-115">[**LookupSecurityDescriptorParts**](/windows/desktop/api/Aclapi/nf-aclapi-lookupsecuritydescriptorpartsa) function obtains security descriptor information from an existing [*self-relative security descriptor*](/windows/desktop/SecGloss/s-gly).</span></span> <span data-ttu-id="c6877-116">Essas informações incluem a especificação de proprietário e de grupo, o número de ACEs na SACL ou DACL e a lista de ACEs na SACL ou DACL.</span><span class="sxs-lookup"><span data-stu-id="c6877-116">This information includes the owner and group specification, the number of ACEs in the SACL or DACL, and the list of ACEs in the SACL or DACL.</span></span>

 

 
