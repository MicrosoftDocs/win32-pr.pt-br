---
description: Cada usuário e SID (identificador de segurança de grupo) em um token de acesso tem um conjunto de atributos que controlam como o sistema usa o SID em uma verificação de acesso. A tabela a seguir lista os atributos que controlam a verificação de acesso.
ms.assetid: c902f876-f05e-4b0c-ab65-a0c6cebca933
title: Atributos de SID em um token de acesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e6a93e180c8c6ffe03a26591d5b9f722c2266356
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103647460"
---
# <a name="sid-attributes-in-an-access-token"></a><span data-ttu-id="9eb99-104">Atributos de SID em um token de acesso</span><span class="sxs-lookup"><span data-stu-id="9eb99-104">SID Attributes in an Access Token</span></span>

<span data-ttu-id="9eb99-105">Cada usuário e Sid ( [*identificador de segurança*](/windows/desktop/SecGloss/s-gly) de grupo) em um token de [*acesso*](/windows/desktop/SecGloss/a-gly) tem um conjunto de atributos que controlam como o sistema usa o Sid em uma verificação de acesso.</span><span class="sxs-lookup"><span data-stu-id="9eb99-105">Each user and group [*security identifier*](/windows/desktop/SecGloss/s-gly) (SID) in an [*access token*](/windows/desktop/SecGloss/a-gly) has a set of attributes that control how the system uses the SID in an access check.</span></span> <span data-ttu-id="9eb99-106">A tabela a seguir lista os atributos que controlam a verificação de acesso.</span><span class="sxs-lookup"><span data-stu-id="9eb99-106">The following table lists the attributes that control access checking.</span></span>



| <span data-ttu-id="9eb99-107">Atributo</span><span class="sxs-lookup"><span data-stu-id="9eb99-107">Attribute</span></span>                       | <span data-ttu-id="9eb99-108">Descrição</span><span class="sxs-lookup"><span data-stu-id="9eb99-108">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="9eb99-109">\_grupo se \_ habilitado</span><span class="sxs-lookup"><span data-stu-id="9eb99-109">SE\_GROUP\_ENABLED</span></span>              | <span data-ttu-id="9eb99-110">Um SID com esse atributo está habilitado para verificações de acesso.</span><span class="sxs-lookup"><span data-stu-id="9eb99-110">A SID with this attribute is enabled for access checks.</span></span> <span data-ttu-id="9eb99-111">Quando o sistema executa uma verificação de acesso, ele verifica as ACEs (entradas de controle de [*acesso*](/windows/desktop/SecGloss/a-gly) ) permitidas e com acesso negado que se aplicam a um dos SIDs habilitados no token de acesso.</span><span class="sxs-lookup"><span data-stu-id="9eb99-111">When the system performs an access check, it checks for access-allowed and access-denied [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) that apply to one of the enabled SIDs in the access token.</span></span> <span data-ttu-id="9eb99-112">Um SID sem esse atributo é ignorado durante uma verificação de acesso, a menos que o \_ grupo se \_ use \_ para \_ negar \_ somente atributo esteja definido.</span><span class="sxs-lookup"><span data-stu-id="9eb99-112">A SID without this attribute is ignored during an access check unless the SE\_GROUP\_USE\_FOR\_DENY\_ONLY attribute is set.</span></span><br/> |
| <span data-ttu-id="9eb99-113">\_ \_ uso de grupo \_ se \_ somente para negação \_</span><span class="sxs-lookup"><span data-stu-id="9eb99-113">SE\_GROUP\_USE\_FOR\_DENY\_ONLY</span></span> | <span data-ttu-id="9eb99-114">Um SID com esse atributo é um SID somente de negação.</span><span class="sxs-lookup"><span data-stu-id="9eb99-114">A SID with this attribute is a deny-only SID.</span></span> <span data-ttu-id="9eb99-115">Quando o sistema executa uma verificação de acesso, ele verifica as ACEs com acesso negado que se aplicam ao SID, mas ignora as ACEs de acesso permitido para o SID.</span><span class="sxs-lookup"><span data-stu-id="9eb99-115">When the system performs an access check, it checks for access-denied ACEs that apply to the SID, but it ignores access-allowed ACEs for the SID.</span></span> <span data-ttu-id="9eb99-116">Se esse atributo for definido, o \_ atributo habilitado para grupo se \_ não será definido e o Sid não poderá ser reabilitado.</span><span class="sxs-lookup"><span data-stu-id="9eb99-116">If this attribute is set, the SE\_GROUP\_ENABLED attribute is not set and the SID cannot be reenabled.</span></span><br/>                                                                                                                                                          |



 

<span data-ttu-id="9eb99-117">Para definir ou limpar o \_ atributo habilitado para grupo se \_ de um SID de grupo, use a função [**AdjustTokenGroups**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) .</span><span class="sxs-lookup"><span data-stu-id="9eb99-117">To set or clear the SE\_GROUP\_ENABLED attribute of a group SID, use the [**AdjustTokenGroups**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) function.</span></span> <span data-ttu-id="9eb99-118">Não é possível desabilitar um SID de grupo que tenha o \_ atributo do grupo se \_ obrigatório.</span><span class="sxs-lookup"><span data-stu-id="9eb99-118">You cannot disable a group SID that has the SE\_GROUP\_MANDATORY attribute.</span></span> <span data-ttu-id="9eb99-119">Você não pode usar **AdjustTokenGroups** para desabilitar o Sid de usuário de um token de acesso.</span><span class="sxs-lookup"><span data-stu-id="9eb99-119">You cannot use **AdjustTokenGroups** to disable the user SID of an access token.</span></span>

<span data-ttu-id="9eb99-120">Para determinar se um SID está habilitado em um token, ou seja, se ele tem o \_ atributo do grupo se \_ habilitado, chame a função [**CheckTokenMembership**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-checktokenmembership) .</span><span class="sxs-lookup"><span data-stu-id="9eb99-120">To determine whether a SID is enabled in a token, that is, whether it has the SE\_GROUP\_ENABLED attribute, call the [**CheckTokenMembership**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-checktokenmembership) function.</span></span>

<span data-ttu-id="9eb99-121">Para definir o \_ uso do grupo se \_ \_ para \_ negação \_ somente de um Sid, inclua o Sid na lista de SIDs somente de negação que você especificar ao chamar a função [**CreateRestrictedToken**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) .</span><span class="sxs-lookup"><span data-stu-id="9eb99-121">To set the SE\_GROUP\_USE\_FOR\_DENY\_ONLY attribute of a SID, include the SID in the list of deny-only SIDs that you specify when you call the [**CreateRestrictedToken**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken) function.</span></span> <span data-ttu-id="9eb99-122">**CreateRestrictedToken** pode aplicar o \_ grupo se \_ use \_ somente para o \_ \_ atributo Deny para qualquer Sid, incluindo o Sid de usuário e os SIDs de grupo que têm o \_ atributo do grupo se \_ obrigatório.</span><span class="sxs-lookup"><span data-stu-id="9eb99-122">**CreateRestrictedToken** can apply the SE\_GROUP\_USE\_FOR\_DENY\_ONLY attribute to any SID, including the user SID and group SIDs that have the SE\_GROUP\_MANDATORY attribute.</span></span> <span data-ttu-id="9eb99-123">No entanto, você não pode remover o atributo somente negação de um SID, nem pode usar [**AdjustTokenGroups**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) para definir o \_ atributo habilitado para grupo se \_ em um SID somente de negação.</span><span class="sxs-lookup"><span data-stu-id="9eb99-123">However, you cannot remove the deny-only attribute from a SID, nor can you use [**AdjustTokenGroups**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokengroups) to set the SE\_GROUP\_ENABLED attribute on a deny-only SID.</span></span>

<span data-ttu-id="9eb99-124">Para obter os atributos de um SID, chame a função [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) com o valor tokenGroups.</span><span class="sxs-lookup"><span data-stu-id="9eb99-124">To get the attributes of a SID, call the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function with the TokenGroups value.</span></span> <span data-ttu-id="9eb99-125">A função retorna uma matriz de estruturas de [**\_ \_ atributos e Sid**](/windows/desktop/api/Winnt/ns-winnt-sid_and_attributes) que identificam os SIDs de grupo e seus atributos.</span><span class="sxs-lookup"><span data-stu-id="9eb99-125">The function returns an array of [**SID\_AND\_ATTRIBUTES**](/windows/desktop/api/Winnt/ns-winnt-sid_and_attributes) structures that identify the group SIDs and their attributes.</span></span>

 

