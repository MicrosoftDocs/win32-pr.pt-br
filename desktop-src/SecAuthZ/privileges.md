---
description: Um privilégio é o direito de uma conta, como uma conta de usuário ou grupo, para executar várias operações relacionadas ao sistema no computador local, como desligar o sistema, carregar drivers de dispositivo ou alterar a hora do sistema.
ms.assetid: fe6aae0f-93eb-4aba-a6ac-45e71c251c51
title: Privilégios
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cccedffdf5786da07dd2cfd77c3de428ee15ba94
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103921048"
---
# <a name="privileges"></a><span data-ttu-id="43827-103">Privilégios</span><span class="sxs-lookup"><span data-stu-id="43827-103">Privileges</span></span>

<span data-ttu-id="43827-104">Um [*privilégio*](/windows/desktop/SecGloss/p-gly) é o direito de uma conta, como uma conta de usuário ou grupo, para executar várias operações relacionadas ao sistema no computador local, como desligar o sistema, carregar drivers de dispositivo ou alterar a hora do sistema.</span><span class="sxs-lookup"><span data-stu-id="43827-104">A [*privilege*](/windows/desktop/SecGloss/p-gly) is the right of an account, such as a user or group account, to perform various system-related operations on the local computer, such as shutting down the system, loading device drivers, or changing the system time.</span></span> <span data-ttu-id="43827-105">Os privilégios diferem dos direitos de acesso de duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="43827-105">Privileges differ from access rights in two ways:</span></span>

-   <span data-ttu-id="43827-106">Os privilégios controlam o acesso a recursos do sistema e tarefas relacionadas ao sistema, enquanto os direitos de acesso controlam o acesso a [objetos protegíveis](securable-objects.md).</span><span class="sxs-lookup"><span data-stu-id="43827-106">Privileges control access to system resources and system-related tasks, whereas access rights control access to [securable objects](securable-objects.md).</span></span>
-   <span data-ttu-id="43827-107">Um administrador de sistema atribui privilégios a contas de usuário e de grupo, enquanto o sistema concede ou nega acesso a um objeto protegível com base nos direitos de acesso concedidos nas ACEs na DACL do objeto.</span><span class="sxs-lookup"><span data-stu-id="43827-107">A system administrator assigns privileges to user and group accounts, whereas the system grants or denies access to a securable object based on the access rights granted in the ACEs in the object's DACL.</span></span>

<span data-ttu-id="43827-108">Cada sistema tem um banco de dados de conta que armazena os privilégios mantidos por contas de usuário e de grupo.</span><span class="sxs-lookup"><span data-stu-id="43827-108">Each system has an account database that stores the privileges held by user and group accounts.</span></span> <span data-ttu-id="43827-109">Quando um usuário faz logon, o sistema produz um [token de acesso](access-tokens.md) que contém uma lista de privilégios do usuário, incluindo aqueles concedidos ao usuário ou a grupos aos quais o usuário pertence.</span><span class="sxs-lookup"><span data-stu-id="43827-109">When a user logs on, the system produces an [access token](access-tokens.md) that contains a list of the user's privileges, including those granted to the user or to groups to which the user belongs.</span></span> <span data-ttu-id="43827-110">Observe que os privilégios se aplicam somente ao computador local; uma conta de domínio pode ter privilégios diferentes em computadores diferentes.</span><span class="sxs-lookup"><span data-stu-id="43827-110">Note that the privileges apply only to the local computer; a domain account can have different privileges on different computers.</span></span>

<span data-ttu-id="43827-111">Quando o usuário tenta executar uma operação privilegiada, o sistema verifica o token de acesso do usuário para determinar se o usuário tem os privilégios necessários e, nesse caso, verifica se os privilégios estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="43827-111">When the user tries to perform a privileged operation, the system checks the user's access token to determine whether the user holds the necessary privileges, and if so, it checks whether the privileges are enabled.</span></span> <span data-ttu-id="43827-112">Se o usuário falhar nesses testes, o sistema não executará a operação.</span><span class="sxs-lookup"><span data-stu-id="43827-112">If the user fails these tests, the system does not perform the operation.</span></span>

<span data-ttu-id="43827-113">Para determinar os privilégios mantidos em um token de acesso, chame a função [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) , que também indica quais privilégios estão habilitados.</span><span class="sxs-lookup"><span data-stu-id="43827-113">To determine the privileges held in an access token, call the [**GetTokenInformation**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-gettokeninformation) function, which also indicates which privileges are enabled.</span></span> <span data-ttu-id="43827-114">A maioria dos privilégios está desabilitada por padrão.</span><span class="sxs-lookup"><span data-stu-id="43827-114">Most privileges are disabled by default.</span></span>

<span data-ttu-id="43827-115">A API do Windows define um conjunto de constantes de cadeia de caracteres, como \_ ASSIGNPRIMARYTOKEN \_ Name, para identificar os vários privilégios.</span><span class="sxs-lookup"><span data-stu-id="43827-115">The Windows API defines a set of string constants, such as SE\_ASSIGNPRIMARYTOKEN\_NAME, to identify the various privileges.</span></span> <span data-ttu-id="43827-116">Essas constantes são as mesmas em todos os sistemas e são definidas em Winnt. h.</span><span class="sxs-lookup"><span data-stu-id="43827-116">These constants are the same on all systems and are defined in Winnt.h.</span></span> <span data-ttu-id="43827-117">Para obter uma tabela dos privilégios definidos pelo Windows, consulte [constantes de privilégio](authorization-constants.md).</span><span class="sxs-lookup"><span data-stu-id="43827-117">For a table of the privileges defined by Windows, see [Privilege Constants](authorization-constants.md).</span></span> <span data-ttu-id="43827-118">No entanto, as funções que obtêm e ajustam os privilégios em um token de acesso usam o tipo de [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) para identificar privilégios.</span><span class="sxs-lookup"><span data-stu-id="43827-118">However, the functions that get and adjust the privileges in an access token use the [**LUID**](/windows/desktop/api/Winnt/ns-winnt-luid) type to identify privileges.</span></span> <span data-ttu-id="43827-119">Os valores de **LUID** de um privilégio podem ser diferentes de um computador para outro e de uma inicialização para outra no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="43827-119">The **LUID** values for a privilege can differ from one computer to another, and from one boot to another on the same computer.</span></span> <span data-ttu-id="43827-120">Para obter o **LUID** atual que corresponde a uma das constantes de cadeia de caracteres, use a função [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) .</span><span class="sxs-lookup"><span data-stu-id="43827-120">To get the current **LUID** that corresponds to one of the string constants, use the [**LookupPrivilegeValue**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegevaluea) function.</span></span> <span data-ttu-id="43827-121">Use a função [**LookupPrivilegeName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) para converter um **LUID** em sua constante de cadeia de caracteres correspondente.</span><span class="sxs-lookup"><span data-stu-id="43827-121">Use the [**LookupPrivilegeName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegenamea) function to convert a **LUID** to its corresponding string constant.</span></span>

<span data-ttu-id="43827-122">O sistema fornece um conjunto de nomes de exibição que descrevem cada um dos privilégios.</span><span class="sxs-lookup"><span data-stu-id="43827-122">The system provides a set of display names that describe each of the privileges.</span></span> <span data-ttu-id="43827-123">Eles são úteis quando você precisa exibir uma descrição de um privilégio para o usuário.</span><span class="sxs-lookup"><span data-stu-id="43827-123">These are useful when you need to display a description of a privilege to the user.</span></span> <span data-ttu-id="43827-124">Use a função [**LookupPrivilegeDisplayName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) para recuperar uma cadeia de caracteres de descrição que corresponda à constante de cadeia de caracteres para um privilégio.</span><span class="sxs-lookup"><span data-stu-id="43827-124">Use the [**LookupPrivilegeDisplayName**](/windows/desktop/api/Winbase/nf-winbase-lookupprivilegedisplaynamea) function to retrieve a description string that corresponds to the string constant for a privilege.</span></span> <span data-ttu-id="43827-125">Por exemplo, em sistemas que usam inglês americano, o nome de exibição para o \_ privilégio de nome SYSTEMTIME se \_ é "alterar a hora do sistema".</span><span class="sxs-lookup"><span data-stu-id="43827-125">For example, on systems that use U.S. English, the display name for the SE\_SYSTEMTIME\_NAME privilege is "Change the system time".</span></span>

<span data-ttu-id="43827-126">Você pode usar a função [**PrivilegeCheck**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) para determinar se um token de acesso contém um conjunto especificado de privilégios.</span><span class="sxs-lookup"><span data-stu-id="43827-126">You can use the [**PrivilegeCheck**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-privilegecheck) function to determine whether an access token holds a specified set of privileges.</span></span> <span data-ttu-id="43827-127">Isso é útil principalmente para aplicativos de servidor que estão representando um cliente.</span><span class="sxs-lookup"><span data-stu-id="43827-127">This is useful primarily to server applications that are impersonating a client.</span></span>

<span data-ttu-id="43827-128">Um administrador de sistema pode usar ferramentas administrativas, como o Gerenciador de usuários, para adicionar ou remover privilégios para contas de usuário e de grupo.</span><span class="sxs-lookup"><span data-stu-id="43827-128">A system administrator can use administrative tools, such as User Manager, to add or remove privileges for user and group accounts.</span></span> <span data-ttu-id="43827-129">Os administradores podem usar programaticamente as funções de [*autoridade de segurança local*](/windows/desktop/SecGloss/l-gly) (LSA) para trabalhar com privilégios.</span><span class="sxs-lookup"><span data-stu-id="43827-129">Administrators can programmatically use the [*Local Security Authority*](/windows/desktop/SecGloss/l-gly) (LSA) functions to work with privileges.</span></span> <span data-ttu-id="43827-130">As funções [**LsaAddAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights) e [**LsaRemoveAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights) adicionam ou removem privilégios de uma conta.</span><span class="sxs-lookup"><span data-stu-id="43827-130">The [**LsaAddAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaaddaccountrights) and [**LsaRemoveAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaremoveaccountrights) functions add or remove privileges from an account.</span></span> <span data-ttu-id="43827-131">A função [**LsaEnumerateAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights) enumera os privilégios mantidos por uma conta especificada.</span><span class="sxs-lookup"><span data-stu-id="43827-131">The [**LsaEnumerateAccountRights**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountrights) function enumerates the privileges held by a specified account.</span></span> <span data-ttu-id="43827-132">A função [**LsaEnumerateAccountsWithUserRight**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright) enumera as contas que mantêm um privilégio especificado.</span><span class="sxs-lookup"><span data-stu-id="43827-132">The [**LsaEnumerateAccountsWithUserRight**](/windows/desktop/api/ntsecapi/nf-ntsecapi-lsaenumerateaccountswithuserright) function enumerates the accounts that hold a specified privilege.</span></span>

## <a name="related-topics"></a><span data-ttu-id="43827-133">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="43827-133">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="43827-134">Constantes de autorização</span><span class="sxs-lookup"><span data-stu-id="43827-134">Authorization Constants</span></span>](authorization-constants.md)
</dt> <dt>

[<span data-ttu-id="43827-135">Habilitando e desabilitando privilégios em C++</span><span class="sxs-lookup"><span data-stu-id="43827-135">Enabling and Disabling Privileges in C++</span></span>](enabling-and-disabling-privileges-in-c--.md)
</dt> </dl>

 

 
