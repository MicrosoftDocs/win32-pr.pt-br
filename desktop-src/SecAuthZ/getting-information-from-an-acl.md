---
description: São fornecidas várias funções que recuperam informações de controle de acesso de uma ACL (lista de controle de acesso).
ms.assetid: a0839c49-09e9-4407-8702-051b88ef2231
title: Obtendo informações de uma ACL
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f87aebc2bc9b05191b5026b990714c2519091be
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104171246"
---
# <a name="getting-information-from-an-acl"></a><span data-ttu-id="020e1-103">Obtendo informações de uma ACL</span><span class="sxs-lookup"><span data-stu-id="020e1-103">Getting Information from an ACL</span></span>

<span data-ttu-id="020e1-104">São fornecidas várias funções que recuperam informações de controle de acesso de uma ACL ( [*lista de controle de acesso*](/windows/desktop/SecGloss/a-gly) ).</span><span class="sxs-lookup"><span data-stu-id="020e1-104">Several functions are provided that retrieve access control information from an [*access control list*](/windows/desktop/SecGloss/a-gly) (ACL).</span></span> <span data-ttu-id="020e1-105">Isso inclui funções para determinar os direitos de acesso que uma ACL concede ou audita para um [confiável](trustees.md)especificado.</span><span class="sxs-lookup"><span data-stu-id="020e1-105">These include functions for determining the access rights that an ACL grants or audits for a specified [trustee](trustees.md).</span></span> <span data-ttu-id="020e1-106">Outras funções permitem que você extraia informações sobre as ACEs ( [*entradas de controle de acesso*](/windows/desktop/SecGloss/a-gly) ) em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="020e1-106">Other functions enable you to extract information about the [*access control entries*](/windows/desktop/SecGloss/a-gly) (ACEs) in an ACL.</span></span>

<span data-ttu-id="020e1-107">A função [**GetExplicitEntriesFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getexplicitentriesfromacla) recupera uma matriz de estruturas de [**\_ acesso explícita**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) que DESCREVEM as ACEs em uma ACL.</span><span class="sxs-lookup"><span data-stu-id="020e1-107">The [**GetExplicitEntriesFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getexplicitentriesfromacla) function retrieves an array of [**EXPLICIT\_ACCESS**](/windows/desktop/api/AccCtrl/ns-accctrl-explicit_access_a) structures that describe the ACEs in an ACL.</span></span> <span data-ttu-id="020e1-108">Isso pode ser útil ao copiar informações de ACE de uma ACL para outra.</span><span class="sxs-lookup"><span data-stu-id="020e1-108">This can be useful when copying ACE information from one ACL to another.</span></span> <span data-ttu-id="020e1-109">Por exemplo, uma chamada para **GetExplicitEntriesFromAcl** para obter informações sobre as ACEs em uma ACL pode ser seguida passando as estruturas de **\_ acesso explícita** retornadas em uma chamada para a função [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) para criar ACEs equivalentes em uma nova ACL.</span><span class="sxs-lookup"><span data-stu-id="020e1-109">For example, a call to **GetExplicitEntriesFromAcl** to get information about the ACEs in one ACL can be followed by passing the returned **EXPLICIT\_ACCESS** structures in a call to the [**SetEntriesInAcl**](/windows/desktop/api/Aclapi/nf-aclapi-setentriesinacla) function to create equivalent ACEs in a new ACL.</span></span>

<span data-ttu-id="020e1-110">A função [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) permite que você determine os direitos de acesso efetivos que uma DACL concede a um confiável especificado.</span><span class="sxs-lookup"><span data-stu-id="020e1-110">The [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) function enables you to determine the effective access rights that a DACL grants to a specified trustee.</span></span> <span data-ttu-id="020e1-111">Os direitos de acesso efetivos do Trustee são os direitos de acesso que uma DACL concede ao Trustee ou a qualquer grupo do qual o confiável é membro.</span><span class="sxs-lookup"><span data-stu-id="020e1-111">The trustee's effective access rights are the access rights that a DACL grants to the trustee or to any groups of which the trustee is a member.</span></span> <span data-ttu-id="020e1-112">**GetEffectiveRightsFromAcl** verifica todas as ACEs de acesso permitido e negado pelo acesso na DACL especificada.</span><span class="sxs-lookup"><span data-stu-id="020e1-112">**GetEffectiveRightsFromAcl** checks all access-allowed and access-denied ACEs in the specified DACL.</span></span>

<span data-ttu-id="020e1-113">**Use as etapas a seguir para determinar os direitos de acesso de um objeto de confiança para um Object**</span><span class="sxs-lookup"><span data-stu-id="020e1-113">**Use the following steps to determine a trustee's access rights to an object**</span></span>

1.  <span data-ttu-id="020e1-114">Chame a função [**GetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) ou [**GetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) para obter um ponteiro para a DACL de um objeto.</span><span class="sxs-lookup"><span data-stu-id="020e1-114">Call the [**GetSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getsecurityinfo) or [**GetNamedSecurityInfo**](/windows/desktop/api/Aclapi/nf-aclapi-getnamedsecurityinfoa) function to get a pointer to an object's DACL.</span></span>
2.  <span data-ttu-id="020e1-115">Chame a função [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) para recuperar os direitos de acesso que a DACL concede a um confiável especificado.</span><span class="sxs-lookup"><span data-stu-id="020e1-115">Call the [**GetEffectiveRightsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-geteffectiverightsfromacla) function to retrieve the access rights that the DACL grants to a specified trustee.</span></span>

<span data-ttu-id="020e1-116">A função [**GetAuditedPermissionsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getauditedpermissionsfromacla) permite que você verifique uma SACL para determinar os direitos de acesso auditados para um confiável especificado ou para qualquer grupo do qual o confiável seja membro.</span><span class="sxs-lookup"><span data-stu-id="020e1-116">The [**GetAuditedPermissionsFromAcl**](/windows/desktop/api/Aclapi/nf-aclapi-getauditedpermissionsfromacla) function enables you to check a SACL to determine the audited access rights for a specified trustee or for any groups of which the trustee is a member.</span></span> <span data-ttu-id="020e1-117">Os direitos auditados indicam os tipos de tentativas de acesso que fazem com que o sistema gere um registro de auditoria no log de eventos de segurança.</span><span class="sxs-lookup"><span data-stu-id="020e1-117">The audited rights indicate the types of access attempts that cause the system to generate an audit record in the security event log.</span></span> <span data-ttu-id="020e1-118">A função retorna duas [*máscaras de acesso*](/windows/desktop/SecGloss/a-gly): uma contendo os direitos de acesso monitorados para tentativas de acesso com falha e outra que contém os direitos de acesso monitorados para acesso bem-sucedido.</span><span class="sxs-lookup"><span data-stu-id="020e1-118">The function returns two [*access masks*](/windows/desktop/SecGloss/a-gly): one containing the access rights monitored for failed access attempts, and another containing the access rights monitored for successful access.</span></span> <span data-ttu-id="020e1-119">**GetAuditedPermissionsFromAcl** verifica todas as ACEs de auditoria do sistema em uma SACL.</span><span class="sxs-lookup"><span data-stu-id="020e1-119">**GetAuditedPermissionsFromAcl** checks all system-audit ACEs in a SACL.</span></span>

 

 
