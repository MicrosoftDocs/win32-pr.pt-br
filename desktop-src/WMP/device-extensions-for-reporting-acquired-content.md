---
title: Extensões de dispositivo para relatórios de conteúdo adquirido
description: Extensões de dispositivo para relatórios de conteúdo adquirido
ms.assetid: 597d872e-9105-4edb-afa3-9f4407de0f73
keywords:
- Windows Media Player, extensões de dispositivo
- Windows Media Player, extensões
- Windows Media Player, relatando conteúdo adquirido
- extensões de dispositivo, relatórios de conteúdo adquirido
- extensões, relatando conteúdo adquirido
- relatando conteúdo adquirido
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 831312457427cc9fe4ceed004772f3b174f77989
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "105758224"
---
# <a name="device-extensions-for-reporting-acquired-content"></a><span data-ttu-id="29874-109">Extensões de dispositivo para relatórios de conteúdo adquirido</span><span class="sxs-lookup"><span data-stu-id="29874-109">Device Extensions for Reporting Acquired Content</span></span>

<span data-ttu-id="29874-110">O Windows Media Player 11 apresenta uma nova funcionalidade que permite que os dispositivos portáteis notifiquem o Player sobre o conteúdo adicionado ao dispositivo desde a última sincronização.</span><span class="sxs-lookup"><span data-stu-id="29874-110">Windows Media Player 11 introduces new functionality that enables portable devices to notify the Player about content added to the device since the last synchronization.</span></span> <span data-ttu-id="29874-111">O Windows Media Player 11 pode usar essas informações para copiar o conteúdo adquirido recentemente do dispositivo para o computador do usuário.</span><span class="sxs-lookup"><span data-stu-id="29874-111">Windows Media Player 11 can use this information to copy newly acquired content from the device to the user's computer.</span></span> <span data-ttu-id="29874-112">Os fabricantes de dispositivos devem observar os seguintes requisitos para dar suporte a essa funcionalidade:</span><span class="sxs-lookup"><span data-stu-id="29874-112">Device manufacturers should note the following requirements for supporting this functionality:</span></span>

-   <span data-ttu-id="29874-113">Esse recurso tem suporte apenas para dispositivos habilitados para MTP.</span><span class="sxs-lookup"><span data-stu-id="29874-113">This feature is supported only for MTP-enabled devices.</span></span>
-   <span data-ttu-id="29874-114">Esse recurso funciona apenas com dispositivos que têm uma parceria com o Windows Media Player.</span><span class="sxs-lookup"><span data-stu-id="29874-114">This feature works only with devices that have a partnership with Windows Media Player.</span></span>
-   <span data-ttu-id="29874-115">Os dispositivos devem relatar apenas o conteúdo que o dispositivo criou ou baixou.</span><span class="sxs-lookup"><span data-stu-id="29874-115">Devices must report only content that the device authored or downloaded.</span></span> <span data-ttu-id="29874-116">Isso inclui fotos tiradas pelo dispositivo; gravações de voz criadas pelo dispositivo; gravações de caixa postal; downloads de um cartão de memória; e downloads da Internet.</span><span class="sxs-lookup"><span data-stu-id="29874-116">This includes photos taken by the device; voice recordings created by the device; voicemail recordings; downloads from a storage card; and downloads from the Internet.</span></span> <span data-ttu-id="29874-117">O conteúdo que foi armazenado no dispositivo como resultado da sincronização com outro dispositivo ou uma parceria diferente não deve ser relatado.</span><span class="sxs-lookup"><span data-stu-id="29874-117">Content that was stored on the device as a result of synchronization with another device or a different partnership must not be reported.</span></span>

<span data-ttu-id="29874-118">O arquivo de cabeçalho chamado wmpdevices. h, que é instalado como parte do SDK do Windows Media Player, define as estruturas e as constantes necessárias para dar suporte às extensões de dispositivo do Windows Media Player.</span><span class="sxs-lookup"><span data-stu-id="29874-118">The header file named wmpdevices.h, which is installed as part of the Windows Media Player SDK, defines the structures and constants needed to support Windows Media Player device extensions.</span></span>

<span data-ttu-id="29874-119">Para que um dispositivo seja reconhecido como compatível com o relatório de conteúdo adquirido por meio do conjunto de extensão de dispositivo MTP do Windows Media Player, ele deve incluir as seguintes informações no conjunto de dados DeviceInfo.</span><span class="sxs-lookup"><span data-stu-id="29874-119">For a device to be recognized as supporting the reporting of acquired content through the Windows Media Player MTP device extension set, it must include the following information in the DeviceInfo dataset.</span></span> <span data-ttu-id="29874-120">(Para obter mais informações sobre esse conjunto de dados, consulte a seção 4.6.1 da especificação do MTP.)</span><span class="sxs-lookup"><span data-stu-id="29874-120">(For more information about this dataset, see section 4.6.1 of the MTP specification.)</span></span>



| <span data-ttu-id="29874-121">Campo de conjunto de</span><span class="sxs-lookup"><span data-stu-id="29874-121">Dataset field</span></span>          | <span data-ttu-id="29874-122">Ordem dos campos</span><span class="sxs-lookup"><span data-stu-id="29874-122">Field order</span></span> | <span data-ttu-id="29874-123">Tipo de dados</span><span class="sxs-lookup"><span data-stu-id="29874-123">Data type</span></span>  | <span data-ttu-id="29874-124">Valor</span><span class="sxs-lookup"><span data-stu-id="29874-124">Value</span></span>                       |
|------------------------|-------------|------------|-----------------------------|
| <span data-ttu-id="29874-125">VendorExtensionID</span><span class="sxs-lookup"><span data-stu-id="29874-125">VendorExtensionID</span></span>      | <span data-ttu-id="29874-126">2</span><span class="sxs-lookup"><span data-stu-id="29874-126">2</span></span>           | <span data-ttu-id="29874-127">**UINT32**</span><span class="sxs-lookup"><span data-stu-id="29874-127">**UINT32**</span></span> | <span data-ttu-id="29874-128">0x00000006</span><span class="sxs-lookup"><span data-stu-id="29874-128">0x00000006</span></span>                  |
| <span data-ttu-id="29874-129">VendorExtensionVersion</span><span class="sxs-lookup"><span data-stu-id="29874-129">VendorExtensionVersion</span></span> | <span data-ttu-id="29874-130">3</span><span class="sxs-lookup"><span data-stu-id="29874-130">3</span></span>           | <span data-ttu-id="29874-131">**UINT16**</span><span class="sxs-lookup"><span data-stu-id="29874-131">**UINT16**</span></span> | <span data-ttu-id="29874-132">0x0064 (100)</span><span class="sxs-lookup"><span data-stu-id="29874-132">0x0064 (100)</span></span>                |
| <span data-ttu-id="29874-133">VendorExtensionDesc</span><span class="sxs-lookup"><span data-stu-id="29874-133">VendorExtensionDesc</span></span>    | <span data-ttu-id="29874-134">4</span><span class="sxs-lookup"><span data-stu-id="29874-134">4</span></span>           | <span data-ttu-id="29874-135">**Cadeia de caracteres**</span><span class="sxs-lookup"><span data-stu-id="29874-135">**String**</span></span> | <span data-ttu-id="29874-136">"microsoft.com/WMPPD: 11,0"</span><span class="sxs-lookup"><span data-stu-id="29874-136">"microsoft.com/WMPPD: 11.0"</span></span> |



 

<span data-ttu-id="29874-137">A tabela a seguir fornece detalhes sobre a operação de MTP para relatar conteúdo adquirido.</span><span class="sxs-lookup"><span data-stu-id="29874-137">The following table provides details about the MTP operation for reporting acquired content.</span></span>



| <span data-ttu-id="29874-138">Item</span><span class="sxs-lookup"><span data-stu-id="29874-138">Item</span></span>                  | <span data-ttu-id="29874-139">Descrição</span><span class="sxs-lookup"><span data-stu-id="29874-139">Description</span></span>                                                                                                                                                                                                                     |
|-----------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="29874-140">Código da operação</span><span class="sxs-lookup"><span data-stu-id="29874-140">Operation Code</span></span>        | <span data-ttu-id="29874-141">0x9202</span><span class="sxs-lookup"><span data-stu-id="29874-141">0x9202</span></span>                                                                                                                                                                                                                          |
| <span data-ttu-id="29874-142">Parâmetro de operação 1</span><span class="sxs-lookup"><span data-stu-id="29874-142">Operation Parameter 1</span></span> | <span data-ttu-id="29874-143">A ID da transação fornecida pelo dispositivo durante a sessão anterior.</span><span class="sxs-lookup"><span data-stu-id="29874-143">The transaction ID supplied by the device during the previous session.</span></span> <span data-ttu-id="29874-144">Esse valor é zero para a primeira sessão.</span><span class="sxs-lookup"><span data-stu-id="29874-144">This value is zero for the first session.</span></span>                                                                                                                |
| <span data-ttu-id="29874-145">Parâmetro de operação 2</span><span class="sxs-lookup"><span data-stu-id="29874-145">Operation Parameter 2</span></span> | <span data-ttu-id="29874-146">Índice inicial.</span><span class="sxs-lookup"><span data-stu-id="29874-146">Starting index.</span></span> <span data-ttu-id="29874-147">Esse valor é sempre zero na primeira chamada de uma sessão.</span><span class="sxs-lookup"><span data-stu-id="29874-147">This value is always zero on the first call of a session.</span></span> <span data-ttu-id="29874-148">Em chamadas subsequentes dentro da mesma sessão de sincronização, esse valor aumenta pela contagem dos itens retornados dos dados de resposta anteriores.</span><span class="sxs-lookup"><span data-stu-id="29874-148">On subsequent calls within the same synchronization session, this value increases by the count of the items returned from the previous response data.</span></span> |
| <span data-ttu-id="29874-149">Parâmetro de operação 3</span><span class="sxs-lookup"><span data-stu-id="29874-149">Operation Parameter 3</span></span> | <span data-ttu-id="29874-150">0x10000.</span><span class="sxs-lookup"><span data-stu-id="29874-150">0x10000.</span></span> <span data-ttu-id="29874-151">Essa constante, definida em wmpdevices. h, é o número máximo de PUOIDs que podem ser retornados na resposta.</span><span class="sxs-lookup"><span data-stu-id="29874-151">This constant, defined in wmpdevices.h, is the maximum number of PUOIDs that can be returned in the response.</span></span> <span data-ttu-id="29874-152">Observe que o valor dessa constante pode ser revisado em versões futuras desse arquivo de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="29874-152">Note that the value of this constant may be revised in future releases of this header file.</span></span>              |
| <span data-ttu-id="29874-153">Parâmetro de operação 4</span><span class="sxs-lookup"><span data-stu-id="29874-153">Operation Parameter 4</span></span> | <span data-ttu-id="29874-154">0</span><span class="sxs-lookup"><span data-stu-id="29874-154">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="29874-155">Parâmetro de operação 5</span><span class="sxs-lookup"><span data-stu-id="29874-155">Operation Parameter 5</span></span> | <span data-ttu-id="29874-156">0</span><span class="sxs-lookup"><span data-stu-id="29874-156">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="29874-157">Dados</span><span class="sxs-lookup"><span data-stu-id="29874-157">Data</span></span>                  | <span data-ttu-id="29874-158">O dispositivo retorna uma matriz de MTP que contém PUOIDs que foram adquiridos.</span><span class="sxs-lookup"><span data-stu-id="29874-158">The device returns an MTP array containing PUOIDs that have been acquired.</span></span> <span data-ttu-id="29874-159">A matriz começa com um valor **DWORD** que indica a contagem de itens na matriz, seguida pela matriz de elementos.</span><span class="sxs-lookup"><span data-stu-id="29874-159">The array begins with a **DWORD** value indicating the count of items in the array, followed by the array of elements.</span></span>                               |
| <span data-ttu-id="29874-160">Direção dos dados</span><span class="sxs-lookup"><span data-stu-id="29874-160">Data Direction</span></span>        | <span data-ttu-id="29874-161">R->I</span><span class="sxs-lookup"><span data-stu-id="29874-161">R->I</span></span>                                                                                                                                                                                                                         |
| <span data-ttu-id="29874-162">Opções de código de resposta</span><span class="sxs-lookup"><span data-stu-id="29874-162">Response Code Options</span></span> | <span data-ttu-id="29874-163">**MTP \_ RESPOSTA \_ OK** (0x2001) ou código de resposta de erro válido.</span><span class="sxs-lookup"><span data-stu-id="29874-163">**MTP\_RESPONSE\_OK** (0x2001) or valid error response code.</span></span>                                                                                                                                                                    |
| <span data-ttu-id="29874-164">Parâmetro de resposta 1</span><span class="sxs-lookup"><span data-stu-id="29874-164">Response Parameter 1</span></span>  | <span data-ttu-id="29874-165">A ID da transação atual.</span><span class="sxs-lookup"><span data-stu-id="29874-165">The current transaction ID.</span></span>                                                                                                                                                                                                     |
| <span data-ttu-id="29874-166">Parâmetro de resposta 2</span><span class="sxs-lookup"><span data-stu-id="29874-166">Response Parameter 2</span></span>  | <span data-ttu-id="29874-167">O número de PUOIDs que permanecem para serem recuperadas por solicitações futuras.</span><span class="sxs-lookup"><span data-stu-id="29874-167">The number of PUOIDs that remain to be retrieved by future requests.</span></span>                                                                                                                                                            |
| <span data-ttu-id="29874-168">Parâmetro de resposta 3</span><span class="sxs-lookup"><span data-stu-id="29874-168">Response Parameter 3</span></span>  | <span data-ttu-id="29874-169">**DWORD** que contém informações de status.</span><span class="sxs-lookup"><span data-stu-id="29874-169">**DWORD** containing status information.</span></span> <span data-ttu-id="29874-170">O status é indicado de uma maneira bit a bit.</span><span class="sxs-lookup"><span data-stu-id="29874-170">Status is indicated in a bitwise fashion.</span></span> <span data-ttu-id="29874-171">Consulte comentários para obter informações sobre sinalizadores a serem usados.</span><span class="sxs-lookup"><span data-stu-id="29874-171">See Remarks for information about flags to use.</span></span>                                                                                              |
| <span data-ttu-id="29874-172">Parâmetro de resposta 4</span><span class="sxs-lookup"><span data-stu-id="29874-172">Response Parameter 4</span></span>  | <span data-ttu-id="29874-173">0</span><span class="sxs-lookup"><span data-stu-id="29874-173">0</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="29874-174">Parâmetro de resposta 5</span><span class="sxs-lookup"><span data-stu-id="29874-174">Response Parameter 5</span></span>  | <span data-ttu-id="29874-175">0</span><span class="sxs-lookup"><span data-stu-id="29874-175">0</span></span>                                                                                                                                                                                                                               |



 

## <a name="remarks"></a><span data-ttu-id="29874-176">Comentários</span><span class="sxs-lookup"><span data-stu-id="29874-176">Remarks</span></span>

<span data-ttu-id="29874-177">O status é indicado por meio do parâmetro de resposta 3 de maneira unificada usando o sinalizador a seguir.</span><span class="sxs-lookup"><span data-stu-id="29874-177">Status is indicated through Response Parameter 3 in a bitwise fashion by using the following flag.</span></span>



| <span data-ttu-id="29874-178">Sinalizador</span><span class="sxs-lookup"><span data-stu-id="29874-178">Flag</span></span>                                              | <span data-ttu-id="29874-179">Valor</span><span class="sxs-lookup"><span data-stu-id="29874-179">Value</span></span> | <span data-ttu-id="29874-180">Descrição</span><span class="sxs-lookup"><span data-stu-id="29874-180">Description</span></span>                                                                                                                                                                                                                             |
|---------------------------------------------------|-------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="29874-181">**MDRT do WMP \_ \_ sinalizadores de \_ \_ itens ADQUIRIdos não relatados \_**</span><span class="sxs-lookup"><span data-stu-id="29874-181">**WMP\_MDRT\_FLAGS\_UNREPORTED\_ACQUIRED\_ITEMS**</span></span> | <span data-ttu-id="29874-182">0x1</span><span class="sxs-lookup"><span data-stu-id="29874-182">0x1</span></span>   | <span data-ttu-id="29874-183">O dispositivo contém alguns itens adquiridos que não podem ser retornados na lista de PUOIDS.</span><span class="sxs-lookup"><span data-stu-id="29874-183">The device contains some acquired items that cannot be returned in the list of PUOIDS.</span></span> <span data-ttu-id="29874-184">Observe que esse sinalizador não é redundante com o parâmetro de resposta 2.</span><span class="sxs-lookup"><span data-stu-id="29874-184">Note that this flag is not redundant with Response Parameter 2.</span></span> <span data-ttu-id="29874-185">Defina esse sinalizador somente quando houver itens solicitados que o dispositivo não possa retornar.</span><span class="sxs-lookup"><span data-stu-id="29874-185">Set this flag only when there are requested items that the device cannot return.</span></span> |



 

<span data-ttu-id="29874-186">Os bits de 1 a 31 são reservados para uso futuro.</span><span class="sxs-lookup"><span data-stu-id="29874-186">Bits 1 through 31 are reserved for future use.</span></span> <span data-ttu-id="29874-187">Esses bits devem ser definidos como zero.</span><span class="sxs-lookup"><span data-stu-id="29874-187">These bits should be set to zero.</span></span>

## <a name="related-topics"></a><span data-ttu-id="29874-188">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="29874-188">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="29874-189">**Windows Media Player**</span><span class="sxs-lookup"><span data-stu-id="29874-189">**Windows Media Player**</span></span>](windows-media-player.md)
</dt> </dl>

 

 




