---
title: Renderização de texto com Direct2D e DirectWrite
description: Ao contrário de outras APIs, como GDI, GDI+ ou WPF, o Direct2D interopera com outra API, DirectWrite, para manipular e renderizar texto. Este tópico descreve os benefícios e a interoperação desses componentes separados.
ms.assetid: 1d5b8deb-34e2-433c-8de3-4ef66fb4e49d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e2c49a8f341377bcf78a9a99699a3bd4852411dd
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104563183"
---
# <a name="text-rendering-with-direct2d-and-directwrite"></a><span data-ttu-id="3213b-104">Renderização de texto com Direct2D e DirectWrite</span><span class="sxs-lookup"><span data-stu-id="3213b-104">Text Rendering with Direct2D and DirectWrite</span></span>

<span data-ttu-id="3213b-105">Ao contrário de outras APIs, como [GDI](/windows/desktop/gdi/windows-gdi), GDI+ ou WPF, o [Direct2D](./direct2d-portal.md) interopera com outra API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), para manipular e renderizar texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-105">Unlike other APIs, such as [GDI](/windows/desktop/gdi/windows-gdi), GDI+ or WPF, [Direct2D](./direct2d-portal.md) interoperates with another API, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal), to manipulate and render text.</span></span> <span data-ttu-id="3213b-106">Este tópico descreve os benefícios e a interoperação desses componentes separados.</span><span class="sxs-lookup"><span data-stu-id="3213b-106">This topic describes the benefits and interoperation of these separate components.</span></span>

<span data-ttu-id="3213b-107">Este tópico inclui as seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="3213b-107">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="3213b-108">Direct2D habilita a adoção incremental</span><span class="sxs-lookup"><span data-stu-id="3213b-108">Direct2D Enables Incremental Adoption</span></span>](#direct2d-enables-incremental-adoption)
-   [<span data-ttu-id="3213b-109">Serviços de texto versus renderização de texto</span><span class="sxs-lookup"><span data-stu-id="3213b-109">Text Services versus Text Rendering</span></span>](#text-services-versus-text-rendering)
-   [<span data-ttu-id="3213b-110">Glifos versus texto</span><span class="sxs-lookup"><span data-stu-id="3213b-110">Glyphs versus Text</span></span>](#glyphs-versus-text)
-   [<span data-ttu-id="3213b-111">DirectWrite e Direct2D</span><span class="sxs-lookup"><span data-stu-id="3213b-111">DirectWrite and Direct2D</span></span>](#directwrite-and-direct2d)
    -   [<span data-ttu-id="3213b-112">DrawText</span><span class="sxs-lookup"><span data-stu-id="3213b-112">DrawText</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="3213b-113">DrawTextLayout</span><span class="sxs-lookup"><span data-stu-id="3213b-113">DrawTextLayout</span></span>](#drawtextlayout)
    -   [<span data-ttu-id="3213b-114">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="3213b-114">DrawGlyphRun</span></span>](#drawglyphrun)
-   [<span data-ttu-id="3213b-115">Renderização de glifo</span><span class="sxs-lookup"><span data-stu-id="3213b-115">Glyph Rendering</span></span>](#glyph-rendering)
-   [<span data-ttu-id="3213b-116">Conclusão</span><span class="sxs-lookup"><span data-stu-id="3213b-116">Conclusion</span></span>](#conclusion)

## <a name="direct2d-enables-incremental-adoption"></a><span data-ttu-id="3213b-117">Direct2D habilita a adoção incremental</span><span class="sxs-lookup"><span data-stu-id="3213b-117">Direct2D Enables Incremental Adoption</span></span>

<span data-ttu-id="3213b-118">Mover um aplicativo de uma API de gráficos para outra pode ser difícil ou não o que você deseja por vários motivos.</span><span class="sxs-lookup"><span data-stu-id="3213b-118">Moving an application from one graphics API to another can be difficult or not what you want for various reasons.</span></span> <span data-ttu-id="3213b-119">Isso pode ocorrer porque você precisa dar suporte a plug-ins que ainda usam as interfaces mais antigas, pois o próprio aplicativo é muito grande para portar para uma nova API em uma versão ou porque alguma parte da API mais recente é desejável, mas a API mais antiga está funcionando bem suficiente para outras partes do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3213b-119">This might be because you have to support plug-ins that still take the older interfaces, because the application itself is too large to port over to a new API in one release or because some part of the newer API is desirable but the older API is working well enough for other parts of the application.</span></span>

<span data-ttu-id="3213b-120">Como o [Direct2D](./direct2d-portal.md) e o [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) são implementados como componentes separados, você pode atualizar seu sistema de gráficos 2D inteiro ou apenas a parte do texto dele.</span><span class="sxs-lookup"><span data-stu-id="3213b-120">Because [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) are implemented as separate components, you can upgrade your whole 2D graphics system or just the text part of it.</span></span> <span data-ttu-id="3213b-121">Por exemplo, você pode atualizar um aplicativo para usar DirectWrite para texto, mas ainda usar [GDI](/windows/desktop/gdi/windows-gdi) ou GDI+ para renderização.</span><span class="sxs-lookup"><span data-stu-id="3213b-121">For example, you could update an application to use DirectWrite for text but still use [GDI](/windows/desktop/gdi/windows-gdi) or GDI+ for rendering.</span></span>

## <a name="text-services-versus-text-rendering"></a><span data-ttu-id="3213b-122">Serviços de texto versus renderização de texto</span><span class="sxs-lookup"><span data-stu-id="3213b-122">Text Services versus Text Rendering</span></span>

<span data-ttu-id="3213b-123">À medida que os aplicativos evoluíram, seus requisitos de processamento de texto cresceram cada vez mais complexos.</span><span class="sxs-lookup"><span data-stu-id="3213b-123">As applications have evolved, their text processing requirements have grown increasingly complex.</span></span> <span data-ttu-id="3213b-124">A princípio, o texto geralmente estava confinado à interface do usuário com o layout estático, e o texto foi renderizado em uma caixa bem definida, como um botão.</span><span class="sxs-lookup"><span data-stu-id="3213b-124">At first, text was generally confined to statically laid-out UI, and the text was rendered in a well-defined box, such as a button.</span></span> <span data-ttu-id="3213b-125">À medida que os aplicativos começaram a estar disponíveis em um número cada vez maior de linguagens, essa abordagem tornou-se mais difícil de sustentar, pois a largura e a altura do texto traduzido podem variar significativamente entre os idiomas.</span><span class="sxs-lookup"><span data-stu-id="3213b-125">As applications began to be available in a growing number of languages, this approach became more difficult to sustain because both the width and height of the translated text can vary significantly between languages.</span></span> <span data-ttu-id="3213b-126">Para adaptar-se, os aplicativos começaram a definir dinamicamente sua interface do usuário para depender do tamanho real renderizado do texto, em vez do contrário.</span><span class="sxs-lookup"><span data-stu-id="3213b-126">To adapt, applications started to dynamically lay out their UI to depend on the actual rendered size of the text, instead of the other way around.</span></span>

<span data-ttu-id="3213b-127">Para ajudar os aplicativos a concluir essa tarefa, o [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) fornece a interface [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) .</span><span class="sxs-lookup"><span data-stu-id="3213b-127">To help applications complete this task, [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides the [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) interface.</span></span> <span data-ttu-id="3213b-128">Essa API permite que um aplicativo especifique uma parte do texto com características complexas, como diferentes fontes e tamanhos de fonte, sublinhados, tachados, texto bidirecional, efeitos, reticências e até mesmo caracteres sem glifos incorporados (como um emoticon de bitmap ou um ícone).</span><span class="sxs-lookup"><span data-stu-id="3213b-128">This API enables an application to specify a piece of text with complex characteristics such as different fonts and font sizes, underlines, strikethroughs, bi-directional text, effects, ellipsis and even embedded non-glyph characters (such as a bitmap emoticon or an icon).</span></span> <span data-ttu-id="3213b-129">O aplicativo pode então alterar várias características do texto conforme ele determina iterativamente seu layout de interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="3213b-129">The application can then change various characteristics of the text as it iteratively determines its UI layout.</span></span> <span data-ttu-id="3213b-130">O [exemplo de Olá, mundo DirectWrite](/samples/browse/?redirectedfrom=MSDN-samples), que é mostrado na ilustração a seguir e no tópico [tutorial: introdução com DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) , mostra muitos desses efeitos.</span><span class="sxs-lookup"><span data-stu-id="3213b-130">The [DirectWrite Hello World Sample](/samples/browse/?redirectedfrom=MSDN-samples), which is shown in the following illustration and in the [Tutorial: Getting Started with DirectWrite](/windows/desktop/DirectWrite/getting-started-with-directwrite) topic, shows many of these effects.</span></span>

![captura de tela do exemplo "Olá, mundo".](images/dwrite-hello-world.png)

<span data-ttu-id="3213b-132">O layout pode posicionar os glifos de maneira ideal com base em suas larguras (como o WPF faz), ou pode ajustar os glifos para as posições de pixel mais próximas (como a [GDI](/windows/desktop/gdi/windows-gdi) faz).</span><span class="sxs-lookup"><span data-stu-id="3213b-132">The layout can either position the glyphs ideally based on their widths (as WPF does), or it can snap the glyphs to the nearest pixel positions (as [GDI](/windows/desktop/gdi/windows-gdi) does).</span></span>

<span data-ttu-id="3213b-133">Além de obter medidas de texto, o aplicativo pode clicar em testar várias partes do texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-133">In addition to obtaining text measurements, the application can hit test various parts of the text.</span></span> <span data-ttu-id="3213b-134">Por exemplo, talvez você queira saber que um hiperlink no texto é clicado.</span><span class="sxs-lookup"><span data-stu-id="3213b-134">For example, it might want to know that a hyperlink in the text is clicked.</span></span> <span data-ttu-id="3213b-135">(Para obter mais informações sobre testes de clique, consulte o tópico [como executar testes de clique em um layout de texto](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) .)</span><span class="sxs-lookup"><span data-stu-id="3213b-135">(For more information about hit testing, see the [How to Perform Hit Testing on a Text Layout](/windows/desktop/DirectWrite/how-to-perform-hit-testing-on-a-text-layout) topic.)</span></span>

<span data-ttu-id="3213b-136">A interface de layout de texto é dissociada da API de renderização usada pelo aplicativo, como mostra o diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="3213b-136">The text layout interface is decoupled from the rendering API that the application uses, as the following diagram shows:</span></span>

![layout de texto e diagrama de API de gráficos.](images/direct2d-directwrite1.png)

<span data-ttu-id="3213b-138">Essa separação é possível porque o DirectWrite fornece uma [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)(interface de renderização) que os aplicativos podem implementar para renderizar texto usando qualquer API gráfica que você desejar.</span><span class="sxs-lookup"><span data-stu-id="3213b-138">This separation is possible because DirectWrite provides a rendering interface ([**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer)) that applications can implement to render text by using whatever graphics API you want.</span></span> <span data-ttu-id="3213b-139">O aplicativo implementou [**IDWriteTextRenderer::D**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) método de retorno de chamada rawglyphrun é chamado por DirectWrite ao renderizar um layout de texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-139">The application implemented [**IDWriteTextRenderer::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) callback method is called by DirectWrite when rendering a text layout.</span></span> <span data-ttu-id="3213b-140">É responsabilidade desse método executar as operações de desenho ou passá-las.</span><span class="sxs-lookup"><span data-stu-id="3213b-140">It is the responsibility of this method to perform the drawing operations or pass them along.</span></span>

<span data-ttu-id="3213b-141">Para glifos de desenho, [Direct2D](./direct2d-portal.md) fornece [**ID2D1RenderTarget::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) para desenhar em uma superfície Direct2D e [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) fornece [**IDWriteBitmapRenderTarget::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) para desenhar em uma superfície GDI que pode ser transferida para uma janela usando GDI.</span><span class="sxs-lookup"><span data-stu-id="3213b-141">For drawing glyphs, [Direct2D](./direct2d-portal.md) provides [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) for drawing to a Direct2D surface and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) provides [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) for drawing to a GDI surface that can then be transferred to a window by using GDI.</span></span> <span data-ttu-id="3213b-142">Convenientemente, **DrawGlyphRun** em Direct2D e DirectWrite têm parâmetros exatamente compatíveis com o método [**DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) que o aplicativo implementa em [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer).</span><span class="sxs-lookup"><span data-stu-id="3213b-142">Conveniently, **DrawGlyphRun** in both Direct2D and DirectWrite have exactly compatible parameters to the [**DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritetextrenderer-drawglyphrun) method that the application implements on [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer).</span></span>

<span data-ttu-id="3213b-143">Após uma separação semelhante, recursos específicos de texto (como enumeração de fontes e gerenciamento, análise de glifo e assim por diante) são tratados por [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) em vez de [Direct2D](./direct2d-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3213b-143">Following a similar separation, text-specific features (such as font enumeration and management, glyph analysis, and so on) are handled by [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) instead of [Direct2D](./direct2d-portal.md).</span></span> <span data-ttu-id="3213b-144">Os objetos DirectWrite são aceitos diretamente pelo Direct2D.</span><span class="sxs-lookup"><span data-stu-id="3213b-144">The DirectWrite objects are accepted directly by Direct2D.</span></span> <span data-ttu-id="3213b-145">Para ajudar os aplicativos GDI existentes a tirar proveito do DirectWrite, ele fornece a interface do método [**IDWriteGdiInterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) com métodos para fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="3213b-145">To help existing GDI applications to take advantage of DirectWrite, it provides the [**IDWriteGdiInterop**](/windows/desktop/api/dwrite/nn-dwrite-idwritegdiinterop) method interface with methods to do the following:</span></span>

-   <span data-ttu-id="3213b-146">Criar uma fonte [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) de uma fonte lógica [GDI](/windows/desktop/gdi/windows-gdi) ([**CreateFontFromLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)).</span><span class="sxs-lookup"><span data-stu-id="3213b-146">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font from a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**CreateFontFromLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfromlogfont)).</span></span>
-   <span data-ttu-id="3213b-147">Converter de uma face de fonte [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) para uma fonte lógica [GDI](/windows/desktop/gdi/windows-gdi) ([**ConvertFontFaceToLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span><span class="sxs-lookup"><span data-stu-id="3213b-147">Convert from a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face to a [GDI](/windows/desktop/gdi/windows-gdi) Logical Font ([**ConvertFontFaceToLOGFONT**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-convertfontfacetologfont)).</span></span>
-   <span data-ttu-id="3213b-148">Recupere a face de fonte [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) da que está selecionada em um hDC.</span><span class="sxs-lookup"><span data-stu-id="3213b-148">Retrieve the [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) Font Face from the one that is selected into an HDC.</span></span> <span data-ttu-id="3213b-149">([**CreateFontFaceFromHdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span><span class="sxs-lookup"><span data-stu-id="3213b-149">([**CreateFontFaceFromHdc**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createfontfacefromhdc))</span></span>
-   <span data-ttu-id="3213b-150">Criar um [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) [**bitmap renderizar destino**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) na memória do sistema ([**CreateBitmapRenderTarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)).</span><span class="sxs-lookup"><span data-stu-id="3213b-150">Create a [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) [**bitmap render target**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in system memory ([**CreateBitmapRenderTarget**](/windows/desktop/api/dwrite/nf-dwrite-idwritegdiinterop-createbitmaprendertarget)).</span></span>

## <a name="glyphs-versus-text"></a><span data-ttu-id="3213b-151">Glifos versus texto</span><span class="sxs-lookup"><span data-stu-id="3213b-151">Glyphs versus Text</span></span>

<span data-ttu-id="3213b-152">Texto é um conjunto de pontos de código Unicode (caracteres), com vários modificadores estilísticos (fontes, pesos, sublinhados, tachados e assim por diante) que são dispostos em um retângulo.</span><span class="sxs-lookup"><span data-stu-id="3213b-152">Text is a set of Unicode code points (characters), with various stylistic modifiers (fonts, weights, underlines, strikethroughs, and so on) that is laid out in a rectangle.</span></span> <span data-ttu-id="3213b-153">Um glifo, por outro lado, é um índice específico em um arquivo de fonte específico.</span><span class="sxs-lookup"><span data-stu-id="3213b-153">A glyph, in contrast, is a particular index into a particular font file.</span></span> <span data-ttu-id="3213b-154">Um glifo define um conjunto de curvas que pode ser renderizado, mas não tem nenhum significado textual.</span><span class="sxs-lookup"><span data-stu-id="3213b-154">A glyph defines a set of curves which can be rendered, but, it doesn't have any textual meaning.</span></span> <span data-ttu-id="3213b-155">Há potencialmente um mapeamento muitos para muitos entre glifos e caracteres.</span><span class="sxs-lookup"><span data-stu-id="3213b-155">There is potentially a many-to-many mapping between glyphs and characters.</span></span> <span data-ttu-id="3213b-156">Uma sequência de glifos que vêm da mesma face de fonte e que são dispostos em sequência em uma linha de base é chamada de [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs).</span><span class="sxs-lookup"><span data-stu-id="3213b-156">A sequence of glyphs that come from the same Font Face and that are laid-out sequentially on a baseline is called a [GlyphRun](/windows/desktop/DirectWrite/glyphs-and-glyph-runs).</span></span> <span data-ttu-id="3213b-157">O [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) e o [Direct2D](./direct2d-portal.md) chamam seus [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) de API de renderização de glifo mais precisos e têm assinaturas muito semelhantes.</span><span class="sxs-lookup"><span data-stu-id="3213b-157">Both [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and [Direct2D](./direct2d-portal.md) call their most precise glyph rendering API [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and they have very similar signatures.</span></span> <span data-ttu-id="3213b-158">O seguinte é de [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) em Direct2D:</span><span class="sxs-lookup"><span data-stu-id="3213b-158">The following is from [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) in Direct2D:</span></span>


```
STDMETHOD_(void, DrawGlyphRun)(
        D2D1_POINT_2F baselineOrigin,
        __in CONST DWRITE_GLYPH_RUN *glyphRun,
        __in ID2D1Brush *foregroundBrush,
        DWRITE_MEASURING_MODE measuringMode = DWRITE_MEASURING_MODE_NATURAL 
        ) PURE;
```



<span data-ttu-id="3213b-159">E esse método é de [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) em [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal):</span><span class="sxs-lookup"><span data-stu-id="3213b-159">And this method is from [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) in [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal):</span></span>


```
STDMETHOD(DrawGlyphRun)(
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        IDWriteRenderingParams* renderingParams,
        COLORREF textColor,
        __out_opt RECT* blackBoxRect = NULL
        ) PURE;
```



<span data-ttu-id="3213b-160">A versão [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) mantém a origem da linha de base, o modo de medição e os parâmetros de execução de glifo e inclui parâmetros adicionais.</span><span class="sxs-lookup"><span data-stu-id="3213b-160">The [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) version keeps the baseline origin, measuring mode and the glyph run parameters and includes additional parameters.</span></span>

<span data-ttu-id="3213b-161">O [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) também permite que você use um renderizador personalizado para glifos implementando a interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) .</span><span class="sxs-lookup"><span data-stu-id="3213b-161">[DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) also enables you to use a custom renderer for glyphs by implementing the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span> <span data-ttu-id="3213b-162">Essa interface também tem um método **DrawGlyphRun** , como mostra o exemplo de código a seguir.</span><span class="sxs-lookup"><span data-stu-id="3213b-162">This interface also has a **DrawGlyphRun** method, as the following code example shows.</span></span>


```
STDMETHOD(DrawGlyphRun)(
        __maybenull void* clientDrawingContext,
        FLOAT baselineOriginX,
        FLOAT baselineOriginY,
        DWRITE_MEASURING_MODE measuringMode,
        __in DWRITE_GLYPH_RUN const* glyphRun,
        __in DWRITE_GLYPH_RUN_DESCRIPTION const* glyphRunDescription,
        __maybenull IUnknown* clientDrawingEffect
        ) PURE;
```



<span data-ttu-id="3213b-163">Essa versão inclui mais parâmetros que são úteis quando você implementa um [processador de texto personalizado](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer).</span><span class="sxs-lookup"><span data-stu-id="3213b-163">This version includes more parameters that are useful when you implement a [custom text renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer).</span></span> <span data-ttu-id="3213b-164">O parâmetro final é usado para efeitos de desenho personalizados implementados pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3213b-164">The final parameter is used for application-implemented custom drawing effects.</span></span> <span data-ttu-id="3213b-165">(Para obter mais informações sobre os efeitos de desenho do cliente, consulte [como adicionar efeitos de desenho de cliente a um layout de texto](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span><span class="sxs-lookup"><span data-stu-id="3213b-165">(For more information about client drawing effects see [How to Add Client Drawing Effects to a Text Layout](/windows/desktop/DirectWrite/how-to-add-custom-drawing-efffects-to-a-text-layout).</span></span>

<span data-ttu-id="3213b-166">Cada execução de glifo começa em uma origem e é colocada em uma linha que começa dessa origem.</span><span class="sxs-lookup"><span data-stu-id="3213b-166">Each glyph run starts at an origin and is put on a line starting from this origin.</span></span> <span data-ttu-id="3213b-167">Os glifos são alterados pela transformação do mundo atual e pelas configurações de renderização de texto selecionadas no destino de renderização associado.</span><span class="sxs-lookup"><span data-stu-id="3213b-167">The glyphs are changed by the current world transform and the selected text rendering settings on the associated render target.</span></span> <span data-ttu-id="3213b-168">Essa API é geralmente chamada diretamente apenas por aplicativos que fazem seu próprio layout (por exemplo, um processador de texto) ou por um aplicativo que implementou a interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) .</span><span class="sxs-lookup"><span data-stu-id="3213b-168">This API is generally called directly only by applications that do their own layout (For example a Word Processor) or by an application that has implemented the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface.</span></span>

## <a name="directwrite-and-direct2d"></a><span data-ttu-id="3213b-169">DirectWrite e Direct2D</span><span class="sxs-lookup"><span data-stu-id="3213b-169">DirectWrite and Direct2D</span></span>

<span data-ttu-id="3213b-170">O [Direct2D](./direct2d-portal.md) fornece serviços de renderização no nível de glifo por meio de [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="3213b-170">[Direct2D](./direct2d-portal.md) provides glyph level rendering services through [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="3213b-171">No entanto, isso requer que o aplicativo implemente os detalhes de renderização, que basicamente reproduz a funcionalidade da API [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) do GDI por conta própria.</span><span class="sxs-lookup"><span data-stu-id="3213b-171">However, this requires the application to implement the details of rendering, which basically reproduces the functionality of the [**DrawText**](/windows/desktop/api/winuser/nf-winuser-drawtext) API from GDI on its own.</span></span>

<span data-ttu-id="3213b-172">Portanto, o [Direct2D](./direct2d-portal.md) fornece APIs que aceitam texto em vez de glifos: [**ID2D1RenderTarget::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) e [**ID2D1RenderTarget::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span><span class="sxs-lookup"><span data-stu-id="3213b-172">Therefore, [Direct2D](./direct2d-portal.md) provides APIs that accept text instead of glyphs: [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) and [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span> <span data-ttu-id="3213b-173">Ambos os métodos são renderizados para uma superfície Direct2D.</span><span class="sxs-lookup"><span data-stu-id="3213b-173">Both methods render to a Direct2D surface.</span></span> <span data-ttu-id="3213b-174">Para renderizar em uma superfície GDI, [**IDWriteBitmapRenderTarget::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) é fornecido.</span><span class="sxs-lookup"><span data-stu-id="3213b-174">To render to a GDI surface, [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) is provided.</span></span> <span data-ttu-id="3213b-175">Mas esse método requer que um renderizador de texto personalizado seja implementado pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3213b-175">But this method requires a custom text renderer to be implemented by the application.</span></span> <span data-ttu-id="3213b-176">(Para obter mais informações, consulte o tópico [renderizar em uma superfície GDI](/windows/desktop/DirectWrite/render-to-a-gdi-surface) .)</span><span class="sxs-lookup"><span data-stu-id="3213b-176">(For more information, see the [Render to a GDI Surface](/windows/desktop/DirectWrite/render-to-a-gdi-surface) topic.)</span></span>

<span data-ttu-id="3213b-177">O uso de um aplicativo de texto normalmente começa simples: colocar **OK** ou **Cancelar** em um botão de layout fixo, por exemplo.</span><span class="sxs-lookup"><span data-stu-id="3213b-177">An application's usage of text typically starts simple: put **OK** or **Cancel** on a fixed-layout button, for example.</span></span> <span data-ttu-id="3213b-178">No entanto, ao longo do tempo, ele se torna mais complexo como internacionalização e outros recursos são adicionados.</span><span class="sxs-lookup"><span data-stu-id="3213b-178">However, over time, it becomes more complex as internationalization and other features are added.</span></span> <span data-ttu-id="3213b-179">Eventualmente, muitos aplicativos terão que usar objetos de layout de texto [do DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) e implementar o renderizador de texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-179">Eventually many applications will have to use [DirectWrite's](/windows/desktop/DirectWrite/direct-write-portal) text layout objects and implement the text renderer.</span></span>

<span data-ttu-id="3213b-180">Portanto, o [Direct2D](./direct2d-portal.md) fornece APIs em camadas que permitem que um aplicativo seja iniciado simplesmente e cresça mais sofisticados sem precisar fazer o controle de versão ou abandonar seu código de trabalho.</span><span class="sxs-lookup"><span data-stu-id="3213b-180">Therefore, [Direct2D](./direct2d-portal.md) provides layered APIs that enable an application to start simply and grow more sophisticated without having to back-track or abandon their working code.</span></span> <span data-ttu-id="3213b-181">Uma exibição simplificada é mostrada no diagrama a seguir:</span><span class="sxs-lookup"><span data-stu-id="3213b-181">A simplified view is shown in the following diagram:</span></span>

![diagrama de aplicativo DirectWrite e Direct2D.](images/direct2d-directwrite2.png)

### <a name="drawtext"></a><span data-ttu-id="3213b-183">DrawText</span><span class="sxs-lookup"><span data-stu-id="3213b-183">DrawText</span></span>

<span data-ttu-id="3213b-184">O [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) é a mais simples das APIs a serem usadas.</span><span class="sxs-lookup"><span data-stu-id="3213b-184">[**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is the simplest of the APIs to use.</span></span> <span data-ttu-id="3213b-185">Ela usa uma cadeia de caracteres Unicode, um pincel de primeiro plano, um único objeto de formato e um retângulo de destino.</span><span class="sxs-lookup"><span data-stu-id="3213b-185">It takes a Unicode string, a foreground brush, a single format object and a destination rectangle.</span></span> <span data-ttu-id="3213b-186">Ele fará o layout e processará a cadeia de caracteres inteira dentro do retângulo de layout e, opcionalmente, o cortará.</span><span class="sxs-lookup"><span data-stu-id="3213b-186">It will lay out and render the whole string within the layout rectangle, and optionally clip it.</span></span> <span data-ttu-id="3213b-187">Isso é útil quando você coloca uma parte simples do texto em uma parte da interface do usuário de layout fixo.</span><span class="sxs-lookup"><span data-stu-id="3213b-187">This is useful when you put a simple piece of text in a piece of fixed-layout UI.</span></span>

### <a name="drawtextlayout"></a><span data-ttu-id="3213b-188">DrawTextLayout</span><span class="sxs-lookup"><span data-stu-id="3213b-188">DrawTextLayout</span></span>

<span data-ttu-id="3213b-189">Ao criar um objeto [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) , um aplicativo pode começar a medir e organizar o texto e outros elementos da interface do usuário, além de dar suporte a várias fontes, estilos, sublinhados e tachados.</span><span class="sxs-lookup"><span data-stu-id="3213b-189">By creating an [**IDWriteTextLayout**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextlayout) object, an application can start measuring and arranging the text and other UI elements, and support multiple fonts, styles, underlines and strikethroughs.</span></span> <span data-ttu-id="3213b-190">[Direct2D](./direct2d-portal.md) fornece a API [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) que aceita esse objeto diretamente e renderiza o texto em um determinado ponto.</span><span class="sxs-lookup"><span data-stu-id="3213b-190">[Direct2D](./direct2d-portal.md) provides the [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) API that directly accepts this object and renders the text at a given point.</span></span> <span data-ttu-id="3213b-191">(A largura e a altura são fornecidas pelo objeto de layout).</span><span class="sxs-lookup"><span data-stu-id="3213b-191">(The width and height are provided by the layout object).</span></span> <span data-ttu-id="3213b-192">Além de implementar todos os recursos de layout de texto esperados, o Direct2D irá interpretar qualquer objeto de efeito como um pincel e aplicará esse pincel ao intervalo selecionado de glifos.</span><span class="sxs-lookup"><span data-stu-id="3213b-192">In addition to implementing all the expected text layout features, Direct2D will interpret any effect object as a brush and apply that brush to the selected range of glyphs.</span></span> <span data-ttu-id="3213b-193">Ele também chamará todos os objetos embutidos.</span><span class="sxs-lookup"><span data-stu-id="3213b-193">It will also call any inline objects.</span></span> <span data-ttu-id="3213b-194">Em seguida, um aplicativo pode inserir caracteres sem glifo (ícones) no texto, se desejar.</span><span class="sxs-lookup"><span data-stu-id="3213b-194">An application can then insert non-glyph characters (icons) into the text if it wishes.</span></span> <span data-ttu-id="3213b-195">Outra vantagem de usar um objeto de layout de texto é que as posições de glifo são armazenadas em cache.</span><span class="sxs-lookup"><span data-stu-id="3213b-195">Another advantage of using a text layout object is that the glyph positions are cached in it.</span></span> <span data-ttu-id="3213b-196">Portanto, um grande lucro de desempenho é possível ao reutilizar o mesmo objeto de layout para várias chamadas de desenho e evitar recalcular as posições de glifo para cada chamada.</span><span class="sxs-lookup"><span data-stu-id="3213b-196">Therefore, a large performance gain is possible by reusing the same layout object for multiple draw calls and avoiding recalculating the glyph positions for each call.</span></span> <span data-ttu-id="3213b-197">Esse recurso não está presente para o [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))da GDI.</span><span class="sxs-lookup"><span data-stu-id="3213b-197">This capability is not present for GDI's [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)).</span></span>

### <a name="drawglyphrun"></a><span data-ttu-id="3213b-198">DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="3213b-198">DrawGlyphRun</span></span>

<span data-ttu-id="3213b-199">Por fim, o aplicativo pode implementar a própria interface [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) e chamar [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) e [**FillRectangle**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) em si ou qualquer outra API de renderização.</span><span class="sxs-lookup"><span data-stu-id="3213b-199">Finally, the application can implement the [**IDWriteTextRenderer**](/windows/desktop/api/dwrite/nn-dwrite-idwritetextrenderer) interface itself and call [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) and [**FillRectangle**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillrectangle(constd2d1_rect_f_id2d1brush)) itself, or any other rendering API.</span></span> <span data-ttu-id="3213b-200">Toda a interação existente com o objeto de layout de texto permanecerá inalterada.</span><span class="sxs-lookup"><span data-stu-id="3213b-200">All the existing interaction with the Text Layout object will remain unchanged.</span></span>

<span data-ttu-id="3213b-201">Para obter um exemplo de como implementar um renderizador de texto personalizado, consulte o tópico [renderizar usando um processador de texto personalizado](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) .</span><span class="sxs-lookup"><span data-stu-id="3213b-201">For an example of how to implement a custom text renderer see the [Render Using a Custom Text Renderer](/windows/desktop/DirectWrite/how-to-implement-a-custom-text-renderer) topic.</span></span>

## <a name="glyph-rendering"></a><span data-ttu-id="3213b-202">Renderização de glifo</span><span class="sxs-lookup"><span data-stu-id="3213b-202">Glyph Rendering</span></span>

<span data-ttu-id="3213b-203">Adicionar [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) a um aplicativo GDI existente permite que o aplicativo use a API [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) para renderizar glifos.</span><span class="sxs-lookup"><span data-stu-id="3213b-203">Adding [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) to an existing GDI application enables the application to use the [**IDWriteBitmapRenderTarget**](/windows/desktop/api/dwrite/nn-dwrite-idwritebitmaprendertarget) API to render glyphs.</span></span> <span data-ttu-id="3213b-204">O método [**IDWriteBitmapRenderTarget::D rawglyphrun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) que o DirectWrite fornece será renderizado em uma cor sólida para um DC de memória sem a necessidade de APIs adicionais, como [Direct2D](./direct2d-portal.md).</span><span class="sxs-lookup"><span data-stu-id="3213b-204">The [**IDWriteBitmapRenderTarget::DrawGlyphRun**](/windows/desktop/api/dwrite/nf-dwrite-idwritebitmaprendertarget-drawglyphrun) method that DirectWrite provides will render in solid color to a memory DC without requiring any additional APIs, such as [Direct2D](./direct2d-portal.md).</span></span>

<span data-ttu-id="3213b-205">Isso permite que o aplicativo obtenha recursos avançados de renderização de texto, como o seguinte:</span><span class="sxs-lookup"><span data-stu-id="3213b-205">This enables the application to obtain advanced text rendering features such as the following:</span></span>

-   <span data-ttu-id="3213b-206">O recurso ClearType de sub-pixel permite que um aplicativo Coloque glifos em posições de subpixels para permitir renderização de glifo e layout de glifo.</span><span class="sxs-lookup"><span data-stu-id="3213b-206">Sub-pixel ClearType enables an application to put glyphs on sub-pixel positions to allow for both sharp glyph rendering and glyph layout.</span></span>
-   <span data-ttu-id="3213b-207">A suavização de direção Y permite a renderização mais suave de curvas em glifos maiores.</span><span class="sxs-lookup"><span data-stu-id="3213b-207">Y-direction antialiasing enables smoother rendering of curves on larger glyphs.</span></span>

<span data-ttu-id="3213b-208">Um aplicativo que se move para o [Direct2D](./direct2d-portal.md) também obterá os seguintes recursos:</span><span class="sxs-lookup"><span data-stu-id="3213b-208">An application moving to [Direct2D](./direct2d-portal.md) will also obtain the following features:</span></span>

-   <span data-ttu-id="3213b-209">Aceleração de hardware.</span><span class="sxs-lookup"><span data-stu-id="3213b-209">Hardware acceleration.</span></span>
-   <span data-ttu-id="3213b-210">A capacidade de preencher texto com um pincel [Direct2D](./direct2d-portal.md) arbitrário, como gradientes radiais, gradientes lineares e bitmaps.</span><span class="sxs-lookup"><span data-stu-id="3213b-210">The ability to fill text with an arbitrary [Direct2D](./direct2d-portal.md) brush, such as radial gradients, linear gradients, and bitmaps.</span></span>
-   <span data-ttu-id="3213b-211">Mais suporte para disposição em camadas e recorte por meio das APIs [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)), [**PushLayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) e [**CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) .</span><span class="sxs-lookup"><span data-stu-id="3213b-211">More support for layering and clipping through the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)), [**PushLayer**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushlayer(constd2d1_layer_parameters__id2d1layer)) and [**CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) APIs.</span></span>
-   <span data-ttu-id="3213b-212">A capacidade de dar suporte à renderização de texto em escala de cinza.</span><span class="sxs-lookup"><span data-stu-id="3213b-212">The ability to support Grayscale text rendering.</span></span> <span data-ttu-id="3213b-213">Isso preenche corretamente o canal alfa de destino de acordo com a opacidade do pincel de texto e a suavização do texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-213">This correctly populates the destination alpha channel according to both the text brush opacity and the antialiasing of the text.</span></span>

<span data-ttu-id="3213b-214">Para dar suporte eficiente à aceleração de hardware, o [Direct2D](./direct2d-portal.md) usa uma aproximação ligeiramente diferente para a correção gama chamada *Alpha Correction*.</span><span class="sxs-lookup"><span data-stu-id="3213b-214">To efficiently support hardware acceleration, [Direct2D](./direct2d-portal.md) uses a slightly different approximation to Gamma correction called *alpha correction*.</span></span> <span data-ttu-id="3213b-215">Isso não exige Direct2D para inspecionar o pixel de cor de destino de renderização ao renderizar o texto.</span><span class="sxs-lookup"><span data-stu-id="3213b-215">This does not require Direct2D to inspect the render target color pixel when rendering text.</span></span>

## <a name="conclusion"></a><span data-ttu-id="3213b-216">Conclusão</span><span class="sxs-lookup"><span data-stu-id="3213b-216">Conclusion</span></span>

<span data-ttu-id="3213b-217">Este tópico explica as diferenças e semelhanças entre [Direct2D](./direct2d-portal.md) e [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) e as motivações arquitetônicas para fornecer-lhes APIs cooperativas separadas.</span><span class="sxs-lookup"><span data-stu-id="3213b-217">This topic explains the differences and similarities between [Direct2D](./direct2d-portal.md) and [DirectWrite](/windows/desktop/DirectWrite/direct-write-portal) and the architectural motivations for providing them as separate, cooperative APIs.</span></span>

 

 