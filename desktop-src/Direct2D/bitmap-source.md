---
title: Efeito de origem de bitmap
description: Use o efeito de origem do bitmap para gerar um ID2D1Image de um IWICBitmapSource para uso como uma entrada em um grafo de efeito.
ms.assetid: 86646111-208A-4E6D-A28C-7B23A1742D24
keywords:
- efeito de origem de bitmap
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a439c94f0f520b318b3cb3511775dbec58b6e139
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/12/2020
ms.locfileid: "103824742"
---
# <a name="bitmap-source-effect"></a><span data-ttu-id="5d10a-104">Efeito de origem de bitmap</span><span class="sxs-lookup"><span data-stu-id="5d10a-104">Bitmap source effect</span></span>

<span data-ttu-id="5d10a-105">Use o efeito de origem do bitmap para gerar um [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) de um [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) para uso como uma entrada em um grafo de efeito.</span><span class="sxs-lookup"><span data-stu-id="5d10a-105">Use the bitmap source effect to generate an [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) from a [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) for use as an input in an effect graph.</span></span> <span data-ttu-id="5d10a-106">Esse efeito executa o dimensionamento e a rotação na CPU.</span><span class="sxs-lookup"><span data-stu-id="5d10a-106">This effect performs scaling and rotation on the CPU.</span></span> <span data-ttu-id="5d10a-107">Ele também pode gerar um mipmap de memória do sistema, que pode ser uma otimização de desempenho para dimensionar ativamente imagens muito grandes em várias resoluções reduzidas.</span><span class="sxs-lookup"><span data-stu-id="5d10a-107">It can also optionally generate a system memory mipmap, which can be a performance optimization for actively scaling very large images at various reduced resolutions.</span></span>

> [!Note]  
> <span data-ttu-id="5d10a-108">O efeito de origem de bitmap leva sua entrada como uma propriedade, não como uma entrada de imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-108">The bitmap source effect takes its input as a property, not as an image input.</span></span> <span data-ttu-id="5d10a-109">Você deve usar o método [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) , não o método [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) .</span><span class="sxs-lookup"><span data-stu-id="5d10a-109">You must use the [**SetValue**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1properties-setvalue(uint32_constbyte_uint32)) method, not the [**SetInput**](/windows/win32/api/d2d1_1/nf-d2d1_1-id2d1effect-setinput) method.</span></span> <span data-ttu-id="5d10a-110">A propriedade *WicBitmapSource* é onde você especifica os dados de entrada da imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-110">The *WicBitmapSource* property is where you specify the image input data.</span></span>

 

<span data-ttu-id="5d10a-111">O CLSID para esse efeito é CLSID \_ D2D1BitmapSource.</span><span class="sxs-lookup"><span data-stu-id="5d10a-111">The CLSID for this effect is CLSID\_D2D1BitmapSource.</span></span>

-   [<span data-ttu-id="5d10a-112">Propriedades do efeito</span><span class="sxs-lookup"><span data-stu-id="5d10a-112">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="5d10a-113">Modos de interpolação</span><span class="sxs-lookup"><span data-stu-id="5d10a-113">Interpolation modes</span></span>](#interpolation-modes)
-   [<span data-ttu-id="5d10a-114">Direção</span><span class="sxs-lookup"><span data-stu-id="5d10a-114">Orientation</span></span>](#orientation)
-   [<span data-ttu-id="5d10a-115">Modos alfa</span><span class="sxs-lookup"><span data-stu-id="5d10a-115">Alpha modes</span></span>](#alpha-modes)
-   [<span data-ttu-id="5d10a-116">Comentários</span><span class="sxs-lookup"><span data-stu-id="5d10a-116">Remarks</span></span>](#remarks)
-   [<span data-ttu-id="5d10a-117">Requirements</span><span class="sxs-lookup"><span data-stu-id="5d10a-117">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="5d10a-118">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5d10a-118">Related topics</span></span>](#related-topics)

## <a name="effect-properties"></a><span data-ttu-id="5d10a-119">Propriedades do efeito</span><span class="sxs-lookup"><span data-stu-id="5d10a-119">Effect properties</span></span>



| <span data-ttu-id="5d10a-120">Nome de exibição e enumeração de índice</span><span class="sxs-lookup"><span data-stu-id="5d10a-120">Display name and index enumeration</span></span>                                                          | <span data-ttu-id="5d10a-121">Descrição</span><span class="sxs-lookup"><span data-stu-id="5d10a-121">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                |
|---------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5d10a-122">WicBitmapSource</span><span class="sxs-lookup"><span data-stu-id="5d10a-122">WicBitmapSource</span></span><br/> <span data-ttu-id="5d10a-123">\_Origem de \_ \_ bitmap do WIC d2d1 BITMAPSOURCE prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-123">D2D1\_BITMAPSOURCE\_PROP\_WIC\_BITMAP\_SOURCE</span></span><br/>         | <span data-ttu-id="5d10a-124">O [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) que contém os dados da imagem a serem carregados.</span><span class="sxs-lookup"><span data-stu-id="5d10a-124">The [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource) containing the image data to be loaded.</span></span><br/> <span data-ttu-id="5d10a-125">O tipo é [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span><span class="sxs-lookup"><span data-stu-id="5d10a-125">The type is [IWICBitmapSource](/windows/desktop/wic/-wic-imp-iwicbitmapsource).</span></span><br/> <span data-ttu-id="5d10a-126">O valor padrão é NULL.</span><span class="sxs-lookup"><span data-stu-id="5d10a-126">The default value is NULL.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="5d10a-127">Escala</span><span class="sxs-lookup"><span data-stu-id="5d10a-127">Scale</span></span><br/> <span data-ttu-id="5d10a-128">Escala de prop D2D1 de \_ BITMAPSOURCE \_ \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-128">D2D1\_BITMAPSOURCE\_PROP\_SCALE</span></span><br/>                                 | <span data-ttu-id="5d10a-129">O valor da escala na direção X e Y.</span><span class="sxs-lookup"><span data-stu-id="5d10a-129">The scale amount in the X and Y direction.</span></span> <span data-ttu-id="5d10a-130">O efeito multiplica a largura pelo valor X e a altura pelo valor Y.</span><span class="sxs-lookup"><span data-stu-id="5d10a-130">The effect multiplies the width by the X value and the height by the Y value.</span></span> <span data-ttu-id="5d10a-131">Essa propriedade é um D2D1 de vetor de um \_ \_ 2F definido como: (escala X, escala Y).</span><span class="sxs-lookup"><span data-stu-id="5d10a-131">This property is a D2D1\_VECTOR\_2F defined as: (X scale, Y scale).</span></span> <span data-ttu-id="5d10a-132">Os valores de escala são FLOAT,less, e devem ser positivos ou 0.</span><span class="sxs-lookup"><span data-stu-id="5d10a-132">The scale amounts are FLOAT, unitless, and must be positive or 0.</span></span><br/> <span data-ttu-id="5d10a-133">O tipo é o \_ vetor d2d1 \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="5d10a-133">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="5d10a-134">O valor padrão é {1,0 f, 1,0 f}.</span><span class="sxs-lookup"><span data-stu-id="5d10a-134">The default value is {1.0f, 1.0f}.</span></span><br/>                                                                           |
| <span data-ttu-id="5d10a-135">Interpolação.</span><span class="sxs-lookup"><span data-stu-id="5d10a-135">InterpolationMode.</span></span><br/> <span data-ttu-id="5d10a-136">\_Modo de \_ \_ interpolação de prop d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-136">D2D1\_BITMAPSOURCE\_PROP\_INTERPOLATION\_MODE</span></span><br/>      | <span data-ttu-id="5d10a-137">O modo de interpolação usado para dimensionar a imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-137">The interpolation mode used to scale the image.</span></span> <span data-ttu-id="5d10a-138">Consulte [modos de interpolação](#interpolation-modes) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="5d10a-138">See [Interpolation modes](#interpolation-modes) for more info.</span></span><br/> <span data-ttu-id="5d10a-139">Se o modo desabilitar o mipmap, o BitmapSouce armazenará em cache a imagem na resolução determinada pelas propriedades Scale e EnableDPICorrection.</span><span class="sxs-lookup"><span data-stu-id="5d10a-139">If the mode disables the mipmap, then BitmapSouce will cache the image at the resolution determined by the Scale and EnableDPICorrection properties.</span></span><br/> <span data-ttu-id="5d10a-140">O tipo é o \_ \_ modo de interpolação d2d1 BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="5d10a-140">The type is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE.</span></span><br/> <span data-ttu-id="5d10a-141">O valor padrão é linear D2D1 do \_ \_ modo de interpolação BITMAPSOURCE \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="5d10a-141">The default value is D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR.</span></span><br/> |
| <span data-ttu-id="5d10a-142">EnableDPICorrection</span><span class="sxs-lookup"><span data-stu-id="5d10a-142">EnableDPICorrection</span></span><br/> <span data-ttu-id="5d10a-143">D2D1 \_ BITMAPSOURCE \_ prop \_ habilitar \_ a \_ correção de DPI</span><span class="sxs-lookup"><span data-stu-id="5d10a-143">D2D1\_BITMAPSOURCE\_PROP\_ENABLE\_DPI\_CORRECTION</span></span><br/> | <span data-ttu-id="5d10a-144">Se você definir isso como TRUE, o efeito dimensionará a imagem de entrada para converter o DPI relatado por [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) no dpi do contexto do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="5d10a-144">If you set this to TRUE, the effect will scale the input image to convert the DPI reported by [**IWICBitmapSource**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapsource) to the DPI of the device context.</span></span> <span data-ttu-id="5d10a-145">O efeito usa o modo de interpolação definido com a propriedade Interpolamode.</span><span class="sxs-lookup"><span data-stu-id="5d10a-145">The effect uses the interpolation mode you set with the InterpolationMode property.</span></span> <span data-ttu-id="5d10a-146">Se você definir isso como FALSE, o efeito usará um DPI de 96,0 para a imagem de saída.</span><span class="sxs-lookup"><span data-stu-id="5d10a-146">If you set this to FALSE, the effect uses a DPI of 96.0 for the output image.</span></span><br/> <span data-ttu-id="5d10a-147">O tipo é BOOL.</span><span class="sxs-lookup"><span data-stu-id="5d10a-147">The type is BOOL.</span></span><br/> <span data-ttu-id="5d10a-148">O valor padrão é FALSE.</span><span class="sxs-lookup"><span data-stu-id="5d10a-148">The default value is FALSE.</span></span><br/>   |
| <span data-ttu-id="5d10a-149">Alphamode</span><span class="sxs-lookup"><span data-stu-id="5d10a-149">AlphaMode</span></span><br/> <span data-ttu-id="5d10a-150">Modo alfa do D2D1 \_ BITMAPSOURCE \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-150">D2D1\_BITMAPSOURCE\_PROP\_ALPHA\_MODE</span></span><br/>                       | <span data-ttu-id="5d10a-151">O modo alfa da saída.</span><span class="sxs-lookup"><span data-stu-id="5d10a-151">The alpha mode of the output.</span></span> <span data-ttu-id="5d10a-152">Isso pode ser premultiplicado ou direto.</span><span class="sxs-lookup"><span data-stu-id="5d10a-152">This can be either premultiplied or straight.</span></span> <span data-ttu-id="5d10a-153">Consulte [modos alfa](#alpha-modes) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="5d10a-153">See [Alpha modes](#alpha-modes) for more info.</span></span><br/> <span data-ttu-id="5d10a-154">O tipo é o \_ \_ modo alfa d2d1 BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="5d10a-154">The type is D2D1\_BITMAPSOURCE\_ALPHA\_MODE.</span></span><br/> <span data-ttu-id="5d10a-155">O valor padrão é o \_ \_ modo alfa d2d1 BITMAPSOURCE \_ \_ premultiplicado.</span><span class="sxs-lookup"><span data-stu-id="5d10a-155">The default value is D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED.</span></span><br/>                                                                                                                                                              |
| <span data-ttu-id="5d10a-156">Orientation</span><span class="sxs-lookup"><span data-stu-id="5d10a-156">Orientation</span></span><br/> <span data-ttu-id="5d10a-157">\_Orientação de \_ prop d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-157">D2D1\_BITMAPSOURCE\_PROP\_ORIENTATION</span></span><br/>                     | <span data-ttu-id="5d10a-158">Uma operação de inversão e/ou rotação a ser executada na imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-158">A flip and/or rotation operation to be performed on the image.</span></span> <span data-ttu-id="5d10a-159">Consulte a [orientação](#orientation) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="5d10a-159">See [Orientation](#orientation) for more info.</span></span><br/> <span data-ttu-id="5d10a-160">O tipo é a \_ orientação d2d1 BITMAPSOURCE \_ .</span><span class="sxs-lookup"><span data-stu-id="5d10a-160">The type is D2D1\_BITMAPSOURCE\_ORIENTATION.</span></span><br/> <span data-ttu-id="5d10a-161">O valor padrão é D2D1 \_ BITMAPSOURCE \_ Orientation \_ padrão.</span><span class="sxs-lookup"><span data-stu-id="5d10a-161">The default value is D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT.</span></span><br/>                                                                                                                                                                                 |



 

## <a name="interpolation-modes"></a><span data-ttu-id="5d10a-162">Modos de interpolação</span><span class="sxs-lookup"><span data-stu-id="5d10a-162">Interpolation modes</span></span>

<span data-ttu-id="5d10a-163">O efeito interpola o uso desse modo quando ele dimensiona uma imagem ou quando ele corrige o DPI.</span><span class="sxs-lookup"><span data-stu-id="5d10a-163">The effect interpolates using this mode when it scales an image or when it corrects the DPI.</span></span> <span data-ttu-id="5d10a-164">Os modos de interpolação que esse efeito usa são calculados pela CPU, não pela GPU.</span><span class="sxs-lookup"><span data-stu-id="5d10a-164">The interpolation modes this effect uses are calculated by the CPU, not the GPU.</span></span>



| <span data-ttu-id="5d10a-165">Nome</span><span class="sxs-lookup"><span data-stu-id="5d10a-165">Name</span></span>                                                       | <span data-ttu-id="5d10a-166">Descrição</span><span class="sxs-lookup"><span data-stu-id="5d10a-166">Description</span></span>                                                                                                                                                                                                                          |
|------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="5d10a-167">\_Modo de \_ interpolação d2d1 BITMAPSOURCE \_ \_ mais próximo \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-167">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_NEAREST\_NEIGHBOR</span></span> | <span data-ttu-id="5d10a-168">Amostra o ponto único mais próximo e o usa.</span><span class="sxs-lookup"><span data-stu-id="5d10a-168">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="5d10a-169">Não gera um mipmap.</span><span class="sxs-lookup"><span data-stu-id="5d10a-169">Doesn't generate a mipmap.</span></span>                                                                                                                                                           |
| <span data-ttu-id="5d10a-170">\_Modo de \_ interpolação d2d1 BITMAPSOURCE \_ \_ linear</span><span class="sxs-lookup"><span data-stu-id="5d10a-170">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_LINEAR</span></span>            | <span data-ttu-id="5d10a-171">Usa uma amostra de quatro pontos e uma interpolação linear.</span><span class="sxs-lookup"><span data-stu-id="5d10a-171">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="5d10a-172">Não gera um mipmap.</span><span class="sxs-lookup"><span data-stu-id="5d10a-172">Doesn't generate a mipmap.</span></span>                                                                                                                                                        |
| <span data-ttu-id="5d10a-173">\_Modo de \_ interpolação d2d1 BITMAPSOURCE \_ \_ cúbico</span><span class="sxs-lookup"><span data-stu-id="5d10a-173">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_CUBIC</span></span>             | <span data-ttu-id="5d10a-174">Usa um kernel cúbico de 16 amostras para interpolação.</span><span class="sxs-lookup"><span data-stu-id="5d10a-174">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="5d10a-175">Não gera um mipmap.</span><span class="sxs-lookup"><span data-stu-id="5d10a-175">Doesn't generate a mipmap.</span></span>                                                                                                                                                          |
| <span data-ttu-id="5d10a-176">\_Modo de \_ interpolação d2d1 BITMAPSOURCE \_ \_ Fant</span><span class="sxs-lookup"><span data-stu-id="5d10a-176">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_FANT</span></span>              | <span data-ttu-id="5d10a-177">Usa a interpolação Fant do WIC, a mesma que a interface [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) .</span><span class="sxs-lookup"><span data-stu-id="5d10a-177">Uses the WIC fant interpolation, the same as the [**IWICBitmapScaler**](/windows/desktop/api/wincodec/nn-wincodec-iwicbitmapscaler) interface.</span></span> <span data-ttu-id="5d10a-178">Não gera um mipmap.</span><span class="sxs-lookup"><span data-stu-id="5d10a-178">Doesn't generate a mipmap.</span></span>                                                                                       |
| <span data-ttu-id="5d10a-179">\_Modo de \_ interpolação d2d1 BITMAPSOURCE \_ \_ MIPMAP \_ linear</span><span class="sxs-lookup"><span data-stu-id="5d10a-179">D2D1\_BITMAPSOURCE\_INTERPOLATION\_MODE\_MIPMAP\_LINEAR</span></span>    | <span data-ttu-id="5d10a-180">Gera cadeia de mipmap na memória do sistema usando interpolação bilinear.</span><span class="sxs-lookup"><span data-stu-id="5d10a-180">Generates mipmap chain in system memory using bilinear interpolation.</span></span> <span data-ttu-id="5d10a-181">Para cada mipmap, o efeito é dimensionado para o múltiplo mais próximo de 0,5 usando interpolação bilinear e, em seguida, dimensiona o valor restante usando interpolação linear.</span><span class="sxs-lookup"><span data-stu-id="5d10a-181">For each mipmap the effect scales to the nearest multiple of 0.5 using bilinear interpolation and then scales the remaining amount using linear interpolation.</span></span> |



 

## <a name="orientation"></a><span data-ttu-id="5d10a-182">Orientation</span><span class="sxs-lookup"><span data-stu-id="5d10a-182">Orientation</span></span>

<span data-ttu-id="5d10a-183">A Propriedade Orientation pode ser usada para aplicar um sinalizador de orientação de EXIF que é inserido em uma imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-183">The Orientation property can be used to apply an EXIF orientation flag that is embedded within an image.</span></span>



| <span data-ttu-id="5d10a-184">Nome</span><span class="sxs-lookup"><span data-stu-id="5d10a-184">Name</span></span>                                                                    | <span data-ttu-id="5d10a-185">Descrição</span><span class="sxs-lookup"><span data-stu-id="5d10a-185">Description</span></span>                                                        |
|-------------------------------------------------------------------------|--------------------------------------------------------------------|
| <span data-ttu-id="5d10a-186">\_Padrão de \_ orientação d2d1 BITMAPSOURCE \_</span><span class="sxs-lookup"><span data-stu-id="5d10a-186">D2D1\_BITMAPSOURCE\_ORIENTATION\_DEFAULT</span></span>                                | <span data-ttu-id="5d10a-187">Padrão.</span><span class="sxs-lookup"><span data-stu-id="5d10a-187">Default.</span></span> <span data-ttu-id="5d10a-188">O efeito não altera a orientação da entrada.</span><span class="sxs-lookup"><span data-stu-id="5d10a-188">The effect doesn't change the orientation of the input.</span></span>   |
| <span data-ttu-id="5d10a-189">D2D1 \_ a \_ orientação de BITMAPSOURCE \_ virar \_ horizontal</span><span class="sxs-lookup"><span data-stu-id="5d10a-189">D2D1\_BITMAPSOURCE\_ORIENTATION\_FLIP\_HORIZONTAL</span></span>                       | <span data-ttu-id="5d10a-190">Inverte a imagem horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="5d10a-190">Flips the image horizontally.</span></span>                                      |
| <span data-ttu-id="5d10a-191">D2D1 \_ a \_ orientação de BITMAPSOURCE \_ gira \_ CLOCKWISE180</span><span class="sxs-lookup"><span data-stu-id="5d10a-191">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180</span></span>                   | <span data-ttu-id="5d10a-192">Gira a imagem no sentido horário 180 graus.</span><span class="sxs-lookup"><span data-stu-id="5d10a-192">Rotates the image clockwise 180 degrees.</span></span>                           |
| <span data-ttu-id="5d10a-193">D2D1 \_ BITMAPSOURCE \_ Orientation \_ girar \_ CLOCKWISE180 \_ virar \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="5d10a-193">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE180\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="5d10a-194">Gira a imagem no sentido horário em 180 graus e a Inverte horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="5d10a-194">Rotates the image clockwise 180 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="5d10a-195">D2D1 \_ BITMAPSOURCE \_ Orientation \_ girar \_ CLOCKWISE270 \_ virar \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="5d10a-195">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270\_FLIP\_HORIZONTAL</span></span> | <span data-ttu-id="5d10a-196">Gira a imagem no sentido horário em 270 graus e a Inverte horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="5d10a-196">Rotates the image clockwise 270 degrees and flips it horizontally.</span></span> |
| <span data-ttu-id="5d10a-197">D2D1 \_ a \_ orientação de BITMAPSOURCE \_ gira \_ CLOCKWISE90</span><span class="sxs-lookup"><span data-stu-id="5d10a-197">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90</span></span>                    | <span data-ttu-id="5d10a-198">Gira a imagem no sentido horário 90 graus.</span><span class="sxs-lookup"><span data-stu-id="5d10a-198">Rotates the image clockwise 90 degrees.</span></span>                            |
| <span data-ttu-id="5d10a-199">D2D1 \_ BITMAPSOURCE \_ Orientation \_ girar \_ CLOCKWISE90 \_ virar \_ horizontalmente</span><span class="sxs-lookup"><span data-stu-id="5d10a-199">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE90\_FLIP\_HORIZONTAL</span></span>  | <span data-ttu-id="5d10a-200">Gira a imagem no sentido horário em 90 graus e a Inverte horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="5d10a-200">Rotates the image clockwise 90 degrees and flips it horizontally.</span></span>  |
| <span data-ttu-id="5d10a-201">D2D1 \_ a \_ orientação de BITMAPSOURCE \_ gira \_ CLOCKWISE270</span><span class="sxs-lookup"><span data-stu-id="5d10a-201">D2D1\_BITMAPSOURCE\_ORIENTATION\_ROTATE\_CLOCKWISE270</span></span>                   | <span data-ttu-id="5d10a-202">Gira a imagem no sentido horário 270 graus.</span><span class="sxs-lookup"><span data-stu-id="5d10a-202">Rotates the image clockwise 270 degrees.</span></span>                           |



 

<span data-ttu-id="5d10a-203">Este trecho de código demonstra como converter os valores de orientação de EXIF (definidos em propkey. h) \_ para \_ os valores de orientação de BITMAPSOURCE d2d1.</span><span class="sxs-lookup"><span data-stu-id="5d10a-203">This code snippet demonstrates how to convert from EXIF orientation values (defined in propkey.h) to D2D1\_BITMAPSOURCE\_ORIENTATION values.</span></span>


```C++
#include <propkey.h>
#include <d2d1effects.h>

D2D1_BITMAPSOURCE_ORIENTATION GetBitmapSourceOrientation(unsigned short PhotoOrientation)
{
       switch (PhotoOrientation)
       {
       case PHOTO_ORIENTATION_NORMAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       case PHOTO_ORIENTATION_FLIPHORIZONTAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE180:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180;
       case PHOTO_ORIENTATION_FLIPVERTICAL:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE180_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_TRANSPOSE: 
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE270:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE90;
       case PHOTO_ORIENTATION_TRANSVERSE:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270_FLIP_HORIZONTAL;
       case PHOTO_ORIENTATION_ROTATE90:
              return D2D1_BITMAPSOURCE_ORIENTATION_ROTATE_CLOCKWISE270;
       default:
              return D2D1_BITMAPSOURCE_ORIENTATION_DEFAULT;
       }
}
```



## <a name="alpha-modes"></a><span data-ttu-id="5d10a-204">Modos alfa</span><span class="sxs-lookup"><span data-stu-id="5d10a-204">Alpha modes</span></span>



| <span data-ttu-id="5d10a-205">Nome</span><span class="sxs-lookup"><span data-stu-id="5d10a-205">Name</span></span>                                           | <span data-ttu-id="5d10a-206">Descrição</span><span class="sxs-lookup"><span data-stu-id="5d10a-206">Description</span></span>                                            |
|------------------------------------------------|--------------------------------------------------------|
| <span data-ttu-id="5d10a-207">\_ \_ Modo alfa d2d1 \_ BITMAPSOURCE \_ premultiplicado</span><span class="sxs-lookup"><span data-stu-id="5d10a-207">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_PREMULTIPLIED</span></span> | <span data-ttu-id="5d10a-208">A saída de efeito usa alfa precalculado.</span><span class="sxs-lookup"><span data-stu-id="5d10a-208">The effect output uses premultiplied alpha.</span></span><br/> |
| <span data-ttu-id="5d10a-209">\_ \_ Modo alfa d2d1 \_ BITMAPSOURCE \_ reto</span><span class="sxs-lookup"><span data-stu-id="5d10a-209">D2D1\_BITMAPSOURCE\_ALPHA\_MODE\_STRAIGHT</span></span>      | <span data-ttu-id="5d10a-210">A saída de efeito usa alfa linear.</span><span class="sxs-lookup"><span data-stu-id="5d10a-210">The effect output uses straight alpha.</span></span><br/>      |



 

## <a name="remarks"></a><span data-ttu-id="5d10a-211">Comentários</span><span class="sxs-lookup"><span data-stu-id="5d10a-211">Remarks</span></span>

<span data-ttu-id="5d10a-212">Para otimizar o desempenho ao usar o WIC e o [Direct2D](./direct2d-portal.md) juntos, você deve usar o [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) para converter em um formato de pixel apropriado com base no cenário do seu aplicativo e na precisão nativa da imagem.</span><span class="sxs-lookup"><span data-stu-id="5d10a-212">To optimize performance when using WIC and [Direct2D](./direct2d-portal.md) together, you should use [**IWICFormatConverter**](/windows/desktop/api/wincodec/nn-wincodec-iwicformatconverter) to convert to an appropriate pixel format based your app s scenario and the image s native precision.</span></span>

<span data-ttu-id="5d10a-213">Na maioria dos casos, o pipeline s [Direct2D](./direct2d-portal.md) do aplicativo requer apenas 8 bits por canal (BPC) de precisão, ou a imagem fornece apenas a precisão de 8 bpc e, portanto, você deve converter em GUID \_ WICPixelFormat32bppPBGRA.</span><span class="sxs-lookup"><span data-stu-id="5d10a-213">In most cases, either your app s [Direct2D](./direct2d-portal.md) pipeline only requires 8 bits per channel (bpc) of precision, or the image only provides 8 bpc precision, and therefore you should convert to GUID\_WICPixelFormat32bppPBGRA.</span></span> <span data-ttu-id="5d10a-214">No entanto, se você quiser aproveitar a precisão extra fornecida por uma imagem (por exemplo, um JPEG-XR ou TIFF armazenado com uma precisão maior que 8 bpc), deverá usar um formato de pixel baseado em RGBA.</span><span class="sxs-lookup"><span data-stu-id="5d10a-214">However, if you want to take advantage of extra precision provided by an image (for example, a JPEG-XR or TIFF stored with greater than 8 bpc precision), you should use an RGBA-based pixel format.</span></span> <span data-ttu-id="5d10a-215">A tabela abaixo fornece mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="5d10a-215">The below table provides more details.</span></span>



| <span data-ttu-id="5d10a-216">Precisão desejada</span><span class="sxs-lookup"><span data-stu-id="5d10a-216">Desired precision</span></span>   | <span data-ttu-id="5d10a-217">Precisão nativa da imagem</span><span class="sxs-lookup"><span data-stu-id="5d10a-217">Native precision of the image</span></span> | <span data-ttu-id="5d10a-218">Formato de pixel recomendado</span><span class="sxs-lookup"><span data-stu-id="5d10a-218">Recommended pixel format</span></span>                |
|---------------------|-------------------------------|-----------------------------------------|
| <span data-ttu-id="5d10a-219">8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="5d10a-219">8 bits per channel</span></span>  | <span data-ttu-id="5d10a-220"><= 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="5d10a-220"><= 8 bits per channel</span></span>      | <span data-ttu-id="5d10a-221">\_WICPIXELFORMAT32BPPPBGRA GUID</span><span class="sxs-lookup"><span data-stu-id="5d10a-221">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="5d10a-222">O máximo possível</span><span class="sxs-lookup"><span data-stu-id="5d10a-222">As high as possible</span></span> | <span data-ttu-id="5d10a-223"><= 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="5d10a-223"><= 8 bits per channel</span></span>      | <span data-ttu-id="5d10a-224">\_WICPIXELFORMAT32BPPPBGRA GUID</span><span class="sxs-lookup"><span data-stu-id="5d10a-224">GUID\_WICPixelFormat32bppPBGRA</span></span>          |
| <span data-ttu-id="5d10a-225">O máximo possível</span><span class="sxs-lookup"><span data-stu-id="5d10a-225">As high as possible</span></span> | <span data-ttu-id="5d10a-226">> 8 bits por canal</span><span class="sxs-lookup"><span data-stu-id="5d10a-226">> 8 bits per channel</span></span>       | <span data-ttu-id="5d10a-227">Ordem de canal RGBA, Alpha multiplicado</span><span class="sxs-lookup"><span data-stu-id="5d10a-227">RGBA channel order, premultiplied alpha</span></span> |



 

<span data-ttu-id="5d10a-228">Como muitos formatos de imagem dão suporte a vários níveis de precisão, você deve usar [**IWICBitmapSource:: GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) para obter o formato de pixel nativo da imagem e, em seguida, usar [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) para determinar quantos bits por canal de precisão estão disponíveis para esse formato.</span><span class="sxs-lookup"><span data-stu-id="5d10a-228">Because many image formats support multiple levels of precision, you should use [**IWICBitmapSource::GetPixelFormat**](/windows/desktop/wic/-wic-codec-iwicbitmapsource-getpixelformat-proxy) to obtain the image s native pixel format, and then use [**IWICPixelFormatInfo**](/windows/desktop/api/wincodec/nn-wincodec-iwicpixelformatinfo) to determine how many bits per channel of precision are available for that format.</span></span> <span data-ttu-id="5d10a-229">Além disso, observe que nem todos os hardwares dão suporte a formatos de pixel de alta precisão.</span><span class="sxs-lookup"><span data-stu-id="5d10a-229">Also, note that not all hardware supports high precision pixel formats.</span></span> <span data-ttu-id="5d10a-230">Nesses casos, seu aplicativo pode precisar fazer fallback para o dispositivo WARP para dar suporte à alta precisão.</span><span class="sxs-lookup"><span data-stu-id="5d10a-230">In those cases your app may need to fall back to the WARP device to support high precision.</span></span>

## <a name="requirements"></a><span data-ttu-id="5d10a-231">Requisitos</span><span class="sxs-lookup"><span data-stu-id="5d10a-231">Requirements</span></span>



| <span data-ttu-id="5d10a-232">Requisito</span><span class="sxs-lookup"><span data-stu-id="5d10a-232">Requirement</span></span> | <span data-ttu-id="5d10a-233">Valor</span><span class="sxs-lookup"><span data-stu-id="5d10a-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="5d10a-234">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="5d10a-234">Minimum supported client</span></span> | <span data-ttu-id="5d10a-235">Windows 8 e atualização de plataforma para aplicativos de área de trabalho do Windows 7 \[ \| aplicativos da Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="5d10a-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="5d10a-236">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="5d10a-236">Minimum supported server</span></span> | <span data-ttu-id="5d10a-237">Windows 8 e atualização de plataforma para aplicativos de área de trabalho do Windows 7 \[ \| aplicativos da Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="5d10a-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="5d10a-238">parâmetro</span><span class="sxs-lookup"><span data-stu-id="5d10a-238">Header</span></span>                   | <span data-ttu-id="5d10a-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="5d10a-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="5d10a-240">Biblioteca</span><span class="sxs-lookup"><span data-stu-id="5d10a-240">Library</span></span>                  | <span data-ttu-id="5d10a-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="5d10a-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="5d10a-242">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5d10a-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5d10a-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="5d10a-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

