---
title: Visão geral de recursos
description: Descreve os recursos do Direct2D e como eles podem ser compartilhados.
ms.assetid: afd308a7-9524-4436-9a0e-8575383d96fa
keywords:
- Direct2D, recursos
ms.topic: article
ms.date: 05/31/2018
ms.custom: seodec18
ms.openlocfilehash: bf4eb807a25b592e32a2d83436532af17462d70c
ms.sourcegitcommit: 7d0cc7eb398fee8f5be55cd654a12d29937d643c
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/08/2021
ms.locfileid: "104297849"
---
# <a name="resources-overview"></a><span data-ttu-id="ab247-104">Visão geral de recursos</span><span class="sxs-lookup"><span data-stu-id="ab247-104">Resources Overview</span></span>

<span data-ttu-id="ab247-105">Um recurso Direct2D é um objeto usado para desenhar e é representado por uma interface Direct2D, como [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) ou [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span><span class="sxs-lookup"><span data-stu-id="ab247-105">A Direct2D resource is an object that is used for drawing and is represented by a Direct2D interface, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) or [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget).</span></span> <span data-ttu-id="ab247-106">Este tópico descreve os tipos de recursos do Direct2D e como eles podem ser compartilhados.</span><span class="sxs-lookup"><span data-stu-id="ab247-106">This topic describes the kinds of Direct2D resources and how they can be shared.</span></span>

<span data-ttu-id="ab247-107">Este tópico contém as seguintes seções:</span><span class="sxs-lookup"><span data-stu-id="ab247-107">This topic contains the following sections:</span></span>

-   [<span data-ttu-id="ab247-108">Sobre os recursos do Direct2D</span><span class="sxs-lookup"><span data-stu-id="ab247-108">About Direct2D Resources</span></span>](#about-direct2d-resources)
-   [<span data-ttu-id="ab247-109">Recursos independentes de dispositivo</span><span class="sxs-lookup"><span data-stu-id="ab247-109">Device-Independent Resources</span></span>](#device-independent-resources)
-   [<span data-ttu-id="ab247-110">Recursos dependentes do dispositivo</span><span class="sxs-lookup"><span data-stu-id="ab247-110">Device-Dependent Resources</span></span>](#device-dependent-resources)
-   [<span data-ttu-id="ab247-111">Compartilhando recursos de fábrica</span><span class="sxs-lookup"><span data-stu-id="ab247-111">Sharing Factory Resources</span></span>](#sharing-factory-resources)
-   [<span data-ttu-id="ab247-112">Compartilhando recursos de destino de renderização</span><span class="sxs-lookup"><span data-stu-id="ab247-112">Sharing Render Target Resources</span></span>](#sharing-render-target-resources)
    -   [<span data-ttu-id="ab247-113">Destinos de renderização de hardware</span><span class="sxs-lookup"><span data-stu-id="ab247-113">Hardware Render Targets</span></span>](#hardware-render-targets)
    -   [<span data-ttu-id="ab247-114">Destinos de renderização da superfície DXGI</span><span class="sxs-lookup"><span data-stu-id="ab247-114">DXGI Surface Render Targets</span></span>](#dxgi-surface-render-targets)
    -   [<span data-ttu-id="ab247-115">Destinos de renderização e bitmaps compartilhados compatíveis</span><span class="sxs-lookup"><span data-stu-id="ab247-115">Compatible Render Targets and Shared Bitmaps</span></span>](#compatible-render-targets-and-shared-bitmaps)

## <a name="about-direct2d-resources"></a><span data-ttu-id="ab247-116">Sobre os recursos do Direct2D</span><span class="sxs-lookup"><span data-stu-id="ab247-116">About Direct2D Resources</span></span>

<span data-ttu-id="ab247-117">Muitas APIs 2D aceleradas por hardware são projetadas em um modelo de recurso focado em CPU e em um conjunto de operações de renderização que funcionam bem em CPUs. em seguida, alguma parte da API é acelerada pelo hardware.</span><span class="sxs-lookup"><span data-stu-id="ab247-117">Many hardware-accelerated 2D APIs are designed around a CPU-focused resource model and a set of rendering operations that work well on CPUs.Then, some part of the API is hardware-accelerated.</span></span> <span data-ttu-id="ab247-118">A implementação dessas APIs requer um Gerenciador de recursos para o mapeamento de recursos de CPU para recursos na GPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-118">Implementing these APIs requires a resource manager for mapping CPU resources to resources on the GPU.</span></span> <span data-ttu-id="ab247-119">Devido a limitações de GPU, algumas operações podem não ser aceleradas em todas as circunstâncias.</span><span class="sxs-lookup"><span data-stu-id="ab247-119">Because of GPU limitations, some operations might be unable to be accelerated in every circumstance.</span></span> <span data-ttu-id="ab247-120">Nesses casos, o Gerenciador de recursos deve se comunicar entre a CPU e a GPU (o que é caro) para que ele possa fazer a transição para a renderização da CPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-120">In these cases, the resource manager must communicate back and forth between the CPU and GPU (which is expensive) so that it can transition to CPU rendering.</span></span> <span data-ttu-id="ab247-121">Em alguns casos, ele pode forçar a renderização de forma invisível para o retorno completo da CPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-121">In some cases, it might unpredictably force rendering to fall back completely to the CPU.</span></span> <span data-ttu-id="ab247-122">Além disso, as operações de renderização que parecem simples podem exigir etapas de renderização intermediárias temporárias que não são expostas na API e que exigem recursos adicionais de GPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-122">In addition, rendering operations that appear simple might require temporary intermediate rendering steps that are not exposed in the API and that require additional GPU resources.</span></span>

<span data-ttu-id="ab247-123">O Direct2D fornece um mapeamento mais direto para fazer uso completo da GPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-123">Direct2D provides a more direct mapping to making full use of the GPU.</span></span> <span data-ttu-id="ab247-124">Ele fornece duas categorias de recursos: independente de dispositivo e dependente de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-124">It provides two categories of resources: device-independent and device-dependent.</span></span>

-   <span data-ttu-id="ab247-125">Recursos independentes de dispositivo, como [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), são mantidos na CPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-125">Device-independent resources, such as [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry), are kept on the CPU.</span></span>
-   <span data-ttu-id="ab247-126">Recursos dependentes do dispositivo, como [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) e [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), mapeiam diretamente para recursos na GPU (quando a aceleração de hardware está disponível).</span><span class="sxs-lookup"><span data-stu-id="ab247-126">Device-dependent resources, such as [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and [**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush), directly map to resources on the GPU (when hardware acceleration is available).</span></span> <span data-ttu-id="ab247-127">As chamadas de renderização são realizadas combinando informações de vértice e de cobertura de uma geometria com informações de texturing produzidas pelos recursos dependentes do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-127">Rendering calls are performed by combining vertex and coverage information from a geometry with texturing information produced by the device-dependent resources.</span></span>

<span data-ttu-id="ab247-128">Quando você cria recursos dependentes do dispositivo, os recursos do sistema (a GPU, se disponíveis ou a CPU) são alocados quando o dispositivo é criado e não são alterados de uma operação de renderização para outra.</span><span class="sxs-lookup"><span data-stu-id="ab247-128">When you create device-dependent resources, system resources (the GPU, if available, or the CPU) are allocated when the device is created and do not change from one rendering operation to another.</span></span> <span data-ttu-id="ab247-129">Essa situação elimina a necessidade de um Gerenciador de recursos.</span><span class="sxs-lookup"><span data-stu-id="ab247-129">This situation eliminates the need for a resource manager.</span></span> <span data-ttu-id="ab247-130">Além dos aprimoramentos gerais de desempenho que são fornecidos pela eliminação de um Gerenciador de recursos, esse modelo permite que você controle diretamente qualquer renderização intermediária.</span><span class="sxs-lookup"><span data-stu-id="ab247-130">In addition to the general performance improvements that are provided by the elimination of a resource manager, this model enables you to directly control any intermediate rendering.</span></span>

<span data-ttu-id="ab247-131">Como o Direct2D fornece muito controle sobre os recursos, você deve compreender os diferentes tipos de recursos e quando eles podem ser usados juntos.</span><span class="sxs-lookup"><span data-stu-id="ab247-131">Because Direct2D provides so much control over resources, you must understand the different kinds of resources and when they can be used together.</span></span>

## <a name="device-independent-resources"></a><span data-ttu-id="ab247-132">Device-Independent recursos</span><span class="sxs-lookup"><span data-stu-id="ab247-132">Device-Independent Resources</span></span>

<span data-ttu-id="ab247-133">Conforme descrito na seção anterior, os recursos independentes de dispositivo sempre residem na CPU e nunca são associados a um dispositivo de renderização de hardware.</span><span class="sxs-lookup"><span data-stu-id="ab247-133">As described in the previous section, device-independent resources always reside on the CPU and are never associated with a hardware rendering device.</span></span> <span data-ttu-id="ab247-134">Estes são os recursos independentes de dispositivo:</span><span class="sxs-lookup"><span data-stu-id="ab247-134">The following are device-independent resources:</span></span>

-   [<span data-ttu-id="ab247-135">**ID2D1DrawingStateBlock**</span><span class="sxs-lookup"><span data-stu-id="ab247-135">**ID2D1DrawingStateBlock**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1drawingstateblock)
-   [<span data-ttu-id="ab247-136">**ID2D1Factory**</span><span class="sxs-lookup"><span data-stu-id="ab247-136">**ID2D1Factory**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)
-   <span data-ttu-id="ab247-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) e as interfaces que herdam dele.</span><span class="sxs-lookup"><span data-stu-id="ab247-137">[**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) and the interfaces that inherit from it.</span></span>
-   <span data-ttu-id="ab247-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) e [ **ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span><span class="sxs-lookup"><span data-stu-id="ab247-138">[**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) and [**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink)</span></span>
-   [<span data-ttu-id="ab247-139">**ID2D1StrokeStyle**</span><span class="sxs-lookup"><span data-stu-id="ab247-139">**ID2D1StrokeStyle**</span></span>](/windows/win32/api/d2d1/nn-d2d1-id2d1strokestyle)

<span data-ttu-id="ab247-140">Use um [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory), em si, um recurso independente de dispositivo, para criar recursos independentes de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-140">Use an [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory), itself a device-independent resource, to create device-independent resources.</span></span> <span data-ttu-id="ab247-141">(Para criar uma fábrica, use a função [**CreateFactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) .)</span><span class="sxs-lookup"><span data-stu-id="ab247-141">(To create a factory, use the [**CreateFactory**](/windows/desktop/api/d2d1/nf-d2d1-d2d1createfactory) function.)</span></span>

<span data-ttu-id="ab247-142">Exceto para os destinos de renderização, todos os recursos criados por uma fábrica são independentes de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-142">Except for render targets, all the resources created by a factory are device-independent.</span></span> <span data-ttu-id="ab247-143">Um destino de renderização é um recurso dependente de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-143">A render target is a device-dependent resource.</span></span>

## <a name="device-dependent-resources"></a><span data-ttu-id="ab247-144">Device-Dependent recursos</span><span class="sxs-lookup"><span data-stu-id="ab247-144">Device-Dependent Resources</span></span>

<span data-ttu-id="ab247-145">Qualquer recurso que não esteja nomeado na lista anterior é um recurso dependente de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-145">Any resource that is not named in the previous list is a device-dependent resource.</span></span> <span data-ttu-id="ab247-146">Os recursos dependentes do dispositivo são associados a um determinado dispositivo de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-146">Device-dependent resources are associated with a particular rendering device.</span></span> <span data-ttu-id="ab247-147">Quando a aceleração de hardware está disponível, esse dispositivo é a GPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-147">When hardware acceleration is available, that device is the GPU.</span></span> <span data-ttu-id="ab247-148">Em outros casos, é a CPU.</span><span class="sxs-lookup"><span data-stu-id="ab247-148">In other cases, it is the CPU.</span></span>

<span data-ttu-id="ab247-149">Para criar a maioria dos recursos dependentes de dispositivo, use um destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-149">To create most device-dependent resources, use a render target.</span></span> <span data-ttu-id="ab247-150">Na maioria dos casos, use uma fábrica para criar um destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-150">In most cases, use a factory to create a render target.</span></span>

<span data-ttu-id="ab247-151">Veja a seguir exemplos de recursos dependentes do dispositivo:</span><span class="sxs-lookup"><span data-stu-id="ab247-151">The following are examples of device-dependent resources:</span></span>

-   <span data-ttu-id="ab247-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) e as interfaces que herdam dele.</span><span class="sxs-lookup"><span data-stu-id="ab247-152">[**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) and the interfaces that inherit from it.</span></span> <span data-ttu-id="ab247-153">Use um destino de renderização para criar pincéis.</span><span class="sxs-lookup"><span data-stu-id="ab247-153">Use a render target to create brushes.</span></span>
-   <span data-ttu-id="ab247-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span><span class="sxs-lookup"><span data-stu-id="ab247-154">[**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer).</span></span> <span data-ttu-id="ab247-155">Use um destino de renderização para criar camadas.</span><span class="sxs-lookup"><span data-stu-id="ab247-155">Use a render target to create layers.</span></span>
-   <span data-ttu-id="ab247-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) e as interfaces que herdam dele.</span><span class="sxs-lookup"><span data-stu-id="ab247-156">[**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) and the interfaces that inherit from it.</span></span> <span data-ttu-id="ab247-157">Para criar um destino de renderização, use uma fábrica ou outro destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-157">To create a render target, use a factory or another render target.</span></span>

> [!Note]  
> <span data-ttu-id="ab247-158">A partir do Windows 8, há novas interfaces que criam recursos dependentes de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="ab247-158">Starting with Windows 8, there are new interfaces that create device dependent resources.</span></span> <span data-ttu-id="ab247-159">Um [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) e um [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) podem compartilhar um recurso se o contexto do dispositivo e o recurso forem criados a partir do mesmo **ID2D1Device**.</span><span class="sxs-lookup"><span data-stu-id="ab247-159">An [**ID2D1Device**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1device) and a [**ID2D1DeviceContext**](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1devicecontext) can share a resource if the device context and the resource are created from the same **ID2D1Device**.</span></span>

 

<span data-ttu-id="ab247-160">Os recursos dependentes do dispositivo tornam-se inutilizáveis quando os dispositivos de renderização associados ficam indisponíveis.</span><span class="sxs-lookup"><span data-stu-id="ab247-160">Device-dependent resources become unusable when the associated rendering devices become unavailable.</span></span> <span data-ttu-id="ab247-161">Isso significa que quando você recebe o erro de [**\_ \_ destino de recriação de D2DERR**](direct2d-error-codes.md) para um destino de renderização, você deve recriar o destino de renderização e todos os seus recursos.</span><span class="sxs-lookup"><span data-stu-id="ab247-161">This means that when you receive the [**D2DERR\_RECREATE\_TARGET**](direct2d-error-codes.md) error for a render target, you must re-create the render target and all its resources.</span></span>

## <a name="sharing-factory-resources"></a><span data-ttu-id="ab247-162">Compartilhando recursos de fábrica</span><span class="sxs-lookup"><span data-stu-id="ab247-162">Sharing Factory Resources</span></span>

<span data-ttu-id="ab247-163">Você pode compartilhar todos os recursos independentes de dispositivo criados por uma fábrica com todos os outros recursos (independentes do dispositivo ou do dispositivo) criados pela mesma fábrica.</span><span class="sxs-lookup"><span data-stu-id="ab247-163">You can share all device-independent resources created by a factory with all other resources (device-independent or device-dependent) created by the same factory.</span></span> <span data-ttu-id="ab247-164">Por exemplo, você pode usar dois objetos [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) para desenhar o mesmo [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) se ambos os objetos **ID2D1RenderTarget** tiverem sido criados pela mesma fábrica.</span><span class="sxs-lookup"><span data-stu-id="ab247-164">For example, you can use two [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) objects to draw the same [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) if both of those **ID2D1RenderTarget** objects were created by the same factory.</span></span>

<span data-ttu-id="ab247-165">As interfaces do coletor ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink)e [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) podem ser compartilhadas com recursos criados por qualquer fábrica.</span><span class="sxs-lookup"><span data-stu-id="ab247-165">The sink interfaces ([**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink), [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink), and [**ID2D1TessellationSink**](/windows/win32/api/d2d1/nn-d2d1-id2d1tessellationsink)) may be shared with resources created by any factory.</span></span> <span data-ttu-id="ab247-166">Ao contrário de outras interfaces no Direct2D, qualquer implementação de uma interface de coletor pode ser usada.</span><span class="sxs-lookup"><span data-stu-id="ab247-166">Unlike other interfaces in Direct2D, any implementation of a sink interface can be used.</span></span> <span data-ttu-id="ab247-167">Por exemplo, você pode usar sua própria implementação de **ID2D1SimplifiedGeometrySink**.</span><span class="sxs-lookup"><span data-stu-id="ab247-167">For example, you could use your own implementation of **ID2D1SimplifiedGeometrySink**.</span></span>

## <a name="sharing-render-target-resources"></a><span data-ttu-id="ab247-168">Compartilhando recursos de destino de renderização</span><span class="sxs-lookup"><span data-stu-id="ab247-168">Sharing Render Target Resources</span></span>

<span data-ttu-id="ab247-169">Sua capacidade de compartilhar recursos criados por um destino de renderização depende do tipo de destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-169">Your ability to share resources created by a render target depends on the kind of render target.</span></span> <span data-ttu-id="ab247-170">Quando você cria um destino de renderização do tipo [**d2d1 de tipo de destino de \_ renderização \_ \_ \_ padrão**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type), os recursos criados por esse destino de renderização só podem ser usados por esse destino de renderização (a menos que o destino de renderização caiba em uma das categorias descritas nas seções a seguir).</span><span class="sxs-lookup"><span data-stu-id="ab247-170">When you create a render target of type [**D2D1\_RENDER\_TARGET\_TYPE\_DEFAULT**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type), the resources created by that render target can only be used by that render target (unless the render target fits into one of the categories described in the following sections).</span></span> <span data-ttu-id="ab247-171">Isso ocorre porque você não sabe qual dispositivo o destino de renderização acabará usando — ele poderia acabar processando o hardware local, o software ou o hardware de um cliente remoto.</span><span class="sxs-lookup"><span data-stu-id="ab247-171">This occurs because you do not know what device the render target will end up using—it could end up rendering to local hardware, software, or to a remote client's hardware.</span></span> <span data-ttu-id="ab247-172">Por exemplo, você pode escrever um programa que para de funcionar quando ele é exibido remotamente ou quando o destino de renderização é aumentado em tamanho superior ao tamanho máximo suportado pelo hardware de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-172">For example, you could write a program that stops working when it is displayed remotely or when the render target is increased in size beyond the maximum size supported by the rendering hardware.</span></span>

<span data-ttu-id="ab247-173">As seções a seguir descrevem as circunstâncias sob as quais um recurso criado por um destino de renderização pode ser compartilhado com outro destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-173">The following sections describe the circumstances under which a resource created by one render target can be shared with another render target.</span></span>

### <a name="hardware-render-targets"></a><span data-ttu-id="ab247-174">Destinos de renderização de hardware</span><span class="sxs-lookup"><span data-stu-id="ab247-174">Hardware Render Targets</span></span>

<span data-ttu-id="ab247-175">Você pode compartilhar recursos entre qualquer destino de renderização que usa explicitamente o hardware, desde que o modo de comunicação remota seja compatível.</span><span class="sxs-lookup"><span data-stu-id="ab247-175">You can share resources between any render target that explicitly uses hardware, as long as the remoting mode is compatible.</span></span> <span data-ttu-id="ab247-176">Só é garantido que o modo de comunicação remota seja compatível quando ambos os destinos de renderização usam o sinalizador de uso **\_ \_ \_ \_ \_ compatível com GDI** de uso de [**\_ \_ destino \_ \_ \_ \_ de d2d1**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage) de renderização ou se nenhum sinalizador é especificado.</span><span class="sxs-lookup"><span data-stu-id="ab247-176">The remoting mode is only guaranteed to be compatible when both render targets use the [**D2D1\_RENDER\_TARGET\_USAGE\_FORCE\_BITMAP\_REMOTING**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_usage) or **D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE** usage flag, or if neither flag is specified.</span></span> <span data-ttu-id="ab247-177">Essas configurações garantem que os recursos sempre estarão localizados no mesmo computador.</span><span class="sxs-lookup"><span data-stu-id="ab247-177">These settings guarantee that the resources will always be located on the same computer.</span></span> <span data-ttu-id="ab247-178">Para especificar um modo de uso, defina o campo **uso** da estrutura de [**Propriedades de \_ destino de renderização \_ \_ d2d1**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) que você usou para criar o destino de renderização com um ou mais sinalizadores de **uso de \_ \_ destino \_ de renderização d2d1** .</span><span class="sxs-lookup"><span data-stu-id="ab247-178">To specify a usage mode, set the **usage** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target with one or more **D2D1\_RENDER\_TARGET\_USAGE** flags.</span></span>

<span data-ttu-id="ab247-179">Para criar um destino de renderização que usa explicitamente a renderização de hardware, defina o campo **tipo** da estrutura de [**Propriedades de \_ destino de renderização \_ \_ d2d1**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) que você usou para criar o destino de renderização para o [**hardware do tipo de destino de renderização de d2d1 \_ \_ \_ \_**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type).</span><span class="sxs-lookup"><span data-stu-id="ab247-179">To create a render target that explicitly uses hardware rendering, set the **type** field of the [**D2D1\_RENDER\_TARGET\_PROPERTIES**](/windows/desktop/api/d2d1/ns-d2d1-d2d1_render_target_properties) structure that you used to create the render target to [**D2D1\_RENDER\_TARGET\_TYPE\_HARDWARE**](/windows/desktop/api/d2d1/ne-d2d1-d2d1_render_target_type).</span></span>

### <a name="dxgi-surface-render-targets"></a><span data-ttu-id="ab247-180">Destinos de renderização da superfície DXGI</span><span class="sxs-lookup"><span data-stu-id="ab247-180">DXGI Surface Render Targets</span></span>

<span data-ttu-id="ab247-181">Você pode compartilhar recursos criados por um destino de renderização de superfície DXGI com qualquer outro destino de renderização de superfície DXGI que esteja usando o mesmo dispositivo Direct3D subjacente.</span><span class="sxs-lookup"><span data-stu-id="ab247-181">You can share resources created by a DXGI surface render target with any other DXGI surface render target that is using the same underlying Direct3D device.</span></span>

### <a name="compatible-render-targets-and-shared-bitmaps"></a><span data-ttu-id="ab247-182">Destinos de renderização e bitmaps compartilhados compatíveis</span><span class="sxs-lookup"><span data-stu-id="ab247-182">Compatible Render Targets and Shared Bitmaps</span></span>

<span data-ttu-id="ab247-183">Você pode compartilhar recursos entre um destino de renderização e destinos de renderização compatíveis que são criados por esse destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-183">You can share resources between a render target and compatible render targets that are created by that render target.</span></span> <span data-ttu-id="ab247-184">Para criar um destino de renderização compatível, use o método [**ID2D1RenderTarget:: CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) .</span><span class="sxs-lookup"><span data-stu-id="ab247-184">To create a compatible render target, use the [**ID2D1RenderTarget::CreateCompatibleRenderTarget**](/windows/desktop/api/d2d1/nf-d2d1-id2d1rendertarget-createcompatiblerendertarget(id2d1bitmaprendertarget)) method.</span></span>

<span data-ttu-id="ab247-185">Você pode usar o método [**ID2D1RenderTarget:: CreateSharedBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) para criar um [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) que pode ser compartilhado entre os dois destinos de renderização que são especificados na chamada do método, se o método tiver sucesso.</span><span class="sxs-lookup"><span data-stu-id="ab247-185">You can use the [**ID2D1RenderTarget::CreateSharedBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createsharedbitmap) method to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) that can be shared between the two render targets that are specified in the method call, if the method succeeds.</span></span> <span data-ttu-id="ab247-186">Esse método terá sucesso, desde que os dois destinos de renderização usem o mesmo dispositivo subjacente para renderização.</span><span class="sxs-lookup"><span data-stu-id="ab247-186">This method will succeed as long as the two render targets use the same underlying device for rendering.</span></span>

 

 
