---
title: Visão geral de transformações
description: Apresenta a API de transformação do Microsoft Direct2D para Windows 7. O Direct2D permite que os desenvolvedores do Win32 executem transformações de gráficos 2D.
ms.assetid: eea8177d-c19e-4972-a9a6-ad5d541b090f
keywords:
- Visão geral do Direct2D, transformações
- Direct2D, sistemas de coordenadas
- Direct2D, destinos de renderização
- Direct2D, transformações 2D
- transformações 2D
- transformações, sobre
- transformações, destinos de renderização
- transformações, objetos
- renderizar destinos, transformações
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f8f3678f7b194f0f0188ed907a63737a97e9e58c
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103917351"
---
# <a name="transforms-overview"></a><span data-ttu-id="512ba-113">Visão geral de transformações</span><span class="sxs-lookup"><span data-stu-id="512ba-113">Transforms Overview</span></span>

<span data-ttu-id="512ba-114">Este tópico discute os conceitos básicos de transformações do Direct2D e inclui exemplos de várias transformações.</span><span class="sxs-lookup"><span data-stu-id="512ba-114">This topic discusses the basics of Direct2D transforms and includes examples of various transforms.</span></span> <span data-ttu-id="512ba-115">Ele contém as seguintes partes:</span><span class="sxs-lookup"><span data-stu-id="512ba-115">It contains the following parts:</span></span>

-   [<span data-ttu-id="512ba-116">O que é uma transformação Direct2D?</span><span class="sxs-lookup"><span data-stu-id="512ba-116">What Is a Direct2D Transform?</span></span>](#what-is-a-direct2d-transform)
-   [<span data-ttu-id="512ba-117">O espaço de coordenadas Direct2D</span><span class="sxs-lookup"><span data-stu-id="512ba-117">The Direct2D Coordinate Space</span></span>](#the-direct2d-coordinate-space)
-   [<span data-ttu-id="512ba-118">Criando matrizes de transformação</span><span class="sxs-lookup"><span data-stu-id="512ba-118">Creating Transformation Matrices</span></span>](#creating-transformation-matrices)
-   [<span data-ttu-id="512ba-119">Renderizando transformações de destino</span><span class="sxs-lookup"><span data-stu-id="512ba-119">Rendering Target Transforms</span></span>](#rendering-target-transforms)
-   [<span data-ttu-id="512ba-120">Transformações de pincel</span><span class="sxs-lookup"><span data-stu-id="512ba-120">Brush Transforms</span></span>](#brush-transforms)
-   [<span data-ttu-id="512ba-121">Transformações de geometria</span><span class="sxs-lookup"><span data-stu-id="512ba-121">Geometry Transforms</span></span>](#geometry-transforms)
-   [<span data-ttu-id="512ba-122">Como uma transformação de destino de renderização afeta os clipes</span><span class="sxs-lookup"><span data-stu-id="512ba-122">How a Render Target Transform Affects Clips</span></span>](#how-a-render-target-transform-affects-clips)
-   [<span data-ttu-id="512ba-123">Resumo</span><span class="sxs-lookup"><span data-stu-id="512ba-123">Summary</span></span>](#summary)
-   [<span data-ttu-id="512ba-124">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="512ba-124">Related topics</span></span>](#related-topics)

## <a name="what-is-a-direct2d-transform"></a><span data-ttu-id="512ba-125">O que é uma transformação Direct2D?</span><span class="sxs-lookup"><span data-stu-id="512ba-125">What Is a Direct2D Transform?</span></span>

<span data-ttu-id="512ba-126">Uma transformação especifica como mapear os pontos de um objeto de um espaço de coordenadas para outro ou de uma posição para outra dentro do mesmo espaço de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="512ba-126">A transform specifies how to map the points of an object from one coordinate space to another or from one position to another within the same coordinate space.</span></span> <span data-ttu-id="512ba-127">Esse mapeamento é descrito por uma matriz de transformação, definida como uma coleção de três linhas com três colunas de valores FLOAT, conforme mostrado na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="512ba-127">This mapping is described by a transformation matrix, defined as a collection of three rows with three columns of FLOAT values as shown in the following table.</span></span>



|                 |                 |     |
|-----------------|-----------------|-----|
| <span data-ttu-id="512ba-128">M11Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="512ba-128">M11Default: 1.0</span></span> | <span data-ttu-id="512ba-129">M12Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-129">M12Default: 0.0</span></span> | <span data-ttu-id="512ba-130">0.0</span><span class="sxs-lookup"><span data-stu-id="512ba-130">0.0</span></span> |
| <span data-ttu-id="512ba-131">M21Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-131">M21Default: 0.0</span></span> | <span data-ttu-id="512ba-132">M22Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="512ba-132">M22Default: 1.0</span></span> | <span data-ttu-id="512ba-133">0.0</span><span class="sxs-lookup"><span data-stu-id="512ba-133">0.0</span></span> |
| <span data-ttu-id="512ba-134">M31OffsetX: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-134">M31OffsetX: 0.0</span></span> | <span data-ttu-id="512ba-135">M32OffsetY: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-135">M32OffsetY: 0.0</span></span> | <span data-ttu-id="512ba-136">1,0</span><span class="sxs-lookup"><span data-stu-id="512ba-136">1.0</span></span> |



 

<span data-ttu-id="512ba-137">Nessa matriz, os membros M11, M12, M21 e M22 definem uma transformação linear que pode dimensionar, girar ou inclinar um objeto; os membros OffsetX e OffsetY definem a tradução a ser aplicada após a transformação linear ter sido feita.</span><span class="sxs-lookup"><span data-stu-id="512ba-137">In this matrix, the M11, M12, M21, and M22 members define a linear transformation that can scale, rotate, or skew an object; the OffsetX and OffsetY members define the translation to be applied after the linear transformation has been made.</span></span> <span data-ttu-id="512ba-138">Para transformações afim, os valores na terceira coluna são sempre 0,0, 0,0 e 1,0.</span><span class="sxs-lookup"><span data-stu-id="512ba-138">For affine transformations, the values in the third column are always 0.0, 0.0, and 1.0.</span></span>

<span data-ttu-id="512ba-139">Como o Direct2D dá suporte apenas a transformações afim (lineares), sua matriz de transformação é definida como uma matriz 3-por-2, omitindo a terceira coluna da matriz de transformação anterior.</span><span class="sxs-lookup"><span data-stu-id="512ba-139">Because Direct2D supports only affine (linear) transformations, its transformation matrix is defined as a 3-by-2 matrix, omitting the third column from the previous transformation matrix.</span></span> <span data-ttu-id="512ba-140">A tabela a seguir mostra o layout da matriz de transformação Direct2D.</span><span class="sxs-lookup"><span data-stu-id="512ba-140">The following table shows the layout of the Direct2D transformation matrix.</span></span>



|                 |                 |
|-----------------|-----------------|
| <span data-ttu-id="512ba-141">M11Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="512ba-141">M11Default: 1.0</span></span> | <span data-ttu-id="512ba-142">M12Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-142">M12Default: 0.0</span></span> |
| <span data-ttu-id="512ba-143">M21Default: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-143">M21Default: 0.0</span></span> | <span data-ttu-id="512ba-144">M22Default: 1,0</span><span class="sxs-lookup"><span data-stu-id="512ba-144">M22Default: 1.0</span></span> |
| <span data-ttu-id="512ba-145">M31OffsetX: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-145">M31OffsetX: 0.0</span></span> | <span data-ttu-id="512ba-146">M32OffsetY: 0,0</span><span class="sxs-lookup"><span data-stu-id="512ba-146">M32OffsetY: 0.0</span></span> |



 

<span data-ttu-id="512ba-147">Em Direct2D, essa matriz 3-by-2 é representada pela estrutura [**\_ \_ 3x2 da matriz d2d1**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) .</span><span class="sxs-lookup"><span data-stu-id="512ba-147">In Direct2D, this 3-by-2 matrix is represented by the [**D2D1\_MATRIX\_3X2**](/windows/desktop/api/dcommon/ns-dcommon-d2d_matrix_3x2_f) structure.</span></span> <span data-ttu-id="512ba-148">Para simplificar as operações comuns de matriz, o Direct2D também fornece uma classe chamada [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), que é derivada da estrutura **d2d1 \_ matriz \_ 3x2** .</span><span class="sxs-lookup"><span data-stu-id="512ba-148">To simplify common matrix operations, Direct2D also provides a class named [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f), which is derived from the **D2D1\_MATRIX\_3X2** structure.</span></span>

<span data-ttu-id="512ba-149">O construtor padrão para [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) deixa o objeto não inicializado.</span><span class="sxs-lookup"><span data-stu-id="512ba-149">The default constructor for [**Matrix3x2F**](/windows/win32/api/d2d1helper/nl-d2d1helper-matrix3x2f) leaves the object uninitialized.</span></span> <span data-ttu-id="512ba-150">Para recuperar uma matriz de identidade, use [**Matrix3x2F:: Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span><span class="sxs-lookup"><span data-stu-id="512ba-150">To retrieve an identity matrix, use [**Matrix3x2F::Identity**](/windows/desktop/api/d2d1helper/nf-d2d1helper-identitymatrix).</span></span>

<span data-ttu-id="512ba-151">Quando uma transformação de identidade é aplicada a um objeto, ela não altera a posição, a forma ou o tamanho do objeto.</span><span class="sxs-lookup"><span data-stu-id="512ba-151">When an identity transform is applied to an object, it does not change the position, shape, or size of the object.</span></span> <span data-ttu-id="512ba-152">É semelhante à forma como multiplicar um número em 1 não altera o número.</span><span class="sxs-lookup"><span data-stu-id="512ba-152">It is similar to the way that multiplying a number by 1 does not change the number.</span></span> <span data-ttu-id="512ba-153">Em outras palavras, a transformação de identidade deixa as coordenadas de pontos sozinhos e não desloca os pontos para uma nova posição.</span><span class="sxs-lookup"><span data-stu-id="512ba-153">In other words, the identity transform leaves the coordinates of points alone and does not shift the points to a new position.</span></span> <span data-ttu-id="512ba-154">Qualquer transformação que não seja a transformação de identidade modificará a posição, a forma e/ou o tamanho dos objetos.</span><span class="sxs-lookup"><span data-stu-id="512ba-154">Any transform other than the identity transform will modify the position, shape, and/or size of objects.</span></span>

<span data-ttu-id="512ba-155">As transformações são todas as coordenadas, e entender o espaço de coordenadas Direct2D é importante para entender o uso de transformações.</span><span class="sxs-lookup"><span data-stu-id="512ba-155">Transforms are all about coordinates, and understanding the Direct2D coordinate space is important for understanding the use of transformations.</span></span>

## <a name="the-direct2d-coordinate-space"></a><span data-ttu-id="512ba-156">O espaço de coordenadas Direct2D</span><span class="sxs-lookup"><span data-stu-id="512ba-156">The Direct2D Coordinate Space</span></span>

<span data-ttu-id="512ba-157">Direct2D usa um espaço de coordenadas da mão esquerda; ou seja, os valores positivos do eixo x aumentam para a direita e os valores positivos do eixo y aumentam para baixo.</span><span class="sxs-lookup"><span data-stu-id="512ba-157">Direct2D uses a left-handed coordinate space; that is, positive x-axis values increase to the right and positive y-axis values increase downward.</span></span> <span data-ttu-id="512ba-158">Tudo na tela é posicionado em relação à origem, que é o ponto em que o eixo x e o eixo y interseccionam (0, 0), conforme mostrado na ilustração a seguir.</span><span class="sxs-lookup"><span data-stu-id="512ba-158">Everything on the screen is positioned relative to the origin, which is the point where the x-axis and y-axis intersect (0, 0), as shown in the following illustration.</span></span> <span data-ttu-id="512ba-159">Os destinos de renderização Direct2D usam esse espaço de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="512ba-159">Direct2D render targets use this coordinate space.</span></span>

![ilustração do eixo x e eixo y de um espaço de coordenadas da mão esquerda](images/coordinatespace.png)

<span data-ttu-id="512ba-161">Ao manipular valores em uma matriz de transformação, você pode girar, dimensionar, inclinar e mover (traduzir) um objeto.</span><span class="sxs-lookup"><span data-stu-id="512ba-161">By manipulating values in a transformation matrix, you can rotate, scale, skew, and move (translate) an object.</span></span> <span data-ttu-id="512ba-162">Por exemplo, se você definir OffsetX como 100 e OffsetY como 200, moverá o objeto para a direita de 100 pixels e para baixo em 200 pixels.</span><span class="sxs-lookup"><span data-stu-id="512ba-162">For example, if you set OffsetX to 100 and OffsetY to 200, you move the object to the right 100 pixels and down 200 pixels.</span></span>

<span data-ttu-id="512ba-163">Para mostrar o efeito da movimentação do objeto, você precisa aplicar a transformação translação para renderizar destinos, pincéis ou geometrias.</span><span class="sxs-lookup"><span data-stu-id="512ba-163">To show the effect of the object move, you need to apply the translation transformation to render targets, brushes, or geometries.</span></span> <span data-ttu-id="512ba-164">Aplicar uma transformação aos destinos de renderização afeta a tela inteira, ao mesmo tempo em que aplicar uma transformação a um pincel ou uma geometria afeta apenas o pincel ou a geometria específica.</span><span class="sxs-lookup"><span data-stu-id="512ba-164">Applying a transform to render targets affects the entire screen, while applying a transform to a brush or a geometry only affects that specific brush or geometry.</span></span> <span data-ttu-id="512ba-165">Para criar uma matriz de transformação, use a classe [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) .</span><span class="sxs-lookup"><span data-stu-id="512ba-165">To create a transformation matrix, use the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class.</span></span>

## <a name="creating-transformation-matrices"></a><span data-ttu-id="512ba-166">Criando matrizes de transformação</span><span class="sxs-lookup"><span data-stu-id="512ba-166">Creating Transformation Matrices</span></span>

<span data-ttu-id="512ba-167">Para criar transformações de rotação, escala, distorção e tradução, a classe [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) fornece os métodos estáticos mostrados na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="512ba-167">For creating rotation, scale, skew, and translation transformations, the [**Matrix3x2F**](/windows/desktop/api/d2d1helper/nl-d2d1helper-matrix3x2f) class provides the static methods shown in the following table.</span></span> <span data-ttu-id="512ba-168">A coluna de exemplo da tabela contém links para os tópicos de instruções que demonstram como usar cada método de transformação.</span><span class="sxs-lookup"><span data-stu-id="512ba-168">The Example column of the table contains links to the how-to topics that demonstrate how to use each transformation method.</span></span>



| <span data-ttu-id="512ba-169">Método</span><span class="sxs-lookup"><span data-stu-id="512ba-169">Method</span></span>                                                                   | <span data-ttu-id="512ba-170">Descrição</span><span class="sxs-lookup"><span data-stu-id="512ba-170">Description</span></span>                                                                                                     | <span data-ttu-id="512ba-171">Exemplo</span><span class="sxs-lookup"><span data-stu-id="512ba-171">Example</span></span>                                            | <span data-ttu-id="512ba-172">Ilustração</span><span class="sxs-lookup"><span data-stu-id="512ba-172">Illustration</span></span>                                                                                                                            |
|--------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="512ba-173">**matrix3x2f:: Rotate**</span><span class="sxs-lookup"><span data-stu-id="512ba-173">**matrix3x2f::rotate**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-rotation)                          | <span data-ttu-id="512ba-174">Cria uma transformação de rotação que tem o ângulo e o ponto central especificados.</span><span class="sxs-lookup"><span data-stu-id="512ba-174">creates a rotation transformation that has the specified angle and center point.</span></span>                                | [<span data-ttu-id="512ba-175">como girar um objeto</span><span class="sxs-lookup"><span data-stu-id="512ba-175">how to rotate an object</span></span>](how-to-rotate.md)       | ![ilustração de um quadrado girado em 45 graus no sentido horário sobre o centro do quadrado original](images/rotate-ovw.png)                 |
| <span data-ttu-id="512ba-177">[**matrix3x2f:: Scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span><span class="sxs-lookup"><span data-stu-id="512ba-177">[**matrix3x2f::scale**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-scale(d2d1_size_f_d2d1_point_2f))</span></span> | <span data-ttu-id="512ba-178">Cria uma transformação de escala que tem os fatores de escala e o ponto central especificados.</span><span class="sxs-lookup"><span data-stu-id="512ba-178">creates a scale transformation that has the specified scale factors and center point.</span></span>                           | [<span data-ttu-id="512ba-179">como dimensionar um objeto</span><span class="sxs-lookup"><span data-stu-id="512ba-179">how to scale an object</span></span>](how-to-scale.md)         | ![ilustração de um% em escala quadrado em 130%](images/scale-ovw.png)                                                                           |
| [<span data-ttu-id="512ba-181">**matrix3x2f:: skew**</span><span class="sxs-lookup"><span data-stu-id="512ba-181">**matrix3x2f::skew**</span></span>](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-skew)                              | <span data-ttu-id="512ba-182">Cria uma transformação de distorção que tem os valores de eixo x e y especificados e o ponto central.</span><span class="sxs-lookup"><span data-stu-id="512ba-182">creates a skew transformation that has the specified x-axis and y-axis values and center point.</span></span>                 | [<span data-ttu-id="512ba-183">Como distorcer um objeto</span><span class="sxs-lookup"><span data-stu-id="512ba-183">how to skew an object</span></span>](how-to-skew.md)           | ![ilustração de um quadrado inclinado em 30 graus no sentido anti-horário do eixo y](images/skew-ovw.png)                                     |
| <span data-ttu-id="512ba-185">[**matrix3x2f:: translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span><span class="sxs-lookup"><span data-stu-id="512ba-185">[**matrix3x2f::translation**](/windows/win32/api/d2d1helper/nf-d2d1helper-matrix3x2f-translation(d2d1_size_f))</span></span>                | <span data-ttu-id="512ba-186">Cria uma transformação de tradução e especifica as substituições na direção do eixo x e eixo y.</span><span class="sxs-lookup"><span data-stu-id="512ba-186">creates a translation transformation and specifies the displacements in the direction of the x-axis and y-axis.</span></span> | [<span data-ttu-id="512ba-187">Como converter um objeto</span><span class="sxs-lookup"><span data-stu-id="512ba-187">how to translate an object</span></span>](how-to-translate.md) | ![ilustração de um quadrado moveu 20 unidades ao longo do eixo x positivo e 10 unidades ao longo do eixo y positivo](images/translation-ovw.png) |



 

## <a name="rendering-target-transforms"></a><span data-ttu-id="512ba-189">Renderizando transformações de destino</span><span class="sxs-lookup"><span data-stu-id="512ba-189">Rendering Target Transforms</span></span>

<span data-ttu-id="512ba-190">Um destino de renderização é um recurso que herda da interface [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="512ba-190">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="512ba-191">Ele cria recursos para desenhar e executa operações reais de desenho.</span><span class="sxs-lookup"><span data-stu-id="512ba-191">It creates resources for drawing and performs actual drawing operations.</span></span> <span data-ttu-id="512ba-192">Ele também fornece métodos para transformar o espaço de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="512ba-192">It also provides methods for transforming the coordinate space.</span></span> <span data-ttu-id="512ba-193">Você pode chamar o método [**ID2D1RenderTarget:: SetTransform**](id2d1rendertarget-settransform.md) para aplicar a transformação especificada ao destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="512ba-193">You can call the [**ID2D1RenderTarget::SetTransform**](id2d1rendertarget-settransform.md) method to apply the specified transform to the render target.</span></span> <span data-ttu-id="512ba-194">Todas as operações de desenho subsequentes ocorrem no espaço transformado.</span><span class="sxs-lookup"><span data-stu-id="512ba-194">All subsequent drawing operations occur in the transformed space.</span></span>

<span data-ttu-id="512ba-195">Para renderizar o conteúdo, use os métodos de desenho do destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="512ba-195">To render content, use the render target's drawing methods.</span></span> <span data-ttu-id="512ba-196">Antes de começar a desenhar, chame o método [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="512ba-196">Before you begin drawing, call the [**BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="512ba-197">Para concluir a renderização de conteúdo, chame o método [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="512ba-197">To finish rendering content, call the [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="512ba-198">Para obter um exemplo, consulte [como aplicar várias transformações a um objeto](how-to-apply-multiple-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="512ba-198">For an example, see [How to Apply Multiple Transforms to an Object](how-to-apply-multiple-transforms.md).</span></span>

## <a name="brush-transforms"></a><span data-ttu-id="512ba-199">Transformações de pincel</span><span class="sxs-lookup"><span data-stu-id="512ba-199">Brush Transforms</span></span>

<span data-ttu-id="512ba-200">Você pode ajustar a transformação no pincel chamando [**SetTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span><span class="sxs-lookup"><span data-stu-id="512ba-200">You can adjust the transform on the brush by calling [**SetTransform**](/windows/win32/api/d2d1/nf-d2d1-id2d1brush-settransform(constd2d1_matrix_3x2_f_)).</span></span> <span data-ttu-id="512ba-201">Para essa transformação, você pode considerar o pincel como uma grande parte do papel e dos primitivos de renderização diferentes (texto, geometria, retângulo e assim por diante) como estênceis.</span><span class="sxs-lookup"><span data-stu-id="512ba-201">For this transform, you can think of the brush as a large piece of paper and of the different rendering primitives (text, geometry, rectangle and so on) as stencils.</span></span> <span data-ttu-id="512ba-202">Quando você ajusta a transformação do pincel, é como se estivesse deslizando a grande parte do papel embaixo do estêncil, sem alterar a posição do próprio estêncil.</span><span class="sxs-lookup"><span data-stu-id="512ba-202">When you adjust the brush transform, it is as if you were sliding the large piece of paper underneath the stencil, without changing the position of the stencil itself.</span></span> <span data-ttu-id="512ba-203">Você pode usar essa técnica para deixar o texto desaparecer de amarelo para preto no espaço 3D.</span><span class="sxs-lookup"><span data-stu-id="512ba-203">You can use this technique to make the text fade from yellow to black away into 3D space.</span></span>

<span data-ttu-id="512ba-204">Quando a transformação do pincel é a transformação de identidade, os pincéis aparecem no mesmo espaço de coordenadas que o destino de renderização no qual eles são desenhados.</span><span class="sxs-lookup"><span data-stu-id="512ba-204">When the brush transform is the identity transform, brushes appear in the same coordinate space as the render target in which they are drawn.</span></span> <span data-ttu-id="512ba-205">A transformação pincel permite que um chamador altere o modo como as coordenadas do pincel são mapeadas para esse espaço.</span><span class="sxs-lookup"><span data-stu-id="512ba-205">The brush transform enables a caller to alter how brush coordinates map to this space.</span></span>

<span data-ttu-id="512ba-206">O espaço do pincel é especificado de forma diferente em Direct2D do que no Windows Presentation Foundation (WPF).</span><span class="sxs-lookup"><span data-stu-id="512ba-206">The brush space is specified differently in Direct2D than in Windows Presentation Foundation (WPF).</span></span> <span data-ttu-id="512ba-207">No Direct2D, o espaço do pincel não é relativo ao objeto que está sendo desenhado, mas sim ao sistema de coordenadas atual do destino de renderização, transformado pela transformação do pincel, se houver.</span><span class="sxs-lookup"><span data-stu-id="512ba-207">In Direct2D, the brush space is not relative to the object being drawn, but rather is the current coordinate system of the render target, transformed by the brush transform, if there is one.</span></span> <span data-ttu-id="512ba-208">Para que o pincel preencha um objeto como foi feito no WPF, você deve converter a origem do espaço do pincel no canto superior esquerdo da caixa delimitadora do objeto e, em seguida, dimensionar o espaço do pincel para que o bloco de base preencha a caixa delimitadora do objeto.</span><span class="sxs-lookup"><span data-stu-id="512ba-208">To have the brush fill an object as was done in WPF, you must translate the brush space origin to the top-left corner of the object's bounding box, and then scale the brush space so that the base tile fills the bounding box of the object.</span></span>

<span data-ttu-id="512ba-209">Para obter mais informações sobre transformações de pincel, consulte [visão geral de pincéis do Direct2D](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="512ba-209">For more information about brush transforms, see [Direct2D Brushes Overview](direct2d-brushes-overview.md).</span></span>

## <a name="geometry-transforms"></a><span data-ttu-id="512ba-210">Transformações de geometria</span><span class="sxs-lookup"><span data-stu-id="512ba-210">Geometry Transforms</span></span>

<span data-ttu-id="512ba-211">Ao dimensionar, mover, traduzir ou distorcer geometrias, você pode aplicar diretamente uma transformação a uma geometria específica, não a uma transformação de destino de renderização que afetaria toda a tela.</span><span class="sxs-lookup"><span data-stu-id="512ba-211">When you scale, move, translate, or skew geometries, you can directly apply a transform to a specific geometry, not to a render target transform that would affect the entire screen.</span></span> <span data-ttu-id="512ba-212">Uma transformação de destino de renderização geralmente afeta o traço e o preenchimento de uma geometria.</span><span class="sxs-lookup"><span data-stu-id="512ba-212">A render target transform generally affects the stroke and fill of a geometry.</span></span> <span data-ttu-id="512ba-213">Por outro lado, uma transformação Geometry só afeta o preenchimento de uma geometria, pois a transformação é aplicada a uma geometria antes de ser traçada.</span><span class="sxs-lookup"><span data-stu-id="512ba-213">By contrast, a geometry transform only affects the fill of a geometry, because the transform is applied to a geometry before it is stroked.</span></span>

> [!Note]  
> <span data-ttu-id="512ba-214">A partir do Windows 8, a transformação mundial não afetará o traço se você definir o tipo de traço como [**d2d1 \_ Stroke \_ tipo de transformação \_ \_ fixo**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) ou [**d2d1 \_ tipo de \_ transformação de \_ \_ traço**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type).</span><span class="sxs-lookup"><span data-stu-id="512ba-214">Starting with Windows 8, the world transform doesn't affect the stroke if you set the stroke type to [**D2D1\_STROKE\_TRANSFORM\_TYPE\_FIXED**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type) or [**D2D1\_STROKE\_TRANSFORM\_TYPE\_HAIRLINE**](/windows/desktop/api/D2d1_1/ne-d2d1_1-d2d1_stroke_transform_type).</span></span>

 

<span data-ttu-id="512ba-215">Você pode ajustar a transformação em uma geometria chamando [**ID2D1Factory:: CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) para criar um objeto [**ID2D1TransformedGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry) .</span><span class="sxs-lookup"><span data-stu-id="512ba-215">You can adjust the transform on a geometry by calling [**ID2D1Factory::CreateTransformedGeometry**](/previous-versions/windows/desktop/legacy/dd371304(v=vs.85)) to create an [**ID2D1TransformedGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1transformedgeometry) object.</span></span> <span data-ttu-id="512ba-216">Para obter mais informações sobre transformações de geometria, consulte [visão geral de geometrias de Direct2D](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="512ba-216">For more information about geometry transforms, see [Direct2D Geometries Overview](direct2d-geometries-overview.md).</span></span>

## <a name="how-a-render-target-transform-affects-clips"></a><span data-ttu-id="512ba-217">Como uma transformação de destino de renderização afeta os clipes</span><span class="sxs-lookup"><span data-stu-id="512ba-217">How a Render Target Transform Affects Clips</span></span>

<span data-ttu-id="512ba-218">A transformação em um destino de renderização afeta como a caixa delimitadora de um clipe alinhado por eixo é computada.</span><span class="sxs-lookup"><span data-stu-id="512ba-218">The transform on a render target affects how the bounding box of an axis-aligned clip is computed.</span></span> <span data-ttu-id="512ba-219">Quando o [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) é chamado, o parâmetro *clipRect* é transformado pela transformação do mundo atual que é definida no destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="512ba-219">When the [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the *clipRect* parameter is transformed by the current world transform that is set on the render target.</span></span> <span data-ttu-id="512ba-220">Depois que a transformação for aplicada ao *clipRect*, a caixa delimitadora alinhada ao eixo para o *clipRect* será computada.</span><span class="sxs-lookup"><span data-stu-id="512ba-220">After the transform is applied to the *clipRect*, the axis-aligned bounding box for the *clipRect* is computed.</span></span> <span data-ttu-id="512ba-221">Para eficiência, o conteúdo é recortado para essa caixa delimitadora alinhada ao eixo e não para o *clipRect* original que é passado.</span><span class="sxs-lookup"><span data-stu-id="512ba-221">For efficiency, the contents are clipped to this axis-aligned bounding box and not to the original *clipRect* that is passed in.</span></span> <span data-ttu-id="512ba-222">Os diagramas a seguir mostram como uma transformação de rotação é aplicada ao destino de renderização, o *clipRect* resultante e uma caixa delimitadora com alinhamento de eixo calculado.</span><span class="sxs-lookup"><span data-stu-id="512ba-222">The following diagrams show how a rotation transform is applied to the render target, the resulting *clipRect*, and a calculated axis-aligned bounding box.</span></span>

1.  <span data-ttu-id="512ba-223">Suponha que o retângulo na ilustração a seguir seja um destino de renderização alinhado com os pixels da tela.</span><span class="sxs-lookup"><span data-stu-id="512ba-223">Assume that the rectangle in the following illustration is a render target that is aligned to the screen pixels.</span></span>

    ![ilustração de um retângulo (destino de renderização)](images/pushaxisalignedclip-step1-rendertarget.png)

2.  <span data-ttu-id="512ba-225">Aplicar uma transformação de rotação ao destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="512ba-225">Apply a rotation transform to the render target.</span></span> <span data-ttu-id="512ba-226">Na ilustração a seguir, o retângulo preto representa o destino de renderização original e o retângulo tracejado vermelho representa o destino de renderização transformado.</span><span class="sxs-lookup"><span data-stu-id="512ba-226">In the following illustration, the black rectangle represents the original render target and the red dashed rectangle represents the transformed render target.</span></span>

    ![ilustração do retângulo original e um retângulo girado (destino de renderização transformado)](images/pushaxisalignedclip-step2-transformed.png)

3.  <span data-ttu-id="512ba-228">Depois que [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) é chamado, a transformação de rotação é aplicada ao *clipRect*.</span><span class="sxs-lookup"><span data-stu-id="512ba-228">After [**PushAxisAlignedClip**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-pushaxisalignedclip(constd2d1_rect_f__d2d1_antialias_mode)) is called, the rotation transform is applied to the *clipRect*.</span></span> <span data-ttu-id="512ba-229">Na ilustração a seguir, o retângulo azul representa o *clipRect* transformado.</span><span class="sxs-lookup"><span data-stu-id="512ba-229">In the following illustration, the blue rectangle represents the transformed *clipRect*.</span></span>

    ![ilustração de um retângulo azul menor (ClipRect) dentro do retângulo girado (destino de renderização transformado)](images/pushaxisalignedclip-step3-cliprecttransformed.png)

4.  <span data-ttu-id="512ba-231">A caixa delimitadora alinhada ao eixo é calculada.</span><span class="sxs-lookup"><span data-stu-id="512ba-231">The axis-aligned bounding box is calculated.</span></span> <span data-ttu-id="512ba-232">Na ilustração a seguir, o retângulo tracejado verde representa a caixa delimitadora.</span><span class="sxs-lookup"><span data-stu-id="512ba-232">In the following illustration, the green dashed rectangle represents the bounding box.</span></span> <span data-ttu-id="512ba-233">Todo o conteúdo é recortado nesta caixa delimitadora alinhada ao eixo.</span><span class="sxs-lookup"><span data-stu-id="512ba-233">All contents are clipped to this axis-aligned bounding box.</span></span>

    ![ilustração de uma caixa delimitadora verde no pequeno retângulo azul (ClipRect)](images/pushaxisalignedclip-step4-boundingbox.png)

## <a name="summary"></a><span data-ttu-id="512ba-235">Resumo</span><span class="sxs-lookup"><span data-stu-id="512ba-235">Summary</span></span>

<span data-ttu-id="512ba-236">O Direct2D torna mais fácil transformar objetos bidimensionais com espaços de coordenadas simplificados e classes relacionadas.</span><span class="sxs-lookup"><span data-stu-id="512ba-236">Direct2D makes it easy to transform two-dimensional objects with simplified coordinate spaces and related classes.</span></span> <span data-ttu-id="512ba-237">Usando vários tipos de transformações, você pode traduzir, girar, distorcer e dimensionar seus objetos para obter muitos efeitos visuais impressionantes.</span><span class="sxs-lookup"><span data-stu-id="512ba-237">By using various types of transforms, you can translate, rotate, skew, and scale your objects to achieve many impressive visual effects.</span></span>

## <a name="related-topics"></a><span data-ttu-id="512ba-238">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="512ba-238">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="512ba-239">Referência de Direct2D</span><span class="sxs-lookup"><span data-stu-id="512ba-239">Direct2D Reference</span></span>](reference.md)
</dt> </dl>

 

 