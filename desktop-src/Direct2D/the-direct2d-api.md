---
title: Visão geral de API do Direct2D
description: Fornece uma visão geral do modelo de objeto Direct2D.
ms.assetid: b1362ef6-40fc-4fa5-ba5b-22c622c39f04
keywords:
- Direct2D, sobre
- Direct2D, arquivos de cabeçalho
- Direct2D, modelo de objeto
- Direct2D, interfaces
- Interface ID2D1Factory
- Direct2D, destinos de renderização
- processar destinos, sobre
- Direct2D, comandos de desenho
- processar destinos, comandos de desenho
- Direct2D, tratamento de erro
- processar destinos, tratamento de erros
- tratamento de erros
- pincéis
- renderizar destinos, pincéis
- geometries
- Direct2D, geometrias
- bitmaps para Direct2D
- Direct2D, bitmaps
- primitivos
- Direct2D, primitivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 858d03f626fe337b174f074d7725dcb1a636b463
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "105760102"
---
# <a name="direct2d-api-overview"></a><span data-ttu-id="fa78e-123">Visão geral de API do Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-123">Direct2D API Overview</span></span>

<span data-ttu-id="fa78e-124">O Direct2D fornece uma API, semelhante ao Direct3D, para uso com C ou C++.</span><span class="sxs-lookup"><span data-stu-id="fa78e-124">Direct2D provides an API, similar to Direct3D, for use with C or C++.</span></span> <span data-ttu-id="fa78e-125">A API expõe uma variedade de funcionalidades relacionadas ao desenho:</span><span class="sxs-lookup"><span data-stu-id="fa78e-125">The API exposes a variety of drawing-related functionality:</span></span>

-   <span data-ttu-id="fa78e-126">Renderize destinos para exibição e renderização fora da tela usando Direct2D, Direct3D ou GDI.</span><span class="sxs-lookup"><span data-stu-id="fa78e-126">Render targets for display and off-screen rendering using Direct2D, Direct3D, or GDI.</span></span>
-   <span data-ttu-id="fa78e-127">Objetos para gerenciar o estado de desenho, como transformações de espaço de coordenadas e modos de suavização.</span><span class="sxs-lookup"><span data-stu-id="fa78e-127">Objects for managing drawing state such as coordinate space transforms and antialiasing modes.</span></span>
-   <span data-ttu-id="fa78e-128">Representações para dados geométricos e funções para processamento de geometria.</span><span class="sxs-lookup"><span data-stu-id="fa78e-128">Representations for geometric data, and functions for geometry processing.</span></span>
-   <span data-ttu-id="fa78e-129">Funcionalidade de renderização para bitmaps, geometrias e texto.</span><span class="sxs-lookup"><span data-stu-id="fa78e-129">Rendering functionality for bitmaps, geometries, and text.</span></span>
-   <span data-ttu-id="fa78e-130">Provisiona para o uso de conteúdo gráfico criado usando GDI ou Direct3D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-130">Provisions for using graphical content created using GDI or Direct3D.</span></span>

<span data-ttu-id="fa78e-131">Este tópico fornece uma visão geral dos objetos que compõem a API do Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-131">This topic provides an overview of the objects that make up the Direct2D API.</span></span> <span data-ttu-id="fa78e-132">Ele contém as seções a seguir:</span><span class="sxs-lookup"><span data-stu-id="fa78e-132">It contains the following sections:</span></span>

-   [<span data-ttu-id="fa78e-133">Arquivos de cabeçalho Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-133">Direct2D Header Files</span></span>](#direct2d-header-files)
-   [<span data-ttu-id="fa78e-134">Interfaces Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-134">Direct2D Interfaces</span></span>](#direct2d-interfaces)
-   [<span data-ttu-id="fa78e-135">A interface ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="fa78e-135">The ID2D1Factory Interface</span></span>](#the-id2d1factory-interface)
-   [<span data-ttu-id="fa78e-136">Destinos de renderização</span><span class="sxs-lookup"><span data-stu-id="fa78e-136">Render Targets</span></span>](#render-targets)
    -   [<span data-ttu-id="fa78e-137">Recursos de destino de renderização</span><span class="sxs-lookup"><span data-stu-id="fa78e-137">Render Target Features</span></span>](#render-target-features)
    -   [<span data-ttu-id="fa78e-138">Renderizar recursos de destino</span><span class="sxs-lookup"><span data-stu-id="fa78e-138">Render Target Resources</span></span>](#render-target-resources)
    -   [<span data-ttu-id="fa78e-139">Comandos de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-139">Drawing Commands</span></span>](#drawing-commands)
    -   [<span data-ttu-id="fa78e-140">Tratamento de erro</span><span class="sxs-lookup"><span data-stu-id="fa78e-140">Error Handling</span></span>](#error-handling)
-   [<span data-ttu-id="fa78e-141">Recursos de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-141">Drawing Resources</span></span>](#drawing-resources)
    -   [<span data-ttu-id="fa78e-142">Pincéis</span><span class="sxs-lookup"><span data-stu-id="fa78e-142">Brushes</span></span>](#brushes)
    -   [<span data-ttu-id="fa78e-143">Geometrias</span><span class="sxs-lookup"><span data-stu-id="fa78e-143">Geometries</span></span>](#geometries)
    -   [<span data-ttu-id="fa78e-144">Bitmaps</span><span class="sxs-lookup"><span data-stu-id="fa78e-144">Bitmaps</span></span>](#bitmaps)
-   [<span data-ttu-id="fa78e-145">Texto de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-145">Drawing Text</span></span>](#drawing-text)
-   [<span data-ttu-id="fa78e-146">Primitivos Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-146">Direct2D Primitives</span></span>](#direct2d-primitives)
-   [<span data-ttu-id="fa78e-147">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="fa78e-147">Related topics</span></span>](#related-topics)

## <a name="direct2d-header-files"></a><span data-ttu-id="fa78e-148">Arquivos de cabeçalho Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-148">Direct2D Header Files</span></span>

<span data-ttu-id="fa78e-149">A API Direct2D é definida pelos seguintes arquivos de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-149">The Direct2D API is defined by the following header files.</span></span>

| <span data-ttu-id="fa78e-150">Arquivo de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="fa78e-150">Header file</span></span>         | <span data-ttu-id="fa78e-151">Descrição</span><span class="sxs-lookup"><span data-stu-id="fa78e-151">Description</span></span>                                                                                                                  |
|---------------------|------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="fa78e-152">d2d1. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-152">d2d1.h</span></span>              | <span data-ttu-id="fa78e-153">Define as versões C e C++ da API Direct2D primária.</span><span class="sxs-lookup"><span data-stu-id="fa78e-153">Defines C and C++ versions of the primary Direct2D API.</span></span>                                                                      |
| <span data-ttu-id="fa78e-154">d2d1helper. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-154">d2d1helper.h</span></span>        | <span data-ttu-id="fa78e-155">Define as funções, classes e estruturas do auxiliar do C++.</span><span class="sxs-lookup"><span data-stu-id="fa78e-155">Defines C++ helper functions, classes, and structures.</span></span>                                                                       |
| <span data-ttu-id="fa78e-156">d2dbasetypes. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-156">d2dbasetypes.h</span></span>      | <span data-ttu-id="fa78e-157">Define primitivas de desenho para Direct2D, como pontos e retângulos.</span><span class="sxs-lookup"><span data-stu-id="fa78e-157">Defines drawing primitives for Direct2D, such as points and rectangles.</span></span> <span data-ttu-id="fa78e-158">Esse cabeçalho é incluído com d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fa78e-158">This header is included with d2d1.h.</span></span>                 |
| <span data-ttu-id="fa78e-159">d2derr. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-159">d2derr.h</span></span>            | <span data-ttu-id="fa78e-160">Define os códigos de erro para Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-160">Defines the error codes for Direct2D.</span></span> <span data-ttu-id="fa78e-161">Esse cabeçalho é incluído com d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fa78e-161">This header is included with d2d1.h.</span></span>                                                   |
| <span data-ttu-id="fa78e-162">d2d1 \_ 1. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-162">d2d1\_1.h</span></span>           | <span data-ttu-id="fa78e-163">Define as versões C e C++ da API Direct2D primária para o Windows 8 e posterior.</span><span class="sxs-lookup"><span data-stu-id="fa78e-163">Defines C and C++ versions of the primary Direct2D API for Windows 8 and later.</span></span>                                              |
| <span data-ttu-id="fa78e-164">d2d1 \_ 1helper. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-164">d2d1\_1helper.h</span></span>     | <span data-ttu-id="fa78e-165">Define as funções, classes e estruturas do auxiliar do C++ para o Windows 8 e posterior.</span><span class="sxs-lookup"><span data-stu-id="fa78e-165">Defines C++ helper functions, classes, and structures for Windows 8 and later.</span></span>                                               |
| <span data-ttu-id="fa78e-166">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-166">d2d1effects.h</span></span>       | <span data-ttu-id="fa78e-167">Define as versões C e C++ da parte de efeitos de imagem da API Direct2D para Windows 8 e posterior.</span><span class="sxs-lookup"><span data-stu-id="fa78e-167">Defines C and C++ versions of the image effects part of the Direct2D API for Windows 8 and later.</span></span>                            |
| <span data-ttu-id="fa78e-168">d2d1effecthelpers. h</span><span class="sxs-lookup"><span data-stu-id="fa78e-168">d2d1effecthelpers.h</span></span> | <span data-ttu-id="fa78e-169">Define as funções, classes e estruturas do auxiliar do C++ da parte de efeitos da imagem da API do Direct2D para Windows 8 e posterior.</span><span class="sxs-lookup"><span data-stu-id="fa78e-169">Defines C++ helper functions, classes, and structures of the image effects part of the Direct2D API for Windows 8 and later.</span></span> |



 

<span data-ttu-id="fa78e-170">Para usar o Direct2D, seu aplicativo deve incluir o arquivo de cabeçalho d2d1. h.</span><span class="sxs-lookup"><span data-stu-id="fa78e-170">To use Direct2D, your application should include the d2d1.h header file.</span></span>

<span data-ttu-id="fa78e-171">Para compilar um aplicativo Direct2D, adicione d2d1. lib à lista de bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-171">To compile a Direct2D application, add d2d1.lib to the list of libraries.</span></span> <span data-ttu-id="fa78e-172">Você pode encontrar d2d1. h e d2d1. lib no [SDK (Software Development Kit) do Windows para Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span><span class="sxs-lookup"><span data-stu-id="fa78e-172">You can find d2d1.h and d2d1.lib in [Windows Software Development Kit (SDK) for Windows 7](https://msdn.microsoft.com/windows/bb980924.aspx).</span></span>

<span data-ttu-id="fa78e-173">As seções a seguir descrevem algumas das interfaces comuns fornecidas pela API Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-173">The following sections describe some of the common interfaces provided by the Direct2D API.</span></span>

## <a name="direct2d-interfaces"></a><span data-ttu-id="fa78e-174">Interfaces Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-174">Direct2D Interfaces</span></span>

<span data-ttu-id="fa78e-175">Na raiz da API do Direct2D estão as interfaces [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) e [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-175">At the root of the Direct2D API are the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) and [**ID2D1Resource**](/windows/win32/api/d2d1/nn-d2d1-id2d1resource) interfaces.</span></span> <span data-ttu-id="fa78e-176">Um objeto **ID2D1Factory** cria objetos **ID2D1Resource** e serve como o ponto de partida para usar o Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-176">An **ID2D1Factory** object creates **ID2D1Resource** objects and serves as the starting point for using Direct2D.</span></span> <span data-ttu-id="fa78e-177">Todos os outros objetos Direct2D herdam da interface **ID2D1Resource** .</span><span class="sxs-lookup"><span data-stu-id="fa78e-177">All other Direct2D objects inherit from the **ID2D1Resource** interface.</span></span> <span data-ttu-id="fa78e-178">Há dois tipos de recursos de Direct2D: recursos independentes de dispositivo e recursos dependentes de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa78e-178">There are two types of Direct2D resources: device-independent resources and device-dependent resources.</span></span>

-   <span data-ttu-id="fa78e-179">Os recursos independentes de dispositivo não são associados a um determinado dispositivo de renderização e podem persistir durante o ciclo de vida de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fa78e-179">Device-independent resources are not associated with a particular rendering device and can persist for the life of an application.</span></span>
-   <span data-ttu-id="fa78e-180">Os recursos dependentes do dispositivo são associados a um determinado dispositivo de renderização e deixam de funcionar se o dispositivo for removido.</span><span class="sxs-lookup"><span data-stu-id="fa78e-180">Device-dependent resources are associated with a particular rendering device and cease to function if that device is removed.</span></span>

<span data-ttu-id="fa78e-181">(Para obter mais informações sobre recursos e compartilhamento de recursos, consulte a [visão geral de recursos](resources-and-resource-domains.md).)</span><span class="sxs-lookup"><span data-stu-id="fa78e-181">(For more information about resources and resource sharing, see the [Resources Overview](resources-and-resource-domains.md).)</span></span>

## <a name="the-id2d1factory-interface"></a><span data-ttu-id="fa78e-182">A interface ID2D1Factory</span><span class="sxs-lookup"><span data-stu-id="fa78e-182">The ID2D1Factory Interface</span></span>

<span data-ttu-id="fa78e-183">A interface [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) é o ponto de partida para usar o Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-183">The [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory) interface is the starting point for using Direct2D.</span></span> <span data-ttu-id="fa78e-184">Você usa um **ID2D1Factory** para instanciar recursos do Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-184">You use an **ID2D1Factory** to instantiate Direct2D resources.</span></span> <span data-ttu-id="fa78e-185">Para criar um ID2D1Factory, use um dos métodos [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-185">To create an ID2D1Factory, you use one of the [**CreateFactory**](/windows/win32/api/d2d1/nf-d2d1-d2d1createfactory) methods.</span></span>

<span data-ttu-id="fa78e-186">Uma fábrica define um conjunto de métodos Create *Resource* que podem produzir os seguintes recursos de desenho:</span><span class="sxs-lookup"><span data-stu-id="fa78e-186">A factory defines a set of Create *Resource* methods that can produce the following drawing resources:</span></span>

-   <span data-ttu-id="fa78e-187">Os destinos de renderização são objetos que renderizam comandos de desenho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-187">Render targets are objects that render drawing commands.</span></span>
-   <span data-ttu-id="fa78e-188">Os blocos de estado de desenho são objetos que armazenam informações de estado de desenho, como o modo de transformação e de anti-aliasing atual.</span><span class="sxs-lookup"><span data-stu-id="fa78e-188">Drawing state blocks are objects that store drawing state information, such as the current transformation and antialiasing mode.</span></span>
-   <span data-ttu-id="fa78e-189">As geometrias são objetos que representam formas simples e potencialmente complexas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-189">Geometries are objects that represent simple and potentially complex shapes.</span></span>

<span data-ttu-id="fa78e-190">Um dos objetos mais úteis que uma fábrica pode criar é o [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), descrito na seção a seguir.</span><span class="sxs-lookup"><span data-stu-id="fa78e-190">One of the most useful objects a factory can create is the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget), described in the following section.</span></span>

## <a name="render-targets"></a><span data-ttu-id="fa78e-191">Destinos de renderização</span><span class="sxs-lookup"><span data-stu-id="fa78e-191">Render Targets</span></span>

<span data-ttu-id="fa78e-192">Um destino de renderização é um recurso que herda da interface [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-192">A render target is a resource that inherits from the [**ID2D1RenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget) interface.</span></span> <span data-ttu-id="fa78e-193">Um destino de renderização cria recursos para desenhar e executar operações de desenho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-193">A render target creates resources for drawing and performs drawing operations.</span></span> <span data-ttu-id="fa78e-194">Há vários tipos de destinos de renderização que podem ser usados para renderizar elementos gráficos das seguintes maneiras:</span><span class="sxs-lookup"><span data-stu-id="fa78e-194">There are several kinds of render targets that can be used to render graphics in the following ways:</span></span>

-   <span data-ttu-id="fa78e-195">Os objetos [**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) renderizam o conteúdo em uma janela.</span><span class="sxs-lookup"><span data-stu-id="fa78e-195">[**ID2D1HwndRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1hwndrendertarget) objects render content to a window.</span></span>
-   <span data-ttu-id="fa78e-196">Os objetos [**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) são renderizados em um contexto de dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="fa78e-196">[**ID2D1DCRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1dcrendertarget) objects render to a GDI device context.</span></span>
-   <span data-ttu-id="fa78e-197">Os objetos de destino de renderização de bitmap renderizam conteúdo para um bitmap fora da tela.</span><span class="sxs-lookup"><span data-stu-id="fa78e-197">Bitmap render target objects render content to an off-screen bitmap.</span></span>
-   <span data-ttu-id="fa78e-198">Os objetos de destino de renderização DXGI são renderizados em uma superfície DXGI para uso com o Direct3D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-198">DXGI render target objects render to a DXGI surface for use with Direct3D.</span></span>

<span data-ttu-id="fa78e-199">Como um destino de renderização é associado a um dispositivo de renderização específico, ele é um recurso dependente de dispositivo e deixa de funcionar se o dispositivo for removido.</span><span class="sxs-lookup"><span data-stu-id="fa78e-199">Because a render target is associated with a particular rendering device, it is a device-dependent resource and ceases to function if the device is removed.</span></span>

### <a name="render-target-features"></a><span data-ttu-id="fa78e-200">Recursos de destino de renderização</span><span class="sxs-lookup"><span data-stu-id="fa78e-200">Render Target Features</span></span>

<span data-ttu-id="fa78e-201">Você pode especificar se um destino de renderização deve usar a aceleração de hardware e se a exibição remota deve ser processada pelo computador local ou remoto.</span><span class="sxs-lookup"><span data-stu-id="fa78e-201">You can specify whether a render target should use hardware acceleration and whether remote display should be rendered by the local or remote computer.</span></span> <span data-ttu-id="fa78e-202">Os destinos de renderização podem ser configurados para renderização com alias ou AntiAlias.</span><span class="sxs-lookup"><span data-stu-id="fa78e-202">Render targets can be set up for aliased or antialiased rendering.</span></span> <span data-ttu-id="fa78e-203">Para a renderização de cenas com um grande número de primitivos, um desenvolvedor também pode renderizar gráficos 2D no modo com alias e usar a suavização de vários exemplos do D3D para obter maior escalabilidade.</span><span class="sxs-lookup"><span data-stu-id="fa78e-203">For rendering scenes with a large number of primitives, a developer can also render 2-D graphics in aliased mode and use D3D multisample antialiasing to achieve greater scalability.</span></span>

<span data-ttu-id="fa78e-204">Os destinos de renderização também podem agrupar operações de desenho em camadas que são representadas pela interface [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-204">Render targets can also group drawing operations into layers that are represented by the [**ID2D1Layer**](/windows/win32/api/d2d1/nn-d2d1-id2d1layer) interface.</span></span> <span data-ttu-id="fa78e-205">As camadas são úteis para coletar operações de desenho a serem compostas ao renderizar um quadro.</span><span class="sxs-lookup"><span data-stu-id="fa78e-205">Layers are useful for collecting drawing operations to be composited together when rendering a frame.</span></span> <span data-ttu-id="fa78e-206">Para alguns cenários, isso pode ser uma alternativa útil para renderizar para um destino de renderização de bitmap e, em seguida, reutilizar o conteúdo do bitmap, já que os custos de alocação para a disposição em camadas são menores do que para um [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span><span class="sxs-lookup"><span data-stu-id="fa78e-206">For some scenarios, this can be a useful alternative to rendering to a bitmap render target, and then reusing the bitmap contents, as allocation costs for layering are lower than for an [**ID2D1BitmapRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmaprendertarget).</span></span>

<span data-ttu-id="fa78e-207">Os destinos de renderização podem criar novos destinos de renderização que são compatíveis com eles próprios, o que é útil para o processamento fora da tela intermediário enquanto retém as várias propriedades de destino de renderização que foram definidas no original.</span><span class="sxs-lookup"><span data-stu-id="fa78e-207">Render targets can create new render targets that are compatible with themselves, which is useful for intermediate off-screen rendering while retaining the various render-target properties that were set on the original.</span></span>

<span data-ttu-id="fa78e-208">Também é possível renderizar usando GDI em um destino de renderização Direct2D chamando [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) em um destino de renderização para [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), que tem os métodos [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) e [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) que podem ser usados para recuperar um contexto de dispositivo GDI.</span><span class="sxs-lookup"><span data-stu-id="fa78e-208">It is also possible to render using GDI on a Direct2D render target by calling [**QueryInterface**](/windows/win32/api/unknwn/nf-unknwn-iunknown-queryinterface(q)) on a render target for [**ID2D1GdiInteropRenderTarget**](/windows/win32/api/d2d1/nn-d2d1-id2d1gdiinteroprendertarget), which has [**GetDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-getdc) and [**ReleaseDC**](/windows/win32/api/d2d1/nf-d2d1-id2d1gdiinteroprendertarget-releasedc) methods on it that can be used to retrieve a GDI device context.</span></span> <span data-ttu-id="fa78e-209">A renderização por meio de GDI só será possível se o destino de renderização tiver sido criado com o sinalizador de [**\_ uso de \_ destino \_ \_ \_ compatível com GDI do d2d1 render**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-209">Rendering via GDI is possible only if the render target was created with the [**D2D1\_RENDER\_TARGET\_USAGE\_GDI\_COMPATIBLE**](/windows/win32/api/d2d1/ne-d2d1-d2d1_render_target_usage) flag set.</span></span> <span data-ttu-id="fa78e-210">Isso é útil para aplicativos que são renderizados principalmente com Direct2D, mas têm um modelo de extensibilidade ou outro conteúdo herdado que requer a capacidade de renderizar com o GDI.</span><span class="sxs-lookup"><span data-stu-id="fa78e-210">This is useful for applications that primarily render with Direct2D but have an extensibility model or other legacy content that requires the ability to render with GDI.</span></span> <span data-ttu-id="fa78e-211">Para obter mais informações, consulte a [visão geral de interoperabilidade Direct2D e GDI](direct2d-and-gdi-interoperation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fa78e-211">For more information, see the [Direct2D and GDI Interoperability Overview](direct2d-and-gdi-interoperation-overview.md).</span></span>

### <a name="render-target-resources"></a><span data-ttu-id="fa78e-212">Renderizar recursos de destino</span><span class="sxs-lookup"><span data-stu-id="fa78e-212">Render Target Resources</span></span>

<span data-ttu-id="fa78e-213">Como uma fábrica, um destino de renderização pode criar recursos de desenho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-213">Like a factory, a render target can create drawing resources.</span></span> <span data-ttu-id="fa78e-214">Todos os recursos criados por um destino de renderização são recursos dependentes do dispositivo (assim como o destino de renderização).</span><span class="sxs-lookup"><span data-stu-id="fa78e-214">Any resources created by a render target are device-dependent resources (just like the render target).</span></span> <span data-ttu-id="fa78e-215">Um destino de renderização pode criar os seguintes tipos de recursos:</span><span class="sxs-lookup"><span data-stu-id="fa78e-215">A render target can create the following types of resources:</span></span>

-   <span data-ttu-id="fa78e-216">Bitmaps</span><span class="sxs-lookup"><span data-stu-id="fa78e-216">Bitmaps</span></span>
-   <span data-ttu-id="fa78e-217">Pincéis</span><span class="sxs-lookup"><span data-stu-id="fa78e-217">Brushes</span></span>
-   <span data-ttu-id="fa78e-218">Camadas</span><span class="sxs-lookup"><span data-stu-id="fa78e-218">Layers</span></span>
-   <span data-ttu-id="fa78e-219">Malhas</span><span class="sxs-lookup"><span data-stu-id="fa78e-219">Meshes</span></span>

### <a name="drawing-commands"></a><span data-ttu-id="fa78e-220">Comandos de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-220">Drawing Commands</span></span>

<span data-ttu-id="fa78e-221">Para renderizar o conteúdo, use os métodos de desenho de destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="fa78e-221">To render content, you use the render target drawing methods.</span></span> <span data-ttu-id="fa78e-222">Antes de começar a desenhar, chame o método [**ID2D1RenderTarget:: BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-222">Before you begin drawing, you call the [**ID2D1RenderTarget::BeginDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-begindraw) method.</span></span> <span data-ttu-id="fa78e-223">Depois de terminar o desenho, chame o método [**ID2D1RenderTarget:: EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-223">After you finished drawing, you call the [**ID2D1RenderTarget::EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method.</span></span> <span data-ttu-id="fa78e-224">Entre essas chamadas, você usa métodos Draw e Fill para renderizar recursos de desenho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-224">In between these calls, you use Draw and Fill methods to render drawing resources.</span></span> <span data-ttu-id="fa78e-225">A maioria dos métodos Draw e Fill pega uma forma (uma primitiva ou uma geometry) e um pincel para preencher ou estruturar a forma.</span><span class="sxs-lookup"><span data-stu-id="fa78e-225">Most Draw and Fill methods take a shape (either a primitive or a geometry) and a brush for filling or outlining the shape.</span></span>

<span data-ttu-id="fa78e-226">Os destinos de renderização também fornecem métodos para recorte, aplicação de máscaras de opacidade e transformação do espaço de coordenadas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-226">Render targets also provide methods for clipping, applying opacity masks, and transforming the coordinate space.</span></span>

<span data-ttu-id="fa78e-227">Direct2D usa um sistema de coordenadas à esquerda: valores positivos do eixo x passam para os valores do eixo y direito e positivo para baixo.</span><span class="sxs-lookup"><span data-stu-id="fa78e-227">Direct2D uses a left-handed coordinate system: positive x-axis values proceed to the right and positive y-axis values proceed downward.</span></span>

### <a name="error-handling"></a><span data-ttu-id="fa78e-228">Tratamento de erros</span><span class="sxs-lookup"><span data-stu-id="fa78e-228">Error Handling</span></span>

<span data-ttu-id="fa78e-229">Processar comandos de desenho de destino não indique se a operação solicitada foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="fa78e-229">Render target drawing commands do not indicate whether the requested operation was successful.</span></span> <span data-ttu-id="fa78e-230">Para descobrir se houve erros de desenho, chame o método de [**liberação**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) de destino render ou o método [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) para obter um **HRESULT**.</span><span class="sxs-lookup"><span data-stu-id="fa78e-230">To find out whether there were drawing errors, call the render target [**Flush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-flush) method or [**EndDraw**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-enddraw) method to obtain an **HRESULT**.</span></span>

## <a name="drawing-resources"></a><span data-ttu-id="fa78e-231">Recursos de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-231">Drawing Resources</span></span>

<span data-ttu-id="fa78e-232">As seções a seguir descrevem alguns dos recursos que podem ser criados pelo destino de renderização e pelas interfaces de fábrica.</span><span class="sxs-lookup"><span data-stu-id="fa78e-232">The following sections describe some of the resources that can be created by the render target and factory interfaces.</span></span>

### <a name="brushes"></a><span data-ttu-id="fa78e-233">Pincéis</span><span class="sxs-lookup"><span data-stu-id="fa78e-233">Brushes</span></span>

<span data-ttu-id="fa78e-234">Um pincel, representado pela interface [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) , é um recurso dependente de dispositivo, criado por um destino de renderização, que pinta uma área com sua saída.</span><span class="sxs-lookup"><span data-stu-id="fa78e-234">A brush, represented by the [**ID2D1Brush**](/windows/win32/api/d2d1/nn-d2d1-id2d1brush) interface, is a device-dependent resource, created by a render target, that paints an area with its output.</span></span> <span data-ttu-id="fa78e-235">Pincéis diferentes têm tipos diferentes de saída.</span><span class="sxs-lookup"><span data-stu-id="fa78e-235">Different brushes have different types of output.</span></span> <span data-ttu-id="fa78e-236">Alguns pincéis pintam uma área com uma cor sólida, outras com um gradiente ou uma imagem.</span><span class="sxs-lookup"><span data-stu-id="fa78e-236">Some brushes paint an area with a solid color, others with a gradient or an image.</span></span> <span data-ttu-id="fa78e-237">O Direct2D fornece quatro tipos de pincéis:</span><span class="sxs-lookup"><span data-stu-id="fa78e-237">Direct2D provides four types of brushes:</span></span>

-   <span data-ttu-id="fa78e-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) pinta uma área com uma cor sólida.</span><span class="sxs-lookup"><span data-stu-id="fa78e-238">[**ID2D1SolidColorBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1solidcolorbrush) paints an area with a solid color.</span></span>
-   <span data-ttu-id="fa78e-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) pinta uma área com um gradiente linear que mistura duas ou mais cores em uma linha, o eixo gradiente.</span><span class="sxs-lookup"><span data-stu-id="fa78e-239">[**ID2D1LinearGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1lineargradientbrush) paints an area with a linear gradient that blends two or more colors across a line, the gradient axis.</span></span>
-   <span data-ttu-id="fa78e-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) pinta uma área com um gradiente radial que mistura duas ou mais cores em uma elipse.</span><span class="sxs-lookup"><span data-stu-id="fa78e-240">[**ID2D1RadialGradientBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1radialgradientbrush) paints an area with a radial gradient that blends two or more colors around an ellipse.</span></span>
-   <span data-ttu-id="fa78e-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) pinta uma área com um bitmap.</span><span class="sxs-lookup"><span data-stu-id="fa78e-241">[**ID2D1BitmapBrush**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmapbrush) paints an area with a bitmap.</span></span>

<span data-ttu-id="fa78e-242">Para criar um pincel, use um dos métodos de pincel [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* , como [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span><span class="sxs-lookup"><span data-stu-id="fa78e-242">To create a brush, you use one of the [**ID2D1RenderTarget::**](/windows/win32/api/d2d1/nn-d2d1-id2d1rendertarget)Create *<Type>* Brush methods, such as [**CreateRadialGradientBrush**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createradialgradientbrush(constd2d1_radial_gradient_brush_properties__constd2d1_brush_properties__id2d1gradientstopcollection_id2d1radialgradientbrush)).</span></span> <span data-ttu-id="fa78e-243">Os pincéis podem ser usados com métodos de desenho e preenchimento de destino de renderização, para pintar um traço de forma ou estrutura de tópicos ou como uma máscara de opacidade.</span><span class="sxs-lookup"><span data-stu-id="fa78e-243">Brushes can be used with a render target Draw and Fill methods, either to paint a shape stroke or outline, or as an opacity mask.</span></span>

<span data-ttu-id="fa78e-244">Para obter mais informações sobre pincéis, consulte a [visão geral de pincéis](direct2d-brushes-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fa78e-244">For more information about brushes, see the [Brushes Overview](direct2d-brushes-overview.md).</span></span>

### <a name="geometries"></a><span data-ttu-id="fa78e-245">Geometrias</span><span class="sxs-lookup"><span data-stu-id="fa78e-245">Geometries</span></span>

<span data-ttu-id="fa78e-246">Além dos primitivos básicos de desenho, como pontos, retângulos e reticências, o Direct2D fornece a interface [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) para descrever formas simples e complexas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-246">In addition to basic drawing primitives such as points, rectangles, and ellipses, Direct2D provides the [**ID2D1Geometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometry) interface for describing simple and complex shapes.</span></span> <span data-ttu-id="fa78e-247">As interfaces que herdam de **ID2D1Geometry** definem diferentes tipos de formas, como [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) para representar retângulos, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) para representar retângulos arredondados e [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) para representar reticências.</span><span class="sxs-lookup"><span data-stu-id="fa78e-247">Interfaces that inherit from **ID2D1Geometry** define different types of shapes, such as [**ID2D1RectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1rectanglegeometry) for representing rectangles, [**ID2D1RoundedRectangleGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1roundedrectanglegeometry) for representing rounded rectangles, and [**ID2D1EllipseGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1ellipsegeometry) for representing ellipses.</span></span>

<span data-ttu-id="fa78e-248">Formas mais complexas podem ser criadas usando a interface [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) para especificar uma série de figuras compostas por linhas, curvas e arcos.</span><span class="sxs-lookup"><span data-stu-id="fa78e-248">More complex shapes can be created by using the [**ID2D1GeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1geometrysink) interface to specify a series of figures composed of lines, curves, and arcs.</span></span> <span data-ttu-id="fa78e-249">O **ID2D1GeometrySink** é passado para o método Open de um [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) para gerar uma geometria complexa.</span><span class="sxs-lookup"><span data-stu-id="fa78e-249">The **ID2D1GeometrySink** is passed to the Open method of an [**ID2D1PathGeometry**](/windows/win32/api/d2d1/nn-d2d1-id2d1pathgeometry) to generate a complex geometry.</span></span> <span data-ttu-id="fa78e-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) também pode ser usado com a API DirectWrite para extrair os contornos de caminho do texto formatado para a renderização artística.</span><span class="sxs-lookup"><span data-stu-id="fa78e-250">[**ID2D1SimplifiedGeometrySink**](/windows/win32/api/d2d1/nn-d2d1-id2d1simplifiedgeometrysink) can also be used with the DirectWrite API to extract path outlines of formatted text for artistic rendering.</span></span>

<span data-ttu-id="fa78e-251">As interfaces de geometria fornecem métodos para manipular formas ampliando ou simplificando geometrias existentes ou gerando a interseção ou União de várias geometrias.</span><span class="sxs-lookup"><span data-stu-id="fa78e-251">The geometry interfaces provide methods for manipulating shapes by widening or simplifying existing geometries, or by generating the intersection or union of multiple geometries.</span></span> <span data-ttu-id="fa78e-252">Eles também fornecem métodos para determinar se as geometrias estão se interseccionando ou se sobrepondo, recuperando informações associadas, computando a área ou o comprimento de uma geometria e interpolando os locais ao longo de uma geometria.</span><span class="sxs-lookup"><span data-stu-id="fa78e-252">They also provide methods for determining whether geometries are intersecting or overlapping, retrieving bounds information, computing the area or length of a geometry, and interpolating locations along a geometry.</span></span> <span data-ttu-id="fa78e-253">O Direct2D também fornece a capacidade de criar uma malha de triângulos que é mosaico de uma geometria.</span><span class="sxs-lookup"><span data-stu-id="fa78e-253">Direct2D also provides the ability to create a mesh of triangles that is tessellated from a geometry.</span></span>

<span data-ttu-id="fa78e-254">Para criar uma geometria, use um dos métodos de geometria [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory):: Create *<Type>* , como [**createpathgeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span><span class="sxs-lookup"><span data-stu-id="fa78e-254">To create a geometry, you use one of the [**ID2D1Factory**](/windows/win32/api/d2d1/nn-d2d1-id2d1factory)::Create *<Type>* Geometry methods, such as [**CreatePathGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1factory-createpathgeometry).</span></span> <span data-ttu-id="fa78e-255">Uma geometria é um recurso independente de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="fa78e-255">A geometry is a device-independent resource.</span></span>

<span data-ttu-id="fa78e-256">Para renderizar uma geometria, você usa os métodos [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) e [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) de um destino de renderização.</span><span class="sxs-lookup"><span data-stu-id="fa78e-256">To render a geometry, you use the [**DrawGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawgeometry) and [**FillGeometry**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-fillgeometry) methods of a render target.</span></span>

<span data-ttu-id="fa78e-257">Para obter mais informações sobre geometrias, consulte a [visão geral de geometrias](direct2d-geometries-overview.md).</span><span class="sxs-lookup"><span data-stu-id="fa78e-257">For more information about geometries, see the [Geometries Overview](direct2d-geometries-overview.md).</span></span>

### <a name="bitmaps"></a><span data-ttu-id="fa78e-258">Bitmaps</span><span class="sxs-lookup"><span data-stu-id="fa78e-258">Bitmaps</span></span>

<span data-ttu-id="fa78e-259">Direct2D não fornece métodos para carregar ou armazenar bitmaps; em vez disso, ele permite que você crie bitmaps usando o [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span><span class="sxs-lookup"><span data-stu-id="fa78e-259">Direct2D does not provide methods for loading or storing bitmaps; rather, it enables you to create bitmaps using the [Windows Imaging Component (WIC)](../wic/-wic-about-windows-imaging-codec.md).</span></span> <span data-ttu-id="fa78e-260">Os recursos de bitmap podem ser carregados usando o WIC e, em seguida, usados para criar um [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) por meio do método [**ID2D1RenderTarget:: CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-260">Bitmap resources can be loaded using WIC and then used to create an [**ID2D1Bitmap**](/windows/win32/api/d2d1/nn-d2d1-id2d1bitmap) through the [**ID2D1RenderTarget::CreateBitmapFromWicBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-createbitmapfromwicbitmap(iwicbitmapsource_constd2d1_bitmap_properties_id2d1bitmap)) method.</span></span>

<span data-ttu-id="fa78e-261">Os bitmaps também podem ser criados a partir de dados na memória que foram configurados por outros meios.</span><span class="sxs-lookup"><span data-stu-id="fa78e-261">Bitmaps can also be created from in-memory data that was set up through other means.</span></span> <span data-ttu-id="fa78e-262">Depois que um bitmap tiver sido criado, ele poderá ser desenhado pelo método [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) de destino render ou por um pincel de bitmap.</span><span class="sxs-lookup"><span data-stu-id="fa78e-262">After a bitmap has been created, it can be drawn by the render target [**DrawBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawbitmap(id2d1bitmap_constd2d1_rect_f__float_d2d1_bitmap_interpolation_mode_constd2d1_rect_f_)) method or with a bitmap brush.</span></span>

<span data-ttu-id="fa78e-263">Como a criação de recursos de bitmap em destinos de renderização de hardware geralmente é uma operação cara, o Direct2D pode atualizar o conteúdo de um bitmap (ou parte do bitmap) usando os métodos [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget)e [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-263">Because creating bitmap resources on hardware render targets is often an expensive operation, Direct2D can update the contents of a bitmap (or portion of the bitmap) by using the [**CopyFromBitmap**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrombitmap), [**CopyFromRenderTarget**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfromrendertarget), and [**CopyFromMemory**](/windows/win32/api/d2d1/nf-d2d1-id2d1bitmap-copyfrommemory) methods.</span></span> <span data-ttu-id="fa78e-264">Usar esses métodos pode potencialmente salvar os custos associados a alocações de textura de GPU adicionais.</span><span class="sxs-lookup"><span data-stu-id="fa78e-264">Using these methods can potentially save the costs associated with additional GPU texture allocations.</span></span>

## <a name="drawing-text"></a><span data-ttu-id="fa78e-265">Texto de desenho</span><span class="sxs-lookup"><span data-stu-id="fa78e-265">Drawing Text</span></span>

<span data-ttu-id="fa78e-266">O Direct2D foi projetado para trabalhar com as operações de texto da nova API de texto, DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="fa78e-266">Direct2D was designed to work with the text operations of the new text API, DirectWrite.</span></span> <span data-ttu-id="fa78e-267">Para tornar o uso da API DirectWrite mais simples, os destinos de renderização fornecem três métodos para processar recursos de texto DirectWrite: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout)e [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span><span class="sxs-lookup"><span data-stu-id="fa78e-267">To make using the DirectWrite API simpler, render targets provide three methods for rendering DirectWrite text resources: [**DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)), [**DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout), and [**DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun).</span></span> <span data-ttu-id="fa78e-268">Como o Direct2D usa a GPU para o processo de renderização de texto ClearType, o Direct2D fornece menor uso de CPU do que o GDI para operações de texto e melhor escalabilidade, pois mais capacidade de processamento de GPU está disponível.</span><span class="sxs-lookup"><span data-stu-id="fa78e-268">Because Direct2D uses the GPU for the ClearType text rendering process, Direct2D provides lower CPU usage than GDI for text operations and better scalability as more GPU processing power is available.</span></span>

<span data-ttu-id="fa78e-269">O [**ID2D1RenderTarget::D rawtext**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) foi projetado para os cenários mais simples envolvendo a renderização de uma cadeia de caracteres de texto Unicode com formatação mínima.</span><span class="sxs-lookup"><span data-stu-id="fa78e-269">The [**ID2D1RenderTarget::DrawText**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode)) is designed for the simplest scenarios involving rendering a string of Unicode text with minimal formatting.</span></span> <span data-ttu-id="fa78e-270">Layout mais complexo e flexibilidade tipográfica são fornecidos por meio do método [**ID2D1RenderTarget::D rawtextlayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) , que usa um objeto [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) para especificar o conteúdo e a formatação a serem renderizados.</span><span class="sxs-lookup"><span data-stu-id="fa78e-270">More complex layout and typographic flexibility is provided through the [**ID2D1RenderTarget::DrawTextLayout**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtextlayout) method, which uses an [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) object to specify the content and formatting to be rendered.</span></span> <span data-ttu-id="fa78e-271">O **IDWriteTextLayout** permite que você especifique a formatação individual para subcadeias de texto e outras opções de tipografia avançadas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-271">**IDWriteTextLayout** enables you to specify individual formatting for substrings of text and other advanced typography options.</span></span>

<span data-ttu-id="fa78e-272">Para cenários em que o controle preciso do layout em nível de glifo é necessário, o método [**ID2D1RenderTarget::D rawglyphrun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) pode ser usado em conjunto com as facilidades de medida fornecidas pelo [DirectWrite](../directwrite/direct-write-portal.md).</span><span class="sxs-lookup"><span data-stu-id="fa78e-272">For scenarios where precise control of glyph-level layout is required, the [**ID2D1RenderTarget::DrawGlyphRun**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawglyphrun) method can be used in conjunction with the measurement facilities provided by [DirectWrite](../directwrite/direct-write-portal.md).</span></span>

<span data-ttu-id="fa78e-273">Para usar a API DirectWrite, inclua o cabeçalho dwrite. h.</span><span class="sxs-lookup"><span data-stu-id="fa78e-273">To use the DirectWrite API, include the dwrite.h header.</span></span> <span data-ttu-id="fa78e-274">Como Direct2D, o DirectWrite usa uma fábrica, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) para criar objetos de texto.</span><span class="sxs-lookup"><span data-stu-id="fa78e-274">Like Direct2D, DirectWrite uses a factory, [**IDWriteFactory**](/windows/win32/api/dwrite/nn-dwrite-idwritefactory) to create text objects.</span></span> <span data-ttu-id="fa78e-275">Use a função [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) para criar uma fábrica e, em seguida, use seus métodos Create para criar recursos do DirectWrite (como [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span><span class="sxs-lookup"><span data-stu-id="fa78e-275">Use the [**DWriteCreateFactory**](/windows/win32/api/dwrite/nf-dwrite-dwritecreatefactory) function to create a factory, and then use its Create methods to create DirectWrite resources (such as [**IDWriteTextFormat**](/windows/win32/api/d2d1/nf-d2d1-id2d1rendertarget-drawtext(constwchar_uint32_idwritetextformat_constd2d1_rect_f__id2d1brush_d2d1_draw_text_options_dwrite_measuring_mode))).</span></span>

<span data-ttu-id="fa78e-276">Para obter mais informações sobre DirectWrite, consulte o tópico [introdução ao DirectWrite](../directwrite/introducing-directwrite.md) .</span><span class="sxs-lookup"><span data-stu-id="fa78e-276">For more information about DirectWrite, see the [Introducing DirectWrite](../directwrite/introducing-directwrite.md) topic.</span></span>

## <a name="direct2d-primitives"></a><span data-ttu-id="fa78e-277">Primitivos Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-277">Direct2D Primitives</span></span>

<span data-ttu-id="fa78e-278">Direct2D define um conjunto de primitivos que são semelhantes aos fornecidos por outras APIs de desenho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-278">Direct2D defines a set of primitives that are similar to those provided by other drawing APIs.</span></span> <span data-ttu-id="fa78e-279">Ele fornece uma estrutura de cores, uma estrutura de matriz para executar transformações e versões de ponto flutuante e inteiro de pontos, retângulos, elipses e estruturas de tamanho.</span><span class="sxs-lookup"><span data-stu-id="fa78e-279">It provides a color structure, a matrix structure for performing transformations, and floating-point and integer versions of points, rectangles, ellipses, and size structures.</span></span> <span data-ttu-id="fa78e-280">Normalmente, você usa as versões de ponto flutuante dessas estruturas.</span><span class="sxs-lookup"><span data-stu-id="fa78e-280">Usually, you use the floating-point versions of these structures.</span></span>

<span data-ttu-id="fa78e-281">Você não usa uma fábrica ou um destino de renderização para criar uma instância de primitivos Direct2D.</span><span class="sxs-lookup"><span data-stu-id="fa78e-281">You do not use a factory or a render target to instantiate Direct2D primitives.</span></span> <span data-ttu-id="fa78e-282">Você pode criá-los diretamente ou usar os métodos auxiliares definidos em d2d1helper. h para criá-los.</span><span class="sxs-lookup"><span data-stu-id="fa78e-282">You can create them directly, or use the helper methods defined in d2d1helper.h to create them.</span></span>

## <a name="related-topics"></a><span data-ttu-id="fa78e-283">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="fa78e-283">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="fa78e-284">Referência de Direct2D</span><span class="sxs-lookup"><span data-stu-id="fa78e-284">Direct2D Reference</span></span>](reference.md)
</dt> <dt>

[<span data-ttu-id="fa78e-285">Exemplo de Olá, Mundo de DirectWrite</span><span class="sxs-lookup"><span data-stu-id="fa78e-285">DirectWrite Hello World Sample</span></span>](/samples/browse/?redirectedfrom=MSDN-samples)
</dt> <dt>

[<span data-ttu-id="fa78e-286">Apresentando o DirectWrite</span><span class="sxs-lookup"><span data-stu-id="fa78e-286">Introducing DirectWrite</span></span>](../directwrite/introducing-directwrite.md)
</dt> <dt>

[<span data-ttu-id="fa78e-287">Visão geral de recursos</span><span class="sxs-lookup"><span data-stu-id="fa78e-287">Resources Overview</span></span>](resources-and-resource-domains.md)
</dt> <dt>

[<span data-ttu-id="fa78e-288">Windows Imaging Component (WIC)</span><span class="sxs-lookup"><span data-stu-id="fa78e-288">Windows Imaging Component (WIC)</span></span>](../wic/-wic-about-windows-imaging-codec.md)
</dt> </dl>

 

 