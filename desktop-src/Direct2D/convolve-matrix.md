---
title: Efeito de matriz Convolve
description: Use o efeito de matriz convolve para aplicar um kernel 2D arbitrário a uma imagem. Você pode usar esse efeito para desfocar, detectar bordas, relevo ou aumentar a nitidez de uma imagem.
ms.assetid: D9C23AC4-0090-4F16-AC59-B952FB616FA9
keywords:
- efeito de matriz convolve
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 27951f5b9145dc46188e6b3112892d1a61856236
ms.sourcegitcommit: a1494c819bc5200050696e66057f1020f5b142cb
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 12/12/2020
ms.locfileid: "104557193"
---
# <a name="convolve-matrix-effect"></a><span data-ttu-id="20408-105">Efeito de matriz Convolve</span><span class="sxs-lookup"><span data-stu-id="20408-105">Convolve matrix effect</span></span>

<span data-ttu-id="20408-106">Use o efeito de matriz convolve para aplicar um kernel 2D arbitrário a uma imagem.</span><span class="sxs-lookup"><span data-stu-id="20408-106">Use the convolve matrix effect to apply an arbitrary 2D kernel to an image.</span></span> <span data-ttu-id="20408-107">Você pode usar esse efeito para desfocar, detectar bordas, relevo ou aumentar a nitidez de uma imagem.</span><span class="sxs-lookup"><span data-stu-id="20408-107">You can use this effect to blur, detect edges, emboss, or sharpen an image.</span></span>

<span data-ttu-id="20408-108">O CLSID para esse efeito é CLSID \_ D2D1ConvolveMatrix.</span><span class="sxs-lookup"><span data-stu-id="20408-108">The CLSID for this effect is CLSID\_D2D1ConvolveMatrix.</span></span>

-   [<span data-ttu-id="20408-109">Imagem de exemplo</span><span class="sxs-lookup"><span data-stu-id="20408-109">Example image</span></span>](#example-image)
-   [<span data-ttu-id="20408-110">Propriedades do efeito</span><span class="sxs-lookup"><span data-stu-id="20408-110">Effect properties</span></span>](#effect-properties)
-   [<span data-ttu-id="20408-111">Modos de escala</span><span class="sxs-lookup"><span data-stu-id="20408-111">Scale modes</span></span>](#scale-modes)
-   [<span data-ttu-id="20408-112">Modos de borda</span><span class="sxs-lookup"><span data-stu-id="20408-112">Border modes</span></span>](#border-modes)
-   [<span data-ttu-id="20408-113">Bitmap de saída</span><span class="sxs-lookup"><span data-stu-id="20408-113">Output bitmap</span></span>](#output-bitmap)
-   [<span data-ttu-id="20408-114">Requirements</span><span class="sxs-lookup"><span data-stu-id="20408-114">Requirements</span></span>](#requirements)
-   [<span data-ttu-id="20408-115">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="20408-115">Related topics</span></span>](#related-topics)

## <a name="example-image"></a><span data-ttu-id="20408-116">Imagem de exemplo</span><span class="sxs-lookup"><span data-stu-id="20408-116">Example image</span></span>

<span data-ttu-id="20408-117">O exemplo aqui mostra a entrada e a saída do efeito de matriz convolve com um kernel de 3 x 3.</span><span class="sxs-lookup"><span data-stu-id="20408-117">The example here shows the input and output of the convolve matrix effect with a 3 x 3 kernel.</span></span>



| <span data-ttu-id="20408-118">Antes</span><span class="sxs-lookup"><span data-stu-id="20408-118">Before</span></span>                                                         |
|----------------------------------------------------------------|
| ![a imagem antes do efeito.](images/default-before.jpg)     |
| <span data-ttu-id="20408-120">After (após)</span><span class="sxs-lookup"><span data-stu-id="20408-120">After</span></span>                                                          |
| ![a imagem após a transformação.](images/6-convolvematrix.png) |



 


```C++
ComPtr<ID2D1Effect> convolveMatrixEffect;
m_d2dContext->CreateEffect(CLSID_D2D1ConvolveMatrix, &convolveMatrixEffect);

convolveMatrixEffect->SetInput(0, bitmap);
float matrix[9] = {-1, -1, -1, -1, 9, -1, -1, -1, -1};
convolveMatrixEffect->SetValue(D2D1_CONVOLVEMATRIX_PROP_KERNEL_MATRIX, matrix);

m_d2dContext->BeginDraw();
m_d2dContext->DrawImage(convolveMatrixEffect.Get());
m_d2dContext->EndDraw();
```



## <a name="effect-properties"></a><span data-ttu-id="20408-122">Propriedades do efeito</span><span class="sxs-lookup"><span data-stu-id="20408-122">Effect properties</span></span>



| <span data-ttu-id="20408-123">Nome de exibição e enumeração de índice</span><span class="sxs-lookup"><span data-stu-id="20408-123">Display name and index enumeration</span></span>                                                      | <span data-ttu-id="20408-124">Descrição</span><span class="sxs-lookup"><span data-stu-id="20408-124">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
|-----------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="20408-125">KernelUnitLength</span><span class="sxs-lookup"><span data-stu-id="20408-125">KernelUnitLength</span></span><br/> <span data-ttu-id="20408-126">\_Comprimento da \_ \_ unidade de kernel d2d1 CONVOLVEMATRIX prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="20408-126">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_UNIT\_LENGTH</span></span><br/> | <span data-ttu-id="20408-127">O tamanho de uma unidade no kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-127">The size of one unit in the kernel.</span></span> <span data-ttu-id="20408-128">As unidades estão em (unidade DIPs/de kernel), em que uma unidade de kernel é o tamanho do elemento no kernel de convolução.</span><span class="sxs-lookup"><span data-stu-id="20408-128">The units are in (DIPs/kernel unit), where a kernel unit is the size of the element in the convolution kernel.</span></span> <span data-ttu-id="20408-129">Um valor de 1 (unidade DIP/kernel) corresponde a um pixel em uma imagem em 96 DPI.</span><span class="sxs-lookup"><span data-stu-id="20408-129">A value of 1 (DIP/kernel unit) corresponds to one pixel in a image at 96 DPI.</span></span><br/> <span data-ttu-id="20408-130">O tipo é FLOAT.</span><span class="sxs-lookup"><span data-stu-id="20408-130">The type is FLOAT.</span></span><br/> <span data-ttu-id="20408-131">O valor padrão é 1,0 f.</span><span class="sxs-lookup"><span data-stu-id="20408-131">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                   |
| <span data-ttu-id="20408-132">ScaleMode</span><span class="sxs-lookup"><span data-stu-id="20408-132">ScaleMode</span></span><br/> <span data-ttu-id="20408-133">\_Modo de \_ escala de prop d2d1 CONVOLVEMATRIX \_ \_</span><span class="sxs-lookup"><span data-stu-id="20408-133">D2D1\_CONVOLVEMATRIX\_PROP\_SCALE\_MODE</span></span><br/>                 | <span data-ttu-id="20408-134">O modo de interpolação que o efeito usa para dimensionar a imagem para o comprimento da unidade de kernel correspondente.</span><span class="sxs-lookup"><span data-stu-id="20408-134">The interpolation mode the effect uses to scale the image to the corresponding kernel unit length.</span></span> <span data-ttu-id="20408-135">Há seis modos de escala que variam de qualidade e velocidade.</span><span class="sxs-lookup"><span data-stu-id="20408-135">There are six scale modes that range in quality and speed.</span></span><br/> <span data-ttu-id="20408-136">O tipo é D2D1 \_ CONVOLVEMATRIX \_ Scale \_ Mode.</span><span class="sxs-lookup"><span data-stu-id="20408-136">The type is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE.</span></span><br/> <span data-ttu-id="20408-137">O valor padrão é D2D1 \_ CONVOLVEMATRIX \_ Scale \_ mode \_ linear.</span><span class="sxs-lookup"><span data-stu-id="20408-137">The default value is D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span><br/>                                                                                                                                                                                                                     |
| <span data-ttu-id="20408-138">KernelSizeX</span><span class="sxs-lookup"><span data-stu-id="20408-138">KernelSizeX</span></span><br/> <span data-ttu-id="20408-139">D2D1 \_ CONVOLVEMATRIX \_ prop \_ tamanho do kernel \_ \_ X</span><span class="sxs-lookup"><span data-stu-id="20408-139">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_X</span></span><br/>           | <span data-ttu-id="20408-140">A largura da matriz do kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-140">The width of the kernel matrix.</span></span> <span data-ttu-id="20408-141">As unidades são especificadas em unidades de kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-141">The units are specified in kernel units.</span></span> <span data-ttu-id="20408-142">O tipo é UINT32.</span><span class="sxs-lookup"><span data-stu-id="20408-142">The type is UINT32.</span></span><br/> <span data-ttu-id="20408-143">O valor padrão é 3.</span><span class="sxs-lookup"><span data-stu-id="20408-143">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                        |
| <span data-ttu-id="20408-144">KernelSizeY</span><span class="sxs-lookup"><span data-stu-id="20408-144">KernelSizeY</span></span><br/> <span data-ttu-id="20408-145">D2D1 \_ CONVOLVEMATRIX \_ prop \_ tamanho do kernel \_ \_ Y</span><span class="sxs-lookup"><span data-stu-id="20408-145">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_SIZE\_Y</span></span><br/>           | <span data-ttu-id="20408-146">A altura da matriz do kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-146">The height of the kernel matrix.</span></span> <span data-ttu-id="20408-147">As unidades são especificadas em unidades de kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-147">The units are specified in kernel units.</span></span> <span data-ttu-id="20408-148">O tipo é UINT32.</span><span class="sxs-lookup"><span data-stu-id="20408-148">The type is UINT32.</span></span><br/> <span data-ttu-id="20408-149">O valor padrão é 3.</span><span class="sxs-lookup"><span data-stu-id="20408-149">The default value is 3.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="20408-150">KernelMatrix</span><span class="sxs-lookup"><span data-stu-id="20408-150">KernelMatrix</span></span><br/> <span data-ttu-id="20408-151">\_Matriz de kernel d2d1 CONVOLVEMATRIX \_ prop \_ \_</span><span class="sxs-lookup"><span data-stu-id="20408-151">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_MATRIX</span></span><br/>           | <span data-ttu-id="20408-152">A matriz de kernel a ser aplicada à imagem.</span><span class="sxs-lookup"><span data-stu-id="20408-152">The kernel matrix to be applied to the image.</span></span> <span data-ttu-id="20408-153">Os elementos de kernel não estão vinculados e são especificados como floats.</span><span class="sxs-lookup"><span data-stu-id="20408-153">The kernel elements aren't bounded and are specified as floats.</span></span><br/> <span data-ttu-id="20408-154">O primeiro conjunto de números de *KernelSizeX* no float \[ \] corresponde à primeira linha do kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-154">The first set of *KernelSizeX* numbers in the FLOAT\[\] corresponds to the first row in the kernel.</span></span> <span data-ttu-id="20408-155">O segundo conjunto de números *KernelSizeX* corresponde à segunda linha e assim por diante até *KernelSizeY* linhas.</span><span class="sxs-lookup"><span data-stu-id="20408-155">The second set of *KernelSizeX* numbers correspond to the second row, and so on up to *KernelSizeY* rows.</span></span><br/> <span data-ttu-id="20408-156">O tipo é FLOAT \[ \] .</span><span class="sxs-lookup"><span data-stu-id="20408-156">The type is FLOAT\[\].</span></span><br/> <span data-ttu-id="20408-157">O valor padrão é {0,0 f, 0,0 f, 0,0 f, 0,0 f, 1,0 f, 0,0 f, 0,0 f, 0,0 f, 0,0 f}.</span><span class="sxs-lookup"><span data-stu-id="20408-157">The default value is {0.0f, 0.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f, 0.0f, 0.0f}.</span></span><br/>                                                       |
| <span data-ttu-id="20408-158">Divisor</span><span class="sxs-lookup"><span data-stu-id="20408-158">Divisor</span></span><br/> <span data-ttu-id="20408-159">\_Divisor de \_ prop d2d1 CONVOLVEMATRIX \_</span><span class="sxs-lookup"><span data-stu-id="20408-159">D2D1\_CONVOLVEMATRIX\_PROP\_DIVISOR</span></span><br/>                       | <span data-ttu-id="20408-160">A matriz de kernel é aplicada a um pixel e, em seguida, o resultado é dividido por esse valor.</span><span class="sxs-lookup"><span data-stu-id="20408-160">The kernel matrix is applied to a pixel and then the result is divided by this value.</span></span> <br/> <span data-ttu-id="20408-161">0 comporta-se como um valor de epsílon float.</span><span class="sxs-lookup"><span data-stu-id="20408-161">0 behaves as a value of float epsilon.</span></span><br/> <span data-ttu-id="20408-162">O tipo é FLOAT.</span><span class="sxs-lookup"><span data-stu-id="20408-162">The type is FLOAT.</span></span><br/> <span data-ttu-id="20408-163">O valor padrão é 1,0 f.</span><span class="sxs-lookup"><span data-stu-id="20408-163">The default value is 1.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="20408-164">Tendência</span><span class="sxs-lookup"><span data-stu-id="20408-164">Bias</span></span><br/> <span data-ttu-id="20408-165">D2D1 \_ CONVOLVEMATRIX \_ \_ dipolar de prop</span><span class="sxs-lookup"><span data-stu-id="20408-165">D2D1\_CONVOLVEMATRIX\_PROP\_BIAS</span></span><br/>                             | <span data-ttu-id="20408-166">O efeito aplica a matriz de kernel, o divisor e, em seguida, a tendência é adicionada ao resultado.</span><span class="sxs-lookup"><span data-stu-id="20408-166">The effect applies the kernel matrix, the divisor, and then the bias is added to the result.</span></span> <span data-ttu-id="20408-167">A tendência é não vinculada e sem unidade.</span><span class="sxs-lookup"><span data-stu-id="20408-167">The bias is unbounded and unitless.</span></span> <span data-ttu-id="20408-168">O tipo é FLOAT.</span><span class="sxs-lookup"><span data-stu-id="20408-168">The type is FLOAT.</span></span><br/> <span data-ttu-id="20408-169">O valor padrão é 0,0 f.</span><span class="sxs-lookup"><span data-stu-id="20408-169">The default value is 0.0f.</span></span><br/>                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="20408-170">KernelOffset</span><span class="sxs-lookup"><span data-stu-id="20408-170">KernelOffset</span></span><br/> <span data-ttu-id="20408-171">\_Deslocamento do \_ kernel de prop d2d1 CONVOLVEMATRIX \_ \_</span><span class="sxs-lookup"><span data-stu-id="20408-171">D2D1\_CONVOLVEMATRIX\_PROP\_KERNEL\_OFFSET</span></span><br/>           | <span data-ttu-id="20408-172">Desloca o kernel de convolução de uma posição centralizada no pixel de saída para uma posição que você especifica esquerda/direita e para cima/para baixo.</span><span class="sxs-lookup"><span data-stu-id="20408-172">Shifts the convolution kernel from a centered position on the output pixel to a position you specify left/right and up/down.</span></span> <span data-ttu-id="20408-173">O deslocamento é definido em unidades de kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-173">The offset is defined in kernel units.</span></span><br/> <span data-ttu-id="20408-174">Com alguns deslocamentos e tamanhos de kernel, as amostras do kernel s de convolução não irão parar em um centro de imagens de pixel.</span><span class="sxs-lookup"><span data-stu-id="20408-174">With some offsets and kernel sizes, the convolution kernel s samples won't land on a pixel image center.</span></span> <span data-ttu-id="20408-175">Os valores de pixel para o exemplo de kernel são computados pela interpolação bilinear.</span><span class="sxs-lookup"><span data-stu-id="20408-175">The pixel values for the kernel sample are computed by bilinear interpolation.</span></span><br/> <span data-ttu-id="20408-176">O tipo é o \_ vetor d2d1 \_ 2F.</span><span class="sxs-lookup"><span data-stu-id="20408-176">The type is D2D1\_VECTOR\_2F.</span></span><br/> <span data-ttu-id="20408-177">O valor padrão é {0,0 f, 0,0 f}.</span><span class="sxs-lookup"><span data-stu-id="20408-177">The default value is {0.0f, 0.0f}.</span></span><br/>                                                          |
| <span data-ttu-id="20408-178">PreserveAlpha</span><span class="sxs-lookup"><span data-stu-id="20408-178">PreserveAlpha</span></span><br/> <span data-ttu-id="20408-179">D2D1 \_ CONVOLVEMATRIX \_ prop \_ preserve \_ alfa</span><span class="sxs-lookup"><span data-stu-id="20408-179">D2D1\_CONVOLVEMATRIX\_PROP\_PRESERVE\_ALPHA</span></span><br/>         | <span data-ttu-id="20408-180">Especifica se o kernel de convolução é aplicado ao canal alfa ou apenas aos canais de cores.</span><span class="sxs-lookup"><span data-stu-id="20408-180">Specifies whether the convolution kernel is applied to the alpha channel or only the color channels.</span></span><br/> <span data-ttu-id="20408-181">Se você definir como **true** , o kernel de convolução será aplicado somente aos canais de cores.</span><span class="sxs-lookup"><span data-stu-id="20408-181">If you set this to **TRUE** the convolution kernel is applied only to the color channels.</span></span><br/> <span data-ttu-id="20408-182">Se você definir isso como **false** , o kernel de convolução será aplicado a todos os canais.</span><span class="sxs-lookup"><span data-stu-id="20408-182">If you set this to **FALSE** the convolution kernel is applied to all channels.</span></span><br/> <span data-ttu-id="20408-183">O tipo é BOOL.</span><span class="sxs-lookup"><span data-stu-id="20408-183">The type is BOOL.</span></span><br/> <span data-ttu-id="20408-184">O valor padrão é FALSE.</span><span class="sxs-lookup"><span data-stu-id="20408-184">The default value is FALSE.</span></span><br/>                                                                                                                                               |
| <span data-ttu-id="20408-185">Bordermode</span><span class="sxs-lookup"><span data-stu-id="20408-185">BorderMode</span></span><br/> <span data-ttu-id="20408-186">\_Modo de \_ borda de prop d2d1 CONVOLVEMATRIX \_ \_</span><span class="sxs-lookup"><span data-stu-id="20408-186">D2D1\_CONVOLVEMATRIX\_PROP\_BORDER\_MODE</span></span><br/>               | <span data-ttu-id="20408-187">O modo usado para calcular a borda da imagem, suave ou difícil.</span><span class="sxs-lookup"><span data-stu-id="20408-187">The mode used to calculate the border of the image, soft or hard.</span></span> <span data-ttu-id="20408-188">Consulte [modos de borda](https://www.bing.com/search?q=Border+modes) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="20408-188">See [Border modes](https://www.bing.com/search?q=Border+modes) for more info.</span></span><br/> <span data-ttu-id="20408-189">O tipo é o \_ modo de borda d2d1 \_ .</span><span class="sxs-lookup"><span data-stu-id="20408-189">The type is D2D1\_BORDER\_MODE.</span></span><br/> <span data-ttu-id="20408-190">O valor padrão é \_ Soft Mode do modo de borda d2d1 \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="20408-190">The default value is D2D1\_BORDER\_MODE\_SOFT.</span></span><br/>                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="20408-191">ClampOutput</span><span class="sxs-lookup"><span data-stu-id="20408-191">ClampOutput</span></span><br/> <span data-ttu-id="20408-192">\_Saída d2d1 CONVOLVEMATRIX \_ prop \_ fixe \_</span><span class="sxs-lookup"><span data-stu-id="20408-192">D2D1\_CONVOLVEMATRIX\_PROP\_CLAMP\_OUTPUT</span></span><br/>             | <span data-ttu-id="20408-193">Se o efeito coloca valores de cor entre 0 e 1 antes que o efeito passe os valores para o próximo efeito no grafo.</span><span class="sxs-lookup"><span data-stu-id="20408-193">Whether the effect clamps color values to between 0 and 1 before the effect passes the values to the next effect in the graph.</span></span> <span data-ttu-id="20408-194">O efeito coloca os valores antes de premultiplicar o alfa.</span><span class="sxs-lookup"><span data-stu-id="20408-194">The effect clamps the values before it premultiplies the alpha .</span></span><br/> <span data-ttu-id="20408-195">Se você definir isso como verdadeiro, o efeito irá fixe os valores.</span><span class="sxs-lookup"><span data-stu-id="20408-195">If you set this to TRUE the effect will clamp the values.</span></span> <span data-ttu-id="20408-196">Se você definir isso como FALSE, o efeito não fixe os valores de cor, mas outros efeitos e a superfície de saída poderão fixe os valores se não forem de precisão alta o suficiente.</span><span class="sxs-lookup"><span data-stu-id="20408-196">If you set this to FALSE, the effect will not clamp the color values, but other effects and the output surface may clamp the values if they are not of high enough precision.</span></span><br/> <span data-ttu-id="20408-197">O tipo é BOOL.</span><span class="sxs-lookup"><span data-stu-id="20408-197">The type is BOOL.</span></span><br/> <span data-ttu-id="20408-198">O valor padrão é FALSE.</span><span class="sxs-lookup"><span data-stu-id="20408-198">The default value is FALSE.</span></span><br/> |



 

## <a name="scale-modes"></a><span data-ttu-id="20408-199">Modos de escala</span><span class="sxs-lookup"><span data-stu-id="20408-199">Scale modes</span></span>



| <span data-ttu-id="20408-200">Enumeração</span><span class="sxs-lookup"><span data-stu-id="20408-200">Enumeration</span></span>                                              | <span data-ttu-id="20408-201">Descrição</span><span class="sxs-lookup"><span data-stu-id="20408-201">Description</span></span>                                                                                                                                                                                          |
|----------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="20408-202">D2D1 \_ CONVOLVEMATRIX \_ Scale \_ mode \_ mais próximo do \_ vizinho</span><span class="sxs-lookup"><span data-stu-id="20408-202">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_NEAREST\_NEIGHBOR</span></span>     | <span data-ttu-id="20408-203">Amostra o ponto único mais próximo e o usa.</span><span class="sxs-lookup"><span data-stu-id="20408-203">Samples the nearest single point and uses that.</span></span> <span data-ttu-id="20408-204">Esse modo usa menos tempo de processamento, mas gera a imagem de qualidade mais baixa.</span><span class="sxs-lookup"><span data-stu-id="20408-204">This mode uses less processing time, but outputs the lowest quality image.</span></span>                                                                           |
| <span data-ttu-id="20408-205">\_Modo de \_ escala d2d1 CONVOLVEMATRIX \_ \_ linear</span><span class="sxs-lookup"><span data-stu-id="20408-205">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR</span></span>                | <span data-ttu-id="20408-206">Usa uma amostra de quatro pontos e uma interpolação linear.</span><span class="sxs-lookup"><span data-stu-id="20408-206">Uses a four point sample and linear interpolation.</span></span> <span data-ttu-id="20408-207">Esse modo gera uma imagem de qualidade mais alta do que o modo de vizinho mais próximo.</span><span class="sxs-lookup"><span data-stu-id="20408-207">This mode outputs a higher quality image than nearest neighbor mode.</span></span>                                                                              |
| <span data-ttu-id="20408-208">\_Modo de \_ escala d2d1 CONVOLVEMATRIX \_ \_ cúbico</span><span class="sxs-lookup"><span data-stu-id="20408-208">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_CUBIC</span></span>                 | <span data-ttu-id="20408-209">Usa um kernel cúbico de 16 amostras para interpolação.</span><span class="sxs-lookup"><span data-stu-id="20408-209">Uses a 16 sample cubic kernel for interpolation.</span></span> <span data-ttu-id="20408-210">Esse modo usa o maior tempo de processamento, mas gera uma imagem de qualidade mais alta.</span><span class="sxs-lookup"><span data-stu-id="20408-210">This mode uses the most processing time, but outputs a higher quality image.</span></span>                                                                        |
| <span data-ttu-id="20408-211">D2D1 \_ CONVOLVEMATRIX de \_ escala \_ múltipla de modo \_ \_ \_ linear</span><span class="sxs-lookup"><span data-stu-id="20408-211">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_MULTI\_SAMPLE\_LINEAR</span></span> | <span data-ttu-id="20408-212">Usa quatro amostras lineares em um único pixel para suavização de multialias de borda.</span><span class="sxs-lookup"><span data-stu-id="20408-212">Uses 4 linear samples within a single pixel for good edge anti-aliasing.</span></span> <span data-ttu-id="20408-213">Esse modo é bom para reduzir horizontalmente por pequenas quantidades em imagens com poucos pixels.</span><span class="sxs-lookup"><span data-stu-id="20408-213">This mode is good for scaling down by small amounts on images with few pixels.</span></span>                                              |
| <span data-ttu-id="20408-214">\_Modo de \_ dimensionamento d2d1 CONVOLVEMATRIX \_ \_ ANISOTROPIC</span><span class="sxs-lookup"><span data-stu-id="20408-214">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_ANISOTROPIC</span></span>           | <span data-ttu-id="20408-215">Usa a filtragem de anisotropic para exemplificar um padrão de acordo com a forma transformada do bitmap.</span><span class="sxs-lookup"><span data-stu-id="20408-215">Uses anisotropic filtering to sample a pattern according to the transformed shape of the bitmap.</span></span>                                                                                                     |
| <span data-ttu-id="20408-216">\_Modo de escala d2d1 CONVOLVEMATRIX de \_ \_ \_ alta \_ qualidade \_ cúbico</span><span class="sxs-lookup"><span data-stu-id="20408-216">D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_HIGH\_QUALITY\_CUBIC</span></span>  | <span data-ttu-id="20408-217">Usa um kernel cúbico de tamanho variável de alta qualidade para executar uma imagem diminuir se downscaling estiver envolvido na matriz de transformação.</span><span class="sxs-lookup"><span data-stu-id="20408-217">Uses a variable size high quality cubic kernel to perform a pre-downscale the image if downscaling is involved in the transform matrix.</span></span> <span data-ttu-id="20408-218">Em seguida, usa o modo de interpolação cúbica para a saída final.</span><span class="sxs-lookup"><span data-stu-id="20408-218">Then uses the cubic interpolation mode for the final output.</span></span> |



 

> [!Note]  
> <span data-ttu-id="20408-219">Se você não selecionar um modo, o efeito terá como padrão o \_ modo de escala d2d1 CONVOLVEMATRIX \_ \_ \_ linear.</span><span class="sxs-lookup"><span data-stu-id="20408-219">If you don't select a mode, the effect defaults to D2D1\_CONVOLVEMATRIX\_SCALE\_MODE\_LINEAR.</span></span>

 

## <a name="border-modes"></a><span data-ttu-id="20408-220">Modos de borda</span><span class="sxs-lookup"><span data-stu-id="20408-220">Border modes</span></span>



| <span data-ttu-id="20408-221">Nome</span><span class="sxs-lookup"><span data-stu-id="20408-221">Name</span></span>                     | <span data-ttu-id="20408-222">Descrição</span><span class="sxs-lookup"><span data-stu-id="20408-222">Description</span></span>                                                                                                                                                                                                                                                              |
|--------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="20408-223">\_Modo de borda d2d1 \_ \_ Soft</span><span class="sxs-lookup"><span data-stu-id="20408-223">D2D1\_BORDER\_MODE\_SOFT</span></span> | <span data-ttu-id="20408-224">O efeito preenche a imagem de entrada com pixels pretos transparentes para exemplos fora dos limites de entrada ao aplicar o kernel de convolução.</span><span class="sxs-lookup"><span data-stu-id="20408-224">The effect pads the input image with transparent black pixels for samples outside of the input bounds when it applies the convolution kernel.</span></span> <span data-ttu-id="20408-225">Isso cria uma borda suave para a imagem e, no processo, expande o bitmap de saída pelo tamanho do kernel.</span><span class="sxs-lookup"><span data-stu-id="20408-225">This creates a soft edge for the image, and in the process expands the output bitmap by the size of the kernel.</span></span><br/> |
| <span data-ttu-id="20408-226">\_Modo de borda d2d1 \_ \_ Hard</span><span class="sxs-lookup"><span data-stu-id="20408-226">D2D1\_BORDER\_MODE\_HARD</span></span> | <span data-ttu-id="20408-227">O efeito estende a imagem de entrada com uma transformação de borda de tipo espelho para exemplos fora dos limites de entrada.</span><span class="sxs-lookup"><span data-stu-id="20408-227">The effect extends the input image with a mirror-type border transform for samples outside of the input bounds.</span></span> <span data-ttu-id="20408-228">O tamanho do bitmap de saída é igual ao tamanho do bitmap de entrada.</span><span class="sxs-lookup"><span data-stu-id="20408-228">The size of the output bitmap is equal to the size of the input bitmap.</span></span><br/>                                                                       |



 

## <a name="output-bitmap"></a><span data-ttu-id="20408-229">Bitmap de saída</span><span class="sxs-lookup"><span data-stu-id="20408-229">Output bitmap</span></span>

<span data-ttu-id="20408-230">O tamanho da saída do efeito depende do tamanho do kernel de convolução, do deslocamento do kernel, do comprimento da unidade do kernel e da configuração do modo de borda.</span><span class="sxs-lookup"><span data-stu-id="20408-230">The size of the effect's output depends on the size of the convolution kernel, the kernel offset, the kernel unit length, and the border mode setting.</span></span>

## <a name="requirements"></a><span data-ttu-id="20408-231">Requisitos</span><span class="sxs-lookup"><span data-stu-id="20408-231">Requirements</span></span>



| <span data-ttu-id="20408-232">Requisito</span><span class="sxs-lookup"><span data-stu-id="20408-232">Requirement</span></span> | <span data-ttu-id="20408-233">Valor</span><span class="sxs-lookup"><span data-stu-id="20408-233">Value</span></span> |
|--------------------------|------------------------------------------------------------------------------------|
| <span data-ttu-id="20408-234">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="20408-234">Minimum supported client</span></span> | <span data-ttu-id="20408-235">Windows 8 e atualização de plataforma para aplicativos de área de trabalho do Windows 7 \[ \| aplicativos da Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="20408-235">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="20408-236">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="20408-236">Minimum supported server</span></span> | <span data-ttu-id="20408-237">Windows 8 e atualização de plataforma para aplicativos de área de trabalho do Windows 7 \[ \| aplicativos da Windows Store\]</span><span class="sxs-lookup"><span data-stu-id="20408-237">Windows 8 and Platform Update for Windows 7 \[desktop apps \| Windows Store apps\]</span></span> |
| <span data-ttu-id="20408-238">parâmetro</span><span class="sxs-lookup"><span data-stu-id="20408-238">Header</span></span>                   | <span data-ttu-id="20408-239">d2d1effects. h</span><span class="sxs-lookup"><span data-stu-id="20408-239">d2d1effects.h</span></span>                                                                      |
| <span data-ttu-id="20408-240">Biblioteca</span><span class="sxs-lookup"><span data-stu-id="20408-240">Library</span></span>                  | <span data-ttu-id="20408-241">d2d1. lib, dxguid. lib</span><span class="sxs-lookup"><span data-stu-id="20408-241">d2d1.lib, dxguid.lib</span></span>                                                               |



 

## <a name="related-topics"></a><span data-ttu-id="20408-242">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="20408-242">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="20408-243">**ID2D1Effect**</span><span class="sxs-lookup"><span data-stu-id="20408-243">**ID2D1Effect**</span></span>](/windows/win32/api/d2d1_1/nn-d2d1_1-id2d1effect)
</dt> </dl>

 

