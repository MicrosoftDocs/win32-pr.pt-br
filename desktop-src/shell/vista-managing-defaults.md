---
description: Este tópico fornece ISVs (fornecedores independentes de software) com um guia rápido para as etapas necessárias para registrar e gerenciar padrões de aplicativo no Windows Vista e posterior. Links são fornecidos para artigos mais aprofundados sobre o tópico de cada seção.
ms.assetid: 649eb20d-07d3-4209-abff-45fc50f05631
title: Gerenciando aplicativos padrão
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: bc146858d197b96229edda49ac2e7249db51bf4c
ms.sourcegitcommit: 4d639170c06864e47ef66b2cfe6ca3d07cce0b02
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/12/2021
ms.locfileid: "109812821"
---
# <a name="managing-default-applications"></a><span data-ttu-id="c0350-104">Gerenciando aplicativos padrão</span><span class="sxs-lookup"><span data-stu-id="c0350-104">Managing Default Applications</span></span>

<span data-ttu-id="c0350-105">O **recurso Definir Acesso ao** Programa e Padrões do Computador (SPAD) foi adicionado ao Windows XP e versões posteriores do Windows para gerenciar padrões por computador.</span><span class="sxs-lookup"><span data-stu-id="c0350-105">The **Set Program Access and Computer Defaults** (SPAD) feature was added to Windows XP and later versions of Windows to manage per-computer defaults.</span></span> <span data-ttu-id="c0350-106">Além do SPAD, o Windows Vista introduziu o conceito de aplicativos padrão por usuário e o **item** Programas Padrão no Painel de Controle.</span><span class="sxs-lookup"><span data-stu-id="c0350-106">In addition to SPAD, Windows Vista introduced the concept of per-user default applications and the **Default Programs** item in Control Panel.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="c0350-107">Este tópico não se aplica a Windows 10.</span><span class="sxs-lookup"><span data-stu-id="c0350-107">This topic does not apply for Windows 10.</span></span> <span data-ttu-id="c0350-108">A maneira como as associações de arquivos padrão funcionam mudou Windows 10.</span><span class="sxs-lookup"><span data-stu-id="c0350-108">The way that default file associations work changed in Windows 10.</span></span> <span data-ttu-id="c0350-109">Para obter mais informações, consulte a seção sobre **Alterações em como Windows 10 lida com aplicativos padrão** nesta [postagem.](https://blogs.windows.com/windows-insider/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/)</span><span class="sxs-lookup"><span data-stu-id="c0350-109">For more information, see the section on **Changes to how Windows 10 handles default apps** in [this post](https://blogs.windows.com/windows-insider/2015/05/20/announcing-windows-10-insider-preview-build-10122-for-pcs/).</span></span>

 

<span data-ttu-id="c0350-110">As configurações padrão por usuário são específicas para uma conta de usuário individual no sistema.</span><span class="sxs-lookup"><span data-stu-id="c0350-110">Per-user default settings are specific to an individual user account on the system.</span></span> <span data-ttu-id="c0350-111">Se as configurações padrão por usuário estão presentes, elas têm precedência sobre os padrões por computador correspondentes para essa conta.</span><span class="sxs-lookup"><span data-stu-id="c0350-111">If per-user default settings are present, they take precedence over corresponding per-computer defaults for that account.</span></span> <span data-ttu-id="c0350-112">A partir Windows 8, o sistema de extensibilidade para o tipo de arquivo e os padrões de protocolo são estritamente por usuário e os padrões por computador são ignorados.</span><span class="sxs-lookup"><span data-stu-id="c0350-112">As of Windows 8, the extensibility system for file type and protocol defaults is strictly per-user and per-computer defaults are ignored.</span></span> <span data-ttu-id="c0350-113">O SPAD também foi alterado Windows 8 para definir padrões por usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-113">SPAD also changed in Windows 8 to set per-user defaults.</span></span>

-   <span data-ttu-id="c0350-114">Em sistemas que executam versões do Windows anteriores ao Windows 8, uma conta de usuário recém-criada recebe padrões por computador até que os padrões por usuário sejam estabelecidos.</span><span class="sxs-lookup"><span data-stu-id="c0350-114">On systems running versions of Windows earlier than Windows 8, a newly created user account receives per-computer defaults until per-user defaults are established.</span></span> <span data-ttu-id="c0350-115">No Windows Vista e posterior, os usuários podem usar o **item** Programas Padrão no Painel de Controle para definir ou alterar seus padrões por usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-115">In Windows Vista and later, users can use the **Default Programs** item in Control Panel to set or change their per-user defaults.</span></span> <span data-ttu-id="c0350-116">Além disso, quando um aplicativo é executado pela primeira vez, os padrões por usuário podem ser definidos usando as diretrizes a seguir na seção Application [First Run and Defaults](#application-first-run-and-defaults) .</span><span class="sxs-lookup"><span data-stu-id="c0350-116">In addition, when an application is run for the first time, per-user defaults can be set using the guidelines that follow in the [Application First Run and Defaults](#application-first-run-and-defaults) section.</span></span>
-   <span data-ttu-id="c0350-117">Em sistemas que executam o Windows 8, uma conta de usuário recém-criada depende dos padrões por usuário desde o início e não há mais suporte para a configuração desses padrões na primeira execução, conforme explicado na seção Application [First Run and Defaults.](#application-first-run-and-defaults)</span><span class="sxs-lookup"><span data-stu-id="c0350-117">On systems running Windows 8, a newly created user account relies on per-user defaults from the start and the setting of those defaults on first run as explained in the [Application First Run and Defaults](#application-first-run-and-defaults) section is no longer supported.</span></span>

<span data-ttu-id="c0350-118">Um aplicativo deve ser registrado com o SPAD e o recurso de programas padrão para ser oferecido como o programa padrão no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="c0350-118">An application must register with both SPAD and the Default Programs feature to be offered as the default program in Windows Vista and later.</span></span>

<span data-ttu-id="c0350-119">Este tópico fornece ISVs (fornecedores de software independentes) com um guia rápido para as etapas necessárias para registrar e gerenciar os padrões de aplicativo no Windows Vista e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="c0350-119">This topic provides independent software vendors (ISVs) with a quick guide to the steps necessary to register and manage application defaults in Windows Vista and later.</span></span> <span data-ttu-id="c0350-120">São fornecidos links para artigos mais detalhados sobre o tópico de cada seção.</span><span class="sxs-lookup"><span data-stu-id="c0350-120">Links are provided to more in-depth articles about each section's topic.</span></span>

-   [<span data-ttu-id="c0350-121">Item programas padrão no painel de controle</span><span class="sxs-lookup"><span data-stu-id="c0350-121">Default Programs Item in Control Panel</span></span>](#default-programs-item-in-control-panel)
-   [<span data-ttu-id="c0350-122">Definir o acesso do programa e padrões do computador</span><span class="sxs-lookup"><span data-stu-id="c0350-122">Set Program Access and Computer Defaults</span></span>](#set-program-access-and-computer-defaults)
    -   [<span data-ttu-id="c0350-123">Definindo padrões em SPAD</span><span class="sxs-lookup"><span data-stu-id="c0350-123">Setting Defaults in SPAD</span></span>](#setting-defaults-in-spad)
    -   [<span data-ttu-id="c0350-124">Ocultar o acesso no SPAD</span><span class="sxs-lookup"><span data-stu-id="c0350-124">Hide Access in SPAD</span></span>](#hide-access-in-spad)
-   [<span data-ttu-id="c0350-125">Registrando para pontos de entrada de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0350-125">Registering for Application Entry Points</span></span>](#registering-for-application-entry-points)
    -   [<span data-ttu-id="c0350-126">Abrir com</span><span class="sxs-lookup"><span data-stu-id="c0350-126">Open With</span></span>](#open-with)
    -   [<span data-ttu-id="c0350-127">Menu iniciar e barra de início rápido</span><span class="sxs-lookup"><span data-stu-id="c0350-127">Start Menu and Quick Launch Bar</span></span>](#start-menu-and-quick-launch-bar)
-   [<span data-ttu-id="c0350-128">Instalação e padrões do aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0350-128">Application Installation and Defaults</span></span>](#application-installation-and-defaults)
-   [<span data-ttu-id="c0350-129">Atualizações e padrões de aplicativos</span><span class="sxs-lookup"><span data-stu-id="c0350-129">Application Upgrades and Defaults</span></span>](#application-upgrades-and-defaults)
-   [<span data-ttu-id="c0350-130">Execução e padrões da primeira aplicação</span><span class="sxs-lookup"><span data-stu-id="c0350-130">Application First Run and Defaults</span></span>](#application-first-run-and-defaults)
-   [<span data-ttu-id="c0350-131">Verificando padrões e solicitando o consentimento do usuário</span><span class="sxs-lookup"><span data-stu-id="c0350-131">Verifying Defaults and Asking for User Consent</span></span>](#verifying-defaults-and-asking-for-user-consent)
-   [<span data-ttu-id="c0350-132">Dicas de compatibilidade de aplicativos</span><span class="sxs-lookup"><span data-stu-id="c0350-132">Application Compatibility Tips</span></span>](#application-compatibility-tips)
    -   [<span data-ttu-id="c0350-133">Evite disparar Per-User virtualização</span><span class="sxs-lookup"><span data-stu-id="c0350-133">Avoid Triggering Per-User Virtualization</span></span>](#avoid-triggering-per-user-virtualization)
    -   [<span data-ttu-id="c0350-134">Evitar avisos ou blocos de AppCompat do assistente de compatibilidade de programa</span><span class="sxs-lookup"><span data-stu-id="c0350-134">Avoid AppCompat Warnings or Blocks from the Program Compatibility Assistant</span></span>](#avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant)
    -   [<span data-ttu-id="c0350-135">Suporte para versões anteriores do sistema operacional Windows</span><span class="sxs-lookup"><span data-stu-id="c0350-135">Support for Previous Windows Operating System Versions</span></span>](#support-for-previous-windows-operating-system-versions)
-   [<span data-ttu-id="c0350-136">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c0350-136">Additional Resources</span></span>](#additional-resources)
-   [<span data-ttu-id="c0350-137">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c0350-137">Related topics</span></span>](#related-topics)

## <a name="default-programs-item-in-control-panel"></a><span data-ttu-id="c0350-138">Item programas padrão no painel de controle</span><span class="sxs-lookup"><span data-stu-id="c0350-138">Default Programs Item in Control Panel</span></span>

<span data-ttu-id="c0350-139">O **programas padrão** é um recurso introduzido no Windows Vista, acessível diretamente do menu **Iniciar** , bem como do painel de controle.</span><span class="sxs-lookup"><span data-stu-id="c0350-139">**Default Programs** is a feature introduced in Windows Vista, accessible directly from the **Start** menu as well as Control Panel.</span></span> <span data-ttu-id="c0350-140">Ele fornece uma nova infraestrutura que funciona com privilégio de usuário padrão (não elevado) e foi projetada para permitir que usuários e aplicativos gerenciem padrões por usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-140">It provides a new infrastructure that works with standard user privilege (not elevated) and is designed to enable users and applications to manage per-user defaults.</span></span> <span data-ttu-id="c0350-141">Para usuários, os Programas Padrão fornece uma maneira unificada e facilmente acessível de gerenciar padrões, associações de arquivos e configurações de reprodução automática em todos os aplicativos no sistema.</span><span class="sxs-lookup"><span data-stu-id="c0350-141">For users, Default Programs provides a unified and easily accessible way to manage defaults, file associations, and Autoplay settings across all applications on the system.</span></span> <span data-ttu-id="c0350-142">Para aplicativos, o uso do escopo por usuário fornecido pelas APIs de Programas Padrão oferece as seguintes vantagens:</span><span class="sxs-lookup"><span data-stu-id="c0350-142">For applications, using the per-user scope provided by the Default Programs APIs offers the following advantages:</span></span>

-   <span data-ttu-id="c0350-143">**Nenhuma elevação**</span><span class="sxs-lookup"><span data-stu-id="c0350-143">**No Elevation**</span></span>

    <span data-ttu-id="c0350-144">Um aplicativo não precisa elevar seus privilégios para reivindicar padrões.</span><span class="sxs-lookup"><span data-stu-id="c0350-144">An application does not have to elevate its privileges to claim defaults.</span></span>

-   <span data-ttu-id="c0350-145">**Boa Cidadãos**</span><span class="sxs-lookup"><span data-stu-id="c0350-145">**Good Citizenship**</span></span>

    <span data-ttu-id="c0350-146">Em um computador com vários usuários, cada usuário pode selecionar diferentes aplicativos padrão.</span><span class="sxs-lookup"><span data-stu-id="c0350-146">On a multiple-user computer, each user can select different default applications.</span></span>

-   <span data-ttu-id="c0350-147">**Gerenciamento Padrão**</span><span class="sxs-lookup"><span data-stu-id="c0350-147">**Default Management**</span></span>

    <span data-ttu-id="c0350-148">As APIs de Programas Padrão oferecem um mecanismo confiável e consistente para verificar o status padrão e recuperar as configurações perdidas sem recorrer à escrita diretamente no Registro.</span><span class="sxs-lookup"><span data-stu-id="c0350-148">Default Programs APIs offer a reliable and consistent mechanism for self-checking the default status and reclaiming lost settings without resorting to writing directly to the registry.</span></span> <span data-ttu-id="c0350-149">No entanto, desde Windows 8, não recomendamos que os aplicativos consultem o status padrão porque um aplicativo não pode mais alterar as configurações padrão– essas alterações podem ser feitas somente pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-149">However, as of Windows 8, we do not recommended that applications query the default status because an application can no longer change the default settings—those changes can be made only by the user.</span></span>

<span data-ttu-id="c0350-150">Para permitir que seu aplicativo gerencie padrões com eficiência, você deve registrar seu aplicativo como um programa padrão potencial.</span><span class="sxs-lookup"><span data-stu-id="c0350-150">To enable your application to manage defaults effectively, you must register your application as a potential default program.</span></span> <span data-ttu-id="c0350-151">Para obter detalhes sobre como registrar e usar as APIs de Programas Padrão, consulte [Programas Padrão](default-programs.md).</span><span class="sxs-lookup"><span data-stu-id="c0350-151">For details on registering and using the Default Programs APIs, see [Default Programs](default-programs.md).</span></span>

<span data-ttu-id="c0350-152">Os Programas Padrão também fornece estes dois recursos:</span><span class="sxs-lookup"><span data-stu-id="c0350-152">Default Programs also provides these two features:</span></span>

-   <span data-ttu-id="c0350-153">**Interface do usuário de padrões reutilizáveis**</span><span class="sxs-lookup"><span data-stu-id="c0350-153">**Reusable Defaults UI**</span></span>

    <span data-ttu-id="c0350-154">A interface do usuário dos padrões do programa **(** Definir seus programas padrão ) e associações de arquivo ( Associar um tipo de arquivo ou protocolo **a um** programa ) pode ser reutilizada e chamada de dentro de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-154">The UI of both the program defaults (**Set your default programs**) and file associations (**Associate a file type or protocol with a program**) can be reused and called from within an application.</span></span> <span data-ttu-id="c0350-155">Isso permite que os aplicativos forneçam uma experiência de usuário padrão para gerenciar padrões e salva isVs de ter que desenvolver uma interface do usuário personalizada ou equivalente.</span><span class="sxs-lookup"><span data-stu-id="c0350-155">This enables applications to provide a standard user experience for managing defaults and saves ISVs from having to develop a custom or equivalent UI.</span></span>

-   <span data-ttu-id="c0350-156">**Inclusão de URL e informações de marketing**</span><span class="sxs-lookup"><span data-stu-id="c0350-156">**Inclusion of URL and Marketing Information**</span></span>

    <span data-ttu-id="c0350-157">Como parte da página Definir **seus** programas padrão do **item** Programas Padrão no Painel de Controle, um aplicativo pode fornecer informações de marketing e um link para o site do fornecedor.</span><span class="sxs-lookup"><span data-stu-id="c0350-157">As part of the **Set your default programs** page of the **Default Programs** item in Control Panel, an application can provide marketing information and a link to the vendor's website.</span></span> <span data-ttu-id="c0350-158">Essa URL é derivada do certificado Authenticode com o qual o aplicativo foi assinado.</span><span class="sxs-lookup"><span data-stu-id="c0350-158">This URL is derived from the Authenticode certificate that the application has been signed with.</span></span> <span data-ttu-id="c0350-159">Isso impede o uso indevido e a substituição não autorizada desse link.</span><span class="sxs-lookup"><span data-stu-id="c0350-159">This prevents misuse and unauthorized replacement of this link.</span></span> <span data-ttu-id="c0350-160">Se um aplicativo tiver um certificado Authenticode que inclui uma URL inserida, a interface do usuário do Windows exibirá essa URL inserida.</span><span class="sxs-lookup"><span data-stu-id="c0350-160">If an application has an Authenticode certificate that includes an embedded URL, Windows UI displays that embedded URL.</span></span> <span data-ttu-id="c0350-161">Os ISVs devem aproveitar esse recurso para direcionar os usuários ao site para atualizações e outros downloads.</span><span class="sxs-lookup"><span data-stu-id="c0350-161">ISVs should take advantage of this feature to direct users to their website for updates and other downloads.</span></span>

## <a name="set-program-access-and-computer-defaults"></a><span data-ttu-id="c0350-162">Definir o acesso do programa e padrões do computador</span><span class="sxs-lookup"><span data-stu-id="c0350-162">Set Program Access and Computer Defaults</span></span>

<span data-ttu-id="c0350-163">**Definir acesso do programa e padrões do computador** (SPAD) permite que os administradores gerenciem padrões de todo o computador que são herdados por todos os novos usuários desse computador.</span><span class="sxs-lookup"><span data-stu-id="c0350-163">**Set Program Access and Computer Defaults** (SPAD) enables administrators to manage computer-wide defaults that are inherited by all new users of that computer.</span></span> <span data-ttu-id="c0350-164">Antes do Windows 8, o SPAD também permitia que os administradores reparasse as associações de arquivos se fossem desfeitos quando os programas foram removidos do sistema.</span><span class="sxs-lookup"><span data-stu-id="c0350-164">Prior to Windows 8, SPAD also enabled administrators to repair file associations should they become broken when programs were removed from the system.</span></span> <span data-ttu-id="c0350-165">No entanto, a partir do Windows 8, SPAD afeta apenas os padrões específicos do usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-165">However, as of Windows 8, SPAD affects only user-specific defaults.</span></span>

<span data-ttu-id="c0350-166">Para obter mais informações sobre como registrar um aplicativo em SPAD, consulte [trabalhando com definir acesso do programa e padrões do computador (SPAD)](cpl-setprogramaccess.md) e [registrar programas com tipos de cliente](reg-middleware-apps.md).</span><span class="sxs-lookup"><span data-stu-id="c0350-166">For more information on registering an application in SPAD, see [Working with Set Program Access and Computer Defaults (SPAD)](cpl-setprogramaccess.md) and [Registering Programs with Client Types](reg-middleware-apps.md).</span></span> <span data-ttu-id="c0350-167">As alterações específicas e as novas recomendações são discutidas nas seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="c0350-167">Specific changes and new recommendations are discussed in the sections that follow.</span></span>

### <a name="setting-defaults-in-spad"></a><span data-ttu-id="c0350-168">Definindo padrões em SPAD</span><span class="sxs-lookup"><span data-stu-id="c0350-168">Setting Defaults in SPAD</span></span>

<span data-ttu-id="c0350-169">Padrões por usuário substituem padrões por computador.</span><span class="sxs-lookup"><span data-stu-id="c0350-169">Per-user defaults override per-computer defaults.</span></span>

-   <span data-ttu-id="c0350-170">**Antes do Windows 8**: os padrões definidos em SPAD (que são por computador) não serão vistos pelos usuários se os padrões correspondentes por usuário estiverem definidos.</span><span class="sxs-lookup"><span data-stu-id="c0350-170">**Before Windows 8**: Defaults set in SPAD (which are per-computer) will not be seen by users if corresponding per-user defaults are set.</span></span> <span data-ttu-id="c0350-171">Se um usuário não tiver definido um padrão por usuário, o sistema usará o padrão do computador correspondente.</span><span class="sxs-lookup"><span data-stu-id="c0350-171">If a user has not set a per-user default, the system uses the corresponding computer default.</span></span> <span data-ttu-id="c0350-172">As novas contas de usuário em um computador inicialmente herdam os padrões do computador.</span><span class="sxs-lookup"><span data-stu-id="c0350-172">New user accounts on a computer initially inherit the computer defaults.</span></span> <span data-ttu-id="c0350-173">Na primeira vez que um usuário executa um aplicativo, o aplicativo deve solicitar que o usuário atribua seus padrões por usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-173">The first time a user runs an application, the application should prompt the user to assign their per-user defaults.</span></span> <span data-ttu-id="c0350-174">Consulte [execução e padrões da primeira aplicação](#application-first-run-and-defaults).</span><span class="sxs-lookup"><span data-stu-id="c0350-174">See [Application First Run and Defaults](#application-first-run-and-defaults).</span></span>
-   <span data-ttu-id="c0350-175">**A partir do Windows 8**: todos os padrões são por usuário e qualquer configuração padrão por computador é ignorada.</span><span class="sxs-lookup"><span data-stu-id="c0350-175">**As of Windows 8**: All defaults are per-user and any per-computer default setting is ignored.</span></span> <span data-ttu-id="c0350-176">Os aplicativos não podem mais definir opções padrão, para que não possam orientar o usuário por meio de sua atribuição desses padrões.</span><span class="sxs-lookup"><span data-stu-id="c0350-176">Applications can no longer set default choices, so they cannot walk the user through their assigning of those defaults.</span></span>

<span data-ttu-id="c0350-177">Quando um aplicativo anterior ao Windows 8 implementa **definido como padrão** no SPAD, essas diretrizes devem ser seguidas:</span><span class="sxs-lookup"><span data-stu-id="c0350-177">When a pre-Windows 8 application implements **Set as Default** in SPAD, these guidelines should be followed:</span></span>

-   <span data-ttu-id="c0350-178">Os aplicativos devem reivindicar apenas padrões de nível de computador por meio do SPAD.</span><span class="sxs-lookup"><span data-stu-id="c0350-178">Applications should claim only computer-level defaults through SPAD.</span></span>
-   <span data-ttu-id="c0350-179">Os *aplicativos não devem* reivindicar padrões por usuário por SPAD.</span><span class="sxs-lookup"><span data-stu-id="c0350-179">Applications should *not* claim per-user defaults through SPAD.</span></span>

<span data-ttu-id="c0350-180">Quando um Windows 8 implementa  Definir como Padrão no SPAD, ele deve registrar seus tipos de arquivo e protocolos em Programas Padrão [,](default-programs.md)usando o mesmo nome de aplicativo usado no SPAD.</span><span class="sxs-lookup"><span data-stu-id="c0350-180">When a Windows 8 application implements **Set as Default** in SPAD, they must register their file types and protocols in [Default Programs](default-programs.md), using the same application name used in SPAD.</span></span> <span data-ttu-id="c0350-181">Isso permite que uma alteração no SPAD reflita como uma alteração na entrada Programas Padrão correspondente para o usuário atual.</span><span class="sxs-lookup"><span data-stu-id="c0350-181">This allows a change in SPAD to reflect as a change in the corresponding Default Programs entry for the current user.</span></span>

### <a name="hide-access-in-spad"></a><span data-ttu-id="c0350-182">Ocultar o acesso no SPAD</span><span class="sxs-lookup"><span data-stu-id="c0350-182">Hide Access in SPAD</span></span>

<span data-ttu-id="c0350-183">A opção ocultar acesso para cada padrão possível no SPAD é acessada de uma das duas maneiras:</span><span class="sxs-lookup"><span data-stu-id="c0350-183">The hide access option for each possible default in SPAD is accessed in one of two ways:</span></span>

-   <span data-ttu-id="c0350-184">Escolha a **categoria não Microsoft** de padrões, que remove o acesso a todos os padrões da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c0350-184">Choose the **Non-Microsoft** category of defaults, which removes access to all Microsoft defaults.</span></span>
-   <span data-ttu-id="c0350-185">Escolha a **categoria Personalizado** e des marque a caixa de **seleção Habilitar acesso a este** programa.</span><span class="sxs-lookup"><span data-stu-id="c0350-185">Choose the **Custom** category and clear the **Enable access to this program** check box.</span></span>

<span data-ttu-id="c0350-186">Anteriormente, a tomada de qualquer uma dessas ações removeu todos os pontos de entrada para os aplicativos apropriados no sistema.</span><span class="sxs-lookup"><span data-stu-id="c0350-186">Previously, taking either of those actions removed all entry points to the appropriate applications on the system.</span></span> <span data-ttu-id="c0350-187">Diretrizes específicas para essa situação dizem para remover atalhos e ícones dos seguintes locais:</span><span class="sxs-lookup"><span data-stu-id="c0350-187">Specific guidelines for this situation say to remove shortcuts and icons from the following locations:</span></span>

-   <span data-ttu-id="c0350-188">Desktop</span><span class="sxs-lookup"><span data-stu-id="c0350-188">Desktop</span></span>
-   <span data-ttu-id="c0350-189">Menu Iniciar</span><span class="sxs-lookup"><span data-stu-id="c0350-189">Start menu</span></span>
-   <span data-ttu-id="c0350-190">Início Rápido barra (somente Windows Vista e anteriores)</span><span class="sxs-lookup"><span data-stu-id="c0350-190">Quick Launch bar (Windows Vista and earlier only)</span></span>
-   <span data-ttu-id="c0350-191">Área de notificação</span><span class="sxs-lookup"><span data-stu-id="c0350-191">Notification area</span></span>
-   <span data-ttu-id="c0350-192">Menus de atalho</span><span class="sxs-lookup"><span data-stu-id="c0350-192">Shortcut menus</span></span>
-   <span data-ttu-id="c0350-193">Faixa de tarefas de pasta</span><span class="sxs-lookup"><span data-stu-id="c0350-193">Folder task band</span></span>

<span data-ttu-id="c0350-194">Os fornecedores são incentivados a implementar essas diretrizes na função de retorno de chamada Ocultar Acesso do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-194">Vendors are encouraged to implement these guidelines in the application's Hide Access callback function.</span></span>

### <a name="alternate-hide-access-method-in-spad"></a><span data-ttu-id="c0350-195">Método alternativo ocultar acesso no SPAD</span><span class="sxs-lookup"><span data-stu-id="c0350-195">Alternate Hide Access Method in SPAD</span></span>

<span data-ttu-id="c0350-196">Para alguns aplicativos herdado, uma implementação completa de Ocultar Acesso pode não ser prática.</span><span class="sxs-lookup"><span data-stu-id="c0350-196">For some legacy applications, a full implementation of Hide Access may not be practical.</span></span> <span data-ttu-id="c0350-197">Um método alternativo que atinge o mesmo efeito, mas não é facilmente reversível pelo usuário, é desinstalar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-197">An alternate method that achieves the same effect, but is not easily reversible by the user, is to uninstall the application.</span></span> <span data-ttu-id="c0350-198">O exemplo a seguir mostra o comportamento de exemplo e o código de exemplo para implementar isso.</span><span class="sxs-lookup"><span data-stu-id="c0350-198">The following shows sample behavior and example code to implement this.</span></span>

<span data-ttu-id="c0350-199">A experiência do usuário recomendada para essa alternativa é a seguinte:</span><span class="sxs-lookup"><span data-stu-id="c0350-199">The recommended user experience for this alternative is as follows:</span></span>

-   <span data-ttu-id="c0350-200">Quando o usuário limpa a caixa **Habilitar acesso** a esse programa no SPAD, a interface do usuário a seguir é apresentada.</span><span class="sxs-lookup"><span data-stu-id="c0350-200">When the user clears the **Enable access to this program** box in SPAD, the following UI is presented.</span></span>

    ![caixa de diálogo vista sobre como ocultar o acesso ao programa](images/hideaccessvista.png)

-   <span data-ttu-id="c0350-202">Quando o usuário clica em **OK**, o item **programas e recursos** no painel de controle é exibido para que o usuário possa desinstalar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-202">When the user clicks **OK**, the **Programs and Features** item in Control Panel is displayed so that the user can uninstall the application.</span></span>
-   <span data-ttu-id="c0350-203">Os usuários do Windows XP devem ser apresentados com a caixa de diálogo a seguir.</span><span class="sxs-lookup"><span data-stu-id="c0350-203">Windows XP users should be presented with the following dialog box.</span></span>

    ![caixa de diálogo do Windows XP sobre como ocultar o acesso ao programa](images/hideaccessxp.png)

-   <span data-ttu-id="c0350-205">Quando o usuário do Windows XP clica em **OK**, o item **Adicionar ou remover programas** no painel de controle é exibido para que o usuário possa desinstalar o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-205">When the Windows XP user clicks **OK**, the **Add or Remove Programs** item in Control Panel is displayed so that the user can uninstall the application.</span></span>

<span data-ttu-id="c0350-206">O código a seguir fornece uma implementação reutilizável para o recurso ocultar acesso conforme descrito anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c0350-206">The following code provides a reusable implementation for the Hide Access feature as outlined previously.</span></span> <span data-ttu-id="c0350-207">Ele pode ser usado no Windows XP, no Windows Vista e no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="c0350-207">It can be used on Windows XP, Windows Vista, and Windows 7.</span></span>


```
#include <windows.h>
#include <shlwapi.h>
#include <strsafe.h>

PCWSTR c_pszMessage1 = L"To hide access to this program, you need to uninstall it by ";
PCWSTR c_pszMessage2 = L"using\n%s in Control Panel.\n\nWould you like to start %s?";
PCWSTR c_pszApplicationName  = L"Sample App";

int _tmain(int argc, WCHAR* argv[])
{
    OSVERSIONINFO version;
    version.dwOSVersionInfoSize = sizeof(version);

    if (GetVersionEx(&version))
    {
        PCWSTR pszCPLName = NULL;

        if (version.dwMajorVersion >= 6)
        {
            // Windows Vista and later
            pszCPLName = L"Programs and Features";
        }
        else if (version.dwMajorVersion == 5 &&
                 version.dwMinorVersion == 1)
        {
            // XP
            pszCPLName = L"Add/Remove Programs";
        }

        if (pszCPLName != NULL)
        {
            WCHAR szMessage[256], szScratch[256];
            if (SUCCEEDED(StringCchPrintf(szScratch, 
                                          ARRAYSIZE(szScratch), 
                                          c_pszMessage2, 
                                          pszCPLName, 
                                          pszCPLName)))
            {
                if (SUCCEEDED(StringCchCopy(szMessage, 
                                            ARRAYSIZE(szMessage), 
                                            c_pszMessage1)))
                {
                    if (SUCCEEDED(StringCchCat(szMessage, 
                                               ARRAYSIZE(szMessage), 
                                               szScratch)))
                    {
                        if (IDOK == MessageBox(NULL, 
                                               szMessage, 
                                               c_pszApplicationName, 
                                               MB_OKCANCEL))
                        {
                            ShellExecute(NULL, 
                                         NULL, 
                                         L"appwiz.cpl", 
                                         NULL, 
                                         NULL, 
                                         SW_SHOWNORMAL);
                        }
                    }
                }
            }
        }
    }
    return 0;
}
```



## <a name="registering-for-application-entry-points"></a><span data-ttu-id="c0350-208">Registrando para pontos de entrada de aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0350-208">Registering for Application Entry Points</span></span>

<span data-ttu-id="c0350-209">Um aplicativo pode ter muitos pontos de entrada no sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="c0350-209">An application can have many entry points within the operating system.</span></span> <span data-ttu-id="c0350-210">Estes são os locais recomendados para pontos de entrada:</span><span class="sxs-lookup"><span data-stu-id="c0350-210">The following are recommended locations for entry points:</span></span>

-   <span data-ttu-id="c0350-211">Desktop</span><span class="sxs-lookup"><span data-stu-id="c0350-211">Desktop</span></span>
-   <span data-ttu-id="c0350-212">Menu Iniciar</span><span class="sxs-lookup"><span data-stu-id="c0350-212">Start menu</span></span>
-   <span data-ttu-id="c0350-213">Barra de início rápido (somente Windows Vista e anterior)</span><span class="sxs-lookup"><span data-stu-id="c0350-213">Quick Launch bar (Windows Vista and earlier only)</span></span>
-   <span data-ttu-id="c0350-214">Área de notificação</span><span class="sxs-lookup"><span data-stu-id="c0350-214">Notification area</span></span>
-   <span data-ttu-id="c0350-215">Menus de atalho</span><span class="sxs-lookup"><span data-stu-id="c0350-215">Shortcut menus</span></span>
-   <span data-ttu-id="c0350-216">Faixa de tarefas da pasta</span><span class="sxs-lookup"><span data-stu-id="c0350-216">Folder task band</span></span>

<span data-ttu-id="c0350-217">Esta seção enfoca estas áreas específicas:</span><span class="sxs-lookup"><span data-stu-id="c0350-217">This section focuses on these specific areas:</span></span>

-   [<span data-ttu-id="c0350-218">Abrir com</span><span class="sxs-lookup"><span data-stu-id="c0350-218">Open With</span></span>](#open-with)
-   [<span data-ttu-id="c0350-219">Menu iniciar e barra de início rápido</span><span class="sxs-lookup"><span data-stu-id="c0350-219">Start Menu and Quick Launch Bar</span></span>](#start-menu-and-quick-launch-bar)

### <a name="open-with"></a><span data-ttu-id="c0350-220">Abrir com</span><span class="sxs-lookup"><span data-stu-id="c0350-220">Open With</span></span>

<span data-ttu-id="c0350-221">O menu de atalho **abrir com** permite que o usuário selecione um aplicativo que possa manipular um tipo de arquivo específico.</span><span class="sxs-lookup"><span data-stu-id="c0350-221">The **Open With** shortcut menu enables the user to select an application that can handle a specific file type.</span></span> <span data-ttu-id="c0350-222">Embora **Open with** possa ser usado para abrir um arquivo com um aplicativo uma vez, ele também pode ser usado para definir o padrão para essa extensão de nome de arquivo.</span><span class="sxs-lookup"><span data-stu-id="c0350-222">While **Open With** can be used to open a file with an application one time, it can also be used to set the default for that file name extension.</span></span> <span data-ttu-id="c0350-223">Portanto, um aplicativo sempre deve se registrar para **abrir com** para que os usuários sejam apresentados com esse aplicativo como uma opção.</span><span class="sxs-lookup"><span data-stu-id="c0350-223">Therefore, an application should always register for **Open With** so that users are presented with that application as a choice.</span></span> <span data-ttu-id="c0350-224">Os aplicativos podem registrar tipos de arquivo e protocolos **para Abrir com**.</span><span class="sxs-lookup"><span data-stu-id="c0350-224">Applications can register both file types and protocols for **Open With**.</span></span> <span data-ttu-id="c0350-225">Aplicativos que registram protocolos na estrutura Programas Padrão são adicionados automaticamente às **opções Abrir com** para protocolos.</span><span class="sxs-lookup"><span data-stu-id="c0350-225">Applications that register protocols in the Default Programs framework are automatically added to the **Open With** options for protocols.</span></span>

<span data-ttu-id="c0350-226">Para obter informações sobre como **registrar-se no Open With**, consulte [Introdução às associações de arquivos](fa-intro.md).</span><span class="sxs-lookup"><span data-stu-id="c0350-226">For information on registering for **Open With**, see [Introduction to File Associations](fa-intro.md).</span></span>

### <a name="start-menu-and-quick-launch-bar"></a><span data-ttu-id="c0350-227">Menu Iniciar e Início Rápido Barra</span><span class="sxs-lookup"><span data-stu-id="c0350-227">Start Menu and Quick Launch Bar</span></span>

<span data-ttu-id="c0350-228">Para se tornar mais descobrivel para o usuário, os aplicativos podem adicionar atalhos a vários locais no Windows.</span><span class="sxs-lookup"><span data-stu-id="c0350-228">To become more discoverable to the user, applications can add shortcuts to various locations in Windows.</span></span> <span data-ttu-id="c0350-229">O local mais comum para adicionar um atalho é **o** menu Iniciar.</span><span class="sxs-lookup"><span data-stu-id="c0350-229">The most common place to add a shortcut is the **Start** menu.</span></span> <span data-ttu-id="c0350-230">No Windows Vista e posterior, um aplicativo cria um atalho na pasta oculta %ProgramData% Programas de Menu Iniciar do Microsoft Windows para aparecer na lista de programas do menu Iniciar para todos \\ \\ os \\ \\ usuários. </span><span class="sxs-lookup"><span data-stu-id="c0350-230">In Windows Vista and later, an application creates a shortcut in the hidden folder %ProgramData%\\Microsoft\\Windows\\Start Menu\\Programs to appear in the **Start** menu's list of programs for all users.</span></span> <span data-ttu-id="c0350-231">Normalmente, um aplicativo adiciona uma subpasta que contém o atalho.</span><span class="sxs-lookup"><span data-stu-id="c0350-231">Commonly, an application adds a subfolder that contains the shortcut.</span></span>

<span data-ttu-id="c0350-232">Para programas de navegador e email, o **menu** Iniciar do Windows Vista também apresenta dois links dedicados fora da lista de programas, intitulados canonicamente **internet** **e email**.</span><span class="sxs-lookup"><span data-stu-id="c0350-232">For browser and email programs, the Windows Vista **Start** menu also presents two dedicated links outside of the program list, canonically titled **Internet** and **E-mail**.</span></span> <span data-ttu-id="c0350-233">Depois que um aplicativo se registra nessas categorias, a estrutura Programas Padrão pode gerenciar o que é lançado por meio desses links.</span><span class="sxs-lookup"><span data-stu-id="c0350-233">After an application registers for those categories, the Default Programs framework can manage what is launched through those links.</span></span>

> [!Note]  
> <span data-ttu-id="c0350-234">Os links **do** **menu** **Iniciar** dedicado de Internet e email não estão mais presentes no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="c0350-234">The **Internet** and **E-mail** dedicated **Start** menu links are no longer present as of Windows 7.</span></span>

 

<span data-ttu-id="c0350-235">Para aumentar ainda mais a capacidade de descoberta, os aplicativos também podem adicionar atalhos à área de trabalho e à Início Rápido barra.</span><span class="sxs-lookup"><span data-stu-id="c0350-235">To further increase discoverability, applications can also add shortcuts to the desktop and the Quick Launch bar.</span></span> <span data-ttu-id="c0350-236">Os aplicativos devem solicitar permissão ao usuário (geralmente durante a instalação ou na primeira vez) antes de adicionar um ícone ao **menu** Iniciar, área de trabalho ou Início Rápido barra.</span><span class="sxs-lookup"><span data-stu-id="c0350-236">Applications should ask the user for permission (usually during installation or on first run) before adding an icon to the **Start** menu, desktop, or Quick Launch bar.</span></span>

> [!Note]  
> <span data-ttu-id="c0350-237">A Início Rápido de dados não está mais disponível a partir do Windows 7.</span><span class="sxs-lookup"><span data-stu-id="c0350-237">The Quick Launch bar is no longer available as of Windows 7.</span></span> <span data-ttu-id="c0350-238">A alternativa do Windows 7 é ter o aplicativo fixado na barra de tarefas, mas a fixar não pode ser feita programaticamente, pois é estritamente uma escolha do usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-238">The Windows 7 alternative is to have the application pinned to the Taskbar, but pinning cannot be done programmatically as it is strictly a user choice.</span></span>

 

<span data-ttu-id="c0350-239">Para saber mais, consulte esses tópicos:</span><span class="sxs-lookup"><span data-stu-id="c0350-239">For more information, see these topics:</span></span>

-   [<span data-ttu-id="c0350-240">Como registrar um navegador da Internet ou um cliente de email com o menu Iniciar do Windows</span><span class="sxs-lookup"><span data-stu-id="c0350-240">How to Register an Internet Browser or Email Client With the Windows Start Menu</span></span>](start-menu-reg.md)
-   [<span data-ttu-id="c0350-241">Registrando programas com tipos de cliente</span><span class="sxs-lookup"><span data-stu-id="c0350-241">Registering Programs with Client Types</span></span>](reg-middleware-apps.md)

## <a name="application-installation-and-defaults"></a><span data-ttu-id="c0350-242">Instalação e padrões do aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0350-242">Application Installation and Defaults</span></span>

<span data-ttu-id="c0350-243">Os procedimentos de instalação do aplicativo não foram alterados fundamentalmente desde o Windows XP, com exceção de uma nova diretriz para sistemas que executam versões do Windows anteriores ao Windows 8: assumem padrões por computador no momento da instalação, mas não definem padrões por usuário até que o usuário execute o aplicativo pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="c0350-243">Application installation procedures have not fundamentally changed since Windows XP, with the exception of a new guideline for systems running versions of Windows older than Windows 8: take per-computer defaults at installation time but do not set any per-user defaults until that user first runs the application.</span></span> <span data-ttu-id="c0350-244">(Consulte [execução e padrões do aplicativo pela primeira vez](#application-first-run-and-defaults).) Os aplicativos não devem definir padrões por usuário durante a instalação porque há situações em que a pessoa que está instalando o aplicativo não é o usuário pretendido.</span><span class="sxs-lookup"><span data-stu-id="c0350-244">(See [Application First Run and Defaults](#application-first-run-and-defaults).) Applications should not set per-user defaults during installation because there are situations in which the person installing the application is not the intended user.</span></span> <span data-ttu-id="c0350-245">A partir do Windows 8, não há suporte para padrões por computador e os aplicativos não podem alterar as configurações padrão por usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-245">As of Windows 8, per-computer defaults are not supported and applications cannot change per-user default settings.</span></span>

<span data-ttu-id="c0350-246">Durante a instalação, um aplicativo deve copiar seus binários para o disco rígido e gravar seus ProgIDs no registro.</span><span class="sxs-lookup"><span data-stu-id="c0350-246">During installation, an application should copy its binaries to the hard disk and write its ProgIDs to the registry.</span></span> <span data-ttu-id="c0350-247">O aplicativo também deve se registrar para programas padrão e **abrir com** no momento para cada associação de arquivo que for um candidato a ser manipulado.</span><span class="sxs-lookup"><span data-stu-id="c0350-247">The application should also register for Default Programs and **Open With** at this time for every file association it is a candidate to handle.</span></span> <span data-ttu-id="c0350-248">O aplicativo pode usar a subchave **OpenWithProgIDs** para se registrar com **Open with**.</span><span class="sxs-lookup"><span data-stu-id="c0350-248">The application can use the **OpenWithProgIds** subkey to register with **Open With**.</span></span>

<span data-ttu-id="c0350-249">Para saber mais, consulte esses tópicos:</span><span class="sxs-lookup"><span data-stu-id="c0350-249">For more information, see these topics:</span></span>

-   [<span data-ttu-id="c0350-250">Programas padrão</span><span class="sxs-lookup"><span data-stu-id="c0350-250">Default Programs</span></span>](default-programs.md)
-   [<span data-ttu-id="c0350-251">Introdução às associações de arquivo</span><span class="sxs-lookup"><span data-stu-id="c0350-251">Introduction to File Associations</span></span>](fa-intro.md)

## <a name="application-upgrades-and-defaults"></a><span data-ttu-id="c0350-252">Atualizações e padrões de aplicativos</span><span class="sxs-lookup"><span data-stu-id="c0350-252">Application Upgrades and Defaults</span></span>

<span data-ttu-id="c0350-253">Muitos aplicativos têm a capacidade de atualizar a si mesmos ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="c0350-253">Many applications have the ability to upgrade themselves over time.</span></span> <span data-ttu-id="c0350-254">Esse procedimento de atualização não deve alterar o estado de padrões por usuário, pois essa alteração seria inesperada para o usuário.</span><span class="sxs-lookup"><span data-stu-id="c0350-254">This upgrade procedure should not change the state of per-user defaults because that change would be unexpected to the user.</span></span> <span data-ttu-id="c0350-255">No entanto, é aceitável que um aplicativo Verifique as associações de arquivo no nível do computador e repare-as se elas estiverem corrompidas.</span><span class="sxs-lookup"><span data-stu-id="c0350-255">However, it is acceptable for an application to check computer-level file associations and repair them if they have been corrupted.</span></span>

## <a name="application-first-run-and-defaults"></a><span data-ttu-id="c0350-256">Execução e padrões da primeira aplicação</span><span class="sxs-lookup"><span data-stu-id="c0350-256">Application First Run and Defaults</span></span>

> [!Note]  
> <span data-ttu-id="c0350-257">A partir do Windows 8, o sistema lida com esse procedimento em nome de todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c0350-257">As of Windows 8, the system handles this procedure on behalf of all applications.</span></span> <span data-ttu-id="c0350-258">Os próprios aplicativos não podem mais consultar e alterar os padrões.</span><span class="sxs-lookup"><span data-stu-id="c0350-258">Applications themselves can no longer query and change defaults.</span></span> <span data-ttu-id="c0350-259">Somente o usuário pode fazer isso.</span><span class="sxs-lookup"><span data-stu-id="c0350-259">Only the user can do that.</span></span> <span data-ttu-id="c0350-260">Portanto, os aplicativos não devem tentar consultar o padrão atual ou alterar o padrão por meio de qualquer mecanismo.</span><span class="sxs-lookup"><span data-stu-id="c0350-260">Therefore, applications should not attempt to query for the current default or change that default through any mechanism.</span></span> <span data-ttu-id="c0350-261">No entanto, os aplicativos podem fornecer um ponto de entrada para programas padrão no painel de controle chamando o método [**LaunchAdvancedAssociationUI**](/windows/desktop/api/Shobjidl/nf-shobjidl-iapplicationassociationregistrationui-launchadvancedassociationui) da interface [**IApplicationAssociationRegistrationUI**](/windows/desktop/api/Shobjidl/nn-shobjidl-iapplicationassociationregistrationui) .</span><span class="sxs-lookup"><span data-stu-id="c0350-261">However, applications can provide an entry point to Default Programs in the Control Panel by calling the [**LaunchAdvancedAssociationUI**](/windows/desktop/api/Shobjidl/nf-shobjidl-iapplicationassociationregistrationui-launchadvancedassociationui) method of the [**IApplicationAssociationRegistrationUI**](/windows/desktop/api/Shobjidl/nn-shobjidl-iapplicationassociationregistrationui) interface.</span></span>

 

<span data-ttu-id="c0350-262">Com a introdução de padrões por usuário no Windows Vista, é importante que os aplicativos que disputam extensões de nome de arquivo populares forneçam uma experiência de usuário comum para reivindicar essas extensões.</span><span class="sxs-lookup"><span data-stu-id="c0350-262">With the introduction of per-user defaults in Windows Vista, it is important that applications that contest for popular file name extensions all provide a common user experience to claim these extensions.</span></span> <span data-ttu-id="c0350-263">Como esses padrões agora estão definidos no contexto do usuário, eles devem se apresentar como uma possibilidade padrão somente quando o usuário executa o programa após a instalação.</span><span class="sxs-lookup"><span data-stu-id="c0350-263">Because these defaults are now set in the context of the user, they should present themselves as a default possibility only when the user runs the program after installation.</span></span>

<span data-ttu-id="c0350-264">A diretriz para estabelecer padrões por usuário é esta: quando um aplicativo é executado pela primeira vez para um usuário específico, esse aplicativo deve solicitar preferências do usuário para padrões e associações de arquivo para si mesmo.</span><span class="sxs-lookup"><span data-stu-id="c0350-264">The guideline for establishing per-user defaults is this: When an application is first run for a specific user, that application should request user preferences for defaults and file associations for itself.</span></span>

<span data-ttu-id="c0350-265">A interface do usuário recomendada deve fornecer duas opções claras para o usuário:</span><span class="sxs-lookup"><span data-stu-id="c0350-265">The recommended UI should provide two clear choices to the user:</span></span>

1.  <span data-ttu-id="c0350-266">Aceite todos os padrões que o aplicativo gostaria de reivindicar.</span><span class="sxs-lookup"><span data-stu-id="c0350-266">Accept all defaults that the application would like to claim.</span></span> <span data-ttu-id="c0350-267">Essa opção também pode definir outras propriedades padrão do aplicativo, como privacidade ou configurações de atualização automática.</span><span class="sxs-lookup"><span data-stu-id="c0350-267">This option might also set other default properties of the application such as privacy or automatic update settings.</span></span> <span data-ttu-id="c0350-268">Essa opção permite que o aplicativo reclame todos os seus padrões registrados.</span><span class="sxs-lookup"><span data-stu-id="c0350-268">This option allows the application to claim all of its registered defaults.</span></span>
2.  <span data-ttu-id="c0350-269">Personalize aceitando ou não seleções padrão e configurações de programa individualmente.</span><span class="sxs-lookup"><span data-stu-id="c0350-269">Customize by accepting or not accepting default selections and program settings individually.</span></span> <span data-ttu-id="c0350-270">Essa opção apresenta mais interface do usuário que permite que o usuário faça escolhas granulares para suas opções padrão.</span><span class="sxs-lookup"><span data-stu-id="c0350-270">This option presents further UI that enables the user to make granular choices for their default options.</span></span>

<span data-ttu-id="c0350-271">Para obter mais informações, consulte [Programas padrão](default-programs.md).</span><span class="sxs-lookup"><span data-stu-id="c0350-271">For more information, see [Default Programs](default-programs.md).</span></span>

## <a name="verifying-defaults-and-asking-for-user-consent"></a><span data-ttu-id="c0350-272">Verificando padrões e solicitando consentimento do usuário</span><span class="sxs-lookup"><span data-stu-id="c0350-272">Verifying Defaults and Asking for User Consent</span></span>

> [!Note]  
> <span data-ttu-id="c0350-273">Não há suporte para isso desde Windows 8.</span><span class="sxs-lookup"><span data-stu-id="c0350-273">This is not supported as of Windows 8.</span></span>

 

<span data-ttu-id="c0350-274">Depois que um aplicativo é registrado com Programas Padrão no Windows Vista e posterior, determinadas APIs ficam disponíveis para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="c0350-274">After an application registers with Default Programs in Windows Vista and later, certain APIs become available to the application.</span></span> <span data-ttu-id="c0350-275">Por exemplo, um aplicativo pode precisar verificar se ele é o programa padrão.</span><span class="sxs-lookup"><span data-stu-id="c0350-275">For instance, an application might need to check whether it is the default program.</span></span> <span data-ttu-id="c0350-276">A interface [**IApplicationAssociationRegistration**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iapplicationassociationregistration) fornece métodos para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="c0350-276">The [**IApplicationAssociationRegistration**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-iapplicationassociationregistration) interface provides methods to do this.</span></span>

<span data-ttu-id="c0350-277">Qualquer aplicativo que deseja reivindicar padrões deve primeiro perguntar ao usuário e nunca reivindicar padrões sem permissão.</span><span class="sxs-lookup"><span data-stu-id="c0350-277">Any application that wants to claim defaults must first ask the user and never claim defaults without permission.</span></span> <span data-ttu-id="c0350-278">O usuário deve ser perguntado se deseja tornar o aplicativo o padrão ou deixar o padrão atual em prática.</span><span class="sxs-lookup"><span data-stu-id="c0350-278">The user should be asked whether they want to make the application the default or leave the current default in place.</span></span> <span data-ttu-id="c0350-279">Também deve haver uma opção para não fazer essa pergunta novamente depois que o usuário tiver feito sua escolha.</span><span class="sxs-lookup"><span data-stu-id="c0350-279">There should also be an option not to be asked this question again after the user has made their choice.</span></span>

<span data-ttu-id="c0350-280">Para obter mais informações, consulte [Programas padrão](default-programs.md).</span><span class="sxs-lookup"><span data-stu-id="c0350-280">For more information, see [Default Programs](default-programs.md).</span></span>

## <a name="application-compatibility-tips"></a><span data-ttu-id="c0350-281">Dicas de compatibilidade do aplicativo</span><span class="sxs-lookup"><span data-stu-id="c0350-281">Application Compatibility Tips</span></span>

<span data-ttu-id="c0350-282">Esta seção fornece algumas dicas de compatibilidade de aplicativos relacionadas à experiência de programas padrão no Windows.</span><span class="sxs-lookup"><span data-stu-id="c0350-282">This section provides some application compatibility tips related to the Default Programs experience in Windows.</span></span>

### <a name="avoid-triggering-per-user-virtualization"></a><span data-ttu-id="c0350-283">Evite disparar Per-User virtualização</span><span class="sxs-lookup"><span data-stu-id="c0350-283">Avoid Triggering Per-User Virtualization</span></span>

<span data-ttu-id="c0350-284">Com o ambiente de controle de conta de usuário (UAC), os aplicativos sempre devem ser executados com direitos de usuário padrão para a melhor experiência do cliente.</span><span class="sxs-lookup"><span data-stu-id="c0350-284">With the user account control (UAC) environment, applications should always run with only standard user rights for the best customer experience.</span></span> <span data-ttu-id="c0350-285">Por motivos de segurança, os aplicativos com um nível de privilégio de usuário padrão são impedidos de gravar em determinadas partes do registro e em determinados arquivos do sistema.</span><span class="sxs-lookup"><span data-stu-id="c0350-285">For security reasons, applications with a standard user privilege level are blocked from writing to certain parts of the registry and to certain system files.</span></span> <span data-ttu-id="c0350-286">O Windows Vista e versões posteriores do Windows fornecem uma camada de compatibilidade de aplicativos temporária (AppCompat) para ajudar os aplicativos a fazer a transição.</span><span class="sxs-lookup"><span data-stu-id="c0350-286">Windows Vista and later versions of Windows provide a temporary application compatibility (AppCompat) layer to help applications make the transition.</span></span> <span data-ttu-id="c0350-287">As tentativas bloqueadas de gravar no registro ou em arquivos do sistema são "virtualizadas" para que o aplicativo continue a ser executado, mas as áreas confidenciais do sistema não são alteradas.</span><span class="sxs-lookup"><span data-stu-id="c0350-287">Blocked attempts to write to the registry or to system files are "virtualized" so that the application continues to run, but the sensitive areas of the system are not altered.</span></span> <span data-ttu-id="c0350-288">No entanto, os aplicativos não devem contar com a tecnologia AppCompat como uma solução de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="c0350-288">However, applications should not rely on the AppCompat technology as a long-term solution.</span></span> <span data-ttu-id="c0350-289">Em vez disso, os aplicativos devem usar as várias ferramentas disponíveis para verificar se podem ser executados com êxito em direitos de usuário padrão.</span><span class="sxs-lookup"><span data-stu-id="c0350-289">Instead, applications should use the many available tools to verify that they can run successfully under standard user rights.</span></span> <span data-ttu-id="c0350-290">Uma reprogramação do aplicativo pode ser necessária para fazer isso, mas deve ser feita no interesse da compatibilidade de longo prazo.</span><span class="sxs-lookup"><span data-stu-id="c0350-290">Some reprogramming of the application might be required to accomplish this, but it should be done in the interest of long-term compatibility.</span></span>

### <a name="avoid-appcompat-warnings-or-blocks-from-the-program-compatibility-assistant"></a><span data-ttu-id="c0350-291">Evitar avisos ou blocos de AppCompat do assistente de compatibilidade de programa</span><span class="sxs-lookup"><span data-stu-id="c0350-291">Avoid AppCompat Warnings or Blocks from the Program Compatibility Assistant</span></span>

<span data-ttu-id="c0350-292">O PCA (Assistente de compatibilidade de programa) é fornecido no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="c0350-292">The Program Compatibility Assistant (PCA) is provided in Windows Vista and later.</span></span> <span data-ttu-id="c0350-293">Seu objetivo é fornecer um método automatizado para que os programas mais antigos com problemas de compatibilidade funcionem melhor.</span><span class="sxs-lookup"><span data-stu-id="c0350-293">Its purpose is to provide an automated method to make older programs with compatibility issues work better.</span></span> <span data-ttu-id="c0350-294">O PCA monitora os programas em busca de problemas conhecidos.</span><span class="sxs-lookup"><span data-stu-id="c0350-294">The PCA monitors programs for known issues.</span></span> <span data-ttu-id="c0350-295">Se um problema for detectado, ele notificará o usuário sobre o problema e oferecerá a aplicação de soluções efetivas antes que o usuário execute o programa novamente.</span><span class="sxs-lookup"><span data-stu-id="c0350-295">If an issue is detected, it notifies the user of the problem and offers to apply effective solutions before the user runs the program again.</span></span> <span data-ttu-id="c0350-296">Para evitar a exibição desses avisos ou blocos, os ISVs devem usar as várias ferramentas disponíveis para garantir que seus aplicativos sejam compatíveis com o Windows Vista, o Windows 7 e versões posteriores.</span><span class="sxs-lookup"><span data-stu-id="c0350-296">To avoid seeing these warnings or blocks, ISVs should use the many available tools to ensure that their applications are compatible with Windows Vista, Windows 7, and later.</span></span>

### <a name="support-for-previous-windows-operating-system-versions"></a><span data-ttu-id="c0350-297">Suporte para versões anteriores do sistema operacional Windows</span><span class="sxs-lookup"><span data-stu-id="c0350-297">Support for Previous Windows Operating System Versions</span></span>

<span data-ttu-id="c0350-298">A infraestrutura de programas padrão não está disponível em nenhum sistema operacional Windows antes do Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="c0350-298">The Default Programs infrastructure is not available on any Windows operating system before Windows Vista.</span></span> <span data-ttu-id="c0350-299">Portanto, quando os aplicativos se movem para a nova infraestrutura de Programas Padrão, eles devem manter seu código padrão de aplicativo mais antigo para manter a compatibilidade com versões mais antigas do Windows.</span><span class="sxs-lookup"><span data-stu-id="c0350-299">Therefore, when applications move to the new Default Programs infrastructure, they should retain their older application-defaults code to maintain compatibility with older versions of Windows.</span></span> <span data-ttu-id="c0350-300">Um aplicativo deve executar uma verificação de versão do sistema operacional como parte de sua instalação para determinar qual código padrão do aplicativo deve ser executado.</span><span class="sxs-lookup"><span data-stu-id="c0350-300">An application should run an operating system version check as part of its installation to determine which application-defaults code to run.</span></span>

<span data-ttu-id="c0350-301">Para dar suporte a uma atualização do Windows XP para o Windows Vista ou posterior, os aplicativos devem adicionar todas as entradas do Registro necessárias para Programas Padrão, mesmo quando eles estão sendo instalados em um computador que executa o Windows XP.</span><span class="sxs-lookup"><span data-stu-id="c0350-301">To support an upgrade from Windows XP to Windows Vista or later, applications should add all the registry entries required for Default Programs even when they are installing on a computer running Windows XP.</span></span> <span data-ttu-id="c0350-302">O registro não terá efeito em um computador que executa o Windows XP, mas se o computador for atualizado posteriormente, o aplicativo já estará registrado e poderá aproveitar a estrutura.</span><span class="sxs-lookup"><span data-stu-id="c0350-302">The registration will have no effect on a computer running Windows XP, but if the computer is later upgraded, the application will be already registered and able to take advantage of the framework.</span></span>

<span data-ttu-id="c0350-303">Para obter mais informações, consulte [**OSVERSIONINFO**](/windows/win32/api/winnt/ns-winnt-osversioninfoa).</span><span class="sxs-lookup"><span data-stu-id="c0350-303">For more information, see [**OSVERSIONINFO**](/windows/win32/api/winnt/ns-winnt-osversioninfoa).</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c0350-304">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c0350-304">Additional Resources</span></span>

-   [<span data-ttu-id="c0350-305">Introdução às associações de arquivos</span><span class="sxs-lookup"><span data-stu-id="c0350-305">Introduction to File Associations</span></span>](fa-intro.md)
-   [<span data-ttu-id="c0350-306">Como registrar um navegador da Internet ou um cliente de email com o menu Iniciar do Windows</span><span class="sxs-lookup"><span data-stu-id="c0350-306">How to Register an Internet Browser or Email Client With the Windows Start Menu</span></span>](start-menu-reg.md)
-   <span data-ttu-id="c0350-307">[Registrando um aplicativo em um esquema de URI](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="c0350-307">[Registering an Application to a URI Scheme](/previous-versions/windows/internet-explorer/ie-developer/platform-apis/aa767914(v=vs.85))</span></span>

## <a name="related-topics"></a><span data-ttu-id="c0350-308">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c0350-308">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c0350-309">Práticas recomendadas para associações de arquivos</span><span class="sxs-lookup"><span data-stu-id="c0350-309">Best Practices for File Associations</span></span>](fa-best-practices.md)
</dt> <dt>

[<span data-ttu-id="c0350-310">Cenário de exemplo de associação de arquivo</span><span class="sxs-lookup"><span data-stu-id="c0350-310">File Association Sample Scenario</span></span>](fa-sample-scenarios.md)
</dt> <dt>

[<span data-ttu-id="c0350-311">Programas padrão</span><span class="sxs-lookup"><span data-stu-id="c0350-311">Default Programs</span></span>](default-programs.md)
</dt> <dt>

[<span data-ttu-id="c0350-312">Trabalhando com definir o acesso ao programa e padrões de computador (SPAD)</span><span class="sxs-lookup"><span data-stu-id="c0350-312">Working with Set Program Access and Computer Defaults (SPAD)</span></span>](cpl-setprogramaccess.md)
</dt> </dl>

 

 
