---
description: Este tópico fornece informações sobre considerações de segurança relacionadas ao shell do Windows.
ms.assetid: eca31652-2659-456d-b082-c84d6fd39094
title: 'Considerações de segurança: Shell do Microsoft Windows'
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 16b11a965a36a403b57a3e5229fc758a4ce37252
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103647536"
---
# <a name="security-considerations-microsoft-windows-shell"></a><span data-ttu-id="18a13-103">Considerações de segurança: Shell do Microsoft Windows</span><span class="sxs-lookup"><span data-stu-id="18a13-103">Security Considerations: Microsoft Windows Shell</span></span>

<span data-ttu-id="18a13-104">Este tópico fornece informações sobre considerações de segurança relacionadas ao shell do Windows.</span><span class="sxs-lookup"><span data-stu-id="18a13-104">This topic provides information about security considerations related to the Windows Shell.</span></span> <span data-ttu-id="18a13-105">Este documento não pode fornecer tudo o que você precisa saber sobre problemas de segurança — em vez disso, use-o como ponto de partida e referência para essa área de tecnologia específica.</span><span class="sxs-lookup"><span data-stu-id="18a13-105">This document cannot provide all you need to know about security issues—instead, use it as a starting point and reference for this specific technology area.</span></span>

<span data-ttu-id="18a13-106">O Shell controla diversos aspectos importantes do sistema, incluindo vários que apresentam possíveis riscos de segurança se eles não forem tratados adequadamente.</span><span class="sxs-lookup"><span data-stu-id="18a13-106">The Shell controls a number of important aspects of the system, including several that present potential security risks if they are not properly handled.</span></span> <span data-ttu-id="18a13-107">Este tópico descreve alguns dos problemas mais comuns e como solucioná-los em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="18a13-107">This topic outlines some of the more common issues and how to address them in your applications.</span></span> <span data-ttu-id="18a13-108">Lembre-se de que a segurança não está limitada a explorações baseadas na Internet.</span><span class="sxs-lookup"><span data-stu-id="18a13-108">Remember that security is not limited to Internet-based exploits.</span></span> <span data-ttu-id="18a13-109">Em sistemas compartilhados, incluindo sistemas acessíveis por meio dos serviços de terminal, você também deve garantir que os usuários não possam fazer nada que possa danificar outras pessoas que compartilham o sistema.</span><span class="sxs-lookup"><span data-stu-id="18a13-109">On shared systems, including systems that are accessible through Terminal Services, you must also ensure that users cannot do anything that could harm others who share the system.</span></span>

-   [<span data-ttu-id="18a13-110">Instalando o aplicativo corretamente</span><span class="sxs-lookup"><span data-stu-id="18a13-110">Installing Your Application Properly</span></span>](#installing-your-application-properly)
-   [<span data-ttu-id="18a13-111">Shlwapi</span><span class="sxs-lookup"><span data-stu-id="18a13-111">Shlwapi</span></span>](#shlwapi)
-   [<span data-ttu-id="18a13-112">Preenchimento automático</span><span class="sxs-lookup"><span data-stu-id="18a13-112">Autocomplete</span></span>](#autocomplete)
-   [<span data-ttu-id="18a13-113">ShellExecute, ShellExecuteEx e funções relacionadas</span><span class="sxs-lookup"><span data-stu-id="18a13-113">ShellExecute, ShellExecuteEx, and Related Functions</span></span>](#shellexecute-shellexecuteex-and-related-functions)
-   [<span data-ttu-id="18a13-114">Movendo e copiando arquivos</span><span class="sxs-lookup"><span data-stu-id="18a13-114">Moving and Copying Files</span></span>](#moving-and-copying-files)
-   [<span data-ttu-id="18a13-115">Gravando extensões de namespace seguro</span><span class="sxs-lookup"><span data-stu-id="18a13-115">Writing Secure Namespace Extensions</span></span>](#writing-secure-namespace-extensions)
-   [<span data-ttu-id="18a13-116">Alertas de segurança</span><span class="sxs-lookup"><span data-stu-id="18a13-116">Security Alerts</span></span>](#security-alerts)
-   [<span data-ttu-id="18a13-117">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="18a13-117">Related topics</span></span>](#related-topics)

## <a name="installing-your-application-properly"></a><span data-ttu-id="18a13-118">Instalando o aplicativo corretamente</span><span class="sxs-lookup"><span data-stu-id="18a13-118">Installing Your Application Properly</span></span>

<span data-ttu-id="18a13-119">A maioria dos possíveis problemas de segurança do shell pode ser atenuada com a instalação correta do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="18a13-119">The majority of potential Shell security issues can be mitigated by correctly installing your application.</span></span>

-   <span data-ttu-id="18a13-120">Instale o aplicativo na pasta arquivos de programas.</span><span class="sxs-lookup"><span data-stu-id="18a13-120">Install the application under the Program Files folder.</span></span> 

    | <span data-ttu-id="18a13-121">Sistema Operacional</span><span class="sxs-lookup"><span data-stu-id="18a13-121">Operating System</span></span>                             | <span data-ttu-id="18a13-122">Localização</span><span class="sxs-lookup"><span data-stu-id="18a13-122">Location</span></span>                                                                                                                                                                                                                                   |
    |----------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
    | <span data-ttu-id="18a13-123">Windows XP, Windows Server 2003 e anterior</span><span class="sxs-lookup"><span data-stu-id="18a13-123">Windows XP, Windows Server 2003, and earlier</span></span> | <span data-ttu-id="18a13-124">arquivos de \_ programa CSIDL \_</span><span class="sxs-lookup"><span data-stu-id="18a13-124">CSIDL\_PROGRAM\_FILES</span></span>                                                                                                                                                                                                                      |
    | <span data-ttu-id="18a13-125">Windows Vista e posterior</span><span class="sxs-lookup"><span data-stu-id="18a13-125">Windows Vista and later</span></span>                      | <span data-ttu-id="18a13-126">FOLDERid \_ ProgramFiles, FolderId \_ PROGRAMFILESX86, FolderId \_ ProgramFilesX64, FolderId \_ ProgramFilesCommon, FOLDERid \_ ProgramFilesCommonX86 ou FolderId \_ ProgramFilesCommonX64.</span><span class="sxs-lookup"><span data-stu-id="18a13-126">FOLDERID\_ProgramFiles, FOLDERID\_ProgramFilesX86, FOLDERID\_ProgramFilesX64, FOLDERID\_ProgramFilesCommon, FOLDERID\_ProgramFilesCommonX86, or FOLDERID\_ProgramFilesCommonX64.</span></span> <span data-ttu-id="18a13-127">Consulte [**KNOWNFOLDERID**](knownfolderid.md) para obter informações específicas.</span><span class="sxs-lookup"><span data-stu-id="18a13-127">See [**KNOWNFOLDERID**](knownfolderid.md) for specifics.</span></span> |

    

     

-   <span data-ttu-id="18a13-128">Não armazene os dados do usuário na pasta arquivos de programas.</span><span class="sxs-lookup"><span data-stu-id="18a13-128">Do not store user data under the Program Files folder.</span></span>

    <span data-ttu-id="18a13-129">Use a pasta de dados apropriada para dados comuns a todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="18a13-129">Use the appropriate data folder for data that is common to all users.</span></span>

    

    | <span data-ttu-id="18a13-130">Sistema Operacional</span><span class="sxs-lookup"><span data-stu-id="18a13-130">Operating System</span></span>                             | <span data-ttu-id="18a13-131">Localização</span><span class="sxs-lookup"><span data-stu-id="18a13-131">Location</span></span>               |
    |----------------------------------------------|------------------------|
    | <span data-ttu-id="18a13-132">Windows XP, Windows Server 2003 e anterior</span><span class="sxs-lookup"><span data-stu-id="18a13-132">Windows XP, Windows Server 2003, and earlier</span></span> | <span data-ttu-id="18a13-133">AppData comuns de CSIDl \_ \_</span><span class="sxs-lookup"><span data-stu-id="18a13-133">CSIDL\_COMMON\_APPDATA</span></span> |
    | <span data-ttu-id="18a13-134">Windows Vista e posterior</span><span class="sxs-lookup"><span data-stu-id="18a13-134">Windows Vista and later</span></span>                      | <span data-ttu-id="18a13-135">PASTA de \_ ProgramData</span><span class="sxs-lookup"><span data-stu-id="18a13-135">FOLDERID\_ProgramData</span></span>  |

    

     

    <span data-ttu-id="18a13-136">Use a pasta de dados de usuário apropriada para dados que pertencem a um usuário específico.</span><span class="sxs-lookup"><span data-stu-id="18a13-136">Use the appropriate user data folder for data that belongs to a particular user.</span></span>

    

    | <span data-ttu-id="18a13-137">Sistema Operacional</span><span class="sxs-lookup"><span data-stu-id="18a13-137">Operating System</span></span>                             | <span data-ttu-id="18a13-138">Localização</span><span class="sxs-lookup"><span data-stu-id="18a13-138">Location</span></span>                                                   |
    |----------------------------------------------|------------------------------------------------------------|
    | <span data-ttu-id="18a13-139">Windows XP, Windows Server 2003 e anterior</span><span class="sxs-lookup"><span data-stu-id="18a13-139">Windows XP, Windows Server 2003, and earlier</span></span> | <span data-ttu-id="18a13-140">CSIDl \_ de AppData, CSIDL \_ pessoal e outros.</span><span class="sxs-lookup"><span data-stu-id="18a13-140">CSIDL\_APPDATA, CSIDL\_PERSONAL, and others.</span></span>               |
    | <span data-ttu-id="18a13-141">Windows Vista e posterior</span><span class="sxs-lookup"><span data-stu-id="18a13-141">Windows Vista and later</span></span>                      | <span data-ttu-id="18a13-142">FOLDERid \_ RoamingAppData, documentos FolderId \_ e outros.</span><span class="sxs-lookup"><span data-stu-id="18a13-142">FOLDERID\_RoamingAppData, FOLDERID\_Documents, and others.</span></span> |

    

     

-   <span data-ttu-id="18a13-143">Se você precisar instalar o em um local diferente da pasta arquivos de programas, certifique-se de definir as listas de controle de acesso (ACLs) corretamente para que os usuários não tenham acesso a partes inadequadas do sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="18a13-143">If you must install to a location other than the Program Files folder, make sure that you set access control lists (ACLs) properly so that users do not have access to inappropriate parts of the file system.</span></span> <span data-ttu-id="18a13-144">Todos os dados específicos de um usuário específico devem ter uma ACL que impede que qualquer outro usuário o acesse.</span><span class="sxs-lookup"><span data-stu-id="18a13-144">Any data that is specific to a particular user should have an ACL that prevents any other user from accessing it.</span></span>
-   <span data-ttu-id="18a13-145">Ao configurar as associações de arquivo, certifique-se de especificar corretamente a linha de comando.</span><span class="sxs-lookup"><span data-stu-id="18a13-145">When you set up file associations, be sure to properly specify the command line.</span></span> <span data-ttu-id="18a13-146">Use um caminho totalmente qualificado e empacote quaisquer elementos que contenham espaço em branco entre aspas.</span><span class="sxs-lookup"><span data-stu-id="18a13-146">Use a fully qualified path and wrap any elements that contain white space in quotation marks.</span></span> <span data-ttu-id="18a13-147">Empacote os parâmetros do comando em aspas separadas.</span><span class="sxs-lookup"><span data-stu-id="18a13-147">Wrap command parameters in separate quotation marks.</span></span> <span data-ttu-id="18a13-148">Caso contrário, a cadeia de caracteres poderá ser analisada incorretamente e o aplicativo não será iniciado corretamente.</span><span class="sxs-lookup"><span data-stu-id="18a13-148">Otherwise, the string might be incorrectly parsed and the application will not launch properly.</span></span> <span data-ttu-id="18a13-149">Dois exemplos de linhas de comando formadas corretamente são mostrados aqui.</span><span class="sxs-lookup"><span data-stu-id="18a13-149">Two examples of properly formed command lines are shown here.</span></span>

    ```
    "C:\Program Files\MyApp\MyApp.exe" "%1" "%2"
    C:\MyAppDir\MyApp\MyApp.exe "%1"
    ```

    

> [!Note]  
> <span data-ttu-id="18a13-150">O local das pastas de instalação padrão pode variar de sistema para sistema.</span><span class="sxs-lookup"><span data-stu-id="18a13-150">The location of the standard installation folders might vary from system to system.</span></span> <span data-ttu-id="18a13-151">Para obter o local de uma pasta padrão em um sistema específico do Windows Vista ou posterior, chame [**SHGetKnownFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetknownfolderpath) com o valor [**KNOWNFOLDERID**](knownfolderid.md) apropriado.</span><span class="sxs-lookup"><span data-stu-id="18a13-151">To get the location of a standard folder on a particular Windows Vista or later system, call [**SHGetKnownFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetknownfolderpath) with the appropriate [**KNOWNFOLDERID**](knownfolderid.md) value.</span></span> <span data-ttu-id="18a13-152">No Windows XP, no Windows Server 2003 ou em sistemas anteriores, chame [**SHGetFolderLocation**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderlocation) ou [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) com o valor [**CSIDL**](csidl.md) apropriado.</span><span class="sxs-lookup"><span data-stu-id="18a13-152">In Windows XP, Windows Server 2003, or earlier systems, call [**SHGetFolderLocation**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderlocation) or [**SHGetFolderPath**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetfolderpatha) with the appropriate [**CSIDL**](csidl.md) value.</span></span>

 

## <a name="shlwapi"></a><span data-ttu-id="18a13-153">Shlwapi</span><span class="sxs-lookup"><span data-stu-id="18a13-153">Shlwapi</span></span>

<span data-ttu-id="18a13-154">A API leve do Shell (shlwapi) inclui várias funções de manipulação de cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="18a13-154">The Shell Lightweight API (Shlwapi) includes a number of string manipulation functions.</span></span> <span data-ttu-id="18a13-155">Usar essas funções incorretamente pode levar a cadeias de caracteres truncadas inesperadamente sem nenhuma notificação do truncamento que está sendo retornado.</span><span class="sxs-lookup"><span data-stu-id="18a13-155">Using these functions incorrectly can lead to unexpectedly truncated strings with no notification of the truncation being returned.</span></span> <span data-ttu-id="18a13-156">Nos casos a seguir, as funções shlwapi não devem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="18a13-156">In the following cases, the Shlwapi functions should not be used.</span></span> <span data-ttu-id="18a13-157">As funções alternativas listadas, que apresentam menos riscos, devem ser usadas em seu lugar.</span><span class="sxs-lookup"><span data-stu-id="18a13-157">The listed alternative functions, which pose fewer risks, should be used in their place.</span></span>



| <span data-ttu-id="18a13-158">Função shlwapi</span><span class="sxs-lookup"><span data-stu-id="18a13-158">Shlwapi Function</span></span>                                                 | <span data-ttu-id="18a13-159">Função alternativa</span><span class="sxs-lookup"><span data-stu-id="18a13-159">Alternative Function</span></span>                                                                                             |
|------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="18a13-160">[**StrCat**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcatw),[**StrNCat**](/windows/desktop/api/Shlwapi/nf-shlwapi-strncata)</span><span class="sxs-lookup"><span data-stu-id="18a13-160">[**StrCat**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcatw),[**StrNCat**](/windows/desktop/api/Shlwapi/nf-shlwapi-strncata)</span></span>              | <span data-ttu-id="18a13-161">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata) e funções relacionadas</span><span class="sxs-lookup"><span data-stu-id="18a13-161">[**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata) and related functions</span></span>             |
| <span data-ttu-id="18a13-162">[**Strcpy**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpyw), [ **strcpy**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpynw)</span><span class="sxs-lookup"><span data-stu-id="18a13-162">[**StrCpy**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpyw), [**StrCpyN**](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpynw)</span></span>             | <span data-ttu-id="18a13-163">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya) e funções relacionadas</span><span class="sxs-lookup"><span data-stu-id="18a13-163">[**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya) and related functions</span></span>         |
| <span data-ttu-id="18a13-164">[**wnsprintf**](/windows/desktop/api/Shlwapi/nf-shlwapi-wnsprintfa), [ **wvnsprintf**](/windows/desktop/api/Shlwapi/nf-shlwapi-wvnsprintfa)</span><span class="sxs-lookup"><span data-stu-id="18a13-164">[**wnsprintf**](/windows/desktop/api/Shlwapi/nf-shlwapi-wnsprintfa), [**wvnsprintf**](/windows/desktop/api/Shlwapi/nf-shlwapi-wvnsprintfa)</span></span> | <span data-ttu-id="18a13-165">[**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa) e funções relacionadas</span><span class="sxs-lookup"><span data-stu-id="18a13-165">[**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa) and related functions</span></span> |



 

<span data-ttu-id="18a13-166">Com funções como [**PathRelativePathTo**](/windows/desktop/api/Shlwapi/nf-shlwapi-pathrelativepathtoa) que retornam um caminho de arquivo, sempre defina o tamanho do buffer para o máximo de \_ caracteres de caminho.</span><span class="sxs-lookup"><span data-stu-id="18a13-166">With functions such as [**PathRelativePathTo**](/windows/desktop/api/Shlwapi/nf-shlwapi-pathrelativepathtoa) that return a file path, always set the size of the buffer to MAX\_PATH characters.</span></span> <span data-ttu-id="18a13-167">Isso garante que o buffer seja grande o suficiente para manter o maior caminho de arquivo possível, além de um caractere nulo de terminação.</span><span class="sxs-lookup"><span data-stu-id="18a13-167">Doing so ensures that the buffer is large enough to hold the largest possible file path, plus a terminating null character.</span></span>

<span data-ttu-id="18a13-168">Para obter mais informações sobre as funções de cadeia de caracteres alternativas, consulte [about strsafe. h](../menurc/strsafe-ovw.md).</span><span class="sxs-lookup"><span data-stu-id="18a13-168">For more information on the alternative string functions, see [About Strsafe.h](../menurc/strsafe-ovw.md).</span></span>

## <a name="autocomplete"></a><span data-ttu-id="18a13-169">Preenchimento automático</span><span class="sxs-lookup"><span data-stu-id="18a13-169">Autocomplete</span></span>

<span data-ttu-id="18a13-170">Não use o recurso de preenchimento automático para senhas.</span><span class="sxs-lookup"><span data-stu-id="18a13-170">Do not use the Autocomplete feature for passwords.</span></span>

## <a name="shellexecute-shellexecuteex-and-related-functions"></a><span data-ttu-id="18a13-171">ShellExecute, ShellExecuteEx e funções relacionadas</span><span class="sxs-lookup"><span data-stu-id="18a13-171">ShellExecute, ShellExecuteEx, and Related Functions</span></span>

<span data-ttu-id="18a13-172">Há várias funções do shell que você pode usar para iniciar aplicativos: [**ShellExecute**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecutea), [**ShellExecuteEx**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecuteexa), [**WinExec**](/windows/win32/api/winbase/nf-winbase-winexec)e [**SHCreateProcessAsUserW**](/windows/desktop/api/Shellapi/nf-shellapi-shcreateprocessasuserw).</span><span class="sxs-lookup"><span data-stu-id="18a13-172">There are several Shell functions that you can use to launch applications: [**ShellExecute**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecutea), [**ShellExecuteEx**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecuteexa), [**WinExec**](/windows/win32/api/winbase/nf-winbase-winexec), and [**SHCreateProcessAsUserW**](/windows/desktop/api/Shellapi/nf-shellapi-shcreateprocessasuserw).</span></span> <span data-ttu-id="18a13-173">Certifique-se de fornecer uma definição não ambígua do aplicativo a ser executado.</span><span class="sxs-lookup"><span data-stu-id="18a13-173">Make sure you provide an unambiguous definition of the application that is to be executed.</span></span>

-   <span data-ttu-id="18a13-174">Ao fornecer o caminho do arquivo executável, forneça o caminho totalmente qualificado.</span><span class="sxs-lookup"><span data-stu-id="18a13-174">When providing the executable file's path, provide the fully qualified path.</span></span> <span data-ttu-id="18a13-175">Não dependem do Shell para localizar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="18a13-175">Do not depend on the Shell to locate the file.</span></span>
-   <span data-ttu-id="18a13-176">Se você fornecer uma cadeia de caracteres de linha de comando que contenha espaço em branco, coloque a cadeia de caracteres entre aspas.</span><span class="sxs-lookup"><span data-stu-id="18a13-176">If you provide a command-line string that contains white space, wrap the string in quotation marks.</span></span> <span data-ttu-id="18a13-177">Caso contrário, o analisador pode interpretar um único elemento que contém espaços como vários elementos.</span><span class="sxs-lookup"><span data-stu-id="18a13-177">Otherwise, the parser might interpret a single element that contains spaces as multiple elements.</span></span>

## <a name="moving-and-copying-files"></a><span data-ttu-id="18a13-178">Movendo e copiando arquivos</span><span class="sxs-lookup"><span data-stu-id="18a13-178">Moving and Copying Files</span></span>

<span data-ttu-id="18a13-179">Uma chave para a segurança do sistema é atribuir ACLs corretamente.</span><span class="sxs-lookup"><span data-stu-id="18a13-179">One key to system security is properly assigning ACLs.</span></span> <span data-ttu-id="18a13-180">Você também pode usar arquivos criptografados.</span><span class="sxs-lookup"><span data-stu-id="18a13-180">You also might use encrypted files.</span></span> <span data-ttu-id="18a13-181">Certifique-se de que, ao mover ou copiar arquivos, eles recebam a ACL correta e que eles não tenham sido descriptografados acidentalmente.</span><span class="sxs-lookup"><span data-stu-id="18a13-181">Make sure that when you move or copy files, that they are assigned the correct ACL and that they have not been accidentally decrypted.</span></span> <span data-ttu-id="18a13-182">Isso inclui a movimentação de arquivos para a **Lixeira**, bem como dentro do sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="18a13-182">This includes moving files to the **Recycle Bin**, as well as within the file system.</span></span> <span data-ttu-id="18a13-183">Use [**IFileOperation**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifileoperation) (Windows Vista ou posterior) ou [**SHFILEOPERATION**](/windows/desktop/api/Shellapi/nf-shellapi-shfileoperationa) (Windows XP e versões anteriores).</span><span class="sxs-lookup"><span data-stu-id="18a13-183">Use [**IFileOperation**](/windows/desktop/api/shobjidl_core/nn-shobjidl_core-ifileoperation) (Windows Vista or later) or [**SHFileOperation**](/windows/desktop/api/Shellapi/nf-shellapi-shfileoperationa) (Windows XP and earlier).</span></span> <span data-ttu-id="18a13-184">Não use [**MoveFile**](/windows/win32/api/winbase/nf-winbase-movefile), que pode não definir a ACL esperada para o arquivo de destino.</span><span class="sxs-lookup"><span data-stu-id="18a13-184">Do not use [**MoveFile**](/windows/win32/api/winbase/nf-winbase-movefile), which might not set the expected ACL for the destination file.</span></span>

## <a name="writing-secure-namespace-extensions"></a><span data-ttu-id="18a13-185">Gravando extensões de namespace seguro</span><span class="sxs-lookup"><span data-stu-id="18a13-185">Writing Secure Namespace Extensions</span></span>

<span data-ttu-id="18a13-186">As extensões de namespace do shell são uma maneira poderosa e flexível de apresentar dados ao usuário.</span><span class="sxs-lookup"><span data-stu-id="18a13-186">Shell namespace extensions are a powerful and flexible way to present data to the user.</span></span> <span data-ttu-id="18a13-187">No entanto, eles podem causar falha do sistema se não forem gravados corretamente.</span><span class="sxs-lookup"><span data-stu-id="18a13-187">However, they can cause system failure if they are not correctly written.</span></span> <span data-ttu-id="18a13-188">Alguns pontos importantes a serem considerados:</span><span class="sxs-lookup"><span data-stu-id="18a13-188">Some key points to keep in mind:</span></span>

-   <span data-ttu-id="18a13-189">Não presuma que dados como imagens estão formatados corretamente.</span><span class="sxs-lookup"><span data-stu-id="18a13-189">Do not assume that data such as images are formatted correctly.</span></span>
-   <span data-ttu-id="18a13-190">Não presuma que \_ o caminho máximo é equivalente ao número de *bytes* em uma cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="18a13-190">Do not assume that MAX\_PATH is equivalent to the number of *bytes* in a string.</span></span> <span data-ttu-id="18a13-191">É o número de *caracteres*.</span><span class="sxs-lookup"><span data-stu-id="18a13-191">It is the number of *characters*.</span></span>

## <a name="security-alerts"></a><span data-ttu-id="18a13-192">Alertas de segurança</span><span class="sxs-lookup"><span data-stu-id="18a13-192">Security Alerts</span></span>

<span data-ttu-id="18a13-193">A tabela a seguir lista alguns recursos que podem, se usados incorretamente, comprometer a segurança de seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="18a13-193">The following table lists some features that can, if used incorrectly, compromise the security of your applications.</span></span>



| <span data-ttu-id="18a13-194">Recurso</span><span class="sxs-lookup"><span data-stu-id="18a13-194">Feature</span></span>                                                                        | <span data-ttu-id="18a13-195">Atenuação</span><span class="sxs-lookup"><span data-stu-id="18a13-195">Mitigation</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|--------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="18a13-196">[**ShellExecute**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecutea), [ **ShellExecuteEx**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecuteexa)</span><span class="sxs-lookup"><span data-stu-id="18a13-196">[**ShellExecute**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecutea), [**ShellExecuteEx**](/windows/desktop/api/Shellapi/nf-shellapi-shellexecuteexa)</span></span> | <span data-ttu-id="18a13-197">Pesquisas que dependem da verificação de uma série de locais padrão para localizar um arquivo específico podem ser usadas em um ataque de falsificação.</span><span class="sxs-lookup"><span data-stu-id="18a13-197">Searches that depend on checking a series of default locations to find a specific file can be used in a spoofing attack.</span></span> <span data-ttu-id="18a13-198">Use um caminho totalmente qualificado para garantir que você acesse o arquivo desejado.</span><span class="sxs-lookup"><span data-stu-id="18a13-198">Use a fully qualified path to ensure that you access the desired file.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="18a13-199">**StrCat**</span><span class="sxs-lookup"><span data-stu-id="18a13-199">**StrCat**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strcatw)                                                       | <span data-ttu-id="18a13-200">O primeiro argumento, *psz1*, deve ser grande o suficiente para manter *psz2* e o fechamento ' \\ 0 '; caso contrário, pode ocorrer uma saturação de buffer.</span><span class="sxs-lookup"><span data-stu-id="18a13-200">The first argument, *psz1*, must be large enough to hold *psz2* and the closing '\\0', otherwise a buffer overrun might occur.</span></span> <span data-ttu-id="18a13-201">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-201">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-202">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna)ou [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-202">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna), or [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span></span>                                                                                                                                                             |
| [<span data-ttu-id="18a13-203">**StrCatBuff**</span><span class="sxs-lookup"><span data-stu-id="18a13-203">**StrCatBuff**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strcatbuffa)                                               | <span data-ttu-id="18a13-204">Não há garantia de que a cadeia de caracteres final seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-204">The final string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-205">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-205">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-206">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna)ou [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-206">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna), or [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span></span>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="18a13-207">**StrCatChainW**</span><span class="sxs-lookup"><span data-stu-id="18a13-207">**StrCatChainW**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strcatchainw)                                           | <span data-ttu-id="18a13-208">Não há garantia de que a cadeia de caracteres final seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-208">The final string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-209">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-209">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-210">[**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa)ou [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-210">[**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), or [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                      |
| [<span data-ttu-id="18a13-211">**StrCpy**</span><span class="sxs-lookup"><span data-stu-id="18a13-211">**StrCpy**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpyw)                                                       | <span data-ttu-id="18a13-212">O primeiro argumento, *psz1*, deve ser grande o suficiente para manter *psz2* e o fechamento ' \\ 0 '; caso contrário, pode ocorrer uma saturação de buffer.</span><span class="sxs-lookup"><span data-stu-id="18a13-212">The first argument, *psz1*, must be large enough to hold *psz2* and the closing '\\0', otherwise a buffer overrun might occur.</span></span> <span data-ttu-id="18a13-213">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-213">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-214">[**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna)ou [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-214">[**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna), or [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span></span>                                                                                                                                             |
| [<span data-ttu-id="18a13-215">**StrCpy**</span><span class="sxs-lookup"><span data-stu-id="18a13-215">**StrCpyN**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strcpynw)                                                     | <span data-ttu-id="18a13-216">Não há garantia de que a cadeia de caracteres copiada seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-216">The copied string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-217">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-217">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-218">[**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna), [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-218">[**StringCbCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopya), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna), [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span></span>                                                                                                                                                                                                                    |
| [<span data-ttu-id="18a13-219">**StrDup**</span><span class="sxs-lookup"><span data-stu-id="18a13-219">**StrDup**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strdupa)                                                       | <span data-ttu-id="18a13-220">[**StrDup**](/windows/desktop/api/Shlwapi/nf-shlwapi-strdupa) pressupõe que *lpsz* é uma cadeia de caracteres terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-220">[**StrDup**](/windows/desktop/api/Shlwapi/nf-shlwapi-strdupa) assumes that *lpsz* is a null-terminated string.</span></span> <span data-ttu-id="18a13-221">Além disso, não há garantia de que a cadeia de caracteres retornada seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-221">Further, the returned string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-222">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-222">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-223">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna)ou [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-223">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyexa), [**StringCbCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopyna), [**StringCbCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcopynexa), [**StringCchCopy**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopya), [**StringCchCopyEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyexa), [**StringCchCopyN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopyna), or [**StringCchCopyNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcopynexa).</span></span>                                                                                                                              |
| [<span data-ttu-id="18a13-224">**StrNCat**</span><span class="sxs-lookup"><span data-stu-id="18a13-224">**StrNCat**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-strncata)                                                     | <span data-ttu-id="18a13-225">O primeiro argumento, *pszFront*, deve ser grande o suficiente para manter *pszBack* e o fechamento ' \\ 0 '; caso contrário, pode ocorrer uma saturação de buffer.</span><span class="sxs-lookup"><span data-stu-id="18a13-225">The first argument, *pszFront*, must be large enough to hold *pszBack* and the closing '\\0', otherwise a buffer overrun might occur.</span></span> <span data-ttu-id="18a13-226">Lembre-se de que o último argumento, *cchMax*, é o número de caracteres a serem copiados em *pszFront*, não necessariamente o tamanho do *pszFront* em bytes.</span><span class="sxs-lookup"><span data-stu-id="18a13-226">Be aware that the last argument, *cchMax*, is the number of characters to copy into *pszFront*, not necessarily the size of the *pszFront* in bytes.</span></span> <span data-ttu-id="18a13-227">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-227">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-228">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna)ou [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-228">[**StringCbCat**](/windows/win32/api/strsafe/nf-strsafe-stringcbcata), [**StringCbCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatexa), [**StringCbCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatna), [**StringCbCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbcatnexa), [**StringCchCat**](/windows/win32/api/strsafe/nf-strsafe-stringcchcata), [**StringCchCatEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatexa), [**StringCchCatN**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatna), or [**StringCchCatNEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchcatnexa).</span></span> |
| [<span data-ttu-id="18a13-229">**wnsprintf**</span><span class="sxs-lookup"><span data-stu-id="18a13-229">**wnsprintf**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-wnsprintfa)                                                 | <span data-ttu-id="18a13-230">Não há garantia de que a cadeia de caracteres copiada seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-230">The copied string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-231">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-231">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-232">[**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfa)ou [**StringCchVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-232">[**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="18a13-233">**wvnsprintf**</span><span class="sxs-lookup"><span data-stu-id="18a13-233">**wvnsprintf**</span></span>](/windows/desktop/api/Shlwapi/nf-shlwapi-wvnsprintfa)                                               | <span data-ttu-id="18a13-234">Não há garantia de que a cadeia de caracteres copiada seja terminada em nulo.</span><span class="sxs-lookup"><span data-stu-id="18a13-234">The copied string is not guaranteed to be null-terminated.</span></span> <span data-ttu-id="18a13-235">Em vez disso, use uma das alternativas a seguir.</span><span class="sxs-lookup"><span data-stu-id="18a13-235">Use one of the following alternatives instead.</span></span> <span data-ttu-id="18a13-236">[**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfa)ou [**StringCchVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfexa).</span><span class="sxs-lookup"><span data-stu-id="18a13-236">[**StringCbPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfa), [**StringCbPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbprintfexa), [**StringCbVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfa), [**StringCbVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcbvprintfexa), [**StringCchPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfa), [**StringCchPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchprintfexa), [**StringCchVPrintf**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfa), or [**StringCchVPrintfEx**](/windows/win32/api/strsafe/nf-strsafe-stringcchvprintfexa).</span></span>                                                                                                                                                                                 |



 

## <a name="related-topics"></a><span data-ttu-id="18a13-237">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="18a13-237">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="18a13-238">Microsoft Security</span><span class="sxs-lookup"><span data-stu-id="18a13-238">Microsoft Security</span></span>](https://www.microsoft.com/security/default.aspx)
</dt> <dt>

[<span data-ttu-id="18a13-239">Centro de desenvolvedores de segurança</span><span class="sxs-lookup"><span data-stu-id="18a13-239">Security Developer Center</span></span>](https://msdn.microsoft.com/security/)
</dt> <dt>

<span data-ttu-id="18a13-240">[Microsoft Solution Accelerators](/previous-versions/tn-archive/cc936627(v=technet.10))</span><span class="sxs-lookup"><span data-stu-id="18a13-240">[Microsoft Solution Accelerators](/previous-versions/tn-archive/cc936627(v=technet.10))</span></span>
</dt> <dt>

[<span data-ttu-id="18a13-241">TechCenter de segurança</span><span class="sxs-lookup"><span data-stu-id="18a13-241">Security TechCenter</span></span>](https://technet.microsoft.com/security/default.aspx)
</dt> <dt>

[<span data-ttu-id="18a13-242">Sobre o strsafe. h</span><span class="sxs-lookup"><span data-stu-id="18a13-242">About Strsafe.h</span></span>](../menurc/strsafe-ovw.md)
</dt> </dl>

 

 
