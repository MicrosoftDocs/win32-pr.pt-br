---
description: Sinalizadores que controlam o comportamento da função de chamada. Usado por SHCreateThread e SHCreateThreadWithHandle. Nessas funções, esses valores são definidos como sendo do tipo \_ sinalizadores SHCT.
title: Sinalizadores CTF (shlwapi. h)
ms.topic: reference
ms.date: 05/31/2018
ms.assetid: 66cda866-7a39-4c5a-a795-a4c5c64cbab7
api_name:
- CTF_INSIST
- CTF_THREAD_REF
- CTF_PROCESS_REF
- CTF_COINIT_STA
- CTF_COINIT
- CTF_FREELIBANDEXIT
- CTF_REF_COUNTED
- CTF_WAIT_ALLOWCOM
- CTF_UNUSED
- CTF_INHERITWOW64
- CTF_WAIT_NO_REENTRANCY
- CTF_KEYBOARD_LOCALE
- CTF_OLEINITIALIZE
- CTF_COINIT_MTA
- CTF_NOADDREFLIB
api_type:
- HeaderDef
api_location:
- Shlwapi.h
topic_type:
- APIRef
- kbSyntax
ms.openlocfilehash: db0f33daecc4abcbfbc9972d0607f4817bc7ecff
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104967342"
---
# <a name="ctf-flags"></a><span data-ttu-id="b536d-105">Sinalizadores de CTF</span><span class="sxs-lookup"><span data-stu-id="b536d-105">CTF Flags</span></span>

<span data-ttu-id="b536d-106">Sinalizadores que controlam o comportamento da função de chamada.</span><span class="sxs-lookup"><span data-stu-id="b536d-106">Flags that control the calling function's behavior.</span></span> <span data-ttu-id="b536d-107">Usado por [**SHCreateThread**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethread) e [**SHCreateThreadWithHandle**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethreadwithhandle).</span><span class="sxs-lookup"><span data-stu-id="b536d-107">Used by [**SHCreateThread**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethread) and [**SHCreateThreadWithHandle**](/windows/desktop/api/Shlwapi/nf-shlwapi-shcreatethreadwithhandle).</span></span> <span data-ttu-id="b536d-108">Nessas funções, esses valores são definidos como sendo do tipo \_ sinalizadores SHCT.</span><span class="sxs-lookup"><span data-stu-id="b536d-108">In those functions, these values are defined as being of type SHCT\_FLAGS.</span></span>



| <span data-ttu-id="b536d-109">Constante/valor</span><span class="sxs-lookup"><span data-stu-id="b536d-109">Constant/value</span></span>                                                                                                                                                                                                                                             | <span data-ttu-id="b536d-110">Description</span><span class="sxs-lookup"><span data-stu-id="b536d-110">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CTF_INSIST"></span><span id="ctf_insist"></span><dl> <span data-ttu-id="b536d-111"><dt>**CTF \_ INSISTIr**</dt> <dt>0x00000001</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-111"><dt>**CTF\_INSIST**</dt> <dt>0x00000001</dt></span></span> </dl>                                       | <span data-ttu-id="b536d-112">0x00000001.</span><span class="sxs-lookup"><span data-stu-id="b536d-112">0x00000001.</span></span> <span data-ttu-id="b536d-113">Se a tentativa de criar o thread com [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) falhar, definir esse sinalizador fará com que a função apontada por *pfnThreadProc* seja chamada de forma síncrona do thread de chamada.</span><span class="sxs-lookup"><span data-stu-id="b536d-113">If the attempt to create the thread with [**CreateThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createthread) fails, setting this flag will cause the function pointed to by *pfnThreadProc* to be called synchronously from the calling thread.</span></span> <span data-ttu-id="b536d-114">Esse sinalizador só poderá ser usado se *pfnCallback* for **nulo**.</span><span class="sxs-lookup"><span data-stu-id="b536d-114">This flag can be used only if *pfnCallback* is **NULL**.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="CTF_THREAD_REF"></span><span id="ctf_thread_ref"></span><dl> <span data-ttu-id="b536d-115"><dt>**CTF \_ \_Referência de thread**</dt> <dt>0x00000002</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-115"><dt>**CTF\_THREAD\_REF**</dt> <dt>0x00000002</dt></span></span> </dl>                          | <span data-ttu-id="b536d-116">0x00000002.</span><span class="sxs-lookup"><span data-stu-id="b536d-116">0x00000002.</span></span> <span data-ttu-id="b536d-117">Mantenha uma referência para o thread de criação durante a chamada para a função apontada por *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="b536d-117">Hold a reference to the creating thread for the duration of the call to the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="b536d-118">Essa referência deve ter sido definida com [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span><span class="sxs-lookup"><span data-stu-id="b536d-118">This reference must have been set with [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CTF_PROCESS_REF"></span><span id="ctf_process_ref"></span><dl> <span data-ttu-id="b536d-119"><dt>**CTF \_ PROCESSAR \_ referência**</dt> <dt>0x00000004</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-119"><dt>**CTF\_PROCESS\_REF**</dt> <dt>0x00000004</dt></span></span> </dl>                       | <span data-ttu-id="b536d-120">0x00000004.</span><span class="sxs-lookup"><span data-stu-id="b536d-120">0x00000004.</span></span> <span data-ttu-id="b536d-121">Mantenha uma referência ao processo do Windows Explorer para a duração da chamada para a função apontada por *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="b536d-121">Hold a reference to the Windows Explorer process for the duration of the call to the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="b536d-122">Esse sinalizador é útil para [manipuladores de extensão de shell](handlers.md), que podem precisar manter o processo do Windows Explorer de fechar prematuramente.</span><span class="sxs-lookup"><span data-stu-id="b536d-122">This flag is useful for [Shell extension handlers](handlers.md), which might need to keep the Windows Explorer process from closing prematurely.</span></span> <span data-ttu-id="b536d-123">Essa ação é útil durante tarefas como trabalhar em um thread em segundo plano ou copiar arquivos.</span><span class="sxs-lookup"><span data-stu-id="b536d-123">This action is useful during tasks such as working on a background thread or copying files.</span></span> <span data-ttu-id="b536d-124">Para obter mais informações, consulte [**SHGetInstanceExplorer**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetinstanceexplorer).</span><span class="sxs-lookup"><span data-stu-id="b536d-124">For more information, see [**SHGetInstanceExplorer**](/windows/desktop/api/shlobj_core/nf-shlobj_core-shgetinstanceexplorer).</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CTF_COINIT_STA"></span><span id="ctf_coinit_sta"></span><dl> <span data-ttu-id="b536d-125"><dt>**CTF \_ Coinit \_ STA**</dt> <dt>0x00000008</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-125"><dt>**CTF\_COINIT\_STA**</dt> <dt>0x00000008</dt></span></span> </dl>                          | <span data-ttu-id="b536d-126">0x00000008.</span><span class="sxs-lookup"><span data-stu-id="b536d-126">0x00000008.</span></span> <span data-ttu-id="b536d-127">Inicialize COM como um STA (single-threaded apartment) para o thread criado antes de chamar a função opcional apontada por *pfnCallback* ou a função apontada por *pfnThreadProc*.</span><span class="sxs-lookup"><span data-stu-id="b536d-127">Initialize COM as a Single Threaded Apartment (STA) for the created thread before calling either the optional function pointed to by *pfnCallback* or the function pointed to by *pfnThreadProc*.</span></span> <span data-ttu-id="b536d-128">Esse sinalizador é útil quando o COM precisa ser inicializado para um thread.</span><span class="sxs-lookup"><span data-stu-id="b536d-128">This flag is useful when COM needs to be initialized for a thread.</span></span> <span data-ttu-id="b536d-129">COM também será automaticamente não inicializado.</span><span class="sxs-lookup"><span data-stu-id="b536d-129">COM will automatically be uninitialized as well.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CTF_COINIT"></span><span id="ctf_coinit"></span><dl> <span data-ttu-id="b536d-130"><dt>**CTF \_ 0x00000008 de coinicialização**</dt> <dt></dt></span><span class="sxs-lookup"><span data-stu-id="b536d-130"><dt>**CTF\_COINIT**</dt> <dt>0x00000008</dt></span></span> </dl>                                       | <span data-ttu-id="b536d-131">Equivalente a CTF de \_ outinit \_ Sta.</span><span class="sxs-lookup"><span data-stu-id="b536d-131">Equivalent to CTF\_COINIT\_STA.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="CTF_FREELIBANDEXIT"></span><span id="ctf_freelibandexit"></span><dl> <span data-ttu-id="b536d-132"><dt>**CTF \_ FREELIBANDEXIT**</dt> <dt>0x00000010</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-132"><dt>**CTF\_FREELIBANDEXIT**</dt> <dt>0x00000010</dt></span></span> </dl>               | <span data-ttu-id="b536d-133">0x00000010.</span><span class="sxs-lookup"><span data-stu-id="b536d-133">0x00000010.</span></span> <span data-ttu-id="b536d-134">**Internet Explorer 6 ou posterior.** [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) será chamado na DLL que contém a função *pfnThreadProc* para impedir que ela seja descarregada.</span><span class="sxs-lookup"><span data-stu-id="b536d-134">**Internet Explorer 6 or later.**[**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) will be called on the DLL that contains the *pfnThreadProc* function to prevent it from being unloaded.</span></span> <span data-ttu-id="b536d-135">Após o retorno de *pfnThreadProc* , a dll será liberada com [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary), diminuindo assim a contagem de referência de dll.</span><span class="sxs-lookup"><span data-stu-id="b536d-135">After *pfnThreadProc* returns, the DLL will be freed with [**FreeLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibrary), thereby decrementing the DLL reference count.</span></span> <span data-ttu-id="b536d-136">Passe este sinalizador para impedir que a DLL seja descarregada prematuramente; por exemplo, por [**CoFreeUnusedLibraries**](/windows/win32/api/combaseapi/nf-combaseapi-cofreeunusedlibraries).</span><span class="sxs-lookup"><span data-stu-id="b536d-136">Pass this flag to prevent the DLL from being unloaded prematurely; for example, by [**CoFreeUnusedLibraries**](/windows/win32/api/combaseapi/nf-combaseapi-cofreeunusedlibraries).</span></span> <span data-ttu-id="b536d-137">Observe que, se esse sinalizador for passado, a função *pfnThreadProc* deverá residir em uma dll.</span><span class="sxs-lookup"><span data-stu-id="b536d-137">Note that if this flag is passed, the *pfnThreadProc* function must reside in a DLL.</span></span> <span data-ttu-id="b536d-138">Esse sinalizador é implícito no Windows Vista e posterior.</span><span class="sxs-lookup"><span data-stu-id="b536d-138">This flag is implicit in Windows Vista and later.</span></span><br/>                                                                                                                                                                                                                                                                   |
| <span id="CTF_REF_COUNTED"></span><span id="ctf_ref_counted"></span><dl> <span data-ttu-id="b536d-139"><dt>**CTF \_ REF \_ contado**</dt> <dt>0x00000020</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-139"><dt>**CTF\_REF\_COUNTED**</dt> <dt>0x00000020</dt></span></span> </dl>                       | <span data-ttu-id="b536d-140">0x00000020.</span><span class="sxs-lookup"><span data-stu-id="b536d-140">0x00000020.</span></span> <span data-ttu-id="b536d-141">**Internet Explorer 6 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-141">**Internet Explorer 6 or later.**</span></span> <span data-ttu-id="b536d-142">Uma referência de thread será criada automaticamente para o thread criado e definida com [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span><span class="sxs-lookup"><span data-stu-id="b536d-142">A thread reference will automatically be created for the created thread and set with [**SHSetThreadRef**](/windows/desktop/api/Shlwapi/nf-shlwapi-shsetthreadref).</span></span> <span data-ttu-id="b536d-143">Depois que *pfnThreadProc* retorna, a referência de thread é liberada e as mensagens são enviadas até que a contagem de referência na referência de thread caia para zero, ou seja, até que os threads que dependem do thread criado tenham liberado suas referências.</span><span class="sxs-lookup"><span data-stu-id="b536d-143">After the *pfnThreadProc* returns, the thread reference is released and messages are sent until the reference count on the thread reference drops to zero, that is, until threads that are dependent on the created thread have released their references.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="CTF_WAIT_ALLOWCOM"></span><span id="ctf_wait_allowcom"></span><dl> <span data-ttu-id="b536d-144"><dt>**CTF \_ Aguarde \_ ALLOWCOM**</dt> <dt>0x00000040</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-144"><dt>**CTF\_WAIT\_ALLOWCOM**</dt> <dt>0x00000040</dt></span></span> </dl>                 | <span data-ttu-id="b536d-145">0x00000040.</span><span class="sxs-lookup"><span data-stu-id="b536d-145">0x00000040.</span></span> <span data-ttu-id="b536d-146">**Internet Explorer 6 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-146">**Internet Explorer 6 or later.**</span></span> <span data-ttu-id="b536d-147">O thread de chamada aguarda e bombas mensagens COM e [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="b536d-147">The calling thread waits and pumps COM and [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) messages.</span></span> <span data-ttu-id="b536d-148">Se o procedimento síncrono tentar enviar uma mensagem do Windows com **SendMessage** para uma janela hospedada no thread de chamada, a mensagem será entregue com êxito.</span><span class="sxs-lookup"><span data-stu-id="b536d-148">If the synchronous procedure attempts to send a Windows message with **SendMessage** to a window hosted on the calling thread, the message will arrive successfully.</span></span> <span data-ttu-id="b536d-149">Se o procedimento síncrono tentar usar COM para se comunicar com um objeto STA hospedado no thread de chamada, a chamada de função atingirá com êxito o objeto pretendido.</span><span class="sxs-lookup"><span data-stu-id="b536d-149">If the synchronous procedure attempts to use COM to communicate with an STA object hosted on the calling thread, the function call will successfully reach the intended object.</span></span> <span data-ttu-id="b536d-150">O thread de chamada está aberto para redigitar fragilidade.</span><span class="sxs-lookup"><span data-stu-id="b536d-150">The calling thread is open to re-entrance fragility.</span></span> <span data-ttu-id="b536d-151">Embora o thread de chamada possa manipular o uso de **SendMessage** e com do procedimento síncrono, se outros threads estiverem usando **SendMessage** ou com para se comunicar com objetos hospedados no thread de chamada, eles poderão ser mensagens inesperadas ou chamadas de função que são processadas enquanto o procedimento síncrono está sendo concluído.</span><span class="sxs-lookup"><span data-stu-id="b536d-151">While the calling thread can handle the synchronous procedure's use of **SendMessage** and COM, if other threads are using **SendMessage** or COM to communicate to objects hosted on the calling thread, then these might be unexpected messages or function calls which are processed while the synchronous procedure is completing.</span></span><br/> |
| <span id="CTF_UNUSED"></span><span id="ctf_unused"></span><dl> <span data-ttu-id="b536d-152"><dt>**CTF \_ 0x00000080 não utilizados**</dt> <dt></dt></span><span class="sxs-lookup"><span data-stu-id="b536d-152"><dt>**CTF\_UNUSED**</dt> <dt>0x00000080</dt></span></span> </dl>                                       | <span data-ttu-id="b536d-153">0x00000080.</span><span class="sxs-lookup"><span data-stu-id="b536d-153">0x00000080.</span></span> <span data-ttu-id="b536d-154">**Internet Explorer 7 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-154">**Internet Explorer 7 or later.**</span></span> <span data-ttu-id="b536d-155">Não usado.</span><span class="sxs-lookup"><span data-stu-id="b536d-155">Not used.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span id="CTF_INHERITWOW64"></span><span id="ctf_inheritwow64"></span><dl> <span data-ttu-id="b536d-156"><dt>**CTF \_ INHERITWOW64**</dt> <dt>0x00000100</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-156"><dt>**CTF\_INHERITWOW64**</dt> <dt>0x00000100</dt></span></span> </dl>                     | <span data-ttu-id="b536d-157">0x00000100.</span><span class="sxs-lookup"><span data-stu-id="b536d-157">0x00000100.</span></span> <span data-ttu-id="b536d-158">**Internet Explorer 7 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-158">**Internet Explorer 7 or later.**</span></span> <span data-ttu-id="b536d-159">O novo thread herda o estado de desabilitação do Windows – no Windows 64-bit (WOW64) para o redirecionador do sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="b536d-159">The new thread inherits the Windows-on-Windows 64-bit (WOW64) disable state for the file system redirector.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CTF_WAIT_NO_REENTRANCY"></span><span id="ctf_wait_no_reentrancy"></span><dl> <span data-ttu-id="b536d-160"><dt>**CTF \_ \_Não esperar \_ nenhum**</dt> <dt>0x00000200</dt> de reentrância</span><span class="sxs-lookup"><span data-stu-id="b536d-160"><dt>**CTF\_WAIT\_NO\_REENTRANCY**</dt> <dt>0x00000200</dt></span></span> </dl> | <span data-ttu-id="b536d-161">0x00000200.</span><span class="sxs-lookup"><span data-stu-id="b536d-161">0x00000200.</span></span> <span data-ttu-id="b536d-162">**Windows Vista ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-162">**Windows Vista or later.**</span></span> <span data-ttu-id="b536d-163">O thread de chamada bloqueia todos os outros processos enquanto aguarda o procedimento síncrono ser executado no novo thread.</span><span class="sxs-lookup"><span data-stu-id="b536d-163">The calling thread blocks all other processes while waiting for the synchronous procedure to run on the new thread.</span></span> <span data-ttu-id="b536d-164">Se o procedimento síncrono tentar enviar uma mensagem do Windows com [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) para uma janela hospedada no thread de chamada, isso fará com que o procedimento síncrono seja bloqueado.</span><span class="sxs-lookup"><span data-stu-id="b536d-164">If the synchronous procedure attempts to send a Windows message with [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) to a window hosted on the calling thread, this causes the synchronous procedure to deadlock.</span></span> <span data-ttu-id="b536d-165">Se o procedimento síncrono tentar usar COM para se comunicar com um objeto STA hospedado no thread de chamada, isso também fará com que o procedimento síncrono seja bloqueado.</span><span class="sxs-lookup"><span data-stu-id="b536d-165">If the synchronous procedure attempts to use COM to talk to an STA object hosted on the calling thread, this also causes the synchronous procedure to deadlock.</span></span> <span data-ttu-id="b536d-166">O thread de chamada é protegido de todas as questões de reentrada, especificando esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="b536d-166">The calling thread is protected from all re-entrance concerns by specifying this flag.</span></span><br/>                                                                                                                                                                                                                                                                |
| <span id="CTF_KEYBOARD_LOCALE"></span><span id="ctf_keyboard_locale"></span><dl> <span data-ttu-id="b536d-167"><dt>**CTF \_ \_Localidade do teclado**</dt> <dt>0x00000400</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-167"><dt>**CTF\_KEYBOARD\_LOCALE**</dt> <dt>0x00000400</dt></span></span> </dl>           | <span data-ttu-id="b536d-168">0x00000400.</span><span class="sxs-lookup"><span data-stu-id="b536d-168">0x00000400.</span></span> <span data-ttu-id="b536d-169">**Windows 7 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-169">**Windows 7 or later.**</span></span> <span data-ttu-id="b536d-170">Use a localidade do teclado do thread original no novo thread que ele gera.</span><span class="sxs-lookup"><span data-stu-id="b536d-170">Use the keyboard locale from the original thread in the new thread that it spawns.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="CTF_OLEINITIALIZE"></span><span id="ctf_oleinitialize"></span><dl> <span data-ttu-id="b536d-171"><dt>**CTF \_ OLEINITIALIZE**</dt> <dt>0x00000800</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-171"><dt>**CTF\_OLEINITIALIZE**</dt> <dt>0x00000800</dt></span></span> </dl>                  | <span data-ttu-id="b536d-172">0x00000800.</span><span class="sxs-lookup"><span data-stu-id="b536d-172">0x00000800.</span></span> <span data-ttu-id="b536d-173">**Windows 7 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-173">**Windows 7 or later.**</span></span> <span data-ttu-id="b536d-174">Inicialize com com o modelo STA (single-threaded apartment) para o thread criado.</span><span class="sxs-lookup"><span data-stu-id="b536d-174">Initialize COM with the single-threaded apartment (STA) model for the created thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CTF_COINIT_MTA"></span><span id="ctf_coinit_mta"></span><dl> <span data-ttu-id="b536d-175"><dt>**CTF \_ 0x00001000 \_ MTA de PARAinit**</dt> <dt></dt></span><span class="sxs-lookup"><span data-stu-id="b536d-175"><dt>**CTF\_COINIT\_MTA**</dt> <dt>0x00001000</dt></span></span> </dl>                          | <span data-ttu-id="b536d-176">0x00001000.</span><span class="sxs-lookup"><span data-stu-id="b536d-176">0x00001000.</span></span> <span data-ttu-id="b536d-177">**Windows 7 e posterior**.</span><span class="sxs-lookup"><span data-stu-id="b536d-177">**Windows 7 and later**.</span></span> <span data-ttu-id="b536d-178">Inicialize com com o modelo de MTA (multithreaded apartment) para o thread criado.</span><span class="sxs-lookup"><span data-stu-id="b536d-178">Initialize COM with the multithreaded apartment (MTA) model for the created thread.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CTF_NOADDREFLIB"></span><span id="ctf_noaddreflib"></span><dl> <span data-ttu-id="b536d-179"><dt>**CTF \_ NOADDREFLIB**</dt> <dt>0x00002000</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-179"><dt>**CTF\_NOADDREFLIB**</dt> <dt>0x00002000</dt></span></span> </dl>                        | <span data-ttu-id="b536d-180">0x00002000.</span><span class="sxs-lookup"><span data-stu-id="b536d-180">0x00002000.</span></span> <span data-ttu-id="b536d-181">**Windows 7 ou posterior.**</span><span class="sxs-lookup"><span data-stu-id="b536d-181">**Windows 7 or later.**</span></span> <span data-ttu-id="b536d-182">Esse sinalizador é essencialmente o oposto de CTF \_ FREELIBANDEXIT.</span><span class="sxs-lookup"><span data-stu-id="b536d-182">This flag is essentially the opposite of CTF\_FREELIBANDEXIT.</span></span> <span data-ttu-id="b536d-183">Isso evita chamadas [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) / [**FreeLibraryAndExitThread**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibraryandexitthread) que podem resultar em contenção para o bloqueio do carregador.</span><span class="sxs-lookup"><span data-stu-id="b536d-183">This avoids [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya)/[**FreeLibraryAndExitThread**](/windows/win32/api/libloaderapi/nf-libloaderapi-freelibraryandexitthread) calls that can result in contention for the loader lock.</span></span> <span data-ttu-id="b536d-184">Use CTF \_ NOADDREFLIB somente quando o novo thread tiver meios para garantir que o código do procedimento de thread original permanecerá carregado.</span><span class="sxs-lookup"><span data-stu-id="b536d-184">Use CTF\_NOADDREFLIB only when the new thread has means to ensure that the code of the original thread procedure will remain loaded.</span></span> <span data-ttu-id="b536d-185">Esse valor não deve ser usado no contexto de objetos COM, porque objetos COM devem garantir que a DLL permaneça carregada (normalmente, COM descarrega as DLLs).</span><span class="sxs-lookup"><span data-stu-id="b536d-185">This value should not be used in the context of COM objects, because COM objects must ensure that the DLL stays loaded (normally, COM unloads the DLLs).</span></span><br/>                                                                                                                                                                                                                                                                                                                    |



## <a name="remarks"></a><span data-ttu-id="b536d-186">Comentários</span><span class="sxs-lookup"><span data-stu-id="b536d-186">Remarks</span></span>

<span data-ttu-id="b536d-187">Se nenhum \_ \_ sinalizador de espera de CTF for especificado, o thread de chamada aguardará e enviará mensagens [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) .</span><span class="sxs-lookup"><span data-stu-id="b536d-187">If no CTF\_WAIT\_ flag is specified, the calling thread will wait and send [**SendMessage**](/windows/win32/api/winuser/nf-winuser-sendmessage) messages.</span></span> <span data-ttu-id="b536d-188">Se o procedimento síncrono tentar enviar uma mensagem do Windows com **SendMessage** para uma janela hospedada no thread de chamada, a mensagem será exibida para a janela desejada.</span><span class="sxs-lookup"><span data-stu-id="b536d-188">If the synchronous procedure attempts to send a Windows message with **SendMessage** to a window hosted on the calling thread, the message will get to the intended window.</span></span> <span data-ttu-id="b536d-189">Se o procedimento síncrono tentar usar COM para se comunicar com um objeto STA hospedado no thread de chamada, o procedimento síncrono será bloqueado.</span><span class="sxs-lookup"><span data-stu-id="b536d-189">If the synchronous procedure attempts to use COM to talk to an STA object hosted on the calling thread, the synchronous procedure will deadlock.</span></span> <span data-ttu-id="b536d-190">O thread de chamada está aberto para redigitar fragilidade.</span><span class="sxs-lookup"><span data-stu-id="b536d-190">The calling thread is open to re-entrance fragility.</span></span> <span data-ttu-id="b536d-191">Embora o thread de chamada possa manipular o uso de **SendMessage** do procedimento síncrono, se outros threads usarem **SendMessage** para se comunicarem com uma janela hospedada no thread de chamada, essas mensagens poderão ser inesperadas.</span><span class="sxs-lookup"><span data-stu-id="b536d-191">While the calling thread can handle the synchronous procedure's use of **SendMessage**, if other threads use **SendMessage** to communicate to an window hosted on the calling thread, then these messages might be unexpected.</span></span> <span data-ttu-id="b536d-192">Isso pode fazer com que eles sejam processados enquanto o procedimento síncrono estiver sendo concluído.</span><span class="sxs-lookup"><span data-stu-id="b536d-192">This can cause them to be processed while the synchronous procedure is completing.</span></span>

## <a name="requirements"></a><span data-ttu-id="b536d-193">Requisitos</span><span class="sxs-lookup"><span data-stu-id="b536d-193">Requirements</span></span>



| <span data-ttu-id="b536d-194">Requisito</span><span class="sxs-lookup"><span data-stu-id="b536d-194">Requirement</span></span> | <span data-ttu-id="b536d-195">Valor</span><span class="sxs-lookup"><span data-stu-id="b536d-195">Value</span></span> |
|-------------------------------------|--------------------------------------------------------------------------------------|
| <span data-ttu-id="b536d-196">Cliente mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="b536d-196">Minimum supported client</span></span><br/> | <span data-ttu-id="b536d-197">Somente aplicativos Windows 2000 Professional, Windows XP e Windows 7 \[ Desktop\]</span><span class="sxs-lookup"><span data-stu-id="b536d-197">Windows 2000 Professional, Windows XP, Windows 7 \[desktop apps only\]</span></span><br/>    |
| <span data-ttu-id="b536d-198">Servidor mínimo com suporte</span><span class="sxs-lookup"><span data-stu-id="b536d-198">Minimum supported server</span></span><br/> | <span data-ttu-id="b536d-199">Windows 2000 Server \[somente aplicativos da área de trabalho\]</span><span class="sxs-lookup"><span data-stu-id="b536d-199">Windows 2000 Server \[desktop apps only\]</span></span><br/>                                 |
| <span data-ttu-id="b536d-200">Cabeçalho</span><span class="sxs-lookup"><span data-stu-id="b536d-200">Header</span></span><br/>                   | <dl> <span data-ttu-id="b536d-201"><dt>Shlwapi. h</dt></span><span class="sxs-lookup"><span data-stu-id="b536d-201"><dt>Shlwapi.h</dt></span></span> </dl> |



 

 
