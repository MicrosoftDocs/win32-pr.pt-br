---
description: Em sistemas operacionais mais antigos, era necessário fazer logoff de um usuário para que outro usuário pudesse fazer logon. A partir do Windows XP, um usuário não precisa fazer logoff para permitir que outro usuário faça logon.
ms.assetid: 72f99d32-184f-4f0b-bec1-6068c6e32f88
title: Troca rápida de usuário
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4d79f16ef8a1ea8c97bfb61d34dfa727f3d0cef8
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104989004"
---
# <a name="fast-user-switching"></a><span data-ttu-id="52dfd-104">Troca rápida de usuário</span><span class="sxs-lookup"><span data-stu-id="52dfd-104">Fast User Switching</span></span>

<span data-ttu-id="52dfd-105">Quando um usuário faz logon em um computador, o sistema carrega seu perfil.</span><span class="sxs-lookup"><span data-stu-id="52dfd-105">When a user logs onto a computer, the system loads their profile.</span></span> <span data-ttu-id="52dfd-106">Como cada usuário tem uma conta de usuário exclusiva, isso permite que vários usuários compartilhem um computador.</span><span class="sxs-lookup"><span data-stu-id="52dfd-106">Because each user has a unique user account, this allows multiple users to share a computer.</span></span> <span data-ttu-id="52dfd-107">Quando um usuário faz logon, as configurações da área de trabalho, os arquivos, os favoritos e o histórico que eles veem são seus. Eles não podem ser acessados por outros usuários.</span><span class="sxs-lookup"><span data-stu-id="52dfd-107">When a user logs on, the desktop settings, files, favorites, and history they see are theirs; they cannot be accessed by other users.</span></span> <span data-ttu-id="52dfd-108">Quando esse usuário fizer logoff, seu perfil será preservado na próxima vez em que fizerem logon.</span><span class="sxs-lookup"><span data-stu-id="52dfd-108">When that user logs off, their profile is preserved for the next time that they log on.</span></span> <span data-ttu-id="52dfd-109">Em sistemas operacionais mais antigos, era necessário fazer logoff de um usuário para que outro usuário pudesse fazer logon.</span><span class="sxs-lookup"><span data-stu-id="52dfd-109">In older operating systems, a user was required to log off before another user could log on.</span></span> <span data-ttu-id="52dfd-110">A partir do Windows XP, um usuário não precisa fazer logoff para permitir que outro usuário faça logon.</span><span class="sxs-lookup"><span data-stu-id="52dfd-110">As of Windows XP, a user does not have to log off to allow another user to log on.</span></span> <span data-ttu-id="52dfd-111">Em vez disso, é possível que vários usuários façam logon e alternem rapidamente entre suas contas abertas.</span><span class="sxs-lookup"><span data-stu-id="52dfd-111">Instead, it is possible for multiple users to log on and switch quickly between their open accounts.</span></span> <span data-ttu-id="52dfd-112">Esse recurso é chamado de *troca rápida de usuário*.</span><span class="sxs-lookup"><span data-stu-id="52dfd-112">This feature is referred to as *fast user switching*.</span></span> <span data-ttu-id="52dfd-113">Alternar para outra conta não altera o estado dos aplicativos que um usuário está executando no momento.</span><span class="sxs-lookup"><span data-stu-id="52dfd-113">Switching to another account does not change the state of the applications that a user is currently running.</span></span> <span data-ttu-id="52dfd-114">Suponha, por exemplo, que um usuário permita que outro usuário alterne para sua conta enquanto o primeiro usuário estiver conectado.</span><span class="sxs-lookup"><span data-stu-id="52dfd-114">Suppose, for instance, that one user allows another user to switch to their account while the first user is logged on.</span></span> <span data-ttu-id="52dfd-115">Quando o primeiro usuário muda de volta para sua conta, seus aplicativos estão em execução e suas conexões de rede são preservadas.</span><span class="sxs-lookup"><span data-stu-id="52dfd-115">When the first user switchs back to their account, their applications are running and their network connections are preserved.</span></span> <span data-ttu-id="52dfd-116">Portanto, parece que ambos os usuários estão usando o computador simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="52dfd-116">Therefore, it appears that both users are simultaneously using the computer.</span></span>

<span data-ttu-id="52dfd-117">Se seus aplicativos estiverem em conformidade com os requisitos de logotipo do Windows 2000, eles deverão trabalhar com troca rápida de usuário no Windows XP e sistemas operacionais posteriores.</span><span class="sxs-lookup"><span data-stu-id="52dfd-117">If your applications comply with the Windows 2000 logo requirements, they should work with fast user switching on Windows XP and later operating systems.</span></span> <span data-ttu-id="52dfd-118">No entanto, é importante manter esse cenário em mente ao desenvolver um aplicativo para que ele se comporta como os usuários esperam.</span><span class="sxs-lookup"><span data-stu-id="52dfd-118">However, it is important to keep this scenario in mind when developing an application so that it behaves as users would expect.</span></span> <span data-ttu-id="52dfd-119">Use as seguintes diretrizes ao escrever seus aplicativos:</span><span class="sxs-lookup"><span data-stu-id="52dfd-119">Use the following guidelines when writing your applications:</span></span>

-   <span data-ttu-id="52dfd-120">Implemente a verdadeira separação de perfil.</span><span class="sxs-lookup"><span data-stu-id="52dfd-120">Implement true profile separation.</span></span> <span data-ttu-id="52dfd-121">O sistema fornece uma infraestrutura subjacente que dá suporte à separação de dados do usuário, configurações do usuário e configurações do computador.</span><span class="sxs-lookup"><span data-stu-id="52dfd-121">The system provides an underlying infrastructure that supports separation of user data, user settings, and computer settings.</span></span> <span data-ttu-id="52dfd-122">Por exemplo, use a pasta **documentos** do usuário para armazenar dados criados pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="52dfd-122">For example, use the user's **Documents** folder to store user-created data.</span></span> <span data-ttu-id="52dfd-123">Para localizar um diretório para dados específicos do aplicativo, use o sistema de [pastas conhecido](known-folders.md) com [**FolderId \_ RoamingAppData**](knownfolderid.md)) ou, para sistemas operacionais mais antigos, o sistema de [**CSIDL**](csidl.md) com [**CSIDL \_ AppData**](csidl.md)).</span><span class="sxs-lookup"><span data-stu-id="52dfd-123">To locate a directory for application-specific data, use the [known folder](known-folders.md) system with [**FOLDERID\_RoamingAppData**](knownfolderid.md)) or, for older operating systems, the [**CSIDL**](csidl.md) system with [**CSIDL\_APPDATA**](csidl.md)).</span></span> <span data-ttu-id="52dfd-124">Use **FolderId \_ LocalAppData** ou **CSIDL \_ local \_ AppData** para dados que não devem estar disponíveis para o usuário em outros computadores, como arquivos temporários.</span><span class="sxs-lookup"><span data-stu-id="52dfd-124">Use **FOLDERID\_LocalAppData** or **CSIDL\_LOCAL\_APPDATA** for data that should not be available to the user on other computers, such as temporary files.</span></span>
-   <span data-ttu-id="52dfd-125">Registre-se para notificação de um comutador de usuário.</span><span class="sxs-lookup"><span data-stu-id="52dfd-125">Register for notification of a user switch.</span></span> <span data-ttu-id="52dfd-126">Normalmente, um aplicativo não precisa ser notificado quando ocorre a mudança.</span><span class="sxs-lookup"><span data-stu-id="52dfd-126">Typically, an application does not need to be notified when the switch occurs.</span></span> <span data-ttu-id="52dfd-127">No entanto, se seu aplicativo precisar ser notificado sobre uma alteração de sessão, ele poderá se registrar para receber uma mensagem de [**\_ \_ alteração do WM WTSSESSION**](../termserv/wm-wtssession-change.md) .</span><span class="sxs-lookup"><span data-stu-id="52dfd-127">However, if your application must be notified of a session change, it can register to receive a [**WM\_WTSSESSION\_CHANGE**](../termserv/wm-wtssession-change.md) message.</span></span>
-   <span data-ttu-id="52dfd-128">Lembre-se de outras instâncias do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="52dfd-128">Be aware of other instances of your application.</span></span> <span data-ttu-id="52dfd-129">Por exemplo, há ocasiões em que um aplicativo deve baixar uma atualização da Internet.</span><span class="sxs-lookup"><span data-stu-id="52dfd-129">For example, there are times when an application must download an update from the Internet.</span></span> <span data-ttu-id="52dfd-130">A atualização poderá falhar se outro usuário estiver executando simultaneamente uma instância do aplicativo em outra sessão.</span><span class="sxs-lookup"><span data-stu-id="52dfd-130">The update can fail if another user is simultaneously running an instance of the application in another session.</span></span> <span data-ttu-id="52dfd-131">Mesmo que a atualização tenha sucesso, a atualização pode fazer com que outras instâncias em execução do aplicativo se comportem de forma imprevisível.</span><span class="sxs-lookup"><span data-stu-id="52dfd-131">Even if the update succeeds, the update can cause other running instances of the application to behave in an unpredictable manner.</span></span> <span data-ttu-id="52dfd-132">Portanto, é melhor executar uma atualização dinâmica somente se nenhuma outra instância do aplicativo estiver em execução.</span><span class="sxs-lookup"><span data-stu-id="52dfd-132">Therefore it is best to perform a dynamic upgrade only if no other instances of the application are running.</span></span> <span data-ttu-id="52dfd-133">Antes de baixar uma atualização de aplicativo, pode ser apropriado implementar um método que sinalize todas as instâncias em execução do aplicativo para salvar dados e sair corretamente.</span><span class="sxs-lookup"><span data-stu-id="52dfd-133">Before downloading an application update, it might be appropriate to implement a method that signals all running instances of the application to save data and exit cleanly.</span></span>

 

 
