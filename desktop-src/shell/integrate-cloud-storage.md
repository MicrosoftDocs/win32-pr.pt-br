---
description: Mostra como registrar-se como um provedor de raiz de sincronização e integrar um provedor de armazenamento em nuvem no nível raiz do painel de navegação.
ms.assetid: BB177EDC-8C88-4540-B2F8-994C1C8BA91C
title: Integrar um provedor de armazenamento em nuvem
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 21fdc5abfbf9881bfe23b00a924fce989aec7c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104550615"
---
# <a name="integrate-a-cloud-storage-provider"></a><span data-ttu-id="a5a75-103">Integrar um provedor de armazenamento em nuvem</span><span class="sxs-lookup"><span data-stu-id="a5a75-103">Integrate a Cloud Storage Provider</span></span>

<span data-ttu-id="a5a75-104">Quando você tem um provedor de armazenamento em nuvem, há algumas etapas que devem ser executadas para fornecer uma experiência consistente e preferencial para o usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-104">When you have a cloud storage provider, there are a couple of steps you should take in order to provide a consistent and preferred experience for the user.</span></span> <span data-ttu-id="a5a75-105">Essas duas coisas estão se registrando como um provedor de raiz de sincronização e integrando seu aplicativo no nível raiz do painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-105">These two things are registering as a sync root provider and integrating your application into the root level of the Navigation Pane.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a5a75-106">A integração do seu provedor de armazenamento em nuvem só tem suporte a partir do Windows 10.</span><span class="sxs-lookup"><span data-stu-id="a5a75-106">Integrating your cloud storage provider is only supported starting in Windows 10.</span></span>

 

<span data-ttu-id="a5a75-107">A primeira coisa é registrar-se como um provedor de raiz de sincronização.</span><span class="sxs-lookup"><span data-stu-id="a5a75-107">The first thing is to register as a sync root provider.</span></span> <span data-ttu-id="a5a75-108">Isso permite que o Shell do Windows saiba sobre seu aplicativo e que seu aplicativo será responsável por sincronizar arquivos em sua raiz de sincronização.</span><span class="sxs-lookup"><span data-stu-id="a5a75-108">This lets the Windows Shell know about your application and that your application will be responsible for synchronizing files under your sync root.</span></span> <span data-ttu-id="a5a75-109">Isso também permitirá que outros aplicativos saibam que você está sincronizando esses arquivos para que eles possam responder adequadamente.</span><span class="sxs-lookup"><span data-stu-id="a5a75-109">This will also let other applications know that you are synchronizing these files so that they can respond appropriately.</span></span> <span data-ttu-id="a5a75-110">Outros aplicativos podem usar [**StorageFile. Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) para obter o [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) e a [**ID**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-110">Other applications can then use [**StorageFile.Provider**](/uwp/api/Windows.Storage.StorageFile?view=winrt-19041) to get the [**DisplayName**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) and [**Id**](/uwp/api/Windows.Storage.StorageProvider?view=winrt-19041) of your application.</span></span>

<span data-ttu-id="a5a75-111">Para se registrar como um provedor de raiz de sincronização, você precisará criar várias entradas de registro.</span><span class="sxs-lookup"><span data-stu-id="a5a75-111">In order to register as a sync root provider, you will need to create multiple registry entries.</span></span> <span data-ttu-id="a5a75-112">Antes de fornecer a lista de pares chave-valor, aqui estão alguns espaços reservados que você deve substituir por seus próprios dados de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-112">Before providing the list of key-value pairs, here are some placeholders that you should replace with your own application data.</span></span>

-   <span data-ttu-id="a5a75-113">*\[ ID \] do provedor de armazenamento*: o nome do seu provedor de armazenamento em nuvem.</span><span class="sxs-lookup"><span data-stu-id="a5a75-113">*\[storage provider ID\]*: The name of your cloud storage provider.</span></span> <span data-ttu-id="a5a75-114">Esse nome deve ser consistente, independentemente da versão do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-114">This name should be consistent regardless of the version of your application.</span></span> <span data-ttu-id="a5a75-115">Um exemplo disso é o OneDrive.</span><span class="sxs-lookup"><span data-stu-id="a5a75-115">An example of this is OneDrive.</span></span>
-   <span data-ttu-id="a5a75-116">*\[ Windows SID \]*: o Sid exclusivo do Windows que identifica o usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-116">*\[Windows SID\]*: The unique Windows SID that identifies the user.</span></span> <span data-ttu-id="a5a75-117">Se seu aplicativo der suporte a várias instalações para vários usuários em um único computador, essa parte será necessária.</span><span class="sxs-lookup"><span data-stu-id="a5a75-117">If your app supports multiple installations for multiple users on a single machine, this piece is required.</span></span>
-   <span data-ttu-id="a5a75-118">*\[ ID \] da conta*: o identificador do provedor de serviços para a conta atual deste usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-118">*\[Account ID\]*: The service provider identifier for this user's current account.</span></span> <span data-ttu-id="a5a75-119">Alguns provedores exigem a capacidade de fornecer várias raízes de sincronização para um usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-119">Some providers require the ability to provide multiple synchronization roots for a user.</span></span> <span data-ttu-id="a5a75-120">Um exemplo disso é um trabalho e uma conta pessoal.</span><span class="sxs-lookup"><span data-stu-id="a5a75-120">One example of this is a work and a personal account.</span></span> <span data-ttu-id="a5a75-121">A *ID da conta* permite que você tenha várias contas registradas para um usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-121">The *Account ID* enables you to have multiple accounts registered for one user.</span></span> <span data-ttu-id="a5a75-122">Se seu provedor der suporte a várias raízes de sincronização por usuário, essa parte será necessária.</span><span class="sxs-lookup"><span data-stu-id="a5a75-122">If your provider does support multiple synchronization roots per user, this piece is required.</span></span>

<span data-ttu-id="a5a75-123">Esses espaços reservados são combinados em conjunto para formar a ID raiz da sincronização. Você deve inserir um **!**</span><span class="sxs-lookup"><span data-stu-id="a5a75-123">These placeholders are combined together to form the sync root id. You must place a **!**</span></span> <span data-ttu-id="a5a75-124">caractere entre cada um dos espaços reservados ao formar a ID da raiz de sincronização. Aqui estão os pares chave-valor que precisam ser criados.</span><span class="sxs-lookup"><span data-stu-id="a5a75-124">character between each of the placeholders when forming the sync root id. Here are the key-value pairs that need to be created.</span></span>

-   <span data-ttu-id="a5a75-125">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ Storage Provider ID \]_*_!_* _\[ SID \] do Windows_*_!_* _\[ ID \] da conta_*_\\ DisplayNameResource_* : aponta para o recurso em que o Shell do Windows ou outros aplicativos podem obter um nome amigável para a raiz de sincronização.</span><span class="sxs-lookup"><span data-stu-id="a5a75-125">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\DisplayNameResource_* : Points to the resource where the Windows Shell or other applications can get a user-friendly name for your sync root.</span></span>
-   <span data-ttu-id="a5a75-126">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ Storage Provider ID \]_*_!_* _\[ SID \] do Windows_*_!_* _\[ ID \] da conta_*_\\ IconResource_* : aponta para o recurso em que o Shell do Windows ou outros aplicativos podem obter um ícone para a raiz de sincronização.</span><span class="sxs-lookup"><span data-stu-id="a5a75-126">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\IconResource_* : Points to the resource where the Windows Shell or other applications can get an icon for your sync root.</span></span>
-   <span data-ttu-id="a5a75-127">**HKLM \\ Software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ SyncRootManager \\**_\[ Storage Provider ID \]_*_!_* _\[ SID \] do Windows_*_!_* _\[ ID \] da conta_*_\\ UserSyncRoots \\_*_\[ Windows \] Sid_ : o local no disco onde a raiz de sincronização está localizada.</span><span class="sxs-lookup"><span data-stu-id="a5a75-127">**HKLM\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\SyncRootManager\\**_\[storage provider ID\]_*_!_*_\[Windows SID\]_*_!_*_\[Account ID\]_*_\\UserSyncRoots\\_*_\[Windows SID\]_ : The location on disk where the sync root is located.</span></span>

<span data-ttu-id="a5a75-128">Além de registrar como um provedor de raiz de sincronização, você também deseja que os usuários tenham acesso fácil aos dados fornecidos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-128">Other than registering as a sync root provider, you also want users to have easy access to the data you provide.</span></span> <span data-ttu-id="a5a75-129">O namespace do explorador de arquivos foi projetado para fornecer um método para esse fácil acesso.</span><span class="sxs-lookup"><span data-stu-id="a5a75-129">The File Explorer namespace is designed to provide a method for that easy access.</span></span> <span data-ttu-id="a5a75-130">Criar uma extensão de namespace para seu provedor e incorporá-la na janela Explorador de arquivos permitirá que os usuários interajam com o nível raiz de seus serviços, assim como são usados para outros itens do explorador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-130">Creating a namespace extension for your provider and incorporating it into the File Explorer window will allow users to interact with the root level of your services just like they are used to with other File Explorer items.</span></span> <span data-ttu-id="a5a75-131">Este tópico explica como estender o namespace do explorador de arquivos para que seu provedor seja exibido no nível raiz no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-131">This topic explains how to extend the File Explorer namespace so that your provider will appear at the root level in the Navigation Pane.</span></span>

<span data-ttu-id="a5a75-132">O painel de navegação da janela Explorador de arquivos é a parte da janela exibida no lado esquerdo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-132">The Navigation Pane of the File Explorer window is the portion of the window displayed on the left side.</span></span> <span data-ttu-id="a5a75-133">Na imagem abaixo, você pode ver a estrutura de namespace para esse usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-133">In the image below, you can see the namespace structure for this user.</span></span> <span data-ttu-id="a5a75-134">O nível raiz no painel de navegação inclui os objetos para o **onedrive**, **este computador e a** **rede**.</span><span class="sxs-lookup"><span data-stu-id="a5a75-134">The root level on the Navigation Pane includes the objects for **OneDrive**, **This PC**, and **Network**.</span></span> <span data-ttu-id="a5a75-135">Seguir essas etapas adicionará sua extensão ao mesmo nível.</span><span class="sxs-lookup"><span data-stu-id="a5a75-135">Following these steps will add your extension to the same level.</span></span>

![painel de navegação](images/navigationpane.png)

<span data-ttu-id="a5a75-137">Para adicionar sua extensão ao painel de navegação, você precisará ter o seguinte antes de editar o registro:</span><span class="sxs-lookup"><span data-stu-id="a5a75-137">In order to add your extension to the Navigation Pane, you will need to have the following before editing the registry:</span></span>

-   <span data-ttu-id="a5a75-138">Uma pasta do sistema de arquivos que contém os dados a serem exibidos para o usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-138">A file system folder that contains the data to display to the user.</span></span>

-   <span data-ttu-id="a5a75-139">Nome do serviço de nuvem que será exibido no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-139">Name of your cloud service that will appear in the Navigation Pane.</span></span> <span data-ttu-id="a5a75-140">Esse também pode ser o nome da instância se o seu serviço der suporte a várias contas.</span><span class="sxs-lookup"><span data-stu-id="a5a75-140">This could also be the name of the instance if your service supports multiple accounts.</span></span>

-   <span data-ttu-id="a5a75-141">Ícone identificável para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-141">Identifiable icon for your application.</span></span>

-   <span data-ttu-id="a5a75-142">Um CLSID para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-142">A CLSID for your application.</span></span> <span data-ttu-id="a5a75-143">Uma maneira de gerar um CLSID para seu aplicativo é usar o Uuidgen.exe.</span><span class="sxs-lookup"><span data-stu-id="a5a75-143">One way to generate a CLSID for your application is to use the Uuidgen.exe.</span></span> <span data-ttu-id="a5a75-144">Consulte [chave de CLSID](../com/clsid-key-hklm.md) para obter mais informações sobre CLSID.</span><span class="sxs-lookup"><span data-stu-id="a5a75-144">See [CLSID Key](../com/clsid-key-hklm.md) for more information about CLSID.</span></span>

<span data-ttu-id="a5a75-145">As etapas a seguir modificam o registro para obter as informações necessárias no namespace do explorador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-145">The following steps modify the registry in order to get the necessary information into the File Explorer namespace.</span></span> <span data-ttu-id="a5a75-146">As etapas específicas fazem três coisas.</span><span class="sxs-lookup"><span data-stu-id="a5a75-146">The specific steps do three things.</span></span>

-   <span data-ttu-id="a5a75-147">Crie chaves no registro para seu CLSID que inclua valores para o nome e o ícone de sua extensão, bem como outras informações que definem seu comportamento.</span><span class="sxs-lookup"><span data-stu-id="a5a75-147">Create keys in the registry for your CLSID that includes values for the name and icon for your extension as well as other information that defines its behavior.</span></span>

-   <span data-ttu-id="a5a75-148">Configure sua extensão para ser integrada ao painel de navegação no local apropriado e com a visibilidade correta.</span><span class="sxs-lookup"><span data-stu-id="a5a75-148">Configure your extension to be integrated into the Navigation Pane in the proper location and with the proper visibility.</span></span>

-   <span data-ttu-id="a5a75-149">Configure sua extensão para ter o comportamento esperado para um elemento no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-149">Configure your extension to have the expected behavior for an element in the navigation pane.</span></span>

<span data-ttu-id="a5a75-150">Essas instruções usam especificamente o comando **reg.exe** , no entanto, você pode usar qualquer ferramenta de edição de registro de sua escolha.</span><span class="sxs-lookup"><span data-stu-id="a5a75-150">These instructions specifically use the **reg.exe** command, however you can use any registry editing tool of your choice.</span></span> <span data-ttu-id="a5a75-151">Você pode até mesmo integrar essas etapas em um instalador que atualiza o registro de forma programática.</span><span class="sxs-lookup"><span data-stu-id="a5a75-151">You can even integrate these steps into an installer that updates the registry programmatically.</span></span>

## <a name="instructions"></a><span data-ttu-id="a5a75-152">Instruções</span><span class="sxs-lookup"><span data-stu-id="a5a75-152">Instructions</span></span>

### <a name="step-1-add-your-clsid-and-name-your-extension"></a><span data-ttu-id="a5a75-153">Etapa 1: adicionar seu CLSID e nomear sua extensão</span><span class="sxs-lookup"><span data-stu-id="a5a75-153">Step 1: Add your CLSID and name your extension</span></span>

<span data-ttu-id="a5a75-154">Adicione o nome de sua extensão ao registro em HKEY \_ Current \_ User.</span><span class="sxs-lookup"><span data-stu-id="a5a75-154">Add the name of your extension to the registry under HKEY\_CURRENT\_USER.</span></span> <span data-ttu-id="a5a75-155">Você também adicionará o identificador exclusivo para essa extensão.</span><span class="sxs-lookup"><span data-stu-id="a5a75-155">You will also be adding the unique identifier for this extension.</span></span> <span data-ttu-id="a5a75-156">É possível adicionar mais de uma extensão por usuário, mas nesse caso, você precisará de um nome e identificador exclusivos para cada extensão.</span><span class="sxs-lookup"><span data-stu-id="a5a75-156">It is possible to add more than one extension per user, but in that case you will need a unique name and identifier for each extension.</span></span> <span data-ttu-id="a5a75-157">Esse nome e identificador devem ser consistentes em todo o restante dessas etapas.</span><span class="sxs-lookup"><span data-stu-id="a5a75-157">This name and identifier must be consistent throughout the rest of these steps.</span></span> <span data-ttu-id="a5a75-158">Neste exemplo, o nome é *MyCloudStorageApp*.</span><span class="sxs-lookup"><span data-stu-id="a5a75-158">In this example, the name is *MyCloudStorageApp*.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a5a75-159">O identificador fornecido (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) nessas etapas é usado apenas como um exemplo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-159">The identifier provided (0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3) in these steps is just used as a sample.</span></span> <span data-ttu-id="a5a75-160">Você precisará alterar isso para seu CLSID exclusivo.</span><span class="sxs-lookup"><span data-stu-id="a5a75-160">You will need to change this to your unique CLSID.</span></span>

 

<span data-ttu-id="a5a75-161">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ sz/d "MyCloudStorageApp"/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-161">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d "MyCloudStorageApp" /f**</span></span>

### <a name="step-2-set-the-image-for-your-icon"></a><span data-ttu-id="a5a75-162">Etapa 2: definir a imagem para o ícone</span><span class="sxs-lookup"><span data-stu-id="a5a75-162">Step 2: Set the image for your icon</span></span>

<span data-ttu-id="a5a75-163">Forneça o caminho para o ícone que deve ser exibido no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-163">Provide the path to the icon that should be displayed in the Navigation Pane.</span></span> <span data-ttu-id="a5a75-164">No exemplo a seguir, *1043* refere-se ao identificador de recurso para o ícone na DLL indicada.</span><span class="sxs-lookup"><span data-stu-id="a5a75-164">In the example below, *1043* refers to the resource identifier for the icon in the indicated DLL.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a5a75-165">Você precisa atualizar o caminho da imagem.</span><span class="sxs-lookup"><span data-stu-id="a5a75-165">You need to update the image path.</span></span> <span data-ttu-id="a5a75-166">Ele deve apontar para um caminho genérico em que seu aplicativo instalou uma imagem.</span><span class="sxs-lookup"><span data-stu-id="a5a75-166">It should point to a generic path where your app installed an image.</span></span>

 

<span data-ttu-id="a5a75-167">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ DefaultIcon/ve/t reg \_ expande \_ /d%% SystemRoot%% \\ System32 \\imageres.dll,-1043/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-167">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\DefaultIcon /ve /t REG\_EXPAND\_SZ /d %%SystemRoot%%\\system32\\imageres.dll,-1043 /f**</span></span>

### <a name="step-3-add-your-extension-to-the-navigation-pane-and-make-it-visible"></a><span data-ttu-id="a5a75-168">Etapa 3: adicionar sua extensão ao painel de navegação e torná-la visível</span><span class="sxs-lookup"><span data-stu-id="a5a75-168">Step 3: Add your extension to the Navigation Pane and make it visible</span></span>

<span data-ttu-id="a5a75-169">Definir esse valor como 0x1 indica que a extensão deve ser fixada.</span><span class="sxs-lookup"><span data-stu-id="a5a75-169">Setting this value to 0x1 indicates that the extension should be pinned.</span></span> <span data-ttu-id="a5a75-170">Isso garantirá que ele seja mostrado aos usuários por padrão.</span><span class="sxs-lookup"><span data-stu-id="a5a75-170">This will make sure it is shown to users by default.</span></span> <span data-ttu-id="a5a75-171">A configuração padrão para um usuário é que somente itens fixados serão mostrados no painel de navegação.</span><span class="sxs-lookup"><span data-stu-id="a5a75-171">The default configuration for a user is that only pinned items will be shown in the Navigation Pane.</span></span> <span data-ttu-id="a5a75-172">Um usuário pode alterar essa configuração clicando com o botão direito do mouse no painel de navegação e selecionando **Mostrar todas as pastas**.</span><span class="sxs-lookup"><span data-stu-id="a5a75-172">A user can change that setting by right-clicking in the Navigation Pane and selecting **Show all folders**.</span></span> <span data-ttu-id="a5a75-173">Se você não quiser fixar sua extensão, poderá definir esse valor como 0x0.</span><span class="sxs-lookup"><span data-stu-id="a5a75-173">If you don't want to pin your extension, you can set this value to 0x0.</span></span> <span data-ttu-id="a5a75-174">Isso não removerá sua extensão, mas simplesmente impedirá que ela seja exibida para o usuário por padrão.</span><span class="sxs-lookup"><span data-stu-id="a5a75-174">That will not remove your extension, but merely prevent it from being displayed to the user by default.</span></span>

<span data-ttu-id="a5a75-175">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/v System. IsPinnedToNameSpaceTree/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-175">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v System.IsPinnedToNameSpaceTree /t REG\_DWORD /d 0x1 /f**</span></span>

### <a name="step-4-set-the-location-for-your-extension-in-the-navigation-pane"></a><span data-ttu-id="a5a75-176">Etapa 4: definir o local para sua extensão no painel de navegação</span><span class="sxs-lookup"><span data-stu-id="a5a75-176">Step 4: Set the location for your extension in the Navigation Pane</span></span>

<span data-ttu-id="a5a75-177">Isso é essencial para garantir que o painel de navegação forneça uma experiência consistente para o usuário.</span><span class="sxs-lookup"><span data-stu-id="a5a75-177">This is critical in order to make sure the Navigation Pane provides a consistent experience for the user.</span></span>

<span data-ttu-id="a5a75-178">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/V SortOrderIndex/t reg \_ DWORD/d 0x42/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-178">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /v SortOrderIndex /t REG\_DWORD /d 0x42 /f**</span></span>

### <a name="step-5-provide-the-dll-that-hosts-your-extension"></a><span data-ttu-id="a5a75-179">Etapa 5: fornecer a DLL que hospeda sua extensão.</span><span class="sxs-lookup"><span data-stu-id="a5a75-179">Step 5: Provide the dll that hosts your extension.</span></span>

<span data-ttu-id="a5a75-180">Use o shell32.dll para emular pastas padrão do Windows.</span><span class="sxs-lookup"><span data-stu-id="a5a75-180">Use the shell32.dll to emulate default windows folders.</span></span> <span data-ttu-id="a5a75-181">Altere isso apenas se você tiver um motivo específico para fazer isso e estiver familiarizado com extensões de namespace.</span><span class="sxs-lookup"><span data-stu-id="a5a75-181">Only change this if you have a specific reason to do so and are familiar with namespace extensions.</span></span>

<span data-ttu-id="a5a75-182">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ InprocServer32/ve/t reg \_ expande \_ /d%% systemroot%% \\ System32 \\shell32.dll/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-182">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\InProcServer32 /ve /t REG\_EXPAND\_SZ /d %%systemroot%%\\system32\\shell32.dll /f**</span></span>

### <a name="step-6-define-the-instance-object"></a><span data-ttu-id="a5a75-183">Etapa 6: definir o objeto de instância</span><span class="sxs-lookup"><span data-stu-id="a5a75-183">Step 6: Define the instance object</span></span>

<span data-ttu-id="a5a75-184">Indique que a extensão do namespace deve funcionar como outras estruturas de pasta de arquivo no explorador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-184">Indicate that your namespace extension should function like other file folder structures in File Explorer.</span></span> <span data-ttu-id="a5a75-185">Para obter mais informações sobre objetos de instância de Shell, consulte [criando extensões de shell com objetos de instância de shell](/previous-versions/ms997573(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="a5a75-185">For more information about shell instance objects, see [Creating Shell Extensions with Shell Instance Objects](/previous-versions/ms997573(v=msdn.10)).</span></span>

<span data-ttu-id="a5a75-186">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instância/v CLSID/T reg \_ sz/d {0E5AAE11-A475-4c5b-AB00-C66DE400274E}/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-186">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance /v CLSID /t REG\_SZ /d {0E5AAE11-A475-4c5b-AB00-C66DE400274E} /f**</span></span>

### <a name="step-7-provide-the-file-system-attributes-of-the-target-folder"></a><span data-ttu-id="a5a75-187">Etapa 7: fornecer os atributos do sistema de arquivos da pasta de destino</span><span class="sxs-lookup"><span data-stu-id="a5a75-187">Step 7: Provide the file system attributes of the target folder</span></span>

<span data-ttu-id="a5a75-188">Isso é necessário para garantir que o explorador de arquivos forneça uma experiência consistente e esperada para os usuários.</span><span class="sxs-lookup"><span data-stu-id="a5a75-188">This is required to make sure that the File Explorer provides a consistent and expected experience for users.</span></span> <span data-ttu-id="a5a75-189">Esse comando define **o \_ \_ diretório de atributo de arquivo** e o atributo de **arquivo \_ \_ ReadOnly**, ambos os quais são [**constantes de atributo de arquivo**](../fileio/file-attribute-constants.md).</span><span class="sxs-lookup"><span data-stu-id="a5a75-189">This command sets **FILE\_ATTRIBUTE\_DIRECTORY** and **FILE\_ATTRIBUTE\_READONLY**, both of which are [**File Attribute Constants**](../fileio/file-attribute-constants.md).</span></span>

<span data-ttu-id="a5a75-190">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instância \\ InitPropertyBag/v atributos/t reg \_ DWORD/d 0x11/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-190">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v Attributes /t REG\_DWORD /d 0x11 /f**</span></span>

### <a name="step-8-set-the-path-for-the-sync-root"></a><span data-ttu-id="a5a75-191">Etapa 8: definir o caminho para a raiz de sincronização</span><span class="sxs-lookup"><span data-stu-id="a5a75-191">Step 8: Set the path for the sync root</span></span>

<span data-ttu-id="a5a75-192">Defina o caminho para a raiz de sincronização.</span><span class="sxs-lookup"><span data-stu-id="a5a75-192">Set the path for the sync root.</span></span>

<span data-ttu-id="a5a75-193">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ instância \\ InitPropertyBag/v TargetFolderPath/t reg \_ expandir \_ sz/d%% USERPROFILE%% \\ MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-193">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\Instance\\InitPropertyBag /v TargetFolderPath /t REG\_EXPAND\_SZ /d %%USERPROFILE%%\\MyCloudStorageApp /f**</span></span>

### <a name="step-9-set-appropriate-shell-flags"></a><span data-ttu-id="a5a75-194">Etapa 9: definir sinalizadores de shell apropriados</span><span class="sxs-lookup"><span data-stu-id="a5a75-194">Step 9: Set appropriate shell flags</span></span>

<span data-ttu-id="a5a75-195">Defina alguns sinalizadores necessários para fixar a extensão do namespace na árvore do explorador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-195">Set some flags necessary to pin your namespace extension to the File Explorer tree.</span></span>

<span data-ttu-id="a5a75-196">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ identificação ShellFolder/v FolderValueFlags/t reg \_ DWORD/d 0x28/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-196">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v FolderValueFlags /t REG\_DWORD /d 0x28 /f**</span></span>

### <a name="step-10-set-the-appropriate-flags-to-control-your-shell-behavior"></a><span data-ttu-id="a5a75-197">Etapa 10: definir os sinalizadores apropriados para controlar o comportamento do Shell</span><span class="sxs-lookup"><span data-stu-id="a5a75-197">Step 10: Set the appropriate flags to control your shell behavior</span></span>

<span data-ttu-id="a5a75-198">Defina os sinalizadores [**SFGAO**](sfgao.md) apropriados.</span><span class="sxs-lookup"><span data-stu-id="a5a75-198">Set the appropriate [**SFGAO**](sfgao.md) flags.</span></span> <span data-ttu-id="a5a75-199">Os sinalizadores relevantes são SFGAO \_ cancopie, SFGAO \_ canlink, SFGAO \_ armazenamento, SFGAO \_ HASPROPSHEET, SFGAO \_ STORAGEANCESTOR, SFGAO \_ FILESYSANCESTOR, SFGAO \_ Folder, SFGAO \_ FileSystem e SFGAO \_ HASSUBFOLDER.</span><span class="sxs-lookup"><span data-stu-id="a5a75-199">The relevant flags are SFGAO\_CANCOPY, SFGAO\_CANLINK, SFGAO\_STORAGE, SFGAO\_HASPROPSHEET, SFGAO\_STORAGEANCESTOR, SFGAO\_FILESYSANCESTOR, SFGAO\_FOLDER, SFGAO\_FILESYSTEM, and SFGAO\_HASSUBFOLDER.</span></span>

<span data-ttu-id="a5a75-200">**REG add HKCU \\ software \\ classes \\ CLSID \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} \\ identificação ShellFolder/v atributos/t reg \_ DWORD/d 0xF080004D/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-200">**reg add HKCU\\Software\\Classes\\CLSID\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}\\ShellFolder /v Attributes /t REG\_DWORD /d 0xF080004D /f**</span></span>

### <a name="step-11-register-your-extension-in-the-namespace-root"></a><span data-ttu-id="a5a75-201">Etapa 11: registrar sua extensão na raiz do namespace</span><span class="sxs-lookup"><span data-stu-id="a5a75-201">Step 11: Register your extension in the namespace root</span></span>

<span data-ttu-id="a5a75-202">Configure a extensão do namespace para ser um filho da pasta da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a5a75-202">Configure the namespace extension to be a child of the desktop folder.</span></span>

<span data-ttu-id="a5a75-203">**REG add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ Desktop \\ namespace \\ {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/ve/t reg \_ sz/d MyCloudStorageApp/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-203">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\Desktop\\NameSpace\\{0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /ve /t REG\_SZ /d MyCloudStorageApp /f**</span></span>

### <a name="step-12-hide-your-extension-from-the-desktop"></a><span data-ttu-id="a5a75-204">Etapa 12: ocultar sua extensão da área de trabalho</span><span class="sxs-lookup"><span data-stu-id="a5a75-204">Step 12: Hide your extension from the Desktop</span></span>

<span data-ttu-id="a5a75-205">É importante que sua extensão apareça somente no painel de navegação do explorador de arquivos.</span><span class="sxs-lookup"><span data-stu-id="a5a75-205">It is important that your extension only appears on the Navigation Pane of the File Explorer.</span></span> <span data-ttu-id="a5a75-206">Uma extensão de namespace não funciona como um atalho normal.</span><span class="sxs-lookup"><span data-stu-id="a5a75-206">A namespace extension does not function like a normal shortcut.</span></span> <span data-ttu-id="a5a75-207">Portanto, você não deve usar esse método para criar um atalho de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="a5a75-207">Therefore, you should not use this method to create a Desktop shortcut.</span></span>

<span data-ttu-id="a5a75-208">**REG add HKCU \\ software \\ Microsoft \\ Windows \\ CurrentVersion \\ Explorer \\ HideDesktopIcons \\ NewStartPanel/v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3}/t reg \_ DWORD/d 0x1/f**</span><span class="sxs-lookup"><span data-stu-id="a5a75-208">**reg add HKCU\\Software\\Microsoft\\Windows\\CurrentVersion\\Explorer\\HideDesktopIcons\\NewStartPanel /v {0672A6D1-A6E0-40FE-AB16-F25BADC6D9E3} /t REG\_DWORD /d 0x1 /f**</span></span>

 

 
