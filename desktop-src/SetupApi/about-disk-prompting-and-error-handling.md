---
description: As funções de instalação podem gerar caixas de diálogo para lidar com situações de instalação comuns e coletar informações do usuário.
ms.assetid: 0bff17a6-590d-4410-9ed1-0a655d94caad
title: Sobre solicitação de disco e tratamento de erros
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cb6c171d1e479d5d16198ba6d632848ff152f4ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105769184"
---
# <a name="about-disk-prompting-and-error-handling"></a><span data-ttu-id="760ae-103">Sobre solicitação de disco e tratamento de erros</span><span class="sxs-lookup"><span data-stu-id="760ae-103">About Disk Prompting and Error Handling</span></span>

<span data-ttu-id="760ae-104">Embora as funções de instalação não forneçam uma interface do usuário, há quatro funções de instalação que geram caixas de diálogo para lidar com situações de instalação comuns e reunir informações do usuário.</span><span class="sxs-lookup"><span data-stu-id="760ae-104">Though the setup functions do not provide a user interface, there are four setup functions that generate dialog boxes to handle common installation situations and gather information from the user.</span></span> <span data-ttu-id="760ae-105">São eles: [**SetupPromptForDisk**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska), [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora)e [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora).</span><span class="sxs-lookup"><span data-stu-id="760ae-105">These are: [**SetupPromptForDisk**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska), [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora), and [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora).</span></span>

<span data-ttu-id="760ae-106">As rotinas de retorno de chamada podem chamar essas funções para criar caixas de diálogo para auxiliar no processamento de notificações enviadas por outras funções de instalação, como [**SetupCommitFileQueue**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea) e [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea).</span><span class="sxs-lookup"><span data-stu-id="760ae-106">Callback routines can call these functions to create dialog boxes to aid in processing notifications sent by other setup functions such as [**SetupCommitFileQueue**](/windows/desktop/api/Setupapi/nf-setupapi-setupcommitfilequeuea) and [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea).</span></span>

<span data-ttu-id="760ae-107">A função [**SetupPromptForDisk**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska) solicita que o usuário insira mídia removível, especifique um novo caminho de origem ou cancele a instalação.</span><span class="sxs-lookup"><span data-stu-id="760ae-107">The [**SetupPromptForDisk**](/windows/desktop/api/Setupapi/nf-setupapi-setuppromptfordiska) function prompts the user to insert removable media, specify a new source path, or cancel the installation.</span></span> <span data-ttu-id="760ae-108">O aplicativo pode oferecer opções adicionais ao usuário, dependendo dos sinalizadores especificados quando a função é chamada.</span><span class="sxs-lookup"><span data-stu-id="760ae-108">The application can offer additional options to the user, depending on the flags specified when the function is called.</span></span> <span data-ttu-id="760ae-109">Isso inclui ignorar o arquivo atual ou procurar um novo caminho de origem.</span><span class="sxs-lookup"><span data-stu-id="760ae-109">These include skipping the current file, or browsing for a new source path.</span></span>

<span data-ttu-id="760ae-110">As três funções, [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora)e [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora), criam caixas de diálogo que interagem com o usuário para coletar informações do usuário sobre como proceder quando ocorreu um erro.</span><span class="sxs-lookup"><span data-stu-id="760ae-110">The three functions, [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora), [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora), and [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora), create dialog boxes that interact with the user to gather information from the user on how to proceed when an error has occurred.</span></span>

<span data-ttu-id="760ae-111">A função [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora) gera uma caixa de diálogo que pergunta ao usuário como se recuperar de um erro de cópia.</span><span class="sxs-lookup"><span data-stu-id="760ae-111">The [**SetupCopyError**](/windows/desktop/api/Setupapi/nf-setupapi-setupcopyerrora) function generates a dialog box that asks the user how to recover from a copy error.</span></span> <span data-ttu-id="760ae-112">O usuário pode especificar um novo caminho de origem para a operação de cópia ou cancelar a instalação.</span><span class="sxs-lookup"><span data-stu-id="760ae-112">The user can specify a new source path for the copy operation or cancel the installation.</span></span> <span data-ttu-id="760ae-113">Dependendo dos sinalizadores especificados durante a chamada para **SetupCopyError**, o usuário também poderá procurar um novo caminho de origem, exibir detalhes do erro ou ignorar o arquivo atual.</span><span class="sxs-lookup"><span data-stu-id="760ae-113">Depending on the flags specified during the call to **SetupCopyError**, the user may also be able to browse for a new source path, view error details, or skip the current file.</span></span>

<span data-ttu-id="760ae-114">Uma caixa de diálogo que pergunta ao usuário como processar erros que ocorrem durante uma operação de renomeação de arquivo pode ser gerada chamando [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora).</span><span class="sxs-lookup"><span data-stu-id="760ae-114">A dialog box that asks the user how to process errors that occur during a file renaming operation can be generated by calling [**SetupRenameError**](/windows/desktop/api/Setupapi/nf-setupapi-setuprenameerrora).</span></span> <span data-ttu-id="760ae-115">Com essa caixa de diálogo, o usuário tem a oportunidade de repetir a operação, ignorar a operação de renomeação atual ou anular.</span><span class="sxs-lookup"><span data-stu-id="760ae-115">With this dialog box, the user has the opportunity to retry the operation, skip the current rename operation, or abort.</span></span>

<span data-ttu-id="760ae-116">A função [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora) gera uma caixa de diálogo que pode coletar informações sobre como o usuário deseja tratar um erro que ocorreu durante uma operação de exclusão de arquivo.</span><span class="sxs-lookup"><span data-stu-id="760ae-116">The [**SetupDeleteError**](/windows/desktop/api/Setupapi/nf-setupapi-setupdeleteerrora) function generates a dialog box that can gather input on how the user wishes to handle an error that occurred during a file deletion operation.</span></span> <span data-ttu-id="760ae-117">O usuário recebe as opções para repetir a operação, ignorar a operação de exclusão atual ou anular.</span><span class="sxs-lookup"><span data-stu-id="760ae-117">The user is given the options to retry the operation, skip the current delete operation, or abort.</span></span>

<span data-ttu-id="760ae-118">A rotina de retorno de chamada de fila padrão, [**SetupDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupdefaultqueuecallbacka), usa as quatro funções mencionadas anteriormente para gerar partes de sua interface do usuário e para lidar com erros e solicitar novas mídias.</span><span class="sxs-lookup"><span data-stu-id="760ae-118">The default queue callback routine, [**SetupDefaultQueueCallback**](/windows/desktop/api/Setupapi/nf-setupapi-setupdefaultqueuecallbacka), uses the previously mentioned four functions to generate parts of its user interface and to handle errors and prompt for new media.</span></span>

 

 



