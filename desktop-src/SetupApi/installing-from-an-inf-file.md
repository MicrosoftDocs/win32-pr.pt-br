---
description: Depois de recuperar as informações de instalação de um arquivo INF, há várias funções de manipulação de arquivos que você pode usar para instalar os arquivos listados em uma seção INF.
ms.assetid: 4e6042a0-36a9-4f74-b6cc-554e7f7aa2d9
title: Instalando a partir de um arquivo INF
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bc3642edfb7abc2864c2c0784c79fbb21612fb9
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103829298"
---
# <a name="installing-from-an-inf-file"></a><span data-ttu-id="e8b03-103">Instalando a partir de um arquivo INF</span><span class="sxs-lookup"><span data-stu-id="e8b03-103">Installing From an INF File</span></span>

<span data-ttu-id="e8b03-104">Depois de recuperar as informações de instalação de um arquivo INF, há várias funções de manipulação de arquivos que você pode usar para instalar os arquivos listados em uma seção INF.</span><span class="sxs-lookup"><span data-stu-id="e8b03-104">After you retrieve installation information from an INF file, there are several file-handling functions that you can use to install the files listed in an INF section.</span></span> <span data-ttu-id="e8b03-105">Funções de nível baixo, como [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) e [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) , instalam um único arquivo.</span><span class="sxs-lookup"><span data-stu-id="e8b03-105">Low-level functions such as [**SetupInstallFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilea) and [**SetupInstallFileEx**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfileexa) install a single file.</span></span>

<span data-ttu-id="e8b03-106">Há também funções para lidar com arquivos compactados.</span><span class="sxs-lookup"><span data-stu-id="e8b03-106">There are also functions to handle compressed files.</span></span> <span data-ttu-id="e8b03-107">A função [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) retorna informações sobre arquivos compactados.</span><span class="sxs-lookup"><span data-stu-id="e8b03-107">The [**SetupGetFileCompressionInfo**](/windows/desktop/api/Setupapi/nf-setupapi-setupgetfilecompressioninfoa) function returns information about compressed files.</span></span> <span data-ttu-id="e8b03-108">Essas informações podem ser usadas pelo [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) para copiar e, se necessário, expandir o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e8b03-108">This information can then be used by [**SetupDecompressOrCopyFile**](/windows/desktop/api/Setupapi/nf-setupapi-setupdecompressorcopyfilea) to copy and, if necessary, expand the file.</span></span>

<span data-ttu-id="e8b03-109">Funções de alto nível, como [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona)e [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) , processam as operações de instalação em uma seção de **instalação** ou **serviço** .</span><span class="sxs-lookup"><span data-stu-id="e8b03-109">High-level functions such as [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona), [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona), and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) process the installation operations in an **Install** or **Service** section.</span></span> <span data-ttu-id="e8b03-110">Desses, o **SetupInstallFromInfSection** é o mais versátil porque ele pode executar qualquer tipo de operação de instalação listada na seção de **instalação** de um arquivo inf.</span><span class="sxs-lookup"><span data-stu-id="e8b03-110">Of these, **SetupInstallFromInfSection** is the most versatile because it can perform any type of installation operation listed in the **Install** section of an INF file.</span></span> <span data-ttu-id="e8b03-111">Isso inclui as operações de registro e INI listadas nas linhas **AddReg**, **DelReg**, **UpdateInis** ou **UpdateIniField** de uma seção de **instalação** .</span><span class="sxs-lookup"><span data-stu-id="e8b03-111">This includes the registry and INI operations listed in the **AddReg**, **DelReg**, **UpdateInis**, or **UpdateIniField** lines of an **Install** section.</span></span>

<span data-ttu-id="e8b03-112">As funções [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) e [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) enfileiram operações de uma seção de **instalação** ou de **serviço** , respectivamente, para uma fila de arquivos existente.</span><span class="sxs-lookup"><span data-stu-id="e8b03-112">The [**SetupInstallFilesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfilesfrominfsectiona) and [**SetupInstallServicesFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallservicesfrominfsectiona) functions queue operations from an **Install** or **Service** section, respectively, to an existing file queue.</span></span> <span data-ttu-id="e8b03-113">Observe que você deve chamar SetupInstallFromInfSection e SetupInstallServicesFromInfSection separadamente para serviços e operações de fila.</span><span class="sxs-lookup"><span data-stu-id="e8b03-113">Note that you must call SetupInstallFromInfSection and SetupInstallServicesFromInfSection separately to queue operations and services.</span></span> <span data-ttu-id="e8b03-114">Para obter mais informações, consulte [filas de arquivos](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="e8b03-114">For more information, see [File Queues](file-queues.md).</span></span>

<span data-ttu-id="e8b03-115">Por outro lado, a função [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) cria e destrói sua própria fila interna.</span><span class="sxs-lookup"><span data-stu-id="e8b03-115">In contrast, the [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) function creates and destroys its own internal queue.</span></span> <span data-ttu-id="e8b03-116">Um uso comum para **SetupInstallFromInfSection** é chamá-lo depois que todos os arquivos tiverem sido copiados com êxito para executar as transações de registro e ini.</span><span class="sxs-lookup"><span data-stu-id="e8b03-116">A common use for **SetupInstallFromInfSection** is to call it after all files have been successfully copied to perform the registry and INI transactions.</span></span>

<span data-ttu-id="e8b03-117">No Windows 2000, os arquivos DLL podem ser registrados automaticamente chamando [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) em um arquivo inf que inclui a diretiva **RegisterDlls** em sua seção de **instalação** .</span><span class="sxs-lookup"><span data-stu-id="e8b03-117">On Windows 2000, DLL files may be self-registered by calling [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) on an INF file that includes the **RegisterDlls** directive in its **Install** section.</span></span> <span data-ttu-id="e8b03-118">**SetupInstallFromInfSection** também pode registrar automaticamente DLLs de 32 bits de um processo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="e8b03-118">**SetupInstallFromInfSection** can also self-register 32-bit DLLs from a 64-bit process.</span></span>

<span data-ttu-id="e8b03-119">Em sistemas operacionais de 64 bits, [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) pode ser chamado para executar operações na parte de 32 bits do registro.</span><span class="sxs-lookup"><span data-stu-id="e8b03-119">On 64-bit operating systems, [**SetupInstallFromInfSection**](/windows/desktop/api/Setupapi/nf-setupapi-setupinstallfrominfsectiona) may be called to perform operations on the 32-bit portion of the registry.</span></span> <span data-ttu-id="e8b03-120">Para adicionar uma chave do registro à parte de 32 bits do registro, inclua o sinalizador FLG \_ ADDREG \_ 32BITKEY na linha **ADDREG** do inf.</span><span class="sxs-lookup"><span data-stu-id="e8b03-120">To add a registry key to the 32-bit portion of the registry, include the FLG\_ADDREG\_32BITKEY flag in the **AddReg** line of the INF.</span></span> <span data-ttu-id="e8b03-121">Para excluir uma chave do registro somente na parte de 32 bits do registro, inclua a chave FLG \_ DELREG \_ 32BITKEY na linha **DELREG** .</span><span class="sxs-lookup"><span data-stu-id="e8b03-121">To delete a registry key only in the 32-bit portion of the registry, include the FLG\_DELREG\_32BITKEY key in the **DelReg** line.</span></span> <span data-ttu-id="e8b03-122">Para definir ou limpar um valor binário somente na parte de 32 bits do registro, inclua FLG \_ BITREG \_ 32BITKEY na linha **BITREG** .</span><span class="sxs-lookup"><span data-stu-id="e8b03-122">To set or clear a binary value only in the 32-bit portion of the registry, include the FLG\_BITREG\_32BITKEY in the **BitReg** line.</span></span>

<span data-ttu-id="e8b03-123">Além das funções listadas anteriormente, a API de instalação inclui funções que enfileiram operações de instalação de arquivo, seja por arquivo ou pela seção INF.</span><span class="sxs-lookup"><span data-stu-id="e8b03-123">In addition to the functions previously listed, the Setup API includes functions that queue file installation operations, either by file, or by INF section.</span></span> <span data-ttu-id="e8b03-124">Para obter mais informações, consulte [filas de arquivos](file-queues.md).</span><span class="sxs-lookup"><span data-stu-id="e8b03-124">For more information, see [File Queues](file-queues.md).</span></span>

 

 



