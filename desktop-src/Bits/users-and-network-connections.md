---
title: Usuários e conexões de rede
description: O BITS transfere arquivos somente quando o proprietário do trabalho é conectado e uma conexão de rede é estabelecida.
ms.assetid: b31fc04f-8fa8-407f-9380-ca6b09589c46
keywords:
- BITS de conexões de rede
- transferir BITS de trabalho, Propriedade
- transferir BITS de trabalho, propriedade, conta de usuário
ms.topic: article
ms.date: 10/04/2018
ms.openlocfilehash: 7f841e3bf92004b62f3bbb576f71a45ac6b4a6bc
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104084842"
---
# <a name="users-and-network-connections"></a><span data-ttu-id="ecc35-106">Usuários e conexões de rede</span><span class="sxs-lookup"><span data-stu-id="ecc35-106">Users and Network Connections</span></span>

<span data-ttu-id="ecc35-107">O BITS transfere arquivos somente quando o proprietário do trabalho é conectado e uma conexão de rede é estabelecida.</span><span class="sxs-lookup"><span data-stu-id="ecc35-107">BITS transfers files only when the job owner is logged on and a network connection is established.</span></span> <span data-ttu-id="ecc35-108">O BITS processa o trabalho de transferência usando o contexto de segurança do proprietário do trabalho.</span><span class="sxs-lookup"><span data-stu-id="ecc35-108">BITS processes the transfer job using the security context of the job owner.</span></span> <span data-ttu-id="ecc35-109">O usuário que criou o trabalho é considerado o proprietário do trabalho.</span><span class="sxs-lookup"><span data-stu-id="ecc35-109">The user who created the job is considered the owner of the job.</span></span> <span data-ttu-id="ecc35-110">No entanto, um usuário com privilégios de administrador pode apropriar- [**se**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) do trabalho de outro usuário.</span><span class="sxs-lookup"><span data-stu-id="ecc35-110">However, a user with administrator privileges can [**take ownership**](/windows/desktop/api/Bits/nf-bits-ibackgroundcopyjob-takeownership) of another user's job.</span></span>

<span data-ttu-id="ecc35-111">O BITS suspende um trabalho quando o proprietário faz logoff ou se a conexão de rede é perdida (o BITS não forçará uma conexão de rede).</span><span class="sxs-lookup"><span data-stu-id="ecc35-111">BITS suspends a job when the owner logs off or if the network connection is lost (BITS will not force a network connection).</span></span> <span data-ttu-id="ecc35-112">O BITS retoma o trabalho quando o proprietário faz logon novamente e uma conexão de rede é estabelecida.</span><span class="sxs-lookup"><span data-stu-id="ecc35-112">BITS resumes the job when the owner logs back on and a network connection is established.</span></span> <span data-ttu-id="ecc35-113">Depois que a conexão de rede é estabelecida, pode ocorrer um pequeno atraso antes que o BITS comece a transferir dados.</span><span class="sxs-lookup"><span data-stu-id="ecc35-113">After the network connection is established, a short delay may occur before BITS begins transferring data.</span></span>

<span data-ttu-id="ecc35-114">Se a conexão de rede for perdida, todos os trabalhos cujo estado for [**BG \_ estado de trabalho \_ \_ na fila**](/windows/desktop/api/Bits/ne-bits-bg_job_state) ou **BG \_ transferência de \_ estado \_ de trabalho** serão movidos para o estado de **\_ \_ \_ \_ erro temporário de estado do trabalho** com um código de erro BG [ \_ E \_ \_ desconectado pela rede](bits-return-values.md) .</span><span class="sxs-lookup"><span data-stu-id="ecc35-114">If the network connection is lost, all jobs whose state is [**BG\_JOB\_STATE\_QUEUED**](/windows/desktop/api/Bits/ne-bits-bg_job_state) or **BG\_JOB\_STATE\_TRANSFERRING** are moved to the **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state with a [BG\_E\_NETWORK\_DISCONNECTED](bits-return-values.md) error code.</span></span> <span data-ttu-id="ecc35-115">Quando uma conexão de rede é estabelecida, todos os trabalhos em um BG estado de **\_ \_ \_ \_ erro transitório de estado de trabalho** , que podem incluir qualquer código de erro, são movidos para o estado de **\_ \_ \_ fila de estado de trabalho BG** .</span><span class="sxs-lookup"><span data-stu-id="ecc35-115">When a network connection is established, all jobs in a **BG\_JOB\_STATE\_TRANSIENT\_ERROR** state, which may include any error code, are moved to the **BG\_JOB\_STATE\_QUEUED** state.</span></span>

<span data-ttu-id="ecc35-116">Para que o BITS detecte que um usuário está conectado, o usuário deve usar uma das seguintes opções de logon interativo:</span><span class="sxs-lookup"><span data-stu-id="ecc35-116">For BITS to detect that a user is logged on, the user must use one of the following interactive logon options:</span></span>

-   <span data-ttu-id="ecc35-117">Faça logon na tela de boas-vindas.</span><span class="sxs-lookup"><span data-stu-id="ecc35-117">Log on through the Welcome screen.</span></span>
-   <span data-ttu-id="ecc35-118">Faça logon em um cliente de [serviço de terminal](../termserv/terminal-services-portal.md) .</span><span class="sxs-lookup"><span data-stu-id="ecc35-118">Log on to a [terminal service](../termserv/terminal-services-portal.md) client.</span></span>
-   <span data-ttu-id="ecc35-119">Use a [troca rápida de usuário](../shell/fast-user-switching.md).</span><span class="sxs-lookup"><span data-stu-id="ecc35-119">Use [fast user switching](../shell/fast-user-switching.md).</span></span>
-   <span data-ttu-id="ecc35-120">A partir do Windows 10, versão 1607, faça logon de outro dispositivo usando o PowerShell remoto.</span><span class="sxs-lookup"><span data-stu-id="ecc35-120">Starting with Windows 10, version 1607, log on from another device using Remote Powershell.</span></span> <span data-ttu-id="ecc35-121">Consulte [para gerenciar sessões remotas do PowerShell](using-windows-powershell-to-create-bits-transfer-jobs.md) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="ecc35-121">See [To manage PowerShell Remote sessions](using-windows-powershell-to-create-bits-transfer-jobs.md) for details.</span></span>

<span data-ttu-id="ecc35-122">Executar um aplicativo como outro usuário (usando o comando **runas** ) não é um logon interativo; O BITS não executará trabalhos associados ao usuário especificado.</span><span class="sxs-lookup"><span data-stu-id="ecc35-122">Running an application as another user (by using the **RunAs** command) is not an interactive logon; BITS will not run jobs associated with the specified user.</span></span>

<span data-ttu-id="ecc35-123">As contas do sistema LocalSystem, LocalService e NetworkService estão sempre conectadas; Portanto, os trabalhos enviados por um serviço usando essas contas sempre são executados.</span><span class="sxs-lookup"><span data-stu-id="ecc35-123">The LocalSystem, LocalService, and NetworkService system accounts are always logged on; therefore, jobs submitted by a service using these accounts always run.</span></span> <span data-ttu-id="ecc35-124">Para obter informações e limitações sobre o uso de contas de serviço, consulte [contas de serviço e bits](service-accounts-and-bits.md).</span><span class="sxs-lookup"><span data-stu-id="ecc35-124">For information and limitations on using service accounts, see [Service Accounts and BITS](service-accounts-and-bits.md).</span></span>

<span data-ttu-id="ecc35-125">Os proprietários de trabalho podem fornecer um token auxiliar a ser usado em situações em que vários tokens são necessários para concluir uma transferência, como para autenticação com um host remoto.</span><span class="sxs-lookup"><span data-stu-id="ecc35-125">Job owners can provide a helper token to be used in situations where multiple tokens are needed to complete a transfer, such as for authentication with a remote host.</span></span> <span data-ttu-id="ecc35-126">Consulte [tokens auxiliares para trabalhos de transferência de bits](helper-tokens-for-bits-transfer-jobs.md) para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="ecc35-126">See [Helper Tokens for BITS Transfer Jobs](helper-tokens-for-bits-transfer-jobs.md) for details.</span></span> <span data-ttu-id="ecc35-127">Nas versões anteriores do Windows, o proprietário do trabalho efetivamente tinha que ter privilégios de administrador para iniciar um trabalho que usava um token auxiliar.</span><span class="sxs-lookup"><span data-stu-id="ecc35-127">In earlier versions of Windows, the job owner effectively had to have administrator privileges to start a job that used a helper token.</span></span> <span data-ttu-id="ecc35-128">No Windows 10, versão 1607, agora é possível que um proprietário do trabalho do BITS defina tokens auxiliares sem ser um administrador, desde que o token auxiliar não tenha recursos de administrador.</span><span class="sxs-lookup"><span data-stu-id="ecc35-128">In Windows 10, version 1607, it is now possible for a BITS job owner to set helper tokens without being an administrator, as long as the helper token does not have administrator capabilities.</span></span> <span data-ttu-id="ecc35-129">Isso reduz a superfície de vulnerabilidade de download em segundo plano ou de ferramentas de atualização, permitindo sua execução com a conta NetworkService com menos privilégios, em vez de uma conta com privilégios administrativos.</span><span class="sxs-lookup"><span data-stu-id="ecc35-129">This reduces the vulnerability footprint of background download or update tools by enabling them to run under the lower-privileged NetworkService account rather than under an account with administrative privileges.</span></span>

<span data-ttu-id="ecc35-130">Os usuários com um [token restrito](../secauthz/restricted-tokens.md) (um token que contém SIDs de restrição) não podem criar ou modificar trabalhos.</span><span class="sxs-lookup"><span data-stu-id="ecc35-130">Users with a [restricted token](../secauthz/restricted-tokens.md) (a token that contains restricting SIDs) cannot create or modify jobs.</span></span>
 

 