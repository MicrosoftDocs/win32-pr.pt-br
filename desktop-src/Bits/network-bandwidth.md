---
title: Largura de Banda de Rede
description: As transferências em segundo plano usam apenas largura de banda de rede ociosa em um esforço para preservar a experiência interativa do usuário com outros aplicativos de rede, como o Internet Explorer.
ms.assetid: c0b92a33-7afc-4250-8549-54cc46013239
ms.topic: article
ms.date: 10/09/2018
ms.openlocfilehash: 39a38a0efd5f2caea432fc9d13f7a958b6bcd407
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104007783"
---
# <a name="network-bandwidth"></a><span data-ttu-id="d76c6-103">Largura de Banda de Rede</span><span class="sxs-lookup"><span data-stu-id="d76c6-103">Network Bandwidth</span></span>

<span data-ttu-id="d76c6-104">As transferências em segundo plano usam apenas largura de banda de rede ociosa em um esforço para preservar a experiência interativa do usuário com outros aplicativos de rede, como navegadores da Web.</span><span class="sxs-lookup"><span data-stu-id="d76c6-104">Background transfers use only idle network bandwidth in an effort to preserve the user's interactive experience with other network applications such as web browsers.</span></span> <span data-ttu-id="d76c6-105">O BITS ajusta seu uso da largura de banda à medida que o usuário aumenta ou diminui seu uso da largura de banda.</span><span class="sxs-lookup"><span data-stu-id="d76c6-105">BITS adjusts its use of the bandwidth as the user increases or decreases their use of the bandwidth.</span></span> <span data-ttu-id="d76c6-106">Observe que o BITS ainda transfere uma pequena quantidade de dados durante o alto uso da rede para garantir que os trabalhos do BITS façam progresso.</span><span class="sxs-lookup"><span data-stu-id="d76c6-106">Note that BITS still transfers a small amount of data during high network use to ensure that BITS jobs make progress.</span></span>

<span data-ttu-id="d76c6-107">O BITS monitora o tráfego de rede no IGD (dispositivo de gateway de Internet) ou na NIC (placa de interface de rede) do cliente e usa apenas a parte ociosa da largura de banda da rede.</span><span class="sxs-lookup"><span data-stu-id="d76c6-107">BITS monitors the network traffic at the Internet gateway device (IGD) or the client's network interface card (NIC) and uses only the idle portion of the network bandwidth.</span></span> <span data-ttu-id="d76c6-108">O BITS também permite [LEDBAT](https://blogs.technet.microsoft.com/networking/2018/07/25/ledbat/) em conexões http para ajudar a aliviar o congestionamento da rede.</span><span class="sxs-lookup"><span data-stu-id="d76c6-108">BITS also enables [LEDBAT](https://blogs.technet.microsoft.com/networking/2018/07/25/ledbat/) on HTTP connections to help relieve network congestion.</span></span>

<span data-ttu-id="d76c6-109">Se o BITS usar a placa de interface de rede para medir o tráfego e não houver aplicativos de rede em execução no cliente, o BITS consumirá a maior parte da largura de banda disponível.</span><span class="sxs-lookup"><span data-stu-id="d76c6-109">If BITS uses the network interface card to measure traffic and there are no network applications running on the client, BITS will consume most of the available bandwidth.</span></span> <span data-ttu-id="d76c6-110">Isso não significa que a rede além do cliente está ociosa; a rede pode estar com capacidade total.</span><span class="sxs-lookup"><span data-stu-id="d76c6-110">This does not mean the network beyond the client is idle; the network might be at full capacity.</span></span>

<span data-ttu-id="d76c6-111">Isso pode ser um problema se o cliente tiver um adaptador de rede rápido, mas a conexão de Internet completa estiver por meio de um link lento (como um roteador DSL) porque o BITS competirá pela largura de banda completa em vez de usar apenas a largura de banda disponível no link lento; O BITS não tem visibilidade do tráfego de rede além do cliente.</span><span class="sxs-lookup"><span data-stu-id="d76c6-111">This can be an issue if the client has a fast network adapter but the full internet connection is through a slow link (like a DSL router) because BITS will compete for the full bandwidth instead of using only the available bandwidth on the slow link; BITS has no visibility of the network traffic beyond the client.</span></span>

<span data-ttu-id="d76c6-112">Um dispositivo de gateway que dá suporte a contadores pode eliminar esse problema porque o BITS mediria o tráfego no link lento e usaria a largura de banda adequadamente.</span><span class="sxs-lookup"><span data-stu-id="d76c6-112">A gateway device that supports counters can eliminate this issue because BITS would measure the traffic on the slow link and use the bandwidth appropriately.</span></span> <span data-ttu-id="d76c6-113">Se o dispositivo não oferecer suporte a contadores, você poderá reduzir o impacto desse tipo de conexão, usando a política **MaxInternetBandwidth** para limitar a largura de banda que o bits usa no computador cliente.</span><span class="sxs-lookup"><span data-stu-id="d76c6-113">If the device does not support counters, you can reduce the impact of this type of connection, by using the **MaxInternetBandwidth** policy to limit the bandwidth that BITS uses on the client computer.</span></span> <span data-ttu-id="d76c6-114">Para obter detalhes, consulte [políticas de grupo](group-policies.md).</span><span class="sxs-lookup"><span data-stu-id="d76c6-114">For details, see [Group Policies](group-policies.md).</span></span>

<span data-ttu-id="d76c6-115">Se o computador contiver várias interfaces de rede, como um modem, uma VPN (rede virtual privada) e várias placas de interface de rede (NIC), o BITS chamará a função auxiliar de IP, [**GetBestInterfaceEx**](/windows/desktop/api/iphlpapi/nf-iphlpapi-getbestinterfaceex), para determinar a interface que tem a melhor rota para o endereço IP especificado.</span><span class="sxs-lookup"><span data-stu-id="d76c6-115">If the computer contains multiple network interfaces, such as a modem, virtual private network (VPN), and several network interface cards (NIC), BITS calls the IP Helper function, [**GetBestInterfaceEx**](/windows/desktop/api/iphlpapi/nf-iphlpapi-getbestinterfaceex), to determine the interface that has the best route to the specified IP address.</span></span> <span data-ttu-id="d76c6-116">Em seguida, o BITS monitorará o uso da largura de banda nessa interface.</span><span class="sxs-lookup"><span data-stu-id="d76c6-116">BITS will then monitor bandwidth usage on that interface.</span></span>

## <a name="using-an-internet-gateway-device-igd-to-determine-usage"></a><span data-ttu-id="d76c6-117">Usando um IGD (dispositivo de gateway de Internet) para determinar o uso</span><span class="sxs-lookup"><span data-stu-id="d76c6-117">Using an Internet Gateway Device (IGD) to Determine Usage</span></span>

<span data-ttu-id="d76c6-118">Para usar um dispositivo de gateway, o dispositivo deve dar suporte a contadores de bytes (o dispositivo deve responder às ações GetTotalBytesSent e GetTotalBytesReceived) e o Universal Plug and Play (UPnP) deve estar habilitado.</span><span class="sxs-lookup"><span data-stu-id="d76c6-118">To use a gateway device, the device must support byte counters (the device must respond to the GetTotalBytesSent and GetTotalBytesReceived actions) and Universal Plug and Play (UPnP) must be enabled.</span></span>

<span data-ttu-id="d76c6-119">Os BITS usarão a placa de interface de rede se:</span><span class="sxs-lookup"><span data-stu-id="d76c6-119">BITS will use the network interface card if:</span></span>

-   <span data-ttu-id="d76c6-120">O dispositivo de gateway não dá suporte aos contadores</span><span class="sxs-lookup"><span data-stu-id="d76c6-120">The gateway device does not support the counters</span></span>
-   <span data-ttu-id="d76c6-121">O UPnP não está habilitado</span><span class="sxs-lookup"><span data-stu-id="d76c6-121">UPnP is not enabled</span></span>
-   <span data-ttu-id="d76c6-122">O servidor está dentro da mesma sub-rede</span><span class="sxs-lookup"><span data-stu-id="d76c6-122">The server is within the same subnet</span></span>
-   <span data-ttu-id="d76c6-123">O dispositivo de gateway não retorna os dados do contador em menos de 200 tiques</span><span class="sxs-lookup"><span data-stu-id="d76c6-123">The gateway device does not return the counter data in less than 200 ticks</span></span>

<span data-ttu-id="d76c6-124">Se o usuário usar um perfil de rede pública, o perfil deverá permitir UPnP.</span><span class="sxs-lookup"><span data-stu-id="d76c6-124">If the user uses a public network profile, the profile must allow UPnP.</span></span> <span data-ttu-id="d76c6-125">Por padrão, os perfis de rede privada e de domínio permitem UPnP.</span><span class="sxs-lookup"><span data-stu-id="d76c6-125">By default, the private and domain network profiles do allow UPnP.</span></span>

<span data-ttu-id="d76c6-126">Se uma conexão VPN for usada, o BITS usará o primeiro dispositivo que o UPnP retorna.</span><span class="sxs-lookup"><span data-stu-id="d76c6-126">If a VPN connection is used, BITS uses the first device that UPnP returns.</span></span>