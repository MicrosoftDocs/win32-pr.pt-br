---
description: As propriedades usadas no sistema de propriedades do Windows Vista e posterior são declaradas em esquemas de propriedade.
ms.assetid: 4e301210-df3a-41db-a58e-015ee8d41714
title: Criando propriedades personalizadas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 90849383e25889edf7f3abd4704c36354eff153c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104296978"
---
# <a name="creating-custom-properties"></a><span data-ttu-id="69504-103">Criando propriedades personalizadas</span><span class="sxs-lookup"><span data-stu-id="69504-103">Creating Custom Properties</span></span>

<span data-ttu-id="69504-104">As propriedades usadas no sistema de propriedades do Windows Vista e posterior são declaradas em esquemas de propriedade.</span><span class="sxs-lookup"><span data-stu-id="69504-104">Properties used in the property system of Windows Vista and later are declared in property schemas.</span></span> <span data-ttu-id="69504-105">Esses esquemas de propriedade são definidos em arquivos XML e descrevem vários aspectos de uma propriedade, incluindo seu tipo (incluindo informações sobre seu tipo primitivo e se ele tem vários valores), como ele pode ser exibido na interface do usuário do Windows, que tipo de rótulos (cadeias de caracteres de edição amigáveis) devem ser usados com ele e como ele é armazenado em cache no repositório de pesquisa para acesso mais</span><span class="sxs-lookup"><span data-stu-id="69504-105">These property schemas are defined in XML files and describe various aspects of a property including its type (including information on its primitive type and whether it is multi-valued), how it can be displayed in the Windows UI, what kind of labels (user-friendly editing strings) are to be used with it, and how it is cached in the search store for faster access.</span></span> <span data-ttu-id="69504-106">As propriedades são identificadas por seu nome canônico ou sua chave de propriedade (PKEY).</span><span class="sxs-lookup"><span data-stu-id="69504-106">Properties are identified by their Canonical Name or their Property Key (PKEY).</span></span>

<span data-ttu-id="69504-107">Um nome canônico é o nome amigável para o leitor da propriedade e usa uma Convenção de namespace semelhante àquela usada em Microsoft .NET.</span><span class="sxs-lookup"><span data-stu-id="69504-107">A canonical name is the reader-friendly name of the property and uses a namespace convention similar to that used in Microsoft .NET.</span></span> <span data-ttu-id="69504-108">Para propriedades definidas pelo sistema (aquelas incluídas no Windows), a Convenção é `System.GroupName.PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="69504-108">For system-defined properties (those that are included with Windows), the convention is `System.GroupName.PropertyName`.</span></span> <span data-ttu-id="69504-109">Observe que o esquema de maiúsculas e minúsculas do Pascal, que usa letras maiúsculas no início de cada palavra, é usado nesses nomes.</span><span class="sxs-lookup"><span data-stu-id="69504-109">Note that the Pascal casing scheme, which capitalizes letters at the beginning of each word, is used in these names.</span></span> <span data-ttu-id="69504-110">Os nomes canônicos são usados em vários locais, incluindo listas de propriedades e nomes de colunas no cache de propriedades.</span><span class="sxs-lookup"><span data-stu-id="69504-110">Canonical names are used in various places including property lists and column names in the property cache.</span></span> <span data-ttu-id="69504-111">Portanto, eles são usados em consultas de linguagem SQL (SQL) para recuperar um valor de propriedade.</span><span class="sxs-lookup"><span data-stu-id="69504-111">They are therefore used in Structured Query Language (SQL) queries to retrieve a property value.</span></span>

<span data-ttu-id="69504-112">Um PKEY é um par de valores que consiste em um GUID e um **DWORD**, chamados de *FormatID* e *propID* , respectivamente.</span><span class="sxs-lookup"><span data-stu-id="69504-112">A PKEY is a pair of values consisting of a GUID and a **DWORD**, referred to as a *formatID* and *propID* respectively.</span></span> <span data-ttu-id="69504-113">Ele é representado por uma estrutura [**PROPERTYKEY**](/windows/win32/api/wtypes/ns-wtypes-propertykey) .</span><span class="sxs-lookup"><span data-stu-id="69504-113">It is represented by a [**PROPERTYKEY**](/windows/win32/api/wtypes/ns-wtypes-propertykey) structure.</span></span> <span data-ttu-id="69504-114">A maioria das APIs do sistema de propriedades aceita essas chaves de propriedade.</span><span class="sxs-lookup"><span data-stu-id="69504-114">Most of the property system APIs accept these property keys.</span></span> <span data-ttu-id="69504-115">O SDK (Software Development Kit) do Windows inclui o arquivo de cabeçalho Propkey. h que inclui uma definição de macro de cada uma das `System` chaves de propriedade com a Convenção de `PKEY_GroupName_PropertyName` .</span><span class="sxs-lookup"><span data-stu-id="69504-115">The Windows Software Development Kit (SDK) includes the header file Propkey.h that includes a macro definition of each of the `System` property keys with the convention of `PKEY_GroupName_PropertyName`.</span></span> <span data-ttu-id="69504-116">Por exemplo, `PKEY_Photo_DateTaken` é a chave de propriedade para a propriedade com nome canônico `System.Photo.DateTaken` .</span><span class="sxs-lookup"><span data-stu-id="69504-116">For example, `PKEY_Photo_DateTaken` is the property key for the property with canonical name `System.Photo.DateTaken`.</span></span> <span data-ttu-id="69504-117">Os valores de propriedade são armazenados na forma de uma estrutura [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) , que é uma extensão dos tipos de variante OLE.</span><span class="sxs-lookup"><span data-stu-id="69504-117">Property values are stored in the form of a [**PROPVARIANT**](/windows/win32/api/propidlbase/ns-propidlbase-propvariant) structure, which is an extension of the OLE VARIANT types.</span></span>

<span data-ttu-id="69504-118">Esta seção contém o tópico a seguir, que é integral para a criação de propriedades personalizadas:</span><span class="sxs-lookup"><span data-stu-id="69504-118">This section contains the following topic, which is integral to creating custom properties:</span></span>

-   [<span data-ttu-id="69504-119">Compreendendo o esquema de descrição da propriedade</span><span class="sxs-lookup"><span data-stu-id="69504-119">Understanding the Property Description Schema</span></span>](./propdesc-schema-entry.md)

> [!Note]  
> <span data-ttu-id="69504-120">Devido a possíveis dificuldades que o indexador pode ter ao consumir o esquema do sistema de propriedades, é fundamental que você defina atributos com cuidado e estrategicamente para a primeira versão do esquema.</span><span class="sxs-lookup"><span data-stu-id="69504-120">Due to potential difficulties that the indexer may have when consuming the property system's schema, it is critical that you define attributes carefully and strategically for the first release of the schema.</span></span> <span data-ttu-id="69504-121">Qualquer alteração nos atributos (tipo, largura da coluna, se indexible) não será refletida no banco de dados depois que um esquema tiver sido registrado.</span><span class="sxs-lookup"><span data-stu-id="69504-121">Any changes to attributes (type, column width, whether indexible) will not be reflected in the database after a schema has been registered.</span></span> <span data-ttu-id="69504-122">As únicas maneiras de ter essas alterações reconhecidas depois que o esquema foi registrado uma vez em um sistema seriam recriar o índice e, em seguida, registrar o novo esquema, ou registrar o esquema e, em seguida, criar uma nova propriedade para cada versão subsequente; por exemplo `PKEY_GroupName_PropertyNameV2` , `PKEY_GroupName_PropertyNameV3` , e assim por diante).</span><span class="sxs-lookup"><span data-stu-id="69504-122">The only ways to have these changes recognized after the schema has been registered once on a system would be either to rebuild the index and then register the new schema, or to register the schema and then create a new property for each subsequent release; for example `PKEY_GroupName_PropertyNameV2`, `PKEY_GroupName_PropertyNameV3`, and so forth).</span></span> <span data-ttu-id="69504-123">Não recomendamos a criação de novas propriedades dessa maneira, pois várias colunas estranhas podem afetar o desempenho do sistema.</span><span class="sxs-lookup"><span data-stu-id="69504-123">We do not recommend creating new properties in this manner, because multiple extraneous columns may impact system performance.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="69504-124">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="69504-124">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="69504-125">Implementando manipuladores de propriedade</span><span class="sxs-lookup"><span data-stu-id="69504-125">Implementing Property Handlers</span></span>](./building-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="69504-126">Esquema de descrição da propriedade</span><span class="sxs-lookup"><span data-stu-id="69504-126">Property Description Schema</span></span>](./propdesc-schema-entry.md)
</dt> </dl>

 

 
