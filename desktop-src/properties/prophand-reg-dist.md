---
description: Este artigo explica como registrar e distribuir manipuladores de propriedades para trabalhar com o Windows de propriedades.
ms.assetid: E6E81E04-9CC1-4df5-9A87-DE0CBD177356
title: Registrando e distribuindo manipuladores de propriedade
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ce53f0805c4db5efe38e77ba4e7d1ab5b331c83f
ms.sourcegitcommit: ecd0ba4732f5264aab9baa2839c11f7fea36318f
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/07/2021
ms.locfileid: "113481921"
---
# <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="e4fea-103">Registrando e distribuindo manipuladores de propriedade</span><span class="sxs-lookup"><span data-stu-id="e4fea-103">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="e4fea-104">Este tópico explica como criar e registrar manipuladores de propriedades para trabalhar com o Windows de propriedades.</span><span class="sxs-lookup"><span data-stu-id="e4fea-104">This topic explains how to create and register property handlers to work with the Windows property system.</span></span>

<span data-ttu-id="e4fea-105">Este tópico é organizado da seguinte forma:</span><span class="sxs-lookup"><span data-stu-id="e4fea-105">This topic is organized as follows:</span></span>

-   [<span data-ttu-id="e4fea-106">Registrando e distribuindo manipuladores de propriedade</span><span class="sxs-lookup"><span data-stu-id="e4fea-106">Registering and Distributing Property Handlers</span></span>](#registering-and-distributing-property-handlers)
-   [<span data-ttu-id="e4fea-107">Considerações sobre desempenho e confiabilidade para manipuladores de propriedades</span><span class="sxs-lookup"><span data-stu-id="e4fea-107">Performance and Reliability Considerations for Property Handlers</span></span>](#performance-and-reliability-considerations-for-property-handlers)
    -   [<span data-ttu-id="e4fea-108">Diretrizes para desempenho e confiabilidade</span><span class="sxs-lookup"><span data-stu-id="e4fea-108">Guidelines for Performance and Reliability</span></span>](#guidelines-for-performance-and-reliability)
-   [<span data-ttu-id="e4fea-109">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="e4fea-109">Related topics</span></span>](#related-topics)

## <a name="registering-and-distributing-property-handlers"></a><span data-ttu-id="e4fea-110">Registrando e distribuindo manipuladores de propriedade</span><span class="sxs-lookup"><span data-stu-id="e4fea-110">Registering and Distributing Property Handlers</span></span>

<span data-ttu-id="e4fea-111">Depois que o manipulador de propriedades é implementado, ele deve ser registrado e sua extensão de nome de arquivo deve ser associada ao manipulador.</span><span class="sxs-lookup"><span data-stu-id="e4fea-111">After the property handler is implemented, it must be registered and its file name extension must be associated with the handler.</span></span> <span data-ttu-id="e4fea-112">O exemplo a seguir usando a extensão .recipe ilustra as entradas necessárias do Registro para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="e4fea-112">The following example using the .recipe extension illustrates the required registry entries to do so.</span></span>

```
HKEY_CLASSES_ROOT
   CLSID
      {50d9450f-2a80-4f08-93b9-2eb526477d1a}
         (Default) = Recipe Property Handler
         ManualSafeSave [REG_DWORD] = 00000001
         InProcServer32
            (Default) = C:\\SDK\\PropertyHandlerSample\\bin\\RecipeHandlers.dll
            ThreadingModel = Apartment
HKEY_LOCAL_MACHINE
   SOFTWARE
      Microsoft
         Windows
            CurrentVersion
               PropertySystem
                  PropertyHandlers
                     .recipe
                        (Default) = {50d9450f-2a80-4f08-93b9-2eb526477d1a}
```

<span data-ttu-id="e4fea-113">Manipuladores de propriedade para um tipo de arquivo específico são normalmente distribuídos com os aplicativos que criam ou manipulam arquivos desse tipo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-113">Property handlers for a particular file type are commonly distributed with the application(s) that create or manipulate files of that type.</span></span> <span data-ttu-id="e4fea-114">No entanto, você também deve considerar disponibilizar seus manipuladores de propriedades independentemente desses aplicativos para dar suporte à indexação do tipo de arquivo em cenários de servidor em que os manipuladores de propriedades são usados pelo indexador, mas seus aplicativos que o acompanham não são necessários.</span><span class="sxs-lookup"><span data-stu-id="e4fea-114">However, you should also consider making your property handlers available independently of these applications to support indexing of your file type in server scenarios where property handlers are used by the indexer, but their accompanying applications are not required.</span></span> <span data-ttu-id="e4fea-115">Se você criar um pacote de instalação autônomo para o manipulador de propriedades, certifique-se de que ele inclua o seguinte:</span><span class="sxs-lookup"><span data-stu-id="e4fea-115">If you create a stand-alone installation package for your property handler, be sure that it includes the following:</span></span>

-   <span data-ttu-id="e4fea-116">Os detalhes de registro do manipulador de propriedades especificados no tópico [Registrando e distribuindo manipuladores de propriedade]().</span><span class="sxs-lookup"><span data-stu-id="e4fea-116">The property handler registration details specified in the topic [Registering and Distributing Property Handlers]().</span></span>
-   <span data-ttu-id="e4fea-117">Registro para o tipo de arquivo e todos os arquivos de esquema que devem ser instalados, para permitir que os clientes acessem todos os recursos do manipulador de propriedades.</span><span class="sxs-lookup"><span data-stu-id="e4fea-117">Registration for your file type and any schema files that must be installed, to enable clients to access all the features of your property handler.</span></span>

## <a name="performance-and-reliability-considerations-for-property-handlers"></a><span data-ttu-id="e4fea-118">Considerações sobre desempenho e confiabilidade para manipuladores de propriedades</span><span class="sxs-lookup"><span data-stu-id="e4fea-118">Performance and Reliability Considerations for Property Handlers</span></span>

<span data-ttu-id="e4fea-119">Manipuladores de propriedade são invocados para cada arquivo em um computador específico.</span><span class="sxs-lookup"><span data-stu-id="e4fea-119">Property handlers are invoked for each file on a particular computer.</span></span> <span data-ttu-id="e4fea-120">Normalmente, eles são chamados nas seguintes circunstâncias:</span><span class="sxs-lookup"><span data-stu-id="e4fea-120">They are usually called under the following circumstances:</span></span>

-   <span data-ttu-id="e4fea-121">Durante a indexação do arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-121">During indexing of the file.</span></span> <span data-ttu-id="e4fea-122">Isso é feito fora do processo, em um processo isolado com direitos restritos.</span><span class="sxs-lookup"><span data-stu-id="e4fea-122">This is done out-of-process, in an isolated process with restricted rights.</span></span>
-   <span data-ttu-id="e4fea-123">Quando os arquivos são acessados no Windows Explorer com a finalidade de ler e escrever valores de propriedade.</span><span class="sxs-lookup"><span data-stu-id="e4fea-123">When files are accessed in Windows Explorer for the purpose of reading and writing property values.</span></span> <span data-ttu-id="e4fea-124">Isso é feito em processo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-124">This is done in-process.</span></span>

### <a name="guidelines-for-performance-and-reliability"></a><span data-ttu-id="e4fea-125">Diretrizes para desempenho e confiabilidade</span><span class="sxs-lookup"><span data-stu-id="e4fea-125">Guidelines for Performance and Reliability</span></span>

<span data-ttu-id="e4fea-126">A qualquer momento, um usuário pode ter dezenas de milhares de arquivos de qualquer tipo específico (incluindo o seu) em seus computadores e pode acessar ou modificar qualquer ou todos esses arquivos a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="e4fea-126">At any time, a user might have tens of thousands of files of any specific type (including yours) on his or her computers, and could access or modify any or all of these files at any time.</span></span> <span data-ttu-id="e4fea-127">Como os manipuladores de propriedades são frequentemente invocados para dar suporte a essas operações de acesso e modificação, as características de desempenho e confiabilidade do manipulador de propriedades em ambientes ocupados e altamente simultâneos são de importância crítica.</span><span class="sxs-lookup"><span data-stu-id="e4fea-127">Because property handlers are frequently invoked to support these access and modify operations, the performance and reliability characteristics of your property handler in busy, highly concurrent environments is of critical importance.</span></span>

<span data-ttu-id="e4fea-128">Tenha em mente as diretrizes a seguir conforme você está desenvolvendo e testando seu manipulador de propriedades.</span><span class="sxs-lookup"><span data-stu-id="e4fea-128">Keep in mind the following guidelines as you are developing and testing your property handler.</span></span>

-   <span data-ttu-id="e4fea-129">**Enumeração de propriedade**</span><span class="sxs-lookup"><span data-stu-id="e4fea-129">**Property enumeration**</span></span>

    <span data-ttu-id="e4fea-130">Os manipuladores de propriedades devem ter um tempo de resposta muito rápido na enumeração de suas propriedades.</span><span class="sxs-lookup"><span data-stu-id="e4fea-130">Property handlers should have a very fast response time in enumerating their properties.</span></span> <span data-ttu-id="e4fea-131">Cálculos com uso intensivo de memória de valores de propriedade, pesquisas de rede ou a pesquisa de recursos diferentes do próprio arquivo devem ser evitados para garantir tempos de resposta rápidos.</span><span class="sxs-lookup"><span data-stu-id="e4fea-131">Memory-intensive calculations of property values, network lookups, or the search for resources other than the file itself should be avoided to ensure fast response times.</span></span>

-   <span data-ttu-id="e4fea-132">**Escrita de propriedade in-in-place**</span><span class="sxs-lookup"><span data-stu-id="e4fea-132">**In-place property writing**</span></span>

    <span data-ttu-id="e4fea-133">Se possível, ao lidar com arquivos médios ou grandes (várias centenas de KB ou maiores), o formato de arquivo deve ser organizado para que a leitura ou a escrita de valores de propriedade não exigem a leitura de todo o arquivo do disco.</span><span class="sxs-lookup"><span data-stu-id="e4fea-133">If possible, when dealing with medium-sized or large files (several hundred KB or larger), the file format should be arranged so that reading or writing property values does not require reading the whole file from disk.</span></span> <span data-ttu-id="e4fea-134">Mesmo que o arquivo precise ser procurado, ele não deve ser lido na memória em sua totalidade porque isso sobrecarra o conjunto de trabalho do Windows Explorer ou do indexador Windows Search enquanto eles tentam acessar ou indexar esses arquivos.</span><span class="sxs-lookup"><span data-stu-id="e4fea-134">Even if the file needs to be sought, it should not be read into memory in its entirety because that bloats the working set of Windows Explorer or the Windows Search indexer as they try to access or index these files.</span></span> <span data-ttu-id="e4fea-135">Para obter mais informações, consulte [Inicializando manipuladores de propriedade](./building-property-handlers-property-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="e4fea-135">For more information, see [Initializing Property Handlers](./building-property-handlers-property-handlers.md).</span></span>

    <span data-ttu-id="e4fea-136">Uma técnica útil para fazer isso é colocar o título do arquivo com espaço extra para que, na próxima vez que um valor da propriedade precisar ser gravado, o valor possa ser gravado no local sem a necessidade de reescrever todo o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-136">One useful technique to accomplish this is to pad the header of the file with extra space so that the next time a property value needs to be written, the value can be written in place without needing to rewrite the entire file.</span></span> <span data-ttu-id="e4fea-137">Isso requer a funcionalidade ManualSafeSave.</span><span class="sxs-lookup"><span data-stu-id="e4fea-137">This requires the ManualSafeSave functionality.</span></span> <span data-ttu-id="e4fea-138">Essa abordagem envolve algum risco extra de que a operação de gravação de arquivo possa ser interrompida enquanto a gravação está em andamento (devido a uma falha do sistema ou perda de energia), mas como os tamanhos de propriedade geralmente são pequenos, a probabilidade dessa interrupção é semelhantemente pequena e os ganhos de desempenho que podem ser obtidos por meio da gravação de propriedade in-loco são considerados significativos o suficiente para justificar esse risco adicional.</span><span class="sxs-lookup"><span data-stu-id="e4fea-138">This approach involves some extra risk that the file write operation might be interrupted while the write is in progress (due to a system crash or power loss), but because property sizes are generally small, the probability of such an interruption is similarly small, and the performance gains that can be realized through in-place property writing are considered significant enough to justify this additional risk.</span></span> <span data-ttu-id="e4fea-139">Mesmo assim, você deve ter cuidado para testar extensivamente sua implementação para garantir que seus arquivos não sejam corrompidos caso uma falha surja no decorrer de uma operação de gravação.</span><span class="sxs-lookup"><span data-stu-id="e4fea-139">Even so, you should take care to test your implementation extensively to ensure that your files are not corrupted in the event that a failure does arise in the course of a write operation.</span></span>

    <span data-ttu-id="e4fea-140">Por fim, ao implementar a escrita de propriedade in-loco com ManualSafeSave, às vezes, a operação não pode ser executada in-loco e todo o fluxo deve ser reescrito mesmo assim.</span><span class="sxs-lookup"><span data-stu-id="e4fea-140">Finally, when implementing in-place property writing with ManualSafeSave, sometimes the operation cannot be performed in-place, and the whole stream must be rewritten anyway.</span></span> <span data-ttu-id="e4fea-141">Para facilitar a reescrita, o fluxo fornecido durante a inicialização do manipulador dá suporte à interface [**IDestinationStreamFactory.**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory)</span><span class="sxs-lookup"><span data-stu-id="e4fea-141">To facilitate the rewrite, the stream provided during handler initialization supports the [**IDestinationStreamFactory**](/windows/win32/api/shobjidl_core/nn-shobjidl_core-idestinationstreamfactory) interface.</span></span> <span data-ttu-id="e4fea-142">A interface **IDestinationStreamFactory** permite que as implementações de manipulador obtenham um fluxo temporário para escrita; quando todas as gravações são concluídas e o método [**IDestinationStreamFactory::GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) é chamado, esse fluxo é usado para substituir totalmente o fluxo de arquivos original.</span><span class="sxs-lookup"><span data-stu-id="e4fea-142">The **IDestinationStreamFactory** interface enables handler implementations to obtain a temporary stream for writing; when all writes are completed and the [**IDestinationStreamFactory::GetDestinationStream**](/windows/win32/api/shobjidl_core/nf-shobjidl_core-idestinationstreamfactory-getdestinationstream) method is called, this stream is used to fully replace the original file stream.</span></span> <span data-ttu-id="e4fea-143">Quando o fluxo de destino é usado, o fluxo de arquivos original deve ser tratado como somente leitura, porque ele será substituído pelo fluxo de destino depois que o método **IDestinationStreamFactory::GetDestinationStream** tiver sido chamado.</span><span class="sxs-lookup"><span data-stu-id="e4fea-143">When the destination stream is used, the original file stream should be treated as read-only, because it will be replaced by the destination stream after the **IDestinationStreamFactory::GetDestinationStream** method has been called.</span></span>

-   <span data-ttu-id="e4fea-144">**Escolhendo seu modelo de threading COM**</span><span class="sxs-lookup"><span data-stu-id="e4fea-144">**Choosing your COM threading model**</span></span>

    <span data-ttu-id="e4fea-145">Para maximizar a eficiência do manipulador de propriedades, você deve especificar que ele usa o modelo de threading COM `Both` .</span><span class="sxs-lookup"><span data-stu-id="e4fea-145">To maximize the efficiency of your property handler, you should specify that it uses the COM threading model `Both`.</span></span> <span data-ttu-id="e4fea-146">Isso permite o acesso direto de apartments STA (Windows Explorer, por exemplo) e apartments do MTA (agente de transferência de mensagens) (o processo SearchProtocolHost no Windows Search, por exemplo), evitando a sobrecarga de marshaling nesses ambientes.</span><span class="sxs-lookup"><span data-stu-id="e4fea-146">This enables direct access from STA apartments (Windows Explorer, for example) and message transfer agent (MTA) apartments (the SearchProtocolHost process in Windows Search, for example), avoiding the overhead of marshaling in those environments.</span></span> <span data-ttu-id="e4fea-147">Para obter o benefício completo do modelo de threading, todos os serviços dos quais o manipulador depende também devem ser designados como para evitar marshaling em chamadas para `Both` `Both` esses componentes.</span><span class="sxs-lookup"><span data-stu-id="e4fea-147">To achieve the full benefit of the `Both` threading model, any services on which your handler depends should also be designated as `Both` to avoid any marshaling in calls to those components.</span></span> <span data-ttu-id="e4fea-148">Verifique a documentação desses serviços específicos para verificar se eles usam esse modelo de threading.</span><span class="sxs-lookup"><span data-stu-id="e4fea-148">Check the documentation of these particular services to verify whether they use this threading model.</span></span>

-   <span data-ttu-id="e4fea-149">**Concurrency do manipulador de propriedades**</span><span class="sxs-lookup"><span data-stu-id="e4fea-149">**Property handler concurrency**</span></span>

    <span data-ttu-id="e4fea-150">Os manipuladores de propriedades e a interface [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) são projetados para acesso serial em vez de simultâneo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-150">Property handlers and the [**IPropertyStore**](/windows/win32/api/propsys/nn-propsys-ipropertystore) interface are designed for serial rather than concurrent access.</span></span> <span data-ttu-id="e4fea-151">Windows Explorer, o indexador Windows Search e todas as outras invocações do manipulador de propriedades da base Windows código garantem esse uso.</span><span class="sxs-lookup"><span data-stu-id="e4fea-151">Windows Explorer, the Windows Search indexer, and all other property handler invocations from the Windows codebase guarantee this usage.</span></span> <span data-ttu-id="e4fea-152">Não deve haver motivo para terceiros usarem um manipulador de propriedades simultaneamente, mas esse comportamento não pode ser garantido.</span><span class="sxs-lookup"><span data-stu-id="e4fea-152">There should be no reason for third parties to use a property handler concurrently, but this behavior cannot be guaranteed.</span></span> <span data-ttu-id="e4fea-153">Além disso, embora se espera que o padrão de chamada seja serial, as chamadas podem vir em threads diferentes (por exemplo, quando o objeto está sendo chamado remotamente por meio de COM RPC, como ocorre no indexador).</span><span class="sxs-lookup"><span data-stu-id="e4fea-153">Also, even though the calling pattern is expected to be serial, the calls may come on different threads (for instance, when the object is being called remotely via COM RPC, as occurs in the indexer).</span></span> <span data-ttu-id="e4fea-154">Portanto, as implementações do manipulador de propriedades devem dar suporte a serem chamadas em threads diferentes e, idealmente, não devem sofrer efeitos colaterais quando chamadas simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="e4fea-154">Therefore, property handler implementations must support being called on different threads, and ideally should not suffer any ill effects when called concurrently.</span></span> <span data-ttu-id="e4fea-155">Como o padrão de chamada pretendido é serial, uma implementação trivial usando uma seção crítica deve ser suficiente para atender a esses requisitos na maioria dos casos.</span><span class="sxs-lookup"><span data-stu-id="e4fea-155">Because the intended calling pattern is serial, a trivial implementation using a critical section should be sufficient to meet these requirements in most cases.</span></span> <span data-ttu-id="e4fea-156">É aceitável evitar o bloqueio em chamadas simultâneas usando a [**função TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) para detectar e falhar chamadas simultâneas.</span><span class="sxs-lookup"><span data-stu-id="e4fea-156">It is acceptable to avoid blocking on concurrent calls by using the [**TryEnterCriticalSection**](/windows/win32/api/synchapi/nf-synchapi-tryentercriticalsection) function to detect and fail concurrent calls.</span></span>

-   <span data-ttu-id="e4fea-157">**Concurreência de arquivo**</span><span class="sxs-lookup"><span data-stu-id="e4fea-157">**File concurrency**</span></span>

    <span data-ttu-id="e4fea-158">Manipuladores de propriedades geralmente são usados em cenários em que vários aplicativos acessam um arquivo simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="e4fea-158">Property handlers are often used in scenarios where multiple applications access a file concurrently.</span></span> <span data-ttu-id="e4fea-159">Portanto, o manipulador e os aplicativos precisam gerenciar a simultrreidade especificando os modos de compartilhamento apropriados ao abrir o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-159">Hence, the handler and the applications need to manage the concurrency by specifying appropriate sharing modes when opening the file.</span></span> <span data-ttu-id="e4fea-160">Eles também precisam estar cientes do acesso que os outros aplicativos especificam e para gerenciar casos em que o acesso não é permitido.</span><span class="sxs-lookup"><span data-stu-id="e4fea-160">They also need to be aware of the access that the other applications specify and to manage cases where access is not allowed.</span></span> <span data-ttu-id="e4fea-161">É melhor que todos os consumidores especifiquem modos de compartilhamento de dados para permitir que outras pessoas acessem o arquivo simultaneamente, mas, ao fazer isso, os problemas de consistência precisam ser gerenciados.</span><span class="sxs-lookup"><span data-stu-id="e4fea-161">It is best if all consumers specify liberal sharing modes to enable others to access the file concurrently, but when doing this, consistency issues need to be managed.</span></span> <span data-ttu-id="e4fea-162">As decisões sobre os modos de compartilhamento mais apropriados a serem usados precisam ser tomadas no contexto da comunidade de aplicativos que acessam o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-162">Decisions on the most appropriate sharing modes to be used need to be made in the context of the community of applications that access the file.</span></span>

    <span data-ttu-id="e4fea-163">Os sistemas de arquivos permitem que os aplicativos abram arquivos de uma maneira que dê a eles controle sobre se e como outros aplicativos podem abrir o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-163">File systems enable applications to open files in a way that gives them control over whether and how other applications can open the file.</span></span> <span data-ttu-id="e4fea-164">Os modos de compartilhamento permitem acesso de leitura, gravação e exclusão.</span><span class="sxs-lookup"><span data-stu-id="e4fea-164">Sharing modes enable read, write, and delete access.</span></span> <span data-ttu-id="e4fea-165">O sistema de propriedades dá suporte a um subconjunto desses modos de compartilhamento, descrito na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="e4fea-165">The property system supports a subset of these sharing modes, outlined in the following table.</span></span>

    

    | <span data-ttu-id="e4fea-166">Modo de acesso</span><span class="sxs-lookup"><span data-stu-id="e4fea-166">Access mode</span></span>                     | <span data-ttu-id="e4fea-167">Modo de compartilhamento</span><span class="sxs-lookup"><span data-stu-id="e4fea-167">Sharing mode</span></span>                             |
    |---------------------------------|------------------------------------------|
    | <span data-ttu-id="e4fea-168">Gravar</span><span class="sxs-lookup"><span data-stu-id="e4fea-168">Write</span></span>                           | <span data-ttu-id="e4fea-169">Negar outros leitores e autores</span><span class="sxs-lookup"><span data-stu-id="e4fea-169">Deny other readers and writers</span></span>           |
    | <span data-ttu-id="e4fea-170">Gravação (EnableShareDenyWrite)</span><span class="sxs-lookup"><span data-stu-id="e4fea-170">Write (EnableShareDenyWrite)</span></span>    | <span data-ttu-id="e4fea-171">Habilitar outros leitores, negar outros autores</span><span class="sxs-lookup"><span data-stu-id="e4fea-171">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="e4fea-172">Somente leitura (padrão)</span><span class="sxs-lookup"><span data-stu-id="e4fea-172">Read-only (default)</span></span>             | <span data-ttu-id="e4fea-173">Habilitar outros leitores, negar outros autores</span><span class="sxs-lookup"><span data-stu-id="e4fea-173">Enable other readers, deny other writers</span></span> |
    | <span data-ttu-id="e4fea-174">Somente leitura (EnableShareDenyNone)</span><span class="sxs-lookup"><span data-stu-id="e4fea-174">Read-only (EnableShareDenyNone)</span></span> | <span data-ttu-id="e4fea-175">Habilitar outros leitores e autores</span><span class="sxs-lookup"><span data-stu-id="e4fea-175">Enable other readers and writers</span></span>         |

    

     

    <span data-ttu-id="e4fea-176">Manipuladores de propriedades abertos **para gravação** (GPS \_ READWRITE) negarão outros leitores e autores.</span><span class="sxs-lookup"><span data-stu-id="e4fea-176">Property handlers open for **write** (GPS\_READWRITE) will deny other readers and writers.</span></span> <span data-ttu-id="e4fea-177">Os manipuladores podem optar por um comportamento que habilita os leitores especificando o sinalizador (implicando habilitar `EnableShareDenyWrite` Leitura) em seu registro.</span><span class="sxs-lookup"><span data-stu-id="e4fea-177">Handlers can opt into behavior that enables readers by specifying the `EnableShareDenyWrite` flag (implying enable Read) in its registration.</span></span>

    <span data-ttu-id="e4fea-178">Manipuladores de propriedades abertos para **leitura** (GPS \_ DEFAULT), por padrão habilitam outros leitores, mas negam outros autores.</span><span class="sxs-lookup"><span data-stu-id="e4fea-178">Property handlers open for **read** (GPS\_DEFAULT), by default enable other readers but deny other writers.</span></span> <span data-ttu-id="e4fea-179">Os manipuladores podem optar por habilenciar outros autores especificando o `EnableShareDenyNone` sinalizador em seu registro.</span><span class="sxs-lookup"><span data-stu-id="e4fea-179">Handlers can opt into enabling other writers by specifying the `EnableShareDenyNone` flag in its registration.</span></span> <span data-ttu-id="e4fea-180">Isso significa que um manipulador pode lidar com uma situação na qual o conteúdo de um arquivo muda enquanto o manipulador está lendo o arquivo.</span><span class="sxs-lookup"><span data-stu-id="e4fea-180">This means that a handler can successfully handle a situation in which the content of a file changes while the handler is reading the file.</span></span>

    <span data-ttu-id="e4fea-181">Para definições de sinalizador, [**consulte GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span><span class="sxs-lookup"><span data-stu-id="e4fea-181">For flag definitions, see [**GETPROPERTYSTOREFLAGS**](/windows/win32/api/propsys/ne-propsys-getpropertystoreflags).</span></span>

## <a name="related-topics"></a><span data-ttu-id="e4fea-182">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="e4fea-182">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="e4fea-183">Noções básicas sobre manipuladores de propriedade</span><span class="sxs-lookup"><span data-stu-id="e4fea-183">Understanding Property Handlers</span></span>](./building-property-handlers-properties.md)
</dt> <dt>

[<span data-ttu-id="e4fea-184">Usando nomes de tipo</span><span class="sxs-lookup"><span data-stu-id="e4fea-184">Using Kind Names</span></span>](./building-property-handlers-user-friendly-kind-names.md)
</dt> <dt>

[<span data-ttu-id="e4fea-185">Usando listas de propriedades</span><span class="sxs-lookup"><span data-stu-id="e4fea-185">Using Property Lists</span></span>](./building-property-handlers-property-lists.md)
</dt> <dt>

[<span data-ttu-id="e4fea-186">Inicializando manipuladores de propriedades</span><span class="sxs-lookup"><span data-stu-id="e4fea-186">Initializing Property Handlers</span></span>](./building-property-handlers-property-handlers.md)
</dt> <dt>

[<span data-ttu-id="e4fea-187">Práticas recomendadas e perguntas frequentes do manipulador de propriedades</span><span class="sxs-lookup"><span data-stu-id="e4fea-187">Property Handler Best Practices and FAQ</span></span>](./prophand-bestprac-faq.yml)
</dt> </dl>

 

 
