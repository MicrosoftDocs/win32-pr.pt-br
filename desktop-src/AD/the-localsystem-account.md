---
title: Usando a conta LocalSystem como uma conta de logon de serviço
description: Uma vantagem de ser executada na conta LocalSystem é que o serviço concluiu o acesso irrestrito aos recursos locais.
ms.assetid: 2bc2e16d-bd25-4ec6-91a2-8d03052df021
ms.tgt_platform: multiple
keywords:
- conta LocalSystem
- LocalSystem
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bec3826984e28e29d3156b784da229f8e53e34e
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "103915931"
---
# <a name="using-the-localsystem-account-as-a-service-logon-account"></a><span data-ttu-id="c6108-105">Usando a conta LocalSystem como uma conta de logon de serviço</span><span class="sxs-lookup"><span data-stu-id="c6108-105">Using the LocalSystem Account as a Service Logon Account</span></span>

<span data-ttu-id="c6108-106">Uma vantagem de ser executada na conta LocalSystem é que o serviço concluiu o acesso irrestrito aos recursos locais.</span><span class="sxs-lookup"><span data-stu-id="c6108-106">One advantage of running under the LocalSystem account is that the service has complete unrestricted access to local resources.</span></span> <span data-ttu-id="c6108-107">Isso também é a desvantagem do LocalSystem porque um serviço LocalSystem pode fazer coisas que desativariam todo o sistema.</span><span class="sxs-lookup"><span data-stu-id="c6108-107">This is also the disadvantage of LocalSystem because a LocalSystem service can do things that would bring down the entire system.</span></span> <span data-ttu-id="c6108-108">Em particular, um serviço em execução como LocalSystem em um DC (controlador de domínio) tem acesso irrestrito ao Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="c6108-108">In particular, a service running as LocalSystem on a domain controller (DC) has unrestricted access to Active Directory Domain Services.</span></span> <span data-ttu-id="c6108-109">Isso significa que os bugs no serviço ou ataques de segurança no serviço podem danificar o sistema ou, se o serviço estiver em um controlador de domínio, danificar toda a rede corporativa.</span><span class="sxs-lookup"><span data-stu-id="c6108-109">This means that bugs in the service, or security attacks on the service, can damage the system or, if the service is on a DC, damage the entire enterprise network.</span></span>

<span data-ttu-id="c6108-110">Por esses motivos, os administradores de domínio em instalações confidenciais terão cuidado ao permitir que os serviços sejam executados como LocalSystem.</span><span class="sxs-lookup"><span data-stu-id="c6108-110">For these reasons, domain administrators at sensitive installations will be cautious about allowing services to run as LocalSystem.</span></span> <span data-ttu-id="c6108-111">Na verdade, eles podem ter políticas em relação a ele, especialmente em DCs.</span><span class="sxs-lookup"><span data-stu-id="c6108-111">In fact, they may have policies against it, especially on DCs.</span></span> <span data-ttu-id="c6108-112">Se o seu serviço deve ser executado como LocalSystem, a documentação do seu serviço deve justificar aos administradores de domínio os motivos para conceder ao serviço o direito de execução em privilégios elevados.</span><span class="sxs-lookup"><span data-stu-id="c6108-112">If your service must run as LocalSystem, the documentation for your service should justify to domain administrators the reasons for granting the service the right to run at elevated privileges.</span></span> <span data-ttu-id="c6108-113">Os serviços nunca devem ser executados como LocalSystem em um controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="c6108-113">Services should never run as LocalSystem on a domain controller.</span></span> <span data-ttu-id="c6108-114">Para obter mais informações e um exemplo de código que mostra como um serviço ou instalador de serviço pode determinar se está em execução em um controlador de domínio, consulte [testando se em execução em um controlador de domínio](testing-whether-running-on-a-domain-controller.md).</span><span class="sxs-lookup"><span data-stu-id="c6108-114">For more information and a code example that shows how a service or service installer can determine if it is running on a domain controller, see [Testing Whether Running on a Domain Controller](testing-whether-running-on-a-domain-controller.md).</span></span>

<span data-ttu-id="c6108-115">Quando um serviço é executado na conta LocalSystem em um computador que é membro do domínio, o serviço tem qualquer acesso à rede concedido à conta do computador ou a qualquer grupo do qual a conta do computador seja membro.</span><span class="sxs-lookup"><span data-stu-id="c6108-115">When a service runs under the LocalSystem account on a computer that is a domain member, the service has whatever network access is granted to the computer account, or to any groups of which the computer account is a member.</span></span> <span data-ttu-id="c6108-116">Lembre-se de que, no Windows 2000, uma conta de computador de domínio é uma entidade de serviço, semelhante a uma conta de usuário.</span><span class="sxs-lookup"><span data-stu-id="c6108-116">Be aware that in Windows 2000, a domain computer account is a service principal, similar to a user account.</span></span> <span data-ttu-id="c6108-117">Isso significa que uma conta de computador pode estar em um grupo de segurança e uma ACE em um descritor de segurança pode conceder acesso a uma conta de computador.</span><span class="sxs-lookup"><span data-stu-id="c6108-117">This means that a computer account can be in a security group, and an ACE in a security descriptor can grant access to a computer account.</span></span> <span data-ttu-id="c6108-118">Lembre-se de que a adição de contas de computador a grupos não é recomendada por dois motivos:</span><span class="sxs-lookup"><span data-stu-id="c6108-118">Be aware that adding computer accounts to groups is not recommended for two reasons:</span></span>

-   <span data-ttu-id="c6108-119">As contas de computador estão sujeitas à exclusão e à recriação se o computador sair e, em seguida, ingressar novamente no domínio.</span><span class="sxs-lookup"><span data-stu-id="c6108-119">Computer accounts are subject to deletion and re-creation if the computer leaves and then rejoins the domain.</span></span>
-   <span data-ttu-id="c6108-120">Se você adicionar uma conta de computador a um grupo, todos os serviços em execução como LocalSystem nesse computador terão permissão para acessar os direitos de acesso do grupo.</span><span class="sxs-lookup"><span data-stu-id="c6108-120">If you add a computer account to a group, all services running as LocalSystem on that computer are permitted the access rights of the group.</span></span> <span data-ttu-id="c6108-121">Isso ocorre porque todos os serviços LocalSystem compartilham a conta de computador de seu servidor host.</span><span class="sxs-lookup"><span data-stu-id="c6108-121">This is because all LocalSystem services share the computer account of their host server.</span></span> <span data-ttu-id="c6108-122">Por esse motivo, é particularmente importante que as contas de computador não sejam membros de nenhum grupo de administradores de domínio.</span><span class="sxs-lookup"><span data-stu-id="c6108-122">For this reason, it is particularly important that computer accounts not be made members of any domain administrator groups.</span></span>

<span data-ttu-id="c6108-123">As contas de computador normalmente têm poucos privilégios e não pertencem a grupos.</span><span class="sxs-lookup"><span data-stu-id="c6108-123">Computer accounts typically have few privileges and do not belong to groups.</span></span> <span data-ttu-id="c6108-124">A proteção de ACL padrão no Active Directory Domain Services permite o acesso mínimo para contas de computador.</span><span class="sxs-lookup"><span data-stu-id="c6108-124">The default ACL protection in Active Directory Domain Services permits minimal access for computer accounts.</span></span> <span data-ttu-id="c6108-125">Consequentemente, os serviços executados como LocalSystem, em computadores que não sejam DCs, têm apenas acesso mínimo ao Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="c6108-125">Consequently, services running as LocalSystem, on computers other than DCs, have only minimal access to Active Directory Domain Services.</span></span>

<span data-ttu-id="c6108-126">Se o serviço for executado em LocalSystem, você deverá testar seu serviço em um servidor membro para garantir que o serviço tenha direitos suficientes para ler/gravar em controladores de Domínio do Active Directory.</span><span class="sxs-lookup"><span data-stu-id="c6108-126">If your service runs under LocalSystem, you must test your service on a member server to ensure that your service has sufficient rights to read/write to Active Directory Domain Controllers.</span></span> <span data-ttu-id="c6108-127">Um controlador de domínio não deve ser o único computador Windows no qual você testa seu serviço.</span><span class="sxs-lookup"><span data-stu-id="c6108-127">A domain controller should not be the only Windows computer on which you test your service.</span></span> <span data-ttu-id="c6108-128">Lembre-se de que um serviço em execução no LocalSystem em um controlador de domínio do Windows tem acesso completo ao Active Directory Domain Services e que um servidor membro é executado no contexto da conta do computador que tem substancialmente menos direitos.</span><span class="sxs-lookup"><span data-stu-id="c6108-128">Be aware that a service running under LocalSystem on a Windows domain controller has complete access to Active Directory Domain Services and that a member server runs in the context of the computer account which has substantially fewer rights.</span></span>

 

 




