---
title: Enumerando réplicas de uma partição de diretório de aplicativo
description: Este tópico mostra como enumerar as réplicas para uma partição de diretório de aplicativo.
ms.assetid: a1d6865b-ec77-4687-9da7-7fc717568bda
ms.tgt_platform: multiple
keywords:
- Enumerando réplicas de um AD de partição de diretório de aplicativo
- Partições de diretório de aplicativos AD, enumerando réplicas de
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d1415c147fe4320e5f8169487a656db4f365f03a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103917137"
---
# <a name="enumerating-replicas-of-an-application-directory-partition"></a><span data-ttu-id="1bd20-105">Enumerando réplicas de uma partição de diretório de aplicativo</span><span class="sxs-lookup"><span data-stu-id="1bd20-105">Enumerating Replicas of an Application Directory Partition</span></span>

<span data-ttu-id="1bd20-106">Quando uma réplica de uma partição de diretório de aplicativo é adicionada, o nome distinto do objeto [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) para o controlador de domínio que conterá a réplica é adicionado ao atributo [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) do objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="1bd20-106">When a replica of an application directory partition is added, the distinguished name of the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object for the domain controller that will contain the replica is added to the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="1bd20-107">O objeto **crossRef** usado representa a partição de diretório do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1bd20-107">The **crossRef** object used represents the application directory partition.</span></span>

<span data-ttu-id="1bd20-108">**Para enumerar as réplicas para uma partição de diretório de aplicativo**</span><span class="sxs-lookup"><span data-stu-id="1bd20-108">**To enumerate the replicas for an application directory partition**</span></span>

1.  <span data-ttu-id="1bd20-109">Pesquise o contêiner partições para obter um objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) que tenha um valor de atributo [**NCName**](/windows/desktop/ADSchema/a-ncname) igual ao nome distinto da partição de diretório do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1bd20-109">Search the Partitions container for a [**crossRef**](/windows/desktop/ADSchema/c-crossref) object that has an [**nCName**](/windows/desktop/ADSchema/a-ncname) attribute value that is equal to the distinguished name of the application directory partition.</span></span>
2.  <span data-ttu-id="1bd20-110">Use cada valor do atributo [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) do objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) para associar ao objeto [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) do servidor.</span><span class="sxs-lookup"><span data-stu-id="1bd20-110">Use each value of the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object to bind to the [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object of the server.</span></span>
3.  <span data-ttu-id="1bd20-111">Obtenha o ADsPath para o pai de cada objeto [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) .</span><span class="sxs-lookup"><span data-stu-id="1bd20-111">Obtain the ADsPath for the parent of each [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) object.</span></span> <span data-ttu-id="1bd20-112">Esse é um objeto que representa o servidor do controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="1bd20-112">This is an object that represents the domain controller server.</span></span> <span data-ttu-id="1bd20-113">Use o ADsPath para associar ao objeto de servidor.</span><span class="sxs-lookup"><span data-stu-id="1bd20-113">Use the ADsPath to bind to the server object.</span></span>
4.  <span data-ttu-id="1bd20-114">Obtenha o valor do atributo [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) do objeto Server.</span><span class="sxs-lookup"><span data-stu-id="1bd20-114">Obtain the [**dNSHostName**](/windows/desktop/ADSchema/a-dnshostname) attribute value of the server object.</span></span> <span data-ttu-id="1bd20-115">Essa é uma propriedade de valor único que contém o nome DNS do servidor.</span><span class="sxs-lookup"><span data-stu-id="1bd20-115">This is a single-value property that contains the DNS name of the server.</span></span>

<span data-ttu-id="1bd20-116">Devido à latência de replicação e aos atrasos de execução agendados do KCC, é possível que as réplicas ativas reais para uma partição de diretório de aplicativo não correspondam à lista de controladores de domínio indicados pelo atributo [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) do objeto [**crossRef**](/windows/desktop/ADSchema/c-crossref) .</span><span class="sxs-lookup"><span data-stu-id="1bd20-116">Due to replication latency and scheduled KCC run delays, it is possible the actual active replicas for an application directory partition may not match the list of domain controllers indicated by the [**msDS-NC-Replica-Locations**](/windows/desktop/ADSchema/a-msds-nc-replica-locations) attribute of the [**crossRef**](/windows/desktop/ADSchema/c-crossref) object.</span></span> <span data-ttu-id="1bd20-117">Uma maneira mais precisa, mas menos eficiente, de determinar as réplicas ativas reais de uma partição de diretório de aplicativos é Pesquisar todos os objetos [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) na floresta que têm um atributo [**msDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) que contenha o nome distinto da partição de diretório do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1bd20-117">A more accurate, but less efficient way to determine the actual active replicas of an application directory partition is to search for all [**nTDSDSA**](/windows/desktop/ADSchema/c-ntdsdsa) objects in the forest that have a [**msDS-hasMasterNCs**](/windows/desktop/ADSchema/a-msds-hasmasterncs) attribute that contains the distinguished name of the application directory partition.</span></span> <span data-ttu-id="1bd20-118">O atributo **msDS-hasMasterNCs** contém os nomes distintos de todas as partições de diretório graváveis que o controlador de domínio hospeda, incluindo partições de diretório de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1bd20-118">The **msDS-hasMasterNCs** attribute contains the distinguished names of all writable directory partitions that the domain controller hosts, including application directory partitions.</span></span>

 

 