---
title: Visão geral das técnicas de Controle de Alterações
description: Há várias maneiras pelas quais os mecanismos de controle de alterações podem variar o escopo para controlar alterações um aplicativo pode controlar alterações em um único atributo de um único objeto, em todos os objetos de um domínio e assim por diante.
ms.assetid: 7359e851-61b7-420d-beb0-f7f33f79b007
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 91fce20dc5e9fe8fe98937bb13885be577185e04
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104004906"
---
# <a name="overview-of-change-tracking-techniques"></a><span data-ttu-id="3beea-103">Visão geral das técnicas de Controle de Alterações</span><span class="sxs-lookup"><span data-stu-id="3beea-103">Overview of Change Tracking Techniques</span></span>

<span data-ttu-id="3beea-104">Há várias maneiras pelas quais os mecanismos de controle de alterações podem diferir:</span><span class="sxs-lookup"><span data-stu-id="3beea-104">There are several ways that change tracking mechanisms can differ:</span></span>

-   <span data-ttu-id="3beea-105">Escopo para controlar alterações: um aplicativo pode controlar alterações em um único atributo de um único objeto, em todos os objetos em um domínio e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="3beea-105">Scope for tracking changes: An application can track changes to a single attribute of a single object, to all objects in a domain, and so on.</span></span> <span data-ttu-id="3beea-106">Se o mecanismo corresponder aos requisitos do aplicativo, o aplicativo receberá um mínimo de dados irrelevantes e, portanto, isso melhora o desempenho.</span><span class="sxs-lookup"><span data-stu-id="3beea-106">If the mechanism matches the requirements of the application, the application receives a minimum of irrelevant data, and thus this enhances performance.</span></span>
-   <span data-ttu-id="3beea-107">Cronograma: um aplicativo é notificado sobre cada alteração conforme ele acontece ou pode ser notificado do efeito líquido das alterações em um período de minutos ou horas.</span><span class="sxs-lookup"><span data-stu-id="3beea-107">Timeliness: An application is notified of every change as it happens, or can be notified of the net effect of changes over a period of minutes or hours.</span></span>

    <span data-ttu-id="3beea-108">O processamento de dados menos oportunos pode ser mais eficiente, pois várias alterações podem ser recolhidas em um.</span><span class="sxs-lookup"><span data-stu-id="3beea-108">Processing less timely data may be more efficient, because several changes may be collapsed into one.</span></span> <span data-ttu-id="3beea-109">Por exemplo, se um atributo for alterado três vezes em um intervalo de uma hora, um aplicativo notificado sobre as alterações acumuladas em uma hora será notificado de apenas uma alteração de atributo, e não de três.</span><span class="sxs-lookup"><span data-stu-id="3beea-109">For example, if an attribute changes three times within a one hour interval, an application notified of changes accumulated over an hour will be notified of just one attribute change, not three.</span></span>

    <span data-ttu-id="3beea-110">Ao pensar sobre a linha do tempo, considere o efeito da latência de replicação.</span><span class="sxs-lookup"><span data-stu-id="3beea-110">When thinking about timeliness, consider the effect of replication latency.</span></span> <span data-ttu-id="3beea-111">Uma atualização que se origina em um controlador de domínio não é replicada instantaneamente para outro controlador de domínio.</span><span class="sxs-lookup"><span data-stu-id="3beea-111">An update that originates on one domain controller does not replicate to another domain controller instantly.</span></span> <span data-ttu-id="3beea-112">Exigir uma linha de tempo de controle de alterações muito melhor do que a latência de replicação esperada geralmente não oferece nenhum benefício real para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="3beea-112">Requiring change-tracking timeliness much better than the expected replication latency often gives no real benefit to the application.</span></span>

-   <span data-ttu-id="3beea-113">Sondagem versus notificação: com sondagem, um aplicativo faz periodicamente uma solicitação a um controlador de domínio para receber dados de controle de alterações.</span><span class="sxs-lookup"><span data-stu-id="3beea-113">Polling versus notification: With polling, an application periodically makes a request to a domain controller to receive change tracking data.</span></span> <span data-ttu-id="3beea-114">Com a notificação, o controlador de domínio envia as alterações para o aplicativo somente quando ocorrerem alterações.</span><span class="sxs-lookup"><span data-stu-id="3beea-114">With notification the domain controller sends changes to the application only when changes occur.</span></span>

    <span data-ttu-id="3beea-115">A sobrecarga de sondagem é óbvia: o aplicativo pode solicitar dados de controle de alterações quando nada significativo tiver ocorrido.</span><span class="sxs-lookup"><span data-stu-id="3beea-115">The overhead of polling is obvious: The application may request change tracking data when nothing significant has occurred.</span></span> <span data-ttu-id="3beea-116">A sobrecarga da notificação é mais sutil.</span><span class="sxs-lookup"><span data-stu-id="3beea-116">The overhead of notification is more subtle.</span></span> <span data-ttu-id="3beea-117">O servidor deve manter dados sobre solicitações de notificação e deve consultar esses dados para decidir se deseja ou não enviar uma notificação.</span><span class="sxs-lookup"><span data-stu-id="3beea-117">The server must maintain data about notification requests and must consult this data to decide whether or not to send a notification.</span></span> <span data-ttu-id="3beea-118">Isso pode adicionar sobrecarga às solicitações de atualização normais.</span><span class="sxs-lookup"><span data-stu-id="3beea-118">This can add overhead to normal update requests.</span></span>

-   <span data-ttu-id="3beea-119">Expressar o conhecimento do aplicativo: persistente versus temporário: cada mecanismo de controle de alterações deve incluir algum método para o servidor que contém os dados rastreados para entender o estado de conhecimento do aplicativo, para que a ideia de "alteração" esteja bem definida.</span><span class="sxs-lookup"><span data-stu-id="3beea-119">Expressing the application's knowledge: persistent versus temporary: Every change tracking mechanism must include some method for the server holding the data tracked to understand the application's state of knowledge, so that the idea of "change" is well defined.</span></span> <span data-ttu-id="3beea-120">Por exemplo, o estado de conhecimento do aplicativo pode ser expresso como "atualizado com todas as alterações ocorridas no DC d antes do tempo t".</span><span class="sxs-lookup"><span data-stu-id="3beea-120">For example, the application's state of knowledge might be expressed as "Updated with all changes that occurred on DC d before time t."</span></span> <span data-ttu-id="3beea-121">Um mecanismo com base nessa forma de expressar o estado de conhecimento de um aplicativo forneceria uma maneira eficiente para o aplicativo obter alterações que ocorreram depois do tempo especificado.</span><span class="sxs-lookup"><span data-stu-id="3beea-121">A mechanism based on this way of expressing an application's state of knowledge would provide an efficient way for the application to obtain changes that have occurred later than a specified time.</span></span>

    <span data-ttu-id="3beea-122">Se a expressão do conhecimento do aplicativo puder ser persistida, ou seja, armazenada em recuperação, como em um arquivo ou banco de dados, a reinicialização do aplicativo será menos intensiva de recursos do que se não puder.</span><span class="sxs-lookup"><span data-stu-id="3beea-122">If the expression of the application's knowledge can be persisted, that is, stored recoverably, as in a file or database, application restart is less resource intensive than if it cannot.</span></span> <span data-ttu-id="3beea-123">No exemplo acima, a expressão do conhecimento do aplicativo pode ser persistida gravando o DC d e a hora t.</span><span class="sxs-lookup"><span data-stu-id="3beea-123">In the example above, the expression of the application's knowledge can be persisted by recording the DC d and the time t.</span></span> <span data-ttu-id="3beea-124">Alguns mecanismos de notificação de alteração não permitem que esses dados sejam persistidos.</span><span class="sxs-lookup"><span data-stu-id="3beea-124">Some change notification mechanisms do not allow this data to be persisted.</span></span> <span data-ttu-id="3beea-125">O servidor e o aplicativo devem sincronizar com algum outro mecanismo quando o aplicativo é iniciado.</span><span class="sxs-lookup"><span data-stu-id="3beea-125">The server and application must synchronize with some other mechanism when the application starts.</span></span> <span data-ttu-id="3beea-126">Isso é intensivo de recursos se vários objetos estiverem envolvidos e puder envolver programação complexa.</span><span class="sxs-lookup"><span data-stu-id="3beea-126">This is resource-intensive if multiple objects are involved, and can involve complex programming.</span></span>

<span data-ttu-id="3beea-127">Use as seguintes técnicas para controlar as alterações no Active Directory Domain Services:</span><span class="sxs-lookup"><span data-stu-id="3beea-127">Use the following techniques to track changes in Active Directory Domain Services:</span></span>

-   <span data-ttu-id="3beea-128">Use o controle de notificação de alteração para iniciar uma pesquisa assíncrona persistente para alterações que correspondam a um filtro especificado.</span><span class="sxs-lookup"><span data-stu-id="3beea-128">Use the change notification control to initiate a persistent asynchronous search for changes that match a specified filter.</span></span> <span data-ttu-id="3beea-129">Para obter mais informações, consulte [Change Notifications in Active Directory Domain Services](change-notifications-in-active-directory-domain-services.md).</span><span class="sxs-lookup"><span data-stu-id="3beea-129">For more information, see [Change Notifications in Active Directory Domain Services](change-notifications-in-active-directory-domain-services.md).</span></span>
-   <span data-ttu-id="3beea-130">Use uma pesquisa de sincronização de diretório (DirSync) para recuperar as alterações ocorridas desde a pesquisa do DirSync anterior.</span><span class="sxs-lookup"><span data-stu-id="3beea-130">Use a directory synchronization (DirSync) search to retrieve changes that have occurred since the previous DirSync search.</span></span> <span data-ttu-id="3beea-131">Para obter mais informações, consulte [sondando alterações usando o controle DirSync](polling-for-changes-using-the-dirsync-control.md).</span><span class="sxs-lookup"><span data-stu-id="3beea-131">For more information, see [Polling for Changes Using the DirSync Control](polling-for-changes-using-the-dirsync-control.md).</span></span>
-   <span data-ttu-id="3beea-132">Use o atributo USNChanged para pesquisar objetos que foram alterados desde a pesquisa anterior.</span><span class="sxs-lookup"><span data-stu-id="3beea-132">Use the USNChanged attribute to search for objects that have changed since the previous search.</span></span> <span data-ttu-id="3beea-133">Para obter mais informações, consulte [sondando alterações usando USNChanged](polling-for-changes-using-usnchanged.md).</span><span class="sxs-lookup"><span data-stu-id="3beea-133">For more information, see [Polling for Changes Using USNChanged](polling-for-changes-using-usnchanged.md).</span></span>

<span data-ttu-id="3beea-134">O controle de notificação de alteração foi projetado para aplicativos ou serviços que exigem notificação de aviso razoável de alterações infrequentes.</span><span class="sxs-lookup"><span data-stu-id="3beea-134">The change notification control is designed for applications or services that require reasonably prompt notification of infrequent changes.</span></span> <span data-ttu-id="3beea-135">Um exemplo é um serviço ou programa que armazena dados de configuração no servidor Active Directory e deve ser notificado imediatamente quando ocorre uma alteração.</span><span class="sxs-lookup"><span data-stu-id="3beea-135">An example is a service or program that stores configuration data on the Active Directory server and must be notified promptly when a change occurs.</span></span> <span data-ttu-id="3beea-136">Lembre-se de que há limitações do controle de notificação.</span><span class="sxs-lookup"><span data-stu-id="3beea-136">Be aware that there are limitations of the notification control.</span></span>

-   <span data-ttu-id="3beea-137">A solicitação de notificações depende da latência de replicação e do local em que a alteração ocorreu.</span><span class="sxs-lookup"><span data-stu-id="3beea-137">The promptness of notifications depends on replication latency and where the change occurred.</span></span> <span data-ttu-id="3beea-138">Você pode ser notificado imediatamente quando uma alteração Replica na réplica que você está monitorando, mas a alteração pode ter se originado muito mais cedo em alguma outra réplica.</span><span class="sxs-lookup"><span data-stu-id="3beea-138">You may be notified promptly when a change replicates into the replica you are monitoring, but the change may have originated much earlier on some other replica.</span></span>
-   <span data-ttu-id="3beea-139">O controle é restrito a monitorar um único objeto ou os filhos imediatos de um contêiner.</span><span class="sxs-lookup"><span data-stu-id="3beea-139">The control is restricted to monitoring a single object or the immediate children of a container.</span></span> <span data-ttu-id="3beea-140">Os aplicativos que devem monitorar vários contêineres ou objetos não relacionados podem registrar até cinco solicitações de notificação.</span><span class="sxs-lookup"><span data-stu-id="3beea-140">Applications that must monitor multiple containers or unrelated objects can register up to five notification requests.</span></span>
-   <span data-ttu-id="3beea-141">Se muitos clientes estiverem ouvindo alterações que ocorrem com frequência, ele afetará o desempenho do servidor.</span><span class="sxs-lookup"><span data-stu-id="3beea-141">If too many clients are listening for changes that occur frequently, it will impact the performance of the server.</span></span> <span data-ttu-id="3beea-142">Em geral, os aplicativos devem limitar o uso desse controle por motivos de desempenho no servidor.</span><span class="sxs-lookup"><span data-stu-id="3beea-142">In general, applications should limit their use of this control for performance reasons on the server.</span></span> <span data-ttu-id="3beea-143">Se você não precisar saber sobre as alterações imediatamente, pode ser melhor sondar periodicamente as alterações em vez de usar a notificação de alteração.</span><span class="sxs-lookup"><span data-stu-id="3beea-143">If you do not need to know about changes immediately, it may be best to periodically poll for changes instead of using change notification.</span></span>

<span data-ttu-id="3beea-144">As técnicas de pesquisa DirSync e USNChanged são projetadas para aplicativos que mantêm a consistência entre os dados no servidor de Active Directory e os dados correspondentes em algum outro armazenamento.</span><span class="sxs-lookup"><span data-stu-id="3beea-144">The DirSync and USNChanged search techniques are designed for applications that maintain consistency between data on the Active Directory server and corresponding data in some other storage.</span></span> <span data-ttu-id="3beea-145">Essas técnicas são usadas por aplicativos que sondam periodicamente as alterações.</span><span class="sxs-lookup"><span data-stu-id="3beea-145">These techniques are used by applications that periodically poll for changes.</span></span> <span data-ttu-id="3beea-146">A técnica DirSync baseia-se em um controle de servidor LDAP que você pode usar por meio de APIs ADSI ou LDAP.</span><span class="sxs-lookup"><span data-stu-id="3beea-146">The DirSync technique is based on an LDAP server control that you can use through ADSI or LDAP APIs.</span></span> <span data-ttu-id="3beea-147">As desvantagens do controle DirSync são que ele só pode ser usado por uma conta altamente privilegiada, como um administrador de domínio.</span><span class="sxs-lookup"><span data-stu-id="3beea-147">The disadvantages of the DirSync control are that it can only be used by a highly privileged account, such as a domain administrator.</span></span> <span data-ttu-id="3beea-148">A seguir está uma lista de limitações do controle DirSync:</span><span class="sxs-lookup"><span data-stu-id="3beea-148">The following is a list of limitations of DirSync control:</span></span>

-   <span data-ttu-id="3beea-149">O controle DirSync só pode ser usado por uma conta altamente privilegiada, como um administrador de domínio.</span><span class="sxs-lookup"><span data-stu-id="3beea-149">The DirSync control can only be used by a highly privileged account, such as a domain administrator.</span></span>
-   <span data-ttu-id="3beea-150">O controle DirSync só pode monitorar um contexto de nomenclatura inteiro.</span><span class="sxs-lookup"><span data-stu-id="3beea-150">The DirSync control can only monitor an entire naming context.</span></span> <span data-ttu-id="3beea-151">Não é possível limitar o escopo de uma pesquisa DirSync para monitorar apenas uma subárvore, um contêiner ou um objeto específico em um contexto de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="3beea-151">You cannot limit the scope of a DirSync search to monitor only a specific subtree, container, or object in a naming context.</span></span>

<span data-ttu-id="3beea-152">A técnica USNChanged não tem essas limitações, embora seja um pouco mais complicada de usar do que o DirSync.</span><span class="sxs-lookup"><span data-stu-id="3beea-152">The USNChanged technique does not have these limitations, although it is somewhat more complicated to use than DirSync.</span></span>

 

 




