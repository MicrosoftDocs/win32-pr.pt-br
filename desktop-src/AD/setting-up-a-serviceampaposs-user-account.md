---
title: Configurando a conta de usuário de um serviço
description: Seu instalador de serviço pode sugerir uma conta de logon padrão para uma instância de serviço e permitir que o administrador selecione a conta padrão ou especifique uma diferente.
ms.assetid: 37285c23-8922-4da5-9f0b-922ea5e5794e
ms.tgt_platform: multiple
keywords:
- Configurando o AD da conta de usuário de um serviço
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 705fa16d8d2cce137755f4a5086716aaaef8046a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103640376"
---
# <a name="setting-up-a-services-user-account"></a><span data-ttu-id="32c5d-104">Configurando a conta de usuário de um serviço</span><span class="sxs-lookup"><span data-stu-id="32c5d-104">Setting up a Service's User Account</span></span>

<span data-ttu-id="32c5d-105">Seu instalador de serviço pode sugerir uma conta de logon padrão para uma instância de serviço e permitir que o administrador selecione a conta padrão ou especifique uma diferente.</span><span class="sxs-lookup"><span data-stu-id="32c5d-105">Your service installer can suggest a default logon account for a service instance and allow the administrator to select the default account or specify a different one.</span></span> <span data-ttu-id="32c5d-106">Se o administrador selecionar uma conta de usuário, em vez da conta LocalSystem, a conta deverá existir antes que você chame a função [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) para instalar uma instância do serviço em um servidor host.</span><span class="sxs-lookup"><span data-stu-id="32c5d-106">If the administrator selects a user account, rather than the LocalSystem account, the account must exist before you call the [**CreateService**](/windows/desktop/api/winsvc/nf-winsvc-createservicea) function to install an instance of the service on a host server.</span></span> <span data-ttu-id="32c5d-107">Para obter mais informações e um exemplo de código que pode ser usado para criar um novo objeto de usuário de domínio no Active Directory Domain Services, consulte [criando um usuário](creating-a-user.md).</span><span class="sxs-lookup"><span data-stu-id="32c5d-107">For more information and a code example that can be used to create a new domain user object in Active Directory Domain Services, see [Creating a User](creating-a-user.md).</span></span>

<span data-ttu-id="32c5d-108">O ideal é que cada instância de um serviço, seja um serviço replicável ou baseado em host, deva ter sua própria conta de usuário de domínio.</span><span class="sxs-lookup"><span data-stu-id="32c5d-108">Ideally, each instance of a service, whether a host-based or replicable service, should have its own domain user account.</span></span> <span data-ttu-id="32c5d-109">O uso de contas separadas para cada instância de serviço é mais seguro do que ter várias instâncias que compartilham a mesma conta.</span><span class="sxs-lookup"><span data-stu-id="32c5d-109">Using separate accounts for each service instance is more secure than having multiple instances share the same account.</span></span> <span data-ttu-id="32c5d-110">Além disso, o uso de contas separadas torna possível auditar as atividades de cada instância de serviço.</span><span class="sxs-lookup"><span data-stu-id="32c5d-110">Also, using separate accounts makes it possible to audit the activities of each service instance.</span></span>

<span data-ttu-id="32c5d-111">Quando o instalador sugere uma conta de logon padrão, ele deve especificar o nome de uma nova conta a ser criada para a nova instância de serviço.</span><span class="sxs-lookup"><span data-stu-id="32c5d-111">When your installer suggests a default logon account, it should specify the name of a new account to be created for the new service instance.</span></span> <span data-ttu-id="32c5d-112">O nome da conta pode ser composto dos mesmos elementos usados para compor um nome da entidade de serviço, como a classe de serviço, o computador host e o nome do serviço.</span><span class="sxs-lookup"><span data-stu-id="32c5d-112">The account name could be composed from the same elements used to compose a service principal name, such as the service class, host computer, and service name.</span></span> <span data-ttu-id="32c5d-113">Para saber mais, confira [Service Principal Names](service-principal-names.md) (Nomes da entidade de serviço).</span><span class="sxs-lookup"><span data-stu-id="32c5d-113">For more information, see [Service Principal Names](service-principal-names.md).</span></span> <span data-ttu-id="32c5d-114">Normalmente, você cria a conta no contêiner usuários no domínio do computador host.</span><span class="sxs-lookup"><span data-stu-id="32c5d-114">Typically, you create the account in the Users container on the domain of the host computer.</span></span>

<span data-ttu-id="32c5d-115">Você deve gerar uma senha para cada conta.</span><span class="sxs-lookup"><span data-stu-id="32c5d-115">You must generate a password for each account.</span></span> <span data-ttu-id="32c5d-116">Para obter mais informações sobre como escrever uma ferramenta que automatiza a tarefa de Atualizar senhas de conta de serviço, consulte [alterando a senha na conta de usuário de um serviço](changing-the-password-on-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="32c5d-116">For more information about how to write a tool that automates the task of updating service account passwords, see [Changing the Password on a Service's User Account](changing-the-password-on-a-serviceampaposs-user-account.md).</span></span>

 

 