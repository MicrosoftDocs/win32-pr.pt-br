---
title: Funções de gerenciamento de controlador de domínio e de replicação
description: Este tópico contém uma lista de funções usadas para o gerenciamento de controlador de domínio e de replicação.
ms.assetid: a92783c2-ffb8-473e-8484-1c05ca5453ff
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 00660658874bad4e34a8f6917e08289007cec4d7
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104007335"
---
# <a name="domain-controller-and-replication-management-functions"></a><span data-ttu-id="f007c-103">Funções de gerenciamento de controlador de domínio e de replicação</span><span class="sxs-lookup"><span data-stu-id="f007c-103">Domain Controller and Replication Management Functions</span></span>

<span data-ttu-id="f007c-104">O DC (controlador de domínio) e as funções de gerenciamento de replicação fornecem ferramentas para localizar dados sobre um DC, convertendo os nomes de objetos de rede entre diferentes formatos, manipulando SPNs (nomes de entidade de serviço) e DSAs (agentes de serviço de diretório) e gerenciando a replicação de servidores.</span><span class="sxs-lookup"><span data-stu-id="f007c-104">The domain controller (DC) and replication management functions provide tools for finding data about a DC, converting the names of network objects between different formats, manipulating service principal names (SPNs) and directory service agents (DSAs), and managing replication of servers.</span></span> <span data-ttu-id="f007c-105">As funções a seguir permitem que os desenvolvedores trabalhem com controladores de domínio, replicação e o serviço de diretório:</span><span class="sxs-lookup"><span data-stu-id="f007c-105">The following functions enable developers to work with domain controllers, replication, and the directory service:</span></span>

-   [<span data-ttu-id="f007c-106">**DsAddSidHistory**</span><span class="sxs-lookup"><span data-stu-id="f007c-106">**DsAddSidHistory**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsaddsidhistorya)
-   [<span data-ttu-id="f007c-107">**DsBind**</span><span class="sxs-lookup"><span data-stu-id="f007c-107">**DsBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda)
-   [<span data-ttu-id="f007c-108">**DsBindingSetTimeout**</span><span class="sxs-lookup"><span data-stu-id="f007c-108">**DsBindingSetTimeout**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindingsettimeout)
-   [<span data-ttu-id="f007c-109">**DsBindToISTG**</span><span class="sxs-lookup"><span data-stu-id="f007c-109">**DsBindToISTG**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindtoistga)
-   [<span data-ttu-id="f007c-110">**DsBindWithCred**</span><span class="sxs-lookup"><span data-stu-id="f007c-110">**DsBindWithCred**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda)
-   [<span data-ttu-id="f007c-111">**DsBindWithSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-111">**DsBindWithSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspna)
-   [<span data-ttu-id="f007c-112">**DsBindWithSpnEx**</span><span class="sxs-lookup"><span data-stu-id="f007c-112">**DsBindWithSpnEx**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithspnexa)
-   [<span data-ttu-id="f007c-113">**DsClientMakeSpnForTargetServer**</span><span class="sxs-lookup"><span data-stu-id="f007c-113">**DsClientMakeSpnForTargetServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsclientmakespnfortargetservera)
-   [<span data-ttu-id="f007c-114">**DsCrackNames**</span><span class="sxs-lookup"><span data-stu-id="f007c-114">**DsCrackNames**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dscracknamesa)
-   [<span data-ttu-id="f007c-115">**DsCrackSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-115">**DsCrackSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackspna)
-   [<span data-ttu-id="f007c-116">**DsCrackUnquotedMangledRdn**</span><span class="sxs-lookup"><span data-stu-id="f007c-116">**DsCrackUnquotedMangledRdn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dscrackunquotedmangledrdna)
-   [<span data-ttu-id="f007c-117">**DsFreeDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="f007c-117">**DsFreeDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreedomaincontrollerinfoa)
-   [<span data-ttu-id="f007c-118">**DsFreeNameResult**</span><span class="sxs-lookup"><span data-stu-id="f007c-118">**DsFreeNameResult**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreenameresulta)
-   [<span data-ttu-id="f007c-119">**DsFreePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="f007c-119">**DsFreePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreepasswordcredentials)
-   [<span data-ttu-id="f007c-120">**DsFreeSchemaGuidMap**</span><span class="sxs-lookup"><span data-stu-id="f007c-120">**DsFreeSchemaGuidMap**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreeschemaguidmapa)
-   [<span data-ttu-id="f007c-121">**DsFreeSpnArray**</span><span class="sxs-lookup"><span data-stu-id="f007c-121">**DsFreeSpnArray**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsfreespnarraya)
-   [<span data-ttu-id="f007c-122">**DsGetDomainControllerInfo**</span><span class="sxs-lookup"><span data-stu-id="f007c-122">**DsGetDomainControllerInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetdomaincontrollerinfoa)
-   [<span data-ttu-id="f007c-123">**DsGetRdnW**</span><span class="sxs-lookup"><span data-stu-id="f007c-123">**DsGetRdnW**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsgetrdnw)
-   [<span data-ttu-id="f007c-124">**DsGetSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-124">**DsGetSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsgetspna)
-   [<span data-ttu-id="f007c-125">**DsInheritSecurityIdentity**</span><span class="sxs-lookup"><span data-stu-id="f007c-125">**DsInheritSecurityIdentity**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsinheritsecurityidentitya)
-   [<span data-ttu-id="f007c-126">**DsIsMangledDn**</span><span class="sxs-lookup"><span data-stu-id="f007c-126">**DsIsMangledDn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangleddna)
-   [<span data-ttu-id="f007c-127">**DsIsMangledRdnValue**</span><span class="sxs-lookup"><span data-stu-id="f007c-127">**DsIsMangledRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsismangledrdnvaluea)
-   [<span data-ttu-id="f007c-128">**DsListDomainsInSite**</span><span class="sxs-lookup"><span data-stu-id="f007c-128">**DsListDomainsInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistdomainsinsitea)
-   [<span data-ttu-id="f007c-129">**DsListInfoForServer**</span><span class="sxs-lookup"><span data-stu-id="f007c-129">**DsListInfoForServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistinfoforservera)
-   [<span data-ttu-id="f007c-130">**DsListRoles**</span><span class="sxs-lookup"><span data-stu-id="f007c-130">**DsListRoles**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistrolesa)
-   [<span data-ttu-id="f007c-131">**DsListServersForDomainInSite**</span><span class="sxs-lookup"><span data-stu-id="f007c-131">**DsListServersForDomainInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversfordomaininsitea)
-   [<span data-ttu-id="f007c-132">**DsListServersInSite**</span><span class="sxs-lookup"><span data-stu-id="f007c-132">**DsListServersInSite**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistserversinsitea)
-   [<span data-ttu-id="f007c-133">**DsListSites**</span><span class="sxs-lookup"><span data-stu-id="f007c-133">**DsListSites**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dslistsitesa)
-   [<span data-ttu-id="f007c-134">**DsMakePasswordCredentials**</span><span class="sxs-lookup"><span data-stu-id="f007c-134">**DsMakePasswordCredentials**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmakepasswordcredentialsa)
-   [<span data-ttu-id="f007c-135">**DsMakeSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-135">**DsMakeSpn**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsmakespna)
-   [<span data-ttu-id="f007c-136">**DsMapSchemaGuids**</span><span class="sxs-lookup"><span data-stu-id="f007c-136">**DsMapSchemaGuids**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsmapschemaguidsa)
-   [<span data-ttu-id="f007c-137">**DsQuerySitesByCost**</span><span class="sxs-lookup"><span data-stu-id="f007c-137">**DsQuerySitesByCost**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesbycosta)
-   [<span data-ttu-id="f007c-138">**DsQuerySitesFree**</span><span class="sxs-lookup"><span data-stu-id="f007c-138">**DsQuerySitesFree**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsquerysitesfree)
-   [<span data-ttu-id="f007c-139">**DsQuoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="f007c-139">**DsQuoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsquoterdnvaluea)
-   [<span data-ttu-id="f007c-140">**DsRemoveDsDomain**</span><span class="sxs-lookup"><span data-stu-id="f007c-140">**DsRemoveDsDomain**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsdomaina)
-   [<span data-ttu-id="f007c-141">**DsRemoveDsServer**</span><span class="sxs-lookup"><span data-stu-id="f007c-141">**DsRemoveDsServer**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsremovedsservera)
-   [<span data-ttu-id="f007c-142">**DsReplicaAdd**</span><span class="sxs-lookup"><span data-stu-id="f007c-142">**DsReplicaAdd**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda)
-   [<span data-ttu-id="f007c-143">**DsReplicaConsistencyCheck**</span><span class="sxs-lookup"><span data-stu-id="f007c-143">**DsReplicaConsistencyCheck**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaconsistencycheck)
-   [<span data-ttu-id="f007c-144">**DsReplicaDel**</span><span class="sxs-lookup"><span data-stu-id="f007c-144">**DsReplicaDel**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela)
-   [<span data-ttu-id="f007c-145">**DsReplicaFreeInfo**</span><span class="sxs-lookup"><span data-stu-id="f007c-145">**DsReplicaFreeInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicafreeinfo)
-   [<span data-ttu-id="f007c-146">**DsReplicaGetInfo**</span><span class="sxs-lookup"><span data-stu-id="f007c-146">**DsReplicaGetInfo**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfow)
-   [<span data-ttu-id="f007c-147">**DsReplicaGetInfo2**</span><span class="sxs-lookup"><span data-stu-id="f007c-147">**DsReplicaGetInfo2**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicagetinfo2w)
-   [<span data-ttu-id="f007c-148">**DsReplicaModify**</span><span class="sxs-lookup"><span data-stu-id="f007c-148">**DsReplicaModify**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya)
-   [<span data-ttu-id="f007c-149">**DsReplicaSync**</span><span class="sxs-lookup"><span data-stu-id="f007c-149">**DsReplicaSync**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca)
-   [<span data-ttu-id="f007c-150">**DsReplicaSyncAll**</span><span class="sxs-lookup"><span data-stu-id="f007c-150">**DsReplicaSyncAll**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla)
-   [<span data-ttu-id="f007c-151">**DsReplicaUpdateRefs**</span><span class="sxs-lookup"><span data-stu-id="f007c-151">**DsReplicaUpdateRefs**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa)
-   [<span data-ttu-id="f007c-152">**DsReplicaVerifyObjects**</span><span class="sxs-lookup"><span data-stu-id="f007c-152">**DsReplicaVerifyObjects**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaverifyobjectsa)
-   [<span data-ttu-id="f007c-153">**DsServerRegisterSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-153">**DsServerRegisterSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsserverregisterspna)
-   [<span data-ttu-id="f007c-154">**DsUnBind**</span><span class="sxs-lookup"><span data-stu-id="f007c-154">**DsUnBind**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda)
-   [<span data-ttu-id="f007c-155">**DsUnquoteRdnValue**</span><span class="sxs-lookup"><span data-stu-id="f007c-155">**DsUnquoteRdnValue**</span></span>](/windows/desktop/api/Dsparse/nf-dsparse-dsunquoterdnvaluea)
-   [<span data-ttu-id="f007c-156">**DsWriteAccountSpn**</span><span class="sxs-lookup"><span data-stu-id="f007c-156">**DsWriteAccountSpn**</span></span>](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dswriteaccountspna)
-   <span data-ttu-id="f007c-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="f007c-157">[**SyncUpdateProc**](/previous-versions/windows/desktop/legacy/ms677968(v=vs.85))</span></span>

<span data-ttu-id="f007c-158">A maioria dessas funções requer um identificador associado ao serviço de diretório.</span><span class="sxs-lookup"><span data-stu-id="f007c-158">Most of these functions require a handle bound to the directory service.</span></span> <span data-ttu-id="f007c-159">As funções [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) e [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) iniciam uma sessão RPC com um controlador de domínio específico e, em seguida, vinculam um identificador ao serviço de diretório e retornam o identificador.</span><span class="sxs-lookup"><span data-stu-id="f007c-159">The [**DsBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbinda) and [**DsBindWithCred**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsbindwithcreda) functions start an RPC session with a particular domain controller, then they bind a handle to the directory service and return the handle.</span></span> <span data-ttu-id="f007c-160">Quando o identificador não for mais necessário, use a função [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) para encerrar a sessão RPC e desassociar o identificador.</span><span class="sxs-lookup"><span data-stu-id="f007c-160">When the handle is no longer required, use the [**DsUnBind**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsunbinda) function to end the RPC session and unbind the handle.</span></span>

<span data-ttu-id="f007c-161">A replicação ocorre entre um servidor de origem e um servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f007c-161">Replication occurs between a source server and a destination server.</span></span> <span data-ttu-id="f007c-162">Um servidor de origem mantém uma lista de servidores de destino para os quais ele deve ser replicado, e um servidor de destino mantém uma lista de servidores de origem dos quais ele recebe a replicação.</span><span class="sxs-lookup"><span data-stu-id="f007c-162">A source server maintains a list of destination servers to which it should replicate, and a destination server maintains a list of source servers from which it receives replication.</span></span> <span data-ttu-id="f007c-163">Use a função [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) para adicionar à lista de servidores de origem em um servidor de destino e use a função [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) para remover referências da lista de servidores de origem em um servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f007c-163">Use the [**DsReplicaAdd**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaadda) function to add to the list of source servers on a destination server, and use the [**DsReplicaDel**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicadela) function to remove references from the source server list on a destination server.</span></span> <span data-ttu-id="f007c-164">A função [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) pode ser usada para alterar uma referência de servidor de origem existente em um servidor de destino.</span><span class="sxs-lookup"><span data-stu-id="f007c-164">The [**DsReplicaModify**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicamodifya) function may be used to change an existing source server reference on a destination server.</span></span> <span data-ttu-id="f007c-165">Para alterar a lista de servidores de destino em um servidor de origem, use a função [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) .</span><span class="sxs-lookup"><span data-stu-id="f007c-165">To change the list of destination servers on a source server, use the [**DsReplicaUpdateRefs**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicaupdaterefsa) function.</span></span>

<span data-ttu-id="f007c-166">A replicação real é executada pelas funções [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) e [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) .</span><span class="sxs-lookup"><span data-stu-id="f007c-166">Actual replication is performed by the [**DsReplicaSync**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasynca) and [**DsReplicaSyncAll**](/windows/desktop/api/Ntdsapi/nf-ntdsapi-dsreplicasyncalla) functions.</span></span> <span data-ttu-id="f007c-167">A função **DsReplicaSync** sincroniza um servidor de destino específico com um único servidor de origem.</span><span class="sxs-lookup"><span data-stu-id="f007c-167">The **DsReplicaSync** function synchronizes a specific destination server with a single source server.</span></span> <span data-ttu-id="f007c-168">Use a função **DsReplicaSyncAll** para sincronizar um servidor de destino com todos os outros servidores no site.</span><span class="sxs-lookup"><span data-stu-id="f007c-168">Use the **DsReplicaSyncAll** function to synchronize a destination server with all other servers in the site.</span></span>

 

 