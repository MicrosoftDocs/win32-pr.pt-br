---
title: Onde criar um ponto de conexão de serviço
description: Quando uma instância do Active Directory Domain Services é instalada, o instalador do serviço cria objetos do ponto de conexão de serviço (SCP) no Active Directory Domain Services.
ms.assetid: a90566d9-dd68-43e2-be9e-300d57a7fbf4
ms.tgt_platform: multiple
keywords:
- onde criar um anúncio de ponto de conexão de serviço
- Active Directory, onde criar um ponto de conexão de serviço
- onde criar um anúncio de ponto de conexão de serviço
- Criando um AD de ponto de conexão de serviço
- AD de ponto de conexão de serviço
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: cf122ebabcfd8085ebad46314ffd1c09f827e783
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104004889"
---
# <a name="where-to-create-a-service-connection-point"></a><span data-ttu-id="769c2-108">Onde criar um ponto de conexão de serviço</span><span class="sxs-lookup"><span data-stu-id="769c2-108">Where to Create a Service Connection Point</span></span>

<span data-ttu-id="769c2-109">Quando uma instância do Active Directory Domain Services é instalada, o instalador do serviço cria objetos do ponto de conexão de serviço (SCP) no Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="769c2-109">When an instance of Active Directory Domain Services is installed, the service installer creates service connection point objects (SCP) in Active Directory Domain Services.</span></span> <span data-ttu-id="769c2-110">O objetivo principal deve ser minimizar o tráfego de replicação e habilitar a administração e a manutenção eficientes dos objetos.</span><span class="sxs-lookup"><span data-stu-id="769c2-110">The primary objective should be to minimize replication traffic and to enable efficient administration and maintenance of objects.</span></span>

<span data-ttu-id="769c2-111">Lembre-se de que os aplicativos cliente localizam SCPs pesquisando no diretório as palavras-chave no SCP.</span><span class="sxs-lookup"><span data-stu-id="769c2-111">Be aware that client applications find SCPs by searching the directory for keywords in the SCP.</span></span> <span data-ttu-id="769c2-112">O atributo de **palavras-chave** de um SCP está incluído no catálogo global; Os clientes podem pesquisar o catálogo global para localizar SCPs na floresta.</span><span class="sxs-lookup"><span data-stu-id="769c2-112">The **keywords** attribute of an SCP is included in the Global Catalog; clients can search the Global Catalog to find SCPs in the forest.</span></span> <span data-ttu-id="769c2-113">Por esse motivo, o cliente não influencia onde publicar SCPs.</span><span class="sxs-lookup"><span data-stu-id="769c2-113">For this reason, the client does not influence where to publish SCPs.</span></span>

## <a name="minimize-replication-traffic"></a><span data-ttu-id="769c2-114">Minimizar o tráfego de replicação</span><span class="sxs-lookup"><span data-stu-id="769c2-114">Minimize Replication Traffic</span></span>

<span data-ttu-id="769c2-115">Para minimizar o tráfego de replicação, crie SCPs na partição de domínio do domínio do computador host de serviço.</span><span class="sxs-lookup"><span data-stu-id="769c2-115">To minimize replication traffic, create SCPs in the domain partition of the domain of the service host computer.</span></span> <span data-ttu-id="769c2-116">Por exemplo, você pode criar SCPs como objetos filho do objeto de computador no qual o serviço está instalado.</span><span class="sxs-lookup"><span data-stu-id="769c2-116">For example, you can create SCPs as child objects of the computer object on which the service is installed.</span></span> <span data-ttu-id="769c2-117">Uma partição de domínio de Active Directory Domain Services, às vezes chamada de contexto de nomenclatura de domínio, contém objetos específicos de domínio, como os objetos para os usuários e computadores do domínio.</span><span class="sxs-lookup"><span data-stu-id="769c2-117">A domain partition of Active Directory Domain Services, sometimes called a domain naming context, contains domain-specific objects such as the objects for the users and computers of the domain.</span></span> <span data-ttu-id="769c2-118">Uma réplica completa de todos os objetos na partição de domínio é replicada para cada controlador de domínio (DC) para o domínio, mas não é replicada para os DCs de outros domínios.</span><span class="sxs-lookup"><span data-stu-id="769c2-118">A full replica of all objects in the domain partition is replicated to every domain controller (DC) for the domain, but it is not replicated to DCs of other domains.</span></span>

<span data-ttu-id="769c2-119">Não crie SCPs na partição de configuração, também conhecida como o contexto de nomenclatura de configuração, porque as alterações na partição de configuração são replicadas para cada DC na floresta.</span><span class="sxs-lookup"><span data-stu-id="769c2-119">Do not create SCPs in the Configuration partition, also known as the configuration naming context, because changes to the Configuration partition are replicated to every DC in the forest.</span></span> <span data-ttu-id="769c2-120">Conforme observado acima, os clientes em toda a floresta podem consultar o catálogo global para localizar SCPs em qualquer lugar da floresta, portanto, criar SCPs na partição de configuração não os torna mais visíveis para os clientes; Ele só gera mais tráfego de replicação.</span><span class="sxs-lookup"><span data-stu-id="769c2-120">As noted above, clients throughout the forest can query the Global Catalog to find SCPs anywhere in the forest, so creating SCPs in the Configuration partition does not make them more visible to clients; it only generates more replication traffic.</span></span>

## <a name="ease-of-administration"></a><span data-ttu-id="769c2-121">Facilidade de administração</span><span class="sxs-lookup"><span data-stu-id="769c2-121">Ease of Administration</span></span>

<span data-ttu-id="769c2-122">Considere as seguintes diretrizes para a administração de objetos:</span><span class="sxs-lookup"><span data-stu-id="769c2-122">Consider the following guidelines for object administration:</span></span>

-   <span data-ttu-id="769c2-123">Coloque os objetos específicos do serviço em que os administradores possam controlar o acesso a eles usando políticas e permissões de acesso herdadas.</span><span class="sxs-lookup"><span data-stu-id="769c2-123">Place service-specific objects where administrators can control access to them using policy and inherited access permissions.</span></span>
-   <span data-ttu-id="769c2-124">Coloque os objetos em que um administrador possa encontrá-los facilmente.</span><span class="sxs-lookup"><span data-stu-id="769c2-124">Place the objects in where an administrator can easily find them.</span></span>

<span data-ttu-id="769c2-125">Um bom local padrão que satisfaz ambas as metas é criar o SCP e outros objetos específicos de serviço no objeto de computador do computador host de cada instância de serviço.</span><span class="sxs-lookup"><span data-stu-id="769c2-125">A good default location that satisfies both goals is to create SCP and other service-specific objects under the computer object of the host computer of each service instance.</span></span> <span data-ttu-id="769c2-126">Para obter mais informações, consulte [publicação em um objeto de computador](publishing-under-a-computer-object.md).</span><span class="sxs-lookup"><span data-stu-id="769c2-126">For more information, see [Publishing Under a Computer Object](publishing-under-a-computer-object.md).</span></span>

<span data-ttu-id="769c2-127">Uma boa alternativa para os serviços não vinculados a um único host é criar um contêiner para os objetos de serviço no contêiner do sistema em uma partição de domínio.</span><span class="sxs-lookup"><span data-stu-id="769c2-127">A good alternative for services not tied to a single host is to create a container for the service objects under the System container in a domain partition.</span></span> <span data-ttu-id="769c2-128">Para obter mais informações, consulte [publicando em um contêiner do sistema de domínio](publishing-in-a-domain-system-container.md).</span><span class="sxs-lookup"><span data-stu-id="769c2-128">For more information, see [Publishing in a Domain System Container](publishing-in-a-domain-system-container.md).</span></span>

<span data-ttu-id="769c2-129">O diagrama a seguir mostra parte da hierarquia de contêiner padrão para uma partição de domínio.</span><span class="sxs-lookup"><span data-stu-id="769c2-129">The following diagram shows part of the default container hierarchy for a domain partition.</span></span>

![hierarquia de contêiner de partição de domínio padrão](images/domain-container-heirarchy.png)

<span data-ttu-id="769c2-131">O diagrama mostra a hierarquia de domínio padrão incluída com Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="769c2-131">The diagram shows the default domain hierarchy included with Active Directory Domain Services.</span></span> <span data-ttu-id="769c2-132">No entanto, muitas empresas criam uma hierarquia de contêineres de UO (unidade organizacional) para agrupar classes de objetos, como usuários e computadores, para fins de administração.</span><span class="sxs-lookup"><span data-stu-id="769c2-132">However, many enterprises create a hierarchy of organizational unit (OU) containers to group object classes, such as users and computers, together for purposes of administration.</span></span> <span data-ttu-id="769c2-133">Os administradores podem aplicar políticas e ACEs (entradas de controle de acesso) herdáveis a uma UO para delegar autoridade administrativa para objetos na UO.</span><span class="sxs-lookup"><span data-stu-id="769c2-133">Administrators can then apply policy and inheritable access-control entries (ACEs) to an OU to delegate administrative authority for objects in the OU.</span></span> <span data-ttu-id="769c2-134">Isso permite que os administradores gerenciem com eficiência uma empresa, mas tem algumas consequências para programadores de serviço:</span><span class="sxs-lookup"><span data-stu-id="769c2-134">This enables administrators to efficiently manage an enterprise, but it has a few consequences for service programmers:</span></span>

-   <span data-ttu-id="769c2-135">O objeto de computador para um host de serviço pode não estar no contêiner computadores, conforme mostrado no diagrama.</span><span class="sxs-lookup"><span data-stu-id="769c2-135">The computer object for a service host might not be under the Computers container as shown in the diagram.</span></span> <span data-ttu-id="769c2-136">Para obter mais informações sobre como localizar o objeto de computador para o computador local, consulte [publicando em um objeto Computer](publishing-under-a-computer-object.md).</span><span class="sxs-lookup"><span data-stu-id="769c2-136">For more information about how to find the computer object for the local computer, see [Publishing Under a Computer Object](publishing-under-a-computer-object.md).</span></span>
-   <span data-ttu-id="769c2-137">Os administradores podem mover objetos conforme suas necessidades organizacionais mudam.</span><span class="sxs-lookup"><span data-stu-id="769c2-137">Administrators may move objects as their organizational needs change.</span></span> <span data-ttu-id="769c2-138">Isso significa que você não pode depender de seus objetos restantes em um local fixo; ou seja, o serviço não pode depender de um nome diferenciado de objeto restante do mesmo.</span><span class="sxs-lookup"><span data-stu-id="769c2-138">This means that you cannot depend on your objects remaining in a fixed location; that is, your service cannot depend on an object distinguished name remaining the same.</span></span> <span data-ttu-id="769c2-139">Em vez disso, use o atributo **objectGUID** de um objeto, que não será alterado se o objeto for movido ou renomeado.</span><span class="sxs-lookup"><span data-stu-id="769c2-139">Instead, use an object's **objectGUID** attribute, which does not change if the object is moved or renamed.</span></span> <span data-ttu-id="769c2-140">Para obter mais informações, e um exemplo de código que cria um SCP, armazena seu **objectGUID** e, posteriormente, recupera o **objectGUID** para associar ao scp, consulte [criando e mantendo um ponto de conexão de serviço](creating-and-maintaining-a-service-connection-point.md).</span><span class="sxs-lookup"><span data-stu-id="769c2-140">For more information, and a code example that creates an SCP, stores its **objectGUID**, and later retrieves the **objectGUID** to bind to the SCP, see [Creating and Maintaining a Service Connection Point](creating-and-maintaining-a-service-connection-point.md).</span></span>
-   <span data-ttu-id="769c2-141">Todas as classes de objeto relacionadas ao serviço padrão, bem como quaisquer subclasses dessas classes, são filhos válidos das classes **Computer** e **OrganizationalUnit** .</span><span class="sxs-lookup"><span data-stu-id="769c2-141">All of the standard service-related object classes, as well as any subclasses of these classes, are valid children of the **computer** and **organizationalUnit** classes.</span></span> <span data-ttu-id="769c2-142">Se você estender o esquema para definir sua própria classe específica de serviço, certifique-se de que as classes **Computer** e **OrganizationalUnit** estejam incluídas nos superiores possíveis.</span><span class="sxs-lookup"><span data-stu-id="769c2-142">If you extend the schema to define your own service-specific class, be sure that the **computer** and **organizationalUnit** classes are included in the possible superiors.</span></span>
-   <span data-ttu-id="769c2-143">O instalador do serviço determina o local padrão para a criação de SCPs.</span><span class="sxs-lookup"><span data-stu-id="769c2-143">The service installer determines the default location for creating SCPs.</span></span> <span data-ttu-id="769c2-144">Talvez você queira permitir que o administrador instale o serviço para especificar um caminho de instalação alternativo.</span><span class="sxs-lookup"><span data-stu-id="769c2-144">You may want to allow the administrator installing the service to specify an alternate install path.</span></span>

<span data-ttu-id="769c2-145">Os objetos específicos do serviço não devem ser criados nas seguintes áreas:</span><span class="sxs-lookup"><span data-stu-id="769c2-145">Service-specific objects should not be created in the following areas:</span></span>

-   <span data-ttu-id="769c2-146">Os serviços não devem publicar objetos diretamente nos contêineres usuários ou computadores de uma partição de domínio, nem devem criar novos contêineres nesses contêineres.</span><span class="sxs-lookup"><span data-stu-id="769c2-146">Services should not publish objects directly in the Users or Computers containers of a domain partition, nor should they create new containers in these containers.</span></span> <span data-ttu-id="769c2-147">No entanto, os serviços podem publicar objetos como objetos filho de um objeto de computador, independentemente de o objeto de computador estar ou não armazenado no contêiner computadores.</span><span class="sxs-lookup"><span data-stu-id="769c2-147">However, services can publish objects as child objects of a computer object, whether or not the computer object is stored in the Computers container.</span></span>
-   <span data-ttu-id="769c2-148">Os serviços que usam o RnR (registro e resolução do Windows Sockets) ou as APIs do serviço de nome RPC (RpcNs) para se anunciar, criam os objetos apropriados nos contêineres Winsockservices e RpcServices no contêiner do sistema de uma partição de domínio.</span><span class="sxs-lookup"><span data-stu-id="769c2-148">Services, that use Windows Sockets registration and resolution (RnR) or the RPC name service (RpcNs) APIs to advertise themselves, create the proper objects in the WinsockServices and RpcServices containers under a domain partition's System container.</span></span> <span data-ttu-id="769c2-149">Não crie objetos explicitamente nesses contêineres.</span><span class="sxs-lookup"><span data-stu-id="769c2-149">Do not explicitly create objects in these containers.</span></span> <span data-ttu-id="769c2-150">Fazer isso não causa danos diretos, mas pode ser confuso para os administradores.</span><span class="sxs-lookup"><span data-stu-id="769c2-150">Doing so does not cause direct harm, but may be confusing for administrators.</span></span>

 

 




