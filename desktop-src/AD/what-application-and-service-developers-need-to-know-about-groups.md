---
title: O que os desenvolvedores de aplicativos e serviços precisam saber sobre grupos
description: Ao desenvolver um aplicativo ou serviço, você pode usar grupos para delegar o acesso de administração ou controle ao aplicativo ou serviço como um todo ou parte.
ms.assetid: 19e189a5-2880-4b45-84c8-e7b542c4fbb6
ms.tgt_platform: multiple
keywords:
- O que os desenvolvedores de aplicativos e serviços precisam saber sobre grupos
- grupos de anúncios, informações para desenvolvedores de aplicativos e serviços
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: dd23f598925c959502e1013ff43ad18bbb42ed7b
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103640370"
---
# <a name="what-application-and-service-developers-need-to-know-about-groups"></a><span data-ttu-id="2766a-105">O que os desenvolvedores de aplicativos e serviços precisam saber sobre grupos</span><span class="sxs-lookup"><span data-stu-id="2766a-105">What Application and Service Developers Need to Know About Groups</span></span>

<span data-ttu-id="2766a-106">Ao desenvolver um aplicativo ou serviço, você pode usar grupos para delegar o acesso de administração ou controle ao aplicativo ou serviço como um todo ou parte.</span><span class="sxs-lookup"><span data-stu-id="2766a-106">When developing an application or service, you can use groups to delegate administration or control access to the application or service as a whole or part.</span></span> <span data-ttu-id="2766a-107">Por exemplo, um aplicativo pode controlar quem pode executar várias operações administrativas.</span><span class="sxs-lookup"><span data-stu-id="2766a-107">For example, an application can control who can perform various administrative operations.</span></span> <span data-ttu-id="2766a-108">Para fazer isso, crie ACEs que concedem direitos de acesso especificados aos grupos apropriados.</span><span class="sxs-lookup"><span data-stu-id="2766a-108">To do this, create ACEs that grant specified access rights to the appropriate groups.</span></span> <span data-ttu-id="2766a-109">É uma boa prática de programação ter uma ACE que concede acesso a um grupo do que ter várias ACEs que concedem acesso a usuários ou computadores individuais.</span><span class="sxs-lookup"><span data-stu-id="2766a-109">It is good programming practice to have an ACE that grants access to a group than to have several ACEs that grant access to individual users or computers.</span></span>

<span data-ttu-id="2766a-110">É recomendável que os aplicativos usem as seguintes diretrizes ao usar grupos:</span><span class="sxs-lookup"><span data-stu-id="2766a-110">It is recommended that applications use the following guidelines when using groups:</span></span>

-   <span data-ttu-id="2766a-111">Não crie dependências em grupos embutidos em código, o que pode criar complicações se o grupo for excluído ou movido.</span><span class="sxs-lookup"><span data-stu-id="2766a-111">Do not create dependencies on hard-coded groups, which can create complications if the group is deleted or moved.</span></span>
-   <span data-ttu-id="2766a-112">Evite usar grupos internos, a menos que a função do grupo forneça as necessidades específicas para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2766a-112">Avoid using built-in groups unless the function of the group provides the specific needs for the application.</span></span> <span data-ttu-id="2766a-113">Por exemplo, não exija que um usuário seja um membro do grupo Administradores apenas para fornecer ao usuário permissão para criar uma conta de computador.</span><span class="sxs-lookup"><span data-stu-id="2766a-113">For example, do not require that a user be a member of the Administrators group just to provide the user with permission to create a computer account.</span></span> <span data-ttu-id="2766a-114">Isso fornece ao usuário permissões e privilégios que eles podem não precisar, o que pode causar vulnerabilidade de segurança.</span><span class="sxs-lookup"><span data-stu-id="2766a-114">Doing this provides the user with permissions and privileges that they may not need, which can cause security vulnerability.</span></span> <span data-ttu-id="2766a-115">Em vez disso, você deve criar um novo grupo de segurança que tenha as permissões específicas necessárias e adicionar o usuário a esse novo grupo.</span><span class="sxs-lookup"><span data-stu-id="2766a-115">Instead, you should create a new security group that has the specific permissions required and add the user to this new group.</span></span>
-   <span data-ttu-id="2766a-116">Ao criar novos grupos, tenha em mente as seguintes recomendações:</span><span class="sxs-lookup"><span data-stu-id="2766a-116">When creating new groups, keep in mind the following recommendations:</span></span>
    -   <span data-ttu-id="2766a-117">Proteja o grupo definindo ACEs que controlam quem pode adicionar ou remover membros.</span><span class="sxs-lookup"><span data-stu-id="2766a-117">Protect the group by setting ACEs that control who can add or remove members.</span></span>
    -   <span data-ttu-id="2766a-118">Use grupos globais se eles forem usados para controle de acesso em objetos no Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="2766a-118">Use global groups if they are used for access control on objects in Active Directory Domain Services.</span></span>
    -   <span data-ttu-id="2766a-119">Use grupos universais somente se necessário (os dados do membro são necessários globalmente usando o catálogo global; o grupo pode conter qualquer usuário/grupo).</span><span class="sxs-lookup"><span data-stu-id="2766a-119">Use universal groups only if necessary (member data is required globally using global catalog; group can contain any user/group).</span></span> <span data-ttu-id="2766a-120">Se você usar grupos universais, coloque grupos globais no grupo universal e adicione/remova usuários do grupo global.</span><span class="sxs-lookup"><span data-stu-id="2766a-120">If you do use universal groups, place global groups in the universal group and add/remove users from the global group.</span></span> <span data-ttu-id="2766a-121">Evite o excesso de alterações em grupos universais para eficiência de replicação.</span><span class="sxs-lookup"><span data-stu-id="2766a-121">Avoid excess change to universal groups for replication efficiency.</span></span>
-   <span data-ttu-id="2766a-122">Não use a associação de grupo para o controle de acesso.</span><span class="sxs-lookup"><span data-stu-id="2766a-122">Do not use group membership for access control.</span></span> <span data-ttu-id="2766a-123">Em vez disso, use um ACE e controle o acesso fazendo com que o sistema execute uma verificação de acesso.</span><span class="sxs-lookup"><span data-stu-id="2766a-123">Instead, use an ACE and control access by having the system perform an access check.</span></span>

<span data-ttu-id="2766a-124">Para controlar o acesso a operações que não se ajustam dentro dos direitos de acesso predefinidos para objetos no Domínio do Active Directory Services, use o recurso controlar direitos de acesso do controle de acesso no Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="2766a-124">To control access to operations that do not fit within the predefined access rights for objects in Active Directory Domain services, use the control access rights feature of access control in Windows 2000.</span></span> <span data-ttu-id="2766a-125">Para obter mais informações, consulte [**ad \_ Rights \_ enum**](/windows/win32/api/iads/ne-iads-ads_rights_enum).</span><span class="sxs-lookup"><span data-stu-id="2766a-125">For more information, see [**ADS\_RIGHTS\_ENUM**](/windows/win32/api/iads/ne-iads-ads_rights_enum).</span></span>

<span data-ttu-id="2766a-126">**Para usar um direito de acesso de controle para controlar o direito de executar uma operação**</span><span class="sxs-lookup"><span data-stu-id="2766a-126">**To use a control access right to control the right to perform an operation**</span></span>

1.  <span data-ttu-id="2766a-127">Crie um direito de acesso de controle que defina o tipo de acesso ao aplicativo ou serviço.</span><span class="sxs-lookup"><span data-stu-id="2766a-127">Create a control access right that defines the type of access to the application or service.</span></span> <span data-ttu-id="2766a-128">Para obter mais informações, consulte [controlar direitos de acesso](control-access-rights.md).</span><span class="sxs-lookup"><span data-stu-id="2766a-128">For more information, see [Control Access Rights](control-access-rights.md).</span></span>
2.  <span data-ttu-id="2766a-129">Crie um objeto em Active Directory Domain Services que represente o aplicativo, o serviço ou o recurso.</span><span class="sxs-lookup"><span data-stu-id="2766a-129">Create an object in Active Directory Domain Services that represents the application, service, or resource.</span></span>
3.  <span data-ttu-id="2766a-130">Adicione ACEs de objeto à DACL no descritor de segurança do objeto para conceder ou negar aos usuários ou grupos o direito de acesso de controle no objeto.</span><span class="sxs-lookup"><span data-stu-id="2766a-130">Add object ACEs to the DACL in the object security descriptor to grant or deny users or groups the control access right on that object.</span></span> <span data-ttu-id="2766a-131">Para obter mais informações, consulte [definindo direitos de acesso em um objeto](setting-access-rights-on-an-object.md).</span><span class="sxs-lookup"><span data-stu-id="2766a-131">For more information, see [Setting Access Rights on an Object](setting-access-rights-on-an-object.md).</span></span>
4.  <span data-ttu-id="2766a-132">Quando um usuário tenta executar a operação protegida, seu aplicativo ou serviço usa a função [**AccessCheckByTypeResultList**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) para determinar se o direito de acesso de controle é concedido ao usuário.</span><span class="sxs-lookup"><span data-stu-id="2766a-132">When a user attempts to perform the protected operation, your application or service uses the [**AccessCheckByTypeResultList**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-accesscheckbytyperesultlist) function to determine whether the control access right is granted to the user.</span></span> <span data-ttu-id="2766a-133">Para obter mais informações, consulte [verificando um direito de acesso de controle na ACL de um objeto](checking-a-control-access-right-in-an-objectampaposs-acl.md).</span><span class="sxs-lookup"><span data-stu-id="2766a-133">For more information, see [Checking a Control Access Right in an Object's ACL](checking-a-control-access-right-in-an-objectampaposs-acl.md).</span></span>
5.  <span data-ttu-id="2766a-134">Com base no resultado da verificação de acesso no objeto, seu aplicativo ou serviço pode conceder ou negar o acesso do usuário ao aplicativo ou serviço.</span><span class="sxs-lookup"><span data-stu-id="2766a-134">Based on the result of the access check on the object, your application or service can grant or deny the user access to the application or service.</span></span>

<span data-ttu-id="2766a-135">Um aplicativo de serviço também pode criar um grupo cujos membros seriam as várias instâncias de serviço.</span><span class="sxs-lookup"><span data-stu-id="2766a-135">A service application could also create a group whose members would be the various service instances.</span></span> <span data-ttu-id="2766a-136">Por exemplo, um serviço com instâncias instaladas em vários computadores em toda a empresa pode ter um arquivo de log comum no qual todas as instâncias de serviço gravam.</span><span class="sxs-lookup"><span data-stu-id="2766a-136">For example, a service with instances installed on multiple computers throughout an enterprise might have a common log file that all service instances write to.</span></span> <span data-ttu-id="2766a-137">O programa de instalação do serviço cria o arquivo de log e usa uma DACL para conceder acesso somente a membros de um grupo.</span><span class="sxs-lookup"><span data-stu-id="2766a-137">The service installation program creates the log file and uses a DACL to grant access only to members of a group.</span></span> <span data-ttu-id="2766a-138">Os membros do grupo seriam as contas de usuário sob as quais as várias instâncias de serviço estão em execução, ou se os serviços forem executados na conta LocalSystem, os membros serão as contas de computador dos servidores host.</span><span class="sxs-lookup"><span data-stu-id="2766a-138">The group members would be the user accounts under which the various service instances are running, or if the services run under the LocalSystem account, the members would be the computer accounts of the host servers.</span></span>

 

 