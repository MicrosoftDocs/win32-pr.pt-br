---
title: Criando consultas eficientes
description: A tabela a seguir identifica conceitos importantes a serem considerados ao criar uma consulta eficiente.
ms.assetid: 1eb92d74-0a17-43f9-b5bf-eed731a52551
ms.tgt_platform: multiple
keywords:
- Exemplos de Active Directory Active Directory, criando consultas eficientes
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c8902fd3d512b940890ebdfd4c2640786c88c82a
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "103640419"
---
# <a name="creating-efficient-queries"></a>Criando consultas eficientes

A tabela a seguir identifica conceitos importantes a serem considerados ao criar uma consulta eficiente.



| Área                  | Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
|-----------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Indexação              | Verifique se o filtro de consulta contém pelo menos um atributo indexado.<br/> Para obter mais informações, consulte [atributos indexados](indexed-attributes.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Classe vs. categoria    | A instrução "objectClass = XYZ" refere-se a objetos de diretório nos quais "XYZ" representa qualquer classe na hierarquia de classes de objeto, enquanto "objectCategory = XYZ", refere-se a esses objetos de diretório nos quais "XYZ" identifica uma classe específica na hierarquia de classes de objeto. A propriedade [**objectClass**](/windows/desktop/ADSchema/a-objectclass) pode receber vários valores, enquanto [**objectCategory**](/windows/desktop/ADSchema/a-objectcategory) usa um único valor e é, portanto, mais adequado para a correspondência de tipos de objetos em uma pesquisa de diretório.<br/>                                                                                                                                                                                          |
| Pesquisa de texto        | Evite Pesquisar texto no meio e no final de uma cadeia de caracteres.<br/> Por exemplo, "CN = \* Hill \* " ou "CN = \* Larouse".<br/> O uso de critérios de correspondência mais específicos tende a aumentar o desempenho da pesquisa. Isso ocorre porque Active Directory Domain Services avaliará todos os predicados, identificará os índices e, em seguida, escolherá um índice com maior probabilidade de produzir o menor conjunto de valores retornados. Essa técnica não funciona bem com pesquisas de cadeia de caracteres intermediárias e de extremidade. Se você não tiver outra opção além de usar essas pesquisas, poderá definir um índice de tupla para o atributo.<br/> Para obter mais detalhes sobre os índices de tupla, consulte [como funciona a indexação de tupla](how-tuple-indexing-works.md).<br/> |
| Pesquisa de subárvore     | Use o catálogo global se você estiver considerando pesquisas de subárvores. A caça de referências requer recursos extensivos.<br/> Para obter mais informações, consulte [especificando outras opções de pesquisa](specifying-other-search-options.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Uso de paginação         | Suponha que uma pesquisa de subárvore retornará um grande conjunto de resultados. Use a paginação ao executar pesquisas de subárvore. O servidor transmitirá um conjunto de resultados grande em partes que reduzem os recursos de memória do lado do servidor. Isso minimiza o uso da rede e reduz a necessidade de enviar grandes partes de dados em uma rede.<br/> Para obter mais informações, consulte [especificando outras opções de pesquisa](specifying-other-search-options.md).<br/>                                                                                                                                                                                                                                                                                        |
| Combinar pesquisas      | Use vários atributos para uma pesquisa. Uma pesquisa de um objeto que lê dois atributos é mais eficiente do que duas pesquisas do mesmo objeto, cada uma retornando um atributo.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| Uso eficiente da Associação | Associe a um objeto uma vez e mantenha o identificador de ligação para o restante da sessão. Não associe e desassocie para cada chamada. Se você usar ADO ou OLE DB, não crie muitos objetos de conexão.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Cache RoodDSE       | Leia o rootDSE uma vez e lembre-se do seu conteúdo para o restante da sessão.<br/> Para obter mais informações, consulte [associação sem servidor e RootDSE](serverless-binding-and-rootdse.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Persistência de referência | Persista referências a objetos como GUIDs, não nomes diferenciados, para serem renomeadas e excluídas com segurança.<br/> Para obter mais informações, consulte [usando objectGUID para associar a um objeto](using-objectguid-to-bind-to-an-object.md).<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |



 

 

