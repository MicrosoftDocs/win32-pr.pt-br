---
title: Pesquisando o conteúdo do domínio
description: Antes de discutir onde associar para iniciar uma pesquisa de objetos em um domínio, é útil entender como os dados são armazenados em Active Directory Domain Services.
ms.assetid: fd0b4556-465b-4338-87cb-375450590c44
ms.tgt_platform: multiple
keywords:
- Active Directory do conteúdo do domínio
- pesquisando o conteúdo do domínio Active Directory
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9c18cd879e950fd9c467f6674092947d430d8f87
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104004901"
---
# <a name="searching-domain-contents"></a><span data-ttu-id="315a9-105">Pesquisando o conteúdo do domínio</span><span class="sxs-lookup"><span data-stu-id="315a9-105">Searching Domain Contents</span></span>

<span data-ttu-id="315a9-106">Antes de discutir onde associar para iniciar uma pesquisa de objetos em um domínio, é útil entender como os dados são armazenados em Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="315a9-106">Before discussing where to bind to begin a search for objects in a domain, it is helpful to understand how data is stored in Active Directory Domain Services.</span></span>

<span data-ttu-id="315a9-107">Se você tiver uma floresta com mais de um domínio, Active Directory Domain Services não armazenará todos os dados de objeto em um único controlador de domínio — por motivos de desempenho, escalabilidade e confiabilidade.</span><span class="sxs-lookup"><span data-stu-id="315a9-107">If you have a forest with more than one domain, Active Directory Domain Services does not store all object data on a single domain controller — for performance, scalability, and reliability reasons.</span></span> <span data-ttu-id="315a9-108">Um controlador de domínio contém todas as informações sobre apenas o domínio do qual ele é membro (ele tem uma réplica completa do domínio).</span><span class="sxs-lookup"><span data-stu-id="315a9-108">A domain controller holds all information about only the domain that it is a member of (it has a full replica of the domain).</span></span> <span data-ttu-id="315a9-109">Mas um controlador de domínio não contém informações completas sobre qualquer outro domínio.</span><span class="sxs-lookup"><span data-stu-id="315a9-109">But a domain controller does not hold complete information about any other domain.</span></span>

<span data-ttu-id="315a9-110">Se você associar ao objeto de domínio com a procura de referência desativada, poderá pesquisar qualquer objeto nesse domínio e somente esse domínio.</span><span class="sxs-lookup"><span data-stu-id="315a9-110">If you bind to the domain object with referral chasing turned off, you can search for any object in that domain and only that domain.</span></span> <span data-ttu-id="315a9-111">Para obter mais informações sobre a procura de referências, consulte [referências](referrals.md).</span><span class="sxs-lookup"><span data-stu-id="315a9-111">For more information about referral chasing, see [Referrals](referrals.md).</span></span> <span data-ttu-id="315a9-112">Uma pesquisa pode recuperar qualquer propriedade e pode usar um filtro de consulta contendo qualquer propriedade.</span><span class="sxs-lookup"><span data-stu-id="315a9-112">A search can retrieve any property and can use a query filter containing any property.</span></span>

<span data-ttu-id="315a9-113">Em uma floresta, os domínios são organizados hierarquicamente como árvores de domínio.</span><span class="sxs-lookup"><span data-stu-id="315a9-113">In a forest, domains are arranged hierarchically as domain trees.</span></span> <span data-ttu-id="315a9-114">Uma árvore de domínio pode ser apenas um domínio único ou um domínio com um ou mais domínios filho.</span><span class="sxs-lookup"><span data-stu-id="315a9-114">A domain tree can be just a single domain or a domain with one or more child domains.</span></span> <span data-ttu-id="315a9-115">Esses domínios filho, por sua vez, podem ter domínios filho abaixo deles.</span><span class="sxs-lookup"><span data-stu-id="315a9-115">These child domains, in turn, can have child domains beneath them.</span></span> <span data-ttu-id="315a9-116">Uma árvore de domínio também é um namespace contíguo.</span><span class="sxs-lookup"><span data-stu-id="315a9-116">A domain tree is also a contiguous namespace.</span></span> <span data-ttu-id="315a9-117">Um namespace contíguo significa que os domínios filho são uma continuação da hierarquia de nomenclatura.</span><span class="sxs-lookup"><span data-stu-id="315a9-117">A contiguous namespace means that the child domains are a continuation of the naming hierarchy.</span></span> <span data-ttu-id="315a9-118">Por exemplo, um domínio fabrikam.com (ou DC = Fabrikam, DC = COM) pode ter um domínio filho chamado mydivision (mydivision.fabrikam.com ou DC = mydivision, DC = Fabrikam, DC = COM), que, por sua vez, poderia ter um domínio filho chamado MyDev (mydev.mydivision.fabrikam.com ou DC = MyDev, DC = mydivision, DC = Fabrikam, DC = COM).</span><span class="sxs-lookup"><span data-stu-id="315a9-118">For example, a domain fabrikam.com (or DC=Fabrikam, DC=COM) can have a child domain named mydivision (mydivision.fabrikam.com or DC=mydivision, DC=Fabrikam, DC=COM), which in turn could have a child domain named mydev (mydev.mydivision.fabrikam.com or DC=mydev, DC=mydivision, DC=Fabrikam, DC=COM).</span></span>

<span data-ttu-id="315a9-119">Se você associar a um objeto de domínio (com a procura de referência ativada) para um domínio em uma árvore de domínio, você pesquisará esse domínio e toda a hierarquia dentro dele.</span><span class="sxs-lookup"><span data-stu-id="315a9-119">If you bind to a domain object (with referral chasing turned on) for a domain within a domain tree, you will search that domain and the entire hierarchy within it.</span></span> <span data-ttu-id="315a9-120">A pesquisa pode recuperar qualquer propriedade e pode usar um filtro de consulta contendo qualquer propriedade.</span><span class="sxs-lookup"><span data-stu-id="315a9-120">The search can retrieve any property and can use a query filter containing any property.</span></span>

<span data-ttu-id="315a9-121">Se um controlador de domínio contiver uma réplica completa de apenas seu próprio domínio, você poderá executar uma pesquisa de subárvore em uma árvore de domínio.</span><span class="sxs-lookup"><span data-stu-id="315a9-121">If a domain controller contains a full replica of only its own domain, you can perform a subtree search on a domain tree.</span></span> <span data-ttu-id="315a9-122">Um domínio mantém referências a seus domínios filho.</span><span class="sxs-lookup"><span data-stu-id="315a9-122">A domain holds references to its child domains.</span></span> <span data-ttu-id="315a9-123">Quando um controlador de domínio processa uma solicitação de pesquisa de subárvore em seu próprio domínio, o controlador de domínio pesquisa esse domínio e, em seguida, retorna referências a cada um de seus domínios filho para o cliente.</span><span class="sxs-lookup"><span data-stu-id="315a9-123">When a domain controller processes a subtree search request against its own domain, the domain controller searches that domain and then returns referrals to each of its child domains to the client.</span></span> <span data-ttu-id="315a9-124">Uma referência é a maneira como um servidor de diretório comunica que ele não contém as informações necessárias para concluir uma solicitação (como uma consulta), mas tem uma referência a um servidor que pode conter as informações necessárias.</span><span class="sxs-lookup"><span data-stu-id="315a9-124">A referral is the way that a directory server communicates that it does not contain the information required to complete a request (such as a query) but has a reference to a server that may contain the required information.</span></span> <span data-ttu-id="315a9-125">No caso de uma pesquisa de subárvore de uma árvore de domínio, uma referência é retornada para cada domínio filho direto para que a pesquisa possa continuar em um controlador de domínio em cada domínio filho.</span><span class="sxs-lookup"><span data-stu-id="315a9-125">In the case of a subtree search of a domain tree, a referral is returned for each direct child domain so that the search can be continued at a domain controller in each child domain.</span></span> <span data-ttu-id="315a9-126">Se a procura de referência estiver ativada, a biblioteca de cliente LDAP (Wldap32.dll) usará essas referências para associar a um controlador de domínio em cada domínio filho e continuar a pesquisa.</span><span class="sxs-lookup"><span data-stu-id="315a9-126">If referral chasing is turned on, the LDAP client library (Wldap32.dll) uses those referrals to bind to a domain controller in each child domain and continue the search.</span></span> <span data-ttu-id="315a9-127">Se a busca de referência for desativada, o cliente LDAP não resolverá as referências e a pesquisa será concluída.</span><span class="sxs-lookup"><span data-stu-id="315a9-127">If referral chasing is turned off, the LDAP client does not resolve the referrals and the search is complete.</span></span>

<span data-ttu-id="315a9-128">Uma pesquisa de subárvore em uma árvore de domínio com a caça de referência ativada pode ser demorada se houver uma conexão lenta com os controladores de domínio para os domínios filho.</span><span class="sxs-lookup"><span data-stu-id="315a9-128">A subtree search on a domain tree with referral chasing turned on can be time-consuming if there is a slow connection to the domain controllers for the child domains.</span></span> <span data-ttu-id="315a9-129">Se você quiser pesquisar apenas um único domínio, desative a pesquisa de referência para evitar a necessidade de Pesquisar os domínios filho desnecessariamente.</span><span class="sxs-lookup"><span data-stu-id="315a9-129">If you want to search only a single domain, you should turn referral chasing off to avoid having to search the child domains unnecessarily.</span></span>

 

 




