---
title: Usando uma conta de usuário de domínio como uma conta de logon de serviço
description: Uma conta de usuário de domínio permite que o serviço Aproveite ao máximo os recursos de segurança do serviço do Windows e do Microsoft Active Directory Domain Services.
ms.assetid: 03c486fd-faec-450c-9348-314680eb73cb
ms.tgt_platform: multiple
ms.topic: article
ms.date: 05/31/2018
ms.custom: contperf-fy21q3
ms.openlocfilehash: f482359eb8445cacef12c46716ecde662a95d46d
ms.sourcegitcommit: 11f52354f570aacaf1ba2a266b2e507abd73352a
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/19/2021
ms.locfileid: "105752413"
---
# <a name="using-a-domain-user-account-as-a-service-logon-account"></a><span data-ttu-id="7b901-103">Usando uma conta de usuário de domínio como uma conta de logon de serviço</span><span class="sxs-lookup"><span data-stu-id="7b901-103">Using a Domain User Account as a Service Logon Account</span></span>

<span data-ttu-id="7b901-104">Uma conta de usuário de domínio permite que o serviço Aproveite ao máximo os recursos de segurança do serviço do Windows e do Microsoft Active Directory Domain Services.</span><span class="sxs-lookup"><span data-stu-id="7b901-104">A domain user account enables the service to take full advantage of the service security features of Windows and Microsoft Active Directory Domain Services.</span></span> <span data-ttu-id="7b901-105">O serviço tem qualquer acesso local e de rede concedido à conta ou a qualquer grupo do qual a conta seja membro.</span><span class="sxs-lookup"><span data-stu-id="7b901-105">The service has whatever local and network access is granted to the account, or to any groups of which the account is a member.</span></span> <span data-ttu-id="7b901-106">O serviço pode dar suporte à autenticação mútua Kerberos.</span><span class="sxs-lookup"><span data-stu-id="7b901-106">The service can support Kerberos mutual authentication.</span></span>

> [!Note]  
> <span data-ttu-id="7b901-107">A documentação a seguir é para os desenvolvedores.</span><span class="sxs-lookup"><span data-stu-id="7b901-107">The following documentation is for developers.</span></span> <span data-ttu-id="7b901-108">Se você for um usuário final procurando informações sobre uma mensagem de erro envolvendo contas de usuário de domínio, consulte os [fóruns da Comunidade da Microsoft](https://answers.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="7b901-108">If you are an end-user looking for information about an error message involving domain user accounts, see the [Microsoft community forums](https://answers.microsoft.com).</span></span> <span data-ttu-id="7b901-109">Para obter informações sobre como gerenciar contas de usuário de domínio, consulte [TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754217(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="7b901-109">For information about managing domain user accounts, see [TechNet](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc754217(v=ws.11)).</span></span>

<span data-ttu-id="7b901-110">A vantagem de usar uma conta de usuário de domínio é que as ações do serviço são limitadas pelos direitos de acesso e privilégios associados à conta.</span><span class="sxs-lookup"><span data-stu-id="7b901-110">The advantage of using a domain user account is that the service's actions are limited by the access rights and privileges associated with the account.</span></span> <span data-ttu-id="7b901-111">Ao contrário de um `LocalSystem` serviço, os bugs em um serviço de conta de usuário não podem danificar o sistema.</span><span class="sxs-lookup"><span data-stu-id="7b901-111">Unlike a `LocalSystem` service, bugs in a user-account service cannot damage the system.</span></span> <span data-ttu-id="7b901-112">Se o serviço for comprometido por um ataque de segurança, o dano será isolado nas operações que o sistema permite que a conta de usuário execute.</span><span class="sxs-lookup"><span data-stu-id="7b901-112">If the service is compromised by a security attack, the damage is isolated to the operations that the system allows the user account to perform.</span></span> <span data-ttu-id="7b901-113">Ao mesmo tempo, os clientes em execução em diferentes níveis de privilégio podem se conectar ao serviço, o que permite que o serviço represente um cliente para executar operações confidenciais.</span><span class="sxs-lookup"><span data-stu-id="7b901-113">At the same time, clients running at varying privilege levels can connect to the service, which enables the service to impersonate a client to perform sensitive operations.</span></span>

<span data-ttu-id="7b901-114">A conta de usuário de um serviço não deve ser um membro de grupos de administradores locais, de domínio ou corporativos.</span><span class="sxs-lookup"><span data-stu-id="7b901-114">A service's user account should not be a member of any administrators groups that are local, domain, or enterprise.</span></span> <span data-ttu-id="7b901-115">Se o serviço precisar de privilégios administrativos locais, execute-o na `LocalSystem` conta.</span><span class="sxs-lookup"><span data-stu-id="7b901-115">If your service needs local administrative privileges, run it under the `LocalSystem` account.</span></span> <span data-ttu-id="7b901-116">Para operações que exigem privilégios administrativos de domínio, execute-as representando o contexto de segurança de um aplicativo cliente.</span><span class="sxs-lookup"><span data-stu-id="7b901-116">For operations that require domain administrative privileges, perform them by impersonating the security context of a client application.</span></span>

<span data-ttu-id="7b901-117">Uma instância de serviço que usa uma conta de usuário de domínio requer uma ação administrativa periódica para manter a senha da conta.</span><span class="sxs-lookup"><span data-stu-id="7b901-117">A service instance that uses a domain user account requires periodic administrative action to maintain the account password.</span></span> <span data-ttu-id="7b901-118">O SCM (Gerenciador de controle de serviço) no computador host de uma instância de serviço armazena em cache a senha da conta para uso no registro em log no serviço.</span><span class="sxs-lookup"><span data-stu-id="7b901-118">The service control manager (SCM) on the host computer of a service instance caches the account password for use in logging on the service.</span></span> <span data-ttu-id="7b901-119">Ao alterar a senha da conta, você também deve atualizar a senha armazenada em cache no computador host em que o serviço do está instalado.</span><span class="sxs-lookup"><span data-stu-id="7b901-119">When you change the account password, you must also update the cached password on the host computer where the service is installed.</span></span> <span data-ttu-id="7b901-120">Para obter mais informações e um exemplo de código, consulte [alterando a senha na conta de usuário de um serviço](changing-the-password-on-a-serviceampaposs-user-account.md).</span><span class="sxs-lookup"><span data-stu-id="7b901-120">For more information and a code example, see [Changing the Password on a Service's User Account](changing-the-password-on-a-serviceampaposs-user-account.md).</span></span> <span data-ttu-id="7b901-121">Você pode evitar a manutenção regular deixando a senha inalterada, mas isso aumentaria a probabilidade de um ataque de senha na conta de serviço.</span><span class="sxs-lookup"><span data-stu-id="7b901-121">You could avoid the regular maintenance by leaving the password unchanged, but that would increase the likelihood of a password attack on the service account.</span></span> <span data-ttu-id="7b901-122">Lembre-se de que, embora o SCM armazene a senha em uma parte segura do registro, ele está, no entanto, sujeito a ataques.</span><span class="sxs-lookup"><span data-stu-id="7b901-122">Be aware that even though the SCM stores the password in a secure portion of the registry, it is nevertheless subject to attack.</span></span>

<span data-ttu-id="7b901-123">Uma conta de usuário de domínio tem dois formatos de nome: o nome distinto do objeto de usuário no diretório e o <domain> \\ <username> formato "" usado pelo Gerenciador de controle de serviço local.</span><span class="sxs-lookup"><span data-stu-id="7b901-123">A domain user account has two name formats: the distinguished name of the user object in the directory and the "<domain>\\<username>" format used by the local service control manager.</span></span> <span data-ttu-id="7b901-124">Para obter mais informações e um exemplo de código que converte de um formato para outro, consulte [convertendo formatos de nome de conta de domínio](converting-domain-account-name-formats.md).</span><span class="sxs-lookup"><span data-stu-id="7b901-124">For more information and a code example that converts from one format to the other, see [Converting Domain Account Name Formats](converting-domain-account-name-formats.md).</span></span>

 

 
