---
title: Recomendações para aplicativos de extensão de esquema
description: Este tópico inclui recomendações para aplicativos de extensão de esquema.
ms.assetid: 615e927e-a113-4557-b354-55a208a649eb
ms.tgt_platform: multiple
keywords:
- Recomendações para AD de aplicativos de extensão de esquema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2393211eb910ce4bc490667398da7f38d212ddcf
ms.sourcegitcommit: 803f3ccd65bdefe36bd851b9c6e7280be9489016
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/17/2020
ms.locfileid: "104084438"
---
# <a name="recommendations-for-schema-extension-applications"></a><span data-ttu-id="8cd9e-104">Recomendações para aplicativos de extensão de esquema</span><span class="sxs-lookup"><span data-stu-id="8cd9e-104">Recommendations for Schema Extension Applications</span></span>

<span data-ttu-id="8cd9e-105">Além dos pré-requisitos, as seguintes práticas recomendadas são recomendadas para aplicativos de extensão de esquema:</span><span class="sxs-lookup"><span data-stu-id="8cd9e-105">In addition to the prerequisites, the following best practices are recommended for schema extension applications:</span></span>

-   <span data-ttu-id="8cd9e-106">Localize o mestre de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-106">Find the schema master.</span></span> <span data-ttu-id="8cd9e-107">Associe-se ao esquema no controlador de domínio que é o mestre de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-107">Bind to the schema on the DC that is the schema master.</span></span> <span data-ttu-id="8cd9e-108">Evite alterar desnecessariamente a função de mestre de esquema entre os DCs.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-108">Avoid unnecessarily changing the schema master role between DCs.</span></span> <span data-ttu-id="8cd9e-109">Para associar ao contêiner de esquema no mestre de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-109">To bind to the schema container on the schema master.</span></span> <span data-ttu-id="8cd9e-110">Para obter mais informações, consulte [pré-requisitos para instalar uma extensão de esquema](prerequisites-for-installing-a-schema-extension.md).</span><span class="sxs-lookup"><span data-stu-id="8cd9e-110">For more information, see [Prerequisites for Installing a Schema Extension](prerequisites-for-installing-a-schema-extension.md).</span></span>
-   <span data-ttu-id="8cd9e-111">Antes de executar qualquer ação, verifique a propriedade **allowedChildClassesEffective** do contêiner de esquema para verificar se você pode criar atributos e/ou classes.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-111">Before performing any action, check the **allowedChildClassesEffective** property of the schema container to verify that you can create attributes and/or classes.</span></span> <span data-ttu-id="8cd9e-112">Se **attributeSchema** e **classSchema** não forem valores nessa propriedade, você não terá direitos suficientes para adicionar atributos ou classes ao esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-112">If **attributeSchema** and **classSchema** are not values in that property, you do not have sufficient rights to add attributes or classes to the schema.</span></span> <span data-ttu-id="8cd9e-113">Para obter mais informações, consulte [código de exemplo para verificar se há direitos para criar objetos de esquema](example-code-for-checking-for-rights-to-create-schema-objects.md).</span><span class="sxs-lookup"><span data-stu-id="8cd9e-113">For more information, see [Example Code for Checking for Rights to Create Schema Objects](example-code-for-checking-for-rights-to-create-schema-objects.md).</span></span>
-   <span data-ttu-id="8cd9e-114">Verifique se a atualização de esquema permitida está definida corretamente no registro do mestre de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-114">Ensure that the Schema Update Allowed is set appropriately in the registry of the schema master.</span></span> <span data-ttu-id="8cd9e-115">Para criar ou definir esse valor, restaure-o para seu estado original como parte da rotina de limpeza do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-115">To create or set this value, restore it to its original state as part of your application clean-up routine.</span></span> <span data-ttu-id="8cd9e-116">Para obter mais informações sobre como verificar e definir esse valor, consulte [habilitando alterações de esquema no mestre de esquema](enabling-schema-changes-at-the-schema-master.md).</span><span class="sxs-lookup"><span data-stu-id="8cd9e-116">For more information about checking and setting this value, see [Enabling Schema Changes at the Schema Master](enabling-schema-changes-at-the-schema-master.md).</span></span>
-   <span data-ttu-id="8cd9e-117">Antes de adicionar atributos ou classes, certifique-se de que eles ainda não existem.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-117">Before adding attributes or classes, be sure that they do not already exist.</span></span> <span data-ttu-id="8cd9e-118">Se eles existirem, verifique se eles são os mesmos atributos ou classes que você está adicionando, e não um atributo ou uma classe criada por alguém com sintaxe e propriedades diferentes que são incompatíveis com seus atributos ou classes.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-118">If they do exist, verify that they are the same attributes or classes you are adding and not an attribute or class created by someone with different syntax and properties that are incompatible with your attributes or classes.</span></span>

    <span data-ttu-id="8cd9e-119">Para atributos, consulte **CN**, **AttributeID**, **governsID**, **lDAPDisplayName** e **schemaIDGUID** para garantir que eles ainda não estejam sendo usados.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-119">For attributes, query for **cn**, **attributeID**, **governsID**, **lDAPDisplayName**, and **schemaIDGUID** to ensure they are not already used.</span></span> <span data-ttu-id="8cd9e-120">Se você adicionar um conjunto de atributos vinculados (um link para frente, um link regressivo), verifique se os **LinkId** s já não estão sendo usados.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-120">If you add a set of linked attributes (one forward link, one back link), ensure that the **linkID** s are not already used.</span></span> <span data-ttu-id="8cd9e-121">Consulta para **governsID** porque o identificador de objeto (OID) deve ser exclusivo entre atributos e classes.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-121">Query for **governsID** because the object identifier (OID) must be unique among attributes and classes.</span></span>

    <span data-ttu-id="8cd9e-122">Para classes, consulte para **CN**, **governsID**, **AttributeID**, **lDAPDisplayName** e **schemaIDGUID** para garantir que eles ainda não estejam sendo usados.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-122">For classes, query for **cn**, **governsID**, **attributeID**, **lDAPDisplayName**, and **schemaIDGUID** to ensure they are not already used.</span></span> <span data-ttu-id="8cd9e-123">Consulta para **AttributeID** porque o OID deve ser exclusivo entre classes e atributos.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-123">Query for **attributeID** because the OID must be unique among classes and attributes.</span></span>

    <span data-ttu-id="8cd9e-124">Para obter mais informações sobre como verificar se há colisões de nomenclatura, consulte [código de exemplo para detectar colisões de nomenclatura de esquema](example-code-for-detecting-schema-naming-collisions.md).</span><span class="sxs-lookup"><span data-stu-id="8cd9e-124">For more information about checking for naming collisions, see [Example Code for Detecting Schema Naming Collisions](example-code-for-detecting-schema-naming-collisions.md).</span></span>

    <span data-ttu-id="8cd9e-125">Se existirem atributos ou classes que entram em conflito com seus novos atributos ou classes, seu aplicativo não deverá aplicar as alterações de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-125">If attributes or classes exist that conflict with your new attributes or classes, your application should not apply your schema changes.</span></span>

-   <span data-ttu-id="8cd9e-126">Se essa colisão existir, seu aplicativo não deverá aplicar as alterações de esquema.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-126">If such a collision exists, your application should not apply your schema changes.</span></span> <span data-ttu-id="8cd9e-127">O administrador do esquema pode precisar resolver a colisão e executar o aplicativo novamente.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-127">The schema administrator may need to resolve the collision and then run your application again.</span></span> <span data-ttu-id="8cd9e-128">Como alternativa, um **lDAPDisplayName** diferente poderia ser usado; no entanto, todos os aplicativos que usam o atributo ou o objeto devem estar cientes dessa alteração.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-128">Alternatively, a different **lDAPDisplayName** could be used; however, any applications using the attribute or object must be aware of that change.</span></span> <span data-ttu-id="8cd9e-129">Para ajudar a evitar colisões de OID, obtenha um OID de uma autoridade de registro de nome ISO.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-129">To help avoid OID collisions, obtain an OID from an ISO name registration authority.</span></span>
-   <span data-ttu-id="8cd9e-130">Se seu aplicativo depende de atributos ou classes que ele adicionou, atualize o cache de esquema antes de adicionar os novos atributos ou classes que dependem desses atributos ou classes.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-130">If your application is dependent on attributes or classes that it has added, update the schema cache before adding the new attributes or classes that are dependent on those attributes or classes.</span></span> <span data-ttu-id="8cd9e-131">Lembre-se de que o atributo operacional **schemaUpdateNow** é síncrono.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-131">Be aware that the **schemaUpdateNow** operational attribute is synchronous.</span></span> <span data-ttu-id="8cd9e-132">Ou seja, a chamada de método [**IADs::P UT**](/windows/desktop/api/iads/nf-iads-iads-put) será bloqueada até que o cache de esquema seja atualizado.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-132">That is, the [**IADs::Put**](/windows/desktop/api/iads/nf-iads-iads-put) method call will block until the schema cache is updated.</span></span> <span data-ttu-id="8cd9e-133">Quando a chamada retorna, o cache de esquema foi atualizado e os novos atributos e/ou classes são acessíveis.</span><span class="sxs-lookup"><span data-stu-id="8cd9e-133">When the call returns, the schema cache has been updated and the new attributes and/or classes are accessible.</span></span>

    <span data-ttu-id="8cd9e-134">Para obter mais informações sobre como atualizar o cache de esquema, consulte [código de exemplo para atualizar o cache de esquema](example-code-for-updating-the-schema-cache.md).</span><span class="sxs-lookup"><span data-stu-id="8cd9e-134">For more information about how to update the schema cache, see [Example Code for Updating the Schema Cache](example-code-for-updating-the-schema-cache.md).</span></span>

 

 