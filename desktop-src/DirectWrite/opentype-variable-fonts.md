---
title: Fontes variáveis OpenType
description: Este tópico descreve as fontes de variáveis OpenType, seu suporte no DirectWrite e Direct2D e como usá-las em seu aplicativo. .
ms.assetid: 788558a7-efe7-b075-942f-ac75a5b86b84
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 60a9e6bdf27da0d70841973515636736859294dd
ms.sourcegitcommit: af9983bab40fe0b042f177ce7ca79f2eb0f9d0e8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 02/06/2021
ms.locfileid: "103837554"
---
# <a name="opentype-variable-fonts"></a><span data-ttu-id="41161-104">Fontes variáveis OpenType</span><span class="sxs-lookup"><span data-stu-id="41161-104">OpenType Variable Fonts</span></span>

<span data-ttu-id="41161-105">Este tópico descreve as fontes de variáveis OpenType, seu suporte no DirectWrite e Direct2D e como usá-las em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="41161-105">This topic describes OpenType variable fonts, their support in DirectWrite and Direct2D, and how to use them in your app.</span></span> 

-   [<span data-ttu-id="41161-106">O que são fontes de variáveis OpenType?</span><span class="sxs-lookup"><span data-stu-id="41161-106">What are OpenType variable fonts?</span></span>](#what-are-opentype-variable-fonts)
-   [<span data-ttu-id="41161-107">Suporte à fonte de variáveis OpenType em DirectWrite</span><span class="sxs-lookup"><span data-stu-id="41161-107">OpenType variable font support in DirectWrite</span></span>](#opentype-variable-font-support-in-directwrite)
-   [<span data-ttu-id="41161-108">Usando fontes de variáveis OpenType</span><span class="sxs-lookup"><span data-stu-id="41161-108">Using OpenType variable fonts</span></span>](#using-opentype-variable-fonts)

## <a name="what-are-opentype-variable-fonts"></a><span data-ttu-id="41161-109">O que são fontes de variáveis OpenType?</span><span class="sxs-lookup"><span data-stu-id="41161-109">What are OpenType variable fonts?</span></span>

<span data-ttu-id="41161-110">A versão 1,8 da [especificação de formato de fonte OpenType](https://www.microsoft.com/typography/otspec/) introduziu uma nova extensão para o formato conhecido como [variações de fontes OpenType](/typography/opentype/spec/otvaroverview).</span><span class="sxs-lookup"><span data-stu-id="41161-110">Version 1.8 of the [OpenType font format specification](https://www.microsoft.com/typography/otspec/) introduced a new extension to the format known as [OpenType Font Variations](/typography/opentype/spec/otvaroverview).</span></span> <span data-ttu-id="41161-111">As fontes que usam essas extensões são conhecidas como fontes de variáveis OpenType.</span><span class="sxs-lookup"><span data-stu-id="41161-111">Fonts that use these extensions are known as OpenType variable fonts.</span></span> <span data-ttu-id="41161-112">Uma fonte de variável OpenType é uma fonte única que pode se comportar como várias fontes usando a interpolação contínua entre diferentes designs, todas definidas dentro da única fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-112">An OpenType variable font is a single font that can behave like several fonts by using continuous interpolation between different designs, all defined within the single font.</span></span>

<span data-ttu-id="41161-113">Uma fonte de variável OpenType pode definir a variação contínua de seu design ao longo de um ou mais eixos independentes, como peso ou largura:</span><span class="sxs-lookup"><span data-stu-id="41161-113">An OpenType variable font can define continuous variation of its design along one or more independent axes, such as weight or width:</span></span> 

 

![Mostra uma fonte de variável OpenType usando a letra "G" e mostrando diferentes variações ao longo de um eixo de largura horizontal e um eixo de peso vertical.](images/opentype-width-weight.png)

<span data-ttu-id="41161-115">Um desenvolvedor de fontes determina um conjunto de eixos de variação a ser usado em uma determinada fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-115">A font developer determines a set of variation axes to use in a given font.</span></span> <span data-ttu-id="41161-116">Esses eixos podem incluir um conjunto de eixos bem conhecidos (ou "registrados") de variação, como peso e largura, mas também podem incluir eixos personalizados e arbitrários de variação definidos pelo desenvolvedor de fontes.</span><span class="sxs-lookup"><span data-stu-id="41161-116">These axes can include a set of well-known (or “registered”) axes of variation, such as weight and width, but they can also include arbitrary, custom axes of variation defined by the font developer.</span></span>  

<span data-ttu-id="41161-117">Ao selecionar um conjunto de eixos de variação para uma fonte, o desenvolvedor de fontes define um espaço n-dimensional abstrato de variação de design para a fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-117">By selecting a set of variation axes for a font, the font developer defines an abstract, n-dimensional space of design variation for the font.</span></span> <span data-ttu-id="41161-118">Os mecanismos de texto podem especificar potencialmente qualquer posição, ou "instância", dentro desse espaço contínuo para dispor e renderizar texto.</span><span class="sxs-lookup"><span data-stu-id="41161-118">Text engines can specify potentially any position, or “instance”, within that continuous space for laying out and rendering text.</span></span> 

<span data-ttu-id="41161-119">O desenvolvedor de fontes também pode selecionar e atribuir nomes a instâncias específicas dentro do espaço de variação de design; Eles são chamados de "instâncias nomeadas".</span><span class="sxs-lookup"><span data-stu-id="41161-119">The font developer can also select and assign names to particular instances within the design-variation space; these are referred to as “named instances”.</span></span> <span data-ttu-id="41161-120">Por exemplo, uma fonte com variação de peso pode dar suporte à variação contínua entre traços muito leves e muito pesados, enquanto o desenvolvedor de fontes selecionou pesos específicos ao longo da continuidade e atribuiu nomes a eles, como "Light", "regular" e "seminegrito".</span><span class="sxs-lookup"><span data-stu-id="41161-120">For example, a font with weight variation may support continuous variation between very light and very heavy strokes, while the font developer has selected particular weights along that continuum and assigned names to them, such as “Light”, “Regular” and “Semibold”.</span></span> 

<span data-ttu-id="41161-121">O formato de fonte da variável OpenType usa tabelas de dados encontradas em fontes OpenType tradicionais, além de determinadas tabelas adicionais que descrevem como os valores de vários itens de dados são alterados para diferentes instâncias.</span><span class="sxs-lookup"><span data-stu-id="41161-121">The OpenType variable font format uses data tables found in traditional OpenType fonts plus certain additional tables that describe how the values of various data items change for different instances.</span></span> <span data-ttu-id="41161-122">O formato designa uma instância de variação como uma "instância padrão", que usa tabelas tradicionais para obter valores padrão.</span><span class="sxs-lookup"><span data-stu-id="41161-122">The format designates one variation instance as a “default instance”, which uses traditional tables to get default values.</span></span> <span data-ttu-id="41161-123">Todas as outras instâncias dependem dos dados padrão e outros dados Delta.</span><span class="sxs-lookup"><span data-stu-id="41161-123">All other instances depend on the default data plus other delta data.</span></span> <span data-ttu-id="41161-124">Por exemplo, uma tabela ' glyf ' pode ter uma descrição de curva de Bézier de uma forma de glifo nominal, que é a forma usada para a instância padrão, enquanto uma tabela ' GVAR ' descreverá como os pontos de controle de Bézier para o glifo são ajustados para outras instâncias.</span><span class="sxs-lookup"><span data-stu-id="41161-124">For example, a ‘glyf’ table can have a Bezier-curve description of a nominal glyph shape, which is the shape used for the default instance, while a ‘gvar’ table will describe how the Bezier control points for the glyph are adjusted for other instances.</span></span> <span data-ttu-id="41161-125">Da mesma forma, outros valores de fonte podem ter um valor nominal mais dados Delta que descrevem como esses valores são alterados para diferentes instâncias; por exemplo, altura x e outras métricas de toda a fonte, ou posições de marca de ancoragem específicas de glifo e ajustes de kerning.</span><span class="sxs-lookup"><span data-stu-id="41161-125">Similarly, other font values can have a nominal value plus delta data describing how those values change for different instances; for example, x-height and other font-wide metrics, or glyph-specific mark-anchoring positions and kerning adjustments.</span></span> 

<span data-ttu-id="41161-126">Como as fontes de variáveis podem dar suporte a um conjunto arbitrário de eixos de variação, elas exigem um modelo extensível de famílias de fontes que refletem mais diretamente como os designers de fontes criam famílias de fontes: uma família de fontes é definida por um nome de família e determinadas características de design que são constantes, com um número arbitrário (determinado pelo desenvolvedor de fontes) de maneiras em que o design</span><span class="sxs-lookup"><span data-stu-id="41161-126">Because variable fonts can support an arbitrary set of variation axes, they require an extensible model of font families that more directly reflects how font designers create families of fonts: a font family is defined by a family name and certain design characteristics that are constant, with an arbitrary number (determined by the font developer) of ways in which the design can vary.</span></span> <span data-ttu-id="41161-127">Uma família de fontes pode ser criada com variantes para peso, mas uma família de fontes diferente pode ser criada com variantes para x-height, serif, tamanho, "funkiness" ou qualquer que seja o desenvolvedor da fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-127">One font family may be created with variants for weight, but a different font family may be created with variants for x-height, serif-size, “funkiness”, or whatever the font developer wishes.</span></span> <span data-ttu-id="41161-128">Nesse modelo, uma seleção de face de fonte é melhor descrita usando o geral, ou "preferencial" ou "tipográfico", o nome da família, além de um conjunto de pares chave-valor, cada um representando um tipo de variação e valor específico, com os tipos de variação em geral sendo um conjunto extensível.</span><span class="sxs-lookup"><span data-stu-id="41161-128">In this model, a font face selection is best described using the general, or “preferred” or "typographic", family name plus a set of key-value pairs, each representing a kind of variation and specific value, with the kinds of variation in general being an extensible set.</span></span> <span data-ttu-id="41161-129">Essa noção geral de uma família de fontes pode se aplicar a fontes tradicionais e não variáveis, bem como a fontes variáveis.</span><span class="sxs-lookup"><span data-stu-id="41161-129">This general notion of a font family can apply to traditional, non-variable fonts as well as to variable fonts.</span></span> <span data-ttu-id="41161-130">Por exemplo, neste geral, o modelo de família tipográfica, uma família "Selawik VF" pode ter variações de peso, tamanho óptico e design de serif, com instâncias como "SANs de faixa Semilight".</span><span class="sxs-lookup"><span data-stu-id="41161-130">For example, under this general, typographic family model, a family "Selawik VF" might have variations for weight, optical size and serif design, with instances such as "Semilight Banner Sans".</span></span> 

<span data-ttu-id="41161-131">No entanto, algumas implementações de software existentes, incluindo APIs DirectWrite existentes, podem ser projetadas supondo-se um modelo mais limitado de famílias de fontes.</span><span class="sxs-lookup"><span data-stu-id="41161-131">Some existing software implementations, however, including existing DirectWrite APIs, may be designed assuming a more limited model of font families.</span></span> <span data-ttu-id="41161-132">Por exemplo, alguns aplicativos podem assumir que uma família de fontes pode ter, no máximo, as variantes comuns, em negrito, itálico e negrito em itálico.</span><span class="sxs-lookup"><span data-stu-id="41161-132">For example, some applications may assume that a font family can have, at most, Regular, Bold, Italic and Bold Italic variants.</span></span> <span data-ttu-id="41161-133">As interfaces [**IDWriteFontCollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) e [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) existentes pressupõem um modelo de família de peso/Stretch/estilo ("WSS"), permitindo que as variantes dentro de uma família sejam especificadas usando o [**\_ \_ peso da fonte DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), DWRITE as enumerações de [**fonte de \_ \_ Stretch**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) ou DWRITE como parâmetros. [**\_ \_**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style)</span><span class="sxs-lookup"><span data-stu-id="41161-133">The existing [**IDWriteFontCollection**](/windows/win32/api/dwrite/nn-dwrite-idwritefontcollection) and [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) interfaces assume a weight/stretch/style (“WSS”) family model, allowing for variants within a family to be specified using the [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) or [**DWRITE\_FONT\_STYLE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) enumerations as parameters.</span></span> <span data-ttu-id="41161-134">Ao fazer o exemplo anterior, os eixos de tamanho óptico e de serifa não seriam tratados como eixos internos da família de variação no modelo do WSS.</span><span class="sxs-lookup"><span data-stu-id="41161-134">Taking the previous example, the optical size and serif axes would not be treated as family-internal axes of variation in the WSS model.</span></span> 

<span data-ttu-id="41161-135">O suporte completo para fontes variáveis exigiria APIs que permitissem que um membro da família fosse especificado com potencialmente vários parâmetros, conforme determinado pela fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-135">Complete support for variable fonts would require APIs that allow a family member to be specified with potentially several parameters, as determined by the font.</span></span> <span data-ttu-id="41161-136">Mas os designs de API existentes podem ser capazes de fornecer suporte parcial para fontes variáveis projetando as instâncias nomeadas definidas em uma fonte variável nos modelos mais limitados da família de fontes.</span><span class="sxs-lookup"><span data-stu-id="41161-136">But existing API designs may be able to provide partial support for variable fonts by projecting the named instances defined in a variable font into the more-limited font-family models.</span></span> <span data-ttu-id="41161-137">No exemplo anterior, "Selawik VF Semilight Banner" Sans "poderia ser projetado para o modelo do WSS como uma família" Selawik VF banner Sans "com" Semilight "como uma variante de peso.</span><span class="sxs-lookup"><span data-stu-id="41161-137">In the previous example, "Selawik VF Semilight Banner Sans" could be projected into the WSS model as a "Selawik VF Banner Sans" family with "Semilight" as a weight variant.</span></span> 

<span data-ttu-id="41161-138">Para outro exemplo, considere uma família de fontes tipográficas, como Sitka, com variantes de tamanho óptico e peso.</span><span class="sxs-lookup"><span data-stu-id="41161-138">For another example, consider a typographic font family such as Sitka, with weight and optical size variants.</span></span> <span data-ttu-id="41161-139">As variantes nomeadas na família incluem texto Sitka regular e Sitka banner em negrito (além de muitos outros).</span><span class="sxs-lookup"><span data-stu-id="41161-139">Named variants within the family include Sitka Text Regular and Sitka Banner Bold (plus many others).</span></span> <span data-ttu-id="41161-140">O nome da família tipográfica é "Sitka", enquanto os nomes de face para essas variantes no modelo de família tipográfica seriam "Text regular" e "Banner bold".</span><span class="sxs-lookup"><span data-stu-id="41161-140">The typographic family name is “Sitka” while the face names for these variants in the typographic family model would be “Text Regular” and “Banner Bold”.</span></span> <span data-ttu-id="41161-141">Os modelos de quatro membros e da família WSS não permitem variantes de tamanho óptico dentro de uma família e, portanto, distinções de tamanho óptico devem ser tratadas como distinções de nível de família.</span><span class="sxs-lookup"><span data-stu-id="41161-141">The four-member and WSS family models do not allow for optical size variants within a family, and so optical-size distinctions must be treated like family-level distinctions.</span></span> <span data-ttu-id="41161-142">A tabela a seguir ilustra como uma seleção de fontes da família tipográfica Sitka seria tratada no modelo da família WSS:</span><span class="sxs-lookup"><span data-stu-id="41161-142">The following table illustrates how a selection of fonts from the Sitka typographic family would be treated in the WSS family model:</span></span> 



<span data-ttu-id="41161-143">Modelo de família tipográfica</span><span class="sxs-lookup"><span data-stu-id="41161-143">Typographic family model</span></span>

<span data-ttu-id="41161-144">Modelo da família WSS</span><span class="sxs-lookup"><span data-stu-id="41161-144">WSS family model</span></span>

<span data-ttu-id="41161-145">Família</span><span class="sxs-lookup"><span data-stu-id="41161-145">Family</span></span>

<span data-ttu-id="41161-146">Detecção Facial</span><span class="sxs-lookup"><span data-stu-id="41161-146">Face</span></span>

<span data-ttu-id="41161-147">Família</span><span class="sxs-lookup"><span data-stu-id="41161-147">Family</span></span>

<span data-ttu-id="41161-148">Detecção Facial</span><span class="sxs-lookup"><span data-stu-id="41161-148">Face</span></span>

<span data-ttu-id="41161-149">Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-149">Sitka</span></span>

<span data-ttu-id="41161-150">Texto regular</span><span class="sxs-lookup"><span data-stu-id="41161-150">Text Regular</span></span>

<span data-ttu-id="41161-151">Texto Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-151">Sitka Text</span></span>

<span data-ttu-id="41161-152">Regular</span><span class="sxs-lookup"><span data-stu-id="41161-152">Regular</span></span>

<span data-ttu-id="41161-153">Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-153">Sitka</span></span>

<span data-ttu-id="41161-154">Faixa em negrito</span><span class="sxs-lookup"><span data-stu-id="41161-154">Banner Bold</span></span>

<span data-ttu-id="41161-155">Faixa Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-155">Sitka Banner</span></span>

<span data-ttu-id="41161-156">Negrito</span><span class="sxs-lookup"><span data-stu-id="41161-156">Bold</span></span>

<span data-ttu-id="41161-157">Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-157">Sitka</span></span>

<span data-ttu-id="41161-158">Legenda em itálico</span><span class="sxs-lookup"><span data-stu-id="41161-158">Caption Italic</span></span>

<span data-ttu-id="41161-159">Legenda Sitka</span><span class="sxs-lookup"><span data-stu-id="41161-159">Sitka Caption</span></span>

<span data-ttu-id="41161-160">Itálico</span><span class="sxs-lookup"><span data-stu-id="41161-160">Italic</span></span>



 

<span data-ttu-id="41161-161">A projeção de nomes de um modelo de família tipográfica para o modelo de família do WSS pode ser aplicada a fontes não variáveis e às instâncias nomeadas de fontes de variáveis.</span><span class="sxs-lookup"><span data-stu-id="41161-161">The projection of names from a typographic family model to the WSS family model can be applied to non-variable fonts, and to the named instances of variable fonts.</span></span> <span data-ttu-id="41161-162">No entanto, isso não pode ser feito para outras instâncias não nomeadas do espaço de variação de design contínuo de uma fonte variável.</span><span class="sxs-lookup"><span data-stu-id="41161-162">This cannot be done, however, for other, non-named instances from the continuous design-variation space of a variable font.</span></span> <span data-ttu-id="41161-163">Por esse motivo, o suporte para a funcionalidade completa de fontes variáveis exigirá que as APIs sejam criadas para referenciar rostos em uma família tipográfica em termos de um conjunto irrestrito de eixos de variação e valores de eixo.</span><span class="sxs-lookup"><span data-stu-id="41161-163">For this reason, support for the complete functionality of variable fonts will require APIs designed to reference faces within a typographic family in terms of an unconstrained set of variation axes and axis values.</span></span> 

## <a name="opentype-variable-font-support-in-directwrite"></a><span data-ttu-id="41161-164">Suporte à fonte de variáveis OpenType em DirectWrite</span><span class="sxs-lookup"><span data-stu-id="41161-164">OpenType variable font support in DirectWrite</span></span>

<span data-ttu-id="41161-165">No lançamento da atualização do Windows 10 para criadores, o formato de fonte da variável OpenType ainda é muito novo, e fornecedores de fontes, plataformas e aplicativos ainda estão no processo de implementação do novo formato.</span><span class="sxs-lookup"><span data-stu-id="41161-165">As of the release of the Windows 10 Creators Update, the OpenType variable font format is still very new, and font vendors, platforms and apps are still in the process of implementing the new format.</span></span> <span data-ttu-id="41161-166">Esta atualização fornece a implementação inicial para esse formato no DirectWrite.</span><span class="sxs-lookup"><span data-stu-id="41161-166">This update provides initial implementation for this format in DirectWrite.</span></span> 

<span data-ttu-id="41161-167">Os internos do DirectWrite foram atualizados para dar suporte a fontes de variáveis OpenType.</span><span class="sxs-lookup"><span data-stu-id="41161-167">DirectWrite internals have been updated to support OpenType variable fonts.</span></span> <span data-ttu-id="41161-168">Usando as APIs atuais, isso fornece suporte para quaisquer instâncias nomeadas de uma fonte variável.</span><span class="sxs-lookup"><span data-stu-id="41161-168">Using current APIs, this provides support for any named instances of a variable font.</span></span> <span data-ttu-id="41161-169">Esse suporte pode ser usado para fluxos de trabalho completos — da enumeração das instâncias nomeadas, da seleção de uma instância nomeada, do uso em layout e formatação, à renderização e à impressão.</span><span class="sxs-lookup"><span data-stu-id="41161-169">This support can be used for complete workflows — from enumeration of the named instances, selection of a named instance, use in layout and shaping, to rendering and printing.</span></span> <span data-ttu-id="41161-170">Para o benefício dos aplicativos que também usam a interoperabilidade de texto GDI para determinadas operações, o suporte semelhante também foi adicionado em APIs GDI existentes.</span><span class="sxs-lookup"><span data-stu-id="41161-170">For the benefit of apps that also use GDI text interop for certain operations, similar support has also been added in existing GDI APIs.</span></span> 

<span data-ttu-id="41161-171">Na atualização do Windows 10 para criadores, o DirectWrite não oferece suporte a instâncias arbitrárias que utilizam o recurso de variação contínua de fontes de variáveis.</span><span class="sxs-lookup"><span data-stu-id="41161-171">In the Windows 10 Creators Update, DirectWrite does not support arbitrary instances that utilize the continuous-variation capability of variable fonts.</span></span>

<span data-ttu-id="41161-172">Em muitas operações, o comportamento em DirectWrite de instâncias nomeadas de uma fonte de variável não pode ser diferenciado do comportamento de fontes não variáveis.</span><span class="sxs-lookup"><span data-stu-id="41161-172">In many operations, the behavior in DirectWrite of named instances of a variable font cannot be distinguished from the behavior of non-variable fonts.</span></span> <span data-ttu-id="41161-173">E como o suporte é fornecido usando APIs DirectWrite existentes, as instâncias nomeadas de fontes de variáveis podem até mesmo trabalhar em muitos aplicativos DirectWrite existentes sem nenhuma alteração.</span><span class="sxs-lookup"><span data-stu-id="41161-173">And since support is provided using existing DirectWrite APIs, the named instances of variable fonts can even work in many existing DirectWrite apps without any changes.</span></span> <span data-ttu-id="41161-174">No entanto, as exceções podem ser aplicadas em determinadas situações:</span><span class="sxs-lookup"><span data-stu-id="41161-174">Exceptions may apply, however, in certain situations:</span></span>  

-   <span data-ttu-id="41161-175">Se um aplicativo processar dados de fonte diretamente para determinadas operações.</span><span class="sxs-lookup"><span data-stu-id="41161-175">If an app processes font data directly for certain operations.</span></span> <span data-ttu-id="41161-176">Por exemplo, se um aplicativo lê dados de estrutura de tópicos de glifo diretamente do arquivo de fonte para criar determinados efeitos visuais.</span><span class="sxs-lookup"><span data-stu-id="41161-176">For example, if an app reads glyph outline data directly from the font file to create certain visual effects.</span></span>
-   <span data-ttu-id="41161-177">Se um aplicativo usar uma biblioteca de terceiros para determinadas operações.</span><span class="sxs-lookup"><span data-stu-id="41161-177">If an app uses a third-party library for certain operations.</span></span> <span data-ttu-id="41161-178">Por exemplo, se um aplicativo usa DirectWrite para layout, para obter os índices de glifo e as posições finais, mas usa uma biblioteca de terceiros para renderização.</span><span class="sxs-lookup"><span data-stu-id="41161-178">For example, if an app uses DirectWrite for layout, to get final glyph indices and positions, but then uses a third-party library for rendering.</span></span>
-   <span data-ttu-id="41161-179">Se um aplicativo inserir dados de fonte em um documento ou de alguma outra maneira passar os dados da fonte para um processo downstream.</span><span class="sxs-lookup"><span data-stu-id="41161-179">If an app embeds font data into a document or in some other way passes font data to a downstream process.</span></span>

<span data-ttu-id="41161-180">Se as operações forem executadas usando implementações que não dão suporte a fontes variáveis, essas operações poderão não produzir os resultados esperados.</span><span class="sxs-lookup"><span data-stu-id="41161-180">If operations are performed using implementations that do not support variable fonts, then these operations may not produce the expected results.</span></span> <span data-ttu-id="41161-181">Por exemplo, as posições de glifo podem ser calculadas para uma instância nomeada da fonte variável, mas os glifos podem ser renderizados supondo uma instância nomeada diferente.</span><span class="sxs-lookup"><span data-stu-id="41161-181">For example, glyph positions might be calculated for one named instance of the variable font, but the glyphs might be rendered assuming a different named instance.</span></span> <span data-ttu-id="41161-182">Dependendo da implementação do aplicativo, os resultados podem funcionar em alguns contextos, mas não em outros contextos nos quais outras bibliotecas podem ser usadas.</span><span class="sxs-lookup"><span data-stu-id="41161-182">Depending on application implementation, results may work in some contexts but not in other contexts in which other libraries may be used.</span></span> <span data-ttu-id="41161-183">Por exemplo, o texto pode ser exibido corretamente na tela, mas não quando impresso.</span><span class="sxs-lookup"><span data-stu-id="41161-183">For example, text may display correctly on screen, but not when printed.</span></span> <span data-ttu-id="41161-184">Se os fluxos de trabalho de ponta a ponta forem implementados usando apenas DirectWrite, o comportamento correto para instâncias nomeadas de uma fonte variável poderá ser esperado.</span><span class="sxs-lookup"><span data-stu-id="41161-184">If end-to-end workflows are implemented using only DirectWrite, then correct behavior for named instances of a variable font can be expected.</span></span> 

<span data-ttu-id="41161-185">Como as APIs DirectWrite existentes dão suporte à seleção de face usando o modelo de peso/Stretch/estilo, as instâncias nomeadas de fontes que usam outros eixos de variação serão projetadas do modelo de família tipográfica geral para o modelo do WSS, conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="41161-185">Since existing DirectWrite APIs support face selection using the weight/stretch/style model, the named instances of fonts that use other axes of variation will be projected from the general, typographic family model into the WSS model, as described above.</span></span> <span data-ttu-id="41161-186">Isso depende de uma fonte variável, incluindo uma tabela "atributos de estilo" (' STAT ') com subtabelas de valor de eixo, que o DWrite usa para distinguir tokens de nome de face que designam atributos de peso, ampliação ou estilo de tokens que pertencem a outros eixos de variação.</span><span class="sxs-lookup"><span data-stu-id="41161-186">This relies on a variable font including a “style attributes” (‘STAT’) table with axis-value subtables, which DWrite uses to distinguish face name tokens that designate weight, stretch or style attributes from tokens that pertain to other axes of variation.</span></span>  

<span data-ttu-id="41161-187">Se uma fonte de variável não incluir uma tabela ' STAT ', conforme necessário para fontes de variáveis pela especificação OpenType, DirectWrite tratará a fonte como uma fonte não variável contendo apenas a instância padrão.</span><span class="sxs-lookup"><span data-stu-id="41161-187">If a variable font does not include a ‘STAT’ table, as required for variable fonts by the OpenType specification, then DirectWrite will treat the font as a non-variable font containing only the default instance.</span></span>  

<span data-ttu-id="41161-188">Se uma fonte contiver uma tabela ' STAT ', mas não incluir subtabelas de valor do eixo apropriado, isso poderá levar a resultados inesperados, como ter várias faces que têm nomes de face idênticos.</span><span class="sxs-lookup"><span data-stu-id="41161-188">If a font does contain a ‘STAT’ table but it does not include appropriate axis-value subtables, this may lead to unexpected results, such as having multiple faces that have identical face names.</span></span> <span data-ttu-id="41161-189">Essas fontes não têm suporte no momento.</span><span class="sxs-lookup"><span data-stu-id="41161-189">Such fonts are not supported at this time.</span></span> 

<span data-ttu-id="41161-190">A especificação OpenType permite que os dados de estrutura de tópicos de glifo sejam representados em um dos dois formatos: usando uma tabela ' glyf ', que usa a estrutura de tópicos TrueType e o formato de dica, ou usando uma tabela ' CFF ', que usa a representação de formato de fonte compacto ("CFF").</span><span class="sxs-lookup"><span data-stu-id="41161-190">The OpenType specification allows for glyph outline data to be represented in one of two formats: using a ‘glyf’ table, which uses TrueType outline and hinting format, or using a ‘CFF’ table, which uses Compact Font Format (“CFF”) representation.</span></span> <span data-ttu-id="41161-191">Em uma fonte variável com contornos TrueType, a tabela ' glyf ' continua sendo usada e é complementada com uma tabela ' GVAR ' que fornece os dados de variação para os contornos.</span><span class="sxs-lookup"><span data-stu-id="41161-191">In a variable font with TrueType outlines, the ‘glyf’ table continues to be used, and is supplemented with a ‘gvar’ table that supplies the variation data for the outlines.</span></span> <span data-ttu-id="41161-192">Isso significa que a instância padrão de uma fonte variável com contornos TrueType usa apenas tabelas OpenType tradicionais que terão suporte em softwares mais antigos que não têm suporte à fonte variável.</span><span class="sxs-lookup"><span data-stu-id="41161-192">This means that the default instance of a variable font with TrueType outlines uses only traditional OpenType tables that will be supported in older software that has no variable font support.</span></span> <span data-ttu-id="41161-193">No entanto, em uma fonte variável com contornos CFF, a tabela ' CFF ' é substituída pela tabela ' CFF2 ', que encapsula os dados de estrutura de tópicos padrão e os dados de variação associados em uma tabela.</span><span class="sxs-lookup"><span data-stu-id="41161-193">In a variable font with CFF outlines, however, the ‘CFF’ table is superseded by the ‘CFF2’ table, which encapsulates the default outline data and the associated variation data in one table.</span></span> <span data-ttu-id="41161-194">Os dados CFF são processados por um rasterizador separado do usado para dados TrueType, e uma tabela ' CFF2 ' requer um rasterizador CFF atualizado com suporte a ' CFF2 '.</span><span class="sxs-lookup"><span data-stu-id="41161-194">CFF data is processed by a separate rasterizer from that used for TrueType data, and a ‘CFF2’ table requires an updated CFF rasterizer that has ‘CFF2’ support.</span></span> <span data-ttu-id="41161-195">Uma tabela ' CFF2 ' não pode ser processada por rasterizadores CFF mais antigos.</span><span class="sxs-lookup"><span data-stu-id="41161-195">A ‘CFF2’ table cannot be processed by older CFF rasterizers.</span></span> <span data-ttu-id="41161-196">Para uma fonte variável com dados de estrutura de tópicos CFF, isso significa que até mesmo a instância padrão não funcionará em software mais antigo.</span><span class="sxs-lookup"><span data-stu-id="41161-196">For a variable font with CFF outline data, this means that even the default instance will not work in older software.</span></span> 

<span data-ttu-id="41161-197">Na atualização do Windows 10 para criadores, o DirectWrite não oferece suporte a fontes variáveis com dados de estrutura de tópicos CFF usando a tabela ' CFF2 '.</span><span class="sxs-lookup"><span data-stu-id="41161-197">In the Windows 10 Creators Update, DirectWrite does not support variable fonts with CFF outline data using the ‘CFF2’ table.</span></span> 

## <a name="using-opentype-variable-fonts"></a><span data-ttu-id="41161-198">Usando fontes de variáveis OpenType</span><span class="sxs-lookup"><span data-stu-id="41161-198">Using OpenType variable fonts</span></span>

<span data-ttu-id="41161-199">As fontes de variáveis OpenType podem ser fáceis de usar, tendo em mente as limitações atuais indicadas acima:</span><span class="sxs-lookup"><span data-stu-id="41161-199">OpenType variable fonts can be easy to use, keeping in mind the current limitations noted above:</span></span> 

-   <span data-ttu-id="41161-200">No momento, só há suporte para instâncias nomeadas de uma fonte variável.</span><span class="sxs-lookup"><span data-stu-id="41161-200">Only named instances of a variable font are supported at this time.</span></span>
-   <span data-ttu-id="41161-201">Somente as fontes variáveis que usam dados de estrutura de tópicos de glifo TrueType (não contornos CFF) têm suporte no momento.</span><span class="sxs-lookup"><span data-stu-id="41161-201">Only variable fonts that use TrueType glyph outline data (not CFF outlines) are supported at this time.</span></span> 
-   <span data-ttu-id="41161-202">Para fontes que usam eixos de variação de design diferentes de peso, ampliação ou estilo, as instâncias nomeadas serão projetadas no modelo da família WSS, o que pode resultar em algumas instâncias nomeadas aparecendo como famílias separadas (como ocorreria no passado para fontes não variáveis).</span><span class="sxs-lookup"><span data-stu-id="41161-202">For fonts that use axes of design variation other than weight, stretch or style, named instances will get projected into the WSS family model, which may result in some named instances appearing as separate families (as would happen in the past for non-variable fonts).</span></span> <span data-ttu-id="41161-203">Para dar suporte a isso, as fontes de variáveis devem ter uma tabela ' STAT ' que inclua subtabelas de valor de eixo apropriadas.</span><span class="sxs-lookup"><span data-stu-id="41161-203">To support this, variable fonts must have a ‘STAT’ table that includes appropriate axis-value subtables.</span></span>
-   <span data-ttu-id="41161-204">Há suporte para instâncias nomeadas de fontes de variáveis em APIs DirectWrite, mas se determinadas operações forem executadas em implementações mais antigas que não dão suporte a fontes variáveis, elas poderão produzir resultados incorretos.</span><span class="sxs-lookup"><span data-stu-id="41161-204">Named instances of variable fonts are supported in DirectWrite APIs, but if certain operations are performed in older implementations that do not support variable fonts, those may produce incorrect results.</span></span> 
-   <span data-ttu-id="41161-205">Determinadas APIs DirectWrite usam as enumerações de [**\_ \_ espessura de fonte DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), DWRITE de fonte e DWRITE para especificar os atributos de peso, ampliação e estilo ao selecionar faces. [**\_ \_**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) [**\_ \_**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style)</span><span class="sxs-lookup"><span data-stu-id="41161-205">Certain DirectWrite APIs use the [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight), [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) and [**DWRITE\_FONT\_STYLE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_style) enumerations for specifying weight, stretch and style attributes when selecting faces.</span></span> <span data-ttu-id="41161-206">Se uma fonte de variável usar eixos de variação correspondentes, mas tiver muitas instâncias nomeadas que exigem granularidade mais fina, nem todas as instâncias nomeadas serão selecionáveis nessas APIs.</span><span class="sxs-lookup"><span data-stu-id="41161-206">If a variable font uses corresponding variation axes but has many named instances that require finer granularity, not all of the named instances will be selectable in those APIs.</span></span>

<span data-ttu-id="41161-207">As fontes de variáveis OpenType que estão em conformidade com esses requisitos podem ser instaladas a partir do shell do Windows, assim como outras fontes OpenType, e também podem ser usadas em conjuntos de fontes personalizados criados por um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="41161-207">OpenType variable fonts that conform to these requirements can be installed from the Windows shell just like other OpenType fonts, and can also be used in custom font sets created by an app.</span></span>  

<span data-ttu-id="41161-208">Quando instalado no sistema, todas as instâncias nomeadas de uma fonte de variável serão incluídas no conjunto de fontes retornado chamando o método IDWriteFontFamily3::[**GetSystemFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) .</span><span class="sxs-lookup"><span data-stu-id="41161-208">When installed in the system, all named instances of a variable font will be included in the font set returned by calling the IDWriteFontFamily3::[**GetSystemFontSet**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefactory3-getsystemfontset) method.</span></span> <span data-ttu-id="41161-209">Observe que um conjunto de fontes é uma lista simples sem uma hierarquia de agrupamento de família, mas cada item no conjunto tem uma propriedade Family-Name baseada no modelo da família WSS.</span><span class="sxs-lookup"><span data-stu-id="41161-209">Note that a font set is a flat list without a family-grouping hierarchy, but each item in the set has a family-name property based on the WSS family model.</span></span> <span data-ttu-id="41161-210">O conjunto de fontes pode ser filtrado para uma determinada instância denominada de fonte de variável usando os métodos [**IDWriteFontSet:: GetMatchingFonts**](idwritefontset-getmatchingfonts-overload.md) .</span><span class="sxs-lookup"><span data-stu-id="41161-210">The font set can be filtered for a particular variable-font named instance using the [**IDWriteFontSet::GetMatchingFonts**](idwritefontset-getmatchingfonts-overload.md) methods.</span></span> <span data-ttu-id="41161-211">Se estiver usando a sobrecarga **GetMatchingFonts** que usa um familyName, o familyName especificado deve usar o nome que está de acordo com o modelo da família de fontes do WSS.</span><span class="sxs-lookup"><span data-stu-id="41161-211">If using the **GetMatchingFonts** overload that takes a familyName, though, the familyName specified must use the name conforming to the WSS font-family model.</span></span> <span data-ttu-id="41161-212">A lista completa de nomes de família compatíveis com o WSS que ocorre em um conjunto de fontes pode ser obtida usando os métodos [**IDWriteFontSet:: Getvalordapropriedades**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) usando o \_ \_ \_ \_ nome da família da ID de propriedade da fonte DWRITE \_ .</span><span class="sxs-lookup"><span data-stu-id="41161-212">The complete list of WSS-compatible family names occurring in a font set can be obtained using the [**IDWriteFontSet::GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) methods using DWRITE\_FONT\_PROPERTY\_ID\_FAMILY\_NAME.</span></span>  

<span data-ttu-id="41161-213">Da mesma forma, todas as instâncias nomeadas de uma fonte de variável serão representadas na coleção de fontes retornada pelo método IDWriteFactory::[**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) .</span><span class="sxs-lookup"><span data-stu-id="41161-213">Similarly, all of the named instances of a variable font will be represented in the font collection returned by the IDWriteFactory::[**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection) method.</span></span> <span data-ttu-id="41161-214">Como os elementos de uma coleção de fontes são famílias de fontes baseadas no modelo do WSS, as instâncias nomeadas de uma fonte de variável podem ser representadas em uma coleção como membros de duas ou mais famílias de fontes.</span><span class="sxs-lookup"><span data-stu-id="41161-214">Because the elements of a font collection are font families based on the WSS model, the named instances of a variable font may be represented in a collection as members of two or more font families.</span></span> <span data-ttu-id="41161-215">Se o método [**IDWriteFontCollection:: FindFamilyName**](/windows/win32/api/dwrite/nf-dwrite-idwritefontcollection-findfamilyname) for usado, o parâmetro familyName deverá ser um nome de família compatível com o WSS.</span><span class="sxs-lookup"><span data-stu-id="41161-215">If the [**IDWriteFontCollection::FindFamilyName**](/windows/win32/api/dwrite/nf-dwrite-idwritefontcollection-findfamilyname) method is used, the familyName parameter must be a WSS-compatible family name.</span></span> <span data-ttu-id="41161-216">Para localizar todos os nomes de família compatíveis com o WSS de uma coleção de fontes, um aplicativo pode executar um loop em cada família e chamar [**IDWriteFontFamily:: Getfamilynames**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfamily-getfamilynames), embora possa ser mais fácil obter um conjunto de fontes correspondente e usar o método [**getvalordapropriedades**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) , conforme descrito acima.</span><span class="sxs-lookup"><span data-stu-id="41161-216">To find all of the WSS-compatible family names from a font collection, an app can loop through each family and call [**IDWriteFontFamily::GetFamilyNames**](/windows/win32/api/dwrite/nf-dwrite-idwritefontfamily-getfamilynames), though it may be easier to obtain a corresponding font set and use the [**GetPropertyValues**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontset-getpropertyvalues(dwrite_font_property_id_idwritestringlist)) method as described above.</span></span> 

<span data-ttu-id="41161-217">Ao trabalhar com fontes personalizadas, várias abordagens descritas no tópico [conjuntos de fontes personalizadas](custom-font-sets-win10.md) podem ser usadas para criar um conjunto de fontes.</span><span class="sxs-lookup"><span data-stu-id="41161-217">When working with custom fonts, various approaches described in the [Custom Font Sets](custom-font-sets-win10.md) topic can be used to create a font set.</span></span> <span data-ttu-id="41161-218">Para adicionar uma fonte variável a um conjunto de fontes personalizadas, o método [**IDWriteFontSetBuilder1:: AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) é recomendado, pois oferece suporte a fontes variáveis e adicionará todas as instâncias nomeadas de uma fonte variável em uma única chamada.</span><span class="sxs-lookup"><span data-stu-id="41161-218">To add a variable font to a custom font set, the [**IDWriteFontSetBuilder1::AddFontFile**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder1-addfontfile) method is recommended since it supports variable fonts and will add all of the named instances of a variable font in a single call.</span></span> <span data-ttu-id="41161-219">No momento, não há como adicionar instâncias nomeadas individuais de uma fonte de variável personalizada a um conjunto de fontes usando os métodos [**IDWriteFontSetBuilder:: AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) , uma vez que não há como criar uma referência de face de fonte especificando quais das instâncias nomeadas de um arquivo de fonte variável é pretendida.</span><span class="sxs-lookup"><span data-stu-id="41161-219">There is no way at this time to add individual named instances of a custom variable font to a font set using the [**IDWriteFontSetBuilder::AddFontFaceReference**](/windows/win32/api/dwrite_3/nf-dwrite_3-idwritefontsetbuilder-addfontfacereference(idwritefontfacereference)) methods since there is no way to create a font face reference specifying which of the named instances from a variable font file is intended.</span></span> <span data-ttu-id="41161-220">Isso significa que atualmente não há como adicionar instâncias nomeadas de uma fonte personalizada a um conjunto de fontes personalizadas com propriedades personalizadas atribuídas.</span><span class="sxs-lookup"><span data-stu-id="41161-220">This means that currently there is no way to add named instances of a custom font to a custom font set with custom properties assigned.</span></span> <span data-ttu-id="41161-221">Isso, por sua vez, significa que as fontes de variáveis personalizadas atualmente não podem ser usadas facilmente em conjunto com as APIs DirectWrite para fontes remotas.</span><span class="sxs-lookup"><span data-stu-id="41161-221">That in turn means that custom variable fonts currently cannot easily be used in conjunction with DirectWrite APIs for remote fonts.</span></span> <span data-ttu-id="41161-222">Se as instâncias nomeadas de uma fonte de variável forem incluídas em um conjunto de fontes do sistema, no entanto, as referências de face de fonte para cada instância nomeada já existirão e poderão ser adicionadas a conjuntos de fontes personalizados, incluindo com o uso de valores de propriedade personalizados.</span><span class="sxs-lookup"><span data-stu-id="41161-222">If named instances of a variable font are included in a system font set, however, font face references for each named instance will already exist, and these can be added to custom font sets, including with the use of custom property values.</span></span> <span data-ttu-id="41161-223">Consulte o tópico conjuntos de fontes personalizadas para obter mais detalhes.</span><span class="sxs-lookup"><span data-stu-id="41161-223">See the Custom Font Sets topic for more details.</span></span> 

<span data-ttu-id="41161-224">Ao trabalhar com fontes de variáveis, as enumerações de [**\_ \_ espessura**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight) de fonte DirectWrite DWRITE e [**DWRITE de \_ \_ Stretch de fonte**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) estão diretamente conectadas aos eixos de variação de peso e largura definidos na especificação OpenType, mas não são as mesmas.</span><span class="sxs-lookup"><span data-stu-id="41161-224">When working with variable fonts, the DirectWrite [**DWRITE\_FONT\_WEIGHT**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_weight) and [**DWRITE\_FONT\_STRETCH**](/windows/win32/api/dwrite/ne-dwrite-dwrite_font_stretch) enumerations are closely connected to the weight and width variation axes defined in the OpenType specification, but are not the same.</span></span> <span data-ttu-id="41161-225">Primeiro, a escala numérica para qualquer eixo de variação sempre dá suporte a valores fracionários, enquanto EspessuraDaFonte e fontStretch usam inteiros.</span><span class="sxs-lookup"><span data-stu-id="41161-225">First, the numeric scale for any variation axis always supports fractional values, while fontWeight and fontStretch use integers.</span></span> <span data-ttu-id="41161-226">A escala do eixo de peso OpenType usa valores variando de 1 a 1000, que também tem suporte em EspessuraDaFonte.</span><span class="sxs-lookup"><span data-stu-id="41161-226">The OpenType weight axis scale uses values ranging from 1 to 1000, which is also supported by fontWeight.</span></span> <span data-ttu-id="41161-227">Assim, a alteração de um valor de eixo de peso de variação para EspessuraDaFonte é relativamente pequena: a EspessuraDaFonte relatada para uma instância nomeada pode ser arredondada do valor exato usado para definir a instância nomeada dentro da fonte.</span><span class="sxs-lookup"><span data-stu-id="41161-227">Thus the change from a variation weight axis value to fontWeight is relatively minor: the fontWeight reported for a named instance may be rounded from the precise value used to define the named instance within the font.</span></span> <span data-ttu-id="41161-228">A distinção entre DirectWrite fontStretch e a escala do eixo de largura OpenType é maior: DirectWrite usa valores de 1 a 9, seguindo os valores de [usWidthClass](/typography/opentype/spec/os2#uswidthclass) da tabela do sistema operacional OpenType/2, enquanto a escala do eixo de largura OpenType usa valores positivos que representam uma porcentagem da largura normal.</span><span class="sxs-lookup"><span data-stu-id="41161-228">The distinction between DirectWrite fontStretch and the OpenType width axis scale is greater: DirectWrite uses values from 1 to 9, following the [usWidthClass](/typography/opentype/spec/os2#uswidthclass) values of the OpenType OS/2 table, while the OpenType width axis scale uses positive values representing a percentage of normal width.</span></span> <span data-ttu-id="41161-229">A documentação do [usWidthClass](/typography/opentype/spec/os2#uswidthclass) na especificação de OpenType fornece um mapeamento entre os valores de 1 a 9 e a porcentagem de valores normais.</span><span class="sxs-lookup"><span data-stu-id="41161-229">The [usWidthClass](/typography/opentype/spec/os2#uswidthclass) documentation in the OpenType specification provides a mapping between values 1 to 9 and percent-of-normal values.</span></span> <span data-ttu-id="41161-230">O valor fontStretch relatado para uma instância nomeada pode envolver arredondamento ao converter de valores de eixo de largura.</span><span class="sxs-lookup"><span data-stu-id="41161-230">The fontStretch value reported for a named instance may involve rounding when converting from width axis values.</span></span> 

<span data-ttu-id="41161-231">Ao criar um [**IDWriteTextFormat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat), uma coleção de fontes e as propriedades de fonte compatíveis com o WSS (nome da família, peso, ampliação e estilo) devem ser especificadas.</span><span class="sxs-lookup"><span data-stu-id="41161-231">When creating an [**IDWriteTextFormat**](/windows/win32/api/dwrite/nn-dwrite-idwritetextformat), a font collection and WSS-compatible font properties (family name, weight, stretch and style) must be specified.</span></span> <span data-ttu-id="41161-232">Isso também se aplica ao definir propriedades de formatação de fonte em um intervalo de texto [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) .</span><span class="sxs-lookup"><span data-stu-id="41161-232">This also applies when setting font formatting properties on a [**IDWriteTextLayout**](/windows/win32/api/dwrite/nn-dwrite-idwritetextlayout) text range.</span></span> <span data-ttu-id="41161-233">As propriedades podem ser obtidas de um objeto [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) ou de objetos [**IDWriteFont**](/windows/win32/api/dwrite/nn-dwrite-idwritefont) e [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) que representam uma determinada instância nomeada.</span><span class="sxs-lookup"><span data-stu-id="41161-233">The properties can be obtained from an [**IDWriteFontFace3**](/windows/win32/api/dwrite_3/nn-dwrite_3-idwritefontface3) object or from [**IDWriteFont**](/windows/win32/api/dwrite/nn-dwrite-idwritefont) and [**IDWriteFontFamily**](/windows/win32/api/dwrite/nn-dwrite-idwritefontfamily) objects that represent a particular named instance.</span></span> <span data-ttu-id="41161-234">Como observado acima, os valores retornados pelos métodos getweight e getstretch podem ser aproximações arredondadas para os valores reais do eixo usados para definir a instância nomeada, mas DirectWrite mapeará a combinação de propriedades de volta para a instância nomeada desejada.</span><span class="sxs-lookup"><span data-stu-id="41161-234">As observed above, the values returned by the GetWeight and GetStretch methods may be rounded approximations for the actual axis values used to define the named instance, but DirectWrite will map the combination of properties back to the desired named instance.</span></span> 

<span data-ttu-id="41161-235">Da mesma forma, se um aplicativo usar [**IDWriteFontFallbackBuilder**](idwritefontfallbackbuilder.md) para criar dados de fallback de fonte personalizada, as famílias serão especificadas para mapeamentos de intervalo de caracteres usando nomes de família compatíveis com o WSS.</span><span class="sxs-lookup"><span data-stu-id="41161-235">Similarly, if an app uses [**IDWriteFontFallbackBuilder**](idwritefontfallbackbuilder.md) to create custom font fallback data, families are specified for character-range mappings using WSS-compatible family names.</span></span> <span data-ttu-id="41161-236">O fallback de fonte no DirectWrite é baseado em famílias com DirectWrite selecionando uma variante em uma família de fallback que é uma correspondência mais próxima para a variante da família inicial.</span><span class="sxs-lookup"><span data-stu-id="41161-236">Font fallback within DirectWrite is based on families with DirectWrite selecting a variant within a fallback family that is a nearest match for the variant of the starting family.</span></span> <span data-ttu-id="41161-237">Para variantes que envolvem dimensões que não sejam peso, Stretch e Style, DirectWrite atualmente não conseguiria selecionar essas variantes em uma família de fallback, a menos que os dados de fallback personalizados fossem criados especificamente para fornecer mapeamentos de fallback para famílias que têm atributos não WSS específicos, como variantes de tamanho óptico de "Caption".</span><span class="sxs-lookup"><span data-stu-id="41161-237">For variants that involve dimensions other than weight, stretch and style, DirectWrite currently would not be able to select such variants within a fallback family unless custom fallback data were created specifically to provide fallback mappings for families that have particular non-WSS attributes, such as “Caption” optical size variants.</span></span>

 

 