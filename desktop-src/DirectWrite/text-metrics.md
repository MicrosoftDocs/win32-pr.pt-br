---
title: Métricas de texto
description: Para auxiliar o layout, a seleção de fontes personalizada e outras operações com uso intensivo de métrica, a partir do Windows 8, o DirectWrite tem várias novas APIs para expressar todas as informações sobre as fontes que você pode precisar para desenvolver aplicativos de Rich Text.
ms.assetid: 9df8c675-6f4d-4de7-916e-7dc51f5f04aa
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 73647ae4521b23afb399a4c66c8b25cdc46ba1b5
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "105812965"
---
# <a name="text-metrics"></a><span data-ttu-id="f9278-103">Métricas de texto</span><span class="sxs-lookup"><span data-stu-id="f9278-103">Text Metrics</span></span>

<span data-ttu-id="f9278-104">Para auxiliar o layout, a seleção de fontes personalizada e outras operações com uso intensivo de métrica, a partir do Windows 8, o [DirectWrite](direct-write-portal.md) tem várias novas APIs para expressar todas as informações sobre as fontes que você pode precisar para desenvolver aplicativos de Rich Text.</span><span class="sxs-lookup"><span data-stu-id="f9278-104">In order to assist your layout, custom font selection, and other metric intensive operations, starting in Windows 8, [DirectWrite](direct-write-portal.md) has a number of new APIs to express all the info about fonts that you might require to develop rich text apps.</span></span>

## <a name="panose"></a><span data-ttu-id="f9278-105">PANOSE</span><span class="sxs-lookup"><span data-stu-id="f9278-105">PANOSE</span></span>

<span data-ttu-id="f9278-106">O PANOse é um sistema de classificação visual para identificar tipos.</span><span class="sxs-lookup"><span data-stu-id="f9278-106">PANOSE is a visual classification system for identifying typefaces.</span></span> <span data-ttu-id="f9278-107">A classificação PANOse contém informações sobre a família, estilo de serif, peso, proporção, contraste, traço, estilo ARM, altura X etc. Esta informação descreve o estilo visual da fonte.</span><span class="sxs-lookup"><span data-stu-id="f9278-107">The PANOSE classification contains info on the family, serif style, weight, proportion, contrast, stroke, arm style, X-height, etc. This info describes the visual style of the font.</span></span> <span data-ttu-id="f9278-108">Essas informações são importantes porque as fontes com valores PANOse semelhantes parecem semelhantes.</span><span class="sxs-lookup"><span data-stu-id="f9278-108">This info is important because fonts with similar PANOSE values look similar.</span></span> <span data-ttu-id="f9278-109">Isso é muito útil em situações em que uma fonte não está disponível e o aplicativo precisa fazer fallback para uma fonte que está disponível.</span><span class="sxs-lookup"><span data-stu-id="f9278-109">This is very useful in situations where a font isn’t available and the app needs to fall back to a font that’s available.</span></span> <span data-ttu-id="f9278-110">Comparar os valores de PANOse para fontes permite que você escolha uma fonte semelhante visualmente à fonte original.</span><span class="sxs-lookup"><span data-stu-id="f9278-110">Comparing PANOSE values for fonts allows you to choose a font that’s similar visually to the original font.</span></span>

<span data-ttu-id="f9278-111">Para acessar as informações de PANOse para uma fonte, use o método [**Getpanose**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getpanose) nas interfaces [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) e [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) .</span><span class="sxs-lookup"><span data-stu-id="f9278-111">In order to access the PANOSE info for a font, use the [**GetPanose**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getpanose) method on the [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) and [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) interfaces.</span></span> <span data-ttu-id="f9278-112">Esse método retorna uma [**enumeração \_ Panose DWRITE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_panose) que contém todas as informações de Panose para essa fonte.</span><span class="sxs-lookup"><span data-stu-id="f9278-112">This method returns a [**DWRITE\_PANOSE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_panose) enumeration that contains all of the PANOSE info for that font.</span></span>

## <a name="additional-metrics"></a><span data-ttu-id="f9278-113">Métricas adicionais</span><span class="sxs-lookup"><span data-stu-id="f9278-113">Additional Metrics</span></span>

<span data-ttu-id="f9278-114">A partir do Windows 8, a API [DirectWrite](direct-write-portal.md) também dá suporte a várias novas métricas para expressar informações úteis sobre as fontes para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f9278-114">Starting in Windows 8, the [DirectWrite](direct-write-portal.md) API also supports a number of new metrics in order to express useful info about the fonts to your app.</span></span> <span data-ttu-id="f9278-115">Essas novas métricas incluem essas informações.</span><span class="sxs-lookup"><span data-stu-id="f9278-115">These new metrics include this info.</span></span>

-   <span data-ttu-id="f9278-116">Métricas da caixa delimitadora de glifos esquerda, direita, superior e inferior.</span><span class="sxs-lookup"><span data-stu-id="f9278-116">Left, Right, Top, and Bottom glyph bounding box metrics.</span></span>
-   <span data-ttu-id="f9278-117">Posicionamento X e Y para elementos sobrescrito e subscrito.</span><span class="sxs-lookup"><span data-stu-id="f9278-117">X and Y positioning for superscript and subscript elements.</span></span>
-   <span data-ttu-id="f9278-118">Informações de dimensionamento X e Y para elementos sobrescrito e subscrito.</span><span class="sxs-lookup"><span data-stu-id="f9278-118">X and Y scaling info for superscript and subscript elements.</span></span>
-   <span data-ttu-id="f9278-119">Se a fonte tem métricas tipográficas ou não.</span><span class="sxs-lookup"><span data-stu-id="f9278-119">Whether or not the font has typographic metrics.</span></span>

<span data-ttu-id="f9278-120">Essas informações estão disponíveis por meio do novo método [**Getmetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getmetrics) nas interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) e [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) .</span><span class="sxs-lookup"><span data-stu-id="f9278-120">This info is all available through the new [**GetMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getmetrics) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces.</span></span> <span data-ttu-id="f9278-121">Esse método retorna uma estrutura de [**\_ \_ METRICS1 de fonte DWRITE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_font_metrics1) que contém todas essas informações.</span><span class="sxs-lookup"><span data-stu-id="f9278-121">This method returns a [**DWRITE\_FONT\_METRICS1**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_font_metrics1) structure that contains all this info.</span></span>

## <a name="caret-metrics"></a><span data-ttu-id="f9278-122">Métricas de cursor</span><span class="sxs-lookup"><span data-stu-id="f9278-122">Caret Metrics</span></span>

<span data-ttu-id="f9278-123">Para criar aplicativos de edição de texto, você precisa acessar informações sobre como desenhar o cursor que navega pelo texto.</span><span class="sxs-lookup"><span data-stu-id="f9278-123">To create text editing apps you need access to info about how to draw the caret that navigates through the text.</span></span> <span data-ttu-id="f9278-124">A partir do Windows 8, o [DirectWrite](direct-write-portal.md) fornece o método [**GetCaretMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefontface1-getcaretmetrics) nas interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) e [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) para esse cenário.</span><span class="sxs-lookup"><span data-stu-id="f9278-124">Starting in Windows 8, [DirectWrite](direct-write-portal.md) provides the [**GetCaretMetrics**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefontface1-getcaretmetrics) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces for this scenario.</span></span> <span data-ttu-id="f9278-125">**GetCaretMetrics** retorna uma enumeração de [**\_ \_ métricas de cursor DWRITE**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_caret_metrics) que contém informações sobre a inclinação e o deslocamento do cursor ao longo da linha de base.</span><span class="sxs-lookup"><span data-stu-id="f9278-125">**GetCaretMetrics** returns a [**DWRITE\_CARET\_METRICS**](/windows/win32/api/Dwrite_1/ns-dwrite_1-dwrite_caret_metrics) enumeration which contains info about the slope and offset for the caret along the baseline.</span></span>

<span data-ttu-id="f9278-126">Essas informações serão especialmente úteis se você quiser ter a inclinação do cursor apropriadamente com texto em itálico.</span><span class="sxs-lookup"><span data-stu-id="f9278-126">This info is specifically helpful if you want to be able to have their caret slope appropriately with italic text.</span></span>

## <a name="monospaced-discoverability"></a><span data-ttu-id="f9278-127">Descoberta monoespaçada</span><span class="sxs-lookup"><span data-stu-id="f9278-127">Monospaced Discoverability</span></span>

<span data-ttu-id="f9278-128">Os aplicativos que permitem que os usuários gravem o código do computador geralmente usam fontes com espaçamento uniforme no lugar de fontes mais tradicionais.</span><span class="sxs-lookup"><span data-stu-id="f9278-128">Apps that allow your users to write computer code often use monospaced fonts in place of more traditional fonts.</span></span> <span data-ttu-id="f9278-129">Portanto, você pode ter mais controle sobre a seleção de fontes em aplicativos relacionados ao desenvolvimento, [DirectWrite](direct-write-portal.md) expressa se uma fonte tem ou não espaçamento uniforme por meio da API.</span><span class="sxs-lookup"><span data-stu-id="f9278-129">So you can have more control over font selection in apps related to development, [DirectWrite](direct-write-portal.md) expresses whether or not a font is monospaced through the API.</span></span> <span data-ttu-id="f9278-130">O método [**IsMonospacedFont**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-ismonospacedfont) na interface [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) retorna um booliano que indica se a fonte tem ou não espaçamento uniforme.</span><span class="sxs-lookup"><span data-stu-id="f9278-130">The [**IsMonospacedFont**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-ismonospacedfont) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) interface returns a Boolean that indicates whether or not the font is monospaced.</span></span>

## <a name="font-name-matching"></a><span data-ttu-id="f9278-131">Correspondência de nome de fonte</span><span class="sxs-lookup"><span data-stu-id="f9278-131">Font Name Matching</span></span>

<span data-ttu-id="f9278-132">Aplicativos de Rich Text como leitores de PDF precisam ser capazes de corresponder fontes em seu conteúdo a fontes no sistema, precisam de acesso a nomes completos de fontes em vários formatos.</span><span class="sxs-lookup"><span data-stu-id="f9278-132">Rich text apps like PDF readers need to be able to match fonts in their content to fonts on the system, need access to the full names of fonts in multiple formats.</span></span> <span data-ttu-id="f9278-133">Portanto, você pode corresponder melhor às fontes, [DirectWrite](direct-write-portal.md) contém uma enumeração que expressa informações de nomenclatura completas sobre uma fonte em muitos formatos.</span><span class="sxs-lookup"><span data-stu-id="f9278-133">So you can better match fonts, [DirectWrite](direct-write-portal.md) contains an enumeration that expresses full naming info about a font in many formats.</span></span>

<span data-ttu-id="f9278-134">Use a enumeração [**de \_ ID de \_ cadeia \_ de caracteres informativa DWRITE**](/windows/win32/api/dwrite/ne-dwrite-dwrite_informational_string_id) para obter o nome completo, o nome do script e o nome da CID de PostScript de qualquer fonte no sistema.</span><span class="sxs-lookup"><span data-stu-id="f9278-134">you use the [**DWRITE\_INFORMATIONAL\_STRING\_ID**](/windows/win32/api/dwrite/ne-dwrite-dwrite_informational_string_id) enumeration to get the full name, PostScript name, and PostScript CID name of any font on the system.</span></span> <span data-ttu-id="f9278-135">Essas informações são valiosas quando você precisa corresponder as fontes em seu aplicativo às fontes apropriadas no sistema local.</span><span class="sxs-lookup"><span data-stu-id="f9278-135">This info is valuable when you need to match fonts in your app to appropriate fonts on the local system.</span></span>

## <a name="glyph-advances"></a><span data-ttu-id="f9278-136">Avanços de glifo</span><span class="sxs-lookup"><span data-stu-id="f9278-136">Glyph Advances</span></span>

<span data-ttu-id="f9278-137">O método **GetGlyphAdvances** nas interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) e [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) usa a contagem de glifos e os índices dos quais você precisa de informações sobre os avanços e, em seguida, retorna os avanços dos glifos em questão.</span><span class="sxs-lookup"><span data-stu-id="f9278-137">The **GetGlyphAdvances** method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces takes in the glyph count and indices that you need advances info about and then returns the advances for the glyphs in question.</span></span>

## <a name="unicode-ranges"></a><span data-ttu-id="f9278-138">Intervalos Unicode</span><span class="sxs-lookup"><span data-stu-id="f9278-138">Unicode Ranges</span></span>

<span data-ttu-id="f9278-139">Os aplicativos que desejam manipular sua própria seleção de fonte precisam de acesso aos intervalos Unicode com suporte da fonte.</span><span class="sxs-lookup"><span data-stu-id="f9278-139">Apps that want to handle their own font selection need access to the Unicode ranges that are supported by the font.</span></span> <span data-ttu-id="f9278-140">Dessa forma, se uma ponto Unicode não tiver suporte da fonte, o aplicativo poderá escolher uma fonte apropriada que contenha esse glifo.</span><span class="sxs-lookup"><span data-stu-id="f9278-140">This way, if a Unicode codepoint isn’t supported by the font, the app can choose an appropriate font that contains that glyph.</span></span> <span data-ttu-id="f9278-141">Sem essas informações, o aplicativo pode usar uma fonte que não contém todos os glifos necessários para exibir as informações presentes.</span><span class="sxs-lookup"><span data-stu-id="f9278-141">Without this info, the app may use a font that doesn’t contain all the glyphs that are necessary to display the info present.</span></span>

<span data-ttu-id="f9278-142">O método [**GetUnicodeRanges**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getunicoderanges) nas interfaces [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) e [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) usa o número máximo de intervalos passados do cliente e retorna os intervalos reais com suporte da fonte.</span><span class="sxs-lookup"><span data-stu-id="f9278-142">The [**GetUnicodeRanges**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefont1-getunicoderanges) method on the [**IDWriteFontFace1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefontface1) and [**IDWriteFont1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefont1) interfaces takes in the maximum number of ranges passed in from the client, and returns the actual ranges supported by the font.</span></span>

## <a name="eudc-font-collection"></a><span data-ttu-id="f9278-143">Coleção de fontes EUDC</span><span class="sxs-lookup"><span data-stu-id="f9278-143">EUDC Font Collection</span></span>

<span data-ttu-id="f9278-144">Use o método [**GetEudcFontCollection**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefactory1-geteudcfontcollection) na interface [**IDWriteFactory1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefactory1) para acessar a coleção de fontes Eudc.</span><span class="sxs-lookup"><span data-stu-id="f9278-144">Use the [**GetEudcFontCollection**](/windows/win32/api/dwrite_1/nf-dwrite_1-idwritefactory1-geteudcfontcollection) method on the [**IDWriteFactory1**](/windows/win32/api/dwrite_1/nn-dwrite_1-idwritefactory1) interface access the EUDC font collection.</span></span> <span data-ttu-id="f9278-145">Esse método funciona da mesma maneira que [**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection), mas, em vez disso, retorna um ponteiro para uma coleção de fontes Eudc.</span><span class="sxs-lookup"><span data-stu-id="f9278-145">This method works in the same way as [**GetSystemFontCollection**](/windows/win32/api/dwrite/nf-dwrite-idwritefactory-getsystemfontcollection), but instead returns a pointer to an EUDC font collection.</span></span>

 

 