---
title: Funções de compartilhamento
description: As funções de compartilhamento de gerenciamento de rede controlam recursos compartilhados. Um recurso compartilhado é um recurso local em um servidor (por exemplo, um diretório de disco, um dispositivo de impressão ou um pipe nomeado) que pode ser acessado por usuários e aplicativos na rede.
ms.assetid: 3764c667-2290-48e6-ba3a-c74eee2c27f9
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5034d46e233ebb7ed4de691bd79942a3ecdf5263
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104366568"
---
# <a name="share-functions"></a><span data-ttu-id="12b4c-104">Funções de compartilhamento</span><span class="sxs-lookup"><span data-stu-id="12b4c-104">Share Functions</span></span>

<span data-ttu-id="12b4c-105">As funções de compartilhamento de gerenciamento de rede controlam recursos compartilhados.</span><span class="sxs-lookup"><span data-stu-id="12b4c-105">The network management share functions control shared resources.</span></span> <span data-ttu-id="12b4c-106">Um recurso compartilhado é um recurso local em um servidor (por exemplo, um diretório de disco, um dispositivo de impressão ou um pipe nomeado) que pode ser acessado por usuários e aplicativos na rede.</span><span class="sxs-lookup"><span data-stu-id="12b4c-106">A shared resource is a local resource on a server (for example, a disk directory, print device, or named pipe) that can be accessed by users and applications on the network.</span></span>

<span data-ttu-id="12b4c-107">As funções de compartilhamento são listadas a seguir.</span><span class="sxs-lookup"><span data-stu-id="12b4c-107">The share functions are listed following.</span></span>



| <span data-ttu-id="12b4c-108">Função</span><span class="sxs-lookup"><span data-stu-id="12b4c-108">Function</span></span>                                  | <span data-ttu-id="12b4c-109">Descrição</span><span class="sxs-lookup"><span data-stu-id="12b4c-109">Description</span></span>                                                          |
|-------------------------------------------|----------------------------------------------------------------------|
| [<span data-ttu-id="12b4c-110">**NetShareAdd**</span><span class="sxs-lookup"><span data-stu-id="12b4c-110">**NetShareAdd**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netshareadd)         | <span data-ttu-id="12b4c-111">Compartilha um recurso em um servidor.</span><span class="sxs-lookup"><span data-stu-id="12b4c-111">Shares a resource on a server.</span></span>                                       |
| [<span data-ttu-id="12b4c-112">**NetShareCheck**</span><span class="sxs-lookup"><span data-stu-id="12b4c-112">**NetShareCheck**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netsharecheck)     | <span data-ttu-id="12b4c-113">Consulta se um servidor está compartilhando um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="12b4c-113">Queries whether a server is sharing a device.</span></span>                        |
| [<span data-ttu-id="12b4c-114">**NetShareDel**</span><span class="sxs-lookup"><span data-stu-id="12b4c-114">**NetShareDel**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netsharedel)         | <span data-ttu-id="12b4c-115">Exclui um nome de compartilhamento da lista de recursos compartilhados de um servidor.</span><span class="sxs-lookup"><span data-stu-id="12b4c-115">Deletes a share name from a server's list of shared resources.</span></span>       |
| [<span data-ttu-id="12b4c-116">**NetShareEnum**</span><span class="sxs-lookup"><span data-stu-id="12b4c-116">**NetShareEnum**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netshareenum)       | <span data-ttu-id="12b4c-117">Recupera informações de compartilhamento sobre cada recurso compartilhado em um servidor.</span><span class="sxs-lookup"><span data-stu-id="12b4c-117">Retrieves share information about each shared resource on a server.</span></span>  |
| [<span data-ttu-id="12b4c-118">**NetShareGetInfo**</span><span class="sxs-lookup"><span data-stu-id="12b4c-118">**NetShareGetInfo**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netsharegetinfo) | <span data-ttu-id="12b4c-119">Recupera informações sobre um recurso compartilhado especificado em um servidor.</span><span class="sxs-lookup"><span data-stu-id="12b4c-119">Retrieves information about a specified shared resource on a server.</span></span> |
| [<span data-ttu-id="12b4c-120">**NetShareSetInfo**</span><span class="sxs-lookup"><span data-stu-id="12b4c-120">**NetShareSetInfo**</span></span>](/windows/desktop/api/lmshare/nf-lmshare-netsharesetinfo) | <span data-ttu-id="12b4c-121">Define os parâmetros de um recurso compartilhado.</span><span class="sxs-lookup"><span data-stu-id="12b4c-121">Sets a shared resource's parameters.</span></span>                                 |



 

<span data-ttu-id="12b4c-122">Essas funções de compartilhamento se aplicam somente a compartilhamentos em um servidor do protocolo LAN Manager.</span><span class="sxs-lookup"><span data-stu-id="12b4c-122">These share function apply only to shares on a Server Message Block (LAN Manager) server.</span></span> <span data-ttu-id="12b4c-123">Essas funções de compartilhamento não dão suporte a compartilhamentos de Sistema de Arquivos Distribuído (DFS).</span><span class="sxs-lookup"><span data-stu-id="12b4c-123">These share functions do not support Distributed File System (DFS) shares.</span></span> <span data-ttu-id="12b4c-124">Por exemplo, a função [**NetShareGetInfo**](/windows/desktop/api/lmshare/nf-lmshare-netsharegetinfo) só pode recuperar informações para um recurso de compartilhamento especificado em um servidor SMB.</span><span class="sxs-lookup"><span data-stu-id="12b4c-124">For example, the [**NetShareGetInfo**](/windows/desktop/api/lmshare/nf-lmshare-netsharegetinfo) function can only retrieve information for a specified share resource on an SMB Server.</span></span> <span data-ttu-id="12b4c-125">Para recuperar informações de um compartilhamento usando um provedor de rede diferente (WebDAV ou um compartilhamento DFS, por exemplo), use a função [**WNetGetConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetgetconnectiona) .</span><span class="sxs-lookup"><span data-stu-id="12b4c-125">To retrieve information for a share using a different network provider (WebDAV or a DFS share, for example), use the [**WNetGetConnection**](/windows/desktop/api/winnetwk/nf-winnetwk-wnetgetconnectiona) function.</span></span>

<span data-ttu-id="12b4c-126">A função [**NetShareAdd**](/windows/desktop/api/lmshare/nf-lmshare-netshareadd) permite que um usuário ou aplicativo Compartilhe um recurso de um tipo específico usando o nome de compartilhamento especificado.</span><span class="sxs-lookup"><span data-stu-id="12b4c-126">The [**NetShareAdd**](/windows/desktop/api/lmshare/nf-lmshare-netshareadd) function allows a user or application to share a resource of a specific type using the specified share name.</span></span> <span data-ttu-id="12b4c-127">A função **NetShareAdd** requer o nome do compartilhamento e o nome do dispositivo local para compartilhar o recurso.</span><span class="sxs-lookup"><span data-stu-id="12b4c-127">The **NetShareAdd** function requires the share name and local device name to share the resource.</span></span> <span data-ttu-id="12b4c-128">Um usuário ou aplicativo deve ter uma conta no servidor para acessar o recurso.</span><span class="sxs-lookup"><span data-stu-id="12b4c-128">A user or application must have an account on the server to access the resource.</span></span>

<span data-ttu-id="12b4c-129">Você também pode especificar um descritor de segurança a ser associado a um compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="12b4c-129">You can also specify a security descriptor to be associated with a share.</span></span> <span data-ttu-id="12b4c-130">Descritores de segurança especificam quais usuários têm permissão para acessar arquivos por meio do compartilhamento e com que tipo de acesso.</span><span class="sxs-lookup"><span data-stu-id="12b4c-130">Security descriptors specify which users are allowed to access files through the share, and with what type of access.</span></span> <span data-ttu-id="12b4c-131">Especifique um [**\_ descritor de segurança**](/windows/desktop/api/winnt/ns-winnt-security_descriptor) com o nível de informações do [**share \_ info \_ 502**](/windows/desktop/api/lmshare/ns-lmshare-share_info_502) ao chamar **NetShareAdd** ou [**NetShareSetInfo**](/windows/desktop/api/lmshare/nf-lmshare-netsharesetinfo).</span><span class="sxs-lookup"><span data-stu-id="12b4c-131">Specify a [**SECURITY\_DESCRIPTOR**](/windows/desktop/api/winnt/ns-winnt-security_descriptor) with the [**SHARE\_INFO\_502**](/windows/desktop/api/lmshare/ns-lmshare-share_info_502) information level when calling **NetShareAdd** or [**NetShareSetInfo**](/windows/desktop/api/lmshare/nf-lmshare-netsharesetinfo).</span></span> <span data-ttu-id="12b4c-132">O **NetShareSetInfo** dá suporte ao nível de informação [**\_ \_ 1501**](/windows/desktop/api/lmshare/ns-lmshare-share_info_1501) de informações de compartilhamento.</span><span class="sxs-lookup"><span data-stu-id="12b4c-132">**NetShareSetInfo** supports the [**SHARE\_INFO\_1501**](/windows/desktop/api/lmshare/ns-lmshare-share_info_1501) information level.</span></span> <span data-ttu-id="12b4c-133">Para obter mais informações sobre descritores de segurança, consulte [controle de acesso](/windows/desktop/SecAuthZ/access-control).</span><span class="sxs-lookup"><span data-stu-id="12b4c-133">For more information about security descriptors, see [Access Control](/windows/desktop/SecAuthZ/access-control).</span></span>

<span data-ttu-id="12b4c-134">As funções de gerenciamento de rede usam os seguintes nomes de compartilhamento especiais para IPC (comunicação entre processos) e administração remota do servidor:</span><span class="sxs-lookup"><span data-stu-id="12b4c-134">The network management functions use the following special share names for interprocess communication (IPC) and remote administration of the server:</span></span>

-   <span data-ttu-id="12b4c-135">IPC $, reservado para comunicação entre processos</span><span class="sxs-lookup"><span data-stu-id="12b4c-135">IPC$, reserved for interprocess communication</span></span>
-   <span data-ttu-id="12b4c-136">ADMIN $, reservado para administração remota</span><span class="sxs-lookup"><span data-stu-id="12b4c-136">ADMIN$, reserved for remote administration</span></span>
-   <span data-ttu-id="12b4c-137">R $, B $, C $ (e outros nomes de disco locais seguidos de um cifrão), atribuídos aos dispositivos de disco locais</span><span class="sxs-lookup"><span data-stu-id="12b4c-137">A$, B$, C$ (and other local disk names followed by a dollar sign), assigned to local disk devices</span></span>

<span data-ttu-id="12b4c-138">Para listar todas as conexões feitas a um recurso compartilhado em um servidor ou para listar todas as conexões estabelecidas de um determinado computador, chame a função [**NetConnectionEnum**](/windows/desktop/api/lmshare/nf-lmshare-netconnectionenum) .</span><span class="sxs-lookup"><span data-stu-id="12b4c-138">To list all connections made to a shared resource on a server, or to list all connections established from a particular computer, call the [**NetConnectionEnum**](/windows/desktop/api/lmshare/nf-lmshare-netconnectionenum) function.</span></span> <span data-ttu-id="12b4c-139">Você pode chamar **NetConnectionEnum** nas informações [**de \_ conexão \_ 0**](/windows/desktop/api/lmshare/ns-lmshare-connection_info_0) e informações de [**conexão \_ \_ 1**](/windows/desktop/api/lmshare/ns-lmshare-connection_info_1) níveis de informação.</span><span class="sxs-lookup"><span data-stu-id="12b4c-139">You can call **NetConnectionEnum** at the [**CONNECTION\_INFO\_0**](/windows/desktop/api/lmshare/ns-lmshare-connection_info_0) and [**CONNECTION\_INFO\_1**](/windows/desktop/api/lmshare/ns-lmshare-connection_info_1) information levels.</span></span>

<span data-ttu-id="12b4c-140">As funções de compartilhamento estão disponíveis nos seguintes níveis de informações, embora alguns níveis de compartilhamento sejam aplicáveis somente a algumas das funções de compartilhamento:</span><span class="sxs-lookup"><span data-stu-id="12b4c-140">Share functions are available at the following information levels although some share levels are only applicable to some of the share functions:</span></span>

-   [<span data-ttu-id="12b4c-141">**Informações de compartilhamento \_ \_ 0**</span><span class="sxs-lookup"><span data-stu-id="12b4c-141">**SHARE\_INFO\_0**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_0)
-   [<span data-ttu-id="12b4c-142">**Informações de compartilhamento \_ \_ 1**</span><span class="sxs-lookup"><span data-stu-id="12b4c-142">**SHARE\_INFO\_1**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_1)
-   [<span data-ttu-id="12b4c-143">**Informações de compartilhamento \_ \_ 2**</span><span class="sxs-lookup"><span data-stu-id="12b4c-143">**SHARE\_INFO\_2**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_2)
-   [<span data-ttu-id="12b4c-144">**Informações de compartilhamento \_ \_ 501**</span><span class="sxs-lookup"><span data-stu-id="12b4c-144">**SHARE\_INFO\_501**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_501)
-   [<span data-ttu-id="12b4c-145">**Informações de compartilhamento \_ \_ 502**</span><span class="sxs-lookup"><span data-stu-id="12b4c-145">**SHARE\_INFO\_502**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_502)
-   [<span data-ttu-id="12b4c-146">**Informações de compartilhamento \_ \_ 503**</span><span class="sxs-lookup"><span data-stu-id="12b4c-146">**SHARE\_INFO\_503**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_503)
-   [<span data-ttu-id="12b4c-147">**Informações de compartilhamento \_ \_ 1004**</span><span class="sxs-lookup"><span data-stu-id="12b4c-147">**SHARE\_INFO\_1004**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_1004)
-   [<span data-ttu-id="12b4c-148">**Informações de compartilhamento \_ \_ 1005**</span><span class="sxs-lookup"><span data-stu-id="12b4c-148">**SHARE\_INFO\_1005**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_1005)
-   [<span data-ttu-id="12b4c-149">**Informações de compartilhamento \_ \_ 1006**</span><span class="sxs-lookup"><span data-stu-id="12b4c-149">**SHARE\_INFO\_1006**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_1006)
-   [<span data-ttu-id="12b4c-150">**Informações de compartilhamento \_ \_ 1501**</span><span class="sxs-lookup"><span data-stu-id="12b4c-150">**SHARE\_INFO\_1501**</span></span>](/windows/desktop/api/lmshare/ns-lmshare-share_info_1501)

<span data-ttu-id="12b4c-151">Consulte a documentação para uma função de compartilhamento específica para obter detalhes.</span><span class="sxs-lookup"><span data-stu-id="12b4c-151">Please review to documentation for a specific share function for details.</span></span>

<span data-ttu-id="12b4c-152">Se estiver programando para Active Directory, você poderá chamar determinados métodos ADSI (interface do serviço de Active Directory) para obter a mesma funcionalidade que pode obter ao chamar as funções de compartilhamento de gerenciamento de rede.</span><span class="sxs-lookup"><span data-stu-id="12b4c-152">If you are programming for Active Directory, you may be able to call certain Active Directory Service Interface (ADSI) methods to achieve the same functionality you can achieve by calling the network management share functions.</span></span> <span data-ttu-id="12b4c-153">Para obter mais informações, consulte [**IADsFileShare**](/windows/desktop/api/iads/nn-iads-iadsfileshare).</span><span class="sxs-lookup"><span data-stu-id="12b4c-153">For more information, see [**IADsFileShare**](/windows/desktop/api/iads/nn-iads-iadsfileshare).</span></span>

 

 