---
description: Dispositivos de ponto de extremidade de áudio
ms.assetid: 773714fb-3b00-4f03-988f-05c5835f87cf
title: Dispositivos de ponto de extremidade de áudio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c14d21aa174e34f8cb4ddab520819446a0e0ec89
ms.sourcegitcommit: c7add10d695482e1ceb72d62b8a4ebd84ea050f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103920569"
---
# <a name="audio-endpoint-devices"></a><span data-ttu-id="de965-103">Dispositivos de ponto de extremidade de áudio</span><span class="sxs-lookup"><span data-stu-id="de965-103">Audio Endpoint Devices</span></span>

<span data-ttu-id="de965-104">O termo *dispositivo de ponto de extremidade* refere-se a um dispositivo de hardware que está em uma extremidade de um caminho de dados originado ou encerrado em um programa de aplicativo.</span><span class="sxs-lookup"><span data-stu-id="de965-104">The term *endpoint device* refers to a hardware device that lies at one end of a data path that originates or terminates at an application program.</span></span> <span data-ttu-id="de965-105">Exemplos de dispositivos de ponto de extremidade de áudio são palestrantes, fones de ouvido, microfones e CD players.</span><span class="sxs-lookup"><span data-stu-id="de965-105">Examples of audio endpoint devices are speakers, headphones, microphones, and CD players.</span></span> <span data-ttu-id="de965-106">Os dados de áudio que se movem ao longo do caminho de dados podem atravessar vários componentes de software e hardware durante sua jornada entre o aplicativo e o dispositivo de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-106">The audio data that moves along the data path might traverse a number of software and hardware components during its journey between the application and endpoint device.</span></span> <span data-ttu-id="de965-107">Embora esses componentes sejam essenciais para a operação do dispositivo de ponto de extremidade, eles tendem a ser invisíveis para os usuários.</span><span class="sxs-lookup"><span data-stu-id="de965-107">Although these components are essential to the operation of the endpoint device, they tend to be invisible to users.</span></span> <span data-ttu-id="de965-108">É mais provável que os usuários considerem em termos de dispositivos de ponto de extremidade que manipulam diretamente, e não em termos dos dispositivos em adaptadores de áudio que os dispositivos de ponto de extremidade conectam ou em termos dos componentes de software que processam os fluxos de áudio que fluem para e desses adaptadores.</span><span class="sxs-lookup"><span data-stu-id="de965-108">Users are more likely to think in terms of endpoint devices that they directly manipulate rather than in terms of the devices on audio adapters that the endpoint devices plug into or in terms of the software components that process the audio streams that flow to and from these adapters.</span></span>

<span data-ttu-id="de965-109">Para evitar confusão com dispositivos de ponto de extremidade, esta documentação refere-se a um dispositivo em um adaptador de áudio como um *dispositivo de adaptador*.</span><span class="sxs-lookup"><span data-stu-id="de965-109">To avoid confusion with endpoint devices, this documentation refers to a device on an audio adapter as an *adapter device*.</span></span>

<span data-ttu-id="de965-110">O diagrama a seguir mostra como os dispositivos de ponto de extremidade de áudio são diferentes dos dispositivos de adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-110">The following diagram shows how audio endpoint devices differ from adapter devices.</span></span>

![exemplos de dispositivos de ponto de extremidade de áudio e dispositivos de adaptador](images/devices.jpg)

<span data-ttu-id="de965-112">No diagrama anterior, veja a seguir exemplos de dispositivos de ponto de extremidade:</span><span class="sxs-lookup"><span data-stu-id="de965-112">In the preceding diagram, the following are examples of endpoint devices:</span></span>

-   <span data-ttu-id="de965-113">Speakers</span><span class="sxs-lookup"><span data-stu-id="de965-113">Speakers</span></span>
-   <span data-ttu-id="de965-114">Microfone</span><span class="sxs-lookup"><span data-stu-id="de965-114">Microphone</span></span>
-   <span data-ttu-id="de965-115">Dispositivo de entrada auxiliar</span><span class="sxs-lookup"><span data-stu-id="de965-115">Auxiliary input device</span></span>

<span data-ttu-id="de965-116">Veja a seguir exemplos de dispositivos de adaptador:</span><span class="sxs-lookup"><span data-stu-id="de965-116">The following are examples of adapter devices:</span></span>

-   <span data-ttu-id="de965-117">Dispositivo de saída Wave (contém o conversor digital para analógico)</span><span class="sxs-lookup"><span data-stu-id="de965-117">Wave output device (contains digital-to-analog converter)</span></span>
-   <span data-ttu-id="de965-118">Dispositivo de controles de saída (contém controles de volume e mudo)</span><span class="sxs-lookup"><span data-stu-id="de965-118">Output controls device (contains volume and mute controls)</span></span>
-   <span data-ttu-id="de965-119">Dispositivo de entrada Wave (contém o conversor analógico para digital)</span><span class="sxs-lookup"><span data-stu-id="de965-119">Wave input device (contains analog-to-digital converter)</span></span>
-   <span data-ttu-id="de965-120">Dispositivo de controles de entrada (contém controle de volume e multiplexador)</span><span class="sxs-lookup"><span data-stu-id="de965-120">Input controls device (contains volume control and multiplexer)</span></span>

<span data-ttu-id="de965-121">Normalmente, as interfaces de usuário de aplicativos de áudio referem-se a dispositivos de ponto de extremidade de áudio, e não a dispositivos de adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-121">Typically, the user interfaces of audio applications refer to audio endpoint devices, not to adapter devices.</span></span> <span data-ttu-id="de965-122">O Windows Vista simplifica o design de aplicativos amigáveis, dando suporte direto à abstração de dispositivo de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-122">Windows Vista simplifies the design of user-friendly applications by directly supporting the endpoint device abstraction.</span></span>

<span data-ttu-id="de965-123">Alguns dispositivos de ponto de extremidade podem se conectar permanentemente a um dispositivo adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-123">Some endpoint devices might permanently connect to an adapter device.</span></span> <span data-ttu-id="de965-124">Por exemplo, um computador pode conter dispositivos internos, como um CD player, um microfone ou alto-falantes integrados ao chassi do sistema.</span><span class="sxs-lookup"><span data-stu-id="de965-124">For example, a computer might contain internal devices such as a CD player, a microphone, or speakers that are integrated into the system chassis.</span></span> <span data-ttu-id="de965-125">Normalmente, o usuário não remove fisicamente esses dispositivos de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-125">Typically, the user does not physically remove these endpoint devices.</span></span>

<span data-ttu-id="de965-126">Outros dispositivos de ponto de extremidade podem se conectar a um adaptador de áudio por meio de tomadas de áudio.</span><span class="sxs-lookup"><span data-stu-id="de965-126">Other endpoint devices might connect to an audio adapter through audio jacks.</span></span> <span data-ttu-id="de965-127">O usuário conecta e desconecta esses dispositivos externos.</span><span class="sxs-lookup"><span data-stu-id="de965-127">The user plugs in and unplugs these external devices.</span></span> <span data-ttu-id="de965-128">Por exemplo, um dispositivo de ponto de extremidade de áudio, como um microfone externo ou fone de ouvido, está em uma extremidade de um cabo cuja outra extremidade se conecta a uma tomada em um dispositivo de adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-128">For example, an audio endpoint device such as an external microphone or headphones lies at one end of a cable whose other end plugs into a jack on an adapter device.</span></span>

<span data-ttu-id="de965-129">O adaptador se comunica com o processador do sistema por meio de um barramento do sistema (normalmente, PCI ou PCI Express) ou barramento externo (USB ou IEEE 1394) que dá suporte a Plug and Play (PnP).</span><span class="sxs-lookup"><span data-stu-id="de965-129">The adapter communicates with the system processor through a system bus (typically, PCI or PCI Express) or external bus (USB or IEEE 1394) that supports Plug and Play (PnP).</span></span> <span data-ttu-id="de965-130">Durante a enumeração do dispositivo, o Gerenciador de Plug and Play identifica os dispositivos no adaptador de áudio e registra esses dispositivos para torná-los disponíveis para uso pelo sistema operacional e por aplicativos.</span><span class="sxs-lookup"><span data-stu-id="de965-130">During device enumeration, the Plug and Play manager identifies the devices in the audio adapter and registers those devices to make them available for use by the operating system and by applications.</span></span>

<span data-ttu-id="de965-131">Ao contrário da conexão entre um adaptador e um barramento externo, como USB ou o barramento IEEE 1394, a conexão entre um dispositivo de ponto de extremidade e um dispositivo de adaptador não oferece suporte à detecção de dispositivo PnP.</span><span class="sxs-lookup"><span data-stu-id="de965-131">Unlike the connection between an adapter and an external bus such as USB or the IEEE 1394 bus, the connection between an endpoint device and an adapter device does not support PnP device detection.</span></span> <span data-ttu-id="de965-132">No entanto, alguns adaptadores de áudio oferecem suporte à *detecção de presença de Jack*: quando um plug-in é inserido ou removido de um conector, o hardware gera uma interrupção para notificar o driver do adaptador da alteração na configuração de hardware.</span><span class="sxs-lookup"><span data-stu-id="de965-132">However, some audio adapters support *jack-presence detection*: when a plug is inserted into or removed from a jack, the hardware generates an interrupt to notify the adapter driver of the change in the hardware configuration.</span></span> <span data-ttu-id="de965-133">O Gerenciador de pontos de extremidade do Windows Vista pode explorar essa capacidade de hardware para notificar aplicativos que os dispositivos de ponto de extremidade estão presentes a qualquer momento.</span><span class="sxs-lookup"><span data-stu-id="de965-133">The endpoint manager in Windows Vista can exploit this hardware capability to notify applications which endpoint devices are present at any time.</span></span> <span data-ttu-id="de965-134">Dessa forma, a operação do Endpoint Manager é análoga à do Gerenciador de Plug and Play, que controla os dispositivos de adaptador que estão presentes no sistema.</span><span class="sxs-lookup"><span data-stu-id="de965-134">In this way, the operation of the endpoint manager is analogous to that of the Plug and Play manager, which keeps track of the adapter devices that are present in the system.</span></span>

<span data-ttu-id="de965-135">No Windows Vista, o sistema de áudio controla os dispositivos de ponto de extremidade e os dispositivos de adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-135">In Windows Vista, the audio system keeps track of both endpoint devices and adapter devices.</span></span> <span data-ttu-id="de965-136">O Gerenciador de pontos de extremidade registra dispositivos de ponto de extremidade e o Gerenciador de Plug and Play registra os dispositivos de adaptador.</span><span class="sxs-lookup"><span data-stu-id="de965-136">The endpoint manager registers endpoint devices and the Plug and Play manager registers adapter devices.</span></span> <span data-ttu-id="de965-137">O registro de dispositivos de ponto de extremidade torna mais fácil para aplicativos amigáveis permitir que os usuários façam referência aos dispositivos de ponto de extremidade que os usuários manipulam diretamente em vez de se referir a dispositivos de adaptador que podem estar ocultos dentro do chassi do computador.</span><span class="sxs-lookup"><span data-stu-id="de965-137">Registering endpoint devices makes it easier for user-friendly applications to enable users to refer to the endpoint devices that users directly manipulate instead of referring to adapter devices that might be hidden inside the computer chassis.</span></span> <span data-ttu-id="de965-138">Os dispositivos de ponto de extremidade que são relatados pelo sistema operacional controlam com fidelidade as alterações dinâmicas na configuração de hardware de áudio que tem detecção de presença de sensor.</span><span class="sxs-lookup"><span data-stu-id="de965-138">The endpoint devices that are reported by the operating system faithfully track dynamic changes in the configuration of audio hardware that has jack-presence detection.</span></span> <span data-ttu-id="de965-139">Enquanto um dispositivo de ponto de extremidade permanece conectado, o sistema enumera esse dispositivo.</span><span class="sxs-lookup"><span data-stu-id="de965-139">While an endpoint device remains plugged in, the system enumerates that device.</span></span> <span data-ttu-id="de965-140">Quando o usuário desconectar um dispositivo de ponto de extremidade, o sistema deixará de enumerar.</span><span class="sxs-lookup"><span data-stu-id="de965-140">When the user unplugs an endpoint device, the system ceases to enumerate it.</span></span>

<span data-ttu-id="de965-141">Em versões anteriores do Windows, incluindo Windows 98, Windows me, Windows 2000 e Windows XP, o sistema apresenta explicitamente apenas dispositivos PnP a aplicativos.</span><span class="sxs-lookup"><span data-stu-id="de965-141">In earlier versions of Windows, including Windows 98, Windows Me, Windows 2000, and Windows XP, the system explicitly presents only PnP devices to applications.</span></span> <span data-ttu-id="de965-142">Portanto, os aplicativos devem inferir a existência de dispositivos de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-142">Thus, applications must infer the existence of endpoint devices.</span></span> <span data-ttu-id="de965-143">Um sistema operacional que não tem suporte explícito para dispositivos de ponto de extremidade força os aplicativos cliente a realizarem mais do trabalho em si.</span><span class="sxs-lookup"><span data-stu-id="de965-143">An operating system that lacks explicit support for endpoint devices forces client applications to do more of the work themselves.</span></span> <span data-ttu-id="de965-144">Por exemplo, um aplicativo de captura de áudio deve executar as seguintes etapas para habilitar a captura de um microfone externo:</span><span class="sxs-lookup"><span data-stu-id="de965-144">For example, an audio capture application must perform the following steps to enable capturing from an external microphone:</span></span>

1.  <span data-ttu-id="de965-145">Enumere todos os dispositivos de captura de áudio (estes são dispositivos de adaptador) que foram previamente registrados pelo Gerenciador de PnP.</span><span class="sxs-lookup"><span data-stu-id="de965-145">Enumerate all the audio capture devices (these are adapter devices) that were previously registered by the PnP manager.</span></span>
2.  <span data-ttu-id="de965-146">Depois de selecionar um dispositivo de captura, abra um fluxo de captura no dispositivo chamando a função **waveInOpen** ou usando a API do **DirectSoundCapture** ou do DirectShow.</span><span class="sxs-lookup"><span data-stu-id="de965-146">After selecting a capture device, open a capture stream on the device by either calling the **waveInOpen** function or by using the **DirectSoundCapture** or DirectShow API.</span></span>
3.  <span data-ttu-id="de965-147">Chame a função mixerOpen e use as outras funções do **mixerXxx** para procurar por uma \_ linha de microfone src de componente do mixer \_ \_ que corresponda ao dispositivo de captura aberto na etapa 2.</span><span class="sxs-lookup"><span data-stu-id="de965-147">Call the mixerOpen function and use the other **mixerXxx** functions to look for a MIXERLINE\_COMPONENTTYPE\_SRC\_MICROPHONE line that corresponds to the capture device opened in step 2.</span></span> <span data-ttu-id="de965-148">Essa é uma estimativa reinstruída.</span><span class="sxs-lookup"><span data-stu-id="de965-148">This is an educated guess.</span></span>
4.  <span data-ttu-id="de965-149">Desbloqueie o caminho de dados do microfone.</span><span class="sxs-lookup"><span data-stu-id="de965-149">Unblock the data path from the microphone.</span></span> <span data-ttu-id="de965-150">Se o caminho de dados incluir um nó sem áudio, o cliente deverá desabilitar o mudo do sinal do microfone.</span><span class="sxs-lookup"><span data-stu-id="de965-150">If the data path includes a mute node, then the client must disable muting of the signal from the microphone.</span></span> <span data-ttu-id="de965-151">Se o dispositivo de captura contiver um multiplexador para seleção entre várias entradas, o cliente deverá selecionar a entrada do microfone.</span><span class="sxs-lookup"><span data-stu-id="de965-151">If the capture device contains a multiplexer for selecting from among several inputs, then the client must select the microphone input.</span></span>

<span data-ttu-id="de965-152">Esse processo é propenso a erros, pois o software que executa essas operações poderá falhar se encontrar uma configuração de hardware que seus designers não preveem ou para as quais ele não foi testado.</span><span class="sxs-lookup"><span data-stu-id="de965-152">This process is error-prone because the software that performs these operations might fail if it encounters a hardware configuration that its designers did not anticipate or for which it was not tested.</span></span>

<span data-ttu-id="de965-153">No Windows Vista, que dá suporte a dispositivos de ponto de extremidade, o processo de conexão ao mesmo dispositivo de ponto de extremidade é muito mais simples:</span><span class="sxs-lookup"><span data-stu-id="de965-153">In Windows Vista, which supports endpoint devices, the process of connecting to the same endpoint device is much simpler:</span></span>

1.  <span data-ttu-id="de965-154">Selecione um microfone de uma coleção de dispositivos de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-154">Select a microphone from a collection of endpoint devices.</span></span>
2.  <span data-ttu-id="de965-155">Ative uma interface de captura de áudio nesse microfone.</span><span class="sxs-lookup"><span data-stu-id="de965-155">Activate an audio-capture interface on that microphone.</span></span>

<span data-ttu-id="de965-156">O sistema operacional faz todo o trabalho necessário para identificar e habilitar o dispositivo de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-156">The operating system does all the work necessary to identify and enable the endpoint device.</span></span> <span data-ttu-id="de965-157">Por exemplo, se o caminho de dados do microfone incluir um multiplexador, o sistema selecionará automaticamente a entrada do microfone para o multiplexador.</span><span class="sxs-lookup"><span data-stu-id="de965-157">For example, if the data path from the microphone includes a multiplexer, the system automatically selects the microphone input to the multiplexer.</span></span>

<span data-ttu-id="de965-158">O comportamento do subsistema de áudio é mais confiável e determinístico se os aplicativos, em vez de implementar seus próprios algoritmos de identificação de ponto de extremidade, podem relegador a tarefa de identificar dispositivos de ponto de extremidade para o sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="de965-158">The behavior of the audio subsystem is more reliable and deterministic if applications, instead of implementing their own endpoint-identification algorithms, can relegate the task of identifying endpoint devices to the operating system.</span></span> <span data-ttu-id="de965-159">Os fornecedores de software não precisam mais verificar se seus algoritmos de identificação de ponto de extremidade funcionam corretamente com todos os dispositivos e configurações de hardware de áudio disponíveis – eles podem simplesmente contar com o sistema operacional para identificação de ponto de extremidade.</span><span class="sxs-lookup"><span data-stu-id="de965-159">Software vendors no longer need to verify that their endpoint-identification algorithms work correctly with all available audio hardware devices and configurations—they can simply rely on the operating system for endpoint identification.</span></span> <span data-ttu-id="de965-160">Da mesma forma, os fornecedores de hardware não precisam mais verificar se cada aplicativo cliente relevante pode rapidamente identificar qualquer dispositivo de ponto de extremidade que esteja conectado ao adaptador de áudio — eles precisam apenas verificar se o sistema operacional pode identificar um dispositivo de ponto de extremidade conectado ao adaptador de áudio.</span><span class="sxs-lookup"><span data-stu-id="de965-160">Similarly, hardware vendors no longer need to verify that every relevant client application can readily identify any endpoint device that is connected to their audio adapter—they need only to verify that the operating system can identify an endpoint device that is connected to their audio adapter.</span></span>

<span data-ttu-id="de965-161">Os tópicos a seguir fornecem informações adicionais sobre dispositivos de ponto de extremidade de áudio:</span><span class="sxs-lookup"><span data-stu-id="de965-161">The following topics provide additional information about audio endpoint devices:</span></span>

-   [<span data-ttu-id="de965-162">Sobre a API do MMDevice</span><span class="sxs-lookup"><span data-stu-id="de965-162">About MMDevice API</span></span>](mmdevice-api.md)
-   [<span data-ttu-id="de965-163">Enumerando dispositivos de áudio</span><span class="sxs-lookup"><span data-stu-id="de965-163">Enumerating Audio Devices</span></span>](enumerating-audio-devices.md)
-   [<span data-ttu-id="de965-164">Cadeias de ID do ponto de extremidade</span><span class="sxs-lookup"><span data-stu-id="de965-164">Endpoint ID Strings</span></span>](endpoint-id-strings.md)
-   [<span data-ttu-id="de965-165">Propriedades do Dispositivo</span><span class="sxs-lookup"><span data-stu-id="de965-165">Device Properties</span></span>](device-properties.md)
-   [<span data-ttu-id="de965-166">Eventos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="de965-166">Device Events</span></span>](device-events.md)
-   [<span data-ttu-id="de965-167">Funções de dispositivo</span><span class="sxs-lookup"><span data-stu-id="de965-167">Device Roles</span></span>](device-roles.md)
-   [<span data-ttu-id="de965-168">Formatos de dispositivo</span><span class="sxs-lookup"><span data-stu-id="de965-168">Device Formats</span></span>](device-formats.md)

## <a name="related-topics"></a><span data-ttu-id="de965-169">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="de965-169">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="de965-170">Guia de programação</span><span class="sxs-lookup"><span data-stu-id="de965-170">Programming Guide</span></span>](programming-guide.md)
</dt> </dl>

 

 



