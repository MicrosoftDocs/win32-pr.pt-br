---
description: O som espacial da Microsoft é a solução em nível de plataforma da Microsoft para suporte a sons espaciais no Xbox, no Windows e no HoloLens 2, permitindo indicações de áudio surround e elevação (acima ou abaixo do ouvinte).
ms.assetid: 4F962F1A-CA4A-4018-BA97-516EA3519650
title: 'Som espacial para desenvolvedores '
ms.custom: contperf-fy21q1
ms.topic: article
ms.date: 09/18/2020
ms.openlocfilehash: 9db3614ea7932af874da351e7a92980d51b90011
ms.sourcegitcommit: f374b50b37160b683da16b59ac9340282a8f50a5
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/04/2021
ms.locfileid: "104560080"
---
# <a name="spatial-sound-for-developers"></a><span data-ttu-id="c8eb6-103">Som espacial para desenvolvedores </span><span class="sxs-lookup"><span data-stu-id="c8eb6-103">Spatial Sound for Developers</span></span>
> [!Note] 
> <span data-ttu-id="c8eb6-104">Esta documentação é destinada a um público do desenvolvedor.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-104">This documentation is targeted for a developer audience.</span></span> <span data-ttu-id="c8eb6-105">Para obter suporte ao usuário final para habilitar o som espacial em seu dispositivo, consulte [como ativar o som espacial no Windows 10](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-105">For end-user support for enabling spatial sound on your device, see [How to turn on spatial sound in Windows 10](https://support.microsoft.com/help/4563140/how-to-turn-on-spatial-sound-in-windows-10).</span></span>

<span data-ttu-id="c8eb6-106">O som espacial da Microsoft é a solução em nível de plataforma da Microsoft para suporte a sons espaciais no Xbox, no Windows e no HoloLens 2, permitindo indicações de áudio surround e elevação (acima ou abaixo do ouvinte). O som espacial pode ser aproveitado por aplicativos da área de trabalho do Windows (Win32), bem como aplicativos Plataforma Universal do Windows (UWP) em plataformas com suporte.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-106">Microsoft Spatial Sound is Microsoft’s platform-level solution for spatial sound support on Xbox, Windows and HoloLens 2, enabling both surround and elevation (above or below the listener) audio cues. Spatial sound can be leveraged by Windows desktop (Win32) apps as well as Universal Windows Platform (UWP) apps on supported platforms.</span></span> <span data-ttu-id="c8eb6-107">As APIs de som espacial permitem que os desenvolvedores criem objetos de áudio que emitem áudio de posições em espaço 3D.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-107">The spatial sound APIs allow developers to create audio objects that emit audio from positions in 3D space.</span></span> <span data-ttu-id="c8eb6-108">Os objetos de áudio dinâmicos permitem que você emita áudio de uma posição arbitrária no espaço, o que pode ser alterado ao longo do tempo.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-108">Dynamic audio objects allow you to emit audio from an arbitrary position in space, which can change over time.</span></span> <span data-ttu-id="c8eb6-109">Você também pode especificar que os objetos de áudio emitem som de um dos 17 canais estáticos predefinidos (8.1.4.4) que podem representar alto-falantes reais ou virtualizados.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-109">You can also specify that audio objects emit sound from one of 17 pre-defined static channels (8.1.4.4) that can represent real or virtualized speakers.</span></span> <span data-ttu-id="c8eb6-110">O formato de saída real é selecionado pelo usuário e pode ser extraído de implementações de som espacial da Microsoft; o áudio será apresentado a palestrantes existentes, fones de ouvido e receptores de Home Theater sem a necessidade de alterações de código ou conteúdo.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-110">The actual output format is selected by the user, and can be abstracted from Microsoft Spatial Sound implementations; audio will be presented to existing speakers, headphones, and home theater receivers without needing any code or content changes.</span></span> <span data-ttu-id="c8eb6-111">A plataforma dá suporte total à codificação Dolby Atmos em tempo real para saída de fone de ouvido de HDMI e estéreo, DTS: X para fones de ouvido e codificação do Windows Sonic para fones de ouvido para fones estéreo.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-111">The platform fully supports real-time Dolby Atmos encoding for both HDMI and stereo headphone output, DTS:X for Headphones, and Windows Sonic for Headphones encoding for stereo headphones.</span></span> <span data-ttu-id="c8eb6-112">Por fim, os aplicativos de som espacial da Microsoft obedecem à política de combinação do sistema e seu áudio também será misturado com aplicativos com reconhecimento não espacial.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-112">Finally, Microsoft Spatial Sound apps abide by the system mixing policy, and their audio will also be mixed with non-spatially aware apps.</span></span> <span data-ttu-id="c8eb6-113">O suporte a sons espaciais da Microsoft também é integrado ao Media Foundation; os aplicativos que usam o Media Foundation podem reproduzir com êxito o conteúdo Dolby Atmos sem implementação adicional.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-113">Microsoft Spatial Sound support is also integrated into Media Foundation; apps that use media foundation can successfully play Dolby Atmos content with no additional implementation.</span></span>

<span data-ttu-id="c8eb6-114">O som espacial com som espacial da Microsoft dá suporte a TVs, Home Theaters e barras de som que dão suporte a Dolby Atmos.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-114">Spatial sound with Microsoft Spatial Sound supports TVs, home theaters, and sound bars that support Dolby Atmos.</span></span> <span data-ttu-id="c8eb6-115">O som espacial também pode ser usado com qualquer par de fones de ouvido que o consumidor possa ter, com áudio renderizado pela plataforma usando o Windows Sonic para fones de ouvido, Dolby Atmos para fones de ouvido ou Headphone do DTS: X.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-115">Spatial sound can also be used with any pair of headphones the consumer may own, with audio rendered by the platform using Windows Sonic for Headphones, Dolby Atmos for Headphones, or DTS Headphone:X.</span></span>


## <a name="enabling-microsoft-spatial-sound"></a><span data-ttu-id="c8eb6-116">Habilitando o som espacial da Microsoft</span><span class="sxs-lookup"><span data-stu-id="c8eb6-116">Enabling Microsoft Spatial Sound</span></span>

<span data-ttu-id="c8eb6-117">Seja como desenvolvedor ou consumidor, um usuário deve habilitar o som espacial da Microsoft em seu dispositivo para ouvir o som espacial.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-117">Whether as a developer or a consumer, a user must enable Microsoft Spatial Sound on their device in order to hear spatialized sound.</span></span>

### <a name="windows"></a><span data-ttu-id="c8eb6-118">Windows</span><span class="sxs-lookup"><span data-stu-id="c8eb6-118">Windows</span></span>
<span data-ttu-id="c8eb6-119">Em computadores Windows, isso é feito por meio da página Propriedades de um determinado dispositivo de saída de som.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-119">On Windows PCs, this is done via the properties page for a given sound output device.</span></span> <span data-ttu-id="c8eb6-120">No painel de controle **som** , selecione um dispositivo de saída e clique em **Propriedades do dispositivo**.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-120">From the **Sound** control panel, select an output device and click **Device properties**.</span></span> <span data-ttu-id="c8eb6-121">Na seção **som espacial** da página, se o dispositivo der suporte a som espacial, você poderá selecionar um dos formatos disponíveis na lista suspensa **formato de som espacial** .</span><span class="sxs-lookup"><span data-stu-id="c8eb6-121">In the **Spatial sound** section of the page, if the device supports spatial sound, you can select one of the available formats from the **Spatial sound format** dropdown.</span></span>

![habilitar o som espacial no painel de controle de som](images/spatialsoundsettingswindows1.png)

<span data-ttu-id="c8eb6-123">Você também pode habilitar o som espacial da Microsoft clicando com o botão direito do mouse no ícone de **volume** na barra de tarefas.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-123">You can also enable Microsoft Spatial Sound by right-clicking the **Volume** icon in the taskbar.</span></span>

![habilitar o som espacial da barra de tarefas](images/spatialsoundsettingswindows2.png)

### <a name="xbox-one"></a><span data-ttu-id="c8eb6-125">Xbox One</span><span class="sxs-lookup"><span data-stu-id="c8eb6-125">Xbox One</span></span>
<span data-ttu-id="c8eb6-126">No Xbox One, os recursos de som espacial da Microsoft estão sempre disponíveis para o consumidor e são habilitados por meio do aplicativo configurações em **geral-> Volume & saída de áudio**.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-126">On Xbox One, Microsoft Spatial Sound capabilities are always available for the consumer, and are enabled via the Settings App under **General -> Volume & audio output**.</span></span>


![<span data-ttu-id="c8eb6-127">habilitar o som espacial no Xbox One no aplicativo de configurações</span><span class="sxs-lookup"><span data-stu-id="c8eb6-127">enable spatial sound on xbox one in the settings app</span></span> ](images/audiosettingsbitstream.png)

<span data-ttu-id="c8eb6-128">Após o Dolby Atmos for Home Theater ser selecionado como um "formato fragmentado", o suporte para esse formato é verificado por meio de dados de identificação de exibição estendida HDMI (EDID).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-128">After Dolby Atmos for home theater is selected as a “Bitstream format”, support for this format is checked via HDMI Extended Display Identification Data (EDID).</span></span> <span data-ttu-id="c8eb6-129">Se o dispositivo HDMI não oferecer suporte ao formato, uma mensagem de erro será exibida para o usuário.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-129">If the HDMI device does not support the format, an error message is displayed to the user.</span></span> <span data-ttu-id="c8eb6-130">Observe que selecionar essa opção na primeira vez requer que o usuário Baixe o aplicativo Dolby Access.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-130">Note that selecting this option the first time requires the user download the Dolby Access app.</span></span>

<span data-ttu-id="c8eb6-131">Se um formato diferente de "fragmentado out" for selecionado para **áudio HDMI** , a lista suspensa **formato fragmentado** será desabilitada.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-131">If a format other than "Bitstream out" is selected for **HDMI audio** then the **Bitstream format** dropdown is disabled.</span></span>

![<span data-ttu-id="c8eb6-132">som espacial desabilitado no Xbox One no aplicativo de configurações</span><span class="sxs-lookup"><span data-stu-id="c8eb6-132">spatial sound disabled on xbox one in the settings app</span></span> ](images/audiosettingsplain.png)

<span data-ttu-id="c8eb6-133">Selecione Dolby Atmos for fone de ouvido, DTS Headphone: X ou Windows Sonic para fones de ouvido na lista suspensa **formato do headset** em **áudio do headset**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-133">Select Dolby Atmos for Headphones, DTS Headphone:X, or Windows Sonic for Headphones from the **Headset format** dropdown under **Headset audio**</span></span>

![<span data-ttu-id="c8eb6-134">habilitar o som espacial para fones de ouvido no Xbox um no aplicativo de configurações</span><span class="sxs-lookup"><span data-stu-id="c8eb6-134">enable spatial sound for headphones on xbox one in the settings app</span></span> ](images/audiosettingsheadphone.png)

<span data-ttu-id="c8eb6-135">Quando o som espacial da Microsoft não estiver disponível (por exemplo, ao jogar para os auto-falantes estéreo inseridos no laptop ou se o usuário não tiver habilitado explicitamente o som espacial da Microsoft acima), o número de objetos dinâmicos disponíveis retornados por [**ISpatialAudioClient:: GetMaxDynamicObjectCount**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) para um aplicativo será 0.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-135">When Microsoft Spatial Sound is not available (for instance, when playing to embedded laptop stereo speakers, or if the user has not explicitly enabled Microsoft Spatial Sound per above), the number of available dynamic objects returned by [**ISpatialAudioClient::GetMaxDynamicObjectCount**](/windows/desktop/api/spatialaudioclient/nf-spatialaudioclient-ispatialaudioclient-getmaxdynamicobjectcount) to an application will be 0.</span></span>

### <a name="hololens-2"></a><span data-ttu-id="c8eb6-136">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="c8eb6-136">HoloLens 2</span></span>

<span data-ttu-id="c8eb6-137">No HoloLens 2, o som espacial da Microsoft é habilitado por padrão e usa o descarregamento de DSP de hardware projetado especificamente para o Windows Sonic para fones de ouvido.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-137">On HoloLens 2, Microsoft Spatial Sound is enabled by default and uses hardware DSP offload designed specifically for Windows Sonic for Headphones.</span></span>

## <a name="microsoft-spatial-sound-and-audio-middleware"></a><span data-ttu-id="c8eb6-138">Middleware de áudio e som espacial da Microsoft</span><span class="sxs-lookup"><span data-stu-id="c8eb6-138">Microsoft Spatial Sound and Audio Middleware</span></span>

<span data-ttu-id="c8eb6-139">Muitos desenvolvedores de aplicativos e jogos usam soluções de mecanismo de renderização de áudio de terceiros, que geralmente incluem ferramentas sofisticadas de criação e Auditioning.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-139">Many app and game developers use third party audio rendering engine solutions, which often include sophisticated authoring and auditioning tools.</span></span> <span data-ttu-id="c8eb6-140">A Microsoft estabeleceu um parceria com vários desses provedores de soluções para implementar o som espacial da Microsoft em seus ambientes de criação existentes.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-140">Microsoft has partnered with several of these solution providers to implement Microsoft Spatial Sound in their existing authoring environments.</span></span> <span data-ttu-id="c8eb6-141">Isso geralmente significa que as APIs discutidas aqui são abstratas da exibição do aplicativo; Eles são encapsulados como plug-ins de DSP (processamento de sinal digital) que o aplicativo pode instanciar e que o implementador de áudio do aplicativo pode usar para misturar a uma base de canal de som espacial da Microsoft, submix ou enviar vozes individuais para plug-ins de instância de objeto dinâmico conforme desejado.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-141">This will frequently mean the APIs discussed here are abstracted from the app’s view; they are wrapped as digital signal processing (DSP) plug-ins that the app can instantiate, and which the app’s audio implementer can use to mix to a Microsoft Spatial Sound channel bed, submix, or send individual voices to dynamic object instance plug-ins as desired.</span></span> <span data-ttu-id="c8eb6-142">Consulte o provedor de solução de middleware de áudio para obter o nível de suporte para o som espacial da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-142">Consult with your audio middleware solution provider for their level of support for Microsoft Spatial Sound.</span></span>

## <a name="microsoft-spatial-sound-for-audio-renderers"></a><span data-ttu-id="c8eb6-143">Som espacial da Microsoft para renderizadores de áudio</span><span class="sxs-lookup"><span data-stu-id="c8eb6-143">Microsoft Spatial Sound for Audio Renderers</span></span>

<span data-ttu-id="c8eb6-144">Muitos renderizadores de áudio visam um ponto de extremidade de WASAPI (API de sessão de áudio do Windows) [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) , em que o aplicativo alimenta buffers de dados de áudio mistos e de formato compatível com um coletor de áudio WASAPI; os buffers entregues são então consumidos para misturar com outros clientes, processamento final do nível do sistema e renderização.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-144">Many audio renderers target a Windows Audio Session API (WASAPI) [**IAudioClient**](/windows/desktop/api/Audioclient/nn-audioclient-iaudioclient) endpoint, where the application feeds buffers of mixed and format-conformed audio data to a WASAPI audio sink; the delivered buffers are then consumed for mixing with other clients, final system-level processing, and rendering.</span></span>

<span data-ttu-id="c8eb6-145">Os pontos de extremidade espaciais de som espacial da Microsoft são implementados como [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient), que tem muitas semelhanças para **IAudioClient**.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-145">Microsoft Spatial Sound spatial endpoints are implemented as [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient), which has many similarities to **IAudioClient**.</span></span> <span data-ttu-id="c8eb6-146">Ele dá suporte a objetos de som *estáticos* que formam uma base de canal, com suporte para canais de até 8.1.4.4 (8 canais em todo o ouvinte – esquerda, direita, centro, lado esquerdo, lado direito, voltar à esquerda, voltar à direita e de trás; 1 canal de efeitos de baixa frequência; 4 canais acima do ouvinte; 4 canais abaixo do ouvinte).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-146">It supports *static* sound objects forming a channel bed, with support for up to 8.1.4.4 channels (8 channels around the listener – Left, Right, Center, Side Left, Side Right, Back Left, Back Right, and Back Center; 1 low frequency effects channel; 4 channels above the listener; 4 channels below the listener).</span></span> <span data-ttu-id="c8eb6-147">E ele dá suporte a objetos de som *dinâmicos* , que podem ser arbitrariamente posicionados no espaço 3D.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-147">And it supports *dynamic* sound objects, which can be arbitrarily positioned in 3D space.</span></span>

<span data-ttu-id="c8eb6-148">O padrão de codificação de implementação geral para **ISpatialAudioClient** é:</span><span class="sxs-lookup"><span data-stu-id="c8eb6-148">The general implementation coding pattern for **ISpatialAudioClient** is:</span></span>

-   <span data-ttu-id="c8eb6-149">Crie objetos de áudio estáticos e/ou dinâmicos.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-149">Create static and/or dynamic audio objects.</span></span>
-   <span data-ttu-id="c8eb6-150">Alimentar o buffer de áudio de cada objeto em cada quadro para que o sistema possa renderizá-lo.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-150">Feed each object’s audio buffer each frame so the system can render it.</span></span>
-   <span data-ttu-id="c8eb6-151">Atualizar posições 3D de objetos dinâmicos sob demanda – com frequência (ou raramente) como o aplicativo se desejar.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-151">Update dynamic objects’ 3D positions on demand – as frequently (or infrequently) as the app desires.</span></span>

<span data-ttu-id="c8eb6-152">Observe que o formato de saída atual (alto-falantes ou fones de ouvido; O Windows Sonic para fones de ouvido, o Dolby Atmos ou o Headphone do DTS: X) é dissociado da implementação acima – o desenvolvedor do aplicativo pode se concentrar no som espacial sem a necessidade de dinamizar com base no formato.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-152">Note that the current output format (speakers or headphones; Windows Sonic for Headphones, Dolby Atmos, or DTS Headphone:X) is abstracted from the above implementation – the app developer can focus on spatial sound without needing to pivot based on format.</span></span> <span data-ttu-id="c8eb6-153">Os aplicativos que desejam seu comportamento para a divergência com base no formato de saída podem consultar o formato em uso, mas a abstração significa que um aplicativo não é necessário para lidar com esses formatos.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-153">Apps that do want their behavior to diverge based on output format can query the format in use, but the abstraction means an app is not required to handle these formats.</span></span>

## <a name="microsoft-spatial-sound-integration-with-audio-renderers"></a><span data-ttu-id="c8eb6-154">Integração de som espacial da Microsoft com renderizadores de áudio</span><span class="sxs-lookup"><span data-stu-id="c8eb6-154">Microsoft Spatial Sound Integration with Audio Renderers</span></span>

<span data-ttu-id="c8eb6-155">Como [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) é um coletor de áudio que consome dados, um processador de áudio tem várias opções de como interagir com e entregar dados de áudio para ele.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-155">Because [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) is an audio sink that consumes data, an audio renderer has several options for how to interact with and deliver audio data to it.</span></span> <span data-ttu-id="c8eb6-156">Há três técnicas de integração comumente usadas (e para títulos que usam o middleware de áudio, você pode ver plug-ins equivalentes disponíveis com base nessas opções):</span><span class="sxs-lookup"><span data-stu-id="c8eb6-156">There are three commonly used integration techniques (and for titles using audio middleware, you may see equivalent plug-ins made available based on these options):</span></span>

-   <span data-ttu-id="c8eb6-157">**7.1.4 panorâmicas e mestre de voz**: renderizadores que já dão suporte a pontos de extremidade 7,1 podem optar por simplesmente adicionar suporte aos quatro canais de altura adicionais aos quais a cama do canal estático **ISpatialAudioClient** dá suporte.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-157">**7.1.4 panners and mastering voice**: Renderers that already support 7.1 endpoints may opt to simply add support for the four additional height channels that the **ISpatialAudioClient** static channel bed supports.</span></span> <span data-ttu-id="c8eb6-158">Qualquer movimento panorâmico anteriormente (provavelmente já aproveitando as coordenadas x, y, z) pode ser atualizado para incluir agora esses canais de altura.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-158">Any channel panning they previously did (likely already leveraging x,y, z coordinates) can be updated to now include these height channels.</span></span> <span data-ttu-id="c8eb6-159">Isso geralmente oferece menos interrupções ao processador e fluxos de trabalho de áudio de aplicativo, sinal, fluxo e controle de combinação.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-159">This often offers the least disruption to renderer and app audio workflows, signal, flow, and mix control.</span></span> <span data-ttu-id="c8eb6-160">Sobre fones de ouvido, observe que a combinação completa de aplicativos será espacial – portanto, até mesmo música estéreo pode ser percebida como "externamente" do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-160">Over headphones, note that the full app mix will be spatialized – so even stereo music may be perceived as “externalized” from the listener.</span></span>
-   <span data-ttu-id="c8eb6-161">**Manter o ponto de extremidade existente, além de adicionar um barramento de 7.1.4 (e os panorâmicas)**: alguns títulos podem optar por manter dois pontos de extremidade: seu ponto de extremidades WASAPI estéreo existente (para que o conteúdo "direto para ouvidos" não se destinasse a ser espacial) junto com uma base de canal estático **ISpatialAudioClient** com suporte a 7.1.4 (ou até mesmo a 8.1.4.4).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-161">**Maintain existing endpoint, plus add a 7.1.4 bus (and panners)**: Some titles may choose to maintain two endpoints: their existing stereo WASAPI endpoint (for “direct to ears” content not meant to be spatialized) alongside an **ISpatialAudioClient** static channel bed supporting 7.1.4 (or even up to 8.1.4.4).</span></span> <span data-ttu-id="c8eb6-162">É claro que gerenciar interações entre duas combinações apresenta desafios adicionais aos criadores de conteúdo, embora a sincronização seja mantida, pois as instâncias WASAPI e ISAC ativas em um determinado momento usam o mesmo tamanho de buffer e relógio para processamento.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-162">Of course, managing interactions between two mixes presents additional challenges to content creators, though synchronization is maintained, as both WASAPI and ISAC instances active at a given time do use the same buffer size and clock for processing.</span></span>
-   <span data-ttu-id="c8eb6-163">**Usar objetos de som dinâmicos para determinadas vozes ou subcombinações**: a oferta talvez o posicionamento mais detalhado/preciso, mas potencialmente criando opacidade de combinação, essa técnica envolve o uso de objetos de som dinâmicos **ISpatialAudioClient** .</span><span class="sxs-lookup"><span data-stu-id="c8eb6-163">**Use dynamic sound objects for certain voices or submixes**: Offering perhaps the most detailed/accurate positioning, but potentially creating mix opacity, this technique involves using **ISpatialAudioClient** dynamic sound objects.</span></span> <span data-ttu-id="c8eb6-164">Observe que os metadados mais o buffer de áudio é entregue ao renderizador, portanto, esses sons serão opacos para o restante da combinação de aplicativos.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-164">Note that the metadata plus audio buffer is delivered to the renderer, so these sounds will be opaque to the rest of the app mix.</span></span> <span data-ttu-id="c8eb6-165">Além disso, como há um número limitado de objetos de som dinâmico disponíveis, o renderizador precisará considerar a implementação de técnicas de priorização – remoção, colocalização de som, mesclagem à base do canal estático e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-165">Additionally, since there are a limited number of available dynamic sound objects, the renderer will need to consider implementing prioritization techniques – culling, sound co-location, blending to the static channel bed, and so on.</span></span> <span data-ttu-id="c8eb6-166">Os jogos usaram com frequência essa técnica para sons individuais "Heroes", como um Helicopter que se moverá acima do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-166">Games have frequently used this technique for individual “hero” sounds, such as a helicopter that will move around above the listener.</span></span>

<span data-ttu-id="c8eb6-167">Os renderizadores também podem misturar e combinar entre essas abordagens.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-167">Renderers can also mix and match between these approaches.</span></span>

## <a name="microsoft-spatial-sound-runtime-resource-implications"></a><span data-ttu-id="c8eb6-168">Implicações de recursos de tempo de execução de som espacial da Microsoft</span><span class="sxs-lookup"><span data-stu-id="c8eb6-168">Microsoft Spatial Sound Runtime Resource Implications</span></span>

<span data-ttu-id="c8eb6-169">No Windows e no Xbox, o número de vozes disponíveis varia de acordo com o formato em uso.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-169">On Windows and Xbox, the number of available voices varies based on the format in use.</span></span> <span data-ttu-id="c8eb6-170">Os formatos Dolby Atmos dão suporte a 32 objetos ativos totais (portanto, se uma cama de canal 7.1.4 estiver em uso, 20 objetos de som dinâmicos adicionais poderão estar ativos).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-170">Dolby Atmos formats support 32 total active objects (so if a 7.1.4 channel bed is in use, 20 additional dynamic sound objects can be active).</span></span> <span data-ttu-id="c8eb6-171">O Windows Sonic para fones de ouvido dá suporte a 128 objetos ativos totais, com o canal LFE (efeitos de baixa frequência) que, na verdade, não está sendo contado como um objeto; portanto, quando uma cama de canal 8.1.4.4 está em uso, 112 objetos de som dinâmicos podem estar ativos.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-171">Windows Sonic for Headphones supports 128 total active objects, with the Low Frequency Effects (LFE) channel not actually being counted as an object -- so when an 8.1.4.4 channel bed is in use, 112 dynamic sound objects can be active.</span></span>

<span data-ttu-id="c8eb6-172">Para Plataforma Universal do Windows aplicativos executados nos consoles do Xbox One Game, a codificação em tempo real (para o Dolby Atmos for Home Theater, o Dolby Atmos para fones de ouvido, o Headphone do DTS: X e o Windows Sonic para fones de ouvido) é executada no hardware sem custo de CPU.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-172">For Universal Windows Platform apps running on Xbox One game consoles, realtime encode (for Dolby Atmos for home theater, Dolby Atmos for Headphones, DTS Headphone:X, and Windows Sonic for Headphones) is performed in hardware at no CPU cost.</span></span>

| <span data-ttu-id="c8eb6-173">Formatar</span><span class="sxs-lookup"><span data-stu-id="c8eb6-173">Format</span></span>                       | <span data-ttu-id="c8eb6-174">Máximo de objetos estáticos (cama do canal)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-174">Max Static Objects (Channel Bed)</span></span> | <span data-ttu-id="c8eb6-175">Máximo de objetos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="c8eb6-175">Max Dynamic Objects</span></span> <br> <span data-ttu-id="c8eb6-176">Xbox One</span><span class="sxs-lookup"><span data-stu-id="c8eb6-176">Xbox One</span></span> | <span data-ttu-id="c8eb6-177">Máximo de objetos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="c8eb6-177">Max Dynamic Objects</span></span> <br> <span data-ttu-id="c8eb6-178">Windows</span><span class="sxs-lookup"><span data-stu-id="c8eb6-178">Windows</span></span> | <span data-ttu-id="c8eb6-179">Máximo de objetos dinâmicos</span><span class="sxs-lookup"><span data-stu-id="c8eb6-179">Max Dynamic Objects</span></span> <br> <span data-ttu-id="c8eb6-180">HoloLens 2</span><span class="sxs-lookup"><span data-stu-id="c8eb6-180">HoloLens 2</span></span>
|------------------------------|----------------------------------|-------------------------------------------|------------------------------------------|------------------------------------------|
| <span data-ttu-id="c8eb6-181">Dolby Atmos (HDMI)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-181">Dolby Atmos (HDMI)</span></span>           | <span data-ttu-id="c8eb6-182">12 (7.1.4)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-182">12 (7.1.4)</span></span>                       | <span data-ttu-id="c8eb6-183">20</span><span class="sxs-lookup"><span data-stu-id="c8eb6-183">20</span></span>                                        | <span data-ttu-id="c8eb6-184">20</span><span class="sxs-lookup"><span data-stu-id="c8eb6-184">20</span></span>                                       | <span data-ttu-id="c8eb6-185">NA</span><span class="sxs-lookup"><span data-stu-id="c8eb6-185">NA</span></span> |
| <span data-ttu-id="c8eb6-186">Dolby Atmos (fones de ouvido & palestrantes internos)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-186">Dolby Atmos (Headphones & Built-in Speakers)</span></span>     | <span data-ttu-id="c8eb6-187">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-187">17 (8.1.4.4)</span></span>                     | <span data-ttu-id="c8eb6-188">16</span><span class="sxs-lookup"><span data-stu-id="c8eb6-188">16</span></span>                                        | <span data-ttu-id="c8eb6-189">16</span><span class="sxs-lookup"><span data-stu-id="c8eb6-189">16</span></span>                                       | <span data-ttu-id="c8eb6-190">NA</span><span class="sxs-lookup"><span data-stu-id="c8eb6-190">NA</span></span> |
| <span data-ttu-id="c8eb6-191">Fone de ouvido DTS: X (fones de ouvido)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-191">DTS Headphone:X (Headphones)</span></span> | <span data-ttu-id="c8eb6-192">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-192">17 (8.1.4.4)</span></span>        | <span data-ttu-id="c8eb6-193">16</span><span class="sxs-lookup"><span data-stu-id="c8eb6-193">16</span></span>                                        | <span data-ttu-id="c8eb6-194">32</span><span class="sxs-lookup"><span data-stu-id="c8eb6-194">32</span></span>                                      | <span data-ttu-id="c8eb6-195">NA</span><span class="sxs-lookup"><span data-stu-id="c8eb6-195">NA</span></span> |
| <span data-ttu-id="c8eb6-196">Windows Sonic para fones de ouvido</span><span class="sxs-lookup"><span data-stu-id="c8eb6-196">Windows Sonic for Headphones</span></span> | <span data-ttu-id="c8eb6-197">17 (8.1.4.4)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-197">17 (8.1.4.4)</span></span>        | <span data-ttu-id="c8eb6-198">15</span><span class="sxs-lookup"><span data-stu-id="c8eb6-198">15</span></span>                                        | <span data-ttu-id="c8eb6-199">112</span><span class="sxs-lookup"><span data-stu-id="c8eb6-199">112</span></span>                                      | <span data-ttu-id="c8eb6-200">31</span><span class="sxs-lookup"><span data-stu-id="c8eb6-200">31</span></span> |


<span data-ttu-id="c8eb6-201">Os aplicativos também devem considerar as seguintes implicações de recursos:</span><span class="sxs-lookup"><span data-stu-id="c8eb6-201">Apps should also consider the following resource implications:</span></span>

-   <span data-ttu-id="c8eb6-202">**Largura de banda de armazenamento/disco**: o conteúdo linear pré-autorizado para o 7.1.4 normalmente será maior do que 7,1 de conteúdo linear (embora os codecs de perceptiva geralmente aproveitem a correlação de canais para tornar isso muito menor do que o 50% mais canais reais de dados de áudio)</span><span class="sxs-lookup"><span data-stu-id="c8eb6-202">**Storage/disc bandwidth**: Linear content pre-authored to 7.1.4 will typically be larger than 7.1 linear content (though perceptual codecs already often take advantage of channel correlation to make this far less than the 50% more actual channels of audio data)</span></span>
-   <span data-ttu-id="c8eb6-203">**Outros custos de processamento de sinal digital**: alguns efeitos globais anteriores agora podem ser instância por objeto de som dinâmico.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-203">**Other digital signal processing costs**: Some previously global effects may now become instanced per dynamic sound object.</span></span> <span data-ttu-id="c8eb6-204">Além disso, alguns criadores de conteúdo talvez queiram atualizar alguns efeitos de DSP para dar suporte a canais adicionais ou usá-los de forma exclusiva.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-204">Additionally, some content creators may wish to update some DSP effects to support additional channels or use them uniquely.</span></span>

## <a name="microsoft-spatial-sound-and-sound-spatialization-cues"></a><span data-ttu-id="c8eb6-205">Indicações de espacial de som e som espaciais da Microsoft</span><span class="sxs-lookup"><span data-stu-id="c8eb6-205">Microsoft Spatial Sound and Sound Spatialization Cues</span></span>

<span data-ttu-id="c8eb6-206">O som espacial da Microsoft se concentra na simulação de posicionamento de som em uma esfera ideal em volta do ouvinte.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-206">Microsoft Spatial Sound is focused on sound positioning simulation on an idealized sphere around the listener.</span></span> <span data-ttu-id="c8eb6-207">O Windows Sonic para fones de ouvido, o Headphone do DTS: X e o Dolby Atmos implementam o mapeamento e a virtualização do palestrante para fones de ouvido, mas observe que muitos outros aspectos da simulação espacial do som, normalmente implementados em modos habilitados para o conteúdo, são deixados para os mecanismos existentes.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-207">Windows Sonic for Headphones, DTS Headphone:X, and Dolby Atmos implement speaker mapping and virtualization to headphones, but note that many other aspects of sound spatial simulation, already typically implemented in content creator-enabled ways, are left to existing engines.</span></span> <span data-ttu-id="c8eb6-208">Os criadores de conteúdo continuam a usar as ferramentas e os processos de jogos existentes que tinham anteriormente para tais indicações espaciais como Doppler, atenuação e filtragem baseadas em distância, oclusão e obstrução e reverberation ambiental.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-208">Content creators continue to use the existing game tools and processes they’ve previously had for such spatial cues as Doppler, distance-based attenuation and filtering, occlusion and obstruction, and environmental reverberation.</span></span>

## <a name="additional-resources"></a><span data-ttu-id="c8eb6-209">Recursos adicionais</span><span class="sxs-lookup"><span data-stu-id="c8eb6-209">Additional Resources</span></span>

-   [<span data-ttu-id="c8eb6-210">Repositório GitHub de exemplos de sons espaciais da Microsoft</span><span class="sxs-lookup"><span data-stu-id="c8eb6-210">Microsoft Spatial Sound samples github repository</span></span>](https://github.com/Microsoft/Xbox-ATG-Samples/tree/master/UWPSamples/Audio)
-   <span data-ttu-id="c8eb6-211">O Dolby oferece vários recursos de suporte relacionados ao Dolby Atmos e ao aplicativo de acesso Dolby em <https://developer.dolby.com> .</span><span class="sxs-lookup"><span data-stu-id="c8eb6-211">Dolby offers a number of support resources relating to Dolby Atmos and the Dolby Access app at <https://developer.dolby.com>.</span></span>

## <a name="spatial-sound-interfaces"></a><span data-ttu-id="c8eb6-212">Interfaces de som espaciais</span><span class="sxs-lookup"><span data-stu-id="c8eb6-212">Spatial Sound Interfaces</span></span>



| <span data-ttu-id="c8eb6-213">Interface</span><span class="sxs-lookup"><span data-stu-id="c8eb6-213">Interface</span></span>                                                                              | <span data-ttu-id="c8eb6-214">Descrição</span><span class="sxs-lookup"><span data-stu-id="c8eb6-214">Description</span></span>                                                                                                                    |
|----------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="c8eb6-215">**ISpatialAudioClient**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-215">**ISpatialAudioClient**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient)                                     | <span data-ttu-id="c8eb6-216">Permite que um cliente crie fluxos de áudio que emitem áudio de uma posição em espaço 3D.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-216">Enables a client to create audio streams that emit audio from a position in 3D space.</span></span>                                          |
| [<span data-ttu-id="c8eb6-217">**ISpatialAudioObject**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-217">**ISpatialAudioObject**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobject)                                     | <span data-ttu-id="c8eb6-218">Representa um objeto que fornece dados de áudio a serem processados de uma posição no espaço 3D, em relação ao usuário.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-218">Represents an object that provides audio data to be rendered from a position in 3D space, relative to the user.</span></span>                |
| [<span data-ttu-id="c8eb6-219">**ISpatialAudioObjectRenderStream**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-219">**ISpatialAudioObjectRenderStream**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstream)             | <span data-ttu-id="c8eb6-220">Fornece métodos para controlar um fluxo de processamento de objeto de áudio espacial, incluindo iniciar, parar e redefinir o fluxo.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-220">Provides methods for controlling a spatial audio object render stream, including starting, stopping, and resetting the stream.</span></span> |
| [<span data-ttu-id="c8eb6-221">**ISpatialAudioObjectRenderStreamNotify**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-221">**ISpatialAudioObjectRenderStreamNotify**</span></span>](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioobjectrenderstreamnotify) | <span data-ttu-id="c8eb6-222">Fornece notificações para clientes de áudio espacial responderem às alterações no estado de um ISpatialAudioObjectRenderStream.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-222">Provides notifications for spatial audio clients to respond to changes in the state of an ISpatialAudioObjectRenderStream.</span></span>     |



 

> [!Note]  
> <span data-ttu-id="c8eb6-223">Ao usar as interfaces [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) em um título de XDK (Xbox One Development Kit), primeiro você deve chamar **EnableSpatialAudio** antes de chamar [**IMMDeviceEnumerator:: EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) ou [**IMMDeviceEnumerator:: GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint).</span><span class="sxs-lookup"><span data-stu-id="c8eb6-223">When using the [**ISpatialAudioClient**](/windows/desktop/api/spatialaudioclient/nn-spatialaudioclient-ispatialaudioclient) interfaces on an Xbox One Development Kit (XDK) title, you must first call **EnableSpatialAudio** before calling [**IMMDeviceEnumerator::EnumAudioEndpoints**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-enumaudioendpoints) or [**IMMDeviceEnumerator::GetDefaultAudioEndpoint**](/windows/desktop/api/Mmdeviceapi/nf-mmdeviceapi-immdeviceenumerator-getdefaultaudioendpoint).</span></span> <span data-ttu-id="c8eb6-224">A falha em fazer isso resultará em um \_ erro E nointerface ser retornado da chamada para Activate.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-224">Failure to do so will result in an E\_NOINTERFACE error being returned from the call to Activate.</span></span> <span data-ttu-id="c8eb6-225">**EnableSpatialAudio** só está disponível para títulos XDK e não precisa ser chamado para plataforma universal do Windows aplicativos em execução no Xbox One, nem para nenhum dispositivo não Xbox.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-225">**EnableSpatialAudio** is only available for XDK titles, and does not need to be called for Universal Windows Platform apps running on Xbox One, nor for any non-Xbox One devices.</span></span>

 

## <a name="spatial-sound-structures"></a><span data-ttu-id="c8eb6-226">Estruturas de som espacial</span><span class="sxs-lookup"><span data-stu-id="c8eb6-226">Spatial Sound Structures</span></span>



| <span data-ttu-id="c8eb6-227">Estrutura</span><span class="sxs-lookup"><span data-stu-id="c8eb6-227">Structure</span></span>                                                                                                 | <span data-ttu-id="c8eb6-228">Descrição</span><span class="sxs-lookup"><span data-stu-id="c8eb6-228">Description</span></span>                                                                  |
|-----------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="c8eb6-229">**SpatialAudioObjectRenderStreamActivationParams**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-229">**SpatialAudioObjectRenderStreamActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioobjectrenderstreamactivationparams) | <span data-ttu-id="c8eb6-230">Representa os parâmetros de ativação para um fluxo de renderização de áudio espacial.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-230">Represents activation parameters for a spatial audio render stream.</span></span>          |
| [<span data-ttu-id="c8eb6-231">**SpatialAudioClientActivationParams**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-231">**SpatialAudioClientActivationParams**</span></span>](/windows/desktop/api/spatialaudioclient/ns-spatialaudioclient-spatialaudioclientactivationparams)                          | <span data-ttu-id="c8eb6-232">Representa parâmetros de ativação opcionais para um fluxo de renderização de áudio espacial.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-232">Represents optional activation parameters for a spatial audio render stream.</span></span> |



 

## <a name="spatial-sound-enumerations"></a><span data-ttu-id="c8eb6-233">Enumerações de som espacial</span><span class="sxs-lookup"><span data-stu-id="c8eb6-233">Spatial Sound Enumerations</span></span>



| <span data-ttu-id="c8eb6-234">Enumeração</span><span class="sxs-lookup"><span data-stu-id="c8eb6-234">Enumeration</span></span>                                | <span data-ttu-id="c8eb6-235">Descrição</span><span class="sxs-lookup"><span data-stu-id="c8eb6-235">Description</span></span>                                   |
|--------------------------------------------|-----------------------------------------------|
| [<span data-ttu-id="c8eb6-236">**AudioObjectType**</span><span class="sxs-lookup"><span data-stu-id="c8eb6-236">**AudioObjectType**</span></span>](/windows/desktop/api/spatialaudioclient/ne-spatialaudioclient-audioobjecttype) | <span data-ttu-id="c8eb6-237">Especifica o tipo de um ISpatialAudioObject.</span><span class="sxs-lookup"><span data-stu-id="c8eb6-237">Specifies the type of an ISpatialAudioObject.</span></span> |



 

 

 



