---
title: Como solucionar problemas de erros de assinatura do pacote de aplicativo
description: Uma falha de implantação de aplicativo pode ser causada por uma falha ao validar a assinatura digital do pacote do aplicativo. Saiba como reconhecer essas falhas e o que fazer sobre elas.
ms.assetid: CE868296-87F6-4BD5-8AC5-914E429EDEBC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 0b6f50dc5ff428e74f4928fc20775b13de7c3be9
ms.sourcegitcommit: 784b5954a1646e2406cd4ee27a9e4f50e28ee9b7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 04/05/2021
ms.locfileid: "106374830"
---
# <a name="how-to-troubleshoot-app-package-signature-errors"></a><span data-ttu-id="eee85-104">Como solucionar problemas de erros de assinatura do pacote de aplicativo</span><span class="sxs-lookup"><span data-stu-id="eee85-104">How to troubleshoot app package signature errors</span></span>

<span data-ttu-id="eee85-105">Uma falha de implantação de aplicativo pode ser causada por uma falha ao validar a assinatura digital do pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-105">An app deployment failure can be caused by a failure to validate the digital signature of the app package.</span></span> <span data-ttu-id="eee85-106">Saiba como reconhecer essas falhas e o que fazer sobre elas.</span><span class="sxs-lookup"><span data-stu-id="eee85-106">Learn how to recognize these failures, and what to do about them.</span></span>

<span data-ttu-id="eee85-107">Quando você implanta um aplicativo do Windows empacotado, o Windows sempre tenta validar a assinatura digital no pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-107">When you deploy a packaged Windows app, Windows always attempts to validate the digital signature on the app package.</span></span> <span data-ttu-id="eee85-108">Falhas durante a implantação do bloco de validação de assinatura do pacote.</span><span class="sxs-lookup"><span data-stu-id="eee85-108">Failures during signature validation block deployment of the package.</span></span> <span data-ttu-id="eee85-109">Mas o motivo pelo qual o pacote não foi validado pode não ser óbvio.</span><span class="sxs-lookup"><span data-stu-id="eee85-109">But why the package didn't validate might not be obvious.</span></span> <span data-ttu-id="eee85-110">Em particular, se você assinar seus pacotes com certificados privados para teste local, você geralmente também deve gerenciar a relação de confiança para esses certificados.</span><span class="sxs-lookup"><span data-stu-id="eee85-110">In particular, if you sign your packages with private certificates for local testing, you often must manage the trust for those certificates as well.</span></span> <span data-ttu-id="eee85-111">Uma configuração de confiança de certificado incorreta pode levar a falhas de validação de assinatura.</span><span class="sxs-lookup"><span data-stu-id="eee85-111">An incorrect certificate trust configuration can lead to signature validation failures.</span></span>

## <a name="what-you-need-to-know"></a><span data-ttu-id="eee85-112">O que você precisa saber</span><span class="sxs-lookup"><span data-stu-id="eee85-112">What you need to know</span></span>

### <a name="technologies"></a><span data-ttu-id="eee85-113">Tecnologias</span><span class="sxs-lookup"><span data-stu-id="eee85-113">Technologies</span></span>

-   [<span data-ttu-id="eee85-114">Empacotamento, implantação e consulta de aplicativos do Windows</span><span class="sxs-lookup"><span data-stu-id="eee85-114">Packaging, deployment, and query of Windows apps</span></span>](appx-portal.md)
-   [<span data-ttu-id="eee85-115">Verificação de confiança de certificado</span><span class="sxs-lookup"><span data-stu-id="eee85-115">Certificate Trust Verification</span></span>](/windows/desktop/SecCrypto/certificate-trust-verification)

### <a name="prerequisites"></a><span data-ttu-id="eee85-116">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="eee85-116">Prerequisites</span></span>

-   <span data-ttu-id="eee85-117">[Log de eventos do Windows](/windows/desktop/WES/windows-event-log) para diagnosticar falhas de instalação.</span><span class="sxs-lookup"><span data-stu-id="eee85-117">[Windows Event Log](/windows/desktop/WES/windows-event-log) to diagnose installation failures.</span></span>
-   <span data-ttu-id="eee85-118">[Tarefas de certutil para gerenciar certificados](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) para manipulação de repositório de certificados durante a solução de problemas</span><span class="sxs-lookup"><span data-stu-id="eee85-118">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10)) for certificate store manipulation during troubleshooting</span></span>

## <a name="instructions"></a><span data-ttu-id="eee85-119">Instruções</span><span class="sxs-lookup"><span data-stu-id="eee85-119">Instructions</span></span>

### <a name="step-1-examine-event-logs-for-diagnostic-information"></a><span data-ttu-id="eee85-120">Etapa 1: examinar os logs de eventos para obter informações de diagnóstico</span><span class="sxs-lookup"><span data-stu-id="eee85-120">Step 1: Examine event logs for diagnostic information</span></span>

<span data-ttu-id="eee85-121">Dependendo de como você tentou implantar seu aplicativo, talvez você não tenha recebido um código de erro significativo para a falha de implantação.</span><span class="sxs-lookup"><span data-stu-id="eee85-121">Depending on how you attempted to deploy your app, you might not have received a meaningful error code for the deployment failure.</span></span> <span data-ttu-id="eee85-122">Nesse caso, geralmente você pode obter o código de erro diretamente dos logs de eventos.</span><span class="sxs-lookup"><span data-stu-id="eee85-122">In this case, you can usually get the error code directly from the event logs.</span></span>

<span data-ttu-id="eee85-123">**Para obter o código de erro dos logs de eventos**</span><span class="sxs-lookup"><span data-stu-id="eee85-123">**To get the error code from the event logs**</span></span>

1.  <span data-ttu-id="eee85-124">Execute **eventvwr. msc**.</span><span class="sxs-lookup"><span data-stu-id="eee85-124">Run **eventvwr.msc**.</span></span>
2.  <span data-ttu-id="eee85-125">Vá para **Visualizador de eventos (local)**  >  **logs de aplicativos e serviços**  >  **Microsoft**  >  **Windows**.</span><span class="sxs-lookup"><span data-stu-id="eee85-125">Go to **Event Viewer (Local)** > **Applications and Services Logs** > **Microsoft** > **Windows**.</span></span>
3.  <span data-ttu-id="eee85-126">O primeiro log a ser verificado é **AppxPackagingOM**  >  **Microsoft-Windows-AppxPackaging/Operational**.</span><span class="sxs-lookup"><span data-stu-id="eee85-126">The first log to check is **AppxPackagingOM** > **Microsoft-Windows-AppxPackaging/Operational**.</span></span>
4.  <span data-ttu-id="eee85-127">Os erros relacionados à implantação são registrados em **AppXDeployment-Server**  >  **Microsoft-Windows-AppXDeploymentServer/Operational**.</span><span class="sxs-lookup"><span data-stu-id="eee85-127">Deployment-related errors are recorded in **AppXDeployment-Server** > **Microsoft-Windows-AppXDeploymentServer/Operational**.</span></span>

    <span data-ttu-id="eee85-128">Para erros de implantação, procure o evento de erro mais recente 404.</span><span class="sxs-lookup"><span data-stu-id="eee85-128">For deployment errors, search for the most recent error event 404.</span></span> <span data-ttu-id="eee85-129">Esse evento de erro fornece o código de erro e uma descrição de por que a implantação falhou.</span><span class="sxs-lookup"><span data-stu-id="eee85-129">This error event provides you with the error code and a description of why the deployment failed.</span></span> <span data-ttu-id="eee85-130">Se um evento de erro 465 precede o evento 404, houve um problema ao abrir o pacote.</span><span class="sxs-lookup"><span data-stu-id="eee85-130">If an error event 465 preceded the 404 event, there was a problem opening the package.</span></span>

<span data-ttu-id="eee85-131">Se o erro 465 não ocorreu, consulte geral [solução de problemas de empacotamento, implantação e consulta de aplicativos do Windows](troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-131">If the 465 error didn't occur, see general [Troubleshooting packaging, deployment, and query of Windows apps](troubleshooting.md).</span></span> <span data-ttu-id="eee85-132">Caso contrário, consulte esta tabela para obter códigos de erro comuns que podem aparecer na cadeia de caracteres de erro para o evento de erro 465:</span><span class="sxs-lookup"><span data-stu-id="eee85-132">Otherwise, refer to this table for common error codes that can show up in the error string for error event 465:</span></span>

| <span data-ttu-id="eee85-133">Código do erro</span><span class="sxs-lookup"><span data-stu-id="eee85-133">Error code</span></span> | <span data-ttu-id="eee85-134">Erro</span><span class="sxs-lookup"><span data-stu-id="eee85-134">Error</span></span>                                 | <span data-ttu-id="eee85-135">Descrição</span><span class="sxs-lookup"><span data-stu-id="eee85-135">Description</span></span>                                                                                                          | <span data-ttu-id="eee85-136">Sugestão</span><span class="sxs-lookup"><span data-stu-id="eee85-136">Suggestion</span></span>                                                                                                                                                                                                 |
|------------|---------------------------------------|----------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="eee85-137">0x80073CF0</span><span class="sxs-lookup"><span data-stu-id="eee85-137">0x80073CF0</span></span> | <span data-ttu-id="eee85-138">ERRO \_ \_ ao instalar \_ pacote aberto \_ com falha</span><span class="sxs-lookup"><span data-stu-id="eee85-138">ERROR\_INSTALL\_OPEN\_PACKAGE\_FAILED</span></span> | <span data-ttu-id="eee85-139">Não foi possível abrir o pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-139">The app package could not be opened.</span></span>                                                                                 | <span data-ttu-id="eee85-140">Esse erro normalmente indica um problema com o pacote.</span><span class="sxs-lookup"><span data-stu-id="eee85-140">This error typically indicates a problem with the package.</span></span> <span data-ttu-id="eee85-141">Você precisa compilar e assinar o pacote novamente.</span><span class="sxs-lookup"><span data-stu-id="eee85-141">You need to build and sign the package again.</span></span> <span data-ttu-id="eee85-142">Para obter mais informações, consulte [usando o app Packager](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-142">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span> |
| <span data-ttu-id="eee85-143">0x80080205</span><span class="sxs-lookup"><span data-stu-id="eee85-143">0x80080205</span></span> | <span data-ttu-id="eee85-144">APPX \_ E \_ \_ BLOCKMAP inválido</span><span class="sxs-lookup"><span data-stu-id="eee85-144">APPX\_E\_INVALID\_BLOCKMAP</span></span>            | <span data-ttu-id="eee85-145">O pacote do aplicativo foi adulterado ou tem um mapa de bloco inválido.</span><span class="sxs-lookup"><span data-stu-id="eee85-145">The app package has been tampered with or has an invalid block map.</span></span>                                                  | <span data-ttu-id="eee85-146">O pacote está corrompido.</span><span class="sxs-lookup"><span data-stu-id="eee85-146">The package is corrupted.</span></span> <span data-ttu-id="eee85-147">Você precisa compilar e assinar o pacote novamente.</span><span class="sxs-lookup"><span data-stu-id="eee85-147">You need to build and sign the package again.</span></span> <span data-ttu-id="eee85-148">Para obter mais informações, consulte [usando o app Packager](make-appx-package--makeappx-exe-.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-148">For more info, see [Using App Packager](make-appx-package--makeappx-exe-.md).</span></span>                                  |
| <span data-ttu-id="eee85-149">0x800B0004</span><span class="sxs-lookup"><span data-stu-id="eee85-149">0x800B0004</span></span> | <span data-ttu-id="eee85-150">CONFIAR \_ E \_ assunto \_ não \_ confiável</span><span class="sxs-lookup"><span data-stu-id="eee85-150">TRUST\_E\_SUBJECT\_NOT\_TRUSTED</span></span>       | <span data-ttu-id="eee85-151">O pacote do aplicativo foi adulterado.</span><span class="sxs-lookup"><span data-stu-id="eee85-151">The app package has been tampered with.</span></span>                                                                              | <span data-ttu-id="eee85-152">O conteúdo do pacote não corresponde mais à sua assinatura digital.</span><span class="sxs-lookup"><span data-stu-id="eee85-152">The package contents no longer match its digital signature.</span></span> <span data-ttu-id="eee85-153">Você precisa assinar o pacote novamente.</span><span class="sxs-lookup"><span data-stu-id="eee85-153">You need to sign the package again.</span></span> <span data-ttu-id="eee85-154">Para obter mais informações, consulte [como assinar um pacote de aplicativo usando Signtool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-154">For more info, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>  |
| <span data-ttu-id="eee85-155">0x800B0100</span><span class="sxs-lookup"><span data-stu-id="eee85-155">0x800B0100</span></span> | <span data-ttu-id="eee85-156">CONFIAR \_ E \_ noassinatura</span><span class="sxs-lookup"><span data-stu-id="eee85-156">TRUST\_E\_NOSIGNATURE</span></span>                 | <span data-ttu-id="eee85-157">O pacote do aplicativo não está assinado.</span><span class="sxs-lookup"><span data-stu-id="eee85-157">The app package is unsigned.</span></span>                                                                                         | <span data-ttu-id="eee85-158">Somente pacotes de aplicativos Windows assinados podem ser implantados.</span><span class="sxs-lookup"><span data-stu-id="eee85-158">Only signed Windows app packages can be deployed.</span></span> <span data-ttu-id="eee85-159">Para obter informações sobre como assinar um pacote de aplicativo, consulte [como assinar um pacote de aplicativo usando Signtool](how-to-sign-a-package-using-signtool.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-159">For info about signing an app package, see [How to sign an app package using SignTool](how-to-sign-a-package-using-signtool.md).</span></span>                  |
| <span data-ttu-id="eee85-160">0x800B0109</span><span class="sxs-lookup"><span data-stu-id="eee85-160">0x800B0109</span></span> | <span data-ttu-id="eee85-161">raiz do certificado \_ E \_ não confiável \_</span><span class="sxs-lookup"><span data-stu-id="eee85-161">CERT\_E\_UNTRUSTED\_ROOT</span></span>              | <span data-ttu-id="eee85-162">A cadeia de certificados usada para assinar o pacote do aplicativo termina em um certificado raiz que não é confiável.</span><span class="sxs-lookup"><span data-stu-id="eee85-162">The certificate chain that was used to sign the app package ends in a root certificate that isn't trusted.</span></span>           | <span data-ttu-id="eee85-163">Continue na etapa 2 para solucionar problemas de confiança do certificado.</span><span class="sxs-lookup"><span data-stu-id="eee85-163">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |
| <span data-ttu-id="eee85-164">0x800B010A</span><span class="sxs-lookup"><span data-stu-id="eee85-164">0x800B010A</span></span> | <span data-ttu-id="eee85-165">encadeamento de CERT \_ E \_</span><span class="sxs-lookup"><span data-stu-id="eee85-165">CERT\_E\_CHAINING</span></span>                     | <span data-ttu-id="eee85-166">Nenhuma cadeia de certificados pode ser compilada para uma autoridade raiz confiável do certificado que foi usado para assinar o pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-166">No certificate chain could be built to a trusted root authority from the cert that was used to sign the app package.</span></span> | <span data-ttu-id="eee85-167">Continue na etapa 2 para solucionar problemas de confiança do certificado.</span><span class="sxs-lookup"><span data-stu-id="eee85-167">Continue to Step 2 to troubleshoot the certificate trust.</span></span>                                                                                                                                                  |



 

### <a name="step-2-determine-the-certificate-chain-used-to-sign-the-app-package"></a><span data-ttu-id="eee85-168">Etapa 2: determinar a cadeia de certificados usada para assinar o pacote do aplicativo</span><span class="sxs-lookup"><span data-stu-id="eee85-168">Step 2: Determine the certificate chain used to sign the app package</span></span>

<span data-ttu-id="eee85-169">Para descobrir os certificados que o computador local deve confiar, você pode examinar a cadeia de certificados para a assinatura digital no pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-169">To figure out the certificates that the local computer must trust, you can examine the certificate chain for the digital signature on the app package.</span></span>

<span data-ttu-id="eee85-170">**Para determinar a cadeia de certificados**</span><span class="sxs-lookup"><span data-stu-id="eee85-170">**To determine the certificate chain**</span></span>

1.  <span data-ttu-id="eee85-171">No explorador de arquivos, clique com o botão direito do mouse no pacote do aplicativo e selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="eee85-171">In File Explorer, right-click on the app package and select **Properties**.</span></span>
2.  <span data-ttu-id="eee85-172">Na caixa de diálogo **Propriedades** , selecione a guia **assinaturas digitais** , que também exibe se a assinatura pode ser validada.</span><span class="sxs-lookup"><span data-stu-id="eee85-172">In the **Properties** dialog, select the **Digital Signatures** tab, which also displays whether the signature can be validated.</span></span>
3.  <span data-ttu-id="eee85-173">Na lista assinatura, selecione a assinatura e clique no botão **detalhes** .</span><span class="sxs-lookup"><span data-stu-id="eee85-173">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="eee85-174">Na caixa de diálogo **detalhes da assinatura digital** , clique no botão **Exibir certificado** .</span><span class="sxs-lookup"><span data-stu-id="eee85-174">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="eee85-175">Na caixa de diálogo **certificado** , selecione a guia **caminho de certificação** .</span><span class="sxs-lookup"><span data-stu-id="eee85-175">In the **Certificate** dialog, select the **Certification Path** tab.</span></span>

<span data-ttu-id="eee85-176">O certificado principal na cadeia é o certificado raiz e o certificado inferior é o certificado de autenticação.</span><span class="sxs-lookup"><span data-stu-id="eee85-176">The top certificate in the chain is the root certificate and the bottom certificate is the signing certificate.</span></span> <span data-ttu-id="eee85-177">Se apenas um único certificado estiver na cadeia, o certificado de autenticação também será seu próprio certificado raiz.</span><span class="sxs-lookup"><span data-stu-id="eee85-177">If only a single certificate is in the chain, the signing certificate is also its own root certificate.</span></span> <span data-ttu-id="eee85-178">Você pode determinar o número de série para cada certificado que você usa com o [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span><span class="sxs-lookup"><span data-stu-id="eee85-178">You can determine the serial number for each certificate that you then use with [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)):</span></span>

<span data-ttu-id="eee85-179">**Para determinar o número de série para cada certificado**</span><span class="sxs-lookup"><span data-stu-id="eee85-179">**To determine the serial number for each certificate**</span></span>

1.  <span data-ttu-id="eee85-180">No painel caminho de certificação, selecione o certificado e clique em **Exibir certificado**.</span><span class="sxs-lookup"><span data-stu-id="eee85-180">In the Certification path pane, select the certificate and then click **View Certificate**.</span></span>
2.  <span data-ttu-id="eee85-181">Na caixa de diálogo certificado, selecione a guia **detalhes** , que exibe o número de série e outras propriedades úteis do certificado.</span><span class="sxs-lookup"><span data-stu-id="eee85-181">In the Certificate dialog, select the **Details** tab, which displays the serial number and other useful properties of the certificate.</span></span>

### <a name="step-3-determine-the-certificates-trusted-by-the-local-machine"></a><span data-ttu-id="eee85-182">Etapa 3: determinar os certificados confiáveis pelo computador local</span><span class="sxs-lookup"><span data-stu-id="eee85-182">Step 3: Determine the certificates trusted by the local machine</span></span>

<span data-ttu-id="eee85-183">Para poder implantar um pacote de aplicativo, ele não deve ser confiável apenas no contexto do usuário, mas também no contexto do computador local.</span><span class="sxs-lookup"><span data-stu-id="eee85-183">To be able to deploy an app package, it must not only be trusted in the user’s context but also the local computer context.</span></span> <span data-ttu-id="eee85-184">Como resultado, a assinatura digital pode aparecer válida quando exibida na guia assinaturas digitais da etapa anterior, mas ainda falha na validação durante a implantação do pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-184">As a result, the digital signature can appear valid when viewed in the Digital Signatures tab from the previous step but still fail validation during deployment of the app package.</span></span>

<span data-ttu-id="eee85-185">**Para determinar se a cadeia de certificados usada para assinar o pacote do aplicativo é especificamente confiável pelo computador local**</span><span class="sxs-lookup"><span data-stu-id="eee85-185">**To determine if the certificate chain used to sign the app package is specifically trusted by the local computer**</span></span>

1.  <span data-ttu-id="eee85-186">Execute este comando:</span><span class="sxs-lookup"><span data-stu-id="eee85-186">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store Root rootCertSerialNumber
    ```

2.  <span data-ttu-id="eee85-187">Execute este comando:</span><span class="sxs-lookup"><span data-stu-id="eee85-187">Run this command:</span></span>

    ``` syntax
    CertUtil.exe -store TrustedPeople signingCertSerialNumber
    ```

<span data-ttu-id="eee85-188">Se você não especificar o número de série do certificado, o [certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) listará todos os certificados que são confiáveis para o computador local desse armazenamento.</span><span class="sxs-lookup"><span data-stu-id="eee85-188">If you don't specify the certificate serial number, [Certutil](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc732443(v=ws.10)) lists all certificates that are trusted by the local computer for that store.</span></span>

<span data-ttu-id="eee85-189">O pacote pode falhar ao ser instalado devido a erros de encadeamento de certificados, mesmo que o certificado de autenticação não seja autoassinado e o certificado raiz esteja no repositório raiz do computador local.</span><span class="sxs-lookup"><span data-stu-id="eee85-189">The package may fail to install due to certificate chaining errors, even if the signing certificate is not self-signed and the root certificate is in the root store of the local computer.</span></span> <span data-ttu-id="eee85-190">Nesse caso, pode haver um problema com a confiança para as autoridades de certificação intermediárias.</span><span class="sxs-lookup"><span data-stu-id="eee85-190">In this case, there might be an issue with trust for the intermediate certificate authorities.</span></span> <span data-ttu-id="eee85-191">Para obter mais informações sobre esse problema, consulte [trabalhando com certificados](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="eee85-191">For more info about this issue, see [Working with Certificates](/previous-versions/dotnet/netframework-3.0/ms731899(v=vs.85)).</span></span>

## <a name="remarks"></a><span data-ttu-id="eee85-192">Comentários</span><span class="sxs-lookup"><span data-stu-id="eee85-192">Remarks</span></span>

<span data-ttu-id="eee85-193">Se você determinou que o pacote não pôde ser implantado porque o certificado de autenticação não é confiável, não instale o pacote, a menos que você saiba onde ele foi originado e confie nele.</span><span class="sxs-lookup"><span data-stu-id="eee85-193">If you determined that the package couldn't be deployed because the signing certificate isn't trusted, don't install the package unless you know where it originated and you trust it.</span></span>

<span data-ttu-id="eee85-194">Se você quiser confiar manualmente no aplicativo para instalação (por exemplo, para instalar seu próprio pacote de aplicativo assinado por teste), você pode adicionar manualmente o certificado à relação de confiança de certificado do computador local no pacote do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="eee85-194">If you want to manually trust the app for install (for example, to install your own test-signed app package), you can manually add the certificate to the local computer certificate trust from the app package.</span></span>

<span data-ttu-id="eee85-195">**Para adicionar manualmente o certificado à relação de confiança de certificado do computador local**</span><span class="sxs-lookup"><span data-stu-id="eee85-195">**To manually add the certificate to the local computer certificate trust**</span></span>

1.  <span data-ttu-id="eee85-196">No explorador de arquivos, clique com o botão direito do mouse no pacote do aplicativo e, no menu de contexto pop-up, selecione **Propriedades**.</span><span class="sxs-lookup"><span data-stu-id="eee85-196">In File Explorer, right-click on the app package, and in the pop-up context menu select **Properties**.</span></span>
2.  <span data-ttu-id="eee85-197">Na caixa de diálogo **Propriedades** , selecione a guia **assinaturas digitais** .</span><span class="sxs-lookup"><span data-stu-id="eee85-197">In the **Properties** dialog, select the **Digital Signatures** tab.</span></span>
3.  <span data-ttu-id="eee85-198">Na lista assinatura, selecione a assinatura e clique no botão **detalhes** .</span><span class="sxs-lookup"><span data-stu-id="eee85-198">In the Signature list, select the signature and then click the **Details** button.</span></span>
4.  <span data-ttu-id="eee85-199">Na caixa de diálogo **detalhes da assinatura digital** , clique no botão **Exibir certificado** .</span><span class="sxs-lookup"><span data-stu-id="eee85-199">In the **Digital Signature Details** dialog, click the **View Certificate** button.</span></span>
5.  <span data-ttu-id="eee85-200">Na caixa de diálogo **certificado** , clique no botão **Instalar certificado...**</span><span class="sxs-lookup"><span data-stu-id="eee85-200">In the **Certificate** dialog, click the **Install Certificate…**</span></span> <span data-ttu-id="eee85-201">.</span><span class="sxs-lookup"><span data-stu-id="eee85-201">button.</span></span>
6.  <span data-ttu-id="eee85-202">No Assistente para importação de certificados, selecione **computador local** e clique em **Avançar**.</span><span class="sxs-lookup"><span data-stu-id="eee85-202">In the Certificate Import Wizard, select **Local Machine** and then click **Next**.</span></span> <span data-ttu-id="eee85-203">Será necessário conceder privilégios de administrador para continuar.</span><span class="sxs-lookup"><span data-stu-id="eee85-203">You will need to grant administrator privileges to continue.</span></span>
7.  <span data-ttu-id="eee85-204">Selecione **Coloque todos os certificados no repositório a seguir** e navegue até o repositório de **pessoas confiáveis** .</span><span class="sxs-lookup"><span data-stu-id="eee85-204">Select **Place all certificates in the following store** and browse to the **Trusted People** store.</span></span>
8.  <span data-ttu-id="eee85-205">Clique em **Avançar** e em **concluir** para concluir o assistente.</span><span class="sxs-lookup"><span data-stu-id="eee85-205">Click **Next**, then click **Finish** to complete the wizard.</span></span>

<span data-ttu-id="eee85-206">Após essa adição manual, você pode ver que o certificado agora é confiável na caixa de diálogo de **certificado** .</span><span class="sxs-lookup"><span data-stu-id="eee85-206">After this manual addition, you can see that the certificate is now trusted in the **Certificate** dialog.</span></span>

<span data-ttu-id="eee85-207">Você pode remover o certificado depois de não precisar mais dele.</span><span class="sxs-lookup"><span data-stu-id="eee85-207">You can remove the certificate after you no longer need it.</span></span>

<span data-ttu-id="eee85-208">**Para remover o certificado**</span><span class="sxs-lookup"><span data-stu-id="eee85-208">**To remove the certificate**</span></span>

1.  <span data-ttu-id="eee85-209">Execute **Cmd.exe** como administrador.</span><span class="sxs-lookup"><span data-stu-id="eee85-209">Run **Cmd.exe** as administrator.</span></span>
2.  <span data-ttu-id="eee85-210">No prompt de comando do administrador, execute este comando:</span><span class="sxs-lookup"><span data-stu-id="eee85-210">In the administrator command prompt, run this command:</span></span>

    ``` syntax
    Certutil -store TrustedPeople
    ```

3.  <span data-ttu-id="eee85-211">Procure o número de série do certificado que você instalou.</span><span class="sxs-lookup"><span data-stu-id="eee85-211">Look for the serial number of the certificate that you installed.</span></span> <span data-ttu-id="eee85-212">Esse número é o *certid*.</span><span class="sxs-lookup"><span data-stu-id="eee85-212">This number is the *certID*.</span></span>
4.  <span data-ttu-id="eee85-213">Execute este comando:</span><span class="sxs-lookup"><span data-stu-id="eee85-213">Run this command:</span></span>

    ``` syntax
    Certutil -delStore TrustedPeople certID
    ```

<span data-ttu-id="eee85-214">Recomendamos que você evite adicionar manualmente certificados raiz ao [repositório de certificados de autoridades de certificação raiz confiáveis](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store)do computador local.</span><span class="sxs-lookup"><span data-stu-id="eee85-214">We recommend that you avoid manually adding root certificates to the local machine [Trusted Root Certification Authorities Certificate Store](/windows-hardware/drivers/install/trusted-root-certification-authorities-certificate-store).</span></span> <span data-ttu-id="eee85-215">Ter vários aplicativos assinados com certificados que se encadeam ao mesmo certificado raiz, como aplicativos de linha de negócios, pode ser mais eficiente do que instalar certificados individuais no repositório de pessoas confiáveis.</span><span class="sxs-lookup"><span data-stu-id="eee85-215">Having several applications that are signed with certificates that chain to the same root certificate, such as line of business applications, can be more efficient than installing individual certificates to the Trusted People store.</span></span> <span data-ttu-id="eee85-216">O repositório de pessoas confiáveis contém certificados que são considerados confiáveis por padrão e, portanto, não são verificados por autoridades ou listas de certificados confiáveis ou cadeias superiores.</span><span class="sxs-lookup"><span data-stu-id="eee85-216">The Trusted People store contains certificates that are considered trusted by default and so aren't verified by higher authorities or certificate trust lists or chains.</span></span> <span data-ttu-id="eee85-217">Para obter considerações sobre como adicionar certificados ao repositório de certificados de autoridades de certificação raiz confiáveis, consulte [práticas recomendadas de assinatura de código](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="eee85-217">For considerations around adding certificates to the Trusted Root Certification Authorities certificate store, see [Code-Signing Best Practices](/previous-versions/windows/hardware/design/dn653556(v=vs.85)).</span></span>

## <a name="security-considerations"></a><span data-ttu-id="eee85-218">Considerações de segurança</span><span class="sxs-lookup"><span data-stu-id="eee85-218">Security Considerations</span></span>

<span data-ttu-id="eee85-219">Ao adicionar um certificado em [repositórios de certificados do computador local](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), você afetará a confiança do certificado de todos os usuários no computador.</span><span class="sxs-lookup"><span data-stu-id="eee85-219">By adding a certificate to [local machine certificate stores](/windows-hardware/drivers/install/local-machine-and-current-user-certificate-stores), you affect the certificate trust of all users on the computer.</span></span> <span data-ttu-id="eee85-220">Recomendamos que você instale todos os certificados de assinatura de código desejados para testar pacotes de aplicativos no repositório de certificados de pessoas confiáveis.</span><span class="sxs-lookup"><span data-stu-id="eee85-220">We recommend that you install any code signing certificates that you want for testing app packages to the Trusted People certificate store.</span></span> <span data-ttu-id="eee85-221">Remova imediatamente esses certificados quando eles não forem mais necessários, para impedir que eles sejam usados para comprometer a confiança do sistema.</span><span class="sxs-lookup"><span data-stu-id="eee85-221">Promptly remove those certificates when they are no longer necessary, to prevent them from being used to compromise system trust.</span></span> <span data-ttu-id="eee85-222">Se você criar seus próprios certificados de teste para assinar pacotes de aplicativos, também recomendamos que você restrinja os privilégios associados ao certificado de teste.</span><span class="sxs-lookup"><span data-stu-id="eee85-222">If you create your own test certificates for signing app packages, we also recommend that you restrict the privileges that are associated with the test certificate.</span></span> <span data-ttu-id="eee85-223">Para obter informações sobre como criar certificados de teste para assinar pacotes de aplicativos, consulte [como criar um certificado de assinatura de pacote de aplicativo](how-to-create-a-package-signing-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="eee85-223">For info about creating test certificates for signing app packages, see [How to create an app package signing certificate](how-to-create-a-package-signing-certificate.md).</span></span>

## <a name="related-topics"></a><span data-ttu-id="eee85-224">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="eee85-224">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="eee85-225">**Amostras**</span><span class="sxs-lookup"><span data-stu-id="eee85-225">**Samples**</span></span>
</dt> <dt>

[<span data-ttu-id="eee85-226">Criar exemplo de pacote de aplicativo</span><span class="sxs-lookup"><span data-stu-id="eee85-226">Create app package sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/AppxPackingCreateAppx)
</dt> <dt>

<span data-ttu-id="eee85-227">**Conceitos**</span><span class="sxs-lookup"><span data-stu-id="eee85-227">**Concepts**</span></span>
</dt> <dt>

[<span data-ttu-id="eee85-228">Solucionar problemas de empacotamento, implantação e consulta de aplicativos Windows</span><span class="sxs-lookup"><span data-stu-id="eee85-228">Troubleshooting packaging, deployment, and query of Windows apps</span></span>](troubleshooting.md)
</dt> <dt>

<span data-ttu-id="eee85-229">[Tarefas de certutil para gerenciar certificados](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="eee85-229">[Certutil tasks for managing certificates](/previous-versions/orphan-topics/ws.10/cc772898(v=ws.10))</span></span>
</dt> </dl>

 

 
