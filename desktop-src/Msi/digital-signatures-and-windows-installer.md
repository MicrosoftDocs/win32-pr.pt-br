---
description: O Windows Installer pode usar assinaturas digitais para detectar recursos corrompidos.
ms.assetid: 68f2c686-cbe0-495d-a448-a7d2ca1df47b
title: Assinaturas digitais e Windows Installer
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2d41dee15da938c586bf061d216d9003586a799c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105758958"
---
# <a name="digital-signatures-and-windows-installer"></a><span data-ttu-id="ed7da-103">Assinaturas digitais e Windows Installer</span><span class="sxs-lookup"><span data-stu-id="ed7da-103">Digital Signatures and Windows Installer</span></span>

<span data-ttu-id="ed7da-104">O Windows Installer pode usar assinaturas digitais para detectar recursos corrompidos.</span><span class="sxs-lookup"><span data-stu-id="ed7da-104">The Windows Installer can use digital signatures to detect corrupted resources.</span></span> <span data-ttu-id="ed7da-105">Um certificado de signatário pode ser comparado ao certificado de assinante de um recurso externo a ser instalado pelo pacote.</span><span class="sxs-lookup"><span data-stu-id="ed7da-105">A signer certificate may be compared to the signer certificate of an external resource to be installed by the package.</span></span> <span data-ttu-id="ed7da-106">Para obter mais informações sobre o uso de assinaturas digitais, certificados digitais e [**WinVerifyTrust**](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust), consulte a seção [segurança](https://msdn.microsoft.com/library/cc527452.aspx) do SDK (Software Development Kit) do Microsoft Windows.</span><span class="sxs-lookup"><span data-stu-id="ed7da-106">For more information regarding the use of digital signatures, digital certificates, and [**WinVerifyTrust**](/windows/desktop/api/wintrust/nf-wintrust-winverifytrust), see the [Security](https://msdn.microsoft.com/library/cc527452.aspx) section of the Microsoft Windows Software Development Kit (SDK).</span></span>

<span data-ttu-id="ed7da-107">Com o Windows Installer, as assinaturas digitais podem ser usadas com Windows Installer pacotes, transformações, patches, módulos de mesclagem e arquivos de gabinete externo.</span><span class="sxs-lookup"><span data-stu-id="ed7da-107">With Windows Installer, digital signatures can be used with Windows Installer packages, transforms, patches, merge modules, and external cabinet files.</span></span> <span data-ttu-id="ed7da-108">O Windows Installer é integrado à diretiva de restrição de software no Microsoft Windows XP.</span><span class="sxs-lookup"><span data-stu-id="ed7da-108">Windows Installer is integrated with Software Restriction Policy on Microsoft Windows XP.</span></span> <span data-ttu-id="ed7da-109">As políticas podem ser criadas para permitir ou impedir instalações com base em critérios diferentes, incluindo um determinado certificado de signatário ou Publicador.</span><span class="sxs-lookup"><span data-stu-id="ed7da-109">Policies can be created to allow or prevent installations based upon different criteria, including a particular signer certificate or publisher.</span></span> <span data-ttu-id="ed7da-110">O Windows Installer pode executar a validação de assinatura de arquivos de gabinete externo em todas as plataformas em que a versão do CryptoAPI 2,0 está instalada.</span><span class="sxs-lookup"><span data-stu-id="ed7da-110">The Windows Installer can perform signature validation of external cabinet files on all platforms where CryptoAPI version 2.0 is installed.</span></span>

<span data-ttu-id="ed7da-111">Observe que o exemplo de inicialização Setup.exe fornecido com o SDK do Windows Installer executa uma verificação de assinatura em um pacote Windows Installer antes de iniciar a instalação.</span><span class="sxs-lookup"><span data-stu-id="ed7da-111">Note that the sample Setup.exe bootstrap provided with the Windows Installer SDK performs a signature check on a Windows Installer package prior to initiating the installation.</span></span>

<span data-ttu-id="ed7da-112">A execução de uma [instalação administrativa](administrative-installation.md) remove a assinatura digital do pacote.</span><span class="sxs-lookup"><span data-stu-id="ed7da-112">Performing an [administrative installation](administrative-installation.md) removes the digital signature from the package.</span></span> <span data-ttu-id="ed7da-113">Uma instalação administrativa modifica o pacote de instalação do para adicionar o fluxo Adminproperties, que invalidaria a assinatura digital original.</span><span class="sxs-lookup"><span data-stu-id="ed7da-113">An administrative installation modifies the installation package in order to add the AdminProperties stream, which would invalidate the original digital signature.</span></span> <span data-ttu-id="ed7da-114">Um administrador pode desistir do pacote.</span><span class="sxs-lookup"><span data-stu-id="ed7da-114">An administrator can resign the package.</span></span>

<span data-ttu-id="ed7da-115">Aplicar um patch a uma instalação administrativa também remove a assinatura digital do pacote.</span><span class="sxs-lookup"><span data-stu-id="ed7da-115">Applying a patch to an administrative installation also removes the digital signature from the package.</span></span> <span data-ttu-id="ed7da-116">O motivo é que as alterações persistem no pacote de instalação com patches da instalação administrativa.</span><span class="sxs-lookup"><span data-stu-id="ed7da-116">The reason is because the changes persist in the patched installation package of the administrative installation.</span></span> <span data-ttu-id="ed7da-117">Um administrador pode desistir do pacote.</span><span class="sxs-lookup"><span data-stu-id="ed7da-117">An administrator can resign the package.</span></span>

<span data-ttu-id="ed7da-118">A partir do Windows Installer versão 3,0, a [aplicação de patches do UAC (controle de conta de usuário)](user-account-control--uac--patching.md) permite que usuários não administradores corrijam aplicativos instalados no contexto por máquina.</span><span class="sxs-lookup"><span data-stu-id="ed7da-118">Starting with Windows Installer version 3.0, [User Account Control (UAC) Patching](user-account-control--uac--patching.md) enables non-administrator users to patch applications installed in the per-machine context.</span></span> <span data-ttu-id="ed7da-119">A aplicação de patches do UAC é habilitada fornecendo um certificado de signatário na tabela [MsiPatchCertificate](msipatchcertificate-table.md) e patches de assinatura com o mesmo certificado.</span><span class="sxs-lookup"><span data-stu-id="ed7da-119">UAC patching is enabled by providing a signer certificate in the [MsiPatchCertificate](msipatchcertificate-table.md) table and signing patches with the same certificate.</span></span>

<span data-ttu-id="ed7da-120">Para obter mais informações, consulte [assinaturas digitais e arquivos de gabinete externo](digital-signatures-and-external-cabinet-files.md), [Windows Installer e diretiva de restrição de software](windows-installer-and-software-restriction-policy.md), [criação de uma instalação assinada totalmente verificada](authoring-a-fully-verified-signed-installation.md)e [um exemplo de instalação de Windows Installer com base em URL](a-url-based-windows-installer-installation-example.md).</span><span class="sxs-lookup"><span data-stu-id="ed7da-120">For more information, see [Digital Signatures and External Cabinet Files](digital-signatures-and-external-cabinet-files.md), [Windows Installer and Software Restriction Policy](windows-installer-and-software-restriction-policy.md), [Authoring a Fully Verified Signed Installation](authoring-a-fully-verified-signed-installation.md), and [A URL based Windows Installer Installation Example](a-url-based-windows-installer-installation-example.md).</span></span>

 

 
