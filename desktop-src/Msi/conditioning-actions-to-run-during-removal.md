---
description: Há duas maneiras de criar o banco de dados de instalação do Windows Installer de modo que uma ação seja chamada apenas quando o pacote for desinstalado.
ms.assetid: 67b205bb-11d8-454f-b5d5-93330219f6cc
title: Ações de condicionamento a serem executadas durante a remoção
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ad0e84f21b42f569744af9b8a7a46bb1e3df7a85
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104505725"
---
# <a name="conditioning-actions-to-run-during-removal"></a><span data-ttu-id="67bc0-103">Ações de condicionamento a serem executadas durante a remoção</span><span class="sxs-lookup"><span data-stu-id="67bc0-103">Conditioning Actions to Run During Removal</span></span>

<span data-ttu-id="67bc0-104">Há duas maneiras de criar o banco de dados de instalação, de modo que uma ação seja chamada apenas quando o pacote for desinstalado:</span><span class="sxs-lookup"><span data-stu-id="67bc0-104">There are two ways to author the installation database such that an action is only called when the package is uninstalled:</span></span>

-   <span data-ttu-id="67bc0-105">Se a ação for sequenciada após a [ação InstallValidate](installvalidate-action.md) na [tabela InstallExecuteSequence](installexecutesequence-table.md), o autor do pacote poderá especificar uma condição de Remove = "All" para a ação na coluna Condition.</span><span class="sxs-lookup"><span data-stu-id="67bc0-105">If the action is sequenced after the [InstallValidate action](installvalidate-action.md) in the [InstallExecuteSequence table](installexecutesequence-table.md), the package author may specify a condition of REMOVE="ALL" for the action in the Condition column.</span></span> <span data-ttu-id="67bc0-106">Observe que a propriedade [**Remove**](remove.md) não tem garantia de ser definida como All durante uma desinstalação antes que o instalador execute a ação InstallValidate.</span><span class="sxs-lookup"><span data-stu-id="67bc0-106">Note that the [**REMOVE**](remove.md) property is not guaranteed to be set to ALL during an uninstall before the installer executes the InstallValidate action.</span></span> <span data-ttu-id="67bc0-107">Observe que as aspas em volta do valor todos são necessárias nesse caso.</span><span class="sxs-lookup"><span data-stu-id="67bc0-107">Note that the quote marks around the value ALL are required in this case.</span></span>
-   <span data-ttu-id="67bc0-108">Se a ação for sequenciada após a [ação CostFinalize](costfinalize-action.md) e quaisquer ações que possam alterar o estado do recurso, como a [ação MigrateFeatureStates](migratefeaturestates-action.md), a ação poderá ser condicional no estado de um recurso ou componente específico.</span><span class="sxs-lookup"><span data-stu-id="67bc0-108">If the action is sequenced after the [CostFinalize action](costfinalize-action.md) and any actions that could change the feature state, such as [MigrateFeatureStates action](migratefeaturestates-action.md), the action can be conditioned on the state of a particular feature or component.</span></span> <span data-ttu-id="67bc0-109">Consulte [sintaxe de instrução condicional](conditional-statement-syntax.md).</span><span class="sxs-lookup"><span data-stu-id="67bc0-109">See [Conditional Statement Syntax](conditional-statement-syntax.md).</span></span> <span data-ttu-id="67bc0-110">Use esta opção para chamar uma ação durante a remoção de um determinado recurso ou componente, o que pode ocorrer fora da remoção completa do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="67bc0-110">Use this option to call an action during the removal of a particular feature or component, which may occur outside of the complete removal of the application.</span></span>

<span data-ttu-id="67bc0-111">Observe que a propriedade [**installed**](installed.md) pode ser usada em expressões condicionais para determinar se um produto está instalado por computador ou para o usuário atual.</span><span class="sxs-lookup"><span data-stu-id="67bc0-111">Note that the [**Installed**](installed.md) property can be used in conditional expressions to determine whether a product is installed per-computer or for the current user.</span></span> <span data-ttu-id="67bc0-112">Para determinar se o produto está instalado para um usuário diferente, verifique a propriedade [**productstate**](productstate.md) .</span><span class="sxs-lookup"><span data-stu-id="67bc0-112">To determine whether the product is installed for a different user, check the [**ProductState**](productstate.md) property.</span></span>

<span data-ttu-id="67bc0-113">Observe que as versões mais antigas de um produto podem ser removidas durante uma atualização pela [ação RemoveExistingProducts](removeexistingproducts-action.md).</span><span class="sxs-lookup"><span data-stu-id="67bc0-113">Note that older versions of a product may be removed during an upgrade by the [RemoveExistingProducts action](removeexistingproducts-action.md).</span></span> <span data-ttu-id="67bc0-114">A [tabela de atualização](upgrade-table.md) também pode definir a propriedade [**Remove**](remove.md) para todos nesse caso.</span><span class="sxs-lookup"><span data-stu-id="67bc0-114">The [Upgrade table](upgrade-table.md) may also set the [**REMOVE**](remove.md) property to ALL in this case.</span></span> <span data-ttu-id="67bc0-115">Para determinar se um produto está sendo removido por uma atualização, verifique a propriedade [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md) .</span><span class="sxs-lookup"><span data-stu-id="67bc0-115">To determine whether a product is being removed by an upgrade, check the [**UPGRADINGPRODUCTCODE**](upgradingproductcode.md) property.</span></span> <span data-ttu-id="67bc0-116">O instalador só define essa propriedade quando RemoveExistingProducts remove o produto.</span><span class="sxs-lookup"><span data-stu-id="67bc0-116">The installer only sets this property when RemoveExistingProducts removes the product.</span></span> <span data-ttu-id="67bc0-117">O instalador não define a propriedade durante uma desinstalação normal, como a remoção com adicionar/remover programas.</span><span class="sxs-lookup"><span data-stu-id="67bc0-117">The installer does not set the property during a normal uninstall, such as removal with Add/Remove programs.</span></span>

 

 



