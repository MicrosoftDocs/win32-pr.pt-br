---
description: No núcleo de qualquer instalador está a instalação real dos arquivos.
ms.assetid: e6f6d6a5-bdb0-4866-8d2c-56313d92c94c
title: Regras de controle de versão de arquivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 67c6f8e59b4f15774f898217690dbb1c4d57b1bf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105766399"
---
# <a name="file-versioning-rules"></a><span data-ttu-id="34a42-103">Regras de controle de versão de arquivo</span><span class="sxs-lookup"><span data-stu-id="34a42-103">File Versioning Rules</span></span>

<span data-ttu-id="34a42-104">No núcleo de qualquer instalador está a instalação real dos arquivos.</span><span class="sxs-lookup"><span data-stu-id="34a42-104">At the core of any installer is the actual installation of files.</span></span> <span data-ttu-id="34a42-105">Determinar se um arquivo deve ser instalado é um processo complexo.</span><span class="sxs-lookup"><span data-stu-id="34a42-105">Determining whether to install a file is a complex process.</span></span> <span data-ttu-id="34a42-106">No nível mais alto, essa determinação depende de se o componente ao qual um arquivo pertence está marcado para instalação.</span><span class="sxs-lookup"><span data-stu-id="34a42-106">At the highest level, this determination depends on whether the component to which a file belongs is marked for installation.</span></span> <span data-ttu-id="34a42-107">Uma vez determinado que um arquivo deve ser copiado, o processo será complicado se existir outro arquivo com o mesmo nome na pasta de destino.</span><span class="sxs-lookup"><span data-stu-id="34a42-107">Once determined that a file should be copied, the process is complicated if another file with the same name exists in the target folder.</span></span> <span data-ttu-id="34a42-108">Nessas situações, fazer a determinação requer um conjunto de regras que envolvem as seguintes propriedades:</span><span class="sxs-lookup"><span data-stu-id="34a42-108">In such situations, making the determination requires a set of rules involving the following properties:</span></span>

-   <span data-ttu-id="34a42-109">Versão</span><span class="sxs-lookup"><span data-stu-id="34a42-109">Version</span></span>
-   <span data-ttu-id="34a42-110">Data</span><span class="sxs-lookup"><span data-stu-id="34a42-110">Date</span></span>
-   <span data-ttu-id="34a42-111">Idioma</span><span class="sxs-lookup"><span data-stu-id="34a42-111">Language</span></span>

<span data-ttu-id="34a42-112">O instalador usa essas regras apenas ao tentar instalar um arquivo em um local que já contém um arquivo com o mesmo nome.</span><span class="sxs-lookup"><span data-stu-id="34a42-112">The installer only uses these rules when trying to install a file to a location that already contains a file with the same name.</span></span> <span data-ttu-id="34a42-113">Nesse caso, o Windows Installer usa as regras a seguir, todas as outras coisas sendo iguais para determinar se deseja instalar o.</span><span class="sxs-lookup"><span data-stu-id="34a42-113">In this case, the Windows Installer uses the following rules, all other things being equal, to determine whether to install.</span></span>

<span data-ttu-id="34a42-114">Versão mais alta vence — todas as outras coisas são iguais, o arquivo com a versão mais alta vence, mesmo que o arquivo no computador tenha a versão mais alta.</span><span class="sxs-lookup"><span data-stu-id="34a42-114">Highest Version Wins—All other things being equal, the file with the highest version wins, even if the file on the computer has the highest version.</span></span>

<span data-ttu-id="34a42-115">Arquivos com controle de versão Win – um arquivo com versão é instalado em um arquivo sem versão.</span><span class="sxs-lookup"><span data-stu-id="34a42-115">Versioned Files Win—A versioned file gets installed over a nonversioned file.</span></span>

<span data-ttu-id="34a42-116">Favorecer a linguagem do produto — se o arquivo que está sendo instalado tiver um idioma diferente do arquivo no computador, favor favorecer o arquivo com o idioma que corresponde ao produto que está sendo instalado.</span><span class="sxs-lookup"><span data-stu-id="34a42-116">Favor Product Language—If the file being installed has a different language than the file on the computer, favor the file with the language that matches the product being installed.</span></span> <span data-ttu-id="34a42-117">Os arquivos com neutralidade de idioma são tratados como apenas outra linguagem, de modo que o produto que está sendo instalado é favorecedo novamente.</span><span class="sxs-lookup"><span data-stu-id="34a42-117">Language-neutral files are treated as just another language so the product being installed is favored again.</span></span>

<span data-ttu-id="34a42-118">Vários idiomas incompatíveis — depois de fatorar quaisquer linguagens comuns entre o arquivo que está sendo instalado e o arquivo no computador, quaisquer idiomas restantes são favorecedos de acordo com o que é necessário para o produto que está sendo instalado.</span><span class="sxs-lookup"><span data-stu-id="34a42-118">Mismatched Multiple Languages—After factoring out any common languages between the file being installed and the file on the computer, any remaining languages are favored according to what is needed by the product being installed.</span></span>

<span data-ttu-id="34a42-119">Preservar idiomas do superconjunto — preserve o arquivo que dá suporte a vários idiomas, independentemente de ele já estar no computador ou estar sendo instalado.</span><span class="sxs-lookup"><span data-stu-id="34a42-119">Preserve Superset Languages—Preserve the file that supports multiple languages regardless of whether it is already on the computer or is being installed.</span></span>

<span data-ttu-id="34a42-120">Os arquivos sem versão são dados do usuário – se a data de modificação for posterior à data de criação do arquivo no computador, não instale o arquivo porque as personalizações do usuário serão excluídas.</span><span class="sxs-lookup"><span data-stu-id="34a42-120">Nonversioned Files are User Data—If the Modified date is later than the Create date for the file on the computer, do not install the file because user customizations would be deleted.</span></span> <span data-ttu-id="34a42-121">Se as datas de modificação e de criação forem as mesmas, instale o arquivo.</span><span class="sxs-lookup"><span data-stu-id="34a42-121">If the Modified and Create dates are the same, install the file.</span></span> <span data-ttu-id="34a42-122">Se a data de criação for posterior à data de modificação, o arquivo será considerado sem modificações, instale o arquivo.</span><span class="sxs-lookup"><span data-stu-id="34a42-122">If the Create date is later than the Modified date, the file is considered unmodified, install the file.</span></span>

<span data-ttu-id="34a42-123">A instalação de um [arquivo complementar](companion-files.md) não depende de suas próprias informações de controle de versão de arquivo, mas no controle de versão de seu pai complementar.</span><span class="sxs-lookup"><span data-stu-id="34a42-123">The installation of a [Companion File](companion-files.md) depends not on its own file versioning information, but on the versioning of its companion parent.</span></span> <span data-ttu-id="34a42-124">No caso de arquivos complementares, a instalação será ignorada somente se o arquivo pai tiver uma versão superior.</span><span class="sxs-lookup"><span data-stu-id="34a42-124">In the case of Companion Files, the installation is skipped only if the parent file has a higher version.</span></span> <span data-ttu-id="34a42-125">Observe que um arquivo que é o caminho de chave para seu componente não deve ser um arquivo complementar porque isso resulta na lógica de controle de versão do arquivo de caminho de chave que está sendo determinado pelo arquivo pai complementar.</span><span class="sxs-lookup"><span data-stu-id="34a42-125">Note that a file that is the key path for its component must not be a companion file because this results in the versioning logic of the key path file being determined by the companion parent file.</span></span>

<span data-ttu-id="34a42-126">Arquivos sem versão usando [arquivos complementares](companion-files.md)– um arquivo sem versão associado a um arquivo com versão usando o mecanismo complementar Opera de acordo com as regras para o arquivo com versão.</span><span class="sxs-lookup"><span data-stu-id="34a42-126">Nonversioned Files Using [Companion Files](companion-files.md)-A nonversioned file that is associated with a versioned file using the companion mechanism abides by the rules for the versioned file.</span></span> <span data-ttu-id="34a42-127">A única exceção é se o arquivo com versão no computador e o arquivo com controle de versão que está sendo instalado têm a mesma versão e idioma, mas o arquivo complementar está ausente no computador.</span><span class="sxs-lookup"><span data-stu-id="34a42-127">The only exception is if the versioned file on the computer and the versioned file being installed have the same version and language but the companion file is missing on the computer.</span></span> <span data-ttu-id="34a42-128">Nesse caso, o arquivo complementar que está sendo instalado é usado, embora o arquivo com versão no computador seja usado.</span><span class="sxs-lookup"><span data-stu-id="34a42-128">In this case the companion file being installed is used even though the versioned file on the computer is used.</span></span> <span data-ttu-id="34a42-129">Além disso, um arquivo não versionado usando um arquivo complementar é instalado se a propriedade [**REinstallmode**](reinstallmode.md) inclui as opções substituir versões mais antigas ("o" ou "e") e a versão do arquivo complementar é igual a um arquivo que já está no computador.</span><span class="sxs-lookup"><span data-stu-id="34a42-129">Additionally, a nonversioned file using a companion file is installed if the [**REINSTALLMODE**](reinstallmode.md) property includes the overwrite older versions options ("o" or "e") and the companion file's version is equal to a file already on the machine.</span></span>

<span data-ttu-id="34a42-130">As regras são globais — as regras para determinar quando instalar um arquivo residem em um único local dentro do instalador e são globais, o que significa que eles se aplicam a todos os arquivos igualmente.</span><span class="sxs-lookup"><span data-stu-id="34a42-130">Rules are Global—The rules for determining when to install a file reside in one place within the installer and are global, meaning they apply to all files equally.</span></span>

<span data-ttu-id="34a42-131">Para obter exemplos do formato usado para versões de arquivo, consulte o tipo de dados [version](version.md) .</span><span class="sxs-lookup"><span data-stu-id="34a42-131">For examples of the format used for file versions, see the [Version](version.md) data type.</span></span> <span data-ttu-id="34a42-132">Para obter informações mais específicas, consulte [substituindo arquivos existentes](replacing-existing-files.md) ou o [controle de versão de arquivo padrão](default-file-versioning.md).</span><span class="sxs-lookup"><span data-stu-id="34a42-132">For more specific information, see [Replacing Existing Files](replacing-existing-files.md) or [Default File Versioning](default-file-versioning.md).</span></span>

 

 



