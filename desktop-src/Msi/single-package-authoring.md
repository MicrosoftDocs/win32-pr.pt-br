---
description: Um pacote de uso duplo é um pacote Windows Installer 5,0 que foi criado para ser capaz de instalar um aplicativo no contexto de instalação por usuário ou por computador.
ms.assetid: b2da9fba-8fdf-48fa-a662-6b3eee1bfe87
title: Criação de pacote único
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 87c22b9be930be2d2178ea4efb7ba1538320823a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105787066"
---
# <a name="single-package-authoring"></a><span data-ttu-id="fa4dd-103">Criação de pacote único</span><span class="sxs-lookup"><span data-stu-id="fa4dd-103">Single Package Authoring</span></span>

<span data-ttu-id="fa4dd-104">Um pacote de uso duplo é um pacote Windows Installer 5,0 que foi criado para ser capaz de instalar um aplicativo no [contexto de instalação](installation-context.md)por usuário ou por computador.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-104">A dual-purpose package is a Windows Installer 5.0 package that has been authored to be capable of installing an application in either the per-user or per-machine [installation context](installation-context.md).</span></span> <span data-ttu-id="fa4dd-105">Os desenvolvedores de instalação que usam um pacote de uso duplo para seu aplicativo podem fornecer aos usuários uma opção de contexto de instalação no momento da instalação e podem remover solicitações de credenciais de UAC de instalações por usuário no Windows 7 ou no Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-105">Setup developers that use a dual-purpose package for their application can provide their users with a choice of installation context at installation time and can remove UAC credential prompts from per-user installations on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="fa4dd-106">O desenvolvimento de um pacote Windows Installer 5,0 de uso duplo para instalação no Windows 7 e no Windows Server 2008 R2 é chamado de criação de pacote único.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-106">The development of a dual-purpose Windows Installer 5.0 package for installation on Windows 7 and Windows Server 2008 R2 is referred to as single package authoring.</span></span>

<span data-ttu-id="fa4dd-107">Você pode começar a desenvolver pacotes de uso duplo para o Windows 7 e o Windows Server 2008 R2 usando Windows Installer 5,0, a propriedade [**MSIINSTALLPERUSER**](msiinstallperuser.md) , a propriedade [**AllUsers**](allusers.md) e as pastas e os registros conhecidos e habilitados por usuário do [shell do Windows](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-107">You can begin to develop dual-purpose packages for Windows 7 and Windows Server 2008 R2 by using Windows Installer 5.0, the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property, the [**ALLUSERS**](allusers.md) property, and the per-user capable known folders and registrations of the [Windows Shell](/previous-versions/windows/desktop/legacy/bb773177(v=vs.85)).</span></span> <span data-ttu-id="fa4dd-108">Quando Windows Installer 5,0 instala um pacote de uso duplo no contexto por usuário no Windows 7 ou no Windows Server 2008 R2, o instalador direciona as entradas de arquivo e registro para locais por usuário e não exibe os prompts do UAC para as credenciais.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-108">When Windows Installer 5.0 installs a dual-purpose package in the per-user context on Windows 7 or Windows Server 2008 R2, the installer directs file and registry entries to per-user locations and does not display UAC prompts for credentials.</span></span> <span data-ttu-id="fa4dd-109">Quando Windows Installer 5,0 instala um pacote de uso duplo no contexto por máquina, o instalador direciona arquivos e entradas de registro para locais por máquina e solicita as credenciais do UAC para confirmar se o usuário tem privilégios suficientes para instalar o software para todos os usuários do computador.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-109">When Windows Installer 5.0 installs a dual-purpose package in the per-machine context, the installer directs files and registry entries to per-machine locations and prompts for UAC credentials to confirm that the user has sufficient privileges to install software for all users of the computer.</span></span> <span data-ttu-id="fa4dd-110">Uma vez que o Windows Installer 5,0 instala um aplicativo, ele usa o mesmo contexto de instalação para todas as atualizações, reparos ou remoção subsequentes do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-110">Once Windows Installer 5.0 installs an application, it uses the same installation context for all subsequent updates, repairs, or removal of the application.</span></span>

<span data-ttu-id="fa4dd-111">**[Windows Installer 4,5 ou anterior](not-supported-in-windows-installer-4-5.md):** a propriedade [**MSIINSTALLPERUSER**](msiinstallperuser.md) e as versões por usuário das pastas referenciadas pelas [**Propriedades ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md)e [**CommonFiles64Folder**](commonfiles64folder.md) não têm suporte.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-111">**[Windows Installer 4.5 or earlier](not-supported-in-windows-installer-4-5.md):** The [**MSIINSTALLPERUSER**](msiinstallperuser.md) property and per-user versions of folders referenced by the [**ProgramFilesFolder**](programfilesfolder.md), [**CommonFilesFolder**](commonfilesfolder.md), [**ProgramFiles64Folder**](programfiles64folder.md), and [**CommonFiles64Folder**](commonfiles64folder.md) properties are not supported.</span></span> <span data-ttu-id="fa4dd-112">As pastas **FolderId \_ userprogramfiles** e **FolderId \_ UserProgramFilesCommon** estão disponíveis a partir do windows 7 e do Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-112">The **FOLDERID\_UserProgramFiles** and **FOLDERID\_UserProgramFilesCommon** folders are available beginning with Windows 7 and Windows Server 2008 R2.</span></span> <span data-ttu-id="fa4dd-113">Isso significa que as instalações são desenvolvidas para Windows Installer 4,5 ou para arquivos diretos e entradas de registro anteriores a FOLDERid \_ ProgramFiles, FolderId \_ PROGRAMFILESCOMMON, FolderId \_ ProgramFilesX64 e FolderId \_ ProgramFilesCommonX64.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-113">This means installations developed for Windows Installer 4.5 or earlier direct files and registry entries to FOLDERID\_ProgramFiles, FOLDERID\_ProgramFilesCommon, FOLDERID\_ProgramFilesX64, and FOLDERID\_ProgramFilesCommonX64.</span></span> <span data-ttu-id="fa4dd-114">Como esses são locais acessíveis a outros usuários do computador, o Windows Vista e os sistemas posteriores exigem a exibição de solicitações do UAC para credenciais.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-114">Because these are locations accessible to other users of the computer, Windows Vista and later systems require the display of UAC prompts for credentials.</span></span>

<span data-ttu-id="fa4dd-115">Quando um usuário instala um pacote de uso duplo criado para o Windows Installer 5,0 com Windows Installer 4,5 ou anterior, o instalador ignora a propriedade [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="fa4dd-115">When a user installs a dual-purpose package authored for Windows Installer 5.0 with Windows Installer 4.5 or earlier, the installer ignores the [**MSIINSTALLPERUSER**](msiinstallperuser.md) property.</span></span> <span data-ttu-id="fa4dd-116">Nesse caso, a instalação pode direcionar arquivos e entradas de registro para locais acessíveis a outros usuários e exigir que o sistema exiba as credenciais dos prompts do UAC.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-116">In this case, the installation can direct files and registry entries to locations accessible to other users and require the system to display UAC prompts for credentials.</span></span> <span data-ttu-id="fa4dd-117">O Windows Installer 5,0 pode instalar um pacote desenvolvido para Windows Installer 4,5 ou anterior. no entanto, a instalação direciona arquivos e entradas do registro para locais acessíveis a outros usuários e requer que o sistema exiba as credenciais do UAC.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-117">Windows Installer 5.0 can install a package that was developed for Windows Installer 4.5 or earlier, however, the installation directs files and registry entries to locations accessible to other users and requires the system to display UAC prompts for credentials.</span></span>

## <a name="development-guidelines"></a><span data-ttu-id="fa4dd-118">Diretrizes de desenvolvimento</span><span class="sxs-lookup"><span data-stu-id="fa4dd-118">Development Guidelines</span></span>

<span data-ttu-id="fa4dd-119">Siga as seguintes diretrizes de criação de pacote único para garantir que o pacote possa ser instalado no contexto por usuário ou por máquina.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-119">Adhere to the following single-package authoring guidelines to ensure that the package can be installed in either the per-user or per-machine context.</span></span> <span data-ttu-id="fa4dd-120">Siga estas diretrizes para permitir que o usuário escolha no momento da instalação uma instalação por usuário ou por computador e remova os prompts do UAC de instalações por usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-120">Follow these guidelines to enable the user to choose at installation time a per-user or per-machine installation and to remove UAC prompts from per-user installations.</span></span>

-   <span data-ttu-id="fa4dd-121">A instalação por usuário requer o Windows Installer 5,0 no Windows 7 ou no Windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-121">Per-user installation requires Windows Installer 5.0 on Windows 7 or Windows Server 2008 R2.</span></span> <span data-ttu-id="fa4dd-122">Você deve informar ao usuário que o pacote dá suporte à instalação por computador do aplicativo em versões anteriores do sistema.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-122">You should inform the user that the package supports per-machine installation of the application on earlier versions of the system.</span></span>
-   <span data-ttu-id="fa4dd-123">Inicialize os valores das propriedades [**AllUsers**](allusers.md) e [**MSIINSTALLPERUSER**](msiinstallperuser.md) na tabela de [Propriedades](property-table.md) do pacote de uso duplo.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-123">Initialize the values for the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties in the [Property Table](property-table.md) of your dual-purpose package.</span></span> <span data-ttu-id="fa4dd-124">Use o valor **AllUsers** de 2 e um valor de **MSIINSTALLPERUSER** de 1 como os valores iniciais.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-124">Use **ALLUSERS** value of 2 and a **MSIINSTALLPERUSER** value of 1 as the initial values.</span></span> <span data-ttu-id="fa4dd-125">Isso especifica a instalação por usuário como o padrão para o pacote de uso duplo.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-125">This specifies per-user installation as the default for the dual-purpose package.</span></span>
-   <span data-ttu-id="fa4dd-126">Considere criar uma caixa de diálogo para a [interface do usuário](user-interface.md) do seu pacote de uso duplo que permite que o usuário escolha o contexto no momento da instalação.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-126">Consider authoring a dialog box for the [user interface](user-interface.md) of your dual-purpose package that enables the user to choose the context at installation time.</span></span> <span data-ttu-id="fa4dd-127">Crie os controles nessa caixa de diálogo personalizada para definir os valores das propriedades [**AllUsers**](allusers.md) e [**MSIINSTALLPERUSER**](msiinstallperuser.md) .</span><span class="sxs-lookup"><span data-stu-id="fa4dd-127">Author the controls on this custom dialog box to set the values of the [**ALLUSERS**](allusers.md) and [**MSIINSTALLPERUSER**](msiinstallperuser.md) properties.</span></span> <span data-ttu-id="fa4dd-128">Para o valor **AllUsers** de 2, defina **MSIINSTALLPERUSER** como um valor de 1 para especificar uma instalação por usuário e defina **MSIINSTALLPERUSER** como uma cadeia de caracteres vazia ("") para especificar uma instalação por computador.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-128">For the **ALLUSERS** value of 2, set **MSIINSTALLPERUSER** to a value of 1 to specify a per-user installation and set **MSIINSTALLPERUSER** to an empty string ("") to specify a per-machine installation.</span></span> <span data-ttu-id="fa4dd-129">Os usuários também podem definir **AllUsers** e **MSIINSTALLPERUSER** na linha de comando se instalarem o pacote da linha de comando.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-129">Users can also set the **ALLUSERS** and **MSIINSTALLPERUSER** on the command line if they install the package from the command line.</span></span>
-   <span data-ttu-id="fa4dd-130">Valide o pacote usando [avaliadores de consistência internos-ICES](internal-consistency-evaluators-ices.md).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-130">Validate the package using [Internal Consistency Evaluators - ICEs](internal-consistency-evaluators-ices.md).</span></span> <span data-ttu-id="fa4dd-131">O pacote deve ser capaz de passar na validação pelo [ICE105](ice-105.md) para ser um pacote de uso duplo válido.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-131">The package must be able to pass validation by [ICE105](ice-105.md) to be a valid dual-purpose package.</span></span>
-   <span data-ttu-id="fa4dd-132">Use a [tabela de registro](registry-table.md) e a [tabela RemoveRegistry](removeregistry-table.md) para redirecionar entradas de registro para as partes por usuário do registro durante as instalações por usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-132">Use the [Registry Table](registry-table.md) and [RemoveRegistry Table](removeregistry-table.md) to redirect registry entries to the per-user parts of the registry during per-user installations.</span></span> <span data-ttu-id="fa4dd-133">Em uma instalação por usuário, as entradas do registro que têm-1 na coluna raiz são redirecionadas para **HKEY \_ Current \_ User** e, em uma instalação por máquina, elas são direcionadas para a **\_ \_ máquina local hKey**.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-133">In a per-user installation, registry entries that have -1 in the Root column are redirected to **HKEY\_CURRENT\_USER**, and in a per-machine installation these are directed to **HKEY\_LOCAL\_MACHINE**.</span></span> <span data-ttu-id="fa4dd-134">Em uma instalação por usuário, as entradas do registro que têm msidbRegistryRootClassesRoot (0) na coluna raiz são redirecionadas para classes de software **HKCU** \\  \\ e, em uma instalação por máquina, elas são direcionadas para classes de \\ **software** HKLM \\ .</span><span class="sxs-lookup"><span data-stu-id="fa4dd-134">In a per-user installation, registry entries that have msidbRegistryRootClassesRoot (0) in the Root column are redirected to **HKCU**\\**Software**\\**Classes**, and in a per-machine installation, these are directed to **HKLM**\\**Software**\\**Classes**.</span></span>
-   <span data-ttu-id="fa4dd-135">Use a propriedade [**ProgramFilesFolder**](programfilesfolder.md) na [tabela de diretórios](directory-table.md) de [pacotes de Windows Installer de 32 bits](32-bit-windows-installer-packages.md) para especificar os locais de diretórios que contêm componentes de 32 bits que não são compartilhados entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-135">Use the [**ProgramFilesFolder**](programfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components not shared across applications.</span></span> <span data-ttu-id="fa4dd-136">Quando um usuário instala o pacote de uso duplo usando o contexto por máquina, esses componentes são salvos na pasta arquivos de programas em versões de 32 bits do Windows e na pasta arquivos de programas (x86) em versões de 64 bits do sistema.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-136">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder on 32-bit versions of Windows and in the Program Files (x86) folder on 64-bit versions of the system.</span></span> <span data-ttu-id="fa4dd-137">Os componentes nesses diretórios podem ser acessados por todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-137">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="fa4dd-138">Quando um usuário instala o pacote de uso duplo no Windows 7 ou no Windows Server 2008 R2 usando o contexto por usuário, esses componentes são salvos na pasta programas do usuário atual (por exemplo, em% LocalAppData% \\ Programs) e podem ser acessados somente por esse usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-138">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="fa4dd-139">Use a propriedade [**CommonFilesFolder**](commonfilesfolder.md) na [tabela de diretórios](directory-table.md) de [pacotes de Windows Installer de 32 bits](32-bit-windows-installer-packages.md) para especificar os locais de diretórios que contêm componentes de 32 bits compartilhados entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-139">Use the [**CommonFilesFolder**](commonfilesfolder.md) property in the [Directory table](directory-table.md) of [32-bit Windows Installer Packages](32-bit-windows-installer-packages.md) to specify the locations of directories containing 32-bit components shared across applications.</span></span> <span data-ttu-id="fa4dd-140">Quando um usuário instala o pacote de uso duplo usando o contexto por máquina, esses componentes são salvos na pasta Arquivos comuns e podem ser acessados por todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-140">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="fa4dd-141">Quando um usuário instala o pacote de uso duplo no Windows 7 ou no Windows Server 2008 R2 usando o contexto por usuário, esses componentes são salvos na pasta comum do usuário atual (por exemplo, em% LocalAppData% \\ Programs \\ Common) e podem ser acessados somente por esse usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-141">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="fa4dd-142">Use a propriedade [**ProgramFiles64Folder**](programfiles64folder.md) na [tabela de diretórios](directory-table.md) de [pacotes de Windows Installer de 64 bits](64-bit-windows-installer-packages.md) para especificar os locais de diretórios que contêm componentes de 64 bits que não são compartilhados entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-142">Use the [**ProgramFiles64Folder**](programfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components not shared across applications.</span></span> <span data-ttu-id="fa4dd-143">Quando um usuário instala o pacote de uso duplo usando o contexto por máquina, esses componentes são salvos na pasta arquivos de programas.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-143">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Program Files folder.</span></span> <span data-ttu-id="fa4dd-144">Os componentes nesses diretórios podem ser acessados por todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-144">The components in these directories can be accessed by all users.</span></span> <span data-ttu-id="fa4dd-145">Quando um usuário instala o pacote de uso duplo no Windows 7 ou no Windows Server 2008 R2 usando o contexto por usuário, esses componentes são salvos na pasta programas do usuário atual (por exemplo, em% LocalAppData% \\ Programs) e podem ser acessados somente por esse usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-145">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Programs folder of the current user (for example at %LocalAppData%\\Programs) and can be accessed only by that user.</span></span> <span data-ttu-id="fa4dd-146">Para obter mais informações sobre como criar um pacote para instalar um aplicativo em sistemas operacionais de 64 bits, consulte [Windows Installer em sistemas operacionais de 64 bits](windows-installer-on-64-bit-operating-systems.md).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-146">For more information about authoring a package to install an application on 64-bit operating systems, see [Windows Installer on 64-bit Operating Systems](windows-installer-on-64-bit-operating-systems.md).</span></span>
-   <span data-ttu-id="fa4dd-147">Use a propriedade [**CommonFiles64Folder**](commonfiles64folder.md) na [tabela de diretórios](directory-table.md) de [pacotes de Windows Installer de 64 bits](64-bit-windows-installer-packages.md) para especificar os locais de diretórios que contêm componentes de 64 bits compartilhados entre aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-147">Use the [**CommonFiles64Folder**](commonfiles64folder.md) property in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the locations of directories containing 64-bit components shared across applications.</span></span> <span data-ttu-id="fa4dd-148">Quando um usuário instala o pacote de uso duplo usando o contexto por máquina, esses componentes são salvos na pasta Arquivos comuns e podem ser acessados por todos os usuários.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-148">When a user installs the dual-purpose package using the per-machine context, these components are saved in the Common Files folder and can be accessed by all users.</span></span> <span data-ttu-id="fa4dd-149">Quando um usuário instala o pacote de uso duplo no Windows 7 ou no Windows Server 2008 R2 usando o contexto por usuário, esses componentes são salvos na pasta comum do usuário atual (por exemplo, em% LocalAppData% \\ Programs \\ Common) e podem ser acessados somente por esse usuário.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-149">When a user installs the dual-purpose package on Windows 7 or Windows Server 2008 R2 using the per-user context, these components are saved in the Common folder of the current user (for example at %LocalAppData%\\Programs\\Common) and can be accessed only by that user.</span></span>
-   <span data-ttu-id="fa4dd-150">Use as propriedades [**ProgramFilesFolder**](programfilesfolder.md) e [**CommonFilesFolder**](commonfilesfolder.md) na [tabela de diretórios](directory-table.md) de [pacotes de Windows Installer de 64 bits](64-bit-windows-installer-packages.md) para especificar o local dos diretórios que contêm componentes de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-150">Use the [**ProgramFilesFolder**](programfilesfolder.md) and [**CommonFilesFolder**](commonfilesfolder.md) properties in the [Directory table](directory-table.md) of [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) to specify the location of directories containing 32-bit components.</span></span> <span data-ttu-id="fa4dd-151">Use nomes diferentes para as versões de 32 bits e 64 bits de quaisquer componentes fornecidos com o mesmo nome ou, como alternativa, salve as versões em pastas diferentes.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-151">Use different names for the 32-bit and 64-bit versions of any components provided with the same name, or alternatively, save the versions in different folders.</span></span> <span data-ttu-id="fa4dd-152">Por exemplo, adicione informações à tabela de diretórios para especificar o local do diretório que contém a versão de 32 bits como nome do \[ aplicativo de \] \\ *nome ProgramFilesFolder ISV* \\  \\ x86 e o local do diretório que contém a versão de 64 bits como nome do \[ aplicativo de nome do Program64FilesFolder \] \\ *ISV* \\  \\ x64.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-152">For example, add information to the Directory table to specify the location of the directory containing the 32-bit version as \[ProgramFilesFolder\]\\*ISV Name*\\*Application Name*\\x86 and the location of the directory containing the 64-bit version as \[Program64FilesFolder\]\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="fa4dd-153">Em seguida, uma instalação por computador salva a versão de 32 bits em arquivos de programas (x86) nome de ISV nome do \\  \\ *aplicativo* \\ x86 e salva a versão de 64 bits em arquivos de programas \\ *ISV* nome \\ *nome do aplicativo* \\ x64.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-153">A per-machine installation then saves the 32-bit version in Program Files(x86)\\*ISV Name*\\*Application Name*\\x86 and saves the 64-bit version in Program Files\\*ISV Name*\\*Application Name*\\x64.</span></span> <span data-ttu-id="fa4dd-154">Uma instalação por usuário salva a versão de 32 bits em% LocalAppData% \\ programas \\ *ISV nome* \\ *aplicativo* nome \\ x86 e instala a versão de 64 bits em% LocalAppData% \\ Programs \\ *ISV Name* \\ *nome do aplicativo* \\ x64.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-154">A per-user installation saves the 32-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x86 and installs the 64-bit version in %LocalAppData%\\Programs\\*ISV Name*\\*Application Name*\\x64.</span></span>
-   <span data-ttu-id="fa4dd-155">Armazene os dados de configuração por usuário para o aplicativo em \\ usuários nome de usuário \\  \\ AppData.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-155">Store per-user configuration data for the application under \\Users\\*username*\\AppData.</span></span>
-   <span data-ttu-id="fa4dd-156">Armazene modelos e arquivos gerados pelo aplicativo em subpastas sob \\ o \\ *nome de usuário* users.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-156">Store templates and files generated by the application in subfolders under \\Users\\*username*.</span></span>
-   <span data-ttu-id="fa4dd-157">Se seu aplicativo usar extensões de Shell, você deverá usar os pontos de extensibilidade do [shell](https://msdn.microsoft.com/library/bb762762.aspx) compatíveis com o usuário que estão disponíveis a partir do Windows 7 ou do windows Server 2008 R2.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-157">If your application uses shell extensions, you should use the per-user-capable [shell extensibility](https://msdn.microsoft.com/library/bb762762.aspx) points that are available beginning in Windows 7 or Windows Server 2008 R2.</span></span>
-   <span data-ttu-id="fa4dd-158">Não use ações personalizadas em seu pacote que exigem privilégios elevados para serem executadas.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-158">Do not use custom actions in your package that require elevated privileges to run.</span></span> <span data-ttu-id="fa4dd-159">A tabela [CustomAction](customaction-table.md) não deve conter nenhuma ação personalizada que tenha sido marcada para ser executada com privilégios elevados.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-159">The [CustomAction](customaction-table.md) table should contain no custom actions that have been marked to run with elevated privileges.</span></span> <span data-ttu-id="fa4dd-160">Para obter mais informações sobre ações personalizadas elevadas, consulte [segurança de ação personalizada](custom-action-security.md).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-160">For more information about elevated custom actions, see [Custom Action Security](custom-action-security.md).</span></span>
-   <span data-ttu-id="fa4dd-161">Não grave em nenhuma pasta global do sistema.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-161">Do not write in any global system folders.</span></span> <span data-ttu-id="fa4dd-162">A tabela de [diretórios](directory-table.md) não deve conter uma referência a nenhuma das seguintes propriedades de pasta do sistema.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-162">The [Directory](directory-table.md) table should not contain a reference to any of the following system folder properties.</span></span>

    <dl>

[<span data-ttu-id="fa4dd-163">**AdminToolsFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-163">**AdminToolsFolder**</span></span>](admintoolsfolder.md)  
    [<span data-ttu-id="fa4dd-164">**CommonAppDataFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-164">**CommonAppDataFolder**</span></span>](commonappdatafolder.md)  
    [<span data-ttu-id="fa4dd-165">**FontsFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-165">**FontsFolder**</span></span>](fontsfolder.md)  
    [<span data-ttu-id="fa4dd-166">**System16Folder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-166">**System16Folder**</span></span>](system16folder.md)  
    [<span data-ttu-id="fa4dd-167">**System64Folder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-167">**System64Folder**</span></span>](system64folder.md)  
    [<span data-ttu-id="fa4dd-168">**SystemFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-168">**SystemFolder**</span></span>](systemfolder.md)  
    [<span data-ttu-id="fa4dd-169">**TempFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-169">**TempFolder**</span></span>](tempfolder.md)  
    [<span data-ttu-id="fa4dd-170">**WindowsFolder**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-170">**WindowsFolder**</span></span>](windowsfolder.md)  
    [<span data-ttu-id="fa4dd-171">**WindowsVolume**</span><span class="sxs-lookup"><span data-stu-id="fa4dd-171">**WindowsVolume**</span></span>](windowsvolume.md)  
    </dl>

-   <span data-ttu-id="fa4dd-172">Não instale um assembly Common Language Runtime no cache de assembly global (GAC). Para obter mais informações sobre como instalar assemblies no cache de assembly global, consulte [adicionando assemblies a um pacote](adding-assemblies-to-a-package.md) e [instalação de assemblies do Common Language Runtime](installation-of-common-language-runtime-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-172">Do not install a common language runtime assembly into the global assembly cache (GAC.) For more information about installing assemblies to the global assembly cache, see [Adding Assemblies to a Package](adding-assemblies-to-a-package.md) and [Installation of Common Language Runtime Assemblies](installation-of-common-language-runtime-assemblies.md).</span></span>
-   <span data-ttu-id="fa4dd-173">Não instale nenhuma fonte de dados ODBC.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-173">Do not install any ODBC data sources.</span></span> <span data-ttu-id="fa4dd-174">Não use a tabela [ODBCDataSource](odbcdatasource-table.md) para instalar uma fonte de dados.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-174">Do not use the [ODBCDataSource](odbcdatasource-table.md) table to install a data source.</span></span>
-   <span data-ttu-id="fa4dd-175">Não instale nenhum serviço.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-175">Do not install any services.</span></span> <span data-ttu-id="fa4dd-176">Não use a tabela de [instalação](serviceinstall-table.md) para instalar um serviço.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-176">Do not use the [ServiceInstall](serviceinstall-table.md) table to install a service.</span></span>

## <a name="example"></a><span data-ttu-id="fa4dd-177">Exemplo</span><span class="sxs-lookup"><span data-stu-id="fa4dd-177">Example</span></span>

<span data-ttu-id="fa4dd-178">Um exemplo de um pacote de uso duplo é fornecido nos [componentes SDK do Windows para Windows Installer desenvolvedores](platform-sdk-components-for-windows-installer-developers.md) como o arquivo PUASample1.msi.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-178">An example of a dual-purpose package is provided in the [Windows SDK Components for Windows Installer Developers](platform-sdk-components-for-windows-installer-developers.md) as the file PUASample1.msi.</span></span> <span data-ttu-id="fa4dd-179">Se você tiver o SDK atual, terá acesso a todas as ferramentas e dados necessários para reproduzir o pacote de instalação de exemplo.</span><span class="sxs-lookup"><span data-stu-id="fa4dd-179">If you have the current SDK, you have access to all the tools and data necessary to reproduce the sample installation package.</span></span> <span data-ttu-id="fa4dd-180">Para obter mais informações sobre este exemplo, consulte [exemplo de criação de pacote único](single-package-authoring-example.md).</span><span class="sxs-lookup"><span data-stu-id="fa4dd-180">For more information about this example, see [Single Package Authoring Example](single-package-authoring-example.md).</span></span>

 

 
