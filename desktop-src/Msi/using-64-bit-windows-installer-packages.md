---
description: Siga as diretrizes a seguir ao criar um pacote de Windows Installer de 64 bits.
ms.assetid: e7dfd188-fd4d-49d6-8cf5-c17182b697ca
title: Usando pacotes de Windows Installer de 64 bits
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5b46ab8a9668d816ea99bd92c2575e9ea6367352
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105751177"
---
# <a name="using-64-bit-windows-installer-packages"></a><span data-ttu-id="586f9-103">Usando pacotes de Windows Installer de 64 bits</span><span class="sxs-lookup"><span data-stu-id="586f9-103">Using 64-Bit Windows Installer Packages</span></span>

<span data-ttu-id="586f9-104">Ao criar [pacotes de Windows Installer de 64 bits](64-bit-windows-installer-packages.md) ou aplicativos que chamam Windows Installer para instalar pacotes de 64 bits, faça o seguinte:</span><span class="sxs-lookup"><span data-stu-id="586f9-104">When you create [64-bit Windows Installer Packages](64-bit-windows-installer-packages.md) or applications that call Windows Installer to install 64-bit packages, do the following:</span></span>

-   <span data-ttu-id="586f9-105">Use um esquema de banco de dados Windows Installer de 200 ou superior.</span><span class="sxs-lookup"><span data-stu-id="586f9-105">Use a Windows Installer database schema of 200 or higher.</span></span> <span data-ttu-id="586f9-106">Especifique que a versão 2,0 é a versão mínima do instalador necessária para instalar o pacote, definindo a propriedade de [**Resumo contagem de páginas**](page-count-summary.md) como o inteiro 200.</span><span class="sxs-lookup"><span data-stu-id="586f9-106">Specify that version 2.0 is the minimum version of the installer required to install the package by setting the [**Page Count Summary**](page-count-summary.md) property to the integer 200.</span></span> <span data-ttu-id="586f9-107">Versões anteriores do Windows Installer rejeitam tentativas de instalar pacotes de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-107">Earlier Windows Installer versions reject attempts to install 64-bit packages.</span></span> <span data-ttu-id="586f9-108">Para pacotes de 64 bits na plataforma Arm64, o esquema de banco de dados Windows Installer deve ser 500 ou superior.</span><span class="sxs-lookup"><span data-stu-id="586f9-108">For 64-bit packages on the Arm64 platform, the Windows Installer database schema must be 500 or higher.</span></span>
-   <span data-ttu-id="586f9-109">Indique na propriedade [**Resumo do modelo**](template-summary.md) do fluxo de informações de resumo do pacote que este é um pacote de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-109">Indicate in the [**Template Summary**](template-summary.md) property of the package summary information stream that this is a 64-bit package.</span></span> <span data-ttu-id="586f9-110">Digite "Intel64" no campo plataforma da propriedade **Resumo do modelo** se o pacote for para ser executado em um processador Intel64.</span><span class="sxs-lookup"><span data-stu-id="586f9-110">Enter "Intel64" into the platform field of the **Template Summary** property if the package is to be run on an Intel64 processor.</span></span> <span data-ttu-id="586f9-111">Digite "x64" se o pacote for para ser executado em um processador estendido de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-111">Enter "x64" if the package is to be run on a 64-bit extended processor.</span></span> <span data-ttu-id="586f9-112">Digite "Arm64" se o pacote for para ser executado em um processador Arm64.</span><span class="sxs-lookup"><span data-stu-id="586f9-112">Enter “Arm64” if the package is to be run on an Arm64 processor.</span></span> <span data-ttu-id="586f9-113">Um pacote não pode ser marcado como compatível com plataformas Intel64 e x64, um valor de propriedade de **Resumo de modelo** de "Intel64, x64" é inválido.</span><span class="sxs-lookup"><span data-stu-id="586f9-113">A package cannot be marked as supporting both Intel64 and x64 platforms, a **Template Summary** property value of "Intel64,x64" is invalid.</span></span> <span data-ttu-id="586f9-114">Um pacote não pode ser marcado como compatível com plataformas de 32 bits e 64 bits, os valores de propriedade de **Resumo de modelo** "Intel, x64" ou "Intel, Intel64" são inválidos.</span><span class="sxs-lookup"><span data-stu-id="586f9-114">A package cannot be marked as supporting both 32-bit and 64-bit platforms, the **Template Summary** property values of "Intel,x64" or "Intel,Intel64" are invalid.</span></span>
-   <span data-ttu-id="586f9-115">Identifique cada componente de 64 bits definindo o **msidbComponentAttributes64bit** na coluna atributos da tabela de [componentes](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="586f9-115">Identify every 64-bit component by setting the **msidbComponentAttributes64bit** in the Attributes column of the [Component](component-table.md) table.</span></span>
-   <span data-ttu-id="586f9-116">Use instruções condicionais opcionais que verifiquem a versão do sistema operacional de 64 bits referenciando a propriedade [**VersionNT64**](versionnt64.md) .</span><span class="sxs-lookup"><span data-stu-id="586f9-116">Use optional conditional statements that check the version of the 64-bit operating system by referencing the [**VersionNT64**](versionnt64.md) property.</span></span> <span data-ttu-id="586f9-117">Windows Installer define essa propriedade como a versão do Windows de 64 bits e deixa VersionNT64 indefinida se o sistema operacional não for um Windows de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-117">Windows Installer sets this property to the 64-bit Windows version and leaves VersionNT64 undefined if the operating system is not 64-bit Windows.</span></span> <span data-ttu-id="586f9-118">Para obter mais informações, consulte [usando propriedades em instruções condicionais](using-properties-in-conditional-statements.md).</span><span class="sxs-lookup"><span data-stu-id="586f9-118">For more information, see [Using Properties in Conditional Statements](using-properties-in-conditional-statements.md).</span></span>
-   <span data-ttu-id="586f9-119">Use instruções condicionais opcionais que verifiquem o nível numérico do processador do computador referenciando a propriedade [**Intel64**](intel64.md) ou [**Msix64**](msix64.md) .</span><span class="sxs-lookup"><span data-stu-id="586f9-119">Use optional conditional statements that check the numeric processor level of the computer by referencing the [**Intel64**](intel64.md) or [**Msix64**](msix64.md) property.</span></span> <span data-ttu-id="586f9-120">O Windows Installer define essas propriedades para o nível de processador numérico atual do computador e deixa a propriedade **Intel64** indefinida se não for um processador baseado em Itanium.</span><span class="sxs-lookup"><span data-stu-id="586f9-120">The Windows Installer  sets these properties to the current numeric processor level of the computer and leaves the **Intel64** Property undefined if this is not an Itanium-based processor.</span></span> <span data-ttu-id="586f9-121">Para obter mais informações, consulte [usando propriedades em instruções condicionais](using-properties-in-conditional-statements.md).</span><span class="sxs-lookup"><span data-stu-id="586f9-121">For more information, see [Using Properties in Conditional Statements](using-properties-in-conditional-statements.md).</span></span>
-   <span data-ttu-id="586f9-122">Use a [tabela AppSearch](appsearch-table.md) e a [ação AppSearch](appsearch-action.md) para fazer pesquisas opcionais do registro para componentes de 64 bits existentes.</span><span class="sxs-lookup"><span data-stu-id="586f9-122">Use the [AppSearch Table](appsearch-table.md) and [AppSearch Action](appsearch-action.md) to do optional searches of the registry for existing 64-bit components.</span></span> <span data-ttu-id="586f9-123">Para procurar componentes de 64 bits existentes, inclua o bit **msidbLocatorType64bit** na coluna Type da [tabela RegLocator](reglocator-table.md).</span><span class="sxs-lookup"><span data-stu-id="586f9-123">To search for existing 64-bit components, include the **msidbLocatorType64bit** bit in the Type column of the [RegLocator Table](reglocator-table.md).</span></span> <span data-ttu-id="586f9-124">Para obter mais informações, consulte [pesquisando aplicativos existentes, arquivos, entradas de registro ou propriedade de entradas de arquivo. ini](searching-for-existing-applications-files-registry-entries-or--ini-file-entries.md)</span><span class="sxs-lookup"><span data-stu-id="586f9-124">For more information, see [Searching for Existing Applications, Files, Registry Entries or .ini File Entries Property](searching-for-existing-applications-files-registry-entries-or--ini-file-entries.md)</span></span>
-   <span data-ttu-id="586f9-125">Obtenha os caminhos para as pastas do sistema referenciando a propriedade [**System64Folder**](system64folder.md), a propriedade [**ProgramFiles64Folder**](programfiles64folder.md) e a propriedade [**CommonFiles64Folder**](commonfiles64folder.md) para as pastas de 64 bits e a propriedade [**SystemFolder**](systemfolder.md) , a propriedade [**ProgramFilesFolder**](programfilesfolder.md) e a propriedade [**CommonFilesFolder**](commonfilesfolder.md) para as pastas de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-125">Obtain the paths to system folders by referencing the [**System64Folder**](system64folder.md)Property, [**ProgramFiles64Folder**](programfiles64folder.md) Property, and [**CommonFiles64Folder**](commonfiles64folder.md) Property for the 64-bit folders and the [**SystemFolder**](systemfolder.md) Property, [**ProgramFilesFolder**](programfilesfolder.md) Property, and [**CommonFilesFolder**](commonfilesfolder.md) Property for the 32-bit folders.</span></span>
-   <span data-ttu-id="586f9-126">Verifique se o aplicativo usa o GUID correto ao fazer referência a um componente de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-126">Verify that the application uses the correct GUID when referencing a 64-bit component.</span></span> <span data-ttu-id="586f9-127">Se houver versões de 32 bits e 64 bits de um componente específico, elas deverão ter GUIDs de ID de componente diferentes.</span><span class="sxs-lookup"><span data-stu-id="586f9-127">If there are 32-bit and 64-bit versions of a specific component, these should have different component ID GUIDs.</span></span>
-   <span data-ttu-id="586f9-128">Determine se as novas variáveis de ambiente precisam ser definidas durante a instalação de aplicativos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-128">Determine whether any new environment variables need to be defined when installing 64-bit applications.</span></span>
-   <span data-ttu-id="586f9-129">Se um Gerenciador de driver ODBC de 64 bits for instalado, o componente que o transporta deve ser nomeado ODBCDriverManager64.</span><span class="sxs-lookup"><span data-stu-id="586f9-129">If a 64-bit ODBC Driver Manager is to be installed, the component that carries it should be named ODBCDriverManager64.</span></span> <span data-ttu-id="586f9-130">O Gerenciador de driver ODBC deve ser criado no pacote do instalador e um componente chamado ODBCDriverManager64 deve ser incluído.</span><span class="sxs-lookup"><span data-stu-id="586f9-130">The ODBC Driver Manager must be authored in the installer package and a component named ODBCDriverManager64 must be included.</span></span> <span data-ttu-id="586f9-131">O gerente será instalado, se necessário.</span><span class="sxs-lookup"><span data-stu-id="586f9-131">The manager will be installed if necessary.</span></span>
-   <span data-ttu-id="586f9-132">Verifique se o aplicativo chama apenas os serviços de 32 bits executados como executáveis.</span><span class="sxs-lookup"><span data-stu-id="586f9-132">Verify that the application only calls 32-bit services that run as executables.</span></span> <span data-ttu-id="586f9-133">Os aplicativos não devem chamar serviços de 32 bits executados em DLLs.</span><span class="sxs-lookup"><span data-stu-id="586f9-133">Applications should not call 32-bit services that run in DLLs.</span></span>
-   <span data-ttu-id="586f9-134">Se o aplicativo instalar versões coexistentes de 32 bits e 64 bits de um componente, verifique se o aplicativo compartilha informações do arquivo. ini corretamente.</span><span class="sxs-lookup"><span data-stu-id="586f9-134">If the application installs coexisting 32-bit and 64-bit versions of a component, verify that the application shares .ini file information correctly.</span></span>
-   <span data-ttu-id="586f9-135">Verifique se o aplicativo aplica apenas patches de 32 bits a binários de 32 bits e patches de 64 bits para binários de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-135">Verify that the application only applies 32-bit patches to 32-bit binaries and 64-bit patches to 64-bit binaries.</span></span>
-   <span data-ttu-id="586f9-136">Considere os cenários de atualização futura para as versões de 32 bits e 64 bits e mantenha os códigos de atualização.</span><span class="sxs-lookup"><span data-stu-id="586f9-136">Consider future upgrade scenarios for both 32-bit and 64-bit versions and maintain upgrade codes.</span></span> <span data-ttu-id="586f9-137">Para obter mais informações, consulte [patches e atualizações](patching-and-upgrades.md).</span><span class="sxs-lookup"><span data-stu-id="586f9-137">For more information, see [Patching and Upgrades](patching-and-upgrades.md).</span></span>
-   <span data-ttu-id="586f9-138">Ao usar um aplicativo de [inicialização](bootstrapping.md) para instalar um [pacote de Windows Installer de 64 bits](64-bit-windows-installer-packages.md), compile o aplicativo de inicialização como um aplicativo de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-138">When using a [bootstrapping](bootstrapping.md) application to install a [64-bit Windows Installer Package](64-bit-windows-installer-packages.md), compile the bootstrapping application as a 64-bit application.</span></span>
-   <span data-ttu-id="586f9-139">Para desabilitar a [reflexão do registro](../winprog64/registry-reflection.md) para chaves do registro que são afetadas por um determinado componente, defina o bit **MsidbComponentAttributesDisableRegistryReflection** no campo atributos da tabela de [componentes](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="586f9-139">To disable [Registry Reflection](../winprog64/registry-reflection.md) for registry keys that are affected by a particular component, set the **msidbComponentAttributesDisableRegistryReflection** bit in the Attributes field of the [Component](component-table.md) table.</span></span> <span data-ttu-id="586f9-140">Pode ser necessário ter cópias de 32 bits e 64 bits do mesmo aplicativo coexistirem.</span><span class="sxs-lookup"><span data-stu-id="586f9-140">This may be necessary to have 32-bit and 64-bit copies of the same application coexist.</span></span> <span data-ttu-id="586f9-141">Se esse bit for definido, o Windows Installer chamará a função [**RegDisableReflectionKey**](/windows/win32/api/winreg/nf-winreg-regdisablereflectionkey) em cada chave que está sendo acessada pelo componente.</span><span class="sxs-lookup"><span data-stu-id="586f9-141">If this bit is set, the Windows Installer calls the [**RegDisableReflectionKey**](/windows/win32/api/winreg/nf-winreg-regdisablereflectionkey) function on each key that is being accessed by the component.</span></span> <span data-ttu-id="586f9-142">Esse bit está disponível com Windows Installer versão 4,0.</span><span class="sxs-lookup"><span data-stu-id="586f9-142">This bit is available with Windows Installer version 4.0.</span></span> <span data-ttu-id="586f9-143">Esse bit é ignorado em sistemas de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-143">This bit is ignored on 32-bit systems.</span></span> <span data-ttu-id="586f9-144">Esse bit é ignorado nas versões de 64 bits do Windows XP e do Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="586f9-144">This bit is ignored on the 64-bit versions of Windows XP and Windows 2000.</span></span>

> [!Note]  
> <span data-ttu-id="586f9-145">O valor da raiz numérica do registro retornado pelo parâmetro *lpPathBuf* da função [**MsiGetComponentPath**](/windows/desktop/api/Msi/nf-msi-msigetcomponentpatha) distingue entre componentes em sistemas operacionais de 32 bits e 64 bits.</span><span class="sxs-lookup"><span data-stu-id="586f9-145">The value of the numeric registry root returned by the *lpPathBuf* parameter of the [**MsiGetComponentPath**](/windows/desktop/api/Msi/nf-msi-msigetcomponentpatha) function distinguishes between components on 32-bit and 64-bit operating systems.</span></span> <span data-ttu-id="586f9-146">Para obter mais informações, consulte função **MsiGetComponentPath** .</span><span class="sxs-lookup"><span data-stu-id="586f9-146">For more information, see **MsiGetComponentPath** function.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="586f9-147">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="586f9-147">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="586f9-148">Ações personalizadas de 64 bits</span><span class="sxs-lookup"><span data-stu-id="586f9-148">64-Bit Custom Actions</span></span>](64-bit-custom-actions.md)
</dt> </dl>

 

 
