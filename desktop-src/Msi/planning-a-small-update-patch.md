---
description: O arquivo de recurso de concerto do produto original, MNP2000, contém um erro no arquivo Concert.txt.
ms.assetid: 4289bd0c-bdf3-4747-9287-94f737ce4f5c
title: Planejando um patch de atualização pequena
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f15f3667c6a18ab7a71e86997091bd76d4b15577
ms.sourcegitcommit: de72a1294df274b0a71dc0fdc42d757e5f6df0f3
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/05/2021
ms.locfileid: "103837696"
---
# <a name="planning-a-small-update-patch"></a><span data-ttu-id="9cc50-103">Planejando um patch de atualização pequena</span><span class="sxs-lookup"><span data-stu-id="9cc50-103">Planning a Small Update Patch</span></span>

<span data-ttu-id="9cc50-104">O arquivo de recurso de concerto do produto original, MNP2000, contém um erro no arquivo Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="9cc50-104">The Concert feature file of the original product, MNP2000, contains an error in the Concert.txt file.</span></span> <span data-ttu-id="9cc50-105">Como Windows Installer foi usado para a instalação e a configuração do aplicativo, as correções secundárias para o aplicativo podem ser tratadas pela instalação de um pacote de patch de atualização pequeno.</span><span class="sxs-lookup"><span data-stu-id="9cc50-105">Because Windows Installer was used for the installation and setup of the application, minor fixes to the application may be handled by installing a small update patch package.</span></span> <span data-ttu-id="9cc50-106">Uma [pequena atualização](small-updates.md) faz alterações em um ou mais arquivos de aplicativo que são muito menores para alterar o código do produto.</span><span class="sxs-lookup"><span data-stu-id="9cc50-106">A [small update](small-updates.md) makes changes to one or more application files that are too minor to change the product code.</span></span> <span data-ttu-id="9cc50-107">O exemplo a seguir mostra como criar um pacote de patches Windows Installer que pode aplicar a pequena atualização e fornecer uma correção rápida para o produto MNP2000.</span><span class="sxs-lookup"><span data-stu-id="9cc50-107">The following example shows you how to create a Windows Installer patch package that can apply the small update and provide a quick fix to the MNP2000 product.</span></span>

<span data-ttu-id="9cc50-108">Para criar a atualização pequena, primeiro obtenha uma imagem totalmente descompactada do produto MNP2000 que inclui o erro em Concert.txt.</span><span class="sxs-lookup"><span data-stu-id="9cc50-108">To create the small update first obtain a fully uncompressed image of the MNP2000 product that includes the error in Concert.txt.</span></span> <span data-ttu-id="9cc50-109">A imagem deve incluir MNP2000.msi e todos os arquivos de origem descritos em [planejando a instalação](planning-the-installation.md).</span><span class="sxs-lookup"><span data-stu-id="9cc50-109">The image must include MNP2000.msi and all the source files described in [Planning the Installation](planning-the-installation.md).</span></span> <span data-ttu-id="9cc50-110">Na discussão a seguir, isso é chamado de imagem de destino.</span><span class="sxs-lookup"><span data-stu-id="9cc50-110">In the following discussion this is called the Target image.</span></span> <span data-ttu-id="9cc50-111">A imagem de destino deve ser totalmente descompactada porque o processo de criação de patches não pode gerar patches binários para arquivos compactados em gabinetes.</span><span class="sxs-lookup"><span data-stu-id="9cc50-111">The Target image must be fully uncompressed because the patch creation process is unable to generate binary patches for files compressed in cabinets.</span></span> <span data-ttu-id="9cc50-112">Coloque o arquivo. msi e todos os arquivos de origem da imagem de destino em uma pasta chamada Target.</span><span class="sxs-lookup"><span data-stu-id="9cc50-112">Put the .msi file and all the source files of the Target image into a folder named Target.</span></span>

<span data-ttu-id="9cc50-113">Em seguida, obtenha uma imagem totalmente descompactada do produto MNP2000 com um arquivo Concert.txt corrigido.</span><span class="sxs-lookup"><span data-stu-id="9cc50-113">Next, obtain a fully uncompressed image of the MNP2000 product with a Concert.txt file that is fixed.</span></span> <span data-ttu-id="9cc50-114">Isso é chamado de imagem atualizada na discussão a seguir.</span><span class="sxs-lookup"><span data-stu-id="9cc50-114">This is called the Upgraded image in the following discussion.</span></span> <span data-ttu-id="9cc50-115">Use uma ferramenta de edição de banco de dados de instalação, como orca, para atualizar o arquivo. msi.</span><span class="sxs-lookup"><span data-stu-id="9cc50-115">Use an installation database editing tool, such as Orca, to update the .msi file.</span></span> <span data-ttu-id="9cc50-116">Por exemplo, se o tamanho da Concert.txt corrigida for menor do que o original, certifique-se de inserir o novo tamanho no campo FileSize da tabela de arquivos da imagem atualizada.</span><span class="sxs-lookup"><span data-stu-id="9cc50-116">For example, if the size of the corrected Concert.txt is smaller than the original, be sure to enter the new size in the FileSize field of the File table of the upgraded image.</span></span> <span data-ttu-id="9cc50-117">Observe que, como o pacote foi alterado, você deve atribuir um novo código de pacote na propriedade [**Resumo do número de revisão**](revision-number-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="9cc50-117">Note that because the package has changed you must assign a new package code in the [**Revision Number Summary**](revision-number-summary.md) Property.</span></span> <span data-ttu-id="9cc50-118">Coloque o arquivo. msi e todos os arquivos de origem da imagem atualizada em uma pasta chamada atualizado.</span><span class="sxs-lookup"><span data-stu-id="9cc50-118">Put the .msi file and all the source files of the Upgraded image into a folder named Upgraded.</span></span>

<span data-ttu-id="9cc50-119">Para os fins deste exemplo, suponha que o tamanho do arquivo de Concert.txt seja alterado.</span><span class="sxs-lookup"><span data-stu-id="9cc50-119">For the purposes of this example, assume that the size of the Concert.txt file changes.</span></span> <span data-ttu-id="9cc50-120">Isso significa que os campos de FileSize nas tabelas de arquivos do destino e do banco de dados atualizado contêm diferentes.</span><span class="sxs-lookup"><span data-stu-id="9cc50-120">This means that FileSize fields in the File tables of the Target and Upgraded database contain different data.</span></span>

<span data-ttu-id="9cc50-121">A [tabela de arquivos](file-table.md) a seguir identifica o registro da imagem de destino.</span><span class="sxs-lookup"><span data-stu-id="9cc50-121">The following [File Table](file-table.md) identifies the record from the Target Image.</span></span>



| <span data-ttu-id="9cc50-122">Arquivo</span><span class="sxs-lookup"><span data-stu-id="9cc50-122">File</span></span>        | <span data-ttu-id="9cc50-123">Componente\_</span><span class="sxs-lookup"><span data-stu-id="9cc50-123">Component\_</span></span> | <span data-ttu-id="9cc50-124">FileName</span><span class="sxs-lookup"><span data-stu-id="9cc50-124">FileName</span></span>    | <span data-ttu-id="9cc50-125">FileSize</span><span class="sxs-lookup"><span data-stu-id="9cc50-125">FileSize</span></span> | <span data-ttu-id="9cc50-126">Versão</span><span class="sxs-lookup"><span data-stu-id="9cc50-126">Version</span></span> | <span data-ttu-id="9cc50-127">Idioma</span><span class="sxs-lookup"><span data-stu-id="9cc50-127">Language</span></span> | <span data-ttu-id="9cc50-128">Atributos</span><span class="sxs-lookup"><span data-stu-id="9cc50-128">Attributes</span></span> | <span data-ttu-id="9cc50-129">Sequência</span><span class="sxs-lookup"><span data-stu-id="9cc50-129">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="9cc50-130">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="9cc50-130">Concert.txt</span></span> | <span data-ttu-id="9cc50-131">Concerto</span><span class="sxs-lookup"><span data-stu-id="9cc50-131">Concert</span></span>     | <span data-ttu-id="9cc50-132">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="9cc50-132">Concert.txt</span></span> | <span data-ttu-id="9cc50-133">1000</span><span class="sxs-lookup"><span data-stu-id="9cc50-133">1000</span></span>     |         |          | <span data-ttu-id="9cc50-134">0</span><span class="sxs-lookup"><span data-stu-id="9cc50-134">0</span></span>          | <span data-ttu-id="9cc50-135">1</span><span class="sxs-lookup"><span data-stu-id="9cc50-135">1</span></span>        |



 

<span data-ttu-id="9cc50-136">A tabela de arquivos a seguir identifica o registro da imagem atualizada.</span><span class="sxs-lookup"><span data-stu-id="9cc50-136">The following File Table identifies the record from the Upgraded Image.</span></span>



| <span data-ttu-id="9cc50-137">Arquivo</span><span class="sxs-lookup"><span data-stu-id="9cc50-137">File</span></span>        | <span data-ttu-id="9cc50-138">Componente\_</span><span class="sxs-lookup"><span data-stu-id="9cc50-138">Component\_</span></span> | <span data-ttu-id="9cc50-139">FileName</span><span class="sxs-lookup"><span data-stu-id="9cc50-139">FileName</span></span>    | <span data-ttu-id="9cc50-140">FileSize</span><span class="sxs-lookup"><span data-stu-id="9cc50-140">FileSize</span></span> | <span data-ttu-id="9cc50-141">Versão</span><span class="sxs-lookup"><span data-stu-id="9cc50-141">Version</span></span> | <span data-ttu-id="9cc50-142">Idioma</span><span class="sxs-lookup"><span data-stu-id="9cc50-142">Language</span></span> | <span data-ttu-id="9cc50-143">Atributos</span><span class="sxs-lookup"><span data-stu-id="9cc50-143">Attributes</span></span> | <span data-ttu-id="9cc50-144">Sequência</span><span class="sxs-lookup"><span data-stu-id="9cc50-144">Sequence</span></span> |
|-------------|-------------|-------------|----------|---------|----------|------------|----------|
| <span data-ttu-id="9cc50-145">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="9cc50-145">Concert.txt</span></span> | <span data-ttu-id="9cc50-146">Concerto</span><span class="sxs-lookup"><span data-stu-id="9cc50-146">Concert</span></span>     | <span data-ttu-id="9cc50-147">Concert.txt</span><span class="sxs-lookup"><span data-stu-id="9cc50-147">Concert.txt</span></span> | <span data-ttu-id="9cc50-148">900</span><span class="sxs-lookup"><span data-stu-id="9cc50-148">900</span></span>      |         |          | <span data-ttu-id="9cc50-149">0</span><span class="sxs-lookup"><span data-stu-id="9cc50-149">0</span></span>          | <span data-ttu-id="9cc50-150">1</span><span class="sxs-lookup"><span data-stu-id="9cc50-150">1</span></span>        |



 

> [!Note]
> <span data-ttu-id="9cc50-151">O arquivo deve ter a mesma chave nas [tabelas de arquivos](file-table.md) da imagem de destino e da imagem atualizada.</span><span class="sxs-lookup"><span data-stu-id="9cc50-151">The file must have the same key in the [File Tables](file-table.md) of both the target image and the updated image.</span></span> <span data-ttu-id="9cc50-152">Os valores de cadeia de caracteres na coluna arquivo de ambas as tabelas devem ser idênticos.</span><span class="sxs-lookup"><span data-stu-id="9cc50-152">The string values in the File column of both tables must be identical.</span></span> <span data-ttu-id="9cc50-153">Letras maiúsculas e minúsculas também devem ser idênticas.</span><span class="sxs-lookup"><span data-stu-id="9cc50-153">Uppercase and lowercase must be identical also.</span></span>
> 
> <span data-ttu-id="9cc50-154">Siga as diretrizes descritas em [criando um pacote de patch](creating-a-patch-package.md).</span><span class="sxs-lookup"><span data-stu-id="9cc50-154">Follow the guidelines described in [Creating a Patch Package](creating-a-patch-package.md).</span></span> <span data-ttu-id="9cc50-155">Não crie um pacote com chaves de [tabela de arquivos](file-table.md) que diferem somente por maiúsculas e minúsculas, pois [Msimsp.exe](msimsp-exe.md) e [Patchwiz.dll](patchwiz-dll.md) chamada Makecab.exe, que não diferencia maiúsculas de minúsculas e a geração de patch falha.</span><span class="sxs-lookup"><span data-stu-id="9cc50-155">Do not author a package with [File Table](file-table.md) keys that differ only by case, because [Msimsp.exe](msimsp-exe.md) and [Patchwiz.dll](patchwiz-dll.md) call Makecab.exe, which is case-insensitive and patch generation fails.</span></span>

[<span data-ttu-id="9cc50-156">Continuar</span><span class="sxs-lookup"><span data-stu-id="9cc50-156">Continue</span></span>](creating-a-patch-creation-properties-file.md)

 

 



