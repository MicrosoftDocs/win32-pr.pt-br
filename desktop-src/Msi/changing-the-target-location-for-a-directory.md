---
description: Se possível, a melhor maneira de especificar o local de destino de um diretório é criar a tabela de diretórios em seu pacote de instalação para fornecer o local correto. Para obter mais informações, consulte usando a tabela de diretórios.
ms.assetid: 2d16e036-2d7f-431d-b646-1addf2f65f3f
title: Alterando o local de destino de um diretório
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 818c4e9d555244dd1637e19eb249478f13ea2d48
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104169193"
---
# <a name="changing-the-target-location-for-a-directory"></a><span data-ttu-id="b77f6-104">Alterando o local de destino de um diretório</span><span class="sxs-lookup"><span data-stu-id="b77f6-104">Changing the Target Location for a Directory</span></span>

<span data-ttu-id="b77f6-105">Se possível, a melhor maneira de especificar o local de destino de um diretório é criar a [tabela de diretórios](directory-table.md) em seu pacote de instalação para fornecer o local correto.</span><span class="sxs-lookup"><span data-stu-id="b77f6-105">If possible, the best way to specify the target location for a directory is to author the [Directory Table](directory-table.md) in your installation package to provide the correct location.</span></span> <span data-ttu-id="b77f6-106">Para obter mais informações, consulte [usando a tabela de diretórios](using-the-directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="b77f6-106">For more information, see [Using the Directory Table](using-the-directory-table.md).</span></span>

<span data-ttu-id="b77f6-107">Se você precisar alterar o local do diretório no momento da instalação, terá as seguintes opções:</span><span class="sxs-lookup"><span data-stu-id="b77f6-107">If you need to change the directory location at the time of the installation, you have the following options:</span></span>

-   <span data-ttu-id="b77f6-108">Especifique o local de um diretório definindo o valor de uma [propriedade pública](public-properties.md) na linha de comando.</span><span class="sxs-lookup"><span data-stu-id="b77f6-108">Specify the location of a directory by setting the value of a [Public Property](public-properties.md) on the command line.</span></span> <span data-ttu-id="b77f6-109">Durante a [ação CostFinalize](costfinalize-action.md), os caminhos de diretório internos usados pelo instalador são atualizados para o valor das propriedades listadas como chaves na [tabela de diretórios](directory-table.md).</span><span class="sxs-lookup"><span data-stu-id="b77f6-109">During the [CostFinalize Action](costfinalize-action.md), the internal directory paths used by the installer are updated to the value of properties listed as keys in the [Directory Table](directory-table.md).</span></span> <span data-ttu-id="b77f6-110">Para obter mais informações, consulte [usando Propriedades](using-properties.md) e [definindo valores de propriedade pública na linha de comando](setting-public-property-values-on-the-command-line.md).</span><span class="sxs-lookup"><span data-stu-id="b77f6-110">For more information, see [Using Properties](using-properties.md) and [Setting Public Property Values on the Command Line](setting-public-property-values-on-the-command-line.md).</span></span>
-   <span data-ttu-id="b77f6-111">Especifique o local de um diretório usando uma ação personalizada.</span><span class="sxs-lookup"><span data-stu-id="b77f6-111">Specify the location of a directory by using a custom action.</span></span> <span data-ttu-id="b77f6-112">Se a ação personalizada for executada antes da [ação CostFinalize](costfinalize-action.md), você poderá usar um [tipo de ação personalizada 51](custom-action-type-51.md) para definir o valor de uma propriedade de uma cadeia de caracteres de texto formatado.</span><span class="sxs-lookup"><span data-stu-id="b77f6-112">If the custom action is to run before the [CostFinalize Action](costfinalize-action.md), you can use a [Custom Action Type 51](custom-action-type-51.md) to set the value of a property from a formatted text string.</span></span> <span data-ttu-id="b77f6-113">Se a ação personalizada for executada após a [ação CostFinalize](costfinalize-action.md), você poderá usar um [tipo de ação personalizada 35](custom-action-type-35.md) para definir o valor do caminho do diretório a partir de uma cadeia de caracteres de texto formatada.</span><span class="sxs-lookup"><span data-stu-id="b77f6-113">If the custom action runs after the [CostFinalize Action](costfinalize-action.md), you can use a [Custom Action Type 35](custom-action-type-35.md) to set the value of the directory path from a formatted text string.</span></span> <span data-ttu-id="b77f6-114">As ações personalizadas que alteram uma das [Propriedades da pasta do sistema](property-reference.md) devem ser incluídas nas tabelas de sequência de execução (tabela [InstallExecuteSequence](installexecutesequence-table.md) ou [tabela AdminExecuteSequence](adminexecutesequence-table.md)) e nas tabelas de sequência da interface do usuário ([tabela InstallUISequence](installuisequence-table.md) e [tabela AdminUISequence](adminuisequence-table.md)) para que a pasta seja alterada durante a [*interface do usuário completa*](f-gly.md) e as instalações [*básicas da interface*](b-gly.md) de usuário.</span><span class="sxs-lookup"><span data-stu-id="b77f6-114">Custom actions that change one of the [System Folder Properties](property-reference.md) should be included in both the execution sequence tables ([InstallExecuteSequence Table](installexecutesequence-table.md) or [AdminExecuteSequence Table](adminexecutesequence-table.md)), and the user interface sequence tables ([InstallUISequence Table](installuisequence-table.md) and [AdminUISequence Table](adminuisequence-table.md)) so that the folder is changed during both [*full UI*](f-gly.md) and [*basic UI*](b-gly.md) installations.</span></span>
-   <span data-ttu-id="b77f6-115">Se a instalação estiver executando uma [*interface do usuário completa*](f-gly.md), você poderá usar [**MsiSetTargetPath**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) ou [SetTargetPath ControlEvent,](settargetpath-controlevent.md) para definir o caminho do diretório.</span><span class="sxs-lookup"><span data-stu-id="b77f6-115">If the installation is running a [*full UI*](f-gly.md), you can use [**MsiSetTargetPath**](/windows/desktop/api/Msiquery/nf-msiquery-msisettargetpatha) or the [SetTargetPath ControlEvent](settargetpath-controlevent.md) to set the directory path.</span></span> <span data-ttu-id="b77f6-116">Verifique a propriedade [**productstate**](productstate.md) para determinar se o produto que contém esse componente já está instalado antes de chamar **MsiSetTargetPath** ou SetTargetPath ControlEvent,.</span><span class="sxs-lookup"><span data-stu-id="b77f6-116">Check the [**ProductState**](productstate.md) Property to determine whether the product that contains this component is already installed before calling **MsiSetTargetPath** or the SetTargetPath ControlEvent.</span></span> <span data-ttu-id="b77f6-117">Não tente alterar o caminho do diretório de destino se alguns componentes que usam esse caminho já estiverem instalados para o usuário atual ou para um usuário diferente.</span><span class="sxs-lookup"><span data-stu-id="b77f6-117">Do not attempt to change the target directory path if some components that use that path are already installed for the current user or a different user.</span></span>

<span data-ttu-id="b77f6-118">As seguintes restrições se aplicam a todas as opções acima:</span><span class="sxs-lookup"><span data-stu-id="b77f6-118">The following restrictions apply to all of the above options:</span></span>

-   <span data-ttu-id="b77f6-119">Não tente alterar o caminho do diretório de destino se alguns componentes que usam o caminho já estiverem instalados para o usuário atual ou para um usuário diferente.</span><span class="sxs-lookup"><span data-stu-id="b77f6-119">Do not attempt to change the target directory path if some components that use the path are already installed for the current user or for a different user.</span></span>
-   <span data-ttu-id="b77f6-120">Não tente alterar o caminho do diretório de destino durante uma [instalação de manutenção](maintenance-installation.md).</span><span class="sxs-lookup"><span data-stu-id="b77f6-120">Do not attempt to change the target directory path during a [Maintenance Installation](maintenance-installation.md).</span></span>

 

 



