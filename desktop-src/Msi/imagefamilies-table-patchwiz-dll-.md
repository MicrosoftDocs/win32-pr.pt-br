---
description: Uma família de imagens é um grupo de uma ou mais imagens atualizadas de um produto que foram atualizadas para a versão mais recente.
ms.assetid: 06a77b35-b593-47e6-9083-46a6b65b7481
title: Tabela ImageFamilies (Patchwiz.dll)
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 33ece99e3c42626eb2155f16f2198703dc31b682
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103921202"
---
# <a name="imagefamilies-table-patchwizdll"></a><span data-ttu-id="0494f-103">Tabela ImageFamilies (Patchwiz.dll)</span><span class="sxs-lookup"><span data-stu-id="0494f-103">ImageFamilies Table (Patchwiz.dll)</span></span>

<span data-ttu-id="0494f-104">Uma família de imagens é um grupo de uma ou mais imagens atualizadas de um produto que foram atualizadas para a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="0494f-104">An image family is a group of one or more upgraded images of a product that have been updated to the most recent version.</span></span> <span data-ttu-id="0494f-105">Cada imagem atualizada pode pertencer a apenas uma família.</span><span class="sxs-lookup"><span data-stu-id="0494f-105">Each upgraded image can belong to only one family.</span></span> <span data-ttu-id="0494f-106">Imagens atualizadas que pertencem a uma família de imagens compartilham um ou mais arquivos.</span><span class="sxs-lookup"><span data-stu-id="0494f-106">Upgraded images belonging to an image family share one or more files.</span></span> <span data-ttu-id="0494f-107">Cada família de imagens tem seu próprio arquivo de gabinete no arquivo. msp que contém os patches binários e os novos arquivos necessários para atualizar as diferenças entre os arquivos de destino e atualizados.</span><span class="sxs-lookup"><span data-stu-id="0494f-107">Each image family has its own cabinet file in the .msp file containing the binary patches and new files needed to update the differences between target and upgraded files.</span></span> <span data-ttu-id="0494f-108">O arquivo de gabinete não replica os patches binários e os novos arquivos usados pelos arquivos compartilhados.</span><span class="sxs-lookup"><span data-stu-id="0494f-108">The cabinet file does not replicate the binary patches and new files used by the shared files.</span></span>

<span data-ttu-id="0494f-109">Uma tabela ImageFamilies contendo pelo menos um registro é necessária em cada banco de dados de criação de patch (arquivo. PCP).</span><span class="sxs-lookup"><span data-stu-id="0494f-109">An ImageFamilies table containing at least one record is required in every patch creation database (.pcp file).</span></span> <span data-ttu-id="0494f-110">Essa tabela é usada pela função [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) .</span><span class="sxs-lookup"><span data-stu-id="0494f-110">This table is used by the [UiCreatePatchPackageEx](uicreatepatchpackageex--patchwiz-dll-.md) function.</span></span>

<span data-ttu-id="0494f-111">A tabela ImageFamilies contém as informações de aplicação de patch que serão adicionadas à [tabela de mídia](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="0494f-111">The ImageFamilies table contains the patching information that is to be added to the [Media table](media-table.md).</span></span> <span data-ttu-id="0494f-112">Um patch adiciona uma entrada à tabela de mídia.</span><span class="sxs-lookup"><span data-stu-id="0494f-112">A patch adds one entry to the Media table.</span></span> <span data-ttu-id="0494f-113">Cada registro nas tabelas ImageFamilies refere-se a um grupo de imagens de produtos relacionadas que foram atualizadas para a versão mais recente do produto.</span><span class="sxs-lookup"><span data-stu-id="0494f-113">Each record in the ImageFamilies tables refers to a group of related product images that have been updated to the most recent version of the product.</span></span>

<span data-ttu-id="0494f-114">A tabela ImageFamilies tem as colunas a seguir.</span><span class="sxs-lookup"><span data-stu-id="0494f-114">The ImageFamilies table has the following columns.</span></span> <span data-ttu-id="0494f-115">Um valor nulo pode ser usado nas colunas MediaSrcPropName, MediaDiskId e FileSequenceStart se o patch for aplicado com Windows Installer e Patchwiz.dll versão 2,0.</span><span class="sxs-lookup"><span data-stu-id="0494f-115">A null value can be used in the MediaSrcPropName, MediaDiskId, and FileSequenceStart columns if the patch is applied with Windows Installer and Patchwiz.dll version 2.0.</span></span>



| <span data-ttu-id="0494f-116">Coluna</span><span class="sxs-lookup"><span data-stu-id="0494f-116">Column</span></span>            | <span data-ttu-id="0494f-117">Tipo</span><span class="sxs-lookup"><span data-stu-id="0494f-117">Type</span></span>    | <span data-ttu-id="0494f-118">Chave</span><span class="sxs-lookup"><span data-stu-id="0494f-118">Key</span></span> | <span data-ttu-id="0494f-119">Nullable</span><span class="sxs-lookup"><span data-stu-id="0494f-119">Nullable</span></span> |
|-------------------|---------|-----|----------|
| <span data-ttu-id="0494f-120">Família</span><span class="sxs-lookup"><span data-stu-id="0494f-120">Family</span></span>            | <span data-ttu-id="0494f-121">text</span><span class="sxs-lookup"><span data-stu-id="0494f-121">text</span></span>    | <span data-ttu-id="0494f-122">S</span><span class="sxs-lookup"><span data-stu-id="0494f-122">Y</span></span>   | <span data-ttu-id="0494f-123">N</span><span class="sxs-lookup"><span data-stu-id="0494f-123">N</span></span>        |
| <span data-ttu-id="0494f-124">MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="0494f-124">MediaSrcPropName</span></span>  | <span data-ttu-id="0494f-125">text</span><span class="sxs-lookup"><span data-stu-id="0494f-125">text</span></span>    |     | <span data-ttu-id="0494f-126">S</span><span class="sxs-lookup"><span data-stu-id="0494f-126">Y</span></span>        |
| <span data-ttu-id="0494f-127">MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="0494f-127">MediaDiskId</span></span>       | <span data-ttu-id="0494f-128">Número inteiro</span><span class="sxs-lookup"><span data-stu-id="0494f-128">integer</span></span> |     | <span data-ttu-id="0494f-129">S</span><span class="sxs-lookup"><span data-stu-id="0494f-129">Y</span></span>        |
| <span data-ttu-id="0494f-130">FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="0494f-130">FileSequenceStart</span></span> | <span data-ttu-id="0494f-131">Número inteiro</span><span class="sxs-lookup"><span data-stu-id="0494f-131">integer</span></span> |     | <span data-ttu-id="0494f-132">S</span><span class="sxs-lookup"><span data-stu-id="0494f-132">Y</span></span>        |
| <span data-ttu-id="0494f-133">DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="0494f-133">DiskPrompt</span></span>        | <span data-ttu-id="0494f-134">text</span><span class="sxs-lookup"><span data-stu-id="0494f-134">text</span></span>    |     | <span data-ttu-id="0494f-135">S</span><span class="sxs-lookup"><span data-stu-id="0494f-135">Y</span></span>        |
| <span data-ttu-id="0494f-136">VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="0494f-136">VolumeLabel</span></span>       | <span data-ttu-id="0494f-137">text</span><span class="sxs-lookup"><span data-stu-id="0494f-137">text</span></span>    |     | <span data-ttu-id="0494f-138">S</span><span class="sxs-lookup"><span data-stu-id="0494f-138">Y</span></span>        |



 

## <a name="columns"></a><span data-ttu-id="0494f-139">Colunas</span><span class="sxs-lookup"><span data-stu-id="0494f-139">Columns</span></span>

<dl> <dt>

<span data-ttu-id="0494f-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Parentes</span><span class="sxs-lookup"><span data-stu-id="0494f-140"><span id="Family"></span><span id="family"></span><span id="FAMILY"></span>Family</span></span>
</dt> <dd>

<span data-ttu-id="0494f-141">O valor inserido neste campo é um identificador para um grupo de imagens de produtos relacionadas que foram atualizadas para a versão mais recente do produto.</span><span class="sxs-lookup"><span data-stu-id="0494f-141">The value entered in this field is an identifier for a group of related product images that have been updated to the most recent version of the product.</span></span> <span data-ttu-id="0494f-142">Limitado a um total de 8 caracteres alfanuméricos ou sublinhados.</span><span class="sxs-lookup"><span data-stu-id="0494f-142">Limited to a total of 8 alphanumeric characters or underscores.</span></span> <span data-ttu-id="0494f-143">O instalador insere um fluxo de gabinete no arquivo de patch Windows Installer (arquivo. msp) para cada família na tabela.</span><span class="sxs-lookup"><span data-stu-id="0494f-143">The installer embeds a cabinet stream in the Windows Installer patch file (.msp file) for each family in the table.</span></span> <span data-ttu-id="0494f-144">O gabinete contém os patches binários e os novos arquivos necessários para atualizar uma imagem de destino em uma imagem atualizada do produto.</span><span class="sxs-lookup"><span data-stu-id="0494f-144">The cabinet contains the binary patches and new files required to update a target image into an upgraded image of the product.</span></span> <span data-ttu-id="0494f-145">O instalador prefixa o nome da família com PCW \_ cab \_ para gerar o nome do fluxo do gabinete que ele insere no campo de gabinete da nova entrada da [tabela de mídia](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="0494f-145">The installer prefixes the family name with PCW\_CAB\_ to generate the cabinet's stream name it enters into the Cabinet field of the new [Media table](media-table.md) entry.</span></span>

</dd> <dt>

<span data-ttu-id="0494f-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span><span class="sxs-lookup"><span data-stu-id="0494f-146"><span id="MediaSrcPropName"></span><span id="mediasrcpropname"></span><span id="MEDIASRCPROPNAME"></span>MediaSrcPropName</span></span>
</dt> <dd>

<span data-ttu-id="0494f-147">O valor inserido no campo de origem da nova entrada da [tabela de mídia](media-table.md) da imagem atualizada.</span><span class="sxs-lookup"><span data-stu-id="0494f-147">The value entered into the Source field of the new [Media table](media-table.md) entry of the upgraded image.</span></span> <span data-ttu-id="0494f-148">Esse campo pode ser nulo somente se você estiver usando a versão 2,0 de Patchwiz.dll e se o MinimumRequiredMsiVersion na [tabela de Propriedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) for definido como 200.</span><span class="sxs-lookup"><span data-stu-id="0494f-148">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="0494f-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span><span class="sxs-lookup"><span data-stu-id="0494f-149"><span id="MediaDiskId"></span><span id="mediadiskid"></span><span id="MEDIADISKID"></span>MediaDiskId</span></span>
</dt> <dd>

<span data-ttu-id="0494f-150">O instalador insere esse valor no campo DiskId do novo registro da [tabela de mídia](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="0494f-150">The installer enters this value into the DiskId field of the new [Media table](media-table.md) record.</span></span> <span data-ttu-id="0494f-151">O valor de DiskId deve ser maior que qualquer DiskId atual no pacote de destino.</span><span class="sxs-lookup"><span data-stu-id="0494f-151">The DiskID value must be greater than any current DiskID in the target package.</span></span> <span data-ttu-id="0494f-152">O limite para MediaDiskId é 32767.</span><span class="sxs-lookup"><span data-stu-id="0494f-152">The limit for MediaDiskId is 32767.</span></span> <span data-ttu-id="0494f-153">Esse campo pode ser nulo somente se você estiver usando a versão 2,0 de Patchwiz.dll e se o MinimumRequiredMsiVersion na [tabela de Propriedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) for definido como 200.</span><span class="sxs-lookup"><span data-stu-id="0494f-153">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="0494f-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span><span class="sxs-lookup"><span data-stu-id="0494f-154"><span id="FileSequenceStart"></span><span id="filesequencestart"></span><span id="FILESEQUENCESTART"></span>FileSequenceStart</span></span>
</dt> <dd>

<span data-ttu-id="0494f-155">Esse campo é o número de sequência para o arquivo inicial.</span><span class="sxs-lookup"><span data-stu-id="0494f-155">This field is the sequence number for the starting file.</span></span> <span data-ttu-id="0494f-156">Esse mesmo número de sequência de arquivo não deve existir em dois patches para o mesmo produto.</span><span class="sxs-lookup"><span data-stu-id="0494f-156">This same file sequence number must not exist in two patches for the same product.</span></span> <span data-ttu-id="0494f-157">Para garantir isso, o valor nesse campo deve ser maior que todos os números de sequência usados em patches anteriores ou no pacote de instalação original.</span><span class="sxs-lookup"><span data-stu-id="0494f-157">To ensure this, the value in this field must be greater than all sequence numbers used in previous patches or in the original installation package.</span></span> <span data-ttu-id="0494f-158">O maior número de sequência em um patch pode ser determinado pela adição do número total de entradas no arquivo de gabinete do patch ao número FileSequenceStart para esse patch.</span><span class="sxs-lookup"><span data-stu-id="0494f-158">The greatest sequence number in a patch can be determined by adding the total number of entries in the patch cabinet file to the FileSequenceStart number for that patch.</span></span> <span data-ttu-id="0494f-159">Uma maneira de determinar isso é examinar o arquivo. ddf gerado por [Patchwiz.dll](patchwiz-dll.md) durante a criação do patch.</span><span class="sxs-lookup"><span data-stu-id="0494f-159">One way to determine this is to look at the .ddf file generated by [Patchwiz.dll](patchwiz-dll.md) during the creation of the patch.</span></span> <span data-ttu-id="0494f-160">O limite para FileSequenceStart é 32767.</span><span class="sxs-lookup"><span data-stu-id="0494f-160">The limit for FileSequenceStart is 32767.</span></span> <span data-ttu-id="0494f-161">Esse campo pode ser nulo somente se você estiver usando a versão 2,0 de Patchwiz.dll e se o MinimumRequiredMsiVersion na [tabela de Propriedades (Patchwiz.dll)](properties-table-patchwiz-dll-.md) for definido como 200.</span><span class="sxs-lookup"><span data-stu-id="0494f-161">This field can be null only if you are using version 2.0 of Patchwiz.dll and if the MinimumRequiredMsiVersion in the [Properties table (Patchwiz.dll)](properties-table-patchwiz-dll-.md) is set to 200.</span></span>

</dd> <dt>

<span data-ttu-id="0494f-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span><span class="sxs-lookup"><span data-stu-id="0494f-162"><span id="DiskPrompt"></span><span id="diskprompt"></span><span id="DISKPROMPT"></span>DiskPrompt</span></span>
</dt> <dd>

<span data-ttu-id="0494f-163">O instalador insere esse valor no campo DiskPrompt do novo registro de [tabela de mídia](media-table.md) .</span><span class="sxs-lookup"><span data-stu-id="0494f-163">The installer enters this value into the DiskPrompt field of the new [Media table](media-table.md) record.</span></span>

</dd> <dt>

<span data-ttu-id="0494f-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span><span class="sxs-lookup"><span data-stu-id="0494f-164"><span id="VolumeLabel"></span><span id="volumelabel"></span><span id="VOLUMELABEL"></span>VolumeLabel</span></span>
</dt> <dd>

<span data-ttu-id="0494f-165">O instalador insere esse valor no campo VolumeLabel do novo registro de mídia.</span><span class="sxs-lookup"><span data-stu-id="0494f-165">The installer enters this value into the VolumeLabel field of the new Media record.</span></span>

</dd> </dl>

## <a name="remarks"></a><span data-ttu-id="0494f-166">Comentários</span><span class="sxs-lookup"><span data-stu-id="0494f-166">Remarks</span></span>

<span data-ttu-id="0494f-167">O patch adiciona o nome do gabinete no arquivo. msp ao campo de gabinete do novo registro adicionado à [tabela de mídia](media-table.md).</span><span class="sxs-lookup"><span data-stu-id="0494f-167">The patch adds the name of the cabinet in the .msp file to the Cabinet field of the new record added to the [Media table](media-table.md).</span></span> <span data-ttu-id="0494f-168">Como é um gabinete inserido, o nome é prefixado com um \# caractere ' '.</span><span class="sxs-lookup"><span data-stu-id="0494f-168">Because it is an embedded cabinet, the name is prefixed with a '\#' character.</span></span> <span data-ttu-id="0494f-169">O patch adiciona uma propriedade ao campo de origem do novo registro na tabela de mídia.</span><span class="sxs-lookup"><span data-stu-id="0494f-169">The patch adds a property to the Source field of the new record in the Media table.</span></span> <span data-ttu-id="0494f-170">Dois patches não podem ter a mesma propriedade de origem.</span><span class="sxs-lookup"><span data-stu-id="0494f-170">No two patches may have the same source property.</span></span>

<span data-ttu-id="0494f-171">Os arquivos compartilhados na família de imagens devem ter a mesma chave de tabela de arquivos em cada imagem atualizada da família.</span><span class="sxs-lookup"><span data-stu-id="0494f-171">The files that are shared within the image family must have the same file table key in each upgraded image of the family.</span></span> <span data-ttu-id="0494f-172">Todas as chaves de tabela de arquivo compartilhadas entre as imagens atualizadas devem representar o mesmo arquivo e devem ser idênticas em todas as imagens atualizadas.</span><span class="sxs-lookup"><span data-stu-id="0494f-172">Any file table keys shared among the upgraded images must represent the same file and must be identical in all the upgraded images.</span></span> <span data-ttu-id="0494f-173">A chave de tabela de arquivo é o valor inserido na coluna arquivo da [tabela de arquivos](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="0494f-173">The file table key is the value entered in the File column of the [File table](file-table.md).</span></span>

<span data-ttu-id="0494f-174">O limite para MediaDiskId e FileSequenceStart é 32767.</span><span class="sxs-lookup"><span data-stu-id="0494f-174">The limit for MediaDiskId and FileSequenceStart is 32767.</span></span> <span data-ttu-id="0494f-175">Para aumentar esse limite, exporte a tabela ImageFamilies para um arquivo. IDT com [Msidb.exe](msidb-exe.md) e altere o tipo de coluna de i2 para I4 ou de i2 para i4 e, em seguida, importe o arquivo. IDT de volta para o banco de dados. PCP.</span><span class="sxs-lookup"><span data-stu-id="0494f-175">To increase this limit export the ImageFamilies table to an .idt file with [Msidb.exe](msidb-exe.md) and change the column type from i2 to i4, or from I2 to I4, and then import the .idt file back into the .pcp database.</span></span> <span data-ttu-id="0494f-176">As transformações e os patches não podem ser criados entre dois pacotes com tipos de coluna diferentes.</span><span class="sxs-lookup"><span data-stu-id="0494f-176">Transforms and patches cannot be created between two packages having different column types.</span></span>

 

 



