---
description: Em determinados casos, os autores podem decidir que precisam quebrar as regras para criar componentes, conforme discutido em organizando aplicativos em componentes e alterando o código do componente.
ms.assetid: 487b6a00-77eb-4c51-8e32-46bcd4493df8
title: O que acontece se as regras de componente forem interrompidas?
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 78f61a0a819856c5014aa70acfaeb46be5043e58
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105782318"
---
# <a name="what-happens-if-the-component-rules-are-broken"></a><span data-ttu-id="1239d-103">O que acontece se as regras de componente forem interrompidas?</span><span class="sxs-lookup"><span data-stu-id="1239d-103">What happens if the component rules are broken?</span></span>

<span data-ttu-id="1239d-104">Em determinados casos, os autores podem decidir que precisam quebrar as regras para criar componentes, conforme discutido em [organizando aplicativos em componentes](organizing-applications-into-components.md) e [alterando o código do componente](changing-the-component-code.md).</span><span class="sxs-lookup"><span data-stu-id="1239d-104">In certain cases, authors may decide they need to break the rules for creating components as discussed in [Organizing Applications into Components](organizing-applications-into-components.md) and [Changing the Component Code](changing-the-component-code.md).</span></span> <span data-ttu-id="1239d-105">Os autores precisam estar cientes das possíveis consequências de fazer isso e devem garantir que seus componentes nunca sejam instalados, onde possam danificar outros aplicativos ou componentes no sistema do usuário.</span><span class="sxs-lookup"><span data-stu-id="1239d-105">Authors need to be aware of the possible consequences of doing this and must otherwise guarantee that their components are never installed where they can damage other applications or components on the user's system.</span></span>

<span data-ttu-id="1239d-106">A lista a seguir descreve as maneiras pelas quais os autores, às vezes, violam as regras de componente recomendadas e as conseqüências possíveis.</span><span class="sxs-lookup"><span data-stu-id="1239d-106">The following list describes ways that authors sometimes break the recommended component rules and the possible consequences.</span></span>

<span data-ttu-id="1239d-107">Um autor adiciona recursos a um componente sem alterar o código do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-107">An author adds resources to a component without the changing the component code.</span></span>

-   <span data-ttu-id="1239d-108">Os produtos instalados com o componente antigo não têm informações sobre os recursos adicionados no banco de dados de instalação.</span><span class="sxs-lookup"><span data-stu-id="1239d-108">Products installed with the old component have no information about the added resources in their installation database.</span></span>
-   <span data-ttu-id="1239d-109">Se um novo produto que tem os recursos adicionados e um produto antigo estiver instalado no mesmo computador, os recursos poderão ser deixados para trás se o novo produto for desinstalado primeiro.</span><span class="sxs-lookup"><span data-stu-id="1239d-109">If both a new product that has the added resources and an old product are installed on the same computer, the resources can be left behind if the new product is uninstalled first.</span></span>
-   <span data-ttu-id="1239d-110">Um produto antigo sem os recursos adicionados não pode reparar a versão mais recente do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-110">An old product without the added resources cannot repair the newer version of the component.</span></span> <span data-ttu-id="1239d-111">A reinstalação do produto antigo não restaura os recursos adicionados.</span><span class="sxs-lookup"><span data-stu-id="1239d-111">Reinstalling the old product does not restore the added resources.</span></span>

<span data-ttu-id="1239d-112">Um autor remove recursos de um componente sem alterar o código do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-112">An author removes resources from a component without changing the component code.</span></span>

-   <span data-ttu-id="1239d-113">Os produtos instalados com o novo componente não têm informações sobre os recursos removidos no banco de dados de instalação.</span><span class="sxs-lookup"><span data-stu-id="1239d-113">Products installed with the new component have no information about the removed resources in their installation database.</span></span>
-   <span data-ttu-id="1239d-114">Se um produto antigo, tiver as informações de recurso e um novo produto estiver instalado no mesmo computador, os recursos poderão ser deixados para trás se o produto antigo for desinstalado primeiro.</span><span class="sxs-lookup"><span data-stu-id="1239d-114">If both an old product, having the resource information, and a new product are installed on the same computer, the resources can be left behind if the old product is uninstalled first.</span></span>
-   <span data-ttu-id="1239d-115">Um novo produto com os recursos removidos não pode reparar a versão mais antiga do produto.</span><span class="sxs-lookup"><span data-stu-id="1239d-115">A new product with the removed resources cannot repair the older version of the product.</span></span> <span data-ttu-id="1239d-116">A reinstalação do novo produto não restaura os recursos removidos.</span><span class="sxs-lookup"><span data-stu-id="1239d-116">Reinstalling the new product does not restore the removed resources.</span></span>

<span data-ttu-id="1239d-117">Um autor inclui um arquivo que é incompatível com as versões anteriores sem alterar o código do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-117">An author includes a file that is incompatible with previous versions without changing the component code.</span></span>

<span data-ttu-id="1239d-118">Se um arquivo incompatível estiver incluído em um componente sem alterar o código do componente, o [controle de versão de arquivo padrão](default-file-versioning.md) fará com que o instalador substitua o arquivo original pelo arquivo mais recente incompatível.</span><span class="sxs-lookup"><span data-stu-id="1239d-118">If an incompatible file is included in a component without changing the component code, [default file versioning](default-file-versioning.md) causes the installer to overwrite the original file with the more recent incompatible file.</span></span> <span data-ttu-id="1239d-119">Isso pode danificar os produtos antigos que precisam do arquivo original.</span><span class="sxs-lookup"><span data-stu-id="1239d-119">This can damage old products needing the original file.</span></span> <span data-ttu-id="1239d-120">Ele também pode impedir que o instalador repare o produto antigo porque a versão do arquivo de caminho chave do componente determina a versão do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-120">It may also prevent the installer from repairing the old product because the version of a component's key path file determines the version of the component.</span></span> <span data-ttu-id="1239d-121">Se uma versão mais recente do arquivo de caminho de chave já estiver instalada, o instalador não instalará uma versão mais antiga do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-121">If a newer version of the key path file is already installed, the installer does not install an older version of the component.</span></span> <span data-ttu-id="1239d-122">Para obter mais informações, consulte [regras de controle de versão de arquivo](file-versioning-rules.md).</span><span class="sxs-lookup"><span data-stu-id="1239d-122">For more information, see [File Versioning Rules](file-versioning-rules.md).</span></span> <span data-ttu-id="1239d-123">Nesse caso, o novo produto deve ser removido antes que o produto antigo possa ser reinstalado.</span><span class="sxs-lookup"><span data-stu-id="1239d-123">In this case, the new product must be removed before the old product can be reinstalled.</span></span>

-   <span data-ttu-id="1239d-124">O [controle de versão de arquivo padrão](default-file-versioning.md) faz com que o instalador substitua o arquivo original pelo arquivo mais recente incompatível.</span><span class="sxs-lookup"><span data-stu-id="1239d-124">[Default file versioning](default-file-versioning.md) causes the installer to overwrite the original file with the more recent incompatible file.</span></span>
-   <span data-ttu-id="1239d-125">Os produtos antigos que precisam do arquivo original estão danificados.</span><span class="sxs-lookup"><span data-stu-id="1239d-125">Old products that need the original file are damaged.</span></span>
-   <span data-ttu-id="1239d-126">Ele também pode impedir que o instalador repare o produto antigo porque a versão do arquivo de caminho chave do componente determina a versão do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-126">It may also prevent the installer from repairing the old product because the version of a component's key path file determines the version of the component.</span></span> <span data-ttu-id="1239d-127">Se uma versão mais recente do arquivo de caminho de chave já estiver instalada, o instalador não instalará a versão mais antiga do componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-127">If a newer version of the key path file is already installed, the installer does not install the older version of the component.</span></span> <span data-ttu-id="1239d-128">Para obter mais informações, consulte [regras de controle de versão de arquivo](file-versioning-rules.md).</span><span class="sxs-lookup"><span data-stu-id="1239d-128">For more information, see [File Versioning Rules](file-versioning-rules.md).</span></span> <span data-ttu-id="1239d-129">Nesse caso, o novo produto deve ser removido antes que o produto antigo possa ser reinstalado.</span><span class="sxs-lookup"><span data-stu-id="1239d-129">In this case, the new product must be removed before the old product can be reinstalled.</span></span>

<span data-ttu-id="1239d-130">Um autor inclui o mesmo recurso em dois componentes diferentes.</span><span class="sxs-lookup"><span data-stu-id="1239d-130">An author includes the same resource in two different components.</span></span>

<span data-ttu-id="1239d-131">Se dois componentes tiverem um recurso sob o mesmo nome e local e os dois componentes estiverem instalados na mesma pasta, a remoção de um dos componentes removerá o recurso comum, o que danificará o componente restante.</span><span class="sxs-lookup"><span data-stu-id="1239d-131">If two components have a resource under the same name and location and both components are installed into the same folder, then the removal of either component removes the common resource, which damages the remaining component.</span></span>

-   <span data-ttu-id="1239d-132">A desinstalação de qualquer componente remove o recurso e quebra o outro componente.</span><span class="sxs-lookup"><span data-stu-id="1239d-132">Uninstalling either component removes the resource and breaks the other component.</span></span>
-   <span data-ttu-id="1239d-133">O mecanismo de contagem de referências de componente está danificado.</span><span class="sxs-lookup"><span data-stu-id="1239d-133">The component reference-counting mechanism is damaged.</span></span>

 

 



