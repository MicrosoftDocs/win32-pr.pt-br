---
description: Para instalar várias instâncias de um produto de um pacote Windows Installer, você precisa criar um pacote de instalação base para o produto e uma transformação de instância para cada instância a ser instalada, além da instância base.
ms.assetid: fef49dda-503f-4b13-8763-70cb2ee0df5d
title: Criando várias instâncias com transformações de instância
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c61424efbf08ea3e726594a3073f4ce7483af57d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105778734"
---
# <a name="authoring-multiple-instances-with-instance-transforms"></a><span data-ttu-id="81e37-103">Criando várias instâncias com transformações de instância</span><span class="sxs-lookup"><span data-stu-id="81e37-103">Authoring Multiple Instances with Instance Transforms</span></span>

<span data-ttu-id="81e37-104">Para instalar várias instâncias de um produto de um pacote Windows Installer, você precisa criar um pacote de instalação base para o produto e uma transformação de instância para cada instância a ser instalada, além da instância base.</span><span class="sxs-lookup"><span data-stu-id="81e37-104">To install multiple instances of a product from one Windows Installer package, you need to author a base installation package for the product and an instance transform for each instance to be installed in addition to the base instance.</span></span> <span data-ttu-id="81e37-105">Use as seguintes diretrizes ao criar seu pacote base e transformações:</span><span class="sxs-lookup"><span data-stu-id="81e37-105">Use the following guidelines when authoring your base package and transforms:</span></span>

-   <span data-ttu-id="81e37-106">Seu aplicativo de instalação pode verificar a presença do instalador em execução em uma versão do Windows Vista, no Windows Server 2003, no Windows XP com Service Pack 1 (SP1) e no Windows Installer 3,0 redistribuível.</span><span class="sxs-lookup"><span data-stu-id="81e37-106">Your setup application can check for the presence of the installer running on a version of Windows Vista, Windows Server 2003, Windows XP with Service Pack 1 (SP1), and the Windows Installer 3.0 redistributable.</span></span> <span data-ttu-id="81e37-107">Qualquer uma dessas versões de instalador (ou posteriores) é necessária para instalar várias instâncias de um único pacote usando um código de produto – alteração de transformação.</span><span class="sxs-lookup"><span data-stu-id="81e37-107">Any of these installer versions (or later) are required to install multiple instances from a single package using a product code–changing transform.</span></span>
-   <span data-ttu-id="81e37-108">Cada instância deve ter um código de produto e um identificador de instância exclusivos.</span><span class="sxs-lookup"><span data-stu-id="81e37-108">Each instance must have a unique product code and instance identifier.</span></span> <span data-ttu-id="81e37-109">Você pode definir uma propriedade no pacote base, o valor que pode ser definido como o identificador de instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-109">You may define a property in the base package, the value of which can be set to the instance identifier.</span></span>
-   <span data-ttu-id="81e37-110">Para manter os arquivos de cada instância isoladas, o pacote base deve instalar arquivos em um local de diretório que dependa do identificador de instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-110">To keep the files of each instance isolated, the base package should install files into a directory location that depends on the instance identifier.</span></span>
-   <span data-ttu-id="81e37-111">Para manter os dados de não-arquivo de cada instância isolada, o pacote base deve coletar dados de não-arquivo em conjuntos de componentes para cada instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-111">To keep the nonfile data of each instance isolated, the base package should collect nonfile data into sets of components for each instance.</span></span> <span data-ttu-id="81e37-112">Os componentes apropriados devem ser instalados com base em instruções condicionais que dependem do identificador da instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-112">The appropriate components should then be installed based on conditional statements that depend on the instance identifier.</span></span>
-   <span data-ttu-id="81e37-113">Crie uma transformação de instância para cada instância que está sendo instalada, além da instância base.</span><span class="sxs-lookup"><span data-stu-id="81e37-113">Author an instance transform for each instance being installed in addition to the base instance.</span></span> <span data-ttu-id="81e37-114">O pacote base pode instalar sua própria instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-114">The base package may install its own instance.</span></span>
-   <span data-ttu-id="81e37-115">A transformação da instância deve alterar o código do produto e o identificador para cada instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-115">The instance transform must change the product code and identifier for each instance.</span></span>
-   <span data-ttu-id="81e37-116">É recomendável que a transformação do produto também altere o nome do produto para que a instância seja prontamente diferenciada em Adicionar ou remover programas por meio do painel de controle.</span><span class="sxs-lookup"><span data-stu-id="81e37-116">It is recommended that the product transform also change the product name so that the instance is readily distinguished in Add/Remove Programs through Control Panel.</span></span>
-   <span data-ttu-id="81e37-117">Se a transformação de instância instalar arquivos, eles deverão ser instalados em um diretório que depende do identificador de instância.</span><span class="sxs-lookup"><span data-stu-id="81e37-117">If the instance transform installs files, they should be installed in a directory that depends on the instance identifier.</span></span>
-   <span data-ttu-id="81e37-118">Todos os dados que não são de arquivo, como chaves do registro, devem incluir o nome da instância em seu caminho para evitar colisões.</span><span class="sxs-lookup"><span data-stu-id="81e37-118">All nonfile data, such as registry keys, should include the instance name in their path to prevent collisions.</span></span> <span data-ttu-id="81e37-119">Isso pode ser feito usando a propriedade cujo valor é o identificador de instância no caminho, conforme mostrado pelo exemplo a seguir de uma [tabela de registro](registry-table.md).</span><span class="sxs-lookup"><span data-stu-id="81e37-119">This can be accomplished by using the property whose value is the instance identifier in the path as shown by the following example of a [Registry Table](registry-table.md).</span></span>



| <span data-ttu-id="81e37-120">Registro</span><span class="sxs-lookup"><span data-stu-id="81e37-120">Registry</span></span> | <span data-ttu-id="81e37-121">Root</span><span class="sxs-lookup"><span data-stu-id="81e37-121">Root</span></span> | <span data-ttu-id="81e37-122">Chave</span><span class="sxs-lookup"><span data-stu-id="81e37-122">Key</span></span>                                            | <span data-ttu-id="81e37-123">Nome</span><span class="sxs-lookup"><span data-stu-id="81e37-123">Name</span></span>         | <span data-ttu-id="81e37-124">Valor</span><span class="sxs-lookup"><span data-stu-id="81e37-124">Value</span></span>           | <span data-ttu-id="81e37-125">Componente\_</span><span class="sxs-lookup"><span data-stu-id="81e37-125">Component\_</span></span>      |
|----------|------|------------------------------------------------|--------------|-----------------|------------------|
| <span data-ttu-id="81e37-126">Reg1</span><span class="sxs-lookup"><span data-stu-id="81e37-126">Reg1</span></span>     | <span data-ttu-id="81e37-127">1</span><span class="sxs-lookup"><span data-stu-id="81e37-127">1</span></span>    | <span data-ttu-id="81e37-128">Software \\ Microsoft \\ MyProduct \\ \[ InstanceId\]</span><span class="sxs-lookup"><span data-stu-id="81e37-128">Software\\Microsoft\\MyProduct\\\[InstanceId\]</span></span> | <span data-ttu-id="81e37-129">InstanceGuid</span><span class="sxs-lookup"><span data-stu-id="81e37-129">InstanceGuid</span></span> | <span data-ttu-id="81e37-130">\[ProductCode\]</span><span class="sxs-lookup"><span data-stu-id="81e37-130">\[ProductCode\]</span></span> | <span data-ttu-id="81e37-131">NonFileDataComp1</span><span class="sxs-lookup"><span data-stu-id="81e37-131">NonFileDataComp1</span></span> |



 

<span data-ttu-id="81e37-132">Para obter mais informações, consulte [Instalando várias instâncias de produtos e patches](installing-multiple-instances-of-products-and-patches.md) e [Instalando várias instâncias com transformações de instância](installing-multiple-instances-with-instance-transforms.md).</span><span class="sxs-lookup"><span data-stu-id="81e37-132">For more information, see [Installing Multiple Instances of Products and Patches](installing-multiple-instances-of-products-and-patches.md) and [Installing Multiple Instances with Instance Transforms](installing-multiple-instances-with-instance-transforms.md).</span></span>

 

 



