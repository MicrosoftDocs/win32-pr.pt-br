---
description: O código do produto é um GUID que é a principal identificação de um aplicativo ou produto. Consulte códigos de produto.
ms.assetid: 4de84885-587d-405f-ba85-d62e09e8ba92
title: Alterando o código do produto
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a0272f1901ef60342f01f4db091e7a4e62b28e30
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104010912"
---
# <a name="changing-the-product-code"></a><span data-ttu-id="315cb-104">Alterando o código do produto</span><span class="sxs-lookup"><span data-stu-id="315cb-104">Changing the Product Code</span></span>

<span data-ttu-id="315cb-105">O código do produto é um GUID que é a principal identificação de um aplicativo ou produto.</span><span class="sxs-lookup"><span data-stu-id="315cb-105">The product code is a GUID that is the principal identification of an application or product.</span></span> <span data-ttu-id="315cb-106">Consulte [códigos de produto](product-codes.md).</span><span class="sxs-lookup"><span data-stu-id="315cb-106">See [Product Codes](product-codes.md).</span></span>

<span data-ttu-id="315cb-107">Uma atualização que atende às diretrizes a seguir geralmente não requer uma alteração do código do produto e pode ser tratada como uma [pequena atualização](small-updates.md), ou se a versão for alterada, como uma [atualização secundária](minor-upgrades.md):</span><span class="sxs-lookup"><span data-stu-id="315cb-107">An update that meets the following guidelines generally does not require a change of the product code and can be handled as a [small update](small-updates.md), or if the version is to change, as a [minor upgrade](minor-upgrades.md):</span></span>

-   <span data-ttu-id="315cb-108">A atualização pode ampliar ou reduzir a árvore de componentes de recursos, mas não deve reorganizar a hierarquia existente de recursos e componentes descritos pelas tabelas [Feature](feature-table.md) e [FeatureComponents](featurecomponents-table.md) .</span><span class="sxs-lookup"><span data-stu-id="315cb-108">The update can enlarge or reduce the feature-component tree but it must not reorganize the existing hierarchy of features and components described by the [Feature](feature-table.md) and [FeatureComponents](featurecomponents-table.md) tables.</span></span> <span data-ttu-id="315cb-109">Ele pode adicionar um novo recurso à árvore de componentes de recurso existente.</span><span class="sxs-lookup"><span data-stu-id="315cb-109">It can add a new feature to the existing feature-component tree.</span></span> <span data-ttu-id="315cb-110">Se ele remover um recurso pai, ele também deverá remover todos os recursos filho do recurso removido.</span><span class="sxs-lookup"><span data-stu-id="315cb-110">If it removes a parent feature, it must also remove all the child features of the removed feature.</span></span>
-   <span data-ttu-id="315cb-111">A atualização pode adicionar um novo componente a um recurso novo ou existente.</span><span class="sxs-lookup"><span data-stu-id="315cb-111">The update can add a new component to a new or an existing feature.</span></span>
-   <span data-ttu-id="315cb-112">A atualização não deve alterar o código de componente de nenhum componente.</span><span class="sxs-lookup"><span data-stu-id="315cb-112">The update must not change the component code of any component.</span></span> <span data-ttu-id="315cb-113">Consequentemente, uma pequena atualização ou uma atualização secundária nunca deve alterar o nome do arquivo de chave de um componente, pois isso exigiria alterar o código do componente.</span><span class="sxs-lookup"><span data-stu-id="315cb-113">Consequently, a small update or minor upgrade must never change the name of a component's key file because this would require changing the component code.</span></span>
-   <span data-ttu-id="315cb-114">A atualização não deve alterar o nome do arquivo. msi do pacote de instalação.</span><span class="sxs-lookup"><span data-stu-id="315cb-114">The update must not change the name of the .msi file of the installation package.</span></span> <span data-ttu-id="315cb-115">Em vez disso, como ele modifica o pacote, ele deve alterar o código do pacote.</span><span class="sxs-lookup"><span data-stu-id="315cb-115">Instead, because it modifies the package, it should change the package code.</span></span> <span data-ttu-id="315cb-116">Observe que isso significa que a atualização pode alterar as tabelas, ações personalizadas e caixas de diálogo no arquivo. msi sem alterar o nome do arquivo.</span><span class="sxs-lookup"><span data-stu-id="315cb-116">Note that this means that the update can change the tables, custom actions, and dialogs in the .msi file without changing the file's name.</span></span>
-   <span data-ttu-id="315cb-117">A atualização pode adicionar, remover ou modificar os arquivos, as chaves do registro ou os atalhos de componentes que não são compartilhados por dois ou mais recursos.</span><span class="sxs-lookup"><span data-stu-id="315cb-117">The update can add, remove, or modify the files, registry keys, or shortcuts of components that are not shared by two or more features.</span></span> <span data-ttu-id="315cb-118">Se a atualização modificar um arquivo com versão, a versão desse arquivo deverá ser incrementada na tabela de [arquivos](file-table.md).</span><span class="sxs-lookup"><span data-stu-id="315cb-118">If the update modifies a versioned file, that file's version must be incremented in the [File table](file-table.md).</span></span> <span data-ttu-id="315cb-119">Se a atualização remover recursos, ela também deverá atualizar as tabelas [RemoveFile](removefile-table.md) e [RemoveRegistry](removeregistry-table.md) para remover arquivos não utilizados, chaves do registro ou atalhos que já foram instalados.</span><span class="sxs-lookup"><span data-stu-id="315cb-119">If the update removes resources, it should also update the [RemoveFile](removefile-table.md) and [RemoveRegistry](removeregistry-table.md) tables to remove any unused files, registry keys, or shortcuts that have already been installed.</span></span>
-   <span data-ttu-id="315cb-120">A atualização de um componente que é compartilhado por dois ou mais recursos deve ser compatível retroativamente com todos os aplicativos e recursos que usam o componente.</span><span class="sxs-lookup"><span data-stu-id="315cb-120">The update of a component that is shared by two or more features must be backward compatible with all applications and features that use the component.</span></span> <span data-ttu-id="315cb-121">A atualização pode modificar o recurso de um componente compartilhado, como arquivos, entradas de registro e atalhos, desde que as alterações sejam compatíveis com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="315cb-121">The update can modify the resource of a shared component, such as files, registry entries, and shortcuts, as long as the changes are backward compatible.</span></span> <span data-ttu-id="315cb-122">Não é recomendável que a atualização adicione ou remova arquivos, entradas do registro ou atalhos de um componente compartilhado.</span><span class="sxs-lookup"><span data-stu-id="315cb-122">It is not recommended that the update add or remove files, registry entries, or shortcuts from a shared component.</span></span>
-   <span data-ttu-id="315cb-123">Uma pequena atualização é fornecida como um [pacote de patches](patch-packages.md)Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="315cb-123">A small update is shipped as a Windows Installer [patch package](patch-packages.md).</span></span> <span data-ttu-id="315cb-124">(Um CD-ROM completo do produto normalmente não é fornecido com uma pequena atualização).</span><span class="sxs-lookup"><span data-stu-id="315cb-124">(A full product CD-ROM is usually not provided with a small update.)</span></span>

<span data-ttu-id="315cb-125">O código do produto deve ser alterado se qualquer uma das seguintes opções for verdadeira para a atualização:</span><span class="sxs-lookup"><span data-stu-id="315cb-125">The product code must be changed if any of the following are true for the update:</span></span>

-   <span data-ttu-id="315cb-126">As instalações coexistentes de produtos originais e atualizados no mesmo sistema devem ser possíveis.</span><span class="sxs-lookup"><span data-stu-id="315cb-126">Coexisting installations of both original and updated products on the same system must be possible.</span></span>
-   <span data-ttu-id="315cb-127">O nome do arquivo. msi foi alterado.</span><span class="sxs-lookup"><span data-stu-id="315cb-127">The name of the .msi file has been changed.</span></span>
-   <span data-ttu-id="315cb-128">O código de componente de um componente existente foi alterado.</span><span class="sxs-lookup"><span data-stu-id="315cb-128">The component code of an existing component has changed.</span></span>
-   <span data-ttu-id="315cb-129">Um componente é removido de um recurso existente.</span><span class="sxs-lookup"><span data-stu-id="315cb-129">A component is removed from an existing feature.</span></span>
-   <span data-ttu-id="315cb-130">Um recurso existente foi feito em um filho de um recurso existente.</span><span class="sxs-lookup"><span data-stu-id="315cb-130">An existing feature has been made into a child of an existing feature.</span></span>
-   <span data-ttu-id="315cb-131">Um recurso filho existente foi removido de seu recurso pai.</span><span class="sxs-lookup"><span data-stu-id="315cb-131">An existing child feature has been removed from its parent feature.</span></span>

<span data-ttu-id="315cb-132">Observe que a adição de um novo recurso filho, que consiste inteiramente em novos componentes, a um recurso existente não exige a alteração do código do produto.</span><span class="sxs-lookup"><span data-stu-id="315cb-132">Note that adding a new child feature, consisting entirely of new components, to an existing feature does not require changing the product code.</span></span>

<span data-ttu-id="315cb-133">Novos recursos filho podem ser criados incluindo msidbFeatureAttributesFollowParent e msidbFeatureAttributesUIDisallowAbsent no campo atributos da [tabela de recursos](feature-table.md).</span><span class="sxs-lookup"><span data-stu-id="315cb-133">New child features can be authored by including msidbFeatureAttributesFollowParent and msidbFeatureAttributesUIDisallowAbsent in the Attributes field of the [Feature table](feature-table.md).</span></span> <span data-ttu-id="315cb-134">Se a atualização secundária apenas adicionar novos recursos filho, reinstale = ALL será suficiente para forçar a instalação dos novos recursos filho.</span><span class="sxs-lookup"><span data-stu-id="315cb-134">If the minor upgrade only adds new child features, then REINSTALL=ALL is sufficient to force the installation of the new child features.</span></span> <span data-ttu-id="315cb-135">Para obter mais informações, consulte [controlando Estados de seleção de recursos](controlling-feature-selection-states.md).</span><span class="sxs-lookup"><span data-stu-id="315cb-135">For more information, see [Controlling Feature Selection States](controlling-feature-selection-states.md).</span></span>

<span data-ttu-id="315cb-136">Um novo recurso filho pode estar oculto do usuário.</span><span class="sxs-lookup"><span data-stu-id="315cb-136">A new child feature may be hidden from the user.</span></span> <span data-ttu-id="315cb-137">Para sincronizar o estado de instalação de um novo recurso filho com seu recurso pai, defina os bits msidbFeatureAttributesFollowParent e msidbFeatureAttributesUIDisallowAbsent para o recurso filho.</span><span class="sxs-lookup"><span data-stu-id="315cb-137">To synchronize the installation state of a new child feature with its parent feature, set the msidbFeatureAttributesFollowParent and msidbFeatureAttributesUIDisallowAbsent bits for the child feature.</span></span>

## <a name="related-topics"></a><span data-ttu-id="315cb-138">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="315cb-138">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="315cb-139">Sobre propriedades</span><span class="sxs-lookup"><span data-stu-id="315cb-139">About Properties</span></span>](about-properties.md)
</dt> <dt>

[<span data-ttu-id="315cb-140">Usando propriedades</span><span class="sxs-lookup"><span data-stu-id="315cb-140">Using Properties</span></span>](using-properties.md)
</dt> <dt>

[<span data-ttu-id="315cb-141">Referência de propriedade</span><span class="sxs-lookup"><span data-stu-id="315cb-141">Property Reference</span></span>](property-reference.md)
</dt> </dl>

 

 



