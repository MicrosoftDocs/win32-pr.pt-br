---
description: Os autores de pacotes de instalação devem incluir a atualização de informações em seus arquivos. msi para garantir que seu pacote de instalação possa aproveitar a funcionalidade completa de atualização disponível com o Microsoft Windows Installer.
ms.assetid: 88bb2709-a1bf-4140-a145-ae6bee85dde1
title: Preparando um aplicativo para atualizações principais futuras
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c1e0dc9ccbee10becc39274e91d2fedeb3707028
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105748143"
---
# <a name="preparing-an-application-for-future-major-upgrades"></a><span data-ttu-id="da289-103">Preparando um aplicativo para atualizações principais futuras</span><span class="sxs-lookup"><span data-stu-id="da289-103">Preparing an Application for Future Major Upgrades</span></span>

<span data-ttu-id="da289-104">Os autores de pacotes de instalação devem incluir a atualização de informações em seus arquivos. msi para garantir que seu pacote de instalação possa aproveitar a funcionalidade completa de atualização disponível com o Microsoft Windows Installer.</span><span class="sxs-lookup"><span data-stu-id="da289-104">Authors of installation packages should include upgrading information in their .msi files to ensure that their installation package can take advantage of the full upgrading functionality available with the Microsoft Windows Installer.</span></span>

<span data-ttu-id="da289-105">Cada aplicativo, ou conjunto de aplicativos, deve ser atribuído a uma propriedade [**UpgradeCode**](upgradecode.md) , uma propriedade [**ProductVersion**](productversion.md) e uma propriedade [**ProductLanguage**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="da289-105">Every application, or suite of applications, should be assigned an [**UpgradeCode**](upgradecode.md) Property, [**ProductVersion**](productversion.md) Property, and [**ProductLanguage**](productlanguage.md) Property.</span></span> <span data-ttu-id="da289-106">A propriedade [**UpgradeCode**](upgradecode.md) indica uma família de aplicativos relacionados que consiste em versões diferentes e versões de idioma diferentes do mesmo produto.</span><span class="sxs-lookup"><span data-stu-id="da289-106">The [**UpgradeCode**](upgradecode.md) property indicates a family of related applications consisting of different versions and different language versions of the same product.</span></span> <span data-ttu-id="da289-107">Para obter mais informações sobre como usar a propriedade [**UpgradeCode**](upgradecode.md) , consulte [usando um UpgradeCode](using-an-upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="da289-107">For more information about using the [**UpgradeCode**](upgradecode.md) property, see [Using an UpgradeCode](using-an-upgradecode.md).</span></span>

<span data-ttu-id="da289-108">**Preparando um aplicativo para atualizações principais futuras**</span><span class="sxs-lookup"><span data-stu-id="da289-108">**Preparing an application for future major upgrades**</span></span>

1.  <span data-ttu-id="da289-109">Determine um novo valor de código de pacote para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="da289-109">Determine a new package code value for the application.</span></span> <span data-ttu-id="da289-110">Para obter mais informações sobre códigos de pacote, consulte [Package codes](package-codes.md).</span><span class="sxs-lookup"><span data-stu-id="da289-110">For more information about package codes, see [Package Codes](package-codes.md).</span></span> <span data-ttu-id="da289-111">Insira o novo código do pacote na propriedade [**Resumo do número de revisão**](revision-number-summary.md) do fluxo de informações de [Resumo](summary-information-stream.md).</span><span class="sxs-lookup"><span data-stu-id="da289-111">Enter the new package code into the [**Revision Number Summary**](revision-number-summary.md) Property of the [Summary Information Stream](summary-information-stream.md).</span></span>
2.  <span data-ttu-id="da289-112">Determine uma nova propriedade [**ProductCode**](productcode.md) para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="da289-112">Determine a new [**ProductCode**](productcode.md) property for the application.</span></span> <span data-ttu-id="da289-113">Consulte [alterando o código do produto](changing-the-product-code.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="da289-113">See [Changing the Product Code](changing-the-product-code.md) for more information.</span></span> <span data-ttu-id="da289-114">Insira o [**ProductCode**](productcode.md) e seu valor na [tabela de propriedades](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="da289-114">Enter [**ProductCode**](productcode.md) and its value into the [Property table](property-table.md).</span></span>
3.  <span data-ttu-id="da289-115">Determine a versão do aplicativo e a propriedade [**ProductVersion**](productversion.md) .</span><span class="sxs-lookup"><span data-stu-id="da289-115">Determine the application's version and the [**ProductVersion**](productversion.md) property.</span></span> <span data-ttu-id="da289-116">O [**ProductVersion**](productversion.md) deve aumentar com cada nova versão do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="da289-116">The [**ProductVersion**](productversion.md) should increase with each new version of the application.</span></span> <span data-ttu-id="da289-117">Observe que o instalador usa apenas os três primeiros campos da versão do produto.</span><span class="sxs-lookup"><span data-stu-id="da289-117">Note that the installer uses only the first three fields of the product version.</span></span> <span data-ttu-id="da289-118">Se você incluir um quarto campo em sua versão do produto, o instalador ignorará o quarto campo.</span><span class="sxs-lookup"><span data-stu-id="da289-118">If you include a fourth field in your product version, the installer ignores the fourth field.</span></span> <span data-ttu-id="da289-119">Insira [**ProductVersion**](productversion.md) e seu valor na tabela de propriedades.</span><span class="sxs-lookup"><span data-stu-id="da289-119">Enter [**ProductVersion**](productversion.md) and its value into the Property table.</span></span>
4.  <span data-ttu-id="da289-120">Determine o idioma do pacote e a propriedade [**ProductLanguage**](productlanguage.md) .</span><span class="sxs-lookup"><span data-stu-id="da289-120">Determine the language of the package and the [**ProductLanguage**](productlanguage.md) property.</span></span> <span data-ttu-id="da289-121">O valor dessa propriedade deve ser um identificador de idioma numérico (LANGid).</span><span class="sxs-lookup"><span data-stu-id="da289-121">The value of this property must be a numeric language identifier (LANGID).</span></span> <span data-ttu-id="da289-122">Insira [**ProductLanguage**](productlanguage.md) e seu valor na [tabela de propriedades](property-table.md).</span><span class="sxs-lookup"><span data-stu-id="da289-122">Enter [**ProductLanguage**](productlanguage.md) and its value into the [Property table](property-table.md).</span></span> <span data-ttu-id="da289-123">Observe que a [ação FindRelatedProducts](findrelatedproducts-action.md) usa o idioma retornado por [**MsiGetProductInfo**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span><span class="sxs-lookup"><span data-stu-id="da289-123">Note that the [FindRelatedProducts action](findrelatedproducts-action.md) uses the language returned by [**MsiGetProductInfo**](/windows/desktop/api/Msi/nf-msi-msigetproductinfoa).</span></span> <span data-ttu-id="da289-124">Para que o FindRelatedProducts funcione corretamente, o autor do pacote deve ter certeza de que a propriedade [**ProductLanguage**](productlanguage.md) está definida na tabela de propriedades para um idioma que também está listado na propriedade [**Summary do modelo**](template-summary.md) .</span><span class="sxs-lookup"><span data-stu-id="da289-124">For FindRelatedProducts to work correctly, the package author must be sure that the [**ProductLanguage**](productlanguage.md) property is set in the Property table to a language that is also listed in the [**Template Summary**](template-summary.md) property.</span></span>
5.  <span data-ttu-id="da289-125">Se você estiver criando um pacote de instalação para a primeira versão do seu produto, use um novo [**UpgradeCode**](upgradecode.md).</span><span class="sxs-lookup"><span data-stu-id="da289-125">If you are authoring an installation package for the first version of your product, use a new [**UpgradeCode**](upgradecode.md).</span></span> <span data-ttu-id="da289-126">Se o seu pacote for destinado a uma versão mais recente de um produto existente, ou for a mesma versão de um produto existente em um idioma diferente, use o mesmo [**UpgradeCode**](upgradecode.md) que o produto existente.</span><span class="sxs-lookup"><span data-stu-id="da289-126">If your package is intended for a newer version of an existing product, or is the same version as an existing product in a different language, use the same [**UpgradeCode**](upgradecode.md) as the existing product.</span></span> <span data-ttu-id="da289-127">Dois produtos com o mesmo [**ProductVersion**](productversion.md) e o mesmo [**ProductLanguage**](productlanguage.md) podem ter o mesmo [**UpgradeCode**](upgradecode.md), a menos que um seja uma [pequena atualização](small-updates.md) do outro.</span><span class="sxs-lookup"><span data-stu-id="da289-127">No two products with the same [**ProductVersion**](productversion.md) and the same [**ProductLanguage**](productlanguage.md) can have the same [**UpgradeCode**](upgradecode.md), unless one is a [small update](small-updates.md) of the other.</span></span>
6.  <span data-ttu-id="da289-128">O [**UpgradeCode**](upgradecode.md) tem o formato de um [GUID](guid.md).</span><span class="sxs-lookup"><span data-stu-id="da289-128">The [**UpgradeCode**](upgradecode.md) has the format of a [GUID](guid.md).</span></span> <span data-ttu-id="da289-129">Insira o GUID [**UpgradeCode**](upgradecode.md) na tabela de propriedades.</span><span class="sxs-lookup"><span data-stu-id="da289-129">Enter the [**UpgradeCode**](upgradecode.md) GUID into the Property table.</span></span>

<span data-ttu-id="da289-130">Para obter mais informações, consulte [impedindo que um pacote antigo seja instalado em uma versão mais recente](preventing-an-old-package-from-installing-over-a-newer-version.md).</span><span class="sxs-lookup"><span data-stu-id="da289-130">For more information, see [Preventing an Old Package from Installing Over a Newer Version](preventing-an-old-package-from-installing-over-a-newer-version.md).</span></span>

 

 



