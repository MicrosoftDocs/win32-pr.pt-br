---
description: O custo é o processo de determinação dos requisitos totais de espaço em disco para uma instalação.
ms.assetid: 53ebb532-9eb3-46b7-9dcc-f593bfd25c60
title: Custo do arquivo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 55a4e6221775c2b9ecc429bd32f136e519a2b63b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105764659"
---
# <a name="file-costing"></a><span data-ttu-id="3b066-103">Custo do arquivo</span><span class="sxs-lookup"><span data-stu-id="3b066-103">File Costing</span></span>

<span data-ttu-id="3b066-104">O custo é o processo de determinação dos requisitos totais de espaço em disco para uma instalação.</span><span class="sxs-lookup"><span data-stu-id="3b066-104">Costing is the process of determining the total disk space requirements for an installation.</span></span> <span data-ttu-id="3b066-105">Os elementos calculados no processo de custo de arquivo incluem a quantidade de espaço em disco em que os arquivos são instalados ou removidos, bem como a quantidade de espaço em disco ocupada por entradas de registro, atalhos e outros arquivos diversos.</span><span class="sxs-lookup"><span data-stu-id="3b066-105">The elements calculated in the file costing process include the amount of disk space in which files are installed or removed, as well as the amount of disk space taken up by registry entries, shortcuts, and other miscellaneous files.</span></span> <span data-ttu-id="3b066-106">Os arquivos existentes agendados para serem substituídos também são calculados nos totais de custo do disco.</span><span class="sxs-lookup"><span data-stu-id="3b066-106">Existing files scheduled to be overwritten are also calculated in the disk cost totals.</span></span>

<span data-ttu-id="3b066-107">Os custos totais são acumulados em uma base por[componente](components-and-features.md) e consistem em três partes separadas: custos locais, custos de origem e custos de remoção.</span><span class="sxs-lookup"><span data-stu-id="3b066-107">Total costs are accumulated on a per-[component](components-and-features.md) basis and consist of three separate parts: local costs, source costs, and removal costs.</span></span> <span data-ttu-id="3b066-108">Essas partes correspondem ao custo do disco incorrido se o componente está instalado localmente, instalado para execução a partir da mídia de origem ou removido.</span><span class="sxs-lookup"><span data-stu-id="3b066-108">These parts correspond to the disk cost that is incurred if the component is installed locally, installed to run from the source media, or removed.</span></span>

<span data-ttu-id="3b066-109">Todos os cálculos que envolvem o custo de instalação de arquivos dependem do volume de disco no qual o arquivo deve ser instalado ou removido.</span><span class="sxs-lookup"><span data-stu-id="3b066-109">All calculations involving the cost of installing files depend upon the disk volume to which the file is to be installed or removed.</span></span> <span data-ttu-id="3b066-110">Cada vez que o diretório associado a um componente é alterado, os custos dos arquivos de instalação controlados por esse componente devem ser recalculados.</span><span class="sxs-lookup"><span data-stu-id="3b066-110">Each time the directory associated with a component changes, the costs of the installation files controlled by that component must be recalculated.</span></span> <span data-ttu-id="3b066-111">Por exemplo, como uma alteração de diretório também pode implicar uma alteração de volume, os tamanhos de arquivo clusterizados devem ser recalculados.</span><span class="sxs-lookup"><span data-stu-id="3b066-111">For example, because a directory change might also imply a volume change, the clustered file sizes must be recalculated.</span></span> <span data-ttu-id="3b066-112">Além disso, o novo diretório deve ser verificado para determinar se os arquivos existentes que podem ser substituídos devem ser levados em conta.</span><span class="sxs-lookup"><span data-stu-id="3b066-112">In addition, the new directory must be checked to determine whether any existing files that may be overwritten must be taken into account.</span></span>

<span data-ttu-id="3b066-113">Depois que a ação [CostInitialize](costinitialize-action.md) for chamada, a ação [filecost](filecost-action.md) deverá ser chamada.</span><span class="sxs-lookup"><span data-stu-id="3b066-113">After the [CostInitialize](costinitialize-action.md) action is called, the [FileCost](filecost-action.md) action must be called.</span></span> <span data-ttu-id="3b066-114">A ação CostInitialize inicializa as rotinas internas do instalador que calculam dinamicamente os custos de disco envolvidos nas ações de instalação padrão.</span><span class="sxs-lookup"><span data-stu-id="3b066-114">The CostInitialize action initializes the installer's internal routines that dynamically calculate the disk costs involved with the standard installation actions.</span></span> <span data-ttu-id="3b066-115">Nenhum outro cálculo de custo dinâmico é feito neste momento.</span><span class="sxs-lookup"><span data-stu-id="3b066-115">No other dynamic cost calculations are done at this point.</span></span>

<span data-ttu-id="3b066-116">Em seguida, a ação [CostFinalize](costfinalize-action.md) deve ser chamada.</span><span class="sxs-lookup"><span data-stu-id="3b066-116">Next, the [CostFinalize](costfinalize-action.md) action must be called.</span></span> <span data-ttu-id="3b066-117">Esta ação finaliza todos os cálculos de custo e disponibiliza os dados de custos por meio da tabela de [componentes](component-table.md) .</span><span class="sxs-lookup"><span data-stu-id="3b066-117">This action finalizes all cost calculations and makes the costing data available through the [Component](component-table.md) table.</span></span>

<span data-ttu-id="3b066-118">Depois que a ação [CostFinalize](costfinalize-action.md) concluir a execução, a tabela de [componentes](component-table.md) será totalmente inicializada e uma sequência de caixa de diálogo da interface do usuário que contém um controle [SelectionTree](selectiontree-control.md) poderá ser iniciada se necessário.</span><span class="sxs-lookup"><span data-stu-id="3b066-118">After the [CostFinalize](costfinalize-action.md) action completes execution, the [Component](component-table.md) table is fully initialized and a user interface dialog box sequence containing a [SelectionTree](selectiontree-control.md) control can be initiated if needed.</span></span> <span data-ttu-id="3b066-119">As caixas de diálogo da interface do usuário podem oferecer a opção de alterar o estado de seleção ou o diretório de destino de qualquer recurso na tabela de [recursos](feature-table.md) para o usuário.</span><span class="sxs-lookup"><span data-stu-id="3b066-119">The user interface dialog boxes may offer the option to change the selection state or destination directory of any feature in the [Feature](feature-table.md) table to the user.</span></span> <span data-ttu-id="3b066-120">O processo é semelhante quando o estado de seleção de um componente é alterado; no entanto, nesse caso, o custo dinâmico do componente alterado somente é recalculado.</span><span class="sxs-lookup"><span data-stu-id="3b066-120">The process is similar when the selection state of a component changes; however, in this case, the dynamic cost of the changed component only is recalculated.</span></span>

<span data-ttu-id="3b066-121">Depois que o usuário tiver concluído a seleção de recursos na interface do usuário, a ação [InstallValidate](installvalidate-action.md) deverá ser chamada.</span><span class="sxs-lookup"><span data-stu-id="3b066-121">Once the user has completed selecting features in the user interface, the [InstallValidate](installvalidate-action.md) action should be called.</span></span> <span data-ttu-id="3b066-122">Essa ação verifica se todos os volumes aos quais o custo foi atribuído têm espaço suficiente para a instalação.</span><span class="sxs-lookup"><span data-stu-id="3b066-122">This action verifies that all volumes to which cost has been attributed have sufficient space for the installation.</span></span>

 

 



