---
description: O Microsoft Windows HTTP Services (WinHTTP) fornece uma interface de alto nível com suporte de servidor para os protocolos de Internet HTTP/2 e 1,1.
ms.assetid: 8337f699-3ec0-4397-acc2-6dc813f7542d
title: Sobre o WinHTTP
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 150c829410a1601a3ede7f115f4594276af7fead
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105784052"
---
# <a name="about-winhttp"></a><span data-ttu-id="38e7e-103">Sobre o WinHTTP</span><span class="sxs-lookup"><span data-stu-id="38e7e-103">About WinHTTP</span></span>

> [!NOTE]
> <span data-ttu-id="38e7e-104">Para contêineres de aplicativos e serviços do sistema desde que o Windows 10, versão 1709, HTTP/2 (consulte [RFC7540](https://tools.ietf.org/html/rfc7540)) esteja ativado por padrão.</span><span class="sxs-lookup"><span data-stu-id="38e7e-104">For app containers and system services since Windows 10, version 1709, HTTP/2 (see [RFC7540](https://tools.ietf.org/html/rfc7540)) is on by default.</span></span>

<span data-ttu-id="38e7e-105">O Microsoft Windows HTTP Services (WinHTTP) fornece uma interface de alto nível com suporte de servidor para os protocolos de Internet HTTP/2 e 1,1.</span><span class="sxs-lookup"><span data-stu-id="38e7e-105">Microsoft Windows HTTP Services (WinHTTP) provides you with a server-supported, high-level interface to the HTTP/2 and 1.1 Internet protocols.</span></span> <span data-ttu-id="38e7e-106">O WinHTTP foi projetado para ser usado principalmente em cenários baseados em servidor por aplicativos de servidor que se comunicam com servidores HTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-106">WinHTTP is designed to be used primarily in server-based scenarios by server applications that communicate with HTTP servers.</span></span>

<span data-ttu-id="38e7e-107">O [WinInet](/windows/desktop/WinInet/portal) foi projetado como uma plataforma de cliente http para aplicativos de área de trabalho interativa.</span><span class="sxs-lookup"><span data-stu-id="38e7e-107">[WinINet](/windows/desktop/WinInet/portal) was designed as an HTTP client platform for interactive desktop applications.</span></span> <span data-ttu-id="38e7e-108">O WinINet exibe uma interface do usuário para algumas operações, como coletar credenciais do usuário.</span><span class="sxs-lookup"><span data-stu-id="38e7e-108">WinINet displays a user interface for some operations such as collecting user credentials.</span></span> <span data-ttu-id="38e7e-109">No entanto, o WinHTTP manipula essas operações de forma programática.</span><span class="sxs-lookup"><span data-stu-id="38e7e-109">WinHTTP, however, handles these operations programmatically.</span></span> <span data-ttu-id="38e7e-110">Aplicativos de servidor que exigem serviços de cliente HTTP devem usar WinHTTP em vez de WinINet.</span><span class="sxs-lookup"><span data-stu-id="38e7e-110">Server applications that require HTTP client services should use WinHTTP instead of WinINet.</span></span> <span data-ttu-id="38e7e-111">Para obter mais informações, consulte [portando aplicativos WinInet para WinHTTP](porting-wininet-applications-to-winhttp.md).</span><span class="sxs-lookup"><span data-stu-id="38e7e-111">For more information, see [Porting WinINet Applications to WinHTTP](porting-wininet-applications-to-winhttp.md).</span></span>

<span data-ttu-id="38e7e-112">O WinHTTP também foi projetado para uso em serviços do sistema e aplicativos cliente baseados em HTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-112">WinHTTP is also designed for use in system services and HTTP-based client applications.</span></span> <span data-ttu-id="38e7e-113">No entanto, aplicativos de usuário único que exigem funcionalidade de protocolo FTP, persistência de cookie, cache, tratamento automático de caixa de diálogo de credencial, compatibilidade do Internet Explorer ou suporte a plataformas de nível inferior devem considerar o uso do [WinInet](/windows/desktop/WinInet/portal).</span><span class="sxs-lookup"><span data-stu-id="38e7e-113">However, single-user applications that require FTP protocol functionality, cookie persistence, caching, automatic credential dialog handling, Internet Explorer compatibility, or downlevel platform support should consider using [WinINet](/windows/desktop/WinInet/portal).</span></span>

<span data-ttu-id="38e7e-114">Essa interface pode ser acessada do C/C++ usando a API (interface de programação de aplicativo) do WinHTTP ou usando as interfaces [**IWinHttpRequest**](iwinhttprequest-interface.md) e [**IWinHttpRequestEvents**](iwinhttprequestevents-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="38e7e-114">This interface is accessible from C/C++ by using either the WinHTTP application programming interface (API), or by using the [**IWinHttpRequest**](iwinhttprequest-interface.md) and [**IWinHttpRequestEvents**](iwinhttprequestevents-interface.md) interfaces.</span></span> <span data-ttu-id="38e7e-115">O WinHTTP também pode ser acessado do script e do Microsoft Visual Basic por meio do objeto WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-115">WinHTTP is also accessible from script and Microsoft Visual Basic through the WinHTTP object.</span></span> <span data-ttu-id="38e7e-116">Para obter mais informações e descrições das funções individuais, consulte a referência das funções do WinHTTP para o idioma específico.</span><span class="sxs-lookup"><span data-stu-id="38e7e-116">For more information and descriptions of the individual functions, see the WinHTTP functions reference for the specific language.</span></span>

<span data-ttu-id="38e7e-117">A partir do Windows 8, o WinHTTP fornece APIs para habilitar conexões usando o [protocolo WebSocket](https://tools.ietf.org/html/rfc6455)l, como [**WinHttpWebSocketSend**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketsend) e [**WinHttpWebSocketReceive**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketreceive).</span><span class="sxs-lookup"><span data-stu-id="38e7e-117">Starting with Windows 8, WinHTTP provides APIs to enable connections using the [WebSocket Protocol](https://tools.ietf.org/html/rfc6455)l, such as [**WinHttpWebSocketSend**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketsend) and [**WinHttpWebSocketReceive**](/windows/desktop/api/winhttp/nf-winhttp-winhttpwebsocketreceive).</span></span>

> [!Caution]  
> <span data-ttu-id="38e7e-118">O WinHTTP não é reentrante, exceto durante o retorno de chamada de conclusão assíncrona.</span><span class="sxs-lookup"><span data-stu-id="38e7e-118">WinHTTP is not reentrant except during asynchronous completion callback.</span></span> <span data-ttu-id="38e7e-119">Ou seja, enquanto um thread tem uma chamada pendente para uma das funções do WinHTTP, como WinHttpSendRequest, WinHttpReceiveResponse, WinHttpQueryDataAvailable, WinHttpSendData ou WinHttpWriteData, ele nunca deve chamar o WinHTTP uma segunda vez até que a primeira chamada seja concluída.</span><span class="sxs-lookup"><span data-stu-id="38e7e-119">That is, while a thread has a call pending to one of the WinHTTP functions such as WinHttpSendRequest, WinHttpReceiveResponse, WinHttpQueryDataAvailable, WinHttpSendData, or WinHttpWriteData, it must never call WinHTTP a second time until the first call has completed.</span></span> <span data-ttu-id="38e7e-120">Um cenário sob o qual uma segunda chamada pode ocorrer é o seguinte: se um aplicativo enfileirar uma APC (chamada de procedimento assíncrono) para o thread que chama o WinHTTP e se o WinHTTP executar uma espera de alerta internamente, a APC poderá ser executada.</span><span class="sxs-lookup"><span data-stu-id="38e7e-120">One scenario under which a second call could occur is as follows: If an application queues an Asynchronous Procedure Call (APC) to the thread that calls into WinHTTP, and if WinHTTP performs an alertable wait internally, the APC can run.</span></span> <span data-ttu-id="38e7e-121">Se a rotina da APC ocorrer também chamar o WinHTTP, ela reinserirá a API do WinHTTP e o estado interno do WinHTTP poderá ser corrompido.</span><span class="sxs-lookup"><span data-stu-id="38e7e-121">If the APC routine happens also to call WinHTTP, it reenters the WinHTTP API, and the internal state of WinHTTP can be corrupted.</span></span>

## <a name="winhttp-51-features"></a><span data-ttu-id="38e7e-122">Recursos do WinHTTP 5,1</span><span class="sxs-lookup"><span data-stu-id="38e7e-122">WinHTTP 5.1 Features</span></span>

<span data-ttu-id="38e7e-123">Os seguintes recursos foram adicionados na versão 5,1 do WinHTTP:</span><span class="sxs-lookup"><span data-stu-id="38e7e-123">The following features were added in version 5.1 of WinHTTP:</span></span>

-   <span data-ttu-id="38e7e-124">Suporte a IPv6.</span><span class="sxs-lookup"><span data-stu-id="38e7e-124">IPv6 support.</span></span>
-   <span data-ttu-id="38e7e-125">Recursos de AutoProxy.</span><span class="sxs-lookup"><span data-stu-id="38e7e-125">AutoProxy capabilities.</span></span>
-   <span data-ttu-id="38e7e-126">Protocolo HTTP/1.0, incluindo suporte para conexões Keep Alive (persistentes) e cookies de sessão.</span><span class="sxs-lookup"><span data-stu-id="38e7e-126">HTTP/1.0 protocol, including support for keep-alive (persistent) connections and session cookies.</span></span>
-   <span data-ttu-id="38e7e-127">Suporte para transferência em partes de HTTP/1.1 para respostas HTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-127">HTTP/1.1 chunked transfer support for HTTP responses.</span></span>
-   <span data-ttu-id="38e7e-128">Pool de Keep-Alive de conexões anônimas entre sessões.</span><span class="sxs-lookup"><span data-stu-id="38e7e-128">Keep-alive pooling of anonymous connections across sessions.</span></span>
-   <span data-ttu-id="38e7e-129">Funcionalidade de protocolo SSL (SSL), incluindo certificados de cliente.</span><span class="sxs-lookup"><span data-stu-id="38e7e-129">Secure Sockets Layer (SSL) functionality, including client certificates.</span></span> <span data-ttu-id="38e7e-130">Os protocolos SSL com suporte incluem o seguinte: SSL 2,0, SSL 3,0 e TLS (Transport Layer Security) 1,0.</span><span class="sxs-lookup"><span data-stu-id="38e7e-130">Supported SSL protocols include the following: SSL 2.0, SSL 3.0, and Transport Layer Security (TLS) 1.0.</span></span>
-   <span data-ttu-id="38e7e-131">Suporte para autenticação de servidor e proxy, incluindo suporte integrado para Microsoft Passport 1,4 e o pacote Negotiate/ [Kerberos](../com/kerberos-v5-protocol.md) .</span><span class="sxs-lookup"><span data-stu-id="38e7e-131">Support for server and proxy authentication, including integrated support for Microsoft Passport 1.4 and the Negotiate/ [Kerberos](../com/kerberos-v5-protocol.md) package.</span></span>
-   <span data-ttu-id="38e7e-132">Manipulação automática de redirecionamentos, a menos que suprimido.</span><span class="sxs-lookup"><span data-stu-id="38e7e-132">Automatic handling of redirects unless suppressed.</span></span>
-   <span data-ttu-id="38e7e-133">Interface programável, além da API.</span><span class="sxs-lookup"><span data-stu-id="38e7e-133">Scriptable interface in addition to the API.</span></span>
-   <span data-ttu-id="38e7e-134">Utilitário de rastreamento para ajudar a solucionar problemas.</span><span class="sxs-lookup"><span data-stu-id="38e7e-134">Trace utility to help troubleshoot problems.</span></span>

<span data-ttu-id="38e7e-135">Não há suporte para vários recursos do [WinInet](/windows/desktop/WinInet/portal) no WinHTTP, incluindo cache de URL e cookies persistentes, AutoProxy, discagem automática, suporte offline e protocolo FTP (FTP).</span><span class="sxs-lookup"><span data-stu-id="38e7e-135">A number of [WinINet](/windows/desktop/WinInet/portal) features are not supported in WinHTTP, including URL caching and persistent cookies, autoproxy, autodialing, offline support, and File Transfer Protocol (FTP).</span></span>

<span data-ttu-id="38e7e-136">Para obter mais informações sobre as alterações introduzidas na versão 5,1, consulte [What ' s New in WinHTTP 5,1](what-s-new-in-winhttp-5-1.md).</span><span class="sxs-lookup"><span data-stu-id="38e7e-136">For more information about changes introduced in version 5.1, see [What's New in WinHTTP 5.1](what-s-new-in-winhttp-5-1.md).</span></span>

## <a name="getting-started-with-winhttp"></a><span data-ttu-id="38e7e-137">Introdução com WinHTTP</span><span class="sxs-lookup"><span data-stu-id="38e7e-137">Getting Started with WinHTTP</span></span>

<span data-ttu-id="38e7e-138">Para obter mais informações sobre o WinHTTP, consulte os tópicos a seguir.</span><span class="sxs-lookup"><span data-stu-id="38e7e-138">For more information about WinHTTP, see the following topics.</span></span>

* <span data-ttu-id="38e7e-139">O [WinInet versus o WinHTTP](/windows/desktop/wininet/wininet-vs-winhttp) compara as duas tecnologias para acessar o http.</span><span class="sxs-lookup"><span data-stu-id="38e7e-139">[WinINet vs. WinHTTP](/windows/desktop/wininet/wininet-vs-winhttp) compares the two technologies for accessing HTTP.</span></span>
* <span data-ttu-id="38e7e-140">[As versões WinHTTP](winhttp-versions.md) descrevem o histórico de versão do WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-140">[WinHTTP Versions](winhttp-versions.md) describes the version history of WinHTTP.</span></span>
* <span data-ttu-id="38e7e-141">[O que há de novo no winhttp 5,1](what-s-new-in-winhttp-5-1.md) descreve as alterações e os novos recursos no WinHTTP 5,1.</span><span class="sxs-lookup"><span data-stu-id="38e7e-141">[What's New in WinHTTP 5.1](what-s-new-in-winhttp-5-1.md) describes changes and new features in WinHTTP 5.1.</span></span>
* <span data-ttu-id="38e7e-142">A [terminologia de rede](network-terminology.md) descreve os conceitos úteis e a terminologia relacionada à rede em geral e o protocolo http em particular.</span><span class="sxs-lookup"><span data-stu-id="38e7e-142">[Network Terminology](network-terminology.md) describes useful concepts and terminology relating to networking in general and the HTTP protocol in particular.</span></span>
* <span data-ttu-id="38e7e-143">A [escolha de uma interface WinHTTP](choosing-a-winhttp-interface.md) descreve a API C/C++ e a interface com para WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-143">[Choosing a WinHTTP Interface](choosing-a-winhttp-interface.md) describes the C/C++ API and the COM interface for WinHTTP.</span></span>
* <span data-ttu-id="38e7e-144">As [considerações de segurança do WinHTTP](winhttp-security-considerations.md) descrevem os problemas de segurança que devem ser considerados ao usar o WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-144">[WinHTTP Security Considerations](winhttp-security-considerations.md) describes security issues to be aware of when using WinHTTP.</span></span>
* <span data-ttu-id="38e7e-145">[Portar aplicativos WinInet para o WinHTTP](porting-wininet-applications-to-winhttp.md) descreve como modificar seus aplicativos [WinInet](/windows/desktop/WinInet/portal) existentes para usar a API do WinHTTP.</span><span class="sxs-lookup"><span data-stu-id="38e7e-145">[Porting WinINet Applications to WinHTTP](porting-wininet-applications-to-winhttp.md) describes how to modify your existing [WinINet](/windows/desktop/WinInet/portal) applications to use the WinHTTP API.</span></span>
