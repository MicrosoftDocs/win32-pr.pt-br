---
description: A partir do Windows Server 2008 e do Windows Vista, a API do WinHTTP foi aprimorada para incluir os recursos a seguir.
ms.assetid: b47a2e38-67bd-4d43-936c-8781641cb7f6
title: O que há de novo no Windows Server 2008 e no Windows Vista
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fac0f274b45e1db79fb79340b7f490de96f57e8f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104461128"
---
# <a name="whats-new-in-windows-server-2008-and-windows-vista"></a><span data-ttu-id="ad2fa-103">O que há de novo no Windows Server 2008 e no Windows Vista</span><span class="sxs-lookup"><span data-stu-id="ad2fa-103">What's New in Windows Server 2008 and Windows Vista</span></span>

<span data-ttu-id="ad2fa-104">A partir do Windows Server 2008 e do Windows Vista, a API do WinHTTP foi aprimorada para incluir os recursos a seguir.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-104">Starting in Windows Server 2008 and Windows Vista, the WinHTTP API has been enhanced to include the following features.</span></span>

## <a name="greater-than-4-gb-upload"></a><span data-ttu-id="ad2fa-105">Mais de 4 GB de upload.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-105">Greater Than 4-GB Upload.</span></span>

<span data-ttu-id="ad2fa-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) pode enviar apenas 4 GB de dados devido a limitações no tamanho do parâmetro de comprimento total DWORD.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-106">[**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) can send only 4 GB of data because of limitations in the size of the DWORD total length parameter.</span></span> <span data-ttu-id="ad2fa-107">Para permitir que os aplicativos enviem mais de 4 GB de dados, o cabeçalho Content-Length é adicionado à solicitação especificando dados tão grandes quanto um \_ inteiro grande (2 ^ 64 bytes).</span><span class="sxs-lookup"><span data-stu-id="ad2fa-107">To enable applications to send more than 4 GB of data, the Content-Length header is added to the request specifying data as large as a LARGE\_INTEGER (2^64 bytes).</span></span> <span data-ttu-id="ad2fa-108">Para obter mais informações, consulte **WinHttpSendRequest**.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-108">For more information, see **WinHttpSendRequest**.</span></span> <span data-ttu-id="ad2fa-109">Não há suporte para esse recurso no objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-109">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="transfer-encoding-header"></a><span data-ttu-id="ad2fa-110">Cabeçalho de Transfer-Encoding</span><span class="sxs-lookup"><span data-stu-id="ad2fa-110">Transfer-Encoding Header</span></span>

<span data-ttu-id="ad2fa-111">O cabeçalho Transfer-Encoding permite que os aplicativos enviem dados em partes para o servidor.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-111">The Transfer-Encoding header enables applications to send chunked data to the server.</span></span> <span data-ttu-id="ad2fa-112">Quando o cabeçalho de Transfer-Encoding está presente na solicitação, o aplicativo envia a solicitação com um corpo de entidade de comprimento zero na chamada para [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span><span class="sxs-lookup"><span data-stu-id="ad2fa-112">When the Transfer-Encoding header is present on the request, the application sends the request with a zero length entity body in the call to [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest).</span></span> <span data-ttu-id="ad2fa-113">O corpo da entidade é enviado em chamadas subsequentes para [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span><span class="sxs-lookup"><span data-stu-id="ad2fa-113">The entity body is sent in subsequent calls to [**WinHttpWriteData**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpwritedata).</span></span> <span data-ttu-id="ad2fa-114">Não há suporte para esse recurso no objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-114">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="ssl-client-certificate-issuer-list-retrieval"></a><span data-ttu-id="ad2fa-115">Recuperação da lista de emissores do certificado do cliente SSL</span><span class="sxs-lookup"><span data-stu-id="ad2fa-115">SSL Client Certificate Issuer List Retrieval</span></span>

<span data-ttu-id="ad2fa-116">O aplicativo pode recuperar a lista de emissores de certificado de cliente SSL quando o [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) falhar com um **erro de certificado de autenticação de \_ \_ cliente WinHTTP \_ \_ \_ necessário**.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-116">The application can retrieve the SSL client certificate Issuer List when [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**.</span></span> <span data-ttu-id="ad2fa-117">Uma nova opção, **a \_ \_ lista de \_ \_ emissor \_ de certificado de cliente de opção WinHTTP**, permite que os aplicativos recuperem a lista de emissores de certificado e filtrem a lista para o certificado ideal.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-117">A new option, **WINHTTP\_OPTION\_CLIENT\_CERT\_ISSUER\_LIST**, allows applications to retrieve the certificate Issuer List and filter the list for the optimal certificate.</span></span> <span data-ttu-id="ad2fa-118">Para obter mais informações, consulte os tópicos [**sinalizadores de opção**](option-flags.md) e [recuperação da lista de emissor para autenticação de cliente SSL](ssl-in-winhttp.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-118">For more information, see the [**Option Flags**](option-flags.md) and [Issuer List Retrieval for SSL Client Authentication](ssl-in-winhttp.md) topics.</span></span> <span data-ttu-id="ad2fa-119">Não há suporte para esse recurso no objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-119">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="optional-client-certificates"></a><span data-ttu-id="ad2fa-120">Certificados de cliente opcionais</span><span class="sxs-lookup"><span data-stu-id="ad2fa-120">Optional Client Certificates</span></span>

<span data-ttu-id="ad2fa-121">Quando o [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) falha com um erro de certificado de **autenticação de \_ cliente WinHTTP \_ \_ \_ \_ necessário**, o servidor pode não exigir o certificado de cliente SSL.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-121">When [**WinHttpSendRequest**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpsendrequest) fails with an **ERROR\_WINHTTP\_CLIENT\_AUTH\_CERT\_NEEDED**, the server may not require the SSL client certificate.</span></span> <span data-ttu-id="ad2fa-122">O servidor pode ser capaz de reverter para outra forma de autenticação ou permitir que o cliente prossiga com o acesso anônimo.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-122">The server may be able to revert to another form of authentication, or allow the client to proceed with anonymous access.</span></span> <span data-ttu-id="ad2fa-123">O aplicativo define a opção de **contexto de certificado de \_ cliente da opção \_ \_ \_ WinHTTP** e especifica uma macro que o WinHTTP usa para determinar se o certificado do cliente é necessário.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-123">The application sets the **WINHTTP\_OPTION\_CLIENT\_CERT\_CONTEXT** option and specifies a macro that WinHttp uses to determine if the client certificate is required.</span></span> <span data-ttu-id="ad2fa-124">Para obter mais informações, consulte [**sinalizadores de opção**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="ad2fa-124">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="ad2fa-125">Não há suporte para esse recurso no objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-125">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="source-and-destination-ip-addresses"></a><span data-ttu-id="ad2fa-126">Endereços IP de origem e de destino</span><span class="sxs-lookup"><span data-stu-id="ad2fa-126">Source and Destination IP Addresses</span></span>

<span data-ttu-id="ad2fa-127">Quando o [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) é concluído, o aplicativo pode recuperar o endereço IP de origem e de destino e a porta da solicitação que gerou a resposta.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-127">When [**WinHttpReceiveResponse**](/windows/desktop/api/Winhttp/nf-winhttp-winhttpreceiveresponse) completes, the application can retrieve the source and destination IP address and port of the request that generated the response.</span></span> <span data-ttu-id="ad2fa-128">Uma nova estrutura é fornecida para receber os endereços de origem e de destino quando a opção de **\_ informações de \_ conexão \_ da opção WinHTTP** está definida.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-128">A new structure is provided to receive the source and destination addresses when the **WINHTTP\_OPTION\_CONNECTION\_INFO** option is set.</span></span> <span data-ttu-id="ad2fa-129">Para obter mais informações, consulte [**sinalizadores de opção**](option-flags.md).</span><span class="sxs-lookup"><span data-stu-id="ad2fa-129">For more information, see [**Option Flags**](option-flags.md).</span></span> <span data-ttu-id="ad2fa-130">Não há suporte para esse recurso no objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) .</span><span class="sxs-lookup"><span data-stu-id="ad2fa-130">This feature is not supported on the [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object.</span></span>

## <a name="additional-ssl-client-authentication-errors"></a><span data-ttu-id="ad2fa-131">Erros de autenticação de cliente SSL adicionais</span><span class="sxs-lookup"><span data-stu-id="ad2fa-131">Additional SSL Client Authentication Errors</span></span>

<span data-ttu-id="ad2fa-132">Erros adicionais de autenticação de cliente SSL fornecem mais informações sobre o certificado de cliente SSL.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-132">Additional SSL client authentication errors provide more information about the SSL Client certificate.</span></span> <span data-ttu-id="ad2fa-133">**Erro \_ do O certificado do \_ cliente WinHTTP \_ não é \_ uma \_ \_ chave privada** e o **erro \_ WinHTTP \_ CERT \_ no \_ Access \_ \_ chave privada não acesso** erros de certificado de cliente são novos para o Windows Server 2008 e o Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-133">**ERROR\_WINHTTP\_CLIENT\_CERT\_NO\_PRIVATE\_KEY** and **ERROR\_WINHTTP\_CERT\_NO\_ACCESS\_PRIVATE\_KEY** client certificate errors are new for Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="ad2fa-134">O objeto com [**IWinHttpRequest**](iwinhttprequest-interface.md) retorna esses erros em um HRESULT.</span><span class="sxs-lookup"><span data-stu-id="ad2fa-134">The [**IWinHttpRequest**](iwinhttprequest-interface.md) COM object returns these errors in an HRESULT.</span></span>

 

 



