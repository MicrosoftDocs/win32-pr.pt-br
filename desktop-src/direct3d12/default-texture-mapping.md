---
title: As otimizações de uma CPU, texturas acessíveis e swizzle padrão
description: As GPUs da arquitetura de memória universal (a) oferecem algumas vantagens de eficiência em relação a GPUs discretas, especialmente ao otimizar para dispositivos móveis.
ms.assetid: 26C41948-9625-4786-BBDF-552D1F8A2437
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 47725702676d385d607fa87533680b9ffe0fc0df
ms.sourcegitcommit: 294c5ab750c46b5100bb2c84ef6c33ef7266c54b
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 07/15/2020
ms.locfileid: "104548273"
---
# <a name="uma-optimizations-cpu-accessible-textures-and-standard-swizzle"></a><span data-ttu-id="58d54-103">Otimizações de uma: texturas acessíveis de CPU e swizzle padrão</span><span class="sxs-lookup"><span data-stu-id="58d54-103">UMA Optimizations: CPU Accessible Textures and Standard Swizzle</span></span>

<span data-ttu-id="58d54-104">As GPUs da arquitetura de memória universal (a) oferecem algumas vantagens de eficiência em relação a GPUs discretas, especialmente ao otimizar para dispositivos móveis.</span><span class="sxs-lookup"><span data-stu-id="58d54-104">Universal Memory Architecture (UMA) GPUs offer some efficiency advantages over discrete GPUs, especially when optimizing for mobile devices.</span></span> <span data-ttu-id="58d54-105">Conceder acesso à CPU de recursos quando a GPU é uma pode reduzir a quantidade de cópia que ocorre entre a CPU e a GPU.</span><span class="sxs-lookup"><span data-stu-id="58d54-105">Giving resources CPU access when the GPU is UMA can reduce the amount of copying that occurs between CPU and GPU.</span></span> <span data-ttu-id="58d54-106">Embora não recomendemos que os aplicativos ofereçam acesso cego à CPU a todos os recursos em designs de uma, há oportunidades de melhorar a eficiência fornecendo o acesso à CPU dos recursos corretos.</span><span class="sxs-lookup"><span data-stu-id="58d54-106">While we don’t recommend applications blindly give CPU access to all resources on UMA designs, there are opportunities to improve efficiencies by giving the right resources CPU access.</span></span> <span data-ttu-id="58d54-107">Ao contrário de GPUs discretas, a CPU pode tecnicamente ter um ponteiro para todos os recursos que a GPU pode acessar.</span><span class="sxs-lookup"><span data-stu-id="58d54-107">Unlike discrete GPUs, the CPU can technically have a pointer to all resources that the GPU can access.</span></span>

-   [<span data-ttu-id="58d54-108">Visão geral das texturas acessíveis à CPU</span><span class="sxs-lookup"><span data-stu-id="58d54-108">Overview of CPU accessible textures</span></span>](#overview-of-cpu-accessible-textures)
-   [<span data-ttu-id="58d54-109">Visão geral do swizzle padrão</span><span class="sxs-lookup"><span data-stu-id="58d54-109">Overview of Standard Swizzle</span></span>](#overview-of-standard-swizzle)
-   [<span data-ttu-id="58d54-110">APIs</span><span class="sxs-lookup"><span data-stu-id="58d54-110">APIs</span></span>](#apis)
-   [<span data-ttu-id="58d54-111">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="58d54-111">Related topics</span></span>](#related-topics)

## <a name="overview-of-cpu-accessible-textures"></a><span data-ttu-id="58d54-112">Visão geral das texturas acessíveis à CPU</span><span class="sxs-lookup"><span data-stu-id="58d54-112">Overview of CPU accessible textures</span></span>

<span data-ttu-id="58d54-113">As texturas acessíveis à CPU, no pipeline de gráficos, são um recurso de arquitetura de uma, permitindo acesso de leitura e gravação de CPUs a texturas.</span><span class="sxs-lookup"><span data-stu-id="58d54-113">CPU accessible textures, in the graphics pipeline, are a feature of UMA architecture, enabling CPUs read and write access to textures.</span></span> <span data-ttu-id="58d54-114">Nas GPUs discretas mais comuns, a CPU não tem acesso a texturas no pipeline de gráficos.</span><span class="sxs-lookup"><span data-stu-id="58d54-114">On the more common discrete GPUs, the CPU does not have access to textures in the graphics pipeline.</span></span>

<span data-ttu-id="58d54-115">O Conselho geral de práticas recomendadas para texturas é acomodar GPUs discretas, que geralmente envolvem os processos no [carregamento de dados de textura por meio de buffers](upload-and-readback-of-texture-data.md), resumidos como:</span><span class="sxs-lookup"><span data-stu-id="58d54-115">The general best practice advice for textures is to accommodate discrete GPUs, which typically involves following the processes in [Uploading Texture Data Through Buffers](upload-and-readback-of-texture-data.md), summarized as:</span></span>

-   <span data-ttu-id="58d54-116">Não ter nenhum acesso de CPU para a maioria das texturas.</span><span class="sxs-lookup"><span data-stu-id="58d54-116">Not having any CPU access for the majority of textures.</span></span>
-   <span data-ttu-id="58d54-117">Definindo o layout de textura para o \_ layout de textura D3D12 \_ \_ desconhecido.</span><span class="sxs-lookup"><span data-stu-id="58d54-117">Setting the texture layout to D3D12\_TEXTURE\_LAYOUT\_UNKNOWN.</span></span>
-   <span data-ttu-id="58d54-118">Carregando as texturas na GPU com [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion).</span><span class="sxs-lookup"><span data-stu-id="58d54-118">Uploading the textures to the GPU with [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion).</span></span>

<span data-ttu-id="58d54-119">No entanto, para determinados casos, a CPU e a GPU podem interagir com tanta frequência nos mesmos dados, que o mapeamento de texturas se torna útil para economizar energia ou para acelerar um design específico em determinados adaptadores ou arquiteturas.</span><span class="sxs-lookup"><span data-stu-id="58d54-119">However, for certain cases, the CPU and GPU may interact so frequently on the same data, that mapping textures becomes helpful to save power, or to speed up a particular design on particular adapters or architectures.</span></span> <span data-ttu-id="58d54-120">Os aplicativos devem detectar esses casos e otimizar as cópias desnecessárias.</span><span class="sxs-lookup"><span data-stu-id="58d54-120">Applications should detect these cases and optimize out the unnecessary copies.</span></span> <span data-ttu-id="58d54-121">Nesse caso, para obter o melhor desempenho, considere o seguinte:</span><span class="sxs-lookup"><span data-stu-id="58d54-121">In this case, for best performance consider the following:</span></span>

-   <span data-ttu-id="58d54-122">Só comece a se divertido o melhor desempenho do mapeamento de texturas quando a arquitetura de dados de recursos do D3D12:: a é verdadeira. [**\_ \_ \_**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_architecture)</span><span class="sxs-lookup"><span data-stu-id="58d54-122">Only start entertaining the better performance of mapping textures when [**D3D12\_FEATURE\_DATA\_ARCHITECTURE**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_architecture)::UMA is TRUE.</span></span> <span data-ttu-id="58d54-123">Em seguida, preste atenção ao *CacheCoherentUMA* se decidir quais propriedades de cache de CPU escolher no heap.</span><span class="sxs-lookup"><span data-stu-id="58d54-123">Then pay attention to *CacheCoherentUMA* if deciding which CPU cache properties to choose on the heap.</span></span>

-   <span data-ttu-id="58d54-124">Aproveitar o acesso de CPU para texturas é mais complicado do que para buffers.</span><span class="sxs-lookup"><span data-stu-id="58d54-124">Leveraging CPU access for textures is more complicated than for buffers.</span></span> <span data-ttu-id="58d54-125">Os layouts de textura mais eficientes para GPUs são raramente a linha \_ principal.</span><span class="sxs-lookup"><span data-stu-id="58d54-125">The most efficient texture layouts for GPUs are rarely row\_major.</span></span> <span data-ttu-id="58d54-126">Na verdade, algumas GPUs só podem dar suporte a \_ texturas principais de linha ao copiar dados de textura.</span><span class="sxs-lookup"><span data-stu-id="58d54-126">In fact, some GPUs can only support row\_major textures when copying texture data around.</span></span>

-   <span data-ttu-id="58d54-127">As GPUs de uma devem se beneficiar universalmente de uma otimização simples para reduzir os tempos de carregamento de nível.</span><span class="sxs-lookup"><span data-stu-id="58d54-127">UMA GPUs should universally benefit from a simple optimization to reduce level-load times.</span></span> <span data-ttu-id="58d54-128">Depois de reconhecer uma, o aplicativo pode otimizar o [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion) inicial para popular as texturas que a GPU não modificará.</span><span class="sxs-lookup"><span data-stu-id="58d54-128">After recognizing UMA, the application can optimize out the initial [**CopyTextureRegion**](/windows/desktop/api/d3d12/nf-d3d12-id3d12graphicscommandlist-copytextureregion) to populate textures that the GPU will not modify.</span></span> <span data-ttu-id="58d54-129">Em vez de criar a textura em um heap com o \_ tipo de heap D3D12 \_ \_ padrão e empacotar os dados de textura por meio do, o aplicativo pode usar o [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) para evitar entender o layout de textura real.</span><span class="sxs-lookup"><span data-stu-id="58d54-129">Instead of creating the texture in a heap with D3D12\_HEAP\_TYPE\_DEFAULT, and marshalling the texture data through, the application can use [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) to avoid understanding the actual texture layout.</span></span>

-   <span data-ttu-id="58d54-130">No D3D12, as texturas criadas com o \_ layout de textura D3D12 \_ \_ são desconhecidas e nenhum acesso de CPU é o mais eficiente para a renderização e a amostragem de GPU frequentes.</span><span class="sxs-lookup"><span data-stu-id="58d54-130">In D3D12, textures created with D3D12\_TEXTURE\_LAYOUT\_UNKNOWN and no CPU access are the most efficient for frequent GPU rendering and sampling.</span></span> <span data-ttu-id="58d54-131">Quando o teste de desempenho, essas texturas devem ser comparadas \_ com o layout de textura D3D12 \_ \_ desconhecido com acesso à CPU, e o \_ layout de textura D3D12 \_ \_ padrão \_ SWIZZLE com acesso à CPU e a \_ \_ \_ linha de layout de textura D3D12 \_ principal para suporte entre adaptadores.</span><span class="sxs-lookup"><span data-stu-id="58d54-131">When performance testing, those textures should be compared against D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access, and D3D12\_TEXTURE\_LAYOUT\_STANDARD\_SWIZZLE with CPU access, and D3D12\_TEXTURE\_LAYOUT\_ROW\_MAJOR for cross-adapter support.</span></span>

-   <span data-ttu-id="58d54-132">O uso \_ \_ do layout \_ de textura D3D12 desconhecido com acesso à CPU permite que os métodos [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**mapeie**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (impedindo o acesso do aplicativo ao ponteiro) e o [**cancelem**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap), mas possam sacrificar a eficiência do acesso à GPU.</span><span class="sxs-lookup"><span data-stu-id="58d54-132">Using D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access enables the methods [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (precluding application access to pointer), and [**Unmap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap); but can sacrifice efficiency of GPU access.</span></span>

-   <span data-ttu-id="58d54-133">Usando \_ \_ o layout de textura D3D12 \_ Standard \_ SWIZZLE com acesso à CPU habilita [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**MAP**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (que retorna um ponteiro válido para o aplicativo) e o [**mapeamento**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap).</span><span class="sxs-lookup"><span data-stu-id="58d54-133">Using D3D12\_TEXTURE\_LAYOUT\_STANDARD\_SWIZZLE with CPU access enables [**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource), [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource), [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) (which returns a valid pointer to application), and [**Unmap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-unmap).</span></span> <span data-ttu-id="58d54-134">Ele também pode sacrificar a eficiência de acesso GPU mais do que o \_ layout de textura D3D12 \_ \_ desconhecido com acesso à CPU.</span><span class="sxs-lookup"><span data-stu-id="58d54-134">It can also sacrifice the efficiency of GPU access more than D3D12\_TEXTURE\_LAYOUT\_UNKNOWN with CPU access.</span></span>

## <a name="overview-of-standard-swizzle"></a><span data-ttu-id="58d54-135">Visão geral do swizzle padrão</span><span class="sxs-lookup"><span data-stu-id="58d54-135">Overview of Standard Swizzle</span></span>

<span data-ttu-id="58d54-136">D3D12 (e D3D 11.3) introduz um layout de dados multidimensional padrão.</span><span class="sxs-lookup"><span data-stu-id="58d54-136">D3D12 (and D3D11.3) introduce a standard multi-dimensional data layout.</span></span> <span data-ttu-id="58d54-137">Isso é feito para permitir que várias unidades de processamento operem nos mesmos dados sem copiar os dados ou swizzling os dados entre vários layouts.</span><span class="sxs-lookup"><span data-stu-id="58d54-137">This is done to enable multiple processing units to operate on the same data without copying the data or swizzling the data between multiple layouts.</span></span> <span data-ttu-id="58d54-138">Um layout padronizado permite ganhos de eficiência por meio de efeitos de rede e permite que os algoritmos façam pequenos cortes, supondo um padrão específico.</span><span class="sxs-lookup"><span data-stu-id="58d54-138">A standardized layout enables efficiency gains through network effects and allows algorithms to make short-cuts assuming a particular pattern.</span></span>

<span data-ttu-id="58d54-139">Para obter uma descrição detalhada dos layouts de textura, consulte [**\_ \_ layout de textura D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout).</span><span class="sxs-lookup"><span data-stu-id="58d54-139">For a detailed description of the texture layouts, refer to [**D3D12\_TEXTURE\_LAYOUT**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout).</span></span>

<span data-ttu-id="58d54-140">No entanto, observe que esse swizzle padrão é um recurso de hardware e pode não ter suporte de todas as GPUs.</span><span class="sxs-lookup"><span data-stu-id="58d54-140">Note though that this standard swizzle is a hardware feature, and may not be supported by all GPUs.</span></span>

<span data-ttu-id="58d54-141">Para obter informações básicas sobre swizzling, consulte a [curva de ordem Z](https://en.wikipedia.org/wiki/Z-order_curve).</span><span class="sxs-lookup"><span data-stu-id="58d54-141">For background information on swizzling, refer to [Z-order curve](https://en.wikipedia.org/wiki/Z-order_curve).</span></span>

## <a name="apis"></a><span data-ttu-id="58d54-142">APIs</span><span class="sxs-lookup"><span data-stu-id="58d54-142">APIs</span></span>

<span data-ttu-id="58d54-143">Ao contrário do D3D 11.3, o D3D12 dá suporte ao mapeamento de textura por padrão, portanto, não há necessidade de consultar [**\_ \_ \_ \_ as opções de D3D12 de dados de recurso D3D12**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options).</span><span class="sxs-lookup"><span data-stu-id="58d54-143">Unlike D3D11.3, D3D12 supports texture mapping by default, so there is no need to query [**D3D12\_FEATURE\_DATA\_D3D12\_OPTIONS**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_feature_data_d3d12_options).</span></span> <span data-ttu-id="58d54-144">No entanto, D3D12 nem sempre dá suporte a swizzle padrão. esse recurso precisará ser consultado com uma chamada para [**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) e marcando o campo *StandardSwizzle64KBSupported* de **D3D12 \_ recurso \_ D3D12 de dados de \_ \_ Opções**.</span><span class="sxs-lookup"><span data-stu-id="58d54-144">However D3D12 does not always support standard swizzle - this feature will need to be queried for with a call to [**CheckFeatureSupport**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-checkfeaturesupport) and checking the *StandardSwizzle64KBSupported* field of **D3D12\_FEATURE\_DATA\_D3D12\_OPTIONS**.</span></span>

<span data-ttu-id="58d54-145">As seguintes APIs referenciam o mapeamento de textura:</span><span class="sxs-lookup"><span data-stu-id="58d54-145">The following APIs reference texture mapping:</span></span>

<span data-ttu-id="58d54-146">Enumerações</span><span class="sxs-lookup"><span data-stu-id="58d54-146">Enums</span></span>

-   <span data-ttu-id="58d54-147">[**D3D12 \_ \_Layout de textura**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout) : controla o padrão swizzle de texturas padrão e habilita o suporte de mapa em texturas acessíveis à CPU.</span><span class="sxs-lookup"><span data-stu-id="58d54-147">[**D3D12\_TEXTURE\_LAYOUT**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_texture_layout) : controls the swizzle pattern of default textures and enable map support on CPU accessible textures.</span></span>

<span data-ttu-id="58d54-148">Estruturas</span><span class="sxs-lookup"><span data-stu-id="58d54-148">Structures</span></span>

-   <span data-ttu-id="58d54-149">[**D3D12 \_ RECURSO \_ desc**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_resource_desc) : descreve um recurso, como uma textura, que é uma estrutura amplamente usada.</span><span class="sxs-lookup"><span data-stu-id="58d54-149">[**D3D12\_RESOURCE\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_resource_desc) : describes a resource, such as a texture, this is an extensively used structure.</span></span>
-   <span data-ttu-id="58d54-150">[**D3D12 \_ HEAP \_ desc**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_heap_desc) : descreve um heap.</span><span class="sxs-lookup"><span data-stu-id="58d54-150">[**D3D12\_HEAP\_DESC**](/windows/desktop/api/d3d12/ns-d3d12-d3d12_heap_desc) : describes a heap.</span></span>

<span data-ttu-id="58d54-151">Métodos</span><span class="sxs-lookup"><span data-stu-id="58d54-151">Methods</span></span>

-   <span data-ttu-id="58d54-152">[**ID3D12Device:: CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource) : cria um único recurso e heap de backup do tamanho e alinhamento corretos.</span><span class="sxs-lookup"><span data-stu-id="58d54-152">[**ID3D12Device::CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource) : creates a single resource and backing heap of the right size and alignment.</span></span>
-   <span data-ttu-id="58d54-153">[**ID3D12Device:: createheap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap) : cria um heap para um buffer ou uma textura.</span><span class="sxs-lookup"><span data-stu-id="58d54-153">[**ID3D12Device::CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap) : creates a heap for a buffer or texture.</span></span>
-   <span data-ttu-id="58d54-154">[**ID3D12Device:: CreatePlacedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) : cria um recurso que é colocado em um heap específico, geralmente um método mais rápido de criar um recurso do que o [**createheap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap).</span><span class="sxs-lookup"><span data-stu-id="58d54-154">[**ID3D12Device::CreatePlacedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createplacedresource) : creates a resource that is placed in a specific heap, usually a faster method of creating a resource than [**CreateHeap**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createheap).</span></span>
-   <span data-ttu-id="58d54-155">[**ID3D12Device:: CreateReservedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createreservedresource) : cria um recurso que é reservado, mas ainda não foi confirmado ou colocado em um heap.</span><span class="sxs-lookup"><span data-stu-id="58d54-155">[**ID3D12Device::CreateReservedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createreservedresource) : creates a resource that is reserved but not yet committed or placed in a heap.</span></span>
-   <span data-ttu-id="58d54-156">[**ID3D12CommandQueue:: UpdateTileMappings**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) : atualiza os mapeamentos de locais de bloco em recursos de blocos gráficos para locais de memória em um heap de recursos.</span><span class="sxs-lookup"><span data-stu-id="58d54-156">[**ID3D12CommandQueue::UpdateTileMappings**](/windows/desktop/api/d3d12/nf-d3d12-id3d12commandqueue-updatetilemappings) : updates mappings of tile locations in tiled resources to memory locations in a resource heap.</span></span>
-   <span data-ttu-id="58d54-157">[**ID3D12Resource:: map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) : Obtém um ponteiro para os dados especificados no recurso e nega o acesso GPU ao subrecurso.</span><span class="sxs-lookup"><span data-stu-id="58d54-157">[**ID3D12Resource::Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map) : gets a pointer to the specified data in the resource, and denies the GPU access to the subresource.</span></span>
-   <span data-ttu-id="58d54-158">[**ID3D12Resource:: GetDesc**](id3d12resource-getdesc.md) : Obtém as propriedades do recurso.</span><span class="sxs-lookup"><span data-stu-id="58d54-158">[**ID3D12Resource::GetDesc**](id3d12resource-getdesc.md) : gets the resource properties.</span></span>
-   <span data-ttu-id="58d54-159">[**ID3D12Heap:: GetDesc**](id3d12heap-getdesc.md) Obtém as propriedades de heap.</span><span class="sxs-lookup"><span data-stu-id="58d54-159">[**ID3D12Heap::GetDesc**](id3d12heap-getdesc.md) gets the heap properties.</span></span>
-   <span data-ttu-id="58d54-160">[**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) : Copia dados de uma textura que foi mapeada usando [**MAP**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span><span class="sxs-lookup"><span data-stu-id="58d54-160">[**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) : copies data from a texture which was mapped using [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span></span>
-   <span data-ttu-id="58d54-161">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) : Copia dados em uma textura que foi mapeada usando [**MAP**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span><span class="sxs-lookup"><span data-stu-id="58d54-161">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) : copies data into a texture which was mapped using [**Map**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-map).</span></span>

<span data-ttu-id="58d54-162">Os recursos e os heaps pai têm requisitos de alinhamento:</span><span class="sxs-lookup"><span data-stu-id="58d54-162">Resources and parent heaps have alignment requirements:</span></span>

-   <span data-ttu-id="58d54-163">D3D12 \_ o \_ \_ \_ \_ alinhamento de posicionamento de recursos de MSAA padrão (4MB) para texturas com várias amostras.</span><span class="sxs-lookup"><span data-stu-id="58d54-163">D3D12\_DEFAULT\_MSAA\_RESOURCE\_PLACEMENT\_ALIGNMENT (4MB) for multi-sample textures.</span></span>
-   <span data-ttu-id="58d54-164">D3D12 \_ o \_ \_ \_ alinhamento de posicionamento de recursos padrão (64 KB) para texturas e buffers de amostra única.</span><span class="sxs-lookup"><span data-stu-id="58d54-164">D3D12\_DEFAULT\_RESOURCE\_PLACEMENT\_ALIGNMENT (64KB) for single sample textures and buffers.</span></span>
-   <span data-ttu-id="58d54-165">A cópia linear de subrecurso deve estar alinhada ao \_ alinhamento de posicionamento de dados de textura D3D12 \_ \_ \_ (512 bytes), com densidade de linha alinhada ao \_ alinhamento de densidade de dados de textura D3D12 \_ \_ \_ (256 bytes).</span><span class="sxs-lookup"><span data-stu-id="58d54-165">Linear subresource copying must be aligned to D3D12\_TEXTURE\_DATA\_PLACEMENT\_ALIGNMENT (512 bytes), with row pitch being aligned to D3D12\_TEXTURE\_DATA\_PITCH\_ALIGNMENT (256 bytes).</span></span>
-   <span data-ttu-id="58d54-166">As exibições de buffer de constantes devem estar alinhadas ao \_ \_ alinhamento de posicionamento de dados do buffer de constante D3D12 \_ \_ \_ (256 bytes).</span><span class="sxs-lookup"><span data-stu-id="58d54-166">Constant buffer views must be aligned to D3D12\_CONSTANT\_BUFFER\_DATA\_PLACEMENT\_ALIGNMENT (256 bytes).</span></span>

<span data-ttu-id="58d54-167">As texturas menores que 64 KB devem ser processadas por meio de [**CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource).</span><span class="sxs-lookup"><span data-stu-id="58d54-167">Textures smaller than 64KB should be processed through [**CreateCommittedResource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12device-createcommittedresource).</span></span>

<span data-ttu-id="58d54-168">Com texturas dinâmicas (texturas que alteram cada quadro), a CPU gravará linearmente no heap de carregamento, seguida por uma operação de cópia de GPU.</span><span class="sxs-lookup"><span data-stu-id="58d54-168">With dynamic textures (textures that change every frame) the CPU will write linearly to the upload heap, followed by a GPU copy operation.</span></span>

<span data-ttu-id="58d54-169">Normalmente, para criar recursos dinâmicos, crie um buffer grande em um heap de carregamento (consulte [subalocação em buffers](large-buffers.md)).</span><span class="sxs-lookup"><span data-stu-id="58d54-169">Typically to create dynamic resources create a large buffer in an upload heap (refer to [Suballocation Within Buffers](large-buffers.md)).</span></span> <span data-ttu-id="58d54-170">Para criar recursos de preparo, crie um buffer grande em um heap readback.</span><span class="sxs-lookup"><span data-stu-id="58d54-170">To create staging resources, create a large buffer in a readback heap.</span></span> <span data-ttu-id="58d54-171">Para criar recursos estáticos padrão, crie recursos adjacentes em um heap padrão.</span><span class="sxs-lookup"><span data-stu-id="58d54-171">To create default static resources, create adjacent resources in a default heap.</span></span> <span data-ttu-id="58d54-172">Para criar recursos com alias padrão, crie recursos sobrepostos em um heap padrão.</span><span class="sxs-lookup"><span data-stu-id="58d54-172">To create default aliased resources, create overlapping resources in a default heap.</span></span>

<span data-ttu-id="58d54-173">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) e [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) reorganizam dados de textura entre um layout de linha-principal e um layout de recurso indefinido.</span><span class="sxs-lookup"><span data-stu-id="58d54-173">[**WriteToSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-writetosubresource) and [**ReadFromSubresource**](/windows/desktop/api/d3d12/nf-d3d12-id3d12resource-readfromsubresource) rearrange texture data between a row-major layout and an undefined resource layout.</span></span> <span data-ttu-id="58d54-174">A operação é síncrona, portanto, o aplicativo deve manter o agendamento da CPU em mente.</span><span class="sxs-lookup"><span data-stu-id="58d54-174">The operation is synchronous, so the application should keep CPU scheduling in mind.</span></span> <span data-ttu-id="58d54-175">O aplicativo sempre pode dividir a cópia em regiões menores ou agendar essa operação em outra tarefa.</span><span class="sxs-lookup"><span data-stu-id="58d54-175">The application can always break up the copying into smaller regions or schedule this operation in another task.</span></span> <span data-ttu-id="58d54-176">Recursos de MSAA e recursos de estêncil de profundidade com layouts de recursos opacos não são suportados por essas operações de cópia de CPU e causarão uma falha.</span><span class="sxs-lookup"><span data-stu-id="58d54-176">MSAA resources and depth-stencil resources with opaque resource layouts are not supported by these CPU copy operations, and will cause a failure.</span></span> <span data-ttu-id="58d54-177">Os formatos que não têm um tamanho de elemento de energia de dois também não têm suporte e também causarão uma falha.</span><span class="sxs-lookup"><span data-stu-id="58d54-177">Formats which don’t have a power-of-two element size are also not supported and will also cause a failure.</span></span> <span data-ttu-id="58d54-178">Podem ocorrer códigos de retorno de memória insuficiente.</span><span class="sxs-lookup"><span data-stu-id="58d54-178">Out of memory return codes can occur.</span></span>

## <a name="related-topics"></a><span data-ttu-id="58d54-179">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="58d54-179">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="58d54-180">**Principais constantes**</span><span class="sxs-lookup"><span data-stu-id="58d54-180">**Core Constants**</span></span>](constants.md)
</dt> <dt>

[<span data-ttu-id="58d54-181">**ID3D12Heap**</span><span class="sxs-lookup"><span data-stu-id="58d54-181">**ID3D12Heap**</span></span>](/windows/desktop/api/d3d12/nn-d3d12-id3d12heap)
</dt> <dt>

[<span data-ttu-id="58d54-182">Associação de recursos</span><span class="sxs-lookup"><span data-stu-id="58d54-182">Resource Binding</span></span>](resource-binding.md)
</dt> </dl>

 

 




