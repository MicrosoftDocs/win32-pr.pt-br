---
title: Visão geral das assinaturas raiz
description: Uma assinatura de raiz é configurada pelas listas de comandos de aplicativo e links para os recursos que os sombreadores precisam.
ms.assetid: 2E649DA2-6CAC-4C2A-A420-D4EC0DD6EA73
ms.localizationpriority: high
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 85eb5882e4a893c2933c55281f21c49f2d7d50d7
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104548275"
---
# <a name="root-signatures-overview"></a><span data-ttu-id="5fe06-103">Visão geral das assinaturas raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-103">Root Signatures Overview</span></span>

<span data-ttu-id="5fe06-104">Uma assinatura de raiz é configurada pelas listas de comandos de aplicativo e links para os recursos que os sombreadores precisam.</span><span class="sxs-lookup"><span data-stu-id="5fe06-104">A root signature is configured by the app and links command lists to the resources the shaders require.</span></span> <span data-ttu-id="5fe06-105">A lista de comandos de gráficos tem uma assinatura de raiz de computação e de elementos gráficos.</span><span class="sxs-lookup"><span data-stu-id="5fe06-105">The graphics command list has both a graphics and compute root signature.</span></span> <span data-ttu-id="5fe06-106">Uma lista de comandos de computação terá apenas uma assinatura de raiz de computação.</span><span class="sxs-lookup"><span data-stu-id="5fe06-106">A compute command list will simply have one compute root signature.</span></span> <span data-ttu-id="5fe06-107">Essas assinaturas raiz são independentes umas das outras.</span><span class="sxs-lookup"><span data-stu-id="5fe06-107">These root signatures are independent of each other.</span></span>

-   [<span data-ttu-id="5fe06-108">Parâmetros e argumentos raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-108">Root parameters and arguments</span></span>](#root-parameters-and-arguments)
-   [<span data-ttu-id="5fe06-109">Constantes, descritores e tabelas raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-109">Root constants, descriptors and tables</span></span>](#root-constants-descriptors-and-tables)
-   [<span data-ttu-id="5fe06-110">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5fe06-110">Related topics</span></span>](#related-topics)

## <a name="root-parameters-and-arguments"></a><span data-ttu-id="5fe06-111">Parâmetros e argumentos raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-111">Root parameters and arguments</span></span>

<span data-ttu-id="5fe06-112">Uma **assinatura de raiz** é semelhante a uma assinatura de função de API, ela determina os tipos de dados que os sombreadores devem esperar, mas não define a memória ou os dados reais.</span><span class="sxs-lookup"><span data-stu-id="5fe06-112">A **root signature** is similar to an API function signature, it determines the types of data the shaders should expect, but does not define the actual memory or data.</span></span> <span data-ttu-id="5fe06-113">Um **parâmetro raiz** é uma entrada na assinatura raiz.</span><span class="sxs-lookup"><span data-stu-id="5fe06-113">A **root parameter** is one entry in the root signature.</span></span> <span data-ttu-id="5fe06-114">Os valores reais dos parâmetros raiz definidos e alterados em tempo de execução são chamados de **argumentos raiz**.</span><span class="sxs-lookup"><span data-stu-id="5fe06-114">The actual values of root parameters set and changed at runtime are called **root arguments**.</span></span> <span data-ttu-id="5fe06-115">A alteração dos argumentos raiz altera os dados lidos pelos sombreadores.</span><span class="sxs-lookup"><span data-stu-id="5fe06-115">Changing the root arguments changes the data that the shaders read.</span></span>

## <a name="root-constants-descriptors-and-tables"></a><span data-ttu-id="5fe06-116">Constantes, descritores e tabelas raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-116">Root constants, descriptors and tables</span></span>

<span data-ttu-id="5fe06-117">A assinatura raiz pode conter três tipos de parâmetros; constantes raiz (constantes embutidas nos argumentos raiz), descritores de raiz (descritores embutidos nos argumentos raiz) e tabelas de descrição (ponteiros para um intervalo de descritores no heap de descrição).</span><span class="sxs-lookup"><span data-stu-id="5fe06-117">The root signature can contain three types of parameters; root constants (constants inlined in the root arguments), root descriptors (descriptors inlined in the root arguments), and descriptor tables (pointers to a range of descriptors in the descriptor heap).</span></span>

<span data-ttu-id="5fe06-118">As constantes raiz são valores embutidos de 32 bits que aparecem no sombreador como um buffer constante.</span><span class="sxs-lookup"><span data-stu-id="5fe06-118">The root constants are inline 32-bit values that show up in the shader as a constant buffer.</span></span>

<span data-ttu-id="5fe06-119">Os descritores raiz embutidos devem conter descritores que são acessados com mais frequência, porém são limitados a CBVs e buffers UAV ou de servidor brutos ou estruturados.</span><span class="sxs-lookup"><span data-stu-id="5fe06-119">The inlined root descriptors should contain descriptors that are accessed most often, though is limited to CBVs, and raw or structured UAV or SRV buffers.</span></span> <span data-ttu-id="5fe06-120">Um tipo mais complexo, como uma textura de 2D SRV, não pode ser usado como um descritor de raiz.</span><span class="sxs-lookup"><span data-stu-id="5fe06-120">A more complex type, such as a 2D texture SRV, cannot be used as a root descriptor.</span></span> <span data-ttu-id="5fe06-121">Os descritores raiz não incluem um limite de tamanho, portanto, não pode haver nenhuma verificação de limite fora de limites, ao contrário dos descritores de heaps, que incluem um tamanho.</span><span class="sxs-lookup"><span data-stu-id="5fe06-121">Root descriptors do not include a size limit, so there can be no out-of-bounds checking, unlike descriptors in descriptor heaps, which do include a size.</span></span>

<span data-ttu-id="5fe06-122">As entradas da tabela de descritores dentro das assinaturas raiz contêm o descritor, o nome de associação do sombreador HLSL e o sinalizador de</span><span class="sxs-lookup"><span data-stu-id="5fe06-122">Descriptor table entries within root signatures contain the descriptor, HLSL shader bind name and visibility flag.</span></span> <span data-ttu-id="5fe06-123">Consulte o [modelo do sombreador 5,1](/windows/desktop/direct3dhlsl/shader-model-5-1) para obter detalhes de nomes de sombreador.</span><span class="sxs-lookup"><span data-stu-id="5fe06-123">Refer to [Shader Model 5.1](/windows/desktop/direct3dhlsl/shader-model-5-1) for details of shader names.</span></span> <span data-ttu-id="5fe06-124">Em alguns hardwares, pode haver um lucro de desempenho apenas para tornar os descritores visíveis para os estágios do sombreador que os exigem (consulte a [**\_ \_ visibilidade do sombreador D3D12**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span><span class="sxs-lookup"><span data-stu-id="5fe06-124">On some hardware, there can be a performance gain from only making descriptors visible to the shader stages that require them (refer to [**D3D12\_SHADER\_VISIBILITY**](/windows/desktop/api/d3d12/ne-d3d12-d3d12_shader_visibility)).</span></span>

![entrada da tabela do descritor raiz](images/root-descriptor-table.png)

<span data-ttu-id="5fe06-126">O layout da assinatura raiz é bastante flexível, com algumas restrições impostas em hardwares com menos capacidade.</span><span class="sxs-lookup"><span data-stu-id="5fe06-126">The layout of the root signature is quite flexible, with some constraints imposed on less capable hardware.</span></span> <span data-ttu-id="5fe06-127">Independentemente do nível de hardware, os aplicativos sempre devem tentar tornar a assinatura raiz tão pequena quanto necessária para máxima eficiência.</span><span class="sxs-lookup"><span data-stu-id="5fe06-127">Regardless of the level of hardware, applications should always try to make the root signature as small as needed for maximum efficiency.</span></span> <span data-ttu-id="5fe06-128">Os aplicativos podem compensar mais tabelas de descritores na assinatura raiz, mas menos espaço para as constantes raiz, ou vice-versa.</span><span class="sxs-lookup"><span data-stu-id="5fe06-128">Applications can trade off having more descriptor tables in the root signature but less room for root constants, or vice versa.</span></span>

<span data-ttu-id="5fe06-129">O conteúdo da assinatura raiz (as tabelas de descritores, as constantes raiz e os descritores raiz) que o aplicativo tem associado recebe controle de versão automaticamente pelo driver D3D12 sempre que qualquer parte do conteúdo é alterada entre chamadas de/dispatch (computação) de desenho (gráfico).</span><span class="sxs-lookup"><span data-stu-id="5fe06-129">The contents of the root signature (the descriptor tables, root constants and root descriptors) that the application has bound automatically get versioned by the D3D12 driver whenever any part of the contents change between draw (graphics)/dispatch (compute) calls.</span></span> <span data-ttu-id="5fe06-130">Portanto, cada empate/expedição Obtém um conjunto completo exclusivo de estado de assinatura raiz.</span><span class="sxs-lookup"><span data-stu-id="5fe06-130">So each draw/dispatch gets a unique full set of root signature state.</span></span>

<span data-ttu-id="5fe06-131">O ideal é que existam grupos de PSOs (objetos de estado de pipeline) que compartilham a mesma assinatura raiz.</span><span class="sxs-lookup"><span data-stu-id="5fe06-131">Ideally, there are groups of Pipeline State Objects (PSOs) that share the same root signature.</span></span> <span data-ttu-id="5fe06-132">Depois que uma assinatura de raiz é definida no pipeline, todas as associações que ele define (tabelas de descritores, descriprs, constantes) podem ser definidas ou alteradas individualmente, incluindo a herança em grupos.</span><span class="sxs-lookup"><span data-stu-id="5fe06-132">After a root signature is set on the pipeline, all the bindings that it defines (descriptor tables, descriptors, constants) can each be individually set or changed, including inheritance into bundles.</span></span>

<span data-ttu-id="5fe06-133">Um aplicativo pode fazer sua própria compensação entre a quantidade de tabelas de descritores que desejam criar descritores embutidos (que levam mais espaço, mas removem um indireção), que são constantes embutidas (que não têm nenhum indireção) que desejam na assinatura raiz.</span><span class="sxs-lookup"><span data-stu-id="5fe06-133">An app can make its own tradeoff between how many descriptor tables it wants verses inline descriptors (which take more space but remove an indirection) verses inline constants (which have no indirection) they want in the root signature.</span></span> <span data-ttu-id="5fe06-134">Os aplicativos devem usar a assinatura raiz da maneira mais moderada possível, dependendo da memória controlada pelo aplicativo, como heaps e heaps de descritores que apontam para representar dados em massa.</span><span class="sxs-lookup"><span data-stu-id="5fe06-134">Applications should use the root signature as sparingly as possible, relying on application controlled memory such as heaps and descriptor heaps pointing into them to represent bulk data.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5fe06-135">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5fe06-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5fe06-136">Assinaturas raiz</span><span class="sxs-lookup"><span data-stu-id="5fe06-136">Root Signatures</span></span>](root-signatures.md)
</dt> </dl>

 

 