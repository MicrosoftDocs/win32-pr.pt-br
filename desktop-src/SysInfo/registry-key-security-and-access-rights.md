---
description: O modelo de segurança do Windows permite controlar o acesso às chaves do registro. Para obter mais informações sobre segurança, consulte modelo de Access-Control.
ms.assetid: 266d5c8e-1bcd-48e5-bc06-2fbc956d8658
title: Segurança da chave do registro e direitos de acesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 73c80f21d296a88425024745d7442847a187cd43
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105755531"
---
# <a name="registry-key-security-and-access-rights"></a><span data-ttu-id="f30b2-104">Segurança da chave do registro e direitos de acesso</span><span class="sxs-lookup"><span data-stu-id="f30b2-104">Registry Key Security and Access Rights</span></span>

<span data-ttu-id="f30b2-105">O modelo de segurança do Windows permite controlar o acesso às chaves do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-105">The Windows security model enables you to control access to registry keys.</span></span> <span data-ttu-id="f30b2-106">Para obter mais informações sobre segurança, consulte [modelo de controle de acesso](/windows/desktop/SecAuthZ/access-control-model).</span><span class="sxs-lookup"><span data-stu-id="f30b2-106">For more information about security, see [Access-Control Model](/windows/desktop/SecAuthZ/access-control-model).</span></span>

<span data-ttu-id="f30b2-107">Você pode especificar um [descritor de segurança](/windows/desktop/SecAuthZ/security-descriptors) para uma chave do registro ao chamar a função [**RegCreateKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regcreatekeyexa) ou [**RegSetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-regsetkeysecurity) .</span><span class="sxs-lookup"><span data-stu-id="f30b2-107">You can specify a [security descriptor](/windows/desktop/SecAuthZ/security-descriptors) for a registry key when you call the [**RegCreateKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regcreatekeyexa) or [**RegSetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-regsetkeysecurity) function.</span></span> <span data-ttu-id="f30b2-108">Se você especificar **NULL**, a chave obterá um descritor de segurança padrão.</span><span class="sxs-lookup"><span data-stu-id="f30b2-108">If you specify **NULL**, the key gets a default security descriptor.</span></span> <span data-ttu-id="f30b2-109">As ACLs em um descritor de segurança padrão para uma chave são herdadas de sua chave pai direta.</span><span class="sxs-lookup"><span data-stu-id="f30b2-109">The ACLs in a default security descriptor for a key are inherited from its direct parent key.</span></span>

<span data-ttu-id="f30b2-110">Para obter o descritor de segurança de uma chave do registro, chame a função [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity), [**GetNamedSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getnamedsecurityinfoa)ou [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="f30b2-110">To get the security descriptor of a registry key, call the [**RegGetKeySecurity**](/windows/desktop/api/winreg/nf-winreg-reggetkeysecurity), [**GetNamedSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getnamedsecurityinfoa), or [**GetSecurityInfo**](/windows/desktop/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span>

<span data-ttu-id="f30b2-111">Os direitos de acesso válidos para chaves do registro incluem os direitos de acesso padrão de excluir, \_ controle de leitura, gravar \_ DAC e gravar \_ proprietário. [](/windows/desktop/SecAuthZ/standard-access-rights)</span><span class="sxs-lookup"><span data-stu-id="f30b2-111">The valid access rights for registry keys include the DELETE, READ\_CONTROL, WRITE\_DAC, and WRITE\_OWNER [standard access rights](/windows/desktop/SecAuthZ/standard-access-rights).</span></span> <span data-ttu-id="f30b2-112">As chaves do registro não dão suporte ao direito de sincronização de acesso padrão.</span><span class="sxs-lookup"><span data-stu-id="f30b2-112">Registry keys do not support the SYNCHRONIZE standard access right.</span></span>

<span data-ttu-id="f30b2-113">A tabela a seguir lista os direitos de acesso específicos para objetos de chave do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-113">The following table lists the specific access rights for registry key objects.</span></span>



| <span data-ttu-id="f30b2-114">Valor</span><span class="sxs-lookup"><span data-stu-id="f30b2-114">Value</span></span>                                         | <span data-ttu-id="f30b2-115">Significado</span><span class="sxs-lookup"><span data-stu-id="f30b2-115">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|-----------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f30b2-116">CHAVE \_ All \_ Access (0xF003F)</span><span class="sxs-lookup"><span data-stu-id="f30b2-116">KEY\_ALL\_ACCESS (0xF003F)</span></span><br/>         | <span data-ttu-id="f30b2-117">Combina os \_ direitos padrão \_ necessários, o \_ valor da consulta \_ de chave, o valor do \_ conjunto de chaves, a chave de criação de \_ chaves, a chave \_ \_ \_ \_ enumerar chaves, a notificação de \_ \_ chave e os direitos de acesso de link de \_ \_ criação \_ de chave.</span><span class="sxs-lookup"><span data-stu-id="f30b2-117">Combines the STANDARD\_RIGHTS\_REQUIRED, KEY\_QUERY\_VALUE, KEY\_SET\_VALUE, KEY\_CREATE\_SUB\_KEY, KEY\_ENUMERATE\_SUB\_KEYS, KEY\_NOTIFY, and KEY\_CREATE\_LINK access rights.</span></span><br/>                                                                                                                                                                                                                                                                           |
| <span data-ttu-id="f30b2-118">\_ \_ Link de criação de chave (0x0020)</span><span class="sxs-lookup"><span data-stu-id="f30b2-118">KEY\_CREATE\_LINK (0x0020)</span></span><br/>         | <span data-ttu-id="f30b2-119">Reservado para uso do sistema.</span><span class="sxs-lookup"><span data-stu-id="f30b2-119">Reserved for system use.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="f30b2-120">Chave \_ Create \_ Key \_ (0x0004)</span><span class="sxs-lookup"><span data-stu-id="f30b2-120">KEY\_CREATE\_SUB\_KEY (0x0004)</span></span><br/>     | <span data-ttu-id="f30b2-121">Necessário para criar uma subchave de uma chave do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-121">Required to create a subkey of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span data-ttu-id="f30b2-122">Chaves \_ \_ de enumeração \_ de chave (0x0008)</span><span class="sxs-lookup"><span data-stu-id="f30b2-122">KEY\_ENUMERATE\_SUB\_KEYS (0x0008)</span></span><br/> | <span data-ttu-id="f30b2-123">Necessário para enumerar as subchaves de uma chave do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-123">Required to enumerate the subkeys of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="f30b2-124">\_Execução de chave (0x20019)</span><span class="sxs-lookup"><span data-stu-id="f30b2-124">KEY\_EXECUTE (0x20019)</span></span><br/>             | <span data-ttu-id="f30b2-125">Equivalente à leitura de chave \_ .</span><span class="sxs-lookup"><span data-stu-id="f30b2-125">Equivalent to KEY\_READ.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| <span data-ttu-id="f30b2-126">\_Notificação de chave (0x0010)</span><span class="sxs-lookup"><span data-stu-id="f30b2-126">KEY\_NOTIFY (0x0010)</span></span><br/>               | <span data-ttu-id="f30b2-127">Necessário para solicitar notificações de alteração para uma chave do registro ou para subchaves de uma chave do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-127">Required to request change notifications for a registry key or for subkeys of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                              |
| <span data-ttu-id="f30b2-128">\_ \_ Valor de consulta de chave (0x0001)</span><span class="sxs-lookup"><span data-stu-id="f30b2-128">KEY\_QUERY\_VALUE (0x0001)</span></span><br/>         | <span data-ttu-id="f30b2-129">Necessário para consultar os valores de uma chave do registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-129">Required to query the values of a registry key.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="f30b2-130">\_Leitura de chave (0x20019)</span><span class="sxs-lookup"><span data-stu-id="f30b2-130">KEY\_READ (0x20019)</span></span><br/>                | <span data-ttu-id="f30b2-131">Combina os \_ direitos padrão \_ lidos, \_ valor da consulta \_ de chave, \_ sub chaves enumerar chave \_ \_ e valores de notificação de chave \_ .</span><span class="sxs-lookup"><span data-stu-id="f30b2-131">Combines the STANDARD\_RIGHTS\_READ, KEY\_QUERY\_VALUE, KEY\_ENUMERATE\_SUB\_KEYS, and KEY\_NOTIFY values.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="f30b2-132">\_ \_ Valor do conjunto de chaves (0x0002)</span><span class="sxs-lookup"><span data-stu-id="f30b2-132">KEY\_SET\_VALUE (0x0002)</span></span><br/>           | <span data-ttu-id="f30b2-133">Necessário para criar, excluir ou definir um valor de registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-133">Required to create, delete, or set a registry value.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span data-ttu-id="f30b2-134">CHAVE \_ \_ 32KEY de WOW64 (0x0200)</span><span class="sxs-lookup"><span data-stu-id="f30b2-134">KEY\_WOW64\_32KEY (0x0200)</span></span><br/>         | <span data-ttu-id="f30b2-135">Indica que um aplicativo no Windows de 64 bits deve operar na exibição de registro de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="f30b2-135">Indicates that an application on 64-bit Windows should operate on the 32-bit registry view.</span></span> <span data-ttu-id="f30b2-136">Esse sinalizador é ignorado por janelas de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="f30b2-136">This flag is ignored by 32-bit Windows.</span></span> <span data-ttu-id="f30b2-137">Para obter mais informações, consulte [acessando uma exibição de registro alternativa](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span><span class="sxs-lookup"><span data-stu-id="f30b2-137">For more information, see [Accessing an Alternate Registry View](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span></span><br/> <span data-ttu-id="f30b2-138">Esse sinalizador deve ser combinado usando o operador OR com os outros sinalizadores nesta tabela que consultam ou acessam valores de registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-138">This flag must be combined using the OR operator with the other flags in this table that either query or access registry values.</span></span><br/> <span data-ttu-id="f30b2-139">**Windows 2000:** Não há suporte para esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="f30b2-139">**Windows 2000:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="f30b2-140">CHAVE \_ \_ 64KEY de WOW64 (0x0100)</span><span class="sxs-lookup"><span data-stu-id="f30b2-140">KEY\_WOW64\_64KEY (0x0100)</span></span><br/>         | <span data-ttu-id="f30b2-141">Indica que um aplicativo no Windows de 64 bits deve operar na exibição de registro de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="f30b2-141">Indicates that an application on 64-bit Windows should operate on the 64-bit registry view.</span></span> <span data-ttu-id="f30b2-142">Esse sinalizador é ignorado por janelas de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="f30b2-142">This flag is ignored by 32-bit Windows.</span></span> <span data-ttu-id="f30b2-143">Para obter mais informações, consulte [acessando uma exibição de registro alternativa](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span><span class="sxs-lookup"><span data-stu-id="f30b2-143">For more information, see [Accessing an Alternate Registry View](/windows/desktop/WinProg64/accessing-an-alternate-registry-view).</span></span><br/> <span data-ttu-id="f30b2-144">Esse sinalizador deve ser combinado usando o operador OR com os outros sinalizadores nesta tabela que consultam ou acessam valores de registro.</span><span class="sxs-lookup"><span data-stu-id="f30b2-144">This flag must be combined using the OR operator with the other flags in this table that either query or access registry values.</span></span><br/> <span data-ttu-id="f30b2-145">**Windows 2000:** Não há suporte para esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="f30b2-145">**Windows 2000:** This flag is not supported.</span></span><br/> |
| <span data-ttu-id="f30b2-146">\_Gravação de chave (0x20006)</span><span class="sxs-lookup"><span data-stu-id="f30b2-146">KEY\_WRITE (0x20006)</span></span><br/>               | <span data-ttu-id="f30b2-147">Combina os \_ direitos de gravação de direitos padrão \_ , valor do \_ conjunto de chaves \_ e direito de acesso de \_ \_ subchave de criação de chave \_ .</span><span class="sxs-lookup"><span data-stu-id="f30b2-147">Combines the STANDARD\_RIGHTS\_WRITE, KEY\_SET\_VALUE, and KEY\_CREATE\_SUB\_KEY access rights.</span></span><br/>                                                                                                                                                                                                                                                                                                                                                            |



 

<span data-ttu-id="f30b2-148">Quando você chama a função [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) , o sistema verifica os direitos de acesso solicitados em relação ao descritor de segurança da chave.</span><span class="sxs-lookup"><span data-stu-id="f30b2-148">When you call the [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) function, the system checks the requested access rights against the key's security descriptor.</span></span> <span data-ttu-id="f30b2-149">Se o usuário não tiver o acesso correto à chave do registro, a operação de abertura falhará.</span><span class="sxs-lookup"><span data-stu-id="f30b2-149">If the user does not have the correct access to the registry key, the open operation fails.</span></span> <span data-ttu-id="f30b2-150">Se um administrador precisar de acesso à chave, a solução será habilitar o privilégio SE \_ escolher \_ nome de propriedade \_ e abrir a chave do registro com \_ acesso de proprietário de gravação.</span><span class="sxs-lookup"><span data-stu-id="f30b2-150">If an administrator needs access to the key, the solution is to enable the SE\_TAKE\_OWNERSHIP\_NAME privilege and open the registry key with WRITE\_OWNER access.</span></span> <span data-ttu-id="f30b2-151">Para obter mais informações, consulte [Habilitando e desabilitando privilégios](/windows/desktop/SecAuthZ/enabling-and-disabling-privileges-in-c--).</span><span class="sxs-lookup"><span data-stu-id="f30b2-151">For more information, see [Enabling and Disabling Privileges](/windows/desktop/SecAuthZ/enabling-and-disabling-privileges-in-c--).</span></span>

<span data-ttu-id="f30b2-152">Você pode solicitar o direito de acesso de segurança do sistema de acesso \_ \_ a uma chave do registro se quiser ler ou gravar a SACL (lista de controle de acesso) do sistema da chave.</span><span class="sxs-lookup"><span data-stu-id="f30b2-152">You can request the ACCESS\_SYSTEM\_SECURITY access right to a registry key if you want to read or write the key's system access control list (SACL).</span></span> <span data-ttu-id="f30b2-153">Para obter mais informações, consulte [listas de controle de acesso (ACLs)](/windows/desktop/SecAuthZ/access-control-lists) e [direito de acesso SACL](/windows/desktop/SecAuthZ/sacl-access-right).</span><span class="sxs-lookup"><span data-stu-id="f30b2-153">For more information, see [Access-Control Lists (ACLs)](/windows/desktop/SecAuthZ/access-control-lists) and [SACL Access Right](/windows/desktop/SecAuthZ/sacl-access-right).</span></span>

<span data-ttu-id="f30b2-154">Para exibir os direitos de acesso atuais de uma chave, incluindo as chaves predefinidas, use o editor do registro (Regedt32.exe).</span><span class="sxs-lookup"><span data-stu-id="f30b2-154">To view the current access rights for a key, including the predefined keys, use the Registry Editor (Regedt32.exe).</span></span> <span data-ttu-id="f30b2-155">Depois de navegar para a chave desejada, vá para o menu **Editar** e selecione **permissões**.</span><span class="sxs-lookup"><span data-stu-id="f30b2-155">After navigating to the desired key, go to the **Edit** menu and select **Permissions**.</span></span>

 

