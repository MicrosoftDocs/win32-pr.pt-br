---
description: Enquanto o sistema usa o tempo baseado em UTC internamente, seus aplicativos geralmente exibem a hora local, que é a data e hora do dia para o fuso horário.
ms.assetid: a6570ec5-ac77-427a-86d9-32cbecc62e37
title: Hora local
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: c60eb9ca53245a12eba1bc0096b522eae97de75a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103827327"
---
# <a name="local-time"></a><span data-ttu-id="2fb3f-103">Hora local</span><span class="sxs-lookup"><span data-stu-id="2fb3f-103">Local Time</span></span>

<span data-ttu-id="2fb3f-104">Enquanto o sistema usa o tempo baseado em UTC internamente, seus aplicativos geralmente exibem a **hora local**, que é a data e hora do dia para o fuso horário.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-104">While the system uses UTC-based time internally, your applications will generally display the **local time**, which is the date and time of day for your time zone.</span></span> <span data-ttu-id="2fb3f-105">Portanto, para garantir os resultados corretos, você deve estar ciente se uma função espera receber uma hora baseada em UTC ou uma hora local, e se a função retorna um horário baseado em UTC ou uma hora local.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-105">Therefore, to ensure correct results, you must be aware of whether a function expects to receive a UTC-based time or a local time, and whether the function returns a UTC-based time or a local time.</span></span>

<span data-ttu-id="2fb3f-106">As configurações atuais de fuso horário controlam como o sistema é convertido entre o UTC e a hora local.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-106">The current time-zone settings control how the system converts between UTC and local time.</span></span> <span data-ttu-id="2fb3f-107">Você pode recuperar as configurações de fuso horário atuais usando a função [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-107">You can retrieve the current time-zone settings by using the [**GetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformation) function.</span></span> <span data-ttu-id="2fb3f-108">A função copia o resultado para uma estrutura de [**\_ \_ informações de fuso horário**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) e retorna um valor que indica se a hora local está atualmente em horário padrão ou horário de Verão (DST).</span><span class="sxs-lookup"><span data-stu-id="2fb3f-108">The function copies the result to a [**TIME\_ZONE\_INFORMATION**](/windows/win32/api/timezoneapi/ns-timezoneapi-time_zone_information) structure and returns a value indicating whether local time is currently in standard time or daylight saving time (DST).</span></span> <span data-ttu-id="2fb3f-109">Você pode definir as configurações de fuso horário usando a função [**SetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-109">You can set the time-zone settings by using the [**SetTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-settimezoneinformation) function.</span></span> <span data-ttu-id="2fb3f-110">Para dar suporte a limites para o horário de verão que mudam de ano para ano, use as funções [**GetTimeZoneInformationForYear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**GetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) e [**SetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-110">To support boundaries for daylight saving time that change from year to year, use the [**GetTimeZoneInformationForYear**](/windows/win32/api/timezoneapi/nf-timezoneapi-gettimezoneinformationforyear), [**GetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-getdynamictimezoneinformation) and [**SetDynamicTimeZoneInformation**](/windows/win32/api/timezoneapi/nf-timezoneapi-setdynamictimezoneinformation) functions.</span></span>

<span data-ttu-id="2fb3f-111">Para recuperar a hora local, use a função [**GetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-111">To retrieve the local time, use the [**GetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-getlocaltime) function.</span></span> <span data-ttu-id="2fb3f-112">**GetLocalTime** converte a hora do sistema em uma hora local com base nas configurações atuais de fuso horário e copia o resultado para uma estrutura [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-112">**GetLocalTime** converts the system time to a local time based on the current time-zone settings and copies the result to a [**SYSTEMTIME**](/windows/win32/api/minwinbase/ns-minwinbase-systemtime) structure.</span></span> <span data-ttu-id="2fb3f-113">Você pode definir a hora do sistema usando a função [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-113">You can set the system time by using the [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime) function.</span></span> <span data-ttu-id="2fb3f-114">**SetLocalTime** pressupõe que você especificou uma hora local e se converte em UTC antes de definir a hora do sistema.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-114">**SetLocalTime** assumes you have specified a local time and converts to UTC before setting the system time.</span></span>

<span data-ttu-id="2fb3f-115">Quando você chama [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime), o sistema usa as informações de fuso horário atuais, incluindo a configuração horário de verão, para executar a conversão.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-115">When you call [**SetLocalTime**](/windows/win32/api/sysinfoapi/nf-sysinfoapi-setlocaltime), the system uses the current time zone information, including the daylight saving time setting, to perform the conversion.</span></span> <span data-ttu-id="2fb3f-116">Observe que o sistema usa a configuração horário de Verão da hora atual, não a nova hora que você está definindo.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-116">Note that the system uses the daylight saving time setting of the current time, not the new time you are setting.</span></span> <span data-ttu-id="2fb3f-117">Portanto, para garantir o resultado correto, chame **SetLocalTime** uma segunda vez, agora que a primeira chamada atualizou a configuração do horário de verão.</span><span class="sxs-lookup"><span data-stu-id="2fb3f-117">Therefore, to ensure the correct result, call **SetLocalTime** a second time, now that the first call has updated the daylight saving time setting.</span></span>

<span data-ttu-id="2fb3f-118">Para converter uma hora baseada em UTC em uma hora local, use a função [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-118">To convert a UTC-based time to a local time, use the [**SystemTimeToTzSpecificLocalTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-systemtimetotzspecificlocaltime) function.</span></span> <span data-ttu-id="2fb3f-119">Para converter uma hora local em um horário baseado em UTC, use a função [**TzSpecificLocalTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) .</span><span class="sxs-lookup"><span data-stu-id="2fb3f-119">To convert a local time to a UTC-based time, use the [**TzSpecificLocalTimeToSystemTime**](/windows/win32/api/timezoneapi/nf-timezoneapi-tzspecificlocaltimetosystemtime) function.</span></span>

 

 
