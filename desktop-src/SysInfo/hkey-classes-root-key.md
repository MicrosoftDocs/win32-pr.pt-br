---
description: A \_ chave de \_ HKCR (raiz de classes hKey) contém associações de extensão de nome de arquivo e informações de registro de classe com, como ProgIDs, CLSIDs e IIDs. Ele destina-se principalmente à compatibilidade com o registro no Windows de 16 bits.
ms.assetid: b404875f-11e1-48f2-98d2-0378a0646ed3
title: Chave de HKEY_CLASSES_ROOT
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1e7aebe0e59424eb5ff7584fe61c2c5089eb887b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103836962"
---
# <a name="hkey_classes_root-key"></a><span data-ttu-id="80f80-104">Chave de raiz de \_ classes hKey \_</span><span class="sxs-lookup"><span data-stu-id="80f80-104">HKEY\_CLASSES\_ROOT Key</span></span>

<span data-ttu-id="80f80-105">A chave de **HKCR**( **\_ \_ raiz de classes hKey** ) contém associações de extensão de nome de arquivo e informações de registro de classe com, como [ProgIDs](../com/-progid--key.md), [CLSIDs](../com/clsid-key-hklm.md)e [IIDs](../com/interface-key.md).</span><span class="sxs-lookup"><span data-stu-id="80f80-105">The **HKEY\_CLASSES\_ROOT** (**HKCR**) key contains file name extension associations and COM class registration information such as [ProgIDs](../com/-progid--key.md), [CLSIDs](../com/clsid-key-hklm.md), and [IIDs](../com/interface-key.md).</span></span> <span data-ttu-id="80f80-106">Ele destina-se principalmente à compatibilidade com o registro no Windows de 16 bits.</span><span class="sxs-lookup"><span data-stu-id="80f80-106">It is primarily intended for compatibility with the registry in 16-bit Windows.</span></span>

<span data-ttu-id="80f80-107">As informações de registro de classe e extensão de nome de arquivo são armazenadas na **\_ \_ máquina local hKey** e nas chaves de **\_ \_ usuário atuais hKey** .</span><span class="sxs-lookup"><span data-stu-id="80f80-107">Class registration and file name extension information is stored under both the **HKEY\_LOCAL\_MACHINE** and **HKEY\_CURRENT\_USER** keys.</span></span> <span data-ttu-id="80f80-108">A chave **HKEY \_ local \_ Machine \\ software \\ classes** contém as configurações padrão que podem ser aplicadas a todos os usuários no computador local.</span><span class="sxs-lookup"><span data-stu-id="80f80-108">The **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key contains default settings that can apply to all users on the local computer.</span></span> <span data-ttu-id="80f80-109">A chave **HKEY \_ Current \_ user \\ software \\ classes** contém configurações que se aplicam somente ao usuário interativo.</span><span class="sxs-lookup"><span data-stu-id="80f80-109">The **HKEY\_CURRENT\_USER\\Software\\Classes** key contains settings that apply only to the interactive user.</span></span> <span data-ttu-id="80f80-110">A chave de **\_ \_ raiz de classes hKey** fornece uma exibição do registro que mescla as informações dessas duas fontes.</span><span class="sxs-lookup"><span data-stu-id="80f80-110">The **HKEY\_CLASSES\_ROOT** key provides a view of the registry that merges the information from these two sources.</span></span> <span data-ttu-id="80f80-111">**HKEY \_ A \_ raiz de classes** também fornece essa exibição mesclada para aplicativos projetados para versões anteriores do Windows.</span><span class="sxs-lookup"><span data-stu-id="80f80-111">**HKEY\_CLASSES\_ROOT** also provides this merged view for applications designed for previous versions of Windows.</span></span>

<span data-ttu-id="80f80-112">As configurações específicas do usuário têm prioridade sobre as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="80f80-112">The user-specific settings have priority over the default settings.</span></span> <span data-ttu-id="80f80-113">Por exemplo, a configuração padrão pode especificar um aplicativo específico para manipular arquivos. doc.</span><span class="sxs-lookup"><span data-stu-id="80f80-113">For example, the default setting might specify a particular application to handle .doc files.</span></span> <span data-ttu-id="80f80-114">Mas um usuário pode substituir essa configuração especificando um aplicativo diferente no registro.</span><span class="sxs-lookup"><span data-stu-id="80f80-114">But a user can override this setting by specifying a different application in the registry.</span></span>

<span data-ttu-id="80f80-115">Funções de registro como [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) ou [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) permitem que você especifique a chave de **\_ \_ raiz de classes hKey** .</span><span class="sxs-lookup"><span data-stu-id="80f80-115">Registry functions such as [**RegOpenKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regopenkeyexa) or [**RegQueryValueEx**](/windows/desktop/api/Winreg/nf-winreg-regqueryvalueexa) allow you to specify the **HKEY\_CLASSES\_ROOT** key.</span></span> <span data-ttu-id="80f80-116">Quando você chama essas funções de um processo em execução na conta de usuário interativo, o sistema mescla as configurações padrão em **HKEY \_ local \_ Machine \\ software \\ classes** com as configurações do usuário interativo em **HKEY \_ Current \_ user \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="80f80-116">When you call these functions from a process running in the interactive user account, the system merges the default settings in **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the interactive user's settings at **HKEY\_CURRENT\_USER\\Software\\Classes**.</span></span> <span data-ttu-id="80f80-117">Para obter mais informações sobre como essas configurações são mescladas, consulte [exibição mesclada da \_ \_ raiz de classes hKey](merged-view-of-hkey-classes-root.md).</span><span class="sxs-lookup"><span data-stu-id="80f80-117">For more information on how these settings are merged, see [Merged View of HKEY\_CLASSES\_ROOT](merged-view-of-hkey-classes-root.md).</span></span>

<span data-ttu-id="80f80-118">Para alterar as configurações do usuário interativo, armazene as alterações em **HKEY \_ Current \_ user \\ software \\ classes** , em vez de **HKEY \_ classes \_ root**.</span><span class="sxs-lookup"><span data-stu-id="80f80-118">To change the settings for the interactive user, store the changes under **HKEY\_CURRENT\_USER\\Software\\Classes** rather than **HKEY\_CLASSES\_ROOT**.</span></span>

<span data-ttu-id="80f80-119">Para alterar as configurações padrão, armazene as alterações em **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="80f80-119">To change the default settings, store the changes under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="80f80-120">Se você gravar chaves em uma chave na **\_ \_ raiz de classes hKey**, o sistema armazenará as informações em **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="80f80-120">If you write keys to a key under **HKEY\_CLASSES\_ROOT**, the system stores the information under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span> <span data-ttu-id="80f80-121">Se você gravar valores em uma chave na **\_ \_ raiz de classes hKey** e a chave já existir em **HKEY \_ Current \_ user \\ software \\ classes**, o sistema armazenará as informações em vez de em **HKEY \_ local \_ Machine \\ software \\ classes**.</span><span class="sxs-lookup"><span data-stu-id="80f80-121">If you write values to a key under **HKEY\_CLASSES\_ROOT**, and the key already exists under **HKEY\_CURRENT\_USER\\Software\\Classes**, the system will store the information there instead of under **HKEY\_LOCAL\_MACHINE\\Software\\Classes**.</span></span>

<span data-ttu-id="80f80-122">Processos em execução em um contexto de segurança diferente do usuário interativo não devem usar a chave **de \_ \_ raiz de classes hKey** com as funções de registro.</span><span class="sxs-lookup"><span data-stu-id="80f80-122">Processes running in a security context other than that of the interactive user should not use the **HKEY\_CLASSES\_ROOT** key with the registry functions.</span></span> <span data-ttu-id="80f80-123">Em vez disso, esses processos podem abrir explicitamente a chave do **HKEY \_ local \_ Machine \\ \\ classes de software** para acessar as configurações padrão.</span><span class="sxs-lookup"><span data-stu-id="80f80-123">Instead, such processes can explicitly open the **HKEY\_LOCAL\_MACHINE\\Software\\Classes** key to access the default settings.</span></span> <span data-ttu-id="80f80-124">Para abrir uma chave do registro que mescla o conteúdo das **\_ classes de \_ \\ software do \\ computador local hKey** com as configurações de um usuário especificado, esses processos podem chamar a função [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) .</span><span class="sxs-lookup"><span data-stu-id="80f80-124">To open a registry key that merges the contents of **HKEY\_LOCAL\_MACHINE\\Software\\Classes** with the settings for a specified user, these processes can call the [**RegOpenUserClassesRoot**](/windows/desktop/api/Winreg/nf-winreg-regopenuserclassesroot) function.</span></span> <span data-ttu-id="80f80-125">Por exemplo, um thread que está [representando](/windows/desktop/SecAuthZ/client-impersonation) um cliente pode chamar **RegOpenUserClassesRoot** se precisar recuperar uma exibição mesclada para o cliente que está sendo representado.</span><span class="sxs-lookup"><span data-stu-id="80f80-125">For example, a thread that is [impersonating](/windows/desktop/SecAuthZ/client-impersonation) a client can call **RegOpenUserClassesRoot** if it needs to retrieve a merged view for the client being impersonated.</span></span> <span data-ttu-id="80f80-126">Observe que o **RegOpenUserClassesRoot** falhará se o perfil do usuário para o usuário especificado não tiver sido carregado.</span><span class="sxs-lookup"><span data-stu-id="80f80-126">Note that **RegOpenUserClassesRoot** fails if the user profile for the specified user has not been loaded.</span></span> <span data-ttu-id="80f80-127">O sistema carrega automaticamente o perfil para o usuário interativo ao fazer logon.</span><span class="sxs-lookup"><span data-stu-id="80f80-127">The system automatically loads the profile for the interactive user when logging on.</span></span> <span data-ttu-id="80f80-128">Para outros usuários, você precisa chamar a função [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) para carregar explicitamente o perfil do usuário.</span><span class="sxs-lookup"><span data-stu-id="80f80-128">For other users, you need to call the [**LoadUserProfile**](/windows/win32/api/userenv/nf-userenv-loaduserprofilea) function to explicitly load the user's profile.</span></span>

<span data-ttu-id="80f80-129">Se um aplicativo for executado com direitos de administrador e o controle de conta de usuário estiver desabilitado, o tempo de execução do COM ignorará a configuração COM por usuário e acessará apenas a configuração de COM por máquina.</span><span class="sxs-lookup"><span data-stu-id="80f80-129">If an application is run with administrator rights and User Account Control is disabled, the COM runtime ignores the per-user COM configuration and accesses only the per-machine COM configuration.</span></span> <span data-ttu-id="80f80-130">Os aplicativos que exigem direitos de administrador devem registrar objetos COM dependentes durante a instalação para o repositório de configuração COM por máquina (**HKEY \_ local \_ Machine \\ software \\ classes**).</span><span class="sxs-lookup"><span data-stu-id="80f80-130">Applications that require administrator rights should register dependent COM objects during installation to the per-machine COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes**).</span></span> <span data-ttu-id="80f80-131">Para obter mais informações, consulte [AC: UAC: configuração de Per-User com](/previous-versions/bb756926(v=msdn.10)).</span><span class="sxs-lookup"><span data-stu-id="80f80-131">For more information, see [AC: UAC: COM Per-User Configuration](/previous-versions/bb756926(v=msdn.10)).</span></span>

<span data-ttu-id="80f80-132">**Windows Server 2003 e Windows XP/2000:** Os aplicativos podem registrar objetos COM dependentes no repositório de configuração COM por máquina ou por usuário (**HKEY \_ local \_ Machine \\ software \\ classes** ou **HKEY \_ Current \_ user \\ software \\ classes**).</span><span class="sxs-lookup"><span data-stu-id="80f80-132">**Windows Server 2003 and Windows XP/2000:** Applications can register dependent COM objects to either the per-machine or per-user COM configuration store (**HKEY\_LOCAL\_MACHINE\\Software\\Classes** or **HKEY\_CURRENT\_USER\\Software\\Classes**).</span></span>

## <a name="related-topics"></a><span data-ttu-id="80f80-133">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="80f80-133">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="80f80-134">[\_Classe HKEY classes \_ raiz (referência de registro do kit de recursos)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span><span class="sxs-lookup"><span data-stu-id="80f80-134">[HKEY\_CLASSES\_ROOT (Resource Kit Registry Reference)](/previous-versions/windows/it-pro/windows-server-2003/cc739822(v=ws.10))</span></span>
</dt> </dl>

 

 
