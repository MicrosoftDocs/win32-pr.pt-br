---
description: Identificadores de objeto kernel são específicos do processo.
ms.assetid: 3e3288dd-155a-41d0-9d43-5f49ed4c4a9d
title: Objetos kernel
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6a7cf8c46e4754c46e81cfd959f62de052332594
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104567675"
---
# <a name="kernel-objects"></a>Objetos kernel

Identificadores de objeto kernel são específicos do processo. Ou seja, um processo deve criar o objeto ou abrir um objeto existente para obter um identificador de objeto de kernel. O limite por processo em identificadores de kernel é 2 ^ 24. No entanto, os identificadores são armazenados no pool paginável, portanto, o número real de identificadores que você pode criar baseia-se na memória disponível. O número de identificadores que você pode criar em Windows de 32 bits é significativamente inferior a 2 ^ 24.

Qualquer processo pode criar um novo identificador para um objeto de kernel existente (mesmo um criado por outro processo), desde que o processo saiba o nome do objeto e tenha acesso de segurança ao objeto. Os identificadores de objeto de kernel incluem direitos de acesso que indicam as ações que podem ser concedidas ou negadas a um processo. Um aplicativo especifica direitos de acesso quando cria um objeto ou Obtém um identificador de objeto existente. Cada tipo de objeto de kernel dá suporte a seu próprio conjunto de direitos de acesso. Por exemplo, os identificadores de eventos podem ter acesso de Set ou Wait (ou ambos), os identificadores de arquivo podem ter acesso de leitura ou gravação (ou ambos) e assim por diante. Para obter mais informações, consulte [objetos protegíveis](/windows/desktop/SecAuthZ/securable-objects).

Na ilustração a seguir, um aplicativo cria um objeto de evento. A função [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa) cria o objeto de evento e retorna um identificador de objeto.

![aplicativo Criando um objeto de evento](images/cshob-03.png)

Depois que o objeto de evento tiver sido criado, o aplicativo poderá usar o identificador de evento para definir ou aguardar o evento. O identificador permanece válido até que o aplicativo feche o identificador ou termine.

A maioria dos objetos kernel dá suporte a vários identificadores para um único objeto. Por exemplo, o aplicativo na ilustração anterior poderia obter identificadores de objeto de evento adicionais usando a função [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa) , conforme mostrado na ilustração a seguir.

![aplicativo Criando um objeto de evento com vários identificadores](images/cshob-04.png)

Esse método permite que um aplicativo tenha identificadores com direitos de acesso diferentes. Por exemplo, o identificador 1 pode ter definido e aguardar acesso ao evento, e o identificador 2 pode ter apenas espera de acesso.

Se outro processo souber o nome do evento e tiver acesso de segurança ao objeto, ele poderá criar seu próprio identificador de objeto de evento usando [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa). O aplicativo de criação também poderia duplicar um de seus identificadores no mesmo processo ou em outro processo usando a função [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle) .

Um objeto permanece na memória contanto que haja pelo menos um identificador de objeto. Na ilustração a seguir, os aplicativos usam a função [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle) para fechar seus identificadores de objeto de evento. Quando não há identificadores de eventos, o sistema remove o objeto da memória, conforme mostrado na ilustração a seguir.

![identificador do objeto de evento de fechamento do aplicativo para remover o objeto da memória](images/cshob-08.png)

O sistema gerencia objetos de arquivo de forma ligeiramente diferente de outros objetos kernel. Os objetos de arquivo contêm o ponteiro do arquivo — o ponteiro para o próximo byte a ser lido ou gravado em um arquivo. Sempre que um aplicativo cria um novo identificador de arquivo, o sistema cria um novo objeto de arquivo. Portanto, mais de um objeto de arquivo pode se referir a um único arquivo no disco, conforme mostrado na próxima ilustração.

![vários objetos de arquivo referentes a um arquivo no disco](images/cshob-09.png)

Somente por meio de duplicação ou herança pode ter mais de um identificador de arquivo, consulte o mesmo objeto de arquivo, conforme mostrado na ilustração a seguir.

![dois identificadores de arquivo fazem referência ao mesmo objeto de arquivo](images/cshob-10.png)

A tabela a seguir lista cada um dos objetos de kernel, juntamente com as funções de criador e destruidor de cada objeto. As funções de criador criam o objeto e um identificador de objeto ou criam um novo identificador de objeto existente. As funções de destruidor fecham o identificador de objeto. Quando um aplicativo fecha o último identificador para um objeto de kernel, o sistema remove o objeto da memória.



| Objeto kernel                | Função Creator                                                                                                                                                                                                                                                  | Função de destruidor                                                                      |
|------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------|
| Token de acesso                 | [**CreateRestrictedToken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-createrestrictedtoken), [**DuplicateToken**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetoken), [**DuplicateTokenEx**](/windows/desktop/api/securitybaseapi/nf-securitybaseapi-duplicatetokenex), [**OpenProcessToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocesstoken), [**OpenThreadToken**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openthreadtoken) | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notificação de alteração          | [**FindFirstChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findfirstchangenotificationa)                                                                                                                                                                                                 | [**FindCloseChangeNotification**](/windows/desktop/api/fileapi/nf-fileapi-findclosechangenotification)                       |
| Dispositivo de comunicações        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                   | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Entrada do console                | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), com CONIN $                                                                                                                                                                                                                      | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Buffer da tela do console        | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea), com CONOUT $                                                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Área de trabalho                      | [**GetThreadDesktop**](/windows/desktop/api/winuser/nf-winuser-getthreaddesktop)                                                                                                                                                                                                                     | Os aplicativos não podem excluir este objeto.                                                 |
| Evento                        | [**CreateEvent**](/windows/desktop/api/synchapi/nf-synchapi-createeventa), [**CreateEventEx**](/windows/desktop/api/synchapi/nf-synchapi-createeventexa), [**OpenEvent**](/windows/desktop/api/synchapi/nf-synchapi-openeventa)                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Log de eventos                    | [**OpenEventLog**](/windows/desktop/api/winbase/nf-winbase-openeventloga), [**RegisterEventSource**](/windows/desktop/api/winbase/nf-winbase-registereventsourcea), [**OpenBackupEventLog**](/windows/desktop/api/winbase/nf-winbase-openbackupeventloga)                                                                                                                     | [**CloseEventLog**](/windows/desktop/api/winbase/nf-winbase-closeeventlog)                                                 |
| Arquivo                         | [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea)                                                                                                                                                                                                                                 | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)                     |
| Mapeamento de arquivo                 | [**CreateFileMapping**](/windows/desktop/api/winbase/nf-winbase-createfilemappinga), [ **OpenFileMapping**](/windows/desktop/api/winbase/nf-winbase-openfilemappinga)                                                                                                                                                                          | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Localizar arquivo                    | [**FindFirstFile**](/windows/desktop/api/fileapi/nf-fileapi-findfirstfilea)                                                                                                                                                                                                                             | [**FindClose**](/windows/desktop/api/fileapi/nf-fileapi-findclose)                                                           |
| Pilha                         | [**HeapCreate**](/windows/desktop/api/heapapi/nf-heapapi-heapcreate)                                                                                                                                                                                                                                 | [**HeapDestroy**](/windows/desktop/api/heapapi/nf-heapapi-heapdestroy)                                                     |
| Porta de conclusão de e/s          | [**CreateIoCompletionPort**](/windows/desktop/FileIO/createiocompletionport)                                                                                                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Trabalho                          | [**CreateJobObject**](/windows/desktop/api/winbase/nf-winbase-createjobobjecta)                                                                                                                                                                                                                       | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Recepção                     | [**CreateMailslot**](/windows/desktop/api/winbase/nf-winbase-createmailslota)                                                                                                                                                                                                                         | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Notificação de recursos de memória | [**CreateMemoryResourceNotification**](/windows/desktop/api/memoryapi/nf-memoryapi-creatememoryresourcenotification)                                                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Módulo                       | [**LoadLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-loadlibrarya), [ **GetModuleHandle**](/windows/desktop/api/libloaderapi/nf-libloaderapi-getmodulehandlea)                                                                                                                                                                                  | [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary)                                                     |
| Mutex                        | [**CreateMutex**](/windows/desktop/api/synchapi/nf-synchapi-createmutexa), [**CreateMutexEx**](/windows/desktop/api/synchapi/nf-synchapi-createmutexexa), [**OpenMutex**](/windows/win32/api/synchapi/nf-synchapi-openmutexw)                                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Pipe                         | [**CreateNamedPipe**](/windows/desktop/api/winbase/nf-winbase-createnamedpipea), [ **CreatePipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-createpipe)                                                                                                                                                                                    | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **DisconnectNamedPipe**](/windows/desktop/api/namedpipeapi/nf-namedpipeapi-disconnectnamedpipe) |
| Processar                      | [**CreateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**OpenProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-openprocess), [**GetCurrentProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess)                                                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminateprocess)       |
| Sinal                    | [**Createsemáforo**](/windows/desktop/api/winbase/nf-winbase-createsemaphorea), [**CreateSemaphoreEx**](/windows/desktop/api/winbase/nf-winbase-createsemaphoreexa), [**OpenSemaphore**](/windows/win32/api/synchapi/nf-synchapi-opensemaphorew)                                                                                                                             | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Soquete                       | [**soquete**](/windows/desktop/api/winsock2/nf-winsock2-socket), [ **aceitar**](/windows/desktop/api/winsock2/nf-winsock2-accept)                                                                                                                                                                                                    | [**fechamento**](/windows/desktop/api/winsock/nf-winsock-closesocket)                                                |
| Thread                       | [**CreateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createthread), [**CreateRemoteThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createremotethread), [**GetCurrentThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-getcurrentthread)                                                                                                                           | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle), [ **TerminateThread**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-terminatethread)         |
| Temporizador                        | [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw), [**CreateWaitableTimerEx**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerexw), [**OpenWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-openwaitabletimerw)                                                                                                     | [**CloseHandle**](/windows/win32/api/handleapi/nf-handleapi-closehandle)                                                      |
| Atualizar recurso              | [**BeginUpdateResource**](/windows/win32/api/winbase/nf-winbase-beginupdateresourcea)                                                                                                                                                                                                         | [**EndUpdateResource**](/windows/win32/api/winbase/nf-winbase-endupdateresourcea)                                   |
| Estação de janela               | [**GetProcessWindowStation**](/windows/desktop/api/winuser/nf-winuser-getprocesswindowstation)                                                                                                                                                                                                       | Os aplicativos não podem excluir este objeto.                                                 |



 

## <a name="related-topics"></a>Tópicos relacionados

<dl> <dt>

[Namespaces de objeto kernel](/windows/desktop/TermServ/kernel-object-namespaces)
</dt> </dl>

 

 
