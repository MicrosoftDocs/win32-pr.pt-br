---
description: Os aplicativos podem salvar parte do registro em um arquivo e, em seguida, carregar o conteúdo do arquivo de volta para o registro.
ms.assetid: a71a564d-934a-46e8-b555-989a6fa82337
title: Arquivos do registro
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 44916618946f6541495186aa5843799c9b864fbc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103921896"
---
# <a name="registry-files"></a><span data-ttu-id="d62b4-103">Arquivos do registro</span><span class="sxs-lookup"><span data-stu-id="d62b4-103">Registry Files</span></span>

<span data-ttu-id="d62b4-104">Os aplicativos podem salvar parte do registro em um arquivo e, em seguida, carregar o conteúdo do arquivo de volta para o registro.</span><span class="sxs-lookup"><span data-stu-id="d62b4-104">Applications can save part of the registry in a file and then load the contents of the file back into the registry.</span></span> <span data-ttu-id="d62b4-105">Um arquivo de registro é útil quando uma grande quantidade de dados está sendo manipulada, quando muitas entradas estão sendo feitas no registro ou quando os dados são transitórios e devem ser carregados e descarregados novamente.</span><span class="sxs-lookup"><span data-stu-id="d62b4-105">A registry file is useful when a large amount of data is being manipulated, when many entries are being made in the registry, or when the data is transitory and must be loaded and then unloaded again.</span></span> <span data-ttu-id="d62b4-106">Os aplicativos que fazem backup e restauram partes do registro provavelmente usarão arquivos de registro.</span><span class="sxs-lookup"><span data-stu-id="d62b4-106">Applications that back up and restore parts of the registry are likely to use registry files.</span></span>

<span data-ttu-id="d62b4-107">Para salvar uma chave e suas subchaves e valores em um arquivo de registro, um aplicativo pode chamar a função [**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) ou [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) .</span><span class="sxs-lookup"><span data-stu-id="d62b4-107">To save a key and its subkeys and values to a registry file, an application can call the [**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) or [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) function.</span></span>

<span data-ttu-id="d62b4-108">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) e [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) crie o arquivo com o atributo Archive.</span><span class="sxs-lookup"><span data-stu-id="d62b4-108">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) and [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) create the file with the archive attribute.</span></span> <span data-ttu-id="d62b4-109">O arquivo é criado no diretório atual do processo para uma chave local e no diretório% systemroot% \\ System32 para uma chave remota.</span><span class="sxs-lookup"><span data-stu-id="d62b4-109">The file is created in the current directory of the process for a local key, and in the %systemroot%\\system32 directory for a remote key.</span></span>

<span data-ttu-id="d62b4-110">Os arquivos do registro têm os dois formatos a seguir: Standard e mais recente.</span><span class="sxs-lookup"><span data-stu-id="d62b4-110">Registry files have the following two formats: standard and latest.</span></span> <span data-ttu-id="d62b4-111">O formato padrão é o único formato suportado pelo Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="d62b4-111">The standard format is the only format supported by Windows 2000.</span></span> <span data-ttu-id="d62b4-112">Ele também é compatível com versões posteriores do Windows para compatibilidade com versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="d62b4-112">It is also supported by later versions of Windows for backward compatibility.</span></span> <span data-ttu-id="d62b4-113">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) cria arquivos no formato padrão.</span><span class="sxs-lookup"><span data-stu-id="d62b4-113">[**RegSaveKey**](/windows/desktop/api/Winreg/nf-winreg-regsavekeya) creates files in the standard format.</span></span>

<span data-ttu-id="d62b4-114">O formato mais recente tem suporte a partir do Windows XP.</span><span class="sxs-lookup"><span data-stu-id="d62b4-114">The latest format is supported starting with Windows XP.</span></span> <span data-ttu-id="d62b4-115">Os arquivos do registro criados neste formato não podem ser carregados no Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="d62b4-115">Registry files that are created in this format cannot be loaded on Windows 2000.</span></span> <span data-ttu-id="d62b4-116">O [**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) pode salvar arquivos do registro em qualquer formato especificando o \_ formato padrão do reg ou o \_ \_ formato reg mais recente \_ .</span><span class="sxs-lookup"><span data-stu-id="d62b4-116">[**RegSaveKeyEx**](/windows/desktop/api/Winreg/nf-winreg-regsavekeyexa) can save registry files in either format by specifying either REG\_STANDARD\_FORMAT or REG\_LATEST\_FORMAT.</span></span> <span data-ttu-id="d62b4-117">Portanto, ele pode ser usado para converter arquivos do registro que usam o formato padrão para o formato mais recente.</span><span class="sxs-lookup"><span data-stu-id="d62b4-117">Therefore, it can be used to convert registry files that use the standard format to the latest format.</span></span>

<span data-ttu-id="d62b4-118">Para gravar o arquivo de registro de volta no registro, um aplicativo pode usar as funções [**RegLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regloadkeya), [**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya)ou [**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="d62b4-118">To write the registry file back to the registry, an application can use the [**RegLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regloadkeya), [**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya), or [**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) functions as follows.</span></span>

-   <span data-ttu-id="d62b4-119">**RegLoadKey** carrega dados de registro de um arquivo especificado em uma subchave especificada em **HKEY \_ Users** ou **HKEY \_ local \_ Machine** no computador do aplicativo de chamada ou em um computador remoto.</span><span class="sxs-lookup"><span data-stu-id="d62b4-119">**RegLoadKey** loads registry data from a specified file into a specified subkey under **HKEY\_USERS** or **HKEY\_LOCAL\_MACHINE** on the calling application's computer or on a remote computer.</span></span> <span data-ttu-id="d62b4-120">A função criará a subchave especificada se ela ainda não existir.</span><span class="sxs-lookup"><span data-stu-id="d62b4-120">The function creates the specified subkey if it does not already exist.</span></span> <span data-ttu-id="d62b4-121">Depois de chamar essa função, um aplicativo pode usar a função [**RegUnLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regunloadkeya) para restaurar o registro para seu estado anterior.</span><span class="sxs-lookup"><span data-stu-id="d62b4-121">After calling this function, an application can use the [**RegUnLoadKey**](/windows/desktop/api/Winreg/nf-winreg-regunloadkeya) function to restore the registry to its previous state.</span></span>
-   <span data-ttu-id="d62b4-122">[**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya) substitui uma chave e todas as suas subchaves e valores no registro pelos dados contidos em um arquivo especificado.</span><span class="sxs-lookup"><span data-stu-id="d62b4-122">[**RegReplaceKey**](/windows/desktop/api/Winreg/nf-winreg-regreplacekeya) replaces a key and all its subkeys and values in the registry with the data contained in a specified file.</span></span> <span data-ttu-id="d62b4-123">Os novos dados entrarão em vigor na próxima vez em que o sistema for iniciado.</span><span class="sxs-lookup"><span data-stu-id="d62b4-123">The new data takes effect the next time the system is started.</span></span>
-   <span data-ttu-id="d62b4-124">[**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) carrega dados do registro de um arquivo especificado em uma chave especificada no computador do aplicativo de chamada ou em um computador remoto.</span><span class="sxs-lookup"><span data-stu-id="d62b4-124">[**RegRestoreKey**](/windows/desktop/api/Winreg/nf-winreg-regrestorekeya) loads registry data from a specified file into a specified key on the calling application's computer or on a remote computer.</span></span> <span data-ttu-id="d62b4-125">Essa função substitui as subchaves e valores abaixo da chave especificada pelas subchaves e valores que seguem a chave de nível superior no arquivo.</span><span class="sxs-lookup"><span data-stu-id="d62b4-125">This function replaces the subkeys and values below the specified key with the subkeys and values that follow the top-level key in the file.</span></span>

<span data-ttu-id="d62b4-126">A função [**RegConnectRegistry**](/windows/desktop/api/Winreg/nf-winreg-regconnectregistrya) estabelece uma conexão com um identificador de registro predefinido em outro computador.</span><span class="sxs-lookup"><span data-stu-id="d62b4-126">The [**RegConnectRegistry**](/windows/desktop/api/Winreg/nf-winreg-regconnectregistrya) function establishes a connection to a predefined registry handle on another computer.</span></span> <span data-ttu-id="d62b4-127">Um aplicativo usa essa função principalmente para acessar informações de um registro remoto em outros computadores em um ambiente de rede, o que você também pode fazer usando o editor do registro.</span><span class="sxs-lookup"><span data-stu-id="d62b4-127">An application uses this function primarily to access information from a remote registry on other machines in a network environment, which you can also do by using the Registry Editor.</span></span> <span data-ttu-id="d62b4-128">Talvez você queira acessar um registro remoto para fazer backup de um registro ou controlar o acesso à rede a ele.</span><span class="sxs-lookup"><span data-stu-id="d62b4-128">You might want to access a remote registry to back up a registry or regulate network access to it.</span></span> <span data-ttu-id="d62b4-129">Observe que você deve ter as permissões apropriadas para acessar um registro remoto usando essa função.</span><span class="sxs-lookup"><span data-stu-id="d62b4-129">Note that you must have appropriate permissions to access a remote registry using this function.</span></span>

 

 



