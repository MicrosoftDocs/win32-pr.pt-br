---
description: Os recursos de mídia são diferentes com a TAPI 2,2 (TAPI/C) em oposição à TAPI 3 (COM), em grande parte porque a API COM tem acesso aos provedores de serviços de mídia (MSPs).
ms.assetid: 73042eb1-b2d6-4dcb-b40e-f8f3933dcdb0
title: Acesso à mídia
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5bb3fe361aab9d5b5c9897deb5ea36d6e85adcfd
ms.sourcegitcommit: c16214e53680dc71d1c07111b51f72b82a4512d8
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/03/2021
ms.locfileid: "104172496"
---
# <a name="media-access"></a><span data-ttu-id="7f7ac-103">Acesso à mídia</span><span class="sxs-lookup"><span data-stu-id="7f7ac-103">Media Access</span></span>

<span data-ttu-id="7f7ac-104">Os recursos de mídia são diferentes com a TAPI 2,2 (TAPI/C) em oposição à TAPI 3 (COM), em grande parte porque a API COM tem acesso aos provedores de serviços de mídia (MSPs).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-104">Media features are different with TAPI 2.2 (TAPI/C) as opposed to TAPI 3 (COM), largely because the COM API has access to media service providers (MSPs).</span></span> <span data-ttu-id="7f7ac-105">Para obter mais informações sobre o MSPs, consulte [sobre o MSP (provedor de serviços de mídia)](./about-the-media-service-provider-msp-.md).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-105">For more information about MSPs, see [About The Media Service Provider (MSP)](./about-the-media-service-provider-msp-.md).</span></span> <span data-ttu-id="7f7ac-106">Para obter mais informações sobre operações de fluxo de mídia, consulte [controle de mídia](./device-control.md).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-106">For more information about media stream operations, see [Media Control](./device-control.md).</span></span>

<span data-ttu-id="7f7ac-107">Os dois conceitos mais importantes para um aplicativo são o tipo de mídia (ou o modo) e o fluxo.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-107">The two most important concepts for an application are the media type (or mode) and the stream.</span></span> <span data-ttu-id="7f7ac-108">O tipo é o formulário no qual os dados são transmitidos.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-108">The type is the form in which data is transmitted.</span></span> <span data-ttu-id="7f7ac-109">Para obter mais informações e uma lista de tipos definidos pela TAPI, [consulte \_ constantes LINEMEDIAMODE](linemediamode--constants.md).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-109">For more information and a list of TAPI-defined types, see [LINEMEDIAMODE\_ Constants](linemediamode--constants.md).</span></span> <span data-ttu-id="7f7ac-110">O fluxo de mídia é o fluxo de dados real.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-110">The media stream is the actual stream of data.</span></span> <span data-ttu-id="7f7ac-111">Um MSP pode fornecer acesso direto ao fluxo.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-111">An MSP can provide direct access to the stream.</span></span> <span data-ttu-id="7f7ac-112">Os aplicativos TAPI 2,2 têm algum acesso, mas, principalmente, fazem referência a outras APIs para implementar tais controles.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-112">TAPI 2.2 applications have some access, but primarily reference other APIs to implement such controls.</span></span>

<span data-ttu-id="7f7ac-113">Essas APIs incluem a API de onda, a API de comunicação e a MCI (interface de controle de mídia).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-113">These APIs include the Waveform API, the Comm API, and the Media Control Interface (MCI).</span></span> <span data-ttu-id="7f7ac-114">A API de forma de onda é usada para programação de multimídia, a API de comunicação é o conjunto de funções de comunicação fornecidas pelo SDK (Software Development Kit) da plataforma e o MCI fornece uma interface generalizada de alto nível para controlar dispositivos de mídia.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-114">The Waveform API is used for multimedia programming, the Comm API is the set of communications functions provided by the Platform Software Development Kit (SDK), and the MCI provides a high-level generalized interface for controlling media devices.</span></span>

<span data-ttu-id="7f7ac-115">Por exemplo, para dispositivos de linha, um aplicativo pode usar TAPI 2,2 para estabelecer uma conexão com outra estação.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-115">For example, for line devices, an application can use TAPI 2.2 to establish a connection to another station.</span></span> <span data-ttu-id="7f7ac-116">Depois que a conexão é estabelecida, o aplicativo pode usar a API de onda (ou a API WaveAudio do MCI) no dispositivo associado para reproduzir (enviar) e gravar (receber) dados de áudio pela conexão.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-116">Once the connection is established, the application can then use the Waveform API (or the MCI Waveaudio API) on the associated device to play back (send) and record (receive) audio data over the connection.</span></span> <span data-ttu-id="7f7ac-117">Da mesma forma, se o fluxo de mídia de conexão for de um modem, um aplicativo usará as extensões de configuração de modem da API de comunicações para controlar o fluxo de mídia.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-117">Similarly, if the connection media stream is from a modem, an application would use the modem configuration extensions of the Communications API to control the media stream.</span></span>

<span data-ttu-id="7f7ac-118">Para fornecer a TAPI 2,2 com acesso de fluxo de mídia para um telefone ou uma chamada em um dispositivo de linha, o provedor de serviços deve implementar o SPI de telefonia e o SPI (interface de dispositivo) de mídia apropriado ou a DDI.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-118">To provide TAPI 2.2 with media-stream access to either a phone or a call on a line device, the service provider must implement both the Telephony SPI and the appropriate media stream SPI or device-driver interface (DDI).</span></span> <span data-ttu-id="7f7ac-119">O provedor de serviços pode dar suporte a linhas e telefones simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-119">The service provider can support lines and phones simultaneously.</span></span>

<span data-ttu-id="7f7ac-120">Como essas classes de dispositivo e operações de fluxo de mídia funcionam de forma independente uma da outra, a coordenação de seu uso deve ocorrer no nível do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-120">Because these device classes and media stream operations function independently of one another, coordination of their usage must occur at the application level.</span></span> <span data-ttu-id="7f7ac-121">Vários aplicativos que compartilham chamadas e fluxos de mídia provavelmente exigirão a coordenação de suas atividades no nível do aplicativo para evitar o uso conflitante da TAPI e da API de fluxo de mídia.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-121">Multiple applications that share calls and media streams will likely require coordination of their activities at the application level to prevent conflicting usage of TAPI and the media stream API.</span></span>

<span data-ttu-id="7f7ac-122">A TAPI relata alterações no tipo de fluxo de mídia (voz, fax, modem de dados e assim por diante) para aplicativos participantes.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-122">TAPI reports changes in the type of media stream (voice, fax, data modem, and so on) to participating applications.</span></span> <span data-ttu-id="7f7ac-123">Esse processo é, às vezes, chamado de [*classificação de chamada*](c-tapgloss.md).</span><span class="sxs-lookup"><span data-stu-id="7f7ac-123">This process is sometimes referred to as [*call classification*](c-tapgloss.md).</span></span> <span data-ttu-id="7f7ac-124">O mecanismo usado para determinar o tipo de fluxo de mídia é específico para o provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-124">The mechanism used to determine the type of media stream is specific to the service provider.</span></span> <span data-ttu-id="7f7ac-125">Por exemplo, um provedor de serviços pode filtrar o fluxo de mídia para energia ou tons que caracterizam o tipo de mídia, ou pode usar toque distintivo, dados trocados em mensagens pela rede ou conhecimento sobre o chamador ou ID chamado para fazer essa determinação.</span><span class="sxs-lookup"><span data-stu-id="7f7ac-125">For example, a service provider may filter the media stream for energy or tones that characterize the media type, or it may use distinctive ringing, data exchanged in messages over the network, or knowledge about the caller or called ID to make this determination.</span></span>

-   [<span data-ttu-id="7f7ac-126">Monitoramento de chamada</span><span class="sxs-lookup"><span data-stu-id="7f7ac-126">Call Monitoring</span></span>](call-monitoring.md)
-   <span data-ttu-id="7f7ac-127">[Controle de mídia](/previous-versions/windows/desktop/legacy/ms736578(v=vs.85))</span><span class="sxs-lookup"><span data-stu-id="7f7ac-127">[Media Control](/previous-versions/windows/desktop/legacy/ms736578(v=vs.85))</span></span>
-   [<span data-ttu-id="7f7ac-128">Coleta de dígitos</span><span class="sxs-lookup"><span data-stu-id="7f7ac-128">Digit Gathering</span></span>](digit-gathering.md)
-   [<span data-ttu-id="7f7ac-129">Gerando dígitos de banda e tons</span><span class="sxs-lookup"><span data-stu-id="7f7ac-129">Generating Inband Digits and Tones</span></span>](generating-inband-digits-and-tones.md)

 

 
