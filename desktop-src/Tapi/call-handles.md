---
description: Como é mencionado na visão geral do identificador de sessão, um identificador de chamada é o meio pelo qual um aplicativo TAPI 2,2 identifica uma sessão de comunicação específica.
ms.assetid: 5f6a7adf-c074-4bf6-9828-76604eb7609c
title: Identificadores de chamada
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aacad5b73d9d22caa006b734acaf8b992203d7d2
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105789876"
---
# <a name="call-handles"></a><span data-ttu-id="fb9d8-103">Identificadores de chamada</span><span class="sxs-lookup"><span data-stu-id="fb9d8-103">Call Handles</span></span>

<span data-ttu-id="fb9d8-104">Como é mencionado na visão geral do [identificador de sessão](./session-identifier-ovr.md) , um identificador de chamada é o meio pelo qual um aplicativo TAPI 2,2 identifica uma sessão de comunicação específica.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-104">As is mentioned in the [Session Identifier](./session-identifier-ovr.md) overview, a call handle is the means by which a TAPI 2.2 application identifies a particular communications session.</span></span> <span data-ttu-id="fb9d8-105">Quando um aplicativo inicia uma sessão, a TAPI retorna um identificador de chamada para uso em operações ou consultas adicionais.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-105">When an application initiates a session, TAPI returns a call handle for use in further operations or queries.</span></span> <span data-ttu-id="fb9d8-106">Quando um aplicativo é notificado de uma sessão de entrada, a TAPI também passa em um identificador de chamada.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-106">When an application is notified of an incoming session, TAPI also passes in a call handle.</span></span>

<span data-ttu-id="fb9d8-107">Depois que uma sessão for encerrada e o estado da sessão estiver ocioso, o identificador de chamada permanecerá válido até que o aplicativo desaloque o identificador ou a linha seja fechada.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-107">After a session has ended and the session state is idle, the call handle remains valid until the application deallocates the handle or the line is closed.</span></span> <span data-ttu-id="fb9d8-108">A linha pode ser fechada pelo aplicativo ou pode receber uma mensagem de [**\_ fechamento de linha**](line-close.md) .</span><span class="sxs-lookup"><span data-stu-id="fb9d8-108">The line might be closed by the application, or it may receive a [**LINE\_CLOSE**](line-close.md) message.</span></span> <span data-ttu-id="fb9d8-109">Se uma linha for fechada, todos os identificadores de chamada para chamadas na linha se tornarão instantaneamente inválidos.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-109">If a line is closed, all call handles to calls on the line instantly become invalid.</span></span>

<span data-ttu-id="fb9d8-110">Depois que uma chamada reverte para o estado *ocioso* , o aplicativo ainda tem permissão para ler a estrutura de informações e o status da chamada.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-110">After a call reverts to the *idle* state, the application is still allowed to read the call's information structure and status.</span></span> <span data-ttu-id="fb9d8-111">Isso permite que os aplicativos usem operações como [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) para recuperar informações de chamada para fins de log.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-111">This enables applications to use operations such as [**lineGetCallInfo**](/windows/desktop/api/Tapi/nf-tapi-linegetcallinfo) to retrieve call information for logging purposes.</span></span>

<span data-ttu-id="fb9d8-112">Quando o aplicativo não tem mais nenhum uso para o identificador de uma chamada ociosa, ele deve chamar [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) para liberar a memória alocada pelo sistema relacionada à chamada.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-112">When the application has no further use for the handle of an idle call, it must call [**lineDeallocateCall**](/windows/desktop/api/Tapi/nf-tapi-linedeallocatecall) to free system-allocated memory related to the call.</span></span> <span data-ttu-id="fb9d8-113">A TAPI aloca memória para cada chamada para cada aplicativo que tem um identificador para a chamada.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-113">TAPI allocates memory for each call for each application that has a handle to the call.</span></span> <span data-ttu-id="fb9d8-114">É provável que os provedores de serviços aloquem memória para manter as informações de chamada também.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-114">It is likely that service providers will allocate memory to hold call information as well.</span></span> <span data-ttu-id="fb9d8-115">A desalocação do identificador de chamada de um aplicativo permite que a biblioteca e o provedor de serviços recuperem esses recursos de memória.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-115">Deallocation of an application's call handle allows the library and the service provider to reclaim these memory resources.</span></span> <span data-ttu-id="fb9d8-116">O identificador de um aplicativo para uma chamada se torna nulo após uma desalocação bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-116">An application's handle for a call becomes void after a successful deallocation.</span></span>

<span data-ttu-id="fb9d8-117">O aplicativo deve, em si, liberar memória relacionada à chamada alocada para suas próprias finalidades.</span><span class="sxs-lookup"><span data-stu-id="fb9d8-117">The application must itself free memory related to the call that it allocated for its own purposes.</span></span>

 

 
