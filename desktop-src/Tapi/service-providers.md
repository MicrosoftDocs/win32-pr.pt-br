---
description: Os provedores de serviço implementam controles de dispositivo de telefonia detalhados. Um provedor de serviços de telefonia (TSP) fornece controles de chamada e um provedor de serviços de mídia, se existir, fornece controle sobre o fluxo de mídia.
ms.assetid: eb63d55e-4a2b-4bc0-8001-99772f418d72
title: Provedores de serviço
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 424c11d5b99af7440835e8822a5631e1b36f48cb
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103922974"
---
# <a name="service-providers"></a><span data-ttu-id="1cbd4-104">Provedores de serviço</span><span class="sxs-lookup"><span data-stu-id="1cbd4-104">Service Providers</span></span>

<span data-ttu-id="1cbd4-105">Os provedores de serviço implementam controles de dispositivo de telefonia detalhados.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-105">Service providers implement detailed telephony device controls.</span></span> <span data-ttu-id="1cbd4-106">Um provedor de serviços de telefonia (TSP) fornece controles de chamada e um provedor de serviços de mídia, se existir, fornece controle sobre o fluxo de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-106">A telephony service provider (TSP) provides call controls and a media service provider, if it exists, provides control over the media stream.</span></span>

<span data-ttu-id="1cbd4-107">Todos os provedores de serviço de telefonia são executados no processo TAPISRV.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-107">All telephony service providers execute in the TAPISRV process.</span></span> <span data-ttu-id="1cbd4-108">Os provedores de serviços podem criar threads no contexto de TAPISRV conforme necessário para realizar seu trabalho e ter certeza de que nenhum dos recursos que eles criam será destruído pela saída de qualquer aplicativo individual.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-108">Service providers can create threads in the TAPISRV context as needed to do their work, and be confident that none of the resources they create will be destroyed by the exit of any individual application.</span></span> <span data-ttu-id="1cbd4-109">O servidor TAPI traduz comandos de aplicativo conforme necessário em um conjunto consistente de comandos conhecidos como TSPI (interface de provedor de serviços de telefonia).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-109">The TAPI Server translates application commands as needed into a consistent set of commands known as the Telephony Service Provider Interface (TSPI).</span></span>

<span data-ttu-id="1cbd4-110">Os provedores de serviço de mídia são executados no espaço de processo do aplicativo, permitindo a resposta rápida às vezes necessária nos controles de mídia.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-110">Media service providers execute in the process space of the application, allowing for the fast response sometimes required in media controls.</span></span> <span data-ttu-id="1cbd4-111">A DLL TAPI fornece a adesão consistente à MSPI (interface do provedor de serviços de mídia).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-111">The TAPI DLL provides for consistent adherence to the Media Service Provider Interface (MSPI).</span></span>

<span data-ttu-id="1cbd4-112">Para obter uma cobertura mais detalhada dos provedores de serviço, consulte [visão geral do provedor de serviços TAPI](./tapi-service-provider-overview.md).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-112">For more detailed coverage of the service providers, please see [TAPI Service Provider Overview](./tapi-service-provider-overview.md).</span></span>

<span data-ttu-id="1cbd4-113">Sob a DLL do provedor de serviços de telefonia, o provedor de serviços pode usar qualquer função do sistema ou outros componentes necessários.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-113">Underneath the telephony service provider DLL, the service provider can use any system functions or other components necessary.</span></span> <span data-ttu-id="1cbd4-114">Essas funções incluem [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) e [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol), que trabalham com componentes e serviços de modo kernel independentes de hardware independente, bem como dispositivos padrão, como portas seriais e paralelas para controlar dispositivos externos e anexados localmente.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-114">These functions include [**CreateFile**](/windows/desktop/api/fileapi/nf-fileapi-createfilea) and [**DeviceIoControl**](/windows/desktop/api/ioapiset/nf-ioapiset-deviceiocontrol), which work with independent hardware vendor-designed kernel mode components and services, as well as standard devices such as serial and parallel ports to control external, locally attached devices.</span></span> <span data-ttu-id="1cbd4-115">Eles também podem acessar os serviços de rede (como RPC, Windows Sockets e pipes nomeados) para a telefonia do cliente/servidor.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-115">They can also access network services (such as RPC, Windows Sockets, and Named Pipes) for client/server telephony.</span></span>

<span data-ttu-id="1cbd4-116">A DLL da interface do usuário do provedor de serviços de telefonia é carregada pela TAPI no processo de um aplicativo que invoca qualquer uma das funções de provedor de serviço que podem exibir uma caixa de diálogo (por exemplo, [**TSPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tspi_lineconfigdialog)).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-116">The Telephony service provider user interface DLL is loaded by TAPI into the process of an application that invokes any of the service provider functions that can display a dialog box (for example, [**TSPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tspi_lineconfigdialog)).</span></span> <span data-ttu-id="1cbd4-117">O provedor de serviços também pode fazer com que sua DLL de interface do usuário associada seja carregada e executada no processo de um aplicativo se o provedor de serviços precisar exibir a interface do usuário em momentos inesperados, por exemplo, para exibir a caixa de diálogo de **fala/desligamento** exibida pelo Universal Modem Driver (uniatendimentor) quando um modem de dados é usado para discar uma chamada de voz interativa usando [**TSPI \_ lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) (normalmente não é considerado uma função que gera uma interface do usuário).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-117">The service provider can also cause its associated UI DLL to be loaded and executed in the process of an application if the service provider needs to display UI at unexpected times, such as to display the **Talk/Hang-up** dialog box displayed by the Universal Modem Driver (UNIMODEM) when a data modem is used to dial an interactive voice call using [**TSPI\_lineMakeCall**](/windows/win32/api/tspi/nf-tspi-tspi_linemakecall) (not normally considered to be a UI-generating function).</span></span>

<span data-ttu-id="1cbd4-118">O manipulador de solicitação de proxy é um aplicativo de telefonia completo que normalmente é executado em um servidor de telefonia (o mesmo servidor no qual o provedor de serviços de telefonia está sendo executado para os dispositivos de linha associados).</span><span class="sxs-lookup"><span data-stu-id="1cbd4-118">The proxy request handler is a full telephony application that normally executes on a telephony server (the same server on which the telephony service provider is executing for the associated line devices).</span></span> <span data-ttu-id="1cbd4-119">Essa arquitetura, em vez da arquitetura do provedor de serviços do WOSA, é usada quando um serviço específico é implementado mais adequadamente em um aplicativo do que em um driver no servidor.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-119">This architecture, rather than the WOSA service provider architecture, is used when a particular service is more appropriately implemented in an application than in a driver on the server.</span></span> <span data-ttu-id="1cbd4-120">Por exemplo, as funções de gerenciamento de agente ad são implementadas em um manipulador de solicitação de proxy em vez de em um provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-120">For example, the ACD Agent management functions are implemented in a proxy request handler rather than in a service provider.</span></span>

<span data-ttu-id="1cbd4-121">O provedor de serviços de driver Unimodem para o controle de modem está disponível em sistemas operacionais Windows Server 2003, Windows XP, Windows 2000 e Windows NT.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-121">The UNIMODEM driver service provider for modem control is available on Windows Server 2003 operating systems, Windows XP, Windows 2000, and Windows NT.</span></span> <span data-ttu-id="1cbd4-122">A telefonia do Windows também inclui um mapeador de TSPI (interface do provedor de serviços de telefonia) de modo kernel genérico, KMDDSP, que permite que os provedores de serviços sejam implementados como drivers de dispositivo no modo kernel.</span><span class="sxs-lookup"><span data-stu-id="1cbd4-122">Windows Telephony also includes a generic kernel-mode Telephony Service Provider Interface (TSPI) mapper, KMDDSP, that allows service providers to be implemented as kernel-mode device drivers.</span></span>

 

 
