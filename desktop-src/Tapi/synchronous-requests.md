---
description: Os designers do provedor de serviços devem tentar manter o tempo de execução das operações síncronas de forma curta.
ms.assetid: eb264ab7-15bb-4cd5-8af8-f979f02a7a39
title: Solicitações síncronas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3684b1fa8ea2bca1b7fb777663f2c4e50ffd36a3
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105766964"
---
# <a name="synchronous-requests"></a><span data-ttu-id="749c9-103">Solicitações síncronas</span><span class="sxs-lookup"><span data-stu-id="749c9-103">Synchronous Requests</span></span>

<span data-ttu-id="749c9-104">Os designers do provedor de serviços devem tentar manter o tempo de execução das operações síncronas de forma curta.</span><span class="sxs-lookup"><span data-stu-id="749c9-104">Service provider designers should try to keep the execution time of synchronous operations short.</span></span> <span data-ttu-id="749c9-105">Por exemplo, há uma operação "aberta" chamada no momento da inicialização que prepara o provedor de serviços e a TAPI para operações subsequentes em um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="749c9-105">For example, there is an "Open" operation called at initialization time that prepares the service provider and TAPI for subsequent operations on a device.</span></span> <span data-ttu-id="749c9-106">Um provedor de serviços cuja implementação é dividida entre o computador cliente e um servidor dedicado pode ter confiança razoável de que ele pode se comunicar com seu servidor remoto.</span><span class="sxs-lookup"><span data-stu-id="749c9-106">A service provider whose implementation is split between the client computer and a dedicated server may have reasonable confidence that it can communicate with its remote server.</span></span> <span data-ttu-id="749c9-107">Sua implementação de "Open" pode simplesmente alocar e inicializar estruturas de dados para representar o dispositivo e retornar, adiando a comunicação de ponta a ponta até que alguma operação real seja solicitada.</span><span class="sxs-lookup"><span data-stu-id="749c9-107">Its implementation of "Open" might just allocate and initialize data structures to represent the device and return, postponing end-to-end communication until some real operation is requested.</span></span>

<span data-ttu-id="749c9-108">Qualquer implementação "otimista" de uma operação síncrona pode encontrar mais tarde as limitações de recursos ou falhas de comunicação remota.</span><span class="sxs-lookup"><span data-stu-id="749c9-108">Any such "optimistic" implementation of a synchronous operation can later encounter resource limitations or remote communication failures.</span></span> <span data-ttu-id="749c9-109">Em geral, até mesmo uma abordagem "conservadora" não pode impedir totalmente esses problemas; os designers do provedor de serviços devem escolher a melhor compensação entre confiabilidade e desempenho.</span><span class="sxs-lookup"><span data-stu-id="749c9-109">In general, even a "conservative" approach cannot entirely prevent these problems; service-provider designers must choose the best tradeoff between reliability and performance.</span></span> <span data-ttu-id="749c9-110">Uma falha desse tipo deve ser tratada normalmente sempre que possível.</span><span class="sxs-lookup"><span data-stu-id="749c9-110">A failure of this kind should be handled gracefully wherever possible.</span></span> <span data-ttu-id="749c9-111">Do ponto de vista dos dispositivos TSPI, eles devem permanecer válidos para fins de "escrituração", mesmo que retornem o status de falha para qualquer operação solicitada.</span><span class="sxs-lookup"><span data-stu-id="749c9-111">From the point of view of TSPI devices, they should remain valid for "bookkeeping" purposes even if they return failure status for any operation requested.</span></span>

<span data-ttu-id="749c9-112">A implementação de uma abordagem otimista para solicitações síncronas não deve ser feita às custas da semântica correta para a operação.</span><span class="sxs-lookup"><span data-stu-id="749c9-112">Implementing an optimistic approach for synchronous requests should not be done at the expense of correct semantics for the operation.</span></span> <span data-ttu-id="749c9-113">Retornando ao exemplo "Open", se abrir um dispositivo precisar competir e reservar um recurso escasso e não compartilhável, como as portas de comunicação, ele provavelmente deve fazer isso mesmo que seja demorado.</span><span class="sxs-lookup"><span data-stu-id="749c9-113">Returning to the "Open" example, if opening a device needs to compete for and reserve a scarce, nonsharable resource such as communication ports, it should probably do so even if it is time-consuming.</span></span>

<span data-ttu-id="749c9-114">**TAPI 2. x:** Uma operação que é concluída de forma síncrona executa todo o seu processamento na chamada de função feita pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="749c9-114">**TAPI 2.x:** An operation that completes synchronously performs all of its processing in the function call made by the application.</span></span> <span data-ttu-id="749c9-115">A função retorna valores diferentes dependendo de seu sucesso ou falha:</span><span class="sxs-lookup"><span data-stu-id="749c9-115">The function returns different values depending on its success or failure:</span></span>

-   <span data-ttu-id="749c9-116">**Êxito síncrono.**</span><span class="sxs-lookup"><span data-stu-id="749c9-116">**Synchronous Success.**</span></span> <span data-ttu-id="749c9-117">Se a solicitação ou o serviço correspondente à função tiver sido executado com êxito, a função retornará zero, indicando êxito.</span><span class="sxs-lookup"><span data-stu-id="749c9-117">If the request or service corresponding to the function has been carried out successfully, the function returns zero, indicating success.</span></span> <span data-ttu-id="749c9-118">Todos os valores gravados como resultado da chamada de função são confiáveis e podem ser usados imediatamente.</span><span class="sxs-lookup"><span data-stu-id="749c9-118">Any values written as a result of the function call are reliable and can be used immediately.</span></span>
-   <span data-ttu-id="749c9-119">**Falha síncrona.**</span><span class="sxs-lookup"><span data-stu-id="749c9-119">**Synchronous Failure.**</span></span> <span data-ttu-id="749c9-120">Se a função detectar um erro e a solicitação não for executada, um número de erro negativo será retornado para identificar o erro.</span><span class="sxs-lookup"><span data-stu-id="749c9-120">If the function detects an error and the request is not carried out, a negative error number is returned to identify the error.</span></span>

 

 



