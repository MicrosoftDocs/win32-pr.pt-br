---
description: Com o tempo, versões diferentes de TAPI, aplicativos e provedores de serviços podem ser produzidos.
ms.assetid: 35fea8f9-307e-4429-b4ec-ffb5c62c2610
title: Controle de versão da TAPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8565eb6282fd124c4f43e56d121ba7c053143683
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104297006"
---
# <a name="tapi-versioning"></a><span data-ttu-id="fb060-103">Controle de versão da TAPI</span><span class="sxs-lookup"><span data-stu-id="fb060-103">TAPI Versioning</span></span>

<span data-ttu-id="fb060-104">Com o tempo, versões diferentes de TAPI, aplicativos e provedores de serviços podem ser produzidos.</span><span class="sxs-lookup"><span data-stu-id="fb060-104">Over time, different versions of TAPI, applications, and service providers may be produced.</span></span> <span data-ttu-id="fb060-105">Essas novas versões podem fazer novas definições, como para novos recursos, novos membros em estruturas de dados e novos campos de bits.</span><span class="sxs-lookup"><span data-stu-id="fb060-105">These new versions can make new definitions, such as for new features, new members in data structures, and new bit fields.</span></span> <span data-ttu-id="fb060-106">Portanto, os números de versão são necessários para indicar como interpretar várias estruturas de dados.</span><span class="sxs-lookup"><span data-stu-id="fb060-106">Version numbers are therefore necessary to indicate how to interpret various data structures.</span></span>

<span data-ttu-id="fb060-107">Para permitir a interoperabilidade ideal de diferentes versões de aplicativos, versões da própria TAPI e versões de provedores de serviço por diferentes fornecedores, a telefonia da Microsoft fornece um mecanismo de negociação de versão simples para aplicativos.</span><span class="sxs-lookup"><span data-stu-id="fb060-107">To allow optimal interoperability of different versions of applications, versions of TAPI itself, and versions of service providers by different vendors, Microsoft Telephony provides a simple version negotiation mechanism for applications.</span></span> <span data-ttu-id="fb060-108">Há duas versões diferentes que a TAPI e o provedor de serviços de telefonia precisam concordar em cada dispositivo de linha.</span><span class="sxs-lookup"><span data-stu-id="fb060-108">There are two different versions that TAPI and the telephony service provider need to agree on for each line device.</span></span> <span data-ttu-id="fb060-109">A primeira é a versão negociada com a TAPI e o provedor de serviços de telefonia (TSP) básico e a telefonia suplementar, conhecida como a versão da interface TAPI.</span><span class="sxs-lookup"><span data-stu-id="fb060-109">The first is the version negotiated with TAPI and the telephony service provider (TSP) Basic and Supplementary Telephony, referred to as the TAPI interface version.</span></span> <span data-ttu-id="fb060-110">O outro é para extensões específicas do provedor, se houver, e é chamado de versão de extensão.</span><span class="sxs-lookup"><span data-stu-id="fb060-110">The other is for provider-specific extensions, if any, and is referred to as the extension version.</span></span> <span data-ttu-id="fb060-111">O formato das estruturas de dados e dos tipos de dados usados pelos recursos básicos e complementares da TAPI é definido pela versão da TAPI, enquanto a versão da extensão determina o formato das estruturas de dados definidas pelas extensões específicas do fornecedor.</span><span class="sxs-lookup"><span data-stu-id="fb060-111">The format of the data structures and data types used by TAPI's Basic and Supplementary features is defined by the TAPI version, while the extension version determines the format of data structures defined by the vendor-specific extensions.</span></span>

<span data-ttu-id="fb060-112">A função [**lineNegotiateAPIVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateapiversion) negocia uma versão TAPI e o [**lineNegotiateExtVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateextversion) negocia a versão de extensão do tsp.</span><span class="sxs-lookup"><span data-stu-id="fb060-112">The [**lineNegotiateAPIVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateapiversion) function negotiates a TAPI version and [**lineNegotiateExtVersion**](/windows/desktop/api/Tapi/nf-tapi-linenegotiateextversion) negotiates the TSP extension version.</span></span> <span data-ttu-id="fb060-113">Um único TSP pode ser capaz de lidar com mais de uma versão, e um aplicativo deve fazer "fallback" para usar uma versão mais antiga, se estiver usando um TSP mais antigo.</span><span class="sxs-lookup"><span data-stu-id="fb060-113">A single TSP could be capable of handling more than one version, and an application must "fall back" to using an older version if using an older TSP.</span></span> <span data-ttu-id="fb060-114">Em **lineNegotiateAPIVersion** , o parâmetro *dwApiVersion* usa como padrão um valor de acordo com a versão, da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="fb060-114">In **lineNegotiateAPIVersion** the *dwApiVersion* parameter defaults to a value according to version, as follows.</span></span>



| <span data-ttu-id="fb060-115">Versão da TAPI</span><span class="sxs-lookup"><span data-stu-id="fb060-115">TAPI version</span></span> | <span data-ttu-id="fb060-116">Valor padrão</span><span class="sxs-lookup"><span data-stu-id="fb060-116">Default value</span></span> |
|--------------|---------------|
| <span data-ttu-id="fb060-117">1,3</span><span class="sxs-lookup"><span data-stu-id="fb060-117">1.3</span></span>          | <span data-ttu-id="fb060-118">0x00010003</span><span class="sxs-lookup"><span data-stu-id="fb060-118">0x00010003</span></span>    |
| <span data-ttu-id="fb060-119">1.4</span><span class="sxs-lookup"><span data-stu-id="fb060-119">1.4</span></span>          | <span data-ttu-id="fb060-120">0x00010004</span><span class="sxs-lookup"><span data-stu-id="fb060-120">0x00010004</span></span>    |
| <span data-ttu-id="fb060-121">2,0</span><span class="sxs-lookup"><span data-stu-id="fb060-121">2.0</span></span>          | <span data-ttu-id="fb060-122">0x00020000</span><span class="sxs-lookup"><span data-stu-id="fb060-122">0x00020000</span></span>    |
| <span data-ttu-id="fb060-123">2.1</span><span class="sxs-lookup"><span data-stu-id="fb060-123">2.1</span></span>          | <span data-ttu-id="fb060-124">0x00020001</span><span class="sxs-lookup"><span data-stu-id="fb060-124">0x00020001</span></span>    |
| <span data-ttu-id="fb060-125">2.2</span><span class="sxs-lookup"><span data-stu-id="fb060-125">2.2</span></span>          | <span data-ttu-id="fb060-126">0x00020002</span><span class="sxs-lookup"><span data-stu-id="fb060-126">0x00020002</span></span>    |



 

<span data-ttu-id="fb060-127">No entanto, a TAPI torna isso muito mais fácil, desde que o próprio TSP esteja usando uma versão mais recente do que o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fb060-127">However, TAPI makes this much easier as long as the TSP itself is using a newer version than the application.</span></span> <span data-ttu-id="fb060-128">Se o TSP for realmente mais recente, a TAPI será capaz de traduzir "para baixo" para a versão do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="fb060-128">If the TSP is indeed newer, then TAPI is capable of translating "down" to the application's version.</span></span> <span data-ttu-id="fb060-129">Por exemplo, a TAPI 2,0 TSPs não precisa ser especificamente capaz de lidar com a TAPI versão 1,4.</span><span class="sxs-lookup"><span data-stu-id="fb060-129">For example, TAPI 2.0 TSPs do not need to be specifically capable of dealing with TAPI version 1.4.</span></span> <span data-ttu-id="fb060-130">Se um aplicativo TAPI 1,4 for executado, a TAPI converterá todas as estruturas e mensagens da TAPI 2,0 em equivalentes a TAPI 1,4 ou o mais próximo possível.</span><span class="sxs-lookup"><span data-stu-id="fb060-130">If a TAPI 1.4 application is run, TAPI converts all TAPI 2.0 structures and messages into TAPI 1.4 equivalents, or as close as possible.</span></span> <span data-ttu-id="fb060-131">Se não houver uma aproximação próxima no TAPI 1,4, todas as informações específicas da TAPI 2,0 serão perdidas.</span><span class="sxs-lookup"><span data-stu-id="fb060-131">If there is no close approximation in TAPI 1.4, then all TAPI 2.0-specific information will be lost.</span></span>

<span data-ttu-id="fb060-132">O significado preciso de uma versão de extensão é específico do provedor.</span><span class="sxs-lookup"><span data-stu-id="fb060-132">The precise meaning of an extension version is provider-specific.</span></span> <span data-ttu-id="fb060-133">Para usar um TSP que ofereça suporte a extensões, consulte a documentação do provedor.</span><span class="sxs-lookup"><span data-stu-id="fb060-133">To use a TSP that supports extensions, consult the provider's documentation.</span></span>

<span data-ttu-id="fb060-134">Há várias versões da TAPI.</span><span class="sxs-lookup"><span data-stu-id="fb060-134">There are a number of versions of TAPI.</span></span> <span data-ttu-id="fb060-135">Embora a maioria dessas versões envolvam alterações nos conjuntos de documentação da TAPI e da TSPI (interface do provedor de serviços de telefonia), há outras implicações para cada versão, ou seja, diferenças arquitetônicas, variações de sistema operacional, redistribuíveis e problemas de desenvolvimento do TSP.</span><span class="sxs-lookup"><span data-stu-id="fb060-135">While most of these versions involved changes to the TAPI and Telephony Service Provider Interface (TSPI) documentation sets, there are other implications for each version, namely, architectural differences, operating system variations, redistributables, and TSP development issues.</span></span>



| <span data-ttu-id="fb060-136">Versão da TAPI</span><span class="sxs-lookup"><span data-stu-id="fb060-136">TAPI version</span></span>        | <span data-ttu-id="fb060-137">Distribuição</span><span class="sxs-lookup"><span data-stu-id="fb060-137">Distribution</span></span>                                                   |
|---------------------|----------------------------------------------------------------|
| <span data-ttu-id="fb060-138">1,0 – 1,2</span><span class="sxs-lookup"><span data-stu-id="fb060-138">1.0 – 1.2</span></span>           | <span data-ttu-id="fb060-139">Versões beta que não devem mais ser usadas.</span><span class="sxs-lookup"><span data-stu-id="fb060-139">Beta versions that should not be used any longer.</span></span>              |
| [<span data-ttu-id="fb060-140">1.4</span><span class="sxs-lookup"><span data-stu-id="fb060-140">1.4</span></span>](tapi-1-4.md) | <span data-ttu-id="fb060-141">Incluído no Windows 95.</span><span class="sxs-lookup"><span data-stu-id="fb060-141">Included in Windows 95.</span></span>                                        |
| [<span data-ttu-id="fb060-142">1.5</span><span class="sxs-lookup"><span data-stu-id="fb060-142">1.5</span></span>](tapi-1-5.md) | <span data-ttu-id="fb060-143">Incluído no Windows CE 1,0.</span><span class="sxs-lookup"><span data-stu-id="fb060-143">Included in Windows CE 1.0.</span></span>                                    |
| [<span data-ttu-id="fb060-144">2.0</span><span class="sxs-lookup"><span data-stu-id="fb060-144">2.0</span></span>](tapi-2-0.md) | <span data-ttu-id="fb060-145">Incluído no Windows NT 4,0 com SP3.</span><span class="sxs-lookup"><span data-stu-id="fb060-145">Included in Windows NT 4.0 with SP3.</span></span>                           |
| [<span data-ttu-id="fb060-146">2.1</span><span class="sxs-lookup"><span data-stu-id="fb060-146">2.1</span></span>](tapi-2-1.md) | <span data-ttu-id="fb060-147">Incluído no Windows NT 4,0 com SP4 e Windows 98.</span><span class="sxs-lookup"><span data-stu-id="fb060-147">Included in Windows NT 4.0 with SP4 and Windows 98.</span></span>            |
| [<span data-ttu-id="fb060-148">2.2</span><span class="sxs-lookup"><span data-stu-id="fb060-148">2.2</span></span>](tapi-2-2.md) | <span data-ttu-id="fb060-149">Incluído no Windows Server 2003, Windows XP e Windows 2000.</span><span class="sxs-lookup"><span data-stu-id="fb060-149">Included in Windows Server 2003, Windows XP, and Windows 2000.</span></span> |



 

 

 



