---
description: Suponha que para os fins de um exemplo que o aplicativo chama a função TAPI lineConfigDialog, que foi projetada para abrir uma caixa de diálogo para permitir a configuração das opções do provedor de serviços relacionadas ao dispositivo de linha especificado.
ms.assetid: a388d192-a327-4e67-968b-344d80c19fb1
title: Funções projetadas para gerar a interface do usuário
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: fa360effd2a1504d2325be2131c430664f1e7a5c
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103920922"
---
# <a name="functions-designed-to-generate-ui"></a><span data-ttu-id="19fb2-103">Funções projetadas para gerar a interface do usuário</span><span class="sxs-lookup"><span data-stu-id="19fb2-103">Functions Designed to Generate UI</span></span>

<span data-ttu-id="19fb2-104">Suponha que para os fins de um exemplo que o aplicativo chama a função TAPI [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) , que foi projetada para abrir uma caixa de diálogo para permitir a configuração das opções do provedor de serviços relacionadas ao dispositivo de linha especificado.</span><span class="sxs-lookup"><span data-stu-id="19fb2-104">Assume for the purposes of an example that the application calls the TAPI [**lineConfigDialog**](/windows/win32/api/tapi/nf-tapi-lineconfigdialog) function, which is designed to open a dialog box to allow configuration of service provider options related to the specified line device.</span></span> <span data-ttu-id="19fb2-105">Em resposta a essa chamada, a TAPI solicita TAPISRV para chamar o [**TSPI \_ providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) no provedor de serviços de telefonia, obtendo o nome da dll da interface do usuário do tsp.</span><span class="sxs-lookup"><span data-stu-id="19fb2-105">In response to this call, TAPI requests TAPISRV to call [**TSPI\_providerUIIdentify**](/windows/win32/api/tspi/nf-tspi-tspi_provideruiidentify) in the telephony service provider, obtaining the name of the TSP UI DLL.</span></span>

<span data-ttu-id="19fb2-106">No contexto do aplicativo, a TAPI carrega a DLL da interface do usuário do TSP e chama a função [**TUISPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) com os parâmetros fornecidos pelo aplicativo e inclui um ponteiro para a função [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) TAPI.</span><span class="sxs-lookup"><span data-stu-id="19fb2-106">In the application's context, TAPI loads the TSP UI DLL and calls the [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog) function with the parameters supplied by the application, and including a pointer to the TAPI [*DllCallbackProc*](/windows/win32/api/tspi/nc-tspi-tuispidllcallback) function.</span></span> <span data-ttu-id="19fb2-107">A DLL da interface do usuário do TSP exibe a caixa de diálogo configuração, chamando a função *DllCallbackProc* conforme necessário para obter do provedor de serviços de telefonia as informações a serem exibidas.</span><span class="sxs-lookup"><span data-stu-id="19fb2-107">The TSP UI DLL displays the configuration dialog box, calling the *DllCallbackProc* function as necessary to obtain from the telephony service provider the information to display.</span></span> <span data-ttu-id="19fb2-108">Cada vez que a função *DllCallbackProc* é chamada, a TAPI solicita TAPISRV para chamar a função [**TSPI \_ providerGenericDialogData**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) do provedor de serviços de telefonia, passando o bloco de parâmetro do DLL da interface do usuário e retornando o bloco de parâmetro para a DLL da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="19fb2-108">Each time the *DllCallbackProc* function is called, TAPI requests TAPISRV to call the telephony service provider's [**TSPI\_providerGenericDialogData**](/windows/win32/api/tspi/nf-tspi-tspi_providergenericdialogdata) function, passing in the parameter block from the UI DLL, and returning the parameter block to the UI DLL.</span></span> <span data-ttu-id="19fb2-109">A DLL da interface do usuário transmite quaisquer alterações de configuração para o provedor de serviços de telefonia chamando *DllCallbackProc*.</span><span class="sxs-lookup"><span data-stu-id="19fb2-109">The UI DLL conveys any configuration changes to the telephony service provider by calling *DllCallbackProc*.</span></span>

<span data-ttu-id="19fb2-110">Quando a função é concluída, a DLL da interface do usuário retorna de (neste caso) [**TUISPI \_ lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span><span class="sxs-lookup"><span data-stu-id="19fb2-110">When the function is complete, the UI DLL returns from (in this case) [**TUISPI\_lineConfigDialog**](/windows/win32/api/tspi/nf-tspi-tuispi_lineconfigdialog).</span></span> <span data-ttu-id="19fb2-111">A TAPI chama a função [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) para liberar a DLL da interface do usuário e retorna para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="19fb2-111">TAPI calls the [**FreeLibrary**](/windows/desktop/api/libloaderapi/nf-libloaderapi-freelibrary) function to release the UI DLL, and returns to the application.</span></span>

 

 
