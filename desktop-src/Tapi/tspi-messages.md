---
description: Esta seção contém uma lista das mensagens na interface do provedor de serviços de telefonia (TSPI).
ms.assetid: 3d8bf980-81d6-49db-954f-af72458365dc
title: Mensagens TSPI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5f5772a1ccb0c07f03b2a17348ecf5e4834bb97a
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105779440"
---
# <a name="tspi-messages"></a><span data-ttu-id="214b4-103">Mensagens TSPI</span><span class="sxs-lookup"><span data-stu-id="214b4-103">TSPI Messages</span></span>

<span data-ttu-id="214b4-104">Esta seção contém uma lista das mensagens na interface do provedor de serviços de telefonia (TSPI).</span><span class="sxs-lookup"><span data-stu-id="214b4-104">This section contains a list of the messages in the Telephony Service Provider Interface (TSPI).</span></span> <span data-ttu-id="214b4-105">Essas mensagens são usadas para notificar a TAPI sobre a ocorrência de eventos assíncronos que ocorrem espontaneamente dentro do provedor de serviços.</span><span class="sxs-lookup"><span data-stu-id="214b4-105">These messages are used to notify TAPI of the occurrence of asynchronous events that spontaneously occur within the service provider.</span></span> <span data-ttu-id="214b4-106">O provedor de serviços passa esses eventos para a TAPI chamando uma função de retorno de chamada [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) ou [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) , dependendo se o provedor de serviços está relatando um evento em um dispositivo de linha, chamada ou telefone.</span><span class="sxs-lookup"><span data-stu-id="214b4-106">The service provider passes these events to TAPI by calling a [**LINEEVENT**](/windows/win32/api/tspi/nc-tspi-lineevent) or [**PHONEEVENT**](/windows/desktop/api/tspi/nc-tspi-phoneevent) callback function, depending on whether the service provider is reporting an event on a line, call, or phone device.</span></span> <span data-ttu-id="214b4-107">O procedimento **LINEEVENT** para relatar eventos que ocorrem em uma linha ou chamada é fornecido ao provedor de serviços no momento em que a linha é aberta com a função [**\_ lineOpen do TSPI**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) .</span><span class="sxs-lookup"><span data-stu-id="214b4-107">The **LINEEVENT** procedure for reporting events occurring on a line or call is supplied to the service provider at the time the line is opened with the [**TSPI\_lineOpen**](/windows/win32/api/tspi/nf-tspi-tspi_lineopen) function.</span></span> <span data-ttu-id="214b4-108">O procedimento **PHONEEVENT** para relatar eventos que ocorrem em um telefone é fornecido com a [**função \_ phoneOpen do TSPI**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) .</span><span class="sxs-lookup"><span data-stu-id="214b4-108">The **PHONEEVENT** procedure for reporting events occurring on a phone is supplied with the [**TSPI\_phoneOpen**](/windows/win32/api/tspi/nf-tspi-tspi_phoneopen) function.</span></span>

<span data-ttu-id="214b4-109">Esses eventos ESPONTANEOS não são solicitados pela TAPI, no sentido de que eles não são uma resposta direta a qualquer solicitação.</span><span class="sxs-lookup"><span data-stu-id="214b4-109">These spontaneous events are unsolicited by TAPI in the sense that they are not a direct response to any request.</span></span> <span data-ttu-id="214b4-110">Esses eventos contrastam com a conclusão dos relatórios de solicitações feitas pela TAPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-110">These events contrast with those reporting completion of requests made by TAPI.</span></span> <span data-ttu-id="214b4-111">Esses eventos de conclusão são relatados pela função de retorno de chamada de [**\_ conclusão assíncrona**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="214b4-111">Such completion events are reported through the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback function.</span></span>

<span data-ttu-id="214b4-112">Os perfis de parâmetro dos procedimentos de evento espontaneal incluem parâmetros que identificam o objeto relevante para o qual o evento está sendo relatado (telefone, linha ou chamada).</span><span class="sxs-lookup"><span data-stu-id="214b4-112">The parameter profiles for the spontaneous event procedures include parameters that identify the relevant object for which the event is being reported (phone, line, or call).</span></span> <span data-ttu-id="214b4-113">A identificação está na forma de um identificador opaco cuja interpretação exata não é publicada pelo TSPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-113">The identification is in the form of an opaque handle whose exact interpretation is not published by TSPI.</span></span> <span data-ttu-id="214b4-114">A TAPI internamente determina a relação entre esses identificadores opacos e quaisquer estruturas de dados usadas para representar os dispositivos.</span><span class="sxs-lookup"><span data-stu-id="214b4-114">TAPI internally determines the relationship between these opaque handles and whatever data structures it used to represent the devices.</span></span>

<span data-ttu-id="214b4-115">O perfil de parâmetro para procedimentos de evento de espontaneidade também inclui um parâmetro de mensagem que identifica o tipo da mensagem.</span><span class="sxs-lookup"><span data-stu-id="214b4-115">The parameter profile for spontaneous event procedures also includes a message parameter identifying the type of the message.</span></span> <span data-ttu-id="214b4-116">Cada tipo de mensagem tem uma definição correspondente que determina os identificadores que são incluídos, juntamente com outros parâmetros e seus significados.</span><span class="sxs-lookup"><span data-stu-id="214b4-116">Each message type has a corresponding definition that determines the handles that are included, along with other parameters and their meanings.</span></span> <span data-ttu-id="214b4-117">Há uma correspondência muito forte entre as mensagens que aparecem no nível de TSPI e as que aparecem no nível da TAPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-117">There is a very strong correspondence between the messages appearing at the TSPI level and those that appear at the TAPI level.</span></span> <span data-ttu-id="214b4-118">Estas são as regras gerais de correspondência:</span><span class="sxs-lookup"><span data-stu-id="214b4-118">These are the general rules of correspondence:</span></span>

-   <span data-ttu-id="214b4-119">O conjunto de mensagens é quase idêntico.</span><span class="sxs-lookup"><span data-stu-id="214b4-119">The set of messages is nearly identical.</span></span> <span data-ttu-id="214b4-120">Quando as mensagens correspondem, o mesmo nome de mensagem e valor são usados no nível de TSPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-120">Where messages correspond, the same message name and value is used at the TSPI level.</span></span>
-   <span data-ttu-id="214b4-121">Os identificadores que aparecem no nível de TSPI são os tipos opacos definidos pela especificação TSPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-121">Handles appearing at the TSPI level are the opaque types defined by the TSPI specification.</span></span> <span data-ttu-id="214b4-122">Esses tipos (e sua interpretação) diferem daqueles no nível da TAPI, embora eles se refiram à mesma classe de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="214b4-122">These types (and their interpretation) differ from those at the TAPI level, although they refer to the same class of device.</span></span> <span data-ttu-id="214b4-123">Por exemplo, em que uma mensagem TAPI inclui um identificador HLINE, a mensagem TSPI correspondente normalmente incluiria um identificador [**HTAPILINE**](htapiline.md) .</span><span class="sxs-lookup"><span data-stu-id="214b4-123">For example, where a TAPI message includes an HLINE handle, the corresponding TSPI message would typically include an [**HTAPILINE**](htapiline.md) handle.</span></span>
-   <span data-ttu-id="214b4-124">Não há dados de *dwCallBackInstance* passados para o retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="214b4-124">There is no *dwCallbackInstance* data passed to the callback.</span></span>
-   <span data-ttu-id="214b4-125">Os parâmetros *dwParam1*, *dwParam2* e *dwParam3* são geralmente idênticos aos parâmetros correspondentes para a mensagem TAPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-125">The *dwParam1*, *dwParam2*, and *dwParam3* parameters are usually identical to the corresponding parameters for the TAPI message.</span></span>
-   <span data-ttu-id="214b4-126">As mensagens orientadas a linha e orientadas a chamadas são passadas para um procedimento de retorno de chamada diferente de mensagens orientadas por telefone.</span><span class="sxs-lookup"><span data-stu-id="214b4-126">Line-oriented and call-oriented messages are passed to a different callback procedure than phone-oriented messages.</span></span>

<span data-ttu-id="214b4-127">Para cada mensagem, esta seção lista os seguintes itens:</span><span class="sxs-lookup"><span data-stu-id="214b4-127">For each message, this section lists the following items:</span></span>

-   <span data-ttu-id="214b4-128">A finalidade da mensagem</span><span class="sxs-lookup"><span data-stu-id="214b4-128">The purpose of the message</span></span>
-   <span data-ttu-id="214b4-129">O procedimento de retorno de chamada para o qual esta mensagem é passada</span><span class="sxs-lookup"><span data-stu-id="214b4-129">The callback procedure to which this message is passed</span></span>
-   <span data-ttu-id="214b4-130">Uma descrição dos parâmetros da mensagem</span><span class="sxs-lookup"><span data-stu-id="214b4-130">A description of the message parameters</span></span>
-   <span data-ttu-id="214b4-131">Comentários opcionais sobre como usar a mensagem</span><span class="sxs-lookup"><span data-stu-id="214b4-131">Optional comments about using the message</span></span>
-   <span data-ttu-id="214b4-132">Referências opcionais a outras funções, mensagens e estruturas de dados</span><span class="sxs-lookup"><span data-stu-id="214b4-132">Optional references to other functions, messages, and data structures</span></span>
-   <span data-ttu-id="214b4-133">Comentários opcionais comparando esta mensagem à interface TAPI</span><span class="sxs-lookup"><span data-stu-id="214b4-133">Optional comments comparing this message to the TAPI interface</span></span>

<span data-ttu-id="214b4-134">Determinadas mensagens são usadas para notificar a TAPI sobre uma alteração no status de um objeto.</span><span class="sxs-lookup"><span data-stu-id="214b4-134">Certain messages are used to notify TAPI about a change in an object's status.</span></span> <span data-ttu-id="214b4-135">Essas mensagens fornecem o identificador de objeto TAPI opaco e uma indicação de qual item de status foi alterado.</span><span class="sxs-lookup"><span data-stu-id="214b4-135">These messages provide the TAPI opaque object handle and an indication of which status item has changed.</span></span> <span data-ttu-id="214b4-136">A TAPI pode, subsequentemente, chamar uma função apropriada de "Get status" do objeto para obter o status completo do objeto.</span><span class="sxs-lookup"><span data-stu-id="214b4-136">TAPI can subsequently call an appropriate "get status" function of the object to obtain the object's full status.</span></span>

<span data-ttu-id="214b4-137">Quando ocorre um evento, uma mensagem pode ou não ser enviada para a TAPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-137">When an event occurs, a message may or may not be sent to TAPI.</span></span> <span data-ttu-id="214b4-138">Para alguns tipos de eventos, como alterações de status, a TAPI especifica um conjunto de alterações de status em que ele está interessado.</span><span class="sxs-lookup"><span data-stu-id="214b4-138">For some event types, such as status changes, TAPI specifies a set of status changes in which it is interested.</span></span> <span data-ttu-id="214b4-139">O provedor de serviços é aconselhado a limitar os eventos de mensagem de alteração de status que ele relata para aqueles incluídos neste conjunto.</span><span class="sxs-lookup"><span data-stu-id="214b4-139">The service provider is advised to limit the status-change message events it reports to those included in this set.</span></span> <span data-ttu-id="214b4-140">O provedor de serviços não precisa aderir a esse limite.</span><span class="sxs-lookup"><span data-stu-id="214b4-140">The service provider is not required to adhere to this limit.</span></span> <span data-ttu-id="214b4-141">Em outras palavras, ele pode relatar mais alterações do que são estritamente necessárias.</span><span class="sxs-lookup"><span data-stu-id="214b4-141">In other words, it may report more changes than are strictly necessary.</span></span> <span data-ttu-id="214b4-142">No entanto, ele deve tentar observar o limite por motivos de desempenho.</span><span class="sxs-lookup"><span data-stu-id="214b4-142">However, it should try to observe the limit for performance reasons.</span></span>

<span data-ttu-id="214b4-143">A mensagem de resposta de linha \_ não é usada no nível de TSPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-143">The LINE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="214b4-144">A conclusão de uma solicitação assíncrona é relatada usando o retorno de chamada de [**\_ conclusão assíncrona**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="214b4-144">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="214b4-145">A mensagem de resposta do telefone \_ não é usada no nível de TSPI.</span><span class="sxs-lookup"><span data-stu-id="214b4-145">The PHONE\_REPLY message is not used at the TSPI level.</span></span> <span data-ttu-id="214b4-146">A conclusão de uma solicitação assíncrona é relatada usando o retorno de chamada de [**\_ conclusão assíncrona**](/windows/win32/api/tspi/nc-tspi-async_completion) .</span><span class="sxs-lookup"><span data-stu-id="214b4-146">Completion of an asynchronous request is reported using the [**ASYNC\_COMPLETION**](/windows/win32/api/tspi/nc-tspi-async_completion) callback.</span></span>

<span data-ttu-id="214b4-147">Para obter mais informações, consulte estes tópicos:</span><span class="sxs-lookup"><span data-stu-id="214b4-147">For more information see the following topics:</span></span>

-   [<span data-ttu-id="214b4-148">Mensagens do dispositivo TSPI line</span><span class="sxs-lookup"><span data-stu-id="214b4-148">TSPI Line Device Messages</span></span>](tspi-line-device-messages.md)
-   [<span data-ttu-id="214b4-149">Mensagens do dispositivo TSPI Phone</span><span class="sxs-lookup"><span data-stu-id="214b4-149">TSPI Phone Device Messages</span></span>](tspi-phone-device-messages.md)

 

 
