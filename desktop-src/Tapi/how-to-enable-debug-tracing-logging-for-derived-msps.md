---
description: O procedimento a seguir descreve como habilitar o rastreamento de depuração e o registro em log.
ms.assetid: 52381397-df75-4d81-a048-f0ed408ac6b8
title: Como habilitar o rastreamento/log de depuração para MSPs derivadas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3883d12c050f245cc58595c9a52586c4f01ba27f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105767762"
---
# <a name="how-to-enable-debug-tracinglogging-for-derived-msps"></a><span data-ttu-id="40948-103">Como habilitar o rastreamento/log de depuração para MSPs derivadas</span><span class="sxs-lookup"><span data-stu-id="40948-103">How to Enable Debug Tracing/Logging for Derived MSPs</span></span>

<span data-ttu-id="40948-104">Primeiro, certifique-se de que a implementação do MSP derivado seguiu as diretrizes na seção anterior com relação ao rastreamento de depuração (definindo o símbolo de pré-processador MSPLOG, registrando para rastreamento durante DllMain e usando a macro de LOG para rastreamento).</span><span class="sxs-lookup"><span data-stu-id="40948-104">First, make sure that the implementation of the derived MSP has followed the guidelines in the previous section with regard to debug tracing (defining the preprocessor symbol MSPLOG, registering for tracing during DllMain, and using the LOG macro for tracing).</span></span> <span data-ttu-id="40948-105">Descubra o nome que o MSP usa ao se registrar para o rastreamento (isso normalmente deve ser o nome da DLL; ele é mencionado abaixo como " &lt; nome da dll &gt; ").</span><span class="sxs-lookup"><span data-stu-id="40948-105">Find out what name the MSP uses when registering for tracing (this should usually be the DLL's name; it is referred to below as "&lt;dll name&gt;").</span></span> <span data-ttu-id="40948-106">Para habilitar o rastreamento, use um editor de registro ("Regedit.exe" ou "Regedt32.exe") para localizar a chave "HKEY \_ local \_ Machine \\ software \\ Microsoft \\ Tracing" e faça o seguinte.</span><span class="sxs-lookup"><span data-stu-id="40948-106">To enable tracing, use a registry editor ("Regedit.exe" or "Regedt32.exe") to locate the key "HKEY\_LOCAL\_MACHINE\\Software\\Microsoft\\Tracing" and do the following.</span></span> <span data-ttu-id="40948-107">Observe que todos os valores mencionados abaixo, exceto o valor de EnableDebuggerTracing, devem ser criados automaticamente após a execução do MSP pela primeira vez.</span><span class="sxs-lookup"><span data-stu-id="40948-107">Note that all of the values mentioned below, except the EnableDebuggerTracing value, should be created automatically after running your MSP for the first time.</span></span>

-   <span data-ttu-id="40948-108">Para habilitar o rastreamento para os depuradores de modo kernel e usuário, defina o valor **DWORD** <dll name> \\ EnableDebuggerTracing como 1.</span><span class="sxs-lookup"><span data-stu-id="40948-108">To enable tracing to user and kernel mode debuggers, set the **DWORD** value <dll name>\\EnableDebuggerTracing to 1.</span></span> <span data-ttu-id="40948-109">Opcionalmente, use o  valor DWORD <dll name> \\ ConsoleTracing Mask para habilitar ou desabilitar vários níveis de saída de rastreamento (o padrão é 0xFFFF0000, que habilita todos os níveis de rastreamento).</span><span class="sxs-lookup"><span data-stu-id="40948-109">Optionally, use the **DWORD** value <dll name>\\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>
-   <span data-ttu-id="40948-110">Para habilitar o rastreamento em um arquivo, defina o valor **DWORD** <dll name> \\ EnableFileTracing como 1.</span><span class="sxs-lookup"><span data-stu-id="40948-110">To enable tracing to a file, set the **DWORD** value <dll name>\\EnableFileTracing to 1.</span></span> <span data-ttu-id="40948-111">Opcionalmente, use o valor da cadeia de caracteres <dll name> \\ fileDirectory para ajustar o local do arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="40948-111">Optionally, use the string value <dll name>\\FileDirectory to adjust the location of the log file.</span></span> <span data-ttu-id="40948-112">Opcionalmente, use o  valor DWORD <dll name> \\ FileTracingMask para habilitar ou desabilitar vários níveis de saída de rastreamento (o padrão é 0xFFFF0000, que habilita todos os níveis de rastreamento).</span><span class="sxs-lookup"><span data-stu-id="40948-112">Optionally, use the **DWORD** value <dll name>\\FileTracingMask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>
-   <span data-ttu-id="40948-113">Para habilitar o rastreamento para uma janela de console separada, separada por DLL, defina o valor **DWORD** EnableConsoleTracing como 1 e também defina o valor **DWORD** <dll name> \\ EnableConsoleTracing como 1.</span><span class="sxs-lookup"><span data-stu-id="40948-113">To enable tracing to a separate console window, separated by DLL, set the **DWORD** value EnableConsoleTracing to 1, AND ALSO set the **DWORD** value <dll name>\\EnableConsoleTracing to 1.</span></span> <span data-ttu-id="40948-114">Opcionalmente, use o  valor DWORD <dll name> \\ ConsoleTracing Mask para habilitar ou desabilitar vários níveis de saída de rastreamento (o padrão é 0xFFFF0000, que habilita todos os níveis de rastreamento).</span><span class="sxs-lookup"><span data-stu-id="40948-114">Optionally, use the **DWORD** value <dll name>\\ConsoleTracing Mask to enable or disable various levels of trace output (the default is 0xFFFF0000, which enables all trace levels).</span></span>

 

 



