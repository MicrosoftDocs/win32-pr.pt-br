---
description: 'Para dar suporte a uma operação de backup incremental ou diferencial, um solicitante deve fazer o seguinte:'
ms.assetid: a77700e3-8217-460e-bec9-1041d03eec41
title: Função de solicitante no VSS backups incrementais e diferenciais
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 718a5a0b22d9cc1cfa31404b3a0ac71a3a07731f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105783664"
---
# <a name="requester-role-in-vss-incremental-and-differential-backups"></a><span data-ttu-id="52a6a-103">Função de solicitante no VSS backups incrementais e diferenciais</span><span class="sxs-lookup"><span data-stu-id="52a6a-103">Requester Role in VSS Incremental and Differential Backups</span></span>

<span data-ttu-id="52a6a-104">Para dar suporte a uma operação de backup [*incremental*](vssgloss-i.md) ou [*diferencial*](vssgloss-d.md) , um solicitante deve fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="52a6a-104">To support an [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup operation, a requester must do the following:</span></span>

1.  <span data-ttu-id="52a6a-105">Determine qual grau de suporte do gravador está disponível (usando [**IVssBackupComponents:: GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) para obter acesso às informações em documentos de metadados do gravador) — em particular, determine qual esquema de backup tem suporte ([**esquema de \_ backup \_ do VSS**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)).</span><span class="sxs-lookup"><span data-stu-id="52a6a-105">Determine what degree of writer support is available (using [**IVssBackupComponents::GetWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritermetadata) to get access to information in Writer Metadata Documents)—in particular, determine which backup schema are supported ([**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema)).</span></span>
2.  <span data-ttu-id="52a6a-106">Defina um estado de backup apropriado.</span><span class="sxs-lookup"><span data-stu-id="52a6a-106">Set an appropriate backup state.</span></span>
3.  <span data-ttu-id="52a6a-107">Obtenha especificações de nível de conjunto de arquivos e arquivos para um backup incremental ou diferencial.</span><span class="sxs-lookup"><span data-stu-id="52a6a-107">Obtain file and file set level specifications for an incremental or differential backup.</span></span>
4.  <span data-ttu-id="52a6a-108">Execute o backup.</span><span class="sxs-lookup"><span data-stu-id="52a6a-108">Perform the backup.</span></span>

## <a name="requester-determination-of-incremental-and-differential-support-and-configuration"></a><span data-ttu-id="52a6a-109">Determinação do solicitante de suporte e configuração incremental e diferencial</span><span class="sxs-lookup"><span data-stu-id="52a6a-109">Requester Determination of Incremental and Differential Support and Configuration</span></span>

<span data-ttu-id="52a6a-110">Um solicitante precisa obter informações sobre o suporte do gravador antes de selecionar os componentes para inclusão em um backup incremental ou diferencial ou definir seu próprio estado.</span><span class="sxs-lookup"><span data-stu-id="52a6a-110">A requester needs to obtain information about writer support prior to selecting components for inclusion in an incremental or differential backup or setting its own state.</span></span>

<dl> <dt>

<span data-ttu-id="52a6a-111"><span id="Determining_Writer_Support"></span><span id="determining_writer_support"></span><span id="DETERMINING_WRITER_SUPPORT"></span>Determinando o suporte do gravador</span><span class="sxs-lookup"><span data-stu-id="52a6a-111"><span id="Determining_Writer_Support"></span><span id="determining_writer_support"></span><span id="DETERMINING_WRITER_SUPPORT"></span>Determining Writer Support</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-112">Um solicitante determina se um determinado gravador dá suporte a backups incrementais ou diferenciais do VSS recuperando a máscara de esquema de backup do gravador usando o método [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-112">A requester determines if a given writer supports VSS incremental or differential backups by retrieving the writer's backup schema mask using the [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema) method.</span></span>

<span data-ttu-id="52a6a-113">A máscara de esquema de backup de um gravador com suporte a técnicas incrementais ou diferenciais do VSS conterá o **\_ \_ diferencial** **VSS \_ BS \_ incremental** ou do VSS BS ou ambos.</span><span class="sxs-lookup"><span data-stu-id="52a6a-113">The backup schema mask of a writer supporting VSS incremental or differential techniques will contain either **VSS\_BS\_INCREMENTAL** or **VSS\_BS\_DIFFERENTIAL**, or both.</span></span> <span data-ttu-id="52a6a-114">Os gravadores também podem indicar restrições de sua participação com o sinalizador **\_ \_ \_ \_ diferencial incremental exclusivo do VSS BS** .</span><span class="sxs-lookup"><span data-stu-id="52a6a-114">Writers may also indicate restrictions on their participation with the **VSS\_BS\_EXCLUSIVE\_INCREMENTAL\_DIFFERENTIAL** flag.</span></span> <span data-ttu-id="52a6a-115">(Consulte [**\_ \_ esquema de backup do VSS**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) para obter mais informações sobre esquemas de backup).</span><span class="sxs-lookup"><span data-stu-id="52a6a-115">(See [**VSS\_BACKUP\_SCHEMA**](/windows/desktop/api/Vss/ne-vss-vss_backup_schema) for more information on backup schemas).</span></span>

</dd> <dt>

<span data-ttu-id="52a6a-116"><span id="Setting_Requester_Backup_State"></span><span id="setting_requester_backup_state"></span><span id="SETTING_REQUESTER_BACKUP_STATE"></span>Definindo o estado do backup do solicitante</span><span class="sxs-lookup"><span data-stu-id="52a6a-116"><span id="Setting_Requester_Backup_State"></span><span id="setting_requester_backup_state"></span><span id="SETTING_REQUESTER_BACKUP_STATE"></span>Setting Requester Backup State</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-117">Um solicitante indica que um backup é um backup incremental ou diferencial, definindo um tipo de backup como o **VSS \_ BT \_ incremental** ou **\_ \_ diferencial VSS BT** usando o método [**IVssBackupComponents:: setbackupstate**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) antes de gerar um evento [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-117">A requester indicates that a backup is an incremental or differential backup by setting a backup type to either **VSS\_BT\_INCREMENTAL** or **VSS\_BT\_DIFFERENTIAL** using the [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) method prior to generating a [**PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup) event.</span></span>

<span data-ttu-id="52a6a-118">O método [**IVssBackupComponents:: Setbackupstate**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) também é usado para indicar se o solicitante fornece [*suporte parcial a arquivos*](vssgloss-p.md), que é frequentemente usado para implementar determinadas operações de backup e restauração incrementais.</span><span class="sxs-lookup"><span data-stu-id="52a6a-118">The [**IVssBackupComponents::SetBackupState**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setbackupstate) method is also used to indicate whether the requester provides [*partial file support*](vssgloss-p.md), which is frequently used to implement certain incremental backup and restore operations.</span></span>

</dd> </dl>

## <a name="getting-writer-specifications-for-incremental-and-differential-backups"></a><span data-ttu-id="52a6a-119">Obtendo especificações de gravador para backups incrementais e diferenciais</span><span class="sxs-lookup"><span data-stu-id="52a6a-119">Getting Writer Specifications for Incremental and Differential Backups</span></span>

<span data-ttu-id="52a6a-120">As informações de especificação de backup de arquivo de nível de conjunto de arquivos ([**tipo de backup de \_ especificação de arquivo \_ \_ \_ VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) contidas no documento de metadados do gravador de cada gravador estão disponíveis para exame após o retorno bem-sucedido de [**IVssBackupComponents:: GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span><span class="sxs-lookup"><span data-stu-id="52a6a-120">The file-set-level file backup specification information ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) contained in each writer's Writer Metadata Document is available for examination after the successful return of [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span></span>

<span data-ttu-id="52a6a-121">No entanto, um gravador pode adicionar [*arquivos diferenciados*](vssgloss-d.md) ou solicitar [*suporte parcial a arquivos*](vssgloss-p.md) até o tratamento bem-sucedido do evento de [*instantâneo*](vssgloss-p.md) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-121">However, a writer can add [*differenced files*](vssgloss-d.md) or ask for [*partial file support*](vssgloss-p.md) until its successful handling of the [*PostSnapshot*](vssgloss-p.md) event.</span></span>

<span data-ttu-id="52a6a-122">O arquivo diferenciado e a especificação de suporte de arquivo parcial podem substituir o tipo de backup de especificação de arquivo, de modo que os solicitantes podem querer adiar uma análise completa de todas as especificações de gravador sobre backups incrementais e diferenciais até o retorno bem-sucedido de [**IVssBackupComponents::P repareforbackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup).</span><span class="sxs-lookup"><span data-stu-id="52a6a-122">Differenced file and partial file support specification can override the file specification backup type, so requesters may want to defer a full analysis of all writer specifications about incremental and differential backups until after the successful return of [**IVssBackupComponents::PrepareForBackup**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-prepareforbackup).</span></span>

<dl> <dt>

<span data-ttu-id="52a6a-123"><span id="Getting_File_Backup_Specification_Information"></span><span id="getting_file_backup_specification_information"></span><span id="GETTING_FILE_BACKUP_SPECIFICATION_INFORMATION"></span>Obtendo informações de especificação de backup de arquivo</span><span class="sxs-lookup"><span data-stu-id="52a6a-123"><span id="Getting_File_Backup_Specification_Information"></span><span id="getting_file_backup_specification_information"></span><span id="GETTING_FILE_BACKUP_SPECIFICATION_INFORMATION"></span>Getting File Backup Specification Information</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-124">As informações de especificação de backup de arquivo no nível do conjunto de arquivos ([**tipo de backup de \_ especificação do arquivo \_ \_ \_ VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) estão contidas no documento de metadados do gravador de cada gravador e podem ser examinadas imediatamente após o retorno bem-sucedido de [**IVssBackupComponents:: GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span><span class="sxs-lookup"><span data-stu-id="52a6a-124">The file-set-level file backup specification information ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) is contained in each writer's Writer Metadata Document, and can be examined immediately after the successful return of [**IVssBackupComponents::GatherWriterMetadata**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-gatherwritermetadata).</span></span>

<span data-ttu-id="52a6a-125">Os solicitantes devem obter máscaras de especificação de backup de arquivo ([**tipo de backup de \_ especificação de arquivo \_ \_ \_ VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) para cada conjunto de arquivos de cada um dos componentes do gravador a serem incluídos no backup incremental ou diferencial, independentemente de o componente ter sido [*explicitamente*](vssgloss-e.md) ou [*implicitamente*](vssgloss-i.md) incluído.</span><span class="sxs-lookup"><span data-stu-id="52a6a-125">Requesters must obtain file backup specification masks ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)) for every file set of each of a writer's components to be included in the incremental or differential backup, regardless of whether the component was [*explicitly*](vssgloss-e.md) or [*implicitly*](vssgloss-i.md) included.</span></span>

<span data-ttu-id="52a6a-126">Um solicitante pode determinar quais documentos de metadados do gravador do gravador devem ser consultados usando [**IVssBackupComponents:: GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) e [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="52a6a-126">A requester can determine which writers' Writer Metadata Document must be queried by using [**IVssBackupComponents::GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) and [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span> <span data-ttu-id="52a6a-127">A instância da interface [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) retornada por **IVssBackupComponents:: GetWriterComponents** fornece informações de gravador por meio do método [**IVssWriterComponentsExt:: GetWriterInfo**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getwriterinfo) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-127">The instance of the [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface returned by **IVssBackupComponents::GetWriterComponents** provides writer information through the [**IVssWriterComponentsExt::GetWriterInfo**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getwriterinfo) method.</span></span>

<span data-ttu-id="52a6a-128">O solicitante Obtém informações de componente por meio de instâncias da interface [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) correspondente a um componente incluído gerenciado por um determinado gravador usando [**IVssExamineWriterMetadata:: GetComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent).</span><span class="sxs-lookup"><span data-stu-id="52a6a-128">The requester obtains component information through instances of the [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) interface corresponding to an included component managed by a given writer by using [**IVssExamineWriterMetadata::GetComponent**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getcomponent).</span></span>

<span data-ttu-id="52a6a-129">As informações sobre conjuntos de arquivos gerenciados pelo componente correspondente à interface [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) são obtidas por chamadas para [**IVssWMComponent:: GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**IVssWMComponent:: getdatabasefile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile)ou [**IVssWMComponent:: GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) (conforme apropriado).</span><span class="sxs-lookup"><span data-stu-id="52a6a-129">The information about file sets managed by the component corresponding to the [**IVssWMComponent**](/windows/desktop/api/VsBackup/nl-vsbackup-ivsswmcomponent) interface is obtained by calls to [**IVssWMComponent::GetFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getfile), [**IVssWMComponent::GetDatabaseFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabasefile), or [**IVssWMComponent::GetDatabaseLogFile**](/windows/desktop/api/VsBackup/nf-vsbackup-ivsswmcomponent-getdatabaselogfile) (as appropriate).</span></span>

<span data-ttu-id="52a6a-130">Essas chamadas podem retornar instâncias da interface [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) para cada um dos conjuntos de arquivos de um componente.</span><span class="sxs-lookup"><span data-stu-id="52a6a-130">These calls can return instances of the [**IVssWMFiledesc**](/windows/desktop/api/VsWriter/nl-vswriter-ivsswmfiledesc) interface for each of a component's file sets.</span></span>

<span data-ttu-id="52a6a-131">Um tipo de backup de especificação de arquivo de um conjunto de arquivos é obtido chamando [**IVssWMFiledesc:: GetBackupTypeMask**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswmfiledesc-getbackuptypemask).</span><span class="sxs-lookup"><span data-stu-id="52a6a-131">A file set's file specification backup type is obtained by calling [**IVssWMFiledesc::GetBackupTypeMask**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswmfiledesc-getbackuptypemask).</span></span>

</dd> <dt>

<span data-ttu-id="52a6a-132"><span id="Getting_Partial_File_and_Differenced_File_Information"></span><span id="getting_partial_file_and_differenced_file_information"></span><span id="GETTING_PARTIAL_FILE_AND_DIFFERENCED_FILE_INFORMATION"></span>Obtendo informações parciais de arquivo e arquivo diferenciado</span><span class="sxs-lookup"><span data-stu-id="52a6a-132"><span id="Getting_Partial_File_and_Differenced_File_Information"></span><span id="getting_partial_file_and_differenced_file_information"></span><span id="GETTING_PARTIAL_FILE_AND_DIFFERENCED_FILE_INFORMATION"></span>Getting Partial File and Differenced File Information</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-133">Um solicitante Obtém o arquivo parcial e as informações de arquivo diferenciado por meio da interface [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-133">A requester obtains partial file and differenced file information through the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface.</span></span>

<span data-ttu-id="52a6a-134">Um solicitante pode iterar em todos os gravadores incluídos em um backup usando [**IVssBackupComponents:: GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) e [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span><span class="sxs-lookup"><span data-stu-id="52a6a-134">A requester can iterate over all writers included in a backup using [**IVssBackupComponents::GetWriterComponentsCount**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponentscount) and [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents).</span></span>

<span data-ttu-id="52a6a-135">A instância de uma interface [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) retornada por [**IVssBackupComponents:: GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents) fornece acesso a todas as instâncias da interface [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) correspondente a determinados componentes [*incluídos explicitamente*](vssgloss-e.md) de um gravador por meio dos métodos [**IVssWriterComponentsExt:: GetComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponent) e [**IVssWriterComponentsExt:: GetComponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponentcount) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-135">The instance of an [**IVssWriterComponentsExt**](/windows/win32/api/vsbackup/nl-vsbackup-ivsswritercomponentsext) interface returned by [**IVssBackupComponents::GetWriterComponents**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-getwritercomponents) provides access to all instances of the [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) interface corresponding to a given writer's [*explicitly included*](vssgloss-e.md) components through the [**IVssWriterComponentsExt::GetComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponent) and [**IVssWriterComponentsExt::GetComponentCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsswritercomponents-getcomponentcount) methods.</span></span>

<span data-ttu-id="52a6a-136">Um solicitante precisará passar por todas as instâncias de [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) para todos os gravadores cujo esquema dê suporte ao backup incremental ou diferencial, ou seja, gravadores cuja máscara de esquema de backup, conforme retornado por [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), inclui o **VSS \_ BS \_ incremental** quando o tipo de **backup for \_ \_** **VSS \_ BT \_ incremental** ou **\_ \_ diferencial do VSS**</span><span class="sxs-lookup"><span data-stu-id="52a6a-136">A requester will need to go through all instances of [**IVssComponent**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscomponent) for all writers whose schema support the incremental or differential backup—that is, writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_INCREMENTAL** when the backup type is **VSS\_BT\_INCREMENTAL**, or **VSS\_BS\_DIFFERENTIAL** when the backup type is **VSS\_BS\_DIFFERENTIAL**.</span></span>

<span data-ttu-id="52a6a-137">As informações parciais do arquivo são obtidas chamando [**IVssComponent:: GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount) e [**IVssComponent:: getparcialfile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile) (consulte [trabalhando com arquivos parciais](working-with-partial-files.md)).</span><span class="sxs-lookup"><span data-stu-id="52a6a-137">Partial file information is obtained by calling [**IVssComponent::GetPartialFileCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfilecount) and [**IVssComponent::GetPartialFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getpartialfile) (see [Working with Partial Files](working-with-partial-files.md)).</span></span>

<span data-ttu-id="52a6a-138">Para gravadores que dão suporte a operações de backup com base nos dados da última modificação de um arquivo (gravadores cuja máscara de esquema de backup, conforme retornado por [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), inclui o **VSS \_ BS \_ última \_ modificação**), as informações de arquivo diferenciado são obtidas chamando [**IVssComponent:: GetDifferencedFilesCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfilescount) e [**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile).</span><span class="sxs-lookup"><span data-stu-id="52a6a-138">For writers that support backup operations on the basis of a file's last modification data (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_LAST\_MODIFY**), differenced file information is obtained by calling [**IVssComponent::GetDifferencedFilesCount**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfilescount) and [**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile).</span></span>

<span data-ttu-id="52a6a-139">Observe que os arquivos diferenciados podem ser arquivos novos, ou seja, arquivos que não são membros de qualquer conjunto de arquivos atualmente em um documento de metadados do gravador específico.</span><span class="sxs-lookup"><span data-stu-id="52a6a-139">Note that differenced files may be new files—that is, files that are not members of any file set currently in a given writer's Writer Metadata Document.</span></span>

<span data-ttu-id="52a6a-140">Os solicitantes não devem localizar arquivos incluídos para operações de arquivo parcial e como arquivos diferenciados.</span><span class="sxs-lookup"><span data-stu-id="52a6a-140">Requesters should not find files included both for partial file operations and as differenced files.</span></span> <span data-ttu-id="52a6a-141">Se um solicitante encontrar tal circunstância, ele deverá retornar e registrar um erro do gravador.</span><span class="sxs-lookup"><span data-stu-id="52a6a-141">If a requester does encounter such a circumstance, it should return and log a writer error.</span></span>

<span data-ttu-id="52a6a-142">Um solicitante ainda pode optar por prosseguir com o backup dos arquivos do gravador problemáticos, mas, nesse caso, deve fazer isso de acordo com a especificação encontrada nas informações do arquivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="52a6a-142">A requester may still choose to proceed with backing up the problematic writer's files, but in that case should do so according to the specification found in the differenced file information.</span></span>

</dd> </dl>

## <a name="implementing-incremental-or-differential-backups"></a><span data-ttu-id="52a6a-143">Implementando backups incrementais ou diferenciais</span><span class="sxs-lookup"><span data-stu-id="52a6a-143">Implementing Incremental or Differential Backups</span></span>

<span data-ttu-id="52a6a-144">Antes de implementar um backup, os solicitantes devem ter informações sobre quais gravadores dão suporte a um backup [*incremental*](vssgloss-i.md) ou [*diferencial*](vssgloss-d.md) , todas as operações de arquivo parcial solicitadas, todos os arquivos diferenciados e o tipo de backup de especificação de arquivo de todos os outros arquivos.</span><span class="sxs-lookup"><span data-stu-id="52a6a-144">Prior to implementing a backup, requesters should have information about which writers support an [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup, all requested partial file operations, all differenced files, and the file specification backup type of all other files.</span></span>

<dl> <dt>

<span data-ttu-id="52a6a-145"><span id="Nonsupporting_Writers"></span><span id="nonsupporting_writers"></span><span id="NONSUPPORTING_WRITERS"></span>Gravadores sem suporte</span><span class="sxs-lookup"><span data-stu-id="52a6a-145"><span id="Nonsupporting_Writers"></span><span id="nonsupporting_writers"></span><span id="NONSUPPORTING_WRITERS"></span>Nonsupporting Writers</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-146">Os gravadores cujo esquema não dão suporte ao backup incremental ou diferencial (gravadores cuja máscara de esquema de backup, conforme retornado por [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), inclui o **VSS \_ BS \_ incremental** quando o tipo de backup é **\_ \_ incremental do VSS BT** ou não inclui o **\_ \_ diferencial do VSS BS** quando o tipo de backup é **\_ \_ diferencial do VSS**</span><span class="sxs-lookup"><span data-stu-id="52a6a-146">Writers whose schema do not support the incremental or differential backup (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_INCREMENTAL** when the backup type is **VSS\_BT\_INCREMENTAL** or does not include **VSS\_BS\_DIFFERENTIAL** when the backup type is **VSS\_BS\_DIFFERENTIAL**) cannot provide any direct support to an incremental or differential backup operation.</span></span>

<span data-ttu-id="52a6a-147">Isso não significa necessariamente que os dados dos gravadores não estarão envolvidos em uma operação de backup incremental ou diferencial.</span><span class="sxs-lookup"><span data-stu-id="52a6a-147">This does not necessarily mean that the writers' data will not be involved in an incremental or differential backup operation.</span></span> <span data-ttu-id="52a6a-148">No entanto, a escolha do que fazer é a critério do solicitante.</span><span class="sxs-lookup"><span data-stu-id="52a6a-148">However, the choice of what to do is at the discretion of the requester.</span></span> <span data-ttu-id="52a6a-149">O solicitante pode fazer o seguinte:</span><span class="sxs-lookup"><span data-stu-id="52a6a-149">The requester can do any of the following:</span></span>

-   <span data-ttu-id="52a6a-150">Fazer backup de nenhum arquivo pertencente aos gravadores sem suporte (indique claramente isso para o usuário)</span><span class="sxs-lookup"><span data-stu-id="52a6a-150">Back up no files belonging to the nonsupporting writers (clearly indicate this to the user)</span></span>
-   <span data-ttu-id="52a6a-151">Fazer backup de todos os arquivos de gravadores sem suporte</span><span class="sxs-lookup"><span data-stu-id="52a6a-151">Back up all the files of nonsupporting writers</span></span>
-   <span data-ttu-id="52a6a-152">Execute um backup incremental usando dados do sistema de arquivos e os próprios logs de histórico do solicitante.</span><span class="sxs-lookup"><span data-stu-id="52a6a-152">Perform an incremental backup using file system data and the requester's own history logs.</span></span>

<span data-ttu-id="52a6a-153">A última alternativa deve ser usada com muito cuidado e somente se o solicitante entender se os gravadores envolvidos podem dar suporte a backup incremental ou diferencial e à restauração de dados independentemente do mecanismo VSS.</span><span class="sxs-lookup"><span data-stu-id="52a6a-153">The last alternative should be used with great care, and only if the requester understands if the writers involved can support incremental or differential backup and restoration of data independent of the VSS mechanism.</span></span>

</dd> <dt>

<span data-ttu-id="52a6a-154"><span id="Supporting_Writers"></span><span id="supporting_writers"></span><span id="SUPPORTING_WRITERS"></span>Escritores de suporte</span><span class="sxs-lookup"><span data-stu-id="52a6a-154"><span id="Supporting_Writers"></span><span id="supporting_writers"></span><span id="SUPPORTING_WRITERS"></span>Supporting Writers</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-155">Um solicitante precisa processar (em ordem) todos os [*arquivos diferenciados*](vssgloss-d.md)do gravador, manipular todas as solicitações de [*arquivo parcial*](vssgloss-p.md) e, em seguida, fazer backup dos arquivos restantes de acordo com seu tipo de backup de especificação de arquivo ([**\_ \_ \_ \_ tipo de backup**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)de especificação de arquivo VSS).</span><span class="sxs-lookup"><span data-stu-id="52a6a-155">A requester needs to process (in order) all of a writer's [*differenced files*](vssgloss-d.md), then handle any [*partial file*](vssgloss-p.md) requests, and then back up remaining files according to their file specification backup type ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span></span>

1.  <span data-ttu-id="52a6a-156">**Fazendo backup de arquivos diferenciados:**</span><span class="sxs-lookup"><span data-stu-id="52a6a-156">**Backing up Differenced Files:**</span></span>

    <span data-ttu-id="52a6a-157">Para gravadores que dão suporte a operações de backup com base nos últimos dados de modificação (gravadores cuja máscara de esquema de backup, conforme retornado por [**IVssExamineWriterMetadata:: GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), inclui o **VSS \_ BS \_ última \_ modificação**), um solicitante usa as informações de caminho, especificação de arquivo e sinalizador de recursão retornada por [**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) para gerar uma lista de arquivos como candidatos para backup ou restauração incremental</span><span class="sxs-lookup"><span data-stu-id="52a6a-157">For writers that support backup operations on the basis of last modification data (writers whose backup schema mask, as returned by [**IVssExamineWriterMetadata::GetBackupSchema**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssexaminewritermetadata-getbackupschema), includes **VSS\_BS\_LAST\_MODIFY**), a requester uses the path, file specification, and recursion flag information returned by [**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) to generate a list of files as candidates for incremental backup or restore.</span></span>

    <span data-ttu-id="52a6a-158">[**IVssComponent:: GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) também pode retornar uma hora da última modificação (expressa como uma estrutura [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) ).</span><span class="sxs-lookup"><span data-stu-id="52a6a-158">[**IVssComponent::GetDifferencedFile**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-getdifferencedfile) can also return a time of last modification (expressed as a [**FILETIME**](/windows/win32/api/minwinbase/ns-minwinbase-filetime) structure).</span></span>

    <span data-ttu-id="52a6a-159">Se a hora da última modificação fornecida pelo gravador for diferente de zero, o solicitante a usará como base (em vez de informações do sistema de arquivos ou dos próprios dados armazenados do solicitante) para determinar se o arquivo deve ser incluído no backup [*incremental*](vssgloss-i.md) ou [*diferencial*](vssgloss-d.md) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-159">If the last modification time supplied by the writer is nonzero, then the requester uses it as the basis (rather than file system information or the requester's own stored data) for determining if the file should be included in the [*incremental*](vssgloss-i.md) or [*differential*](vssgloss-d.md) backup.</span></span>

    <span data-ttu-id="52a6a-160">Por exemplo, se a hora da última modificação do arquivo, conforme retornado pelo gravador foi:</span><span class="sxs-lookup"><span data-stu-id="52a6a-160">For instance, if a file's last modification time as returned by the writer was:</span></span>

    -   <span data-ttu-id="52a6a-161">Após o último backup completo, o arquivo deve ser incluído nos backups incrementais e diferenciais.</span><span class="sxs-lookup"><span data-stu-id="52a6a-161">After the last full backup, the file should be included in both incremental and differential backups.</span></span>
    -   <span data-ttu-id="52a6a-162">Após o último backup completo, mas antes do último backup incremental, o arquivo deve ser incluído em operações de backup incremental, mas não em backups diferenciais.</span><span class="sxs-lookup"><span data-stu-id="52a6a-162">After the last full backup but prior to the last incremental backup, the file should be included in incremental backup operations, but not differential backups.</span></span>

    <span data-ttu-id="52a6a-163">Se a hora da última modificação fornecida pelo gravador for zero, o solicitante deverá usar informações do sistema de arquivos e seus próprios dados armazenados para determinar a hora da modificação do arquivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="52a6a-163">If the last modification time supplied by the writer is zero, then the requester must use file system information and its own stored data to determine the modification time of the differenced file.</span></span>

2.  <span data-ttu-id="52a6a-164">**Usando operações de arquivo parcial:**</span><span class="sxs-lookup"><span data-stu-id="52a6a-164">**Using Partial File Operations:**</span></span>

    <span data-ttu-id="52a6a-165">Se um gravador solicitou o backup de um arquivo usando uma operação de arquivo parcial, o solicitante usará as informações de deslocamento do arquivo para salvar os segmentos de arquivo indicados na mídia de backup.</span><span class="sxs-lookup"><span data-stu-id="52a6a-165">If a writer has requested that a file be backed up using a partial file operation, the requester uses the file offset information to save the indicated file segments to backup media.</span></span> <span data-ttu-id="52a6a-166">(Consulte [trabalhando com arquivos parciais](working-with-partial-files.md) para obter mais informações sobre operações de arquivo parcial).</span><span class="sxs-lookup"><span data-stu-id="52a6a-166">(See [Working with Partial Files](working-with-partial-files.md) for more information on partial file operations).</span></span>

    <span data-ttu-id="52a6a-167">Como observado acima, um gravador não deve designar um arquivo como um arquivo diferenciado e como um participante em uma operação de arquivo parcial.</span><span class="sxs-lookup"><span data-stu-id="52a6a-167">As noted above, a writer should not designate a file both as a differenced file and as a participant in a partial file operation.</span></span> <span data-ttu-id="52a6a-168">Se um solicitante encontrar tal circunstância, ele deverá retornar e registrar um erro do gravador.</span><span class="sxs-lookup"><span data-stu-id="52a6a-168">If a requester does encounter such a circumstance, it should return and log a writer error.</span></span>

    <span data-ttu-id="52a6a-169">Um solicitante ainda pode optar por prosseguir com o backup dos arquivos do gravador problemáticos, mas, nesse caso, deve fazer isso de acordo com a especificação encontrada nas informações do arquivo diferenciado.</span><span class="sxs-lookup"><span data-stu-id="52a6a-169">A requester may still choose to proceed with backing up the problematic writer's files, but in that case should do so according to the specification found in the differenced file information.</span></span>

3.  <span data-ttu-id="52a6a-170">**Trabalhando com o tipo de backup de especificação de arquivo:**</span><span class="sxs-lookup"><span data-stu-id="52a6a-170">**Working with File Specification Backup Type:**</span></span>

    <span data-ttu-id="52a6a-171">Depois de processar todos os arquivos e operações de arquivo parciais, o solicitante agora processa todos os arquivos restantes em seu conjunto de backup com base em seu tipo de backup de especificação de arquivo ([**\_ \_ \_ \_ tipo de backup spec de arquivo VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span><span class="sxs-lookup"><span data-stu-id="52a6a-171">Having processed all differenced files and partial file operations, the requester now processes all remaining files in its backup set on the basis of their file specification backup type ([**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type)).</span></span>

    <span data-ttu-id="52a6a-172">Há três valores de "backup necessário" da enumeração [**de \_ \_ tipo de \_ backup \_ de especificação de arquivo do VSS**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) que afetam os backups diferenciais e incrementais:</span><span class="sxs-lookup"><span data-stu-id="52a6a-172">There are three "backup required" values of the [**VSS\_FILE\_SPEC\_BACKUP\_TYPE**](/windows/desktop/api/Vss/ne-vss-vss_file_spec_backup_type) enumeration that affect differential and incremental backups:</span></span>

    -   <span data-ttu-id="52a6a-173">BACKUP do VSS \_ FSBT \_ todo \_ \_ necessário</span><span class="sxs-lookup"><span data-stu-id="52a6a-173">VSS\_FSBT\_ALL\_BACKUP\_REQUIRED</span></span>
    -   <span data-ttu-id="52a6a-174">\_backup incremental do VSS FSBT \_ \_ \_ necessário</span><span class="sxs-lookup"><span data-stu-id="52a6a-174">VSS\_FSBT\_INCREMENTAL\_BACKUP\_REQUIRED</span></span>
    -   <span data-ttu-id="52a6a-175">\_ \_ backup diferencial do VSS FSBT \_ \_ necessário</span><span class="sxs-lookup"><span data-stu-id="52a6a-175">VSS\_FSBT\_DIFFERENTIAL\_BACKUP\_REQUIRED</span></span>

    <span data-ttu-id="52a6a-176">Há três valores de "cópia de sombra obrigatórias":</span><span class="sxs-lookup"><span data-stu-id="52a6a-176">There are three "shadow copy required" values:</span></span>

    -   <span data-ttu-id="52a6a-177">\_FSBT VSS \_ todos os \_ instantâneos \_ necessários</span><span class="sxs-lookup"><span data-stu-id="52a6a-177">VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED</span></span>
    -   <span data-ttu-id="52a6a-178">\_instantâneo incremental do VSS FSBT \_ \_ \_ necessário</span><span class="sxs-lookup"><span data-stu-id="52a6a-178">VSS\_FSBT\_INCREMENTAL\_SNAPSHOT\_REQUIRED</span></span>
    -   <span data-ttu-id="52a6a-179">\_ \_ instantâneo diferencial do VSS FSBT \_ \_ necessário</span><span class="sxs-lookup"><span data-stu-id="52a6a-179">VSS\_FSBT\_DIFFERENTIAL\_SNAPSHOT\_REQUIRED</span></span>

    <span data-ttu-id="52a6a-180">Conjuntos de arquivos marcados com um tipo de backup de especificação de arquivo de "cópia de sombra necessária" indicam que um solicitante precisa copiar dados de uma cópia de sombra ao executar as operações de backup INCREMENTAL, DIFERENCIAl ou todas (que inclui operações incrementais e diferenciais).</span><span class="sxs-lookup"><span data-stu-id="52a6a-180">File sets tagged with a file specification backup type of "shadow copy required" indicate that a requester needs to copy data from a shadow copy when performing INCREMENTAL, DIFFERENTIAL, or ALL (which includes both incremental and differential operations) backup operations.</span></span>

    <span data-ttu-id="52a6a-181">O sinalizador "backup necessário", aplicado a operações INCREMENTAis, DIFERENCIAis ou de backup, indica que o gravador espera que uma cópia da versão atual do conjunto de arquivos esteja disponível após a restauração de qualquer operação de backup.</span><span class="sxs-lookup"><span data-stu-id="52a6a-181">The "backup required" flag, applied to INCREMENTAL, DIFFERENTIAL, or ALL backup operations, indicates that the writer expects a copy of the current version of the file set to be available following the restore of any backup operation.</span></span> <span data-ttu-id="52a6a-182">Normalmente, isso significa que, se um conjunto de arquivos for marcado com "backup necessário", um solicitante copiará todos os seus membros para mídia de backup durante um backup incremental ou diferencial, independentemente de quando o backup ou a modificação tiver ocorrido pela última vez.</span><span class="sxs-lookup"><span data-stu-id="52a6a-182">Typically, this means that if a file set is tagged with "backup required," a requester will copy all its members to backup media during an incremental or differential backup, regardless of when their backup or modification last occurred.</span></span>

    <span data-ttu-id="52a6a-183">Por padrão, os conjuntos de arquivos são adicionados aos componentes com um tipo de backup de especificação de arquivo de VSS \_ FSBT \_ todos os \_ backups \_ necessários \| VSS \_ FSBT \_ todo o \_ instantâneo \_ necessário.</span><span class="sxs-lookup"><span data-stu-id="52a6a-183">By default, file sets are added to components with a file specification backup type of VSS\_FSBT\_ALL\_BACKUP\_REQUIRED \| VSS\_FSBT\_ALL\_SNAPSHOT\_REQUIRED.</span></span> <span data-ttu-id="52a6a-184">Portanto, a menos que um gravador defina explicitamente o tipo de backup de especificação de arquivo de outra forma, os solicitantes precisarão copiar os arquivos não tratados por operações de arquivo parcial ou os arquivos diferenciados designados na maioria dos conjuntos de arquivos serão normalmente copiados em sua totalidade para mídia de backup.</span><span class="sxs-lookup"><span data-stu-id="52a6a-184">Therefore, unless a writer explicitly sets the file specification backup type otherwise, requesters will need to copy those files not handled by partial file operations or designated differenced files in most file sets will typically be copied in their entirety to backup media.</span></span>

</dd> <dt>

<span data-ttu-id="52a6a-185"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Carimbos de backup</span><span class="sxs-lookup"><span data-stu-id="52a6a-185"><span id="Backup_Stamps"></span><span id="backup_stamps"></span><span id="BACKUP_STAMPS"></span>Backup Stamps</span></span>
</dt> <dd>

<span data-ttu-id="52a6a-186">Os gravadores que dão suporte a carimbos de backup ( \_ \_ carimbo de data/hora VSS BS) podem optar por gerar informações de carimbo de backup a serem usadas para dar suporte a operações futuras de backup e restauração diferenciais</span><span class="sxs-lookup"><span data-stu-id="52a6a-186">Writers that support backup stamps (VSS\_BS\_TIMESTAMP) may choose to generate backup stamp information to be used to support future incremental and differential backup and restore operations.</span></span>

<span data-ttu-id="52a6a-187">O formato e as informações contidas em cadeias de caracteres que contêm informações de carimbo de backup são particulares ao gravador que os gera; o solicitante não sabe como processar essas informações.</span><span class="sxs-lookup"><span data-stu-id="52a6a-187">The format and information contained in strings containing backup stamp information are private to the writer that generates them; the requester does not know how to process this information.</span></span>

<span data-ttu-id="52a6a-188">Os gravadores de suporte armazenam o carimbo de backup no documento componentes de backup como uma cadeia de caracteres usando o método [**IVssComponent:: SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) .</span><span class="sxs-lookup"><span data-stu-id="52a6a-188">Supporting writers store the backup stamp in the Backup Components Document as a string by using the [**IVssComponent::SetBackupStamp**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscomponent-setbackupstamp) method.</span></span>

<span data-ttu-id="52a6a-189">A função do solicitante no tratamento de informações de carimbo de backup é (se existir) para disponibilizá-la ao gravador chamando [**IVssBackupComponents:: SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp) em uma operação futura de backup ou restauração.</span><span class="sxs-lookup"><span data-stu-id="52a6a-189">The requester's role in handling backup stamp information is (if it exists) to make it available to the writer by calling [**IVssBackupComponents::SetPreviousBackupStamp**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setpreviousbackupstamp) in a future backup or restore operation.</span></span>

</dd> </dl>

 

 
