---
description: 'Um solicitante pode interromper um conjunto de cópias de sombra usando o método IVssBackupComponents:: BreakSnapshotSet ou IVssBackupComponentsEx2:: BreakSnapshotSetEx.'
ms.assetid: fb796b2f-b6fb-48ee-8d42-36f88cb165aa
title: Quebrando cópias de sombra
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7dac84c9f45d16d8a88f9d61ad6e4c277dfad3ae
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105770578"
---
# <a name="breaking-shadow-copies"></a><span data-ttu-id="b62b5-103">Quebrando cópias de sombra</span><span class="sxs-lookup"><span data-stu-id="b62b5-103">Breaking Shadow Copies</span></span>

<span data-ttu-id="b62b5-104">Um solicitante pode interromper um conjunto de cópias de sombra usando o método [**IVssBackupComponents:: BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**IVssBackupComponentsEx2:: BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) .</span><span class="sxs-lookup"><span data-stu-id="b62b5-104">A requester can break a shadow copy set by using the [**IVssBackupComponents::BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**IVssBackupComponentsEx2::BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex) method.</span></span>

<span data-ttu-id="b62b5-105">Uma cópia de sombra quebrada é um volume que contém uma cópia de sombra que não é mais gerenciada pelo VSS.</span><span class="sxs-lookup"><span data-stu-id="b62b5-105">A broken shadow copy is a volume that contains a shadow copy that is no longer managed by VSS.</span></span> <span data-ttu-id="b62b5-106">Interromper uma cópia de sombra tem significado apenas se o [*provedor*](vssgloss-p.md) da cópia de sombra for um [*provedor de hardware*](vssgloss-h.md).</span><span class="sxs-lookup"><span data-stu-id="b62b5-106">Breaking a shadow copy has meaning only if the shadow copy's [*provider*](vssgloss-p.md) is a [*hardware provider*](vssgloss-h.md).</span></span> <span data-ttu-id="b62b5-107">Isso ocorre porque somente os provedores de hardware podem implementar uma cópia de sombra como um volume real com um ciclo de vida independente do VSS.</span><span class="sxs-lookup"><span data-stu-id="b62b5-107">This is because only hardware providers can implement a shadow copy as an actual volume with a life cycle independent of VSS.</span></span> <span data-ttu-id="b62b5-108">Se o VSS não gerenciar esse volume, ele ainda estará disponível.</span><span class="sxs-lookup"><span data-stu-id="b62b5-108">If VSS does not manage such a volume, it still is available.</span></span>

<span data-ttu-id="b62b5-109">Os provedores de software mantêm cópias de sombra somente quando envolvidas em operações VSS.</span><span class="sxs-lookup"><span data-stu-id="b62b5-109">Software providers maintain shadow copies only while involved in VSS operations.</span></span> <span data-ttu-id="b62b5-110">Por esse motivo, a interrupção de uma cópia de sombra não tem significado para os provedores de software.</span><span class="sxs-lookup"><span data-stu-id="b62b5-110">For that reason, breaking a shadow copy has no meaning for software providers.</span></span>

<span data-ttu-id="b62b5-111">Se a cópia de sombra foi gerenciada por um provedor de hardware, o solicitante deve importar a cópia de sombra antes de chamar [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span><span class="sxs-lookup"><span data-stu-id="b62b5-111">If the shadow copy was managed by a hardware provider, the requester must import the shadow copy before calling [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex).</span></span> <span data-ttu-id="b62b5-112">No caso de cópias de sombra não transportáveis (criadas por um provedor de hardware), elas são importadas implicitamente como parte da chamada [**IVssBackupComponents::D osnapshotset**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) .</span><span class="sxs-lookup"><span data-stu-id="b62b5-112">In case of non-transportable (created by a hardware provider) shadow copies, they are imported implicitly as part of the [**IVssBackupComponents::DoSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-dosnapshotset) call.</span></span>

<span data-ttu-id="b62b5-113">Depois que o solicitante tiver chamado [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) ou [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), o conjunto de cópias de sombra ainda será acessível por meio de seus objetos de dispositivo ou de outros caminhos de acesso, mas não é mais um conjunto de cópias de sombra.</span><span class="sxs-lookup"><span data-stu-id="b62b5-113">After the requester has called [**BreakSnapshotSet**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-breaksnapshotset) or [**BreakSnapshotSetEx**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponentsex2-breaksnapshotsetex), the shadow copy set is still accessible via its device objects or other access paths, but it is no longer a shadow copy set.</span></span> <span data-ttu-id="b62b5-114">Ele pode ser gerenciado como um ou mais LUNs usando as interfaces COM do VDS (serviço de disco virtual).</span><span class="sxs-lookup"><span data-stu-id="b62b5-114">It can be managed as one or more LUNs by using the Virtual Disk Service (VDS) COM interfaces.</span></span> <span data-ttu-id="b62b5-115">Usando o VDS, um solicitante pode converter os LUNs para leitura/gravação, montá-los com letras de unidade ou mascarar/remover a máscara para outros computadores.</span><span class="sxs-lookup"><span data-stu-id="b62b5-115">Using VDS, a requester can convert the LUNs to read/write, mount them with drive letters, or mask/unmask them to other computers.</span></span> <span data-ttu-id="b62b5-116">Consulte a [documentação da API do VDS](../vds/virtual-disk-service-portal.md) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="b62b5-116">See the [VDS API documentation](../vds/virtual-disk-service-portal.md) for more information.</span></span>

 

 
