---
description: Os componentes são definidos por e instanciados por gravadores no documento de metadados do gravador em resposta a um evento de identificação no início de uma operação de backup (consulte Visão geral da inicialização do backup) quando o documento de metadados do gravador é preenchido.
ms.assetid: 5e1c3f9b-ca83-4e70-963b-0a237c6f4b0d
title: Definição de componentes por gravadores
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: aa5383e9bc87620f23bb2a3ab067c1913a323782
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "103837261"
---
# <a name="definition-of-components-by-writers"></a><span data-ttu-id="2b8f9-103">Definição de componentes por gravadores</span><span class="sxs-lookup"><span data-stu-id="2b8f9-103">Definition of Components by Writers</span></span>

<span data-ttu-id="2b8f9-104">Os componentes são definidos por e instanciados por gravadores no documento de metadados do gravador em resposta a um [*evento de identificação*](vssgloss-i.md) no início de uma operação de backup (consulte [visão geral da inicialização do backup](overview-of-backup-initialization.md)) quando o documento de metadados do gravador é preenchido.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-104">Components are defined by and instantiated by writers in their Writer Metadata Document in response to an [*Identify event*](vssgloss-i.md) at the start of a backup operation (see [Overview of Backup Initialization](overview-of-backup-initialization.md)) when the Writer Metadata Document is populated.</span></span>

<span data-ttu-id="2b8f9-105">Ao criar um componente em seu documento de metadados do gravador, usando [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) e [**IVssCreateWriterMetadata:: addcomponente**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), um gravador deve especificar:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-105">When creating a component in its Writer Metadata Document, using [**IVssCreateWriterMetadata**](/windows/desktop/api/VsWriter/nl-vswriter-ivsscreatewritermetadata) and [**IVssCreateWriterMetadata::AddComponent**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addcomponent), a writer must specify:</span></span>

-   <span data-ttu-id="2b8f9-106">Se o componente é [ *selecionável para backup*](vssgloss-s.md)</span><span class="sxs-lookup"><span data-stu-id="2b8f9-106">Whether the component is [*selectable for backup*](vssgloss-s.md)</span></span>
-   <span data-ttu-id="2b8f9-107">Um tipo de componente</span><span class="sxs-lookup"><span data-stu-id="2b8f9-107">A component type</span></span>
-   <span data-ttu-id="2b8f9-108">Um nome de componente (que deve ser exclusivo não apenas em uma determinada [*instância do gravador*](vssgloss-w.md) , mas em todas as instâncias do gravador)</span><span class="sxs-lookup"><span data-stu-id="2b8f9-108">A component name (which must be unique not only within a given [*writer instance*](vssgloss-w.md) but across all writer instances)</span></span>
-   <span data-ttu-id="2b8f9-109">Se o componente tem quaisquer metadados específicos do gravador associados a ele</span><span class="sxs-lookup"><span data-stu-id="2b8f9-109">Whether the component has any writer-specific metadata associated with it</span></span>
-   <span data-ttu-id="2b8f9-110">Se o gravador requer uma notificação após um backup bem-sucedido</span><span class="sxs-lookup"><span data-stu-id="2b8f9-110">Whether the writer requires notification following a successful backup</span></span>

<span data-ttu-id="2b8f9-111">Os gravadores podem especificar opcionalmente:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-111">Writers can optionally specify:</span></span>

-   <span data-ttu-id="2b8f9-112">Um [*caminho lógico*](vssgloss-l.md) do componente (que deve ser exclusivo não apenas dentro de uma determinada instância do gravador, mas em todas as instâncias do gravador)</span><span class="sxs-lookup"><span data-stu-id="2b8f9-112">A component's [*logical path*](vssgloss-l.md) (which must be unique not only within a given writer instance but across all writer instances)</span></span>
-   <span data-ttu-id="2b8f9-113">Uma descrição do componente (ou legenda)</span><span class="sxs-lookup"><span data-stu-id="2b8f9-113">A component description (or caption)</span></span>
-   <span data-ttu-id="2b8f9-114">Um ícone a ser usado com GUIs para indicar o componente</span><span class="sxs-lookup"><span data-stu-id="2b8f9-114">An icon to be used with GUIs to indicate the component</span></span>

<span data-ttu-id="2b8f9-115">Não é necessário que um componente contenha realmente qualquer arquivo.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-115">It is not necessary for a component to actually contain any files.</span></span> <span data-ttu-id="2b8f9-116">Esse tipo de componente vazio ou "fictício" pode ser útil para organizar componentes.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-116">This sort of empty or "dummy" component can be useful in organizing components.</span></span> <span data-ttu-id="2b8f9-117">Esse componente pode ser usado para definir um [*conjunto de componentes*](vssgloss-c.md) e um componente do gravador (consulte o [caminho lógico de componentes](logical-pathing-of-components.md)).</span><span class="sxs-lookup"><span data-stu-id="2b8f9-117">Such a component can be used to define a [*component set*](vssgloss-c.md) and a writer's component (see [Logical Pathing of Components](logical-pathing-of-components.md)).</span></span>

## <a name="setting-up-component-organization"></a><span data-ttu-id="2b8f9-118">Configurando a organização do componente</span><span class="sxs-lookup"><span data-stu-id="2b8f9-118">Setting Up Component Organization</span></span>

<span data-ttu-id="2b8f9-119">Definir a [*seleção*](vssgloss-s.md) de um componente (sua [*seleção de backup*](vssgloss-s.md)e sua [*seleção de restauração*](/windows)) e seus [*caminhos lógicos*](vssgloss-l.md) permite que um gravador exija ou faça opcional a inclusão de determinados componentes em uma operação de backup ou restauração e agrupe componentes em [*conjuntos de componentes*](vssgloss-c.md) com um componente selecionável atuando como um ponto de entrada para todo o grupo.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-119">Setting a component's [*selectability*](vssgloss-s.md) (its [*selectability for backup*](vssgloss-s.md), and its [*selectability for restore*](/windows)) and its [*logical paths*](vssgloss-l.md) allows a writer to mandate or make optional the inclusion of certain components in a backup or restore operation, and to group components into [*component sets*](vssgloss-c.md) with one selectable component acting as an entry point to the whole group.</span></span>

<span data-ttu-id="2b8f9-120">A associação nesses agrupamentos determina quais componentes serão usados durante as operações de backup e restauração.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-120">Membership in these groupings determines which components will be used during backup and restore operations.</span></span> <span data-ttu-id="2b8f9-121">Usando "selecionável" para significar a selecionável para voltar para operação de backup e selecionável para restauração para a operação de restauração, os desenvolvedores devem entender que:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-121">Using "selectable" to mean selectable for back for backup operation, and selectable for restore for restore operation, developers should understand that:</span></span>

-   <span data-ttu-id="2b8f9-122">Se for feito backup de qualquer componente gerenciado por um determinado gravador, um solicitante deverá [*incluir explicitamente*](vssgloss-e.md) todos os [*componentes*](vssgloss-c.md) não selecionáveis sem os ancestrais selecionáveis em seu [*caminho lógico*](vssgloss-l.md) para o documento de componentes de backup e fazer backup e restaurar esses componentes como um grupo.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-122">If any components managed by a given writer are backed up, then a requester must [*explicitly include*](vssgloss-e.md) all nonselectable [*components*](vssgloss-c.md) without selectable ancestors in their [*logical path*](vssgloss-l.md) to the Backup Components Document and back up and restore those components as a group.</span></span>
-   <span data-ttu-id="2b8f9-123">Um solicitante tem a opção de adicionar explicitamente componentes selecionáveis ao documento de componentes de backup durante as operações de backup e restauração; Depois de adicionado, o backup do componente deve ser feito ou restaurado.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-123">A requester has the option of explicitly adding selectable components to the Backup Components Document during backup and restore operations; once added, the component must be backed up or restored.</span></span>
-   <span data-ttu-id="2b8f9-124">Se um componente for selecionável, o componente e todos os seus [*Subcomponentes*](vssgloss-s.md) (conforme definido por caminhos lógicos) formam um conjunto de componentes, que pode ser tratado como uma única unidade que pode, opcionalmente, participar de operações de backup e restauração.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-124">If a component is selectable, the component and all of its [*subcomponents*](vssgloss-s.md) (as defined by logical paths) form a component set, which can be treated as a single unit that may optionally participate in backup and restore operations.</span></span>
-   <span data-ttu-id="2b8f9-125">Um solicitante nunca adiciona explicitamente um componente não selecionável com ancestrais selecionáveis, um subcomponente em um conjunto de componentes, ao documento de componentes de backup durante as operações de backup e restauração.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-125">A requester never explicitly adds a nonselectable component with selectable ancestors, a subcomponent in a component set, to its Backup Components Document during backup and restore operations.</span></span> <span data-ttu-id="2b8f9-126">Esses componentes devem ser [*incluídos implicitamente*](/windows) se seu ancestral selecionável for explicitamente adicionado, caso em que eles devem ser armazenados em backup ou restaurados (consulte [uso de componentes pelo solicitante](use-of-components-by-the-requestor.md)).</span><span class="sxs-lookup"><span data-stu-id="2b8f9-126">These components must be [*implicitly included*](/windows) if their selectable ancestor is explicitly added, in which case they must be backed up or restored (see [Use of Components by the Requester](use-of-components-by-the-requestor.md)).</span></span>
-   <span data-ttu-id="2b8f9-127">Um componente selecionável com um ancestral selecionável ainda é um [*subcomponente*](vssgloss-s.md) (um membro de um conjunto de componentes) e pode ser incluído implicitamente se seu ancestral selecionável está explicitamente incluído na operação.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-127">A selectable component with a selectable ancestor is still a [*subcomponent*](vssgloss-s.md) (a member of a component set) and may be implicitly included if its selectable ancestor is explicitly included in the operation.</span></span> <span data-ttu-id="2b8f9-128">Nesse caso, suas informações não são adicionadas ao documento de componentes de backup.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-128">In this case, its information is not added to the Backup Components Document.</span></span> <span data-ttu-id="2b8f9-129">Se seu ancestral selecionável não estiver incluído na operação, o componente poderá ser explicitamente selecionado para inclusão na operação, caso em que suas informações estão incluídas no documento de componentes de backup.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-129">If its selectable ancestor is not included in the operation, the component can be explicitly selected for inclusion in the operation, in which case its information is included in the Backup Components Document.</span></span>
-   <span data-ttu-id="2b8f9-130">Um subcomponente incluído implicitamente em um backup pode ser incluído explicitamente em uma operação de restauração, independentemente do status de qualquer ancestral selecionável, se for selecionável para restauração.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-130">A subcomponent implicitly included in a backup can be explicitly included in a restore operation, regardless of the status of any selectable ancestor, if it is selectable for restore.</span></span> <span data-ttu-id="2b8f9-131">Qualquer selecionável para o subcomponente de restauração incluído durante uma operação de restauração deve ter suas informações adicionadas ao documento de componentes de backup.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-131">Any selectable for restore subcomponent included during a restore operation must have its information added to the Backup Components Document.</span></span>
-   <span data-ttu-id="2b8f9-132">Um gravador que não tinha nenhum componente adicionado explicitamente ao documento de componentes de backup antes da geração de eventos [*PrepareForBackup*](vssgloss-p.md) e [*prerestore*](vssgloss-p.md) não receberá nenhum outro evento do VSS.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-132">A writer that has had no component explicitly added to the Backup Components Document prior to the generation of [*PrepareForBackup*](vssgloss-p.md) and [*PreRestore*](vssgloss-p.md) events will not receive any further VSS events.</span></span>

<span data-ttu-id="2b8f9-133">Para obter mais informações, consulte [trabalhando com a seleção e os caminhos lógicos](working-with-selectability-and-logical-paths.md).</span><span class="sxs-lookup"><span data-stu-id="2b8f9-133">For more information, see [Working with Selectability and Logical Paths](working-with-selectability-and-logical-paths.md).</span></span>

## <a name="adding-files-to-a-component"></a><span data-ttu-id="2b8f9-134">Adicionando arquivos a um componente</span><span class="sxs-lookup"><span data-stu-id="2b8f9-134">Adding Files to a Component</span></span>

<span data-ttu-id="2b8f9-135">Um componente contém informações de arquivo na forma de um [*conjunto de arquivos*](vssgloss-f.md) que contém:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-135">A component contains file information in the form of a [*file set*](vssgloss-f.md) that contains:</span></span>

-   <span data-ttu-id="2b8f9-136">Um diretório raiz dos arquivos no componente.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-136">A root directory of the files in the component.</span></span>
-   <span data-ttu-id="2b8f9-137">Uma especificação de arquivo para os arquivos no componente.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-137">A file specification for the files in the component.</span></span>
-   <span data-ttu-id="2b8f9-138">Um sinalizador que indica se a especificação do componente é recursiva.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-138">A flag that indicates whether the component's specification is recursive.</span></span>

<span data-ttu-id="2b8f9-139">Dependendo do tipo de componente, que pode ser um banco de dados ou um grupo de arquivos, e (no caso de componentes de banco de dado) se os arquivos a serem carregados são arquivos de log ou data, um gravador chama [**IVssCreateWriterMetadata:: AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata:: AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles)ou [**IVssCreateWriterMetadata:: AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) para adicionar um conjunto de arquivos.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-139">Depending on component type, which can be a database or a file group, and (in the case of database components) whether the files to be loaded are data or log files, a writer calls [**IVssCreateWriterMetadata::AddFilesToFileGroup**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-addfilestofilegroup), [**IVssCreateWriterMetadata::AddDatabaseFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabasefiles), or [**IVssCreateWriterMetadata::AddDatabaseLogFiles**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-adddatabaselogfiles) to add a file set.</span></span>

<span data-ttu-id="2b8f9-140">Ao usar essas funções, você deve especificar os arquivos a serem adicionados ao conjunto de arquivos da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-140">When using these functions, you should specify the files to be added to the file set as follows:</span></span>

-   <span data-ttu-id="2b8f9-141">*wszPath*: esse é o caminho para o diretório que contém os arquivos a serem adicionados ao conjunto de arquivos.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-141">*wszPath*: This is the path to the directory that contains the files to be added to the file set.</span></span> <span data-ttu-id="2b8f9-142">Se o parâmetro *bRecursive* for definido como **true**, o parâmetro *wszPath* especificará uma hierarquia de diretórios a serem atravessados recursivamente e todos os diretórios deverão ser recriados, incluindo diretórios vazios.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-142">If the *bRecursive* parameter is set to **true**, the *wszPath* parameter specifies a hierarchy of directories to be traversed recursively, and all directories should be recreated, including empty directories.</span></span>
-   <span data-ttu-id="2b8f9-143">*wszFilespec*: essa cadeia de caracteres especifica os arquivos em cada diretório a ser adicionado ao conjunto de arquivos.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-143">*wszFilespec*: This string specifies the files in each directory to be added to the file set.</span></span>

<span data-ttu-id="2b8f9-144">Por exemplo, suponha que exista a seguinte estrutura de diretório:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-144">For example, suppose the following directory structure exists:</span></span>

<dl> <span data-ttu-id="2b8f9-145">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-145">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-146">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-146">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="2b8f9-147">C: \\ directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-147">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-148">C: \\ directory1 \\ Directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-148">C:\\Directory1\\Directory2\\File2.txt</span></span>  
<span data-ttu-id="2b8f9-149">C: \\ directory1 \\ Directory3</span><span class="sxs-lookup"><span data-stu-id="2b8f9-149">C:\\Directory1\\Directory3</span></span>\\  
</dl>

<span data-ttu-id="2b8f9-150">Se o gravador especificar "C: \\ directory1" para *wszPath*, "arquivo1. \* " para *wszFilespec* e **true** para *bRecursive*, o solicitante deverá incluir estes arquivos:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-150">If the writer specifies "C:\\Directory1" for *wszPath*, "File1.\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="2b8f9-151">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-151">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-152">C: \\ directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-152">C:\\Directory1\\Directory2\\File1.txt</span></span>  
</dl>

<span data-ttu-id="2b8f9-153">Em vez disso, o gravador especifica "C: \\ directory1" para *wszPath*, " \* " para *wszFilespec* e **true** para *bRecursive*, o solicitante deve incluir estes arquivos:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-153">If the writer instead specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **true** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="2b8f9-154">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-154">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-155">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-155">C:\\Directory1\\File2.txt</span></span>  
<span data-ttu-id="2b8f9-156">C: \\ directory1 \\ Directory2 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-156">C:\\Directory1\\Directory2\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-157">C: \\ directory1 \\ Directory2 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-157">C:\\Directory1\\Directory2\\File2.txt</span></span>  
</dl>

<span data-ttu-id="2b8f9-158">Se o gravador especificar "C: \\ directory1" para *wszPath*, " \* " para *wszFilespec* e **false** para *bRecursive*, o solicitante deverá incluir estes arquivos:</span><span class="sxs-lookup"><span data-stu-id="2b8f9-158">If the writer specifies "C:\\Directory1" for *wszPath*, "\*" for *wszFilespec*, and **false** for *bRecursive*, the requester should include these files:</span></span>

<dl> <span data-ttu-id="2b8f9-159">C: \\ Directory1 \\File1.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-159">C:\\Directory1\\File1.txt</span></span>  
<span data-ttu-id="2b8f9-160">C: \\ Directory1 \\File2.txt</span><span class="sxs-lookup"><span data-stu-id="2b8f9-160">C:\\Directory1\\File2.txt</span></span>  
</dl>

<span data-ttu-id="2b8f9-161">Em todos os exemplos anteriores, sempre que o gravador especifica **true** para *bRecursive*, o diretório vazio C: \\ directory1 \\ Directory3 \\ deve ser recriado.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-161">In all of the preceding examples, whenever the writer specifies **true** for *bRecursive*, the empty directory C:\\Directory1\\Directory3\\ should be recreated.</span></span>

<span data-ttu-id="2b8f9-162">Para um conjunto de arquivos adicionado a um componente de grupo de arquivos, nos casos em que os arquivos atualmente em disco não estão no que o gravador consideraria o local apropriado ou padrão, um gravador tem a opção de adicionar um caminho alternativo.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-162">For a file set added to a file group component, in cases where files currently on disk are not in what the writer would consider the appropriate or default location, a writer has the option of adding an alternate path.</span></span> <span data-ttu-id="2b8f9-163">Nesses casos, a definição do conjunto de arquivos do caminho contém o local normal dos arquivos e para onde os arquivos devem ser restaurados, enquanto o caminho alternativo contém o local atual dos arquivos cujo backup será feito.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-163">In these cases, the file set's definition of the path contains the normal location of the files and to where files should be restored, while the alternate path contains the current location of files to be backed up.</span></span>

<span data-ttu-id="2b8f9-164">Todos os arquivos no conjunto de arquivos devem existir no momento do backup.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-164">All files in the file set must exist at the time of the backup.</span></span> <span data-ttu-id="2b8f9-165">Os solicitantes devem assumir que todos os arquivos listados no conjunto de arquivos são necessários para o backup e irão falhar o backup se algum arquivo estiver ausente.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-165">Requesters must assume that all files listed in the file set are required for the backup and will fail the backup if any files are missing.</span></span> <span data-ttu-id="2b8f9-166">Observe que quando " \* " é especificado para o parâmetro *wszFilespec* , ele pode corresponder a zero ou mais arquivos.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-166">Note that when "\*" is specified for the *wszFilespec* parameter, it can match zero or more files.</span></span>

<span data-ttu-id="2b8f9-167">Observe que esses atributos de documento de metadados do gravador como mapeamentos de local alternativo, arquivos explicitamente incluídos e excluídos, e métodos de restauração são definidos no nível do gravador, não no nível do componente.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-167">Note that such Writer Metadata Document attributes as alternate location mappings, explicitly included and excluded files, and restore methods are set at the writer level, not the component level.</span></span> <span data-ttu-id="2b8f9-168">(Para obter mais informações, consulte [trabalhando com o documento de metadados do gravador](working-with-the-writer-metadata-document.md).)</span><span class="sxs-lookup"><span data-stu-id="2b8f9-168">(For more information, see [Working with the Writer Metadata Document](working-with-the-writer-metadata-document.md).)</span></span>

## <a name="component-definition-for-backup-and-restore-operations"></a><span data-ttu-id="2b8f9-169">Definição de componente para operações de backup e restauração</span><span class="sxs-lookup"><span data-stu-id="2b8f9-169">Component Definition for Backup and Restore Operations</span></span>

<span data-ttu-id="2b8f9-170">As operações de restauração e de backup geram, necessariamente, um [*evento de identificação*](vssgloss-i.md)e, para backups e restaurações, elas serão tratadas pelo mesmo método [**CVssWriter:: onidentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) .</span><span class="sxs-lookup"><span data-stu-id="2b8f9-170">Both restore and backup operations necessarily generate an [*Identify event*](vssgloss-i.md), and for both backups and restores it will be handled by the same [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) method.</span></span>

<span data-ttu-id="2b8f9-171">Durante as operações de backup, os solicitantes usam as informações retornadas pelos métodos [**CVssWriter:: Onidentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) de um gravador para determinar quais gravadores estão presentes no sistema e, em seguida, para determinar em quais arquivos fazer backup.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-171">During backup operations, requesters use the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) methods to determine which writers are present on the system and then to determine which of their files to back up.</span></span>

<span data-ttu-id="2b8f9-172">Durante as operações de restauração, as informações retornadas pelo evento [**CVssWriter:: Onidentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) de um gravador são usadas somente para estabelecer a identidade e o status dos gravadores atualmente presentes no sistema; as informações de especificação de arquivo geradas durante uma restauração não são usadas.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-172">During restore operations, the information returned by a writer's [**CVssWriter::OnIdentify**](/windows/desktop/api/VsWriter/nf-vswriter-cvsswriter-onidentify) event is used only to establish the identity and status of writers currently present on the system; the file specification information generated during a restore is not used.</span></span> <span data-ttu-id="2b8f9-173">Em vez disso, os documentos de metadados do gravador armazenados no momento do backup são usados para obter esses dados.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-173">Instead, Writer Metadata Documents stored at backup time are used to obtain this data.</span></span>

<span data-ttu-id="2b8f9-174">Depois de gerada durante uma operação de backup, as informações de componente do gravador, juntamente com as informações do gravador, são salvas para serem recuperadas para dar suporte a operações de restauração.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-174">Once generated during a backup operation, the writer component information, along with the rest of the writer information, is saved to be retrieved to support restore operations.</span></span> <span data-ttu-id="2b8f9-175">Normalmente, é responsabilidade do solicitante armazenar essas informações.</span><span class="sxs-lookup"><span data-stu-id="2b8f9-175">It is typically the responsibility of the requester to store this information.</span></span>

 

 
