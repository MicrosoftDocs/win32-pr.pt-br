---
description: A participação do gravador em um backup do VSS foi projetada para permitir que os aplicativos controlem o que e como seus dados de restauração serão usados.
ms.assetid: 076b2e6f-c2ca-4129-8827-1b18a655d634
title: Restaura sem participação no gravador
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f89fd5ea855d2d91701d351e860bf966148be587
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104091428"
---
# <a name="restores-without-writer-participation"></a><span data-ttu-id="c5b35-103">Restaura sem participação no gravador</span><span class="sxs-lookup"><span data-stu-id="c5b35-103">Restores without Writer Participation</span></span>

<span data-ttu-id="c5b35-104">A participação do gravador em um backup do VSS foi projetada para permitir que os aplicativos controlem o que e como seus dados de restauração serão usados.</span><span class="sxs-lookup"><span data-stu-id="c5b35-104">Writer participation in a VSS backup is designed to allow applications to control what and how their restore data is to be used.</span></span>

<span data-ttu-id="c5b35-105">Em geral, se um gravador estiver disponível em um sistema, nunca será aconselhável restaurar os dados para seu local original sem a participação do gravador.</span><span class="sxs-lookup"><span data-stu-id="c5b35-105">In general, if a writer is available on a system, it is never advisable to restore data to its original location without writer participation.</span></span> <span data-ttu-id="c5b35-106">Essa restauração provavelmente encontraria arquivos de destino bloqueados e executaria um risco significativo de corromper dados.</span><span class="sxs-lookup"><span data-stu-id="c5b35-106">Such a restore would likely encounter locked destination files and runs a significant risk of corrupting data.</span></span>

<span data-ttu-id="c5b35-107">No entanto, há motivos pelos quais um aplicativo de backup pode querer ou precisa restaurar um backup do VSS sem a participação do gravador:</span><span class="sxs-lookup"><span data-stu-id="c5b35-107">However, there are reasons why a backup application might want or need to restore a VSS backup without writer participation:</span></span>

-   <span data-ttu-id="c5b35-108">Os dados são gerenciados por aplicativos sem reconhecimento de VSS.</span><span class="sxs-lookup"><span data-stu-id="c5b35-108">Data is managed by VSS-unaware applications.</span></span> <span data-ttu-id="c5b35-109">Quase todos os sistemas terão alguns aplicativos – editores de texto, leitores de email, processadores de texto e assim por diante, que não têm reconhecimento de VSS.</span><span class="sxs-lookup"><span data-stu-id="c5b35-109">Almost every system will have some applications—text editors, mail readers, word processors, and so forth—that are VSS unaware.</span></span> <span data-ttu-id="c5b35-110">Esses dados não podem ser restaurados usando a participação no gravador.</span><span class="sxs-lookup"><span data-stu-id="c5b35-110">This data cannot be restored using writer participation.</span></span>

    <span data-ttu-id="c5b35-111">Em geral, esse tipo de dados não é crítico para o sistema ou serviço, e restaurá-lo não deve ser problemático ou, pelo menos, não mais problemático do que durante uma restauração convencional.</span><span class="sxs-lookup"><span data-stu-id="c5b35-111">Generally, this type of data is not system- or service-critical, and restoring it should not be problematic, or at least no more problematic than during a conventional restore.</span></span>

    <span data-ttu-id="c5b35-112">Assim como no caso de preparação para restaurações convencionais, se possível, os operadores de restauração devem tentar suspender ou encerrar esses aplicativos antes de iniciar uma restauração do VSS.</span><span class="sxs-lookup"><span data-stu-id="c5b35-112">As with preparations for conventional restores, if possible, restore operators should attempt to suspend or terminate such applications prior to starting a VSS restore.</span></span>

-   <span data-ttu-id="c5b35-113">Gravadores VSS ausentes.</span><span class="sxs-lookup"><span data-stu-id="c5b35-113">Missing VSS writers.</span></span> <span data-ttu-id="c5b35-114">Essa situação pode ser bastante comum ao restaurar o estado de um sistema danificado.</span><span class="sxs-lookup"><span data-stu-id="c5b35-114">This situation may be fairly common when restoring the state of a damaged system.</span></span> <span data-ttu-id="c5b35-115">Uma operação de backup deve determinar se é desejável restaurar arquivos para gravadores ausentes.</span><span class="sxs-lookup"><span data-stu-id="c5b35-115">A backup operation must determine whether it is desirable to restore files for missing writers.</span></span> <span data-ttu-id="c5b35-116">Se a restauração for desejável, os arquivos poderão ser restaurados assim que um backup convencional os restaurar.</span><span class="sxs-lookup"><span data-stu-id="c5b35-116">If restoration is desirable, the files can be restored just as a conventional backup would restore them.</span></span>
-   <span data-ttu-id="c5b35-117">Uma restauração privada dos dados de um gravador.</span><span class="sxs-lookup"><span data-stu-id="c5b35-117">A private restore of a writer's data.</span></span> <span data-ttu-id="c5b35-118">Um solicitante pode optar por restaurar os dados de um gravador em execução para algum local privado sem notificar o gravador.</span><span class="sxs-lookup"><span data-stu-id="c5b35-118">A requester may choose to restore the data of a running writer to some private location without notifying the writer.</span></span> <span data-ttu-id="c5b35-119">Um exemplo disso pode ser a restauração dos dados do gravador para dar suporte à comparação offline.</span><span class="sxs-lookup"><span data-stu-id="c5b35-119">An example of this might be restoration of the writer's data to support offline comparison.</span></span> <span data-ttu-id="c5b35-120">Nesse tipo de situação, um solicitante não desejaria usar o [*novo local de destino*](vssgloss-n.md) ao fazer a restauração, pois não quer que o gravador acesse os dados.</span><span class="sxs-lookup"><span data-stu-id="c5b35-120">In this sort of situation, a requester would not want to use the [*new target location*](vssgloss-n.md) while doing the restore, because it does not want the writer to access the data.</span></span>
-   <span data-ttu-id="c5b35-121">Um gravador não deseja estar envolvido durante A restauração.</span><span class="sxs-lookup"><span data-stu-id="c5b35-121">A writer does not want to be involved during restore.</span></span> <span data-ttu-id="c5b35-122">Um gravador indica isso passando \_ o VSS WRE \_ nunca para o parâmetro *writerRestore* de [**IVssCreateWriterMetadata:: SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod).</span><span class="sxs-lookup"><span data-stu-id="c5b35-122">A writer indicates this by passing in VSS\_WRE\_NEVER for the *writerRestore* parameter of [**IVssCreateWriterMetadata::SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod).</span></span>
-   <span data-ttu-id="c5b35-123">Um gravador requer um método de restauração personalizado.</span><span class="sxs-lookup"><span data-stu-id="c5b35-123">A writer requires a custom restore method.</span></span> <span data-ttu-id="c5b35-124">Um gravador indica que requer uma restauração personalizada passando no VSS \_ RME \_ personalizado para o parâmetro de *método* de [**IVssCreateWriterMetadata:: SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod).</span><span class="sxs-lookup"><span data-stu-id="c5b35-124">A writer indicates that it requires a custom restore by passing in VSS\_RME\_CUSTOM for the *method* parameter of [**IVssCreateWriterMetadata::SetRestoreMethod**](/windows/desktop/api/VsWriter/nf-vswriter-ivsscreatewritermetadata-setrestoremethod).</span></span> <span data-ttu-id="c5b35-125">Nesse caso, esse gravador não deve estar envolvido no processo de restauração, a menos que a documentação de restauração personalizada para esse gravador indique o contrário.</span><span class="sxs-lookup"><span data-stu-id="c5b35-125">In this case, this writer should not be involved in the restore process unless the custom-restore documentation for that writer indicates otherwise.</span></span>

<span data-ttu-id="c5b35-126">Um solicitante envolve um gravador no processo de restauração especificando um dos componentes do escritor em uma chamada para [**IVssBackupComponents:: SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span><span class="sxs-lookup"><span data-stu-id="c5b35-126">A requester involves a writer in the restore process by specifying one of that writer's components in a call to [**IVssBackupComponents::SetSelectedForRestore**](/windows/desktop/api/VsBackup/nf-vsbackup-ivssbackupcomponents-setselectedforrestore).</span></span> <span data-ttu-id="c5b35-127">Os dados de um gravador podem ser restaurados sem envolver o gravador simplesmente não especificando nenhum dos componentes do escritor em uma chamada para **IVssBackupComponents:: SetSelectedForRestore**.</span><span class="sxs-lookup"><span data-stu-id="c5b35-127">A writer's data can be restored without involving the writer by simply not specifying any of that writer's components in a call to **IVssBackupComponents::SetSelectedForRestore**.</span></span> <span data-ttu-id="c5b35-128">Se um gravador não esperar nenhum evento de restauração, envolver esse gravador no processo de restauração poderá fazer com que erros falsos sejam relatados para esse gravador.</span><span class="sxs-lookup"><span data-stu-id="c5b35-128">If a writer does not expect any restore events, involving that writer in the restore process can cause spurious errors to be reported for that writer.</span></span>

 

 



