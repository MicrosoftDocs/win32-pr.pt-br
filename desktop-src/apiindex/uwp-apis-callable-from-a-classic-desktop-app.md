---
description: A regra geral é que um aplicativo de desktop pode chamar uma API de Windows Runtime (WinRT). No entanto, algumas APIs, incluindo as APIs da interface do usuário XAML, exigem que o aplicativo de chamada tenha uma identidade de pacote.
ms.assetid: F3808C28-72DE-49B5-A389-EB085EFC02CC
title: APIs do WinRT que podem ser chamadas de um aplicativo de desktop
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9083fbfb16391c626f49b79176fed7a81068c028
ms.sourcegitcommit: 0c786b1682063d0cae0fc43180945183fa2c7981
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/24/2020
ms.locfileid: "104008591"
---
# <a name="calling-winrt-apis-from-a-desktop-app"></a><span data-ttu-id="54561-104">Chamando APIs do WinRT de um aplicativo de desktop</span><span class="sxs-lookup"><span data-stu-id="54561-104">Calling WinRT APIs from a desktop app</span></span>

<span data-ttu-id="54561-105">A regra geral é que um aplicativo de desktop pode chamar uma API do WinRT.</span><span class="sxs-lookup"><span data-stu-id="54561-105">The general rule is that a desktop app can call a WinRT API.</span></span> <span data-ttu-id="54561-106">No entanto, algumas APIs, incluindo as APIs da interface do usuário XAML, exigem que o aplicativo de chamada tenha uma identidade de pacote.</span><span class="sxs-lookup"><span data-stu-id="54561-106">However, some APIs, including the XAML UI APIs, require the calling app to have a package identity.</span></span> <span data-ttu-id="54561-107">Os aplicativos UWP têm um modelo de aplicativo bem definido e têm uma identidade de pacote.</span><span class="sxs-lookup"><span data-stu-id="54561-107">UWP apps have a well-defined app model, and they have a package identity.</span></span> <span data-ttu-id="54561-108">Os outros tipos de aplicativos da área de trabalho não têm um modelo de aplicativo bem definido, nem uma identidade de pacote.</span><span class="sxs-lookup"><span data-stu-id="54561-108">The other types of desktop apps have neither a well-defined app model, nor a package identity.</span></span> <span data-ttu-id="54561-109">Portanto, se uma API exigir uma identidade de pacote, um aplicativo WPF, Windows Forms ou Win32 não poderá chamá-la, a menos que o aplicativo [seja empacotado em um pacote MSIX](/windows/msix/desktop/desktop-to-uwp-root).</span><span class="sxs-lookup"><span data-stu-id="54561-109">Therefore, if an API requires a package identity, a WPF, Windows Forms, or Win32 app cannot call it unless the app [is packaged in an MSIX package](/windows/msix/desktop/desktop-to-uwp-root).</span></span>

## <a name="the-dualapipartition-attribute"></a><span data-ttu-id="54561-110">O atributo DualApiPartition</span><span class="sxs-lookup"><span data-stu-id="54561-110">The DualApiPartition attribute</span></span>

<span data-ttu-id="54561-111">Esse é o processo a seguir sempre que houver um WinRT específico que você gostaria de chamar de seu aplicativo de desktop.</span><span class="sxs-lookup"><span data-stu-id="54561-111">This is the process to follow whenever there's a particular WinRT that you'd like to call from your desktop app.</span></span> <span data-ttu-id="54561-112">Esse processo responderá à pergunta se a API tem permissão para ser chamada de um aplicativo de desktop.</span><span class="sxs-lookup"><span data-stu-id="54561-112">This process will answer the question of whether the API is allowed to be called from a desktop app.</span></span> <span data-ttu-id="54561-113">Primeiro, visite a [referência da API do Windows para Windows Runtime aplicativos](/uwp/), encontre o tópico de referência para a API de classe ou membro em que você está interessado e verifique se o atributo [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) está listado na seção atributos.</span><span class="sxs-lookup"><span data-stu-id="54561-113">First, visit the [Windows API reference for Windows Runtime apps](/uwp/), find the reference topic for the class or member API you're interested in, and check whether the [**DualApiPartition**](/uwp/api/Windows.Foundation.Metadata.DualApiPartitionAttribute) attribute is listed in the Attributes section.</span></span>

## <a name="if-the-dualapipartition-attribute-is-listed"></a><span data-ttu-id="54561-114">Se o atributo DualApiPartition estiver listado</span><span class="sxs-lookup"><span data-stu-id="54561-114">If the DualApiPartition attribute is listed</span></span>

<span data-ttu-id="54561-115">Se o atributo DualApiPartition estiver listado, a API não precisará que o aplicativo de chamada tenha uma identidade de pacote e a API poderá ser chamada de qualquer aplicativo de área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="54561-115">If the DualApiPartition attribute is listed, the API does not need the calling app to have a package identity, and the API is allowed to be called from any desktop app.</span></span> <span data-ttu-id="54561-116">[**Windows. Devices. Geolocalize. geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) é um exemplo; um aplicativo não precisa ser identificado exclusivamente para executar tarefas de localização.</span><span class="sxs-lookup"><span data-stu-id="54561-116">[**Windows.Devices.Geolocation.Geolocator**](/uwp/api/Windows.Devices.Geolocation.Geolocator) is an example; an app does not need to be uniquely identified in order to perform location tasks.</span></span>

## <a name="if-the-dualapipartition-attribute-is-not-listed"></a><span data-ttu-id="54561-117">Se o atributo DualApiPartition não estiver listado</span><span class="sxs-lookup"><span data-stu-id="54561-117">If the DualApiPartition attribute is not listed</span></span>

<span data-ttu-id="54561-118">Se o atributo DualApiPartition não estiver listado, a API não precisará que o aplicativo de chamada tenha uma identidade de pacote.</span><span class="sxs-lookup"><span data-stu-id="54561-118">If the DualApiPartition attribute is not listed, the API does need the calling app to have a package identity.</span></span> <span data-ttu-id="54561-119">Portanto, um aplicativo WPF, Windows Forms ou Win32 não tem permissão para chamar a API, a menos que o aplicativo tenha sido convertido em um aplicativo UWP.</span><span class="sxs-lookup"><span data-stu-id="54561-119">Therefore a WPF, Windows Forms, or Win32 app is not allowed to call the API unless the app has been converted to a UWP app.</span></span> <span data-ttu-id="54561-120">[**Windows. UI. XAML. Controls. Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) é um exemplo.</span><span class="sxs-lookup"><span data-stu-id="54561-120">[**Windows.UI.Xaml.Controls.Button**](/uwp/api/Windows.UI.Xaml.Controls.Button) is an example.</span></span>
