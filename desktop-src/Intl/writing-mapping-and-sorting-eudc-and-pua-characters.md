---
description: Os aplicativos gravam EUDC (caracteres definidos pelo usuário final) e caracteres PUA (área de uso particular) na tela ou impressora, assim como gravam outros caracteres, usando funções de saída como TextOut e ExtTextOut.
ms.assetid: c975c70d-4231-4a69-bec2-d51d6993fdd4
title: Gravando, mapeando e classificando os caracteres EUDC e PUA
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6c34264d956bb6a87407e249f68b2bc03fb2c99
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104164511"
---
# <a name="writing-mapping-and-sorting-eudc-and-pua-characters"></a><span data-ttu-id="c3602-103">Gravando, mapeando e classificando os caracteres EUDC e PUA</span><span class="sxs-lookup"><span data-stu-id="c3602-103">Writing, Mapping, and Sorting EUDC and PUA Characters</span></span>

<span data-ttu-id="c3602-104">Os aplicativos gravam EUDC (caracteres definidos pelo usuário final) e caracteres PUA (área de uso particular) na tela ou impressora, assim como gravam outros caracteres, usando funções de saída como [TextOut](/windows/win32/api/wingdi/nf-wingdi-textouta) e [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span><span class="sxs-lookup"><span data-stu-id="c3602-104">Applications write end-user-defined characters (EUDCs) and private use area (PUA) characters to the screen or printer just as they write other characters, by using output functions such as [TextOut](/windows/win32/api/wingdi/nf-wingdi-textouta) and [ExtTextOut](/windows/win32/api/wingdi/nf-wingdi-exttextouta).</span></span> <span data-ttu-id="c3602-105">Essas funções recuperam automaticamente informações de caractere de fontes de caracteres EUDC ou PUA se o EUDC estiver habilitado.</span><span class="sxs-lookup"><span data-stu-id="c3602-105">These functions automatically retrieve character information from EUDC or PUA character fonts if EUDC is enabled.</span></span> <span data-ttu-id="c3602-106">Para obter mais informações, consulte [caracteres da \_ área de uso privado e definido pelo usuário final](end-user-defined-characters.md).</span><span class="sxs-lookup"><span data-stu-id="c3602-106">For more information, see [End-User\_Defined and Private Use Area Characters](end-user-defined-characters.md).</span></span>

<span data-ttu-id="c3602-107">Ao gravar EUDCs ou PUA caracteres, a operação da função de saída de texto depende da fonte atualmente selecionada.</span><span class="sxs-lookup"><span data-stu-id="c3602-107">When writing EUDCs or PUA characters, the operation of the text output function depends on the currently selected font.</span></span> <span data-ttu-id="c3602-108">Se a fonte selecionada for uma fonte de caractere PUA ou EUDC integrada, a função recuperará informações de caractere dessa fonte.</span><span class="sxs-lookup"><span data-stu-id="c3602-108">If the selected font is an integrated EUDC or PUA character font, the function retrieves character information from that font.</span></span> <span data-ttu-id="c3602-109">Se a fonte selecionada for uma fonte TrueType de [conjunto de caracteres de byte duplo](double-byte-character-sets.md) (DBCS) que tenha uma fonte EUDC separada associada, a função recuperará informações da fonte EUDC especificada.</span><span class="sxs-lookup"><span data-stu-id="c3602-109">If the selected font is a [double-byte character set](double-byte-character-sets.md) (DBCS) TrueType font that has an associated separate EUDC font, the function retrieves information from the specified EUDC font.</span></span> <span data-ttu-id="c3602-110">Da mesma forma, se a fonte selecionada for uma fonte TrueType [Unicode](unicode.md) que tem uma fonte de caracteres pua separada associada, a função recuperará informações da fonte de caracteres pua.</span><span class="sxs-lookup"><span data-stu-id="c3602-110">Similarly, if the selected font is a [Unicode](unicode.md) TrueType font that has an associated separate PUA character font, the function retrieves information from the PUA character font.</span></span> <span data-ttu-id="c3602-111">Se a fonte selecionada não tiver uma fonte de caractere EUDC ou PUA associada, a função recuperará informações da fonte EUDC padrão do sistema.</span><span class="sxs-lookup"><span data-stu-id="c3602-111">If the selected font does not have an associated EUDC or PUA character font, the function retrieves information from the system default EUDC font.</span></span> <span data-ttu-id="c3602-112">Se o caractere não estiver na fonte EUDC padrão do sistema ou não houver nenhuma fonte EUDC padrão do sistema, a função gravará o caractere padrão definido pela fonte selecionada.</span><span class="sxs-lookup"><span data-stu-id="c3602-112">If the character is not in the system default EUDC font or there is no system default EUDC font, the function writes the default character defined by the selected font.</span></span>

<span data-ttu-id="c3602-113">Os aplicativos podem mapear EUDCs de e para o Unicode usando as funções [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) e [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) .</span><span class="sxs-lookup"><span data-stu-id="c3602-113">Applications can map EUDCs to and from Unicode by using the [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) functions.</span></span> <span data-ttu-id="c3602-114">A função **MultiByteToWideChar** mapeia a maioria das EUDCs para caracteres no pua Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3602-114">The **MultiByteToWideChar** function maps most EUDCs to characters in the Unicode PUA.</span></span> <span data-ttu-id="c3602-115">No entanto, para dar suporte a determinados padrões nacionais ou regionais, algumas EUDCs podem ser mapeadas para pontos de código Unicode não PUA.</span><span class="sxs-lookup"><span data-stu-id="c3602-115">However, to support certain national or regional standards, some EUDCs can be mapped to non-PUA Unicode code points.</span></span> <span data-ttu-id="c3602-116">A função **WideCharToMultiByte** mapeia um caractere no pua para sua contraparte EUDC, se esse mapeamento existir e se o ponto de código não tiver um mapeamento não pua válido em Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3602-116">The **WideCharToMultiByte** function maps a character in the PUA to its EUDC counterpart, if such a mapping exists and if the code point does not have a valid non-PUA mapping in Unicode.</span></span> <span data-ttu-id="c3602-117">Nem todas as páginas de código têm um intervalo EUDC.</span><span class="sxs-lookup"><span data-stu-id="c3602-117">Not all code pages have an EUDC range.</span></span> <span data-ttu-id="c3602-118">A página de código especificada em uma chamada de **WideCharToMultiByte** deve conter um intervalo de códigos EUDC para que o mapeamento para o intervalo Eudc ocorra.</span><span class="sxs-lookup"><span data-stu-id="c3602-118">The code page specified in a call to **WideCharToMultiByte** must contain an EUDC code range for the mapping to the EUDC range to occur.</span></span> <span data-ttu-id="c3602-119">Se a página de código não contiver um intervalo de códigos EUDC, a função recuperará o caractere padrão para todos os caracteres no PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3602-119">If the code page does not contain an EUDC code range, the function retrieves the default character for any characters in the Unicode PUA.</span></span>

<span data-ttu-id="c3602-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) e [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) não garantem o mapeamento de ida e volta.</span><span class="sxs-lookup"><span data-stu-id="c3602-120">[**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar) and [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte) do not guarantee round-trip mapping.</span></span> <span data-ttu-id="c3602-121">Em outras palavras, é possível iniciar com uma cadeia de caracteres multibyte específica contendo EUDCs, mapear a cadeia de caracteres para Unicode com **MultiByteToWideChar** e mapeá-la de volta para o DBCS original com **WideCharToMultiByte** e terminar com um resultado que não seja idêntico à cadeia de caracteres original.</span><span class="sxs-lookup"><span data-stu-id="c3602-121">In other words, it is possible to start with a particular multibyte string containing EUDCs, map the string to Unicode with **MultiByteToWideChar** and map it back to the original DBCS with **WideCharToMultiByte**, and end up with a result that is not identical to the original string.</span></span> <span data-ttu-id="c3602-122">Os aplicativos que dependem do mapeamento de EUDCs para Unicode devem garantir que todos os caracteres necessários possam fazer ida e volta entre a área de EUDC da página de código apropriada e o PUA Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3602-122">Applications relying on mapping EUDCs to Unicode should ensure that all necessary characters can round-trip between the appropriate code page EUDC area and the Unicode PUA.</span></span>

<span data-ttu-id="c3602-123">Os aplicativos não devem tentar mapear EUDCs de uma página de código para outra.</span><span class="sxs-lookup"><span data-stu-id="c3602-123">Applications should not attempt to map EUDCs from one code page to another.</span></span> <span data-ttu-id="c3602-124">Se um aplicativo começa com um EUDC de uma página de código, o mapeia para Unicode com [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar)e mapeia para um DBCS diferente com [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), não há nenhuma garantia sobre os resultados.</span><span class="sxs-lookup"><span data-stu-id="c3602-124">If an application starts with an EUDC from one code page, maps it to Unicode with [**MultiByteToWideChar**](/windows/desktop/api/Stringapiset/nf-stringapiset-multibytetowidechar), and maps to a different DBCS with [**WideCharToMultiByte**](/windows/desktop/api/Stringapiset/nf-stringapiset-widechartomultibyte), there are no guarantees about the results.</span></span> <span data-ttu-id="c3602-125">O caractere original pode ser mapeado para um EUDC diferente na página de código de destino ou pode ser mapeado como um caractere indefinido.</span><span class="sxs-lookup"><span data-stu-id="c3602-125">The original character might be mapped to a different EUDC in the destination code page, or it might be mapped as an undefined character.</span></span> <span data-ttu-id="c3602-126">Da mesma forma, o mapeamento de uma cadeia de caracteres Unicode para uma página de código que tenha um intervalo EUDC pode ter resultados indesejados.</span><span class="sxs-lookup"><span data-stu-id="c3602-126">Similarly, mapping a Unicode string to a code page that has an EUDC range can have unintended results.</span></span> <span data-ttu-id="c3602-127">Se a cadeia de caracteres Unicode contiver um ponto de código PUA, é possível que o ponto de código seja mapeado para um EUDC que não represente o mesmo caractere.</span><span class="sxs-lookup"><span data-stu-id="c3602-127">If the Unicode string contains a PUA code point, it is possible that the code point will be mapped to an EUDC that does not represent the same character.</span></span>

<span data-ttu-id="c3602-128">Os aplicativos podem comparar cadeias de caracteres DBCS que contêm EUDCs usando a versão ANSI da função [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) .</span><span class="sxs-lookup"><span data-stu-id="c3602-128">Applications can compare DBCS strings that contain EUDCs by using the ANSI version of the [CompareString](/windows/win32/api/stringapiset/nf-stringapiset-comparestringw) function.</span></span> <span data-ttu-id="c3602-129">A função mapeia efetivamente os caracteres para Unicode antes de comparar valores de caracteres.</span><span class="sxs-lookup"><span data-stu-id="c3602-129">The function effectively maps the characters to Unicode before comparing character values.</span></span> <span data-ttu-id="c3602-130">Os aplicativos podem criar uma chave de classificação para a cadeia de caracteres usando a versão ANSI da função [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) e o \_ valor de SORTKEY LCMAP.</span><span class="sxs-lookup"><span data-stu-id="c3602-130">Applications can create a sort key for the string by using the ANSI version of the [**LCMapString**](/windows/desktop/api/Winnls/nf-winnls-lcmapstringa) function and the LCMAP\_SORTKEY value.</span></span> <span data-ttu-id="c3602-131">Essa função mapeia efetivamente os caracteres para Unicode primeiro.</span><span class="sxs-lookup"><span data-stu-id="c3602-131">This function effectively maps characters to Unicode first.</span></span> <span data-ttu-id="c3602-132">Todos os caracteres no PUA são classificados após todos os outros caracteres Unicode.</span><span class="sxs-lookup"><span data-stu-id="c3602-132">All characters in the PUA are sorted after all other Unicode characters.</span></span> <span data-ttu-id="c3602-133">Dentro da área, os caracteres são classificados em ordem numérica.</span><span class="sxs-lookup"><span data-stu-id="c3602-133">Within the area, characters are sorted in numerical order.</span></span> <span data-ttu-id="c3602-134">Se um aplicativo tentar recuperar informações de CTYPE para um EUDC usando a função [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) , a função recuperará **NULL** para cada caractere.</span><span class="sxs-lookup"><span data-stu-id="c3602-134">If an application attempts to retrieve CTYPE information for an EUDC by using the [GetStringTypeA](/windows/desktop/api/Winnls/nf-winnls-getstringtypea) function, the function retrieves **NULL** for each character.</span></span>

## <a name="related-topics"></a><span data-ttu-id="c3602-135">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="c3602-135">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="c3602-136">Usando Unicode e conjuntos de caracteres</span><span class="sxs-lookup"><span data-stu-id="c3602-136">Using Unicode and Character Sets</span></span>](using-unicode-and-character-sets.md)
</dt> </dl>

 

 
