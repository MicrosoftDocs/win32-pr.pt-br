---
description: Seu aplicativo pode restaurar um computador que está em estado de suspensão para o estado de funcionamento usando um temporizador agendado ou um evento de dispositivo.
ms.assetid: b7326b09-0829-4e76-80d0-e4ecdf7f556e
title: Eventos de ativação do sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f13332305ef023d932f2912f7299aa12cd402733
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105779592"
---
# <a name="system-wake-up-events"></a><span data-ttu-id="0c673-103">Eventos de ativação do sistema</span><span class="sxs-lookup"><span data-stu-id="0c673-103">System Wake-up Events</span></span>

<span data-ttu-id="0c673-104">As informações a seguir se aplicam a ativação de [suspensão (S3) e hibernar (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span><span class="sxs-lookup"><span data-stu-id="0c673-104">The following information applies to wakes from [sleep (S3) and hibernate (S4)](/windows-hardware/drivers/kernel/system-sleeping-states).</span></span> <span data-ttu-id="0c673-105">Para ativações do modo de espera moderno (S0 ocioso de baixa energia), consulte [transições de ocioso para ativo](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span><span class="sxs-lookup"><span data-stu-id="0c673-105">For wakes from Modern Standby (S0 Low Power Idle), please refer to [transitions from idle to active](/windows-hardware/design/device-experiences/transition-from-idle-to-active).</span></span>

<span data-ttu-id="0c673-106">Seu aplicativo pode restaurar um computador que está em estado de suspensão para o estado de funcionamento usando um temporizador agendado ou um evento de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="0c673-106">Your application can restore a computer that is in a sleep state to the working state by using a scheduled timer or a device event.</span></span> <span data-ttu-id="0c673-107">Isso é conhecido como um *evento de ativação*.</span><span class="sxs-lookup"><span data-stu-id="0c673-107">This is known as a *wake-up event*.</span></span> <span data-ttu-id="0c673-108">Use um [objeto de temporizador](/windows/desktop/Sync/waitable-timer-objects) que pode ser aguardado para especificar a hora em que o sistema deve ser ativado.</span><span class="sxs-lookup"><span data-stu-id="0c673-108">Use a [waitable timer object](/windows/desktop/Sync/waitable-timer-objects) to specify the time at which the system should wake.</span></span> <span data-ttu-id="0c673-109">Para criar o objeto, use a função [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) .</span><span class="sxs-lookup"><span data-stu-id="0c673-109">To create the object, use the [**CreateWaitableTimer**](/windows/win32/api/synchapi/nf-synchapi-createwaitabletimerw) function.</span></span> <span data-ttu-id="0c673-110">Para definir o temporizador, use a função [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) .</span><span class="sxs-lookup"><span data-stu-id="0c673-110">To set the timer, use the [**SetWaitableTimer**](/windows/desktop/api/synchapi/nf-synchapi-setwaitabletimer) function.</span></span> <span data-ttu-id="0c673-111">O parâmetro *pDueTime* especifica quando o temporizador será sinalizado.</span><span class="sxs-lookup"><span data-stu-id="0c673-111">The *pDueTime* parameter specifies when the timer will be signaled.</span></span> <span data-ttu-id="0c673-112">Para especificar que o sistema deve ser ativado quando o temporizador for sinalizado, defina o parâmetro *fResume* como **true**.</span><span class="sxs-lookup"><span data-stu-id="0c673-112">To specify that the system should wake when the timer is signaled, set the *fResume* parameter to **TRUE**.</span></span>

<span data-ttu-id="0c673-113">Quando o sistema é ativado automaticamente por causa de um evento (diferente do comutador de energia ou atividade do usuário), o sistema define automaticamente um temporizador ocioso autônomo para pelo menos 2 minutos.</span><span class="sxs-lookup"><span data-stu-id="0c673-113">When the system wakes automatically because of an event (other than power switch or user activity), the system automatically sets an unattended idle timer to at least 2 minutes.</span></span> <span data-ttu-id="0c673-114">Esse temporizador fornece aos aplicativos tempo suficiente para chamar a função [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) para indicar que estão ocupados.</span><span class="sxs-lookup"><span data-stu-id="0c673-114">This timer gives applications sufficient time to call the [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) function to indicate that they are busy.</span></span> <span data-ttu-id="0c673-115">Esse tempo permite que o sistema retorne ao estado de suspensão rapidamente depois que o computador não for mais necessário.</span><span class="sxs-lookup"><span data-stu-id="0c673-115">This time enables the system to return to the sleep state quickly after the computer is no longer required.</span></span> <span data-ttu-id="0c673-116">Os critérios a seguir determinam se o sistema retorna ao estado de suspensão:</span><span class="sxs-lookup"><span data-stu-id="0c673-116">The following criteria determine whether the system returns to the sleep state:</span></span>

-   <span data-ttu-id="0c673-117">Se o sistema for ativado automaticamente (ou seja, nenhuma atividade do usuário estiver presente), ele será desligado assim que o temporizador ocioso autônomo expirar, supondo que nenhum aplicativo tenha chamado [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) para indicar que o sistema é necessário.</span><span class="sxs-lookup"><span data-stu-id="0c673-117">If the system wakes automatically (that is, no user activity is present), it shuts down as soon as the unattended idle timer expires, assuming that no applications have called [**SetThreadExecutionState**](/windows/desktop/api/Winbase/nf-winbase-setthreadexecutionstate) to indicate that the system is required.</span></span>
-   <span data-ttu-id="0c673-118">As ativações baseadas em dispositivo disparam o temporizador ocioso autônomo por padrão, a menos que o driver de dispositivo indique a presença do usuário.</span><span class="sxs-lookup"><span data-stu-id="0c673-118">Device-based wakes trigger the unattended idle timer by default unless the device driver indicates user presence.</span></span> <span data-ttu-id="0c673-119">Se o driver indicar a presença do usuário, o timer de ociosidade do sistema será usado.</span><span class="sxs-lookup"><span data-stu-id="0c673-119">If the driver indicates user presence, then the system idle timer is used.</span></span>
-   <span data-ttu-id="0c673-120">Se o sistema for ativado automaticamente, mas o usuário fornecer nova entrada enquanto o evento for manipulado, o sistema não retornará automaticamente ao modo de suspensão com base no timer de ociosidade autônomo.</span><span class="sxs-lookup"><span data-stu-id="0c673-120">If the system wakes automatically, but the user provides new input while the event is handled, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="0c673-121">Em vez disso, o sistema retorna ao estado de suspensão com base no timer de ociosidade do sistema.</span><span class="sxs-lookup"><span data-stu-id="0c673-121">Instead, the system returns to sleep based on the system idle timer.</span></span>
-   <span data-ttu-id="0c673-122">Se o sistema for ativado devido à atividade do usuário, o sistema não retornará automaticamente ao modo de suspensão com base no timer de ociosidade autônomo.</span><span class="sxs-lookup"><span data-stu-id="0c673-122">If the system wakes due to user activity, the system does not automatically return to sleep based on the unattended idle timer.</span></span> <span data-ttu-id="0c673-123">Em vez disso, o sistema retorna ao estado de suspensão com base no timer de ociosidade do sistema.</span><span class="sxs-lookup"><span data-stu-id="0c673-123">Instead the system returns to sleep based on the system idle timer.</span></span>

<span data-ttu-id="0c673-124">Quando o sistema é ativado automaticamente, ele difunde o evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) para todos os aplicativos.</span><span class="sxs-lookup"><span data-stu-id="0c673-124">When the system wakes automatically, it broadcasts the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event to all applications.</span></span> <span data-ttu-id="0c673-125">Como o usuário não está presente, a maioria dos aplicativos não deve fazer nada.</span><span class="sxs-lookup"><span data-stu-id="0c673-125">Because the user is not present, most applications should do nothing.</span></span> <span data-ttu-id="0c673-126">Aplicativos de manipulação de eventos, como servidores de fax, devem lidar com seus eventos.</span><span class="sxs-lookup"><span data-stu-id="0c673-126">Event-handling applications, such as fax servers, should handle their events.</span></span> <span data-ttu-id="0c673-127">Para determinar se o sistema está nesse estado, chame a função [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) .</span><span class="sxs-lookup"><span data-stu-id="0c673-127">To determine whether the system is in this state, call the [**IsSystemResumeAutomatic**](/windows/desktop/api/Winbase/nf-winbase-issystemresumeautomatic) function.</span></span> <span data-ttu-id="0c673-128">Quando o sistema é ativado automaticamente, a exibição não é ativada automaticamente.</span><span class="sxs-lookup"><span data-stu-id="0c673-128">When the system wakes automatically, the display is not automatically turned on.</span></span>

<span data-ttu-id="0c673-129">Se o sistema for ativado devido à atividade do usuário, o sistema primeiro transmitirá o evento [PBT \_ APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) seguido por um evento [PBT \_ APMRESUMESUSPEND](pbt-apmresumesuspend.md) .</span><span class="sxs-lookup"><span data-stu-id="0c673-129">If the system wakes due to user activity, the system will first broadcast the [PBT\_APMRESUMEAUTOMATIC](pbt-apmresumeautomatic.md) event followed by a [PBT\_APMRESUMESUSPEND](pbt-apmresumesuspend.md) event.</span></span> <span data-ttu-id="0c673-130">Além disso, o sistema ativará a exibição.</span><span class="sxs-lookup"><span data-stu-id="0c673-130">In addition, the system will turn on the display.</span></span> <span data-ttu-id="0c673-131">Seu aplicativo deve reabrir os arquivos que ele fechou quando o sistema entrou em suspensão e se preparar para a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="0c673-131">Your application should reopen files that it closed when the system entered sleep and prepare for user input.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0c673-132">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="0c673-132">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0c673-133">Sobre o gerenciamento de energia</span><span class="sxs-lookup"><span data-stu-id="0c673-133">About Power Management</span></span>](about-power-management.md)
</dt> <dt>

[<span data-ttu-id="0c673-134">Critérios de suspensão do sistema</span><span class="sxs-lookup"><span data-stu-id="0c673-134">System Sleep Criteria</span></span>](system-sleep-criteria.md)
</dt> </dl>

 

 
