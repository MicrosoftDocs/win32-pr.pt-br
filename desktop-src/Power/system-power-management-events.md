---
description: Um evento de gerenciamento de energia do sistema é uma alteração no status de energia do sistema, no modo operacional de um dispositivo ou sistema ou no valor de uma configuração de energia.
ms.assetid: f73b072a-1f69-4e26-9712-dab428edca18
title: Eventos de gerenciamento de energia do sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 7ab18fad9116cfff9e1cd35703e32a49e3b12c8b
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105757486"
---
# <a name="system-power-management-events"></a><span data-ttu-id="5cc06-103">Eventos de gerenciamento de energia do sistema</span><span class="sxs-lookup"><span data-stu-id="5cc06-103">System Power Management Events</span></span>

<span data-ttu-id="5cc06-104">Um evento de gerenciamento de energia do sistema é uma alteração no status de energia do sistema, no modo operacional de um dispositivo ou sistema ou no valor de uma configuração de energia.</span><span class="sxs-lookup"><span data-stu-id="5cc06-104">A system power management event is a change in the system power status, the operational mode of a device or the system, or the value of a power setting.</span></span> <span data-ttu-id="5cc06-105">Como esses eventos podem afetar a operação de aplicativos e drivers instaláveis, o sistema notifica todos os aplicativos e drivers instaláveis transmitindo uma notificação para cada evento.</span><span class="sxs-lookup"><span data-stu-id="5cc06-105">Because these events can affect the operation of applications and installable drivers, the system notifies all applications and installable drivers by broadcasting a notification for each event.</span></span> <span data-ttu-id="5cc06-106">Os aplicativos e serviços se registram para notificações usando a função [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) .</span><span class="sxs-lookup"><span data-stu-id="5cc06-106">Applications and services register for notifications by using the [**RegisterPowerSettingNotification**](/windows/desktop/api/WinUser/nf-winuser-registerpowersettingnotification) function.</span></span> <span data-ttu-id="5cc06-107">As notificações são recebidas por meio da mensagem do [**WM \_ POWERBROADCAST**](wm-powerbroadcast.md) , que contém o evento de gerenciamento de energia e quaisquer dados específicos de evento associados.</span><span class="sxs-lookup"><span data-stu-id="5cc06-107">Notifications are received via the [**WM\_POWERBROADCAST**](wm-powerbroadcast.md) message, which contains the power management event and any associated event-specific data.</span></span>

## <a name="system-power-status-events"></a><span data-ttu-id="5cc06-108">Eventos de status de energia do sistema</span><span class="sxs-lookup"><span data-stu-id="5cc06-108">System Power Status Events</span></span>

<span data-ttu-id="5cc06-109">Um *evento de status de energia do sistema* ocorre quando há uma alteração na fonte de alimentação ou no status da bateria do sistema.</span><span class="sxs-lookup"><span data-stu-id="5cc06-109">A *system power status event* occurs when there is a change in the power supply or in the system battery status.</span></span> <span data-ttu-id="5cc06-110">Por exemplo, o sistema transmite um evento [PBT \_ APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) sempre que o usuário alterna da bateria para a alimentação AC ou vice-versa.</span><span class="sxs-lookup"><span data-stu-id="5cc06-110">For example, the system broadcasts a [PBT\_APMPOWERSTATUSCHANGE](pbt-apmpowerstatuschange.md) event whenever the user switches from battery to AC power or vice versa.</span></span> <span data-ttu-id="5cc06-111">O sistema também transmite esse evento quando a energia restante da bateria fica abaixo do limite especificado pelo usuário ou se a energia da bateria for alterada em um percentual especificado.</span><span class="sxs-lookup"><span data-stu-id="5cc06-111">The system also broadcasts this event when remaining battery power slips below the threshold specified by the user or if the battery power changes by a specified percentage.</span></span>

## <a name="operational-mode-events"></a><span data-ttu-id="5cc06-112">Eventos de modo operacional</span><span class="sxs-lookup"><span data-stu-id="5cc06-112">Operational Mode Events</span></span>

<span data-ttu-id="5cc06-113">Um *evento de modo operacional* ocorre quando há uma alteração no consumo de energia, como o sistema que está alternando para um estado de suspensão devido à inatividade ou ao usuário que está colocando o sistema em suspensão manualmente.</span><span class="sxs-lookup"><span data-stu-id="5cc06-113">An *operational mode event* occurs when there is a change in power consumption, such as the system switching to a sleep state due to inactivity or the user manually putting the system to sleep.</span></span> <span data-ttu-id="5cc06-114">O sistema transmite eventos sobre essas alterações antes que a alteração no consumo de energia seja feita.</span><span class="sxs-lookup"><span data-stu-id="5cc06-114">The system broadcasts events about these changes before the change in power consumption is made.</span></span> <span data-ttu-id="5cc06-115">Por exemplo, se o sistema determinar que ele está ocioso, ele difunde um evento [PBT \_ APMSUSPEND](pbt-apmsuspend.md) que notifica os aplicativos e drivers que ele está prestes a suspender a operação e a suspensão para conservar energia.</span><span class="sxs-lookup"><span data-stu-id="5cc06-115">For example, if the system determines that it is idle, it broadcasts a [PBT\_APMSUSPEND](pbt-apmsuspend.md) event that notifies applications and drivers that it is about to suspend operation and sleep to conserve power.</span></span> <span data-ttu-id="5cc06-116">Os aplicativos e os drivers podem se preparar para o estado de suspensão fechando arquivos e salvando dados para evitar possíveis perdas de dados.</span><span class="sxs-lookup"><span data-stu-id="5cc06-116">Applications and drivers can prepare for sleep by closing files and saving data to avoid potential data loss.</span></span>

<span data-ttu-id="5cc06-117">Quando o sistema executa uma *suspensão crítica*, o sistema é imediatamente colocado em suspensão devido a uma condição crítica, como um alarme de bateria crítico.</span><span class="sxs-lookup"><span data-stu-id="5cc06-117">When the system carries out a *critical suspension*, the system is immediately put to sleep due to a critical condition such as a critical battery alarm.</span></span> <span data-ttu-id="5cc06-118">Ao contrário de uma transição de suspensão normal, o sistema não notifica aplicativos e drivers antes de realizar uma suspensão crítica.</span><span class="sxs-lookup"><span data-stu-id="5cc06-118">In contrast to a normal sleep transition, the system does not notify applications and drivers before carrying out a critical suspension.</span></span> <span data-ttu-id="5cc06-119">Portanto, os aplicativos devem estar preparados para lidar com suspensões críticas.</span><span class="sxs-lookup"><span data-stu-id="5cc06-119">Therefore, applications must be prepared to handle critical suspensions.</span></span>

<span data-ttu-id="5cc06-120">Quando a operação do sistema é restaurada após ter sido suspensa, o sistema notifica todos os aplicativos e drivers.</span><span class="sxs-lookup"><span data-stu-id="5cc06-120">When system operation is restored after having been suspended, the system notifies all applications and drivers.</span></span> <span data-ttu-id="5cc06-121">Ele também indica se o sistema está retomando de uma suspensão crítica para que o aplicativo ou driver possa tomar as medidas apropriadas para restaurar seus dados e continuar a operação.</span><span class="sxs-lookup"><span data-stu-id="5cc06-121">It also indicates whether the system is resuming from a critical suspension so the application or driver can take appropriate steps to restore its data and continue operation.</span></span>

<span data-ttu-id="5cc06-122">Os aplicativos devem fazer cada tentativa de lidar com a transição para o estado de suspensão sem nenhuma intervenção do usuário, pois talvez não seja possível que o usuário responda.</span><span class="sxs-lookup"><span data-stu-id="5cc06-122">Applications should make every attempt to handle the transition to the sleep state without any user intervention because it may not be possible for the user to respond.</span></span> <span data-ttu-id="5cc06-123">Por exemplo, a tampa no computador do notebook pode ser fechada.</span><span class="sxs-lookup"><span data-stu-id="5cc06-123">For example, the lid on the notebook computer may be closed.</span></span> <span data-ttu-id="5cc06-124">Quando um aplicativo recebe uma notificação de que o sistema está prestes a entrar em suspensão, ele deve executar todas as operações necessárias rapidamente e retornar o loop de mensagem.</span><span class="sxs-lookup"><span data-stu-id="5cc06-124">When an application receives notification that the system is about to enter sleep, it should perform any necessary operations quickly and return out of the message loop.</span></span> <span data-ttu-id="5cc06-125">O sistema permite um máximo de dois segundos por aplicativo ao lidar com essa mensagem antes de atingir o tempo limite.</span><span class="sxs-lookup"><span data-stu-id="5cc06-125">The system allows for a maximum of two seconds per application when handling this message before timing out.</span></span>

## <a name="power-setting-change-events"></a><span data-ttu-id="5cc06-126">Eventos de alteração de configuração de energia</span><span class="sxs-lookup"><span data-stu-id="5cc06-126">Power Setting Change Events</span></span>

<span data-ttu-id="5cc06-127">Um evento de alteração de configuração de energia ocorre quando há uma alteração no valor de uma configuração de energia.</span><span class="sxs-lookup"><span data-stu-id="5cc06-127">A power setting change event occurs when there is a change in the value of a power setting.</span></span> <span data-ttu-id="5cc06-128">Por exemplo, o usuário altera o plano de energia de alto desempenho para balanceado no aplicativo de opções de energia no painel de controle.</span><span class="sxs-lookup"><span data-stu-id="5cc06-128">For example, the user changes the power plan from High Performance to Balanced in the Power Options application in Control Panel.</span></span> <span data-ttu-id="5cc06-129">Nesse caso, o sistema transmitiria um evento que indicasse que o plano de energia foi alterado.</span><span class="sxs-lookup"><span data-stu-id="5cc06-129">In this case, the system would broadcast an event that indicates that the power plan has changed.</span></span> <span data-ttu-id="5cc06-130">Esse evento inclui o novo valor para a configuração de energia.</span><span class="sxs-lookup"><span data-stu-id="5cc06-130">This event includes the new value for the power setting.</span></span>

## <a name="related-topics"></a><span data-ttu-id="5cc06-131">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="5cc06-131">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="5cc06-132">Sobre o gerenciamento de energia</span><span class="sxs-lookup"><span data-stu-id="5cc06-132">About Power Management</span></span>](about-power-management.md)
</dt> </dl>

 

 



