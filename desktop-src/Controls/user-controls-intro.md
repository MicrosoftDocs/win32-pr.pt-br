---
title: Controles personalizados
description: Esta seção contém informações sobre controles personalizados ou definidos pelo aplicativo.
ms.assetid: 220f7058-db04-46d0-acee-ed5e676790b3
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: e82ed9394ec06257e524153b86ef487f4507f35b
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104084910"
---
# <a name="custom-controls"></a><span data-ttu-id="cb5da-103">Controles personalizados</span><span class="sxs-lookup"><span data-stu-id="cb5da-103">Custom Controls</span></span>

<span data-ttu-id="cb5da-104">Esta seção contém informações sobre controles personalizados ou definidos pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cb5da-104">This section contains information about application-defined or custom controls.</span></span>

<span data-ttu-id="cb5da-105">Os tópicos a seguir são discutidos.</span><span class="sxs-lookup"><span data-stu-id="cb5da-105">The following topics are discussed.</span></span>

-   [<span data-ttu-id="cb5da-106">Criando Owner-Drawn controles</span><span class="sxs-lookup"><span data-stu-id="cb5da-106">Creating Owner-Drawn Controls</span></span>](#creating-owner-drawn-controls)
-   [<span data-ttu-id="cb5da-107">Subclasse da classe Window de um controle existente</span><span class="sxs-lookup"><span data-stu-id="cb5da-107">Subclassing the Window Class of an Existing Control</span></span>](#subclassing-the-window-class-of-an-existing-control)
-   [<span data-ttu-id="cb5da-108">Implementando uma classe de janela de Application-Defined</span><span class="sxs-lookup"><span data-stu-id="cb5da-108">Implementing an Application-Defined Window Class</span></span>](#implementing-an-application-defined-window-class)
-   [<span data-ttu-id="cb5da-109">Enviando notificações de um controle</span><span class="sxs-lookup"><span data-stu-id="cb5da-109">Sending Notifications from a Control</span></span>](#sending-notifications-from-a-control)
-   [<span data-ttu-id="cb5da-110">Acessibilidade</span><span class="sxs-lookup"><span data-stu-id="cb5da-110">Accessibility</span></span>](#accessibility)
-   [<span data-ttu-id="cb5da-111">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="cb5da-111">Related topics</span></span>](#related-topics)

## <a name="creating-owner-drawn-controls"></a><span data-ttu-id="cb5da-112">Criando Owner-Drawn controles</span><span class="sxs-lookup"><span data-stu-id="cb5da-112">Creating Owner-Drawn Controls</span></span>

<span data-ttu-id="cb5da-113">Botões, menus, controles de texto estáticos, caixas de listagem e caixas de combinação podem ser criados com um sinalizador de estilo desenhado pelo proprietário.</span><span class="sxs-lookup"><span data-stu-id="cb5da-113">Buttons, menus, static text controls, list boxes, and combo boxes can be created with an owner-drawn style flag.</span></span> <span data-ttu-id="cb5da-114">Quando um controle tem o estilo desenhado pelo proprietário, o sistema manipula a interação do usuário com o controle como de costume, realizando tarefas como detectar quando um usuário escolheu um botão e notificando o proprietário do evento.</span><span class="sxs-lookup"><span data-stu-id="cb5da-114">When a control has the owner-drawn style, the system handles the user's interaction with the control as usual, performing such tasks as detecting when a user has chosen a button and notifying the button's owner of the event.</span></span> <span data-ttu-id="cb5da-115">No entanto, como o controle é desenhado pelo proprietário, a janela pai do controle é responsável pela aparência visual do controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-115">However, because the control is owner-drawn, the parent window of the control is responsible for the visual appearance of the control.</span></span> <span data-ttu-id="cb5da-116">A janela pai recebe uma mensagem sempre que o controle deve ser desenhado.</span><span class="sxs-lookup"><span data-stu-id="cb5da-116">The parent window receives a message whenever the control must be drawn.</span></span>

<span data-ttu-id="cb5da-117">Para botões e controles de texto estáticos, o estilo desenhado pelo proprietário afeta como o sistema desenha todo o controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-117">For buttons and static text controls, the owner-drawn style affects how the system draws the entire control.</span></span> <span data-ttu-id="cb5da-118">Para caixas de listagem e caixas de combinação, a janela pai desenha os itens dentro do controle e o controle desenha sua própria estrutura de tópicos.</span><span class="sxs-lookup"><span data-stu-id="cb5da-118">For list boxes and combo boxes, the parent window draws the items within the control, and the control draws its own outline.</span></span> <span data-ttu-id="cb5da-119">Por exemplo, um aplicativo pode personalizar uma caixa de listagem para que ela exiba um bitmap pequeno ao lado de cada item na lista.</span><span class="sxs-lookup"><span data-stu-id="cb5da-119">For example, an application can customize a list box so that it displays a small bitmap next to each item in the list.</span></span>

<span data-ttu-id="cb5da-120">O código de exemplo a seguir mostra como criar um controle de texto estático desenhado pelo proprietário.</span><span class="sxs-lookup"><span data-stu-id="cb5da-120">The following example code shows how to create an owner-drawn static text control.</span></span> <span data-ttu-id="cb5da-121">Suponha que o Unicode esteja definido.</span><span class="sxs-lookup"><span data-stu-id="cb5da-121">Assume that Unicode is defined.</span></span>


```
// g_myStatic is a global HWND variable.
g_myStatic = CreateWindowEx(0, L"STATIC", L"Some static text", 
            WS_CHILD | WS_VISIBLE | SS_OWNERDRAW, 
            25, 125, 150, 20, hDlg, 0, 0, 0);
```



<span data-ttu-id="cb5da-122">No exemplo a seguir, do procedimento de janela da caixa de diálogo que contém o controle criado no exemplo anterior, a mensagem do [**WM \_ DRAWITEM**](wm-drawitem.md) é manipulada exibindo o texto em uma cor personalizada, usando a fonte padrão.</span><span class="sxs-lookup"><span data-stu-id="cb5da-122">In the following example, from the window procedure for the dialog box that contains the control created in the previous example, the [**WM\_DRAWITEM**](wm-drawitem.md) message is handled by displaying the text in a custom color, using the default font.</span></span> <span data-ttu-id="cb5da-123">Observe que você não precisa chamar [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) e [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) ao manipular o **WM \_ DRAWITEM**.</span><span class="sxs-lookup"><span data-stu-id="cb5da-123">Note that you do not need to call [**BeginPaint**](/windows/desktop/api/winuser/nf-winuser-beginpaint) and [**EndPaint**](/windows/desktop/api/winuser/nf-winuser-endpaint) when handling **WM\_DRAWITEM**.</span></span>


```
case WM_DRAWITEM:
{
    LPDRAWITEMSTRUCT pDIS = (LPDRAWITEMSTRUCT)lParam;
    if (pDIS->hwndItem == g_myStatic)
    {
        SetTextColor(pDIS->hDC, RGB(100, 0, 100));
        WCHAR staticText[99];
        int len = SendMessage(myStatic, WM_GETTEXT, 
            ARRAYSIZE(staticText), (LPARAM)staticText);
        TextOut(pDIS->hDC, pDIS->rcItem.left, pDIS->rcItem.top, staticText, len);
    }
    return TRUE;
}
```



<span data-ttu-id="cb5da-124">Para obter mais informações sobre os controles desenhados pelo proprietário, consulte [criando uma caixa de listagem desenhada pelo](using-list-boxes.md) proprietário e [caixas de combinação desenhadas pelo proprietário](about-combo-boxes.md).</span><span class="sxs-lookup"><span data-stu-id="cb5da-124">For more information about owner-drawn controls, see [Creating an Owner-drawn List Box](using-list-boxes.md) and [Owner Drawn Combo Boxes](about-combo-boxes.md).</span></span>

## <a name="subclassing-the-window-class-of-an-existing-control"></a><span data-ttu-id="cb5da-125">Subclasse da classe Window de um controle existente</span><span class="sxs-lookup"><span data-stu-id="cb5da-125">Subclassing the Window Class of an Existing Control</span></span>

<span data-ttu-id="cb5da-126">A criação de uma subclasse de um controle existente é outra maneira de criar um controle personalizado.</span><span class="sxs-lookup"><span data-stu-id="cb5da-126">Subclassing an existing control is another way to create a custom control.</span></span> <span data-ttu-id="cb5da-127">O procedimento de subclasse pode alterar os comportamentos selecionados do controle processando as mensagens que afetam os comportamentos selecionados.</span><span class="sxs-lookup"><span data-stu-id="cb5da-127">The subclass procedure can alter selected behaviors of the control by processing those messages that affect the selected behaviors.</span></span> <span data-ttu-id="cb5da-128">Todas as outras mensagens passam para o procedimento de janela original do controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-128">All other messages pass to the original window procedure for the control.</span></span> <span data-ttu-id="cb5da-129">Por exemplo, um aplicativo pode exibir um bitmap pequeno ao lado do texto em um controle de edição somente leitura, de linha única, subclassendo o controle e processando a mensagem de [**\_ pintura do WM**](/windows/desktop/gdi/wm-paint) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-129">For example, an application can display a small bitmap next to the text in a read-only, single-line edit control by subclassing the control and processing the [**WM\_PAINT**](/windows/desktop/gdi/wm-paint) message.</span></span> <span data-ttu-id="cb5da-130">Para obter mais informações, consulte [sobre procedimentos de janela](/windows/desktop/winmsg/about-window-procedures) e [controles de subclasses](subclassing-overview.md).</span><span class="sxs-lookup"><span data-stu-id="cb5da-130">For more information, see [About Window Procedures](/windows/desktop/winmsg/about-window-procedures) and [Subclassing Controls](subclassing-overview.md).</span></span>

## <a name="implementing-an-application-defined-window-class"></a><span data-ttu-id="cb5da-131">Implementando uma classe de janela de Application-Defined</span><span class="sxs-lookup"><span data-stu-id="cb5da-131">Implementing an Application-Defined Window Class</span></span>

<span data-ttu-id="cb5da-132">Para criar um controle que não seja explicitamente baseado em um controle existente, o aplicativo deve criar e registrar uma classe de janela.</span><span class="sxs-lookup"><span data-stu-id="cb5da-132">To create a control that is not explicitly based on an existing control, the application must create and register a window class.</span></span> <span data-ttu-id="cb5da-133">O processo para registrar uma classe de janela definida pelo aplicativo para um controle personalizado é o mesmo que registrar uma classe para uma janela comum.</span><span class="sxs-lookup"><span data-stu-id="cb5da-133">The process for registering an application-defined window class for a custom control is the same as registering a class for an ordinary window.</span></span> <span data-ttu-id="cb5da-134">Para criar um controle personalizado, especifique o nome da classe de janela na função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) ou em um modelo de caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="cb5da-134">To create a custom control, specify the name of the window class in the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in a dialog box template.</span></span> <span data-ttu-id="cb5da-135">Cada classe deve ter um nome exclusivo, um procedimento de janela correspondente e outras informações.</span><span class="sxs-lookup"><span data-stu-id="cb5da-135">Each class must have a unique name, a corresponding window procedure, and other information.</span></span>

<span data-ttu-id="cb5da-136">No mínimo, o procedimento de janela desenha o controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-136">At a minimum, the window procedure draws the control.</span></span> <span data-ttu-id="cb5da-137">Se um aplicativo usar o controle para permitir que as informações de tipo de usuário, o procedimento de janela também processará mensagens de entrada do teclado e do mouse e enviará mensagens de notificação para a janela pai.</span><span class="sxs-lookup"><span data-stu-id="cb5da-137">If an application uses the control to let the user type information, the window procedure also processes input messages from the keyboard and mouse and sends notification messages to the parent window.</span></span> <span data-ttu-id="cb5da-138">Além disso, se o controle oferecer suporte a mensagens de controle, o procedimento de janela processará as mensagens enviadas a ele pela janela pai ou outras janelas.</span><span class="sxs-lookup"><span data-stu-id="cb5da-138">In addition, if the control supports control messages, the window procedure processes messages sent to it by the parent window or other windows.</span></span> <span data-ttu-id="cb5da-139">Por exemplo, os controles geralmente processam a mensagem do [**WM \_ GETDLGCODE**](/windows/desktop/dlgbox/wm-getdlgcode) enviada por caixas de diálogo para direcionar uma caixa de diálogo para processar a entrada do teclado de uma maneira determinada.</span><span class="sxs-lookup"><span data-stu-id="cb5da-139">For example, controls often process the [**WM\_GETDLGCODE**](/windows/desktop/dlgbox/wm-getdlgcode) message sent by dialog boxes to direct a dialog box to process keyboard input in a given way.</span></span>

<span data-ttu-id="cb5da-140">O procedimento de janela para um controle definido pelo aplicativo deve processar qualquer mensagem de controle predefinida na tabela a seguir se a mensagem afetar a operação do controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-140">The window procedure for an application-defined control should process any predefined control message in the following table if the message affects the operation of the control.</span></span>



| <span data-ttu-id="cb5da-141">Mensagem</span><span class="sxs-lookup"><span data-stu-id="cb5da-141">Message</span></span>                                          | <span data-ttu-id="cb5da-142">Recomendação</span><span class="sxs-lookup"><span data-stu-id="cb5da-142">Recommendation</span></span>                                                                                                                                                                                                                                  |
|--------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="cb5da-143">**GETDLGCODE do WM \_**</span><span class="sxs-lookup"><span data-stu-id="cb5da-143">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)       | <span data-ttu-id="cb5da-144">Processar se o controle usar as teclas ENTER, ESC, TAB ou arrow.</span><span class="sxs-lookup"><span data-stu-id="cb5da-144">Process if the control uses the ENTER, ESC, TAB, or arrow keys.</span></span> <span data-ttu-id="cb5da-145">A função [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) envia essa mensagem aos controles em uma caixa de diálogo para determinar se as chaves devem ser processadas ou passadas para o controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-145">The [**IsDialogMessage**](/windows/desktop/api/winuser/nf-winuser-isdialogmessagea) function sends this message to controls in a dialog box to determine whether to process the keys or pass them to the control.</span></span> |
| [<span data-ttu-id="cb5da-146">**WM \_ GETfont**</span><span class="sxs-lookup"><span data-stu-id="cb5da-146">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)             | <span data-ttu-id="cb5da-147">Processar se a mensagem de [**\_ fonte do WM**](/windows/desktop/winmsg/wm-setfont) também for processada.</span><span class="sxs-lookup"><span data-stu-id="cb5da-147">Process if the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message is also processed.</span></span>                                                                                                                                                                  |
| [<span data-ttu-id="cb5da-148">**WM \_ GETtext**</span><span class="sxs-lookup"><span data-stu-id="cb5da-148">**WM\_GETTEXT**</span></span>](/windows/desktop/winmsg/wm-gettext)             | <span data-ttu-id="cb5da-149">Processar se o texto de controle não for o mesmo que o título especificado pela função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-149">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="cb5da-150">**GETTEXTLENGTH do WM \_**</span><span class="sxs-lookup"><span data-stu-id="cb5da-150">**WM\_GETTEXTLENGTH**</span></span>](/windows/desktop/winmsg/wm-gettextlength) | <span data-ttu-id="cb5da-151">Processar se o texto de controle não for o mesmo que o título especificado pela função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-151">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="cb5da-152">**KILLFOCUS do WM \_**</span><span class="sxs-lookup"><span data-stu-id="cb5da-152">**WM\_KILLFOCUS**</span></span>](/windows/desktop/inputdev/wm-killfocus)       | <span data-ttu-id="cb5da-153">Processar se o controle exibir um cursor, um retângulo de foco ou outro item para indicar que ele tem o foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="cb5da-153">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="cb5da-154">**WM \_ SETFOCUS**</span><span class="sxs-lookup"><span data-stu-id="cb5da-154">**WM\_SETFOCUS**</span></span>](/windows/desktop/inputdev/wm-setfocus)         | <span data-ttu-id="cb5da-155">Processar se o controle exibir um cursor, um retângulo de foco ou outro item para indicar que ele tem o foco de entrada.</span><span class="sxs-lookup"><span data-stu-id="cb5da-155">Process if the control displays a caret, a focus rectangle, or another item to indicate that it has the input focus.</span></span>                                                                                                                            |
| [<span data-ttu-id="cb5da-156">**SetText do WM \_**</span><span class="sxs-lookup"><span data-stu-id="cb5da-156">**WM\_SETTEXT**</span></span>](/windows/desktop/winmsg/wm-settext)             | <span data-ttu-id="cb5da-157">Processar se o texto de controle não for o mesmo que o título especificado pela função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-157">Process if the control text is not the same as the title specified by the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function.</span></span>                                                                                                                 |
| [<span data-ttu-id="cb5da-158">**WM \_ SETfont**</span><span class="sxs-lookup"><span data-stu-id="cb5da-158">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)             | <span data-ttu-id="cb5da-159">Processar se o controle exibir texto.</span><span class="sxs-lookup"><span data-stu-id="cb5da-159">Process if the control displays text.</span></span> <span data-ttu-id="cb5da-160">O sistema envia essa mensagem ao criar uma caixa de diálogo com o estilo de fonte de domínio \_ .</span><span class="sxs-lookup"><span data-stu-id="cb5da-160">The system sends this message when creating a dialog box that has the DS\_SETFONT style.</span></span>                                                                                                                  |



 

<span data-ttu-id="cb5da-161">As mensagens de controle definidas pelo aplicativo são específicas para o controle fornecido e devem ser enviadas explicitamente ao controle usando uma função [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) ou [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-161">Application-defined control messages are specific to the given control and must be explicitly sent to the control by using a [**SendMessage**](/windows/desktop/api/winuser/nf-winuser-sendmessage) or [**SendDlgItemMessage**](/windows/desktop/api/winuser/nf-winuser-senddlgitemmessagea) function.</span></span> <span data-ttu-id="cb5da-162">O valor numérico de cada mensagem deve ser exclusivo e não deve entrar em conflito com os valores de outras mensagens da janela.</span><span class="sxs-lookup"><span data-stu-id="cb5da-162">The numeric value for each message must be unique and must not conflict with the values of other window messages.</span></span> <span data-ttu-id="cb5da-163">Para garantir que os valores de mensagem definidos pelo aplicativo não entrem em conflito, um aplicativo deve criar cada valor adicionando um número exclusivo ao valor de [**\_ usuário do WM**](/windows/desktop/winmsg/wm-user) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-163">To ensure that application-defined message values do not conflict, an application should create each value by adding a unique number to the [**WM\_USER**](/windows/desktop/winmsg/wm-user) value.</span></span>

## <a name="sending-notifications-from-a-control"></a><span data-ttu-id="cb5da-164">Enviando notificações de um controle</span><span class="sxs-lookup"><span data-stu-id="cb5da-164">Sending Notifications from a Control</span></span>

<span data-ttu-id="cb5da-165">Controles personalizados podem ser necessários para enviar notificações de eventos para a janela pai para que o aplicativo host possa responder a esses eventos.</span><span class="sxs-lookup"><span data-stu-id="cb5da-165">Custom controls might be required to send notifications of events to the parent window so that the host application can respond to these events.</span></span> <span data-ttu-id="cb5da-166">Por exemplo, um modo de exibição de lista personalizado pode enviar uma notificação quando o usuário seleciona um item e outra notificação quando um item é clicado duas vezes.</span><span class="sxs-lookup"><span data-stu-id="cb5da-166">For example, a custom list view might send a notification when the user selects an item, and another notification when an item is double-clicked.</span></span>

<span data-ttu-id="cb5da-167">As notificações são enviadas [**como \_ comando do WM**](/windows/desktop/menurc/wm-command) ou mensagens de [**\_ notificação do WM**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-167">Notifications are sent as [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) messages.</span></span> <span data-ttu-id="cb5da-168">**WM \_ NOTIFICAr** mensagens que contêm mais informações do que as mensagens de **\_ comando do WM** .</span><span class="sxs-lookup"><span data-stu-id="cb5da-168">**WM\_NOTIFY** messages carry more information than **WM\_COMMAND** messages.</span></span>

<span data-ttu-id="cb5da-169">O identificador de controle é um número exclusivo que o aplicativo usa para identificar o controle que envia a mensagem.</span><span class="sxs-lookup"><span data-stu-id="cb5da-169">The control identifier is a unique number the application uses to identify the control sending the message.</span></span> <span data-ttu-id="cb5da-170">O aplicativo define o identificador para um controle quando ele cria o controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-170">The application sets the identifier for a control when it creates the control.</span></span> <span data-ttu-id="cb5da-171">O aplicativo especifica o identificador no parâmetro *HMENU* da função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) ou no membro **ID** da estrutura [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-171">The application specifies the identifier either in the *hMenu* parameter of the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or in the **id** member of the [**DLGITEMTEMPLATEEX**](/windows/desktop/dlgbox/dlgitemtemplateex) structure.</span></span>

<span data-ttu-id="cb5da-172">Como o próprio controle não define o identificador de controle, o controle deve recuperar o identificador antes de poder enviar mensagens de notificação.</span><span class="sxs-lookup"><span data-stu-id="cb5da-172">Because the control itself does not set the control identifier, the control must retrieve the identifier before it can send notification messages.</span></span> <span data-ttu-id="cb5da-173">Um controle deve usar a função [**GetDlgCtrlID**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) para recuperar seu próprio identificador de controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-173">A control must use the [**GetDlgCtrlID**](/windows/desktop/api/winuser/nf-winuser-getdlgctrlid) function to retrieve its own control identifier.</span></span> <span data-ttu-id="cb5da-174">Embora o identificador de controle seja especificado como o identificador de menu quando o controle é criado, a função [**GetMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) não pode ser usada para recuperar o identificador.</span><span class="sxs-lookup"><span data-stu-id="cb5da-174">Although the control identifier is specified as the menu handle when the control is created, the [**GetMenu**](/windows/desktop/api/winuser/nf-winuser-getmenu) function cannot be used to retrieve the identifier.</span></span> <span data-ttu-id="cb5da-175">Como alternativa, um controle pode recuperar o identificador do membro **HMENU** na estrutura [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) durante o processamento da mensagem [**de \_ criação do WM**](/windows/desktop/winmsg/wm-create) .</span><span class="sxs-lookup"><span data-stu-id="cb5da-175">Alternatively, a control can retrieve the identifier from the **hMenu** member in the [**CREATESTRUCT**](/windows/win32/api/winuser/ns-winuser-createstructa) structure while processing the [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) message.</span></span>

<span data-ttu-id="cb5da-176">Os exemplos a seguir, em que *hwndControl* é o identificador da janela de controle e CN \_ VALUECHANGED é uma definição de notificação personalizada, mostram as duas maneiras de enviar uma notificação específica do controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-176">The following examples, where *hwndControl* is the handle of the control window and CN\_VALUECHANGED is a custom notification definition, show the two ways of sending a control-specific notification.</span></span>


```
 // Send as WM_COMMAND.
SendMessage(GetParent(hwndControl), 
    WM_COMMAND,
    MAKEWPARAM(GetDlgCtrlID(hwndControl), CN_VALUECHANGED),
    (LPARAM)hwndControl);

// Send as WM_NOTIFY.           
NMHDR nmh;
nmh.code = CN_VALUECHANGED;
nmh.idFrom = GetDlgCtrlID(hwndControl);
nmh.hwndFrom = hwndControl;
SendMessage(GetParent(hwndControl), 
    WM_NOTIFY, 
    (WPARAM)hwndControl, 
    (LPARAM)&nmh);
```



<span data-ttu-id="cb5da-177">Observe que a estrutura [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) pode fazer parte de uma estrutura maior definida pelo controle que contém informações adicionais.</span><span class="sxs-lookup"><span data-stu-id="cb5da-177">Note that the [**NMHDR**](/windows/desktop/api/richedit/ns-richedit-nmhdr) structure can be part of a larger control-defined structure that contains additional information.</span></span> <span data-ttu-id="cb5da-178">No exemplo, os valores antigos e novos do controle podem estar contidos nessa estrutura.</span><span class="sxs-lookup"><span data-stu-id="cb5da-178">In the example, the old and new values of the control might be contained in this structure.</span></span> <span data-ttu-id="cb5da-179">(Essas estruturas estendidas são usadas com muitas notificações padrão; por exemplo, consulte [LVN \_ INSERTITEM](lvn-insertitem.md), que usa a estrutura [**NMLISTVEIW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) .)</span><span class="sxs-lookup"><span data-stu-id="cb5da-179">(Such extended structures are used with many standard notifications; for example, see [LVN\_INSERTITEM](lvn-insertitem.md), which uses the [**NMLISTVIEW**](/windows/win32/api/commctrl/ns-commctrl-nmlistview) structure.)</span></span>

## <a name="accessibility"></a><span data-ttu-id="cb5da-180">Acessibilidade</span><span class="sxs-lookup"><span data-stu-id="cb5da-180">Accessibility</span></span>

<span data-ttu-id="cb5da-181">Todos os controles comuns dão suporte ao Microsoft Acessibilidade Ativa (MSAA), que permite o acesso programático por aplicativos de tecnologia acessível, como leitores de tela.</span><span class="sxs-lookup"><span data-stu-id="cb5da-181">All the common controls support Microsoft Active Accessibility (MSAA), which enables programmatic access by accessible-technology applications such as screen-readers.</span></span> <span data-ttu-id="cb5da-182">A MSAA também habilita a automação da interface do usuário, uma tecnologia mais nova, para interagir com controles.</span><span class="sxs-lookup"><span data-stu-id="cb5da-182">MSAA also enables UI Automation, a newer technology, to interact with controls.</span></span>

<span data-ttu-id="cb5da-183">Os controles personalizados devem implementar a interface [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) (para oferecer suporte a MSAA) ou as interfaces de automação da interface do usuário, ou ambas.</span><span class="sxs-lookup"><span data-stu-id="cb5da-183">Custom controls should implement either the [**IAccessible**](/windows/desktop/api/oleacc/nn-oleacc-iaccessible) interface (to support MSAA) or the UI Automation interfaces, or both.</span></span> <span data-ttu-id="cb5da-184">Caso contrário, os produtos de tecnologia acessível poderão obter apenas informações muito limitadas sobre a janela de controle, não terão acesso às propriedades do controle e não poderão disparar eventos no controle.</span><span class="sxs-lookup"><span data-stu-id="cb5da-184">Otherwise, accessible-technology products will be able to obtain only very limited information about the control window, will not have access to the control's properties, and will be unable to trigger events in the control.</span></span>

<span data-ttu-id="cb5da-185">Para obter mais informações sobre como tornar seu controle acessível, consulte [API de automação do Windows](/windows/desktop/WinAuto/windows-automation-api-portal).</span><span class="sxs-lookup"><span data-stu-id="cb5da-185">For more information about making your control accessible, see [Windows Automation API](/windows/desktop/WinAuto/windows-automation-api-portal).</span></span>

## <a name="related-topics"></a><span data-ttu-id="cb5da-186">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="cb5da-186">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="cb5da-187">**Conceitua**</span><span class="sxs-lookup"><span data-stu-id="cb5da-187">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="cb5da-188">Referência de controle geral</span><span class="sxs-lookup"><span data-stu-id="cb5da-188">General Control Reference</span></span>](common-control-reference.md)
</dt> <dt>

[<span data-ttu-id="cb5da-189">Personalizando a aparência de um controle usando o desenho personalizado</span><span class="sxs-lookup"><span data-stu-id="cb5da-189">Customizing a Control's Appearance Using Custom Draw</span></span>](custom-draw.md)
</dt> <dt>

[<span data-ttu-id="cb5da-190">Mensagens de controle</span><span class="sxs-lookup"><span data-stu-id="cb5da-190">Control Messages</span></span>](control-messages.md)
</dt> <dt>

[<span data-ttu-id="cb5da-191">Usando estilos visuais com controles Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="cb5da-191">Using Visual Styles with Owner-Drawn Controls</span></span>](using-visual-styles.md)
</dt> </dl>

 

 