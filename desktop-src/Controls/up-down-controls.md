---
title: Sobre controles de Up-Down
description: Um controle de cima para baixo é um par de botões de seta que o usuário pode clicar para incrementar ou decrementar um valor, como uma posição de rolagem ou um número exibido em um controle complementar (chamado de janela Buddy).
ms.assetid: ae2c0283-9cad-40d1-b8a6-a90484a95f56
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2cc8dad15a8254b138cae4175cc16b1ef3111745
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103641920"
---
# <a name="about-up-down-controls"></a><span data-ttu-id="747ae-103">Sobre controles de Up-Down</span><span class="sxs-lookup"><span data-stu-id="747ae-103">About Up-Down Controls</span></span>

<span data-ttu-id="747ae-104">Um controle de cima para baixo é um par de botões de seta que o usuário pode clicar para incrementar ou decrementar um valor, como uma posição de rolagem ou um número exibido em um controle complementar (chamado de janela Buddy).</span><span class="sxs-lookup"><span data-stu-id="747ae-104">An up-down control is a pair of arrow buttons that the user can click to increment or decrement a value, such as a scroll position or a number displayed in a companion control (called a buddy window).</span></span>

<span data-ttu-id="747ae-105">Para o usuário, um controle up e sua janela Buddy geralmente se parecem com um único controle.</span><span class="sxs-lookup"><span data-stu-id="747ae-105">To the user, an up-down control and its buddy window often look like a single control.</span></span> <span data-ttu-id="747ae-106">Você pode especificar que um controle de cima para baixo se Posicione automaticamente ao lado de sua janela Buddy e que ele defina automaticamente a legenda da janela Buddy para sua posição atual.</span><span class="sxs-lookup"><span data-stu-id="747ae-106">You can specify that an up-down control automatically position itself next to its buddy window and that it automatically set the caption of the buddy window to its current position.</span></span> <span data-ttu-id="747ae-107">Por exemplo, você pode usar um controle de cima para baixo com um controle de edição para solicitar ao usuário uma entrada numérica.</span><span class="sxs-lookup"><span data-stu-id="747ae-107">For example, you can use an up-down control with an edit control to prompt the user for numeric input.</span></span> <span data-ttu-id="747ae-108">A ilustração a seguir mostra um controle de cima para baixo com um controle de edição como sua janela Buddy, uma combinação que às vezes é referenciada como um controle Spinner.</span><span class="sxs-lookup"><span data-stu-id="747ae-108">The following illustration shows an up-down control with an edit control as its buddy window, a combination that is sometimes referred to as a spinner control.</span></span>

![captura de tela mostrando um controle retangular curto e largo com setas para cima e para baixo na borda direita](images/updown.jpg)

<span data-ttu-id="747ae-110">Os tópicos a seguir são discutidos nesta seção.</span><span class="sxs-lookup"><span data-stu-id="747ae-110">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="747ae-111">Estilos de controle de cima para baixo</span><span class="sxs-lookup"><span data-stu-id="747ae-111">Up-Down Control Styles</span></span>](#up-down-control-styles)
-   [<span data-ttu-id="747ae-112">Posição e aceleração</span><span class="sxs-lookup"><span data-stu-id="747ae-112">Position and Acceleration</span></span>](#position-and-acceleration)
-   [<span data-ttu-id="747ae-113">Up-Down padrão controla o processamento de mensagens</span><span class="sxs-lookup"><span data-stu-id="747ae-113">Default Up-Down Controls Message Processing</span></span>](#default-up-down-controls-message-processing)

## <a name="up-down-control-styles"></a><span data-ttu-id="747ae-114">Up-Down estilos de controle</span><span class="sxs-lookup"><span data-stu-id="747ae-114">Up-Down Control Styles</span></span>

<span data-ttu-id="747ae-115">Usando estilos de janela, você pode manipular características de um controle de cima para baixo, como como ele se posiciona em relação à sua janela Buddy, se ele define o texto de sua janela Buddy e se ele processa as teclas de seta para cima e para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-115">Using window styles, you can manipulate characteristics of an up-down control, such as how it positions itself relative to its buddy window, whether it sets the text of its buddy window, and whether it processes the UP ARROW and DOWN ARROW keys.</span></span>

<span data-ttu-id="747ae-116">Um controle de cima para baixo com o estilo [**UDS \_ ALIGNLEFT**](up-down-control-styles.md) ou [**UDS \_ ALIGNRIGHT**](up-down-control-styles.md) se alinha com a borda esquerda ou direita de sua janela Buddy.</span><span class="sxs-lookup"><span data-stu-id="747ae-116">An up-down control with the [**UDS\_ALIGNLEFT**](up-down-control-styles.md) or [**UDS\_ALIGNRIGHT**](up-down-control-styles.md) style aligns with the left or right edge of its buddy window.</span></span> <span data-ttu-id="747ae-117">A largura da janela Buddy é diminuída para acomodar a largura do controle acima-abaixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-117">The width of the buddy window is decreased to accommodate the width of the up-down control.</span></span>

<span data-ttu-id="747ae-118">Um controle de cima para baixo com o estilo [**UDS \_ SETBUDDYINT**](up-down-control-styles.md) define a legenda de sua janela Buddy sempre que a posição atual é alterada.</span><span class="sxs-lookup"><span data-stu-id="747ae-118">An up-down control with the [**UDS\_SETBUDDYINT**](up-down-control-styles.md) style sets the caption of its buddy window whenever the current position changes.</span></span> <span data-ttu-id="747ae-119">O controle insere um separador de milhar entre cada três dígitos de uma cadeia de caracteres decimal, a menos que o estilo [**UDS \_ nomilhares**](up-down-control-styles.md) seja especificado.</span><span class="sxs-lookup"><span data-stu-id="747ae-119">The control inserts a thousands separator between every three digits of a decimal string unless the [**UDS\_NOTHOUSANDS**](up-down-control-styles.md) style is specified.</span></span> <span data-ttu-id="747ae-120">Se a janela Buddy for uma caixa de listagem, um controle up definirá sua seleção atual em vez de sua legenda.</span><span class="sxs-lookup"><span data-stu-id="747ae-120">If the buddy window is a list box, an up-down control sets its current selection instead of its caption.</span></span>

<span data-ttu-id="747ae-121">Você pode especificar o estilo [**UDS \_ ARROWKEYS**](up-down-control-styles.md) para fornecer uma interface de teclado para um controle de cima para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-121">You can specify the [**UDS\_ARROWKEYS**](up-down-control-styles.md) style to provide a keyboard interface for an up-down control.</span></span> <span data-ttu-id="747ae-122">Se esse estilo for especificado, o controle processará as teclas de seta para cima e para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-122">If this style is specified, the control processes the up and down arrow keys.</span></span> <span data-ttu-id="747ae-123">O controle também subclasses da janela Buddy para que possa processar essas chaves quando a janela Buddy tiver o foco.</span><span class="sxs-lookup"><span data-stu-id="747ae-123">The control also subclasses the buddy window so that it can process these keys when the buddy window has the focus.</span></span>

<span data-ttu-id="747ae-124">Se você usar um controle de cima para baixo para a rolagem horizontal, poderá especificar o estilo [**UDS \_ na horizontal**](up-down-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-124">If you use an up-down control for horizontal scrolling, you can specify the [**UDS\_HORZ**](up-down-control-styles.md) style.</span></span> <span data-ttu-id="747ae-125">Esse estilo faz com que as setas do controle para cima para baixo apontem para a esquerda e para a direita, em vez de para cima e para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-125">This style causes the up-down control's arrows to point left and right instead of up and down.</span></span>

<span data-ttu-id="747ae-126">Por padrão, a posição atual não será alterada se o usuário tentar incrementar ou diminuí-lo além do valor máximo ou mínimo.</span><span class="sxs-lookup"><span data-stu-id="747ae-126">By default, the current position does not change if the user attempts to increment it or decrement it beyond the maximum or minimum value.</span></span> <span data-ttu-id="747ae-127">Você pode alterar esse comportamento usando o estilo [**de \_ encapsulamento UDS**](up-down-control-styles.md) , portanto, a posição "encapsula" para o oposto extremo.</span><span class="sxs-lookup"><span data-stu-id="747ae-127">You can change this behavior by using the [**UDS\_WRAP**](up-down-control-styles.md) style, so the position "wraps" to the opposite extreme.</span></span> <span data-ttu-id="747ae-128">Por exemplo, incrementar além do limite superior delimita a posição de volta para o limite inferior.</span><span class="sxs-lookup"><span data-stu-id="747ae-128">For example, incrementing past the upper limit wraps the position back to the lower limit.</span></span>

## <a name="position-and-acceleration"></a><span data-ttu-id="747ae-129">Posição e aceleração</span><span class="sxs-lookup"><span data-stu-id="747ae-129">Position and Acceleration</span></span>

<span data-ttu-id="747ae-130">Depois que um controle de cima para baixo é criado, você pode alterar a posição atual do controle, a posição mínima e a posição máxima enviando mensagens.</span><span class="sxs-lookup"><span data-stu-id="747ae-130">After an up-down control is created, you can change the control's current position, minimum position, and maximum position by sending messages.</span></span> <span data-ttu-id="747ae-131">Você também pode alterar a base da Radix usada para exibir a posição atual na janela Buddy e a taxa na qual a posição atual é alterada quando a seta para cima ou para baixo é clicada.</span><span class="sxs-lookup"><span data-stu-id="747ae-131">You can also change the radix base used to display the current position in the buddy window and the rate at which the current position changes when the up or down arrow is clicked.</span></span>

<span data-ttu-id="747ae-132">Para recuperar a posição atual de um controle de cima para baixo, use a mensagem de [**\_ GETPOS do UDM**](udm-getpos.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-132">To retrieve the current position of an up-down control, use the [**UDM\_GETPOS**](udm-getpos.md) message.</span></span> <span data-ttu-id="747ae-133">Para um controle de cima para baixo com uma janela Buddy, a posição atual é o número na legenda da janela Buddy.</span><span class="sxs-lookup"><span data-stu-id="747ae-133">For an up-down control with a buddy window, the current position is the number in the buddy window's caption.</span></span> <span data-ttu-id="747ae-134">Como a legenda pode ter sido alterada (por exemplo, o usuário pode ter editado o texto de um controle de edição), o controle de cima para baixo recupera a legenda atual e atualiza sua posição atual de acordo.</span><span class="sxs-lookup"><span data-stu-id="747ae-134">Because the caption may have changed (for example, the user may have edited the text of an edit control), the up-down control retrieves the current caption and updates its current position accordingly.</span></span>

<span data-ttu-id="747ae-135">A legenda da janela do amigo pode ser uma cadeia de caracteres decimal ou hexadecimal, dependendo da base da Radix (ou seja, base 10 ou 16) do controle acima-abaixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-135">The buddy window's caption may be either a decimal or hexadecimal string, depending on the radix base (that is, either base 10 or 16) of the up-down control.</span></span> <span data-ttu-id="747ae-136">Você pode definir a base do Radix usando a mensagem do [**UDM \_ SetBase**](udm-setbase.md) e recuperar a base do Radix usando a mensagem do [**UDM \_ GetBase**](udm-getbase.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-136">You can set the radix base by using the [**UDM\_SETBASE**](udm-setbase.md) message and retrieve the radix base by using the [**UDM\_GETBASE**](udm-getbase.md) message.</span></span>

<span data-ttu-id="747ae-137">A mensagem do [**UDM \_ SETPOS**](udm-setpos.md) define a posição atual de uma janela Buddy.</span><span class="sxs-lookup"><span data-stu-id="747ae-137">The [**UDM\_SETPOS**](udm-setpos.md) message sets the current position of a buddy window.</span></span> <span data-ttu-id="747ae-138">Observe que, diferentemente de uma barra de rolagem, um controle de cima para baixo altera automaticamente sua posição atual quando as setas para cima e para baixo são clicadas.</span><span class="sxs-lookup"><span data-stu-id="747ae-138">Note that unlike a scroll bar, an up-down control automatically changes its current position when the up and down arrows are clicked.</span></span> <span data-ttu-id="747ae-139">Um aplicativo, portanto, não precisa definir a posição atual ao processar a mensagem do [**WM \_ VSCROLL**](wm-vscroll.md) ou do [**WM \_ HSCROLL**](wm-hscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-139">An application, therefore, does not need to set the current position when processing the [**WM\_VSCROLL**](wm-vscroll.md) or [**WM\_HSCROLL**](wm-hscroll.md) message.</span></span>

<span data-ttu-id="747ae-140">Você pode alterar as posições mínima e máxima de um controle de cima para baixo usando a mensagem do [**UDM \_ SETRANGE**](udm-setrange.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-140">You can change the minimum and maximum positions of an up-down control by using the [**UDM\_SETRANGE**](udm-setrange.md) message.</span></span> <span data-ttu-id="747ae-141">A posição máxima pode ser menor que o mínimo e, nesse caso, clicar no botão de seta para cima diminui a posição atual.</span><span class="sxs-lookup"><span data-stu-id="747ae-141">The maximum position may be less than the minimum, and in that case clicking the up arrow button decreases the current position.</span></span> <span data-ttu-id="747ae-142">Para colocá-lo de outra maneira, isso significa mudar para a posição máxima.</span><span class="sxs-lookup"><span data-stu-id="747ae-142">To put it another way, up means moving toward the maximum position.</span></span> <span data-ttu-id="747ae-143">Para recuperar as posições mínima e máxima para um controle de cima para baixo, use a mensagem do [**UDM \_ GetRange**](udm-getrange.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-143">To retrieve the minimum and maximum positions for an up-down control, use the [**UDM\_GETRANGE**](udm-getrange.md) message.</span></span>

<span data-ttu-id="747ae-144">Você pode controlar a taxa na qual a posição é alterada quando o usuário mantém um botão de seta ao definir a aceleração do controle de cima para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-144">You can control the rate at which the position changes when the user holds down an arrow button by setting the up-down control's acceleration.</span></span> <span data-ttu-id="747ae-145">A aceleração é definida por uma matriz de estruturas [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) .</span><span class="sxs-lookup"><span data-stu-id="747ae-145">The acceleration is defined by an array of [**UDACCEL**](/windows/desktop/api/Commctrl/ns-commctrl-udaccel) structures.</span></span> <span data-ttu-id="747ae-146">Cada estrutura especifica um intervalo de tempo e o número de unidades pelas quais incrementar ou decrementar no final desse intervalo.</span><span class="sxs-lookup"><span data-stu-id="747ae-146">Each structure specifies a time interval and the number of units by which to increment or decrement at the end of that interval.</span></span> <span data-ttu-id="747ae-147">Para definir a aceleração, use a mensagem de [**\_ SETACCEL do UDM**](udm-setaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-147">To set the acceleration, use the [**UDM\_SETACCEL**](udm-setaccel.md) message.</span></span> <span data-ttu-id="747ae-148">Para recuperar informações de aceleração, use a mensagem de [**\_ GETACCEL do UDM**](udm-getaccel.md) .</span><span class="sxs-lookup"><span data-stu-id="747ae-148">To retrieve acceleration information, use the [**UDM\_GETACCEL**](udm-getaccel.md) message.</span></span>

## <a name="default-up-down-controls-message-processing"></a><span data-ttu-id="747ae-149">Up-Down padrão controla o processamento de mensagens</span><span class="sxs-lookup"><span data-stu-id="747ae-149">Default Up-Down Controls Message Processing</span></span>

<span data-ttu-id="747ae-150">Esta seção descreve as mensagens padrão do Windows processadas por um controle acima-abaixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-150">This section describes the standard Windows messages processed by an up-down control.</span></span>



| <span data-ttu-id="747ae-151">Mensagem</span><span class="sxs-lookup"><span data-stu-id="747ae-151">Message</span></span>                                        | <span data-ttu-id="747ae-152">Processamento realizado</span><span class="sxs-lookup"><span data-stu-id="747ae-152">Processing performed</span></span>                                                                                                                                                                                         |
|------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="747ae-153">**criação do WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-153">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)             | <span data-ttu-id="747ae-154">Aloca e Inicializa uma estrutura de dados privada e salva seu endereço como dados de janela.</span><span class="sxs-lookup"><span data-stu-id="747ae-154">Allocates and initializes a private data structure and saves its address as window data.</span></span>                                                                                                                     |
| [<span data-ttu-id="747ae-155">**destruição do WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-155">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)           | <span data-ttu-id="747ae-156">Libera os dados alocados durante o processamento de [**\_ criação do WM**](/windows/desktop/winmsg/wm-create) .</span><span class="sxs-lookup"><span data-stu-id="747ae-156">Frees data allocated during [**WM\_CREATE**](/windows/desktop/winmsg/wm-create) processing.</span></span>                                                                                                                                   |
| [<span data-ttu-id="747ae-157">**habilitar o WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-157">**WM\_ENABLE**</span></span>](/windows/desktop/winmsg/wm-enable)             | <span data-ttu-id="747ae-158">Invalida a janela.</span><span class="sxs-lookup"><span data-stu-id="747ae-158">Invalidates the window.</span></span>                                                                                                                                                                                      |
| [<span data-ttu-id="747ae-159">**o WM \_ KEYDOWN**</span><span class="sxs-lookup"><span data-stu-id="747ae-159">**WM\_KEYDOWN**</span></span>](/windows/desktop/inputdev/wm-keydown)         | <span data-ttu-id="747ae-160">Altera a posição atual no caso de uma tecla de seta para cima ou seta para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-160">Changes the current position in the case of an UP ARROW or DOWN ARROW key.</span></span>                                                                                                                                   |
| [<span data-ttu-id="747ae-161">**o WM \_ KEYUP**</span><span class="sxs-lookup"><span data-stu-id="747ae-161">**WM\_KEYUP**</span></span>](/windows/desktop/inputdev/wm-keyup)             | <span data-ttu-id="747ae-162">Conclui a alteração da posição.</span><span class="sxs-lookup"><span data-stu-id="747ae-162">Completes the position change.</span></span>                                                                                                                                                                               |
| [<span data-ttu-id="747ae-163">**LBUTTONDOWN do WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-163">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown) | <span data-ttu-id="747ae-164">Captura o mouse.</span><span class="sxs-lookup"><span data-stu-id="747ae-164">Captures the mouse.</span></span> <span data-ttu-id="747ae-165">Se a janela Buddy for uma caixa de listagem ou controle de edição, ela definirá o foco para a janela Buddy.</span><span class="sxs-lookup"><span data-stu-id="747ae-165">If the buddy window is an edit control or list box, it sets the focus to the buddy window.</span></span> <span data-ttu-id="747ae-166">Se o mouse estiver sobre o botão para cima ou para baixo, ele começará a alterar a posição e definirá um temporizador.</span><span class="sxs-lookup"><span data-stu-id="747ae-166">If the mouse is over the up or down button, it begins changing the position and sets a timer.</span></span> |
| [<span data-ttu-id="747ae-167">**LBUTTONUP do WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-167">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)     | <span data-ttu-id="747ae-168">Concluirá a alteração da posição e liberará a captura do mouse se o controle acima-abaixo tiver capturado o mouse.</span><span class="sxs-lookup"><span data-stu-id="747ae-168">Completes the position change and releases the mouse capture if the up-down control has captured the mouse.</span></span> <span data-ttu-id="747ae-169">Se a janela Buddy for um controle de edição, ela selecionará todo o texto no controle de edição.</span><span class="sxs-lookup"><span data-stu-id="747ae-169">If the buddy window is an edit control, it selects all the text in the edit control.</span></span>             |
| [<span data-ttu-id="747ae-170">**pintura do WM \_**</span><span class="sxs-lookup"><span data-stu-id="747ae-170">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                  | <span data-ttu-id="747ae-171">Pinta o controle para cima para baixo.</span><span class="sxs-lookup"><span data-stu-id="747ae-171">Paints the up-down control.</span></span> <span data-ttu-id="747ae-172">Se o parâmetro *wParam* for não nulo, o controle assumirá que o valor é um **HDC** e pinta usando esse contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="747ae-172">If the *wParam* parameter is non-NULL, the control assumes that the value is an **HDC** and paints using that device context.</span></span>                                                    |
| [<span data-ttu-id="747ae-173">**\_temporizador do WM**</span><span class="sxs-lookup"><span data-stu-id="747ae-173">**WM\_TIMER**</span></span>](/windows/desktop/winmsg/wm-timer)               | <span data-ttu-id="747ae-174">Altera a posição atual se o mouse estiver sendo mantido sobre um botão e um intervalo suficiente tiver decorrido.</span><span class="sxs-lookup"><span data-stu-id="747ae-174">Changes the current position if the mouse is being held down over a button and a sufficient interval has elapsed.</span></span>                                                                                            |



 

 

 