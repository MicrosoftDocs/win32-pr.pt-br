---
title: Usando controles de Tree-View
description: Esta seção contém detalhes de implementação e código de exemplo para trabalhar com controles de exibição de árvore.
ms.assetid: 37736770-5030-4f8a-a020-6897ed5f4e96
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d9ed8d1040a635964e772b8399a5c476e67f9aba
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "105755823"
---
# <a name="using-tree-view-controls"></a><span data-ttu-id="a931a-103">Usando controles de Tree-View</span><span class="sxs-lookup"><span data-stu-id="a931a-103">Using Tree-View Controls</span></span>

<span data-ttu-id="a931a-104">Esta seção contém detalhes de implementação e código de exemplo para trabalhar com controles de exibição de árvore.</span><span class="sxs-lookup"><span data-stu-id="a931a-104">This section contains implementation details and example code for working with tree-view controls.</span></span>

## <a name="in-this-section"></a><span data-ttu-id="a931a-105">Nesta seção</span><span class="sxs-lookup"><span data-stu-id="a931a-105">In this section</span></span>



| <span data-ttu-id="a931a-106">Tópico</span><span class="sxs-lookup"><span data-stu-id="a931a-106">Topic</span></span>                                                                                | <span data-ttu-id="a931a-107">Descrição</span><span class="sxs-lookup"><span data-stu-id="a931a-107">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------------------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="a931a-108">Como criar um controle de Tree-View</span><span class="sxs-lookup"><span data-stu-id="a931a-108">How to Create a Tree-View Control</span></span>](create-a-tree-view-control.md)<br/>       | <span data-ttu-id="a931a-109">Para criar um controle de exibição de árvore, use a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando o valor de [**\_ TreeView WC**](common-control-window-classes.md) para a classe Window.</span><span class="sxs-lookup"><span data-stu-id="a931a-109">To create a tree-view control, use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_TREEVIEW**](common-control-window-classes.md) value for the window class.</span></span> <span data-ttu-id="a931a-110">A classe de janela de exibição de árvore é registrada no espaço de endereço do aplicativo quando a DLL de controle comum é carregada.</span><span class="sxs-lookup"><span data-stu-id="a931a-110">The tree-view window class is registered in the application's address space when the common control DLL is loaded.</span></span> <span data-ttu-id="a931a-111">Para garantir que a DLL seja carregada, use a função [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) .</span><span class="sxs-lookup"><span data-stu-id="a931a-111">To ensure that the DLL is loaded, use the [**InitCommonControls**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrols) function.</span></span> <br/>                                                                    |
| [<span data-ttu-id="a931a-112">Como inicializar a lista de imagens</span><span class="sxs-lookup"><span data-stu-id="a931a-112">How to Initialize the Image List</span></span>](initialize-the-image-list.md)<br/>         | <span data-ttu-id="a931a-113">Cada item em um controle de exibição de árvore pode ter duas imagens associadas a ele.</span><span class="sxs-lookup"><span data-stu-id="a931a-113">Every item in a tree-view control can have two images associated with it.</span></span> <span data-ttu-id="a931a-114">Um item exibe uma imagem quando ela é selecionada e a outra quando não está.</span><span class="sxs-lookup"><span data-stu-id="a931a-114">An item displays one image when it is selected and the other when it is not.</span></span> <span data-ttu-id="a931a-115">Para incluir imagens com itens de exibição em árvore, primeiro use as funções de [lista de imagens](image-lists.md) para criar uma lista de imagens e adicionar imagens a ela.</span><span class="sxs-lookup"><span data-stu-id="a931a-115">To include images with tree-view items, first use the [Image Lists](image-lists.md) functions to create an image list and add images to it.</span></span> <span data-ttu-id="a931a-116">Em seguida, associe a lista de imagens ao controle de exibição em árvore usando a mensagem [**TVM \_ SetImageList**](tvm-setimagelist.md) .</span><span class="sxs-lookup"><span data-stu-id="a931a-116">Then associate the image list with the tree-view control by using the [**TVM\_SETIMAGELIST**](tvm-setimagelist.md) message.</span></span> <br/>                                                                     |
| [<span data-ttu-id="a931a-117">Como adicionar itens de Tree-View</span><span class="sxs-lookup"><span data-stu-id="a931a-117">How to Add Tree-View Items</span></span>](add-tree-view-items.md)<br/>                     | <span data-ttu-id="a931a-118">Você adiciona um item a um controle de exibição de árvore enviando a mensagem [**TVM \_ INSERTITEM**](tvm-insertitem.md) para o controle.</span><span class="sxs-lookup"><span data-stu-id="a931a-118">You add an item to a tree-view control by sending the [**TVM\_INSERTITEM**](tvm-insertitem.md) message to the control.</span></span> <span data-ttu-id="a931a-119">A mensagem inclui o endereço de uma estrutura [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) , especificando o item pai, o item após o qual o novo item é inserido e uma estrutura [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) que define os atributos do item.</span><span class="sxs-lookup"><span data-stu-id="a931a-119">The message includes the address of a [**TVINSERTSTRUCT**](/windows/win32/api/commctrl/ns-commctrl-tvinsertstructa) structure, specifying the parent item, the item after which the new item is inserted, and a [**TVITEM**](/windows/win32/api/commctrl/ns-commctrl-tvitema) structure that defines the attributes of the item.</span></span> <span data-ttu-id="a931a-120">Os atributos incluem o rótulo do item, suas imagens selecionadas e não selecionadas, e um valor definido pelo aplicativo de 32 bits.</span><span class="sxs-lookup"><span data-stu-id="a931a-120">The attributes include the item's label, its selected and nonselected images, and a 32-bit application-defined value.</span></span> <br/> |
| [<span data-ttu-id="a931a-121">Como arrastar um item de Tree-View</span><span class="sxs-lookup"><span data-stu-id="a931a-121">How to Drag a Tree-View Item</span></span>](drag-a-tree-view-item.md)<br/>                 | <span data-ttu-id="a931a-122">Este tópico demonstra o código para a manipulação de arrastar e soltar de itens de exibição em árvore.</span><span class="sxs-lookup"><span data-stu-id="a931a-122">This topic demonstrates code for handling dragging and dropping of tree-view items.</span></span> <span data-ttu-id="a931a-123">O código de exemplo consiste em três funções.</span><span class="sxs-lookup"><span data-stu-id="a931a-123">The sample code consists of three functions.</span></span> <span data-ttu-id="a931a-124">A primeira função inicia a operação de arrastar, a segunda função arrasta a imagem e a terceira função encerra a operação de arrastar.</span><span class="sxs-lookup"><span data-stu-id="a931a-124">The first function begins the drag operation, the second function drags the image, and the third function ends the drag operation.</span></span> <br/>                                                                                                                                                                                                                                  |
| [<span data-ttu-id="a931a-125">Como trabalhar com índices de imagem de estado</span><span class="sxs-lookup"><span data-stu-id="a931a-125">How to Work With State Image Indexes</span></span>](work-with-state-image-indexes.md)<br/> | <span data-ttu-id="a931a-126">Geralmente, há confusão sobre como definir e recuperar o índice de imagem de estado em um controle de exibição de árvore.</span><span class="sxs-lookup"><span data-stu-id="a931a-126">There is often confusion about how to set and retrieve the state image index in a tree-view control.</span></span> <span data-ttu-id="a931a-127">Os exemplos a seguir demonstram o método apropriado para configurar e recuperar o índice de imagem de estado.</span><span class="sxs-lookup"><span data-stu-id="a931a-127">The following examples demonstrate the proper method for setting and retrieving the state image index.</span></span> <span data-ttu-id="a931a-128">Os exemplos supõem que haja apenas dois índices de imagem de estado no controle de exibição de árvore, desmarcado e marcado.</span><span class="sxs-lookup"><span data-stu-id="a931a-128">The examples assume that there are only two state image indexes in the tree-view control, unchecked and checked.</span></span> <span data-ttu-id="a931a-129">Se seu aplicativo contiver mais de duas, será necessário modificar essas funções para lidar com esse caso.</span><span class="sxs-lookup"><span data-stu-id="a931a-129">If your application contains more than two, these functions will need to be modified to handle that case.</span></span> <br/>                                                               |
| [<span data-ttu-id="a931a-130">Como usar Tree-View Infotips</span><span class="sxs-lookup"><span data-stu-id="a931a-130">How to Use Tree-View Infotips</span></span>](use-tree-view-infotips.md)<br/>               | <span data-ttu-id="a931a-131">Quando você aplica o [**estilo \_ INFOTIP de TVs**](tree-view-control-window-styles.md) a um controle de exibição de árvore, ele gera notificações [TVN \_ GETINFOTIP](tvn-getinfotip.md) quando o cursor está sobre um item no modo de exibição de árvore.</span><span class="sxs-lookup"><span data-stu-id="a931a-131">When you apply the [**TVS\_INFOTIP**](tree-view-control-window-styles.md) style to a tree-view control, it generates [TVN\_GETINFOTIP](tvn-getinfotip.md) notifications when the cursor is over an item in the tree view.</span></span> <span data-ttu-id="a931a-132">Ao responder a essa notificação, você pode definir o texto que aparece na InfoTip.</span><span class="sxs-lookup"><span data-stu-id="a931a-132">By responding to this notification, you can set the text that appears in the infotip.</span></span> <br/>                                                                                                                                                                                    |



 

 

