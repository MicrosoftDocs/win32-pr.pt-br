---
title: Editar operações de texto de controle
description: O sistema processa automaticamente todas as operações de texto iniciadas pelo usuário e notifica o aplicativo quando as operações são concluídas.
ms.assetid: 9af3a1bc-4c87-4cc9-966d-50742be7c811
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9640616cf70b9a2933ef9d4c3fdb2accbfdcabf0
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "104008427"
---
# <a name="edit-control-text-operations"></a><span data-ttu-id="24a69-103">Editar operações de texto de controle</span><span class="sxs-lookup"><span data-stu-id="24a69-103">Edit Control Text Operations</span></span>

<span data-ttu-id="24a69-104">O sistema processa automaticamente todas as operações de texto iniciadas pelo usuário e notifica o aplicativo quando as operações são concluídas.</span><span class="sxs-lookup"><span data-stu-id="24a69-104">The system automatically processes all user-initiated text operations and notifies the application when the operations are completed.</span></span>

<span data-ttu-id="24a69-105">Os tópicos a seguir abordam as operações de texto iniciadas pelo usuário e a resposta do aplicativo:</span><span class="sxs-lookup"><span data-stu-id="24a69-105">The following topics discuss user-initiated text operations and the application's response:</span></span>

-   [<span data-ttu-id="24a69-106">Selecionando um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-106">Selecting an Edit Control</span></span>](#selecting-an-edit-control)
-   [<span data-ttu-id="24a69-107">Configurando e recuperando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-107">Setting and Retrieving Text</span></span>](#setting-and-retrieving-text)
-   [<span data-ttu-id="24a69-108">Selecionando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-108">Selecting Text</span></span>](#selecting-text)
-   [<span data-ttu-id="24a69-109">Substituindo texto</span><span class="sxs-lookup"><span data-stu-id="24a69-109">Replacing Text</span></span>](#replacing-text)
-   [<span data-ttu-id="24a69-110">Alterando a fonte usada por um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-110">Changing the Font Used by an Edit Control</span></span>](#changing-the-font-used-by-an-edit-control)
-   [<span data-ttu-id="24a69-111">Operações de recortar cópia colar e limpar</span><span class="sxs-lookup"><span data-stu-id="24a69-111">Cut Copy Paste and Clear Operations</span></span>](#cut-copy-paste-and-clear-operations)
-   [<span data-ttu-id="24a69-112">Modificando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-112">Modifying Text</span></span>](#modifying-text)
-   [<span data-ttu-id="24a69-113">Limitando texto digitado pelo usuário</span><span class="sxs-lookup"><span data-stu-id="24a69-113">Limiting User Entered Text</span></span>](#limiting-user-entered-text)
-   [<span data-ttu-id="24a69-114">Operações de caractere e linha</span><span class="sxs-lookup"><span data-stu-id="24a69-114">Character and Line Operations</span></span>](#character-and-line-operations)
-   [<span data-ttu-id="24a69-115">Rolando o texto em um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-115">Scrolling Text in an Edit Control</span></span>](#scrolling-text-in-an-edit-control)
-   [<span data-ttu-id="24a69-116">Configurando tabulações e margens</span><span class="sxs-lookup"><span data-stu-id="24a69-116">Setting Tab Stops and Margins</span></span>](#setting-tab-stops-and-margins)
-   [<span data-ttu-id="24a69-117">Ocultando a entrada do usuário</span><span class="sxs-lookup"><span data-stu-id="24a69-117">Concealing User Input</span></span>](#concealing-user-input)
-   [<span data-ttu-id="24a69-118">Usando números inteiros</span><span class="sxs-lookup"><span data-stu-id="24a69-118">Using Integers</span></span>](#using-integers)
-   [<span data-ttu-id="24a69-119">Desfazendo operações de texto</span><span class="sxs-lookup"><span data-stu-id="24a69-119">Undoing Text Operations</span></span>](#undoing-text-operations)
-   [<span data-ttu-id="24a69-120">Manipulação de linhas e quebras de linha</span><span class="sxs-lookup"><span data-stu-id="24a69-120">Handling Wordwrap and Line Breaks</span></span>](#handling-wordwrap-and-line-breaks)
-   [<span data-ttu-id="24a69-121">Recuperando pontos e caracteres</span><span class="sxs-lookup"><span data-stu-id="24a69-121">Retrieving Points and Characters</span></span>](#retrieving-points-and-characters)
-   [<span data-ttu-id="24a69-122">Preenchimento automático de cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="24a69-122">Autocompletion of Strings</span></span>](#autocompletion-of-strings)
-   [<span data-ttu-id="24a69-123">Script complexo em controles de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-123">Complex Script in Edit Controls</span></span>](#complex-script-in-edit-controls)

## <a name="selecting-an-edit-control"></a><span data-ttu-id="24a69-124">Selecionando um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-124">Selecting an Edit Control</span></span>

<span data-ttu-id="24a69-125">O usuário pode selecionar um controle de edição clicando nele com o mouse ou pressionando a tecla TAB para movê-lo.</span><span class="sxs-lookup"><span data-stu-id="24a69-125">The user can select an edit control by clicking it with the mouse or by pressing the TAB key to move to it.</span></span> <span data-ttu-id="24a69-126">O método de tabulação faz parte de uma interface de teclado predefinida que o sistema fornece.</span><span class="sxs-lookup"><span data-stu-id="24a69-126">The tabbing method is part of a predefined keyboard interface that the system provides.</span></span> <span data-ttu-id="24a69-127">Para obter uma descrição completa desta interface, consulte [caixas de diálogo](/windows/desktop/dlgbox/dialog-boxes).</span><span class="sxs-lookup"><span data-stu-id="24a69-127">For a complete description of this interface, see [Dialog Boxes](/windows/desktop/dlgbox/dialog-boxes).</span></span> <span data-ttu-id="24a69-128">Quando o usuário seleciona um controle de edição, o sistema dá ao controle o foco do teclado (consulte "foco e ativação do teclado" em [sobre a entrada do teclado](/windows/desktop/inputdev/about-keyboard-input)) e realça seu texto usando o vídeo inverso.</span><span class="sxs-lookup"><span data-stu-id="24a69-128">When the user selects an edit control, the system gives the control the keyboard focus (see "Keyboard Focus and Activation" in [About Keyboard Input](/windows/desktop/inputdev/about-keyboard-input)) and highlights its text by using reverse video.</span></span>

## <a name="setting-and-retrieving-text"></a><span data-ttu-id="24a69-129">Configurando e recuperando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-129">Setting and Retrieving Text</span></span>

<span data-ttu-id="24a69-130">Um aplicativo pode definir o texto de um controle de edição usando a função [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) , a função [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) ou enviando o controle de uma mensagem do [**WM \_ SetText**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="24a69-130">An application can set the text of an edit control by using the [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta) function, the [**SetDlgItemText**](/windows/desktop/DevNotes/-setdlgitemtext) function, or by sending the control a [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span>

<span data-ttu-id="24a69-131">Para recuperar todo o texto de um controle de edição, primeiro use a função [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) ou a mensagem [**\_ GETTEXTLENGTH do WM**](/windows/desktop/winmsg/wm-gettextlength) para determinar o tamanho do buffer necessário para conter o texto.</span><span class="sxs-lookup"><span data-stu-id="24a69-131">To retrieve all text from an edit control, first use the [**GetWindowTextLength**](/windows/desktop/api/winuser/nf-winuser-getwindowtextlengtha) function or the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to determine the size of buffer needed to contain the text.</span></span> <span data-ttu-id="24a69-132">Em seguida, recupere o texto usando a função [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) , a função [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) ou a mensagem de [**\_ gettext do WM**](/windows/desktop/winmsg/wm-gettext) .</span><span class="sxs-lookup"><span data-stu-id="24a69-132">Next, retrieve the text by using the [**GetWindowText**](/windows/desktop/DevNotes/-getwindowtext) function, the [**GetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-getdlgitemtexta) function, or the [**WM\_GETTEXT**](/windows/desktop/winmsg/wm-gettext) message.</span></span>

## <a name="selecting-text"></a><span data-ttu-id="24a69-133">Selecionando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-133">Selecting Text</span></span>

<span data-ttu-id="24a69-134">Depois de selecionar um controle de edição, o usuário pode selecionar o texto no controle usando o mouse ou o teclado.</span><span class="sxs-lookup"><span data-stu-id="24a69-134">After selecting an edit control, the user can select text in the control by using the mouse or the keyboard.</span></span> <span data-ttu-id="24a69-135">Um aplicativo pode recuperar as posições de caractere inicial e final da seleção atual em um controle de edição enviando o controle uma mensagem em [**\_ GETSEL**](em-getsel.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-135">An application can retrieve the starting and ending character positions of the current selection in an edit control by sending the control an [**EM\_GETSEL**](em-getsel.md) message.</span></span> <span data-ttu-id="24a69-136">O valor de retorno para a posição final é um maior que o último caractere na seleção (ou seja, a posição do primeiro caractere após o último caractere selecionado).</span><span class="sxs-lookup"><span data-stu-id="24a69-136">The return value for the ending position is one greater than the last character in the selection (that is, the position of the first character following the last selected character).</span></span>

<span data-ttu-id="24a69-137">Um aplicativo também pode selecionar texto em um controle de edição enviando ao controle uma mensagem em [**\_ SETSEL**](em-setsel.md) com os índices de caracteres inicial e final para a seleção.</span><span class="sxs-lookup"><span data-stu-id="24a69-137">An application can also select text in an edit control by sending the control an [**EM\_SETSEL**](em-setsel.md) message with the starting and ending character indexes for the selection.</span></span> <span data-ttu-id="24a69-138">Por exemplo, o aplicativo pode usar **em \_ SETSEL** com [**em \_ REPLACESEL**](em-replacesel.md) para excluir texto de um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-138">For example, the application can use **EM\_SETSEL** with [**EM\_REPLACESEL**](em-replacesel.md) to delete text from an edit control.</span></span>

<span data-ttu-id="24a69-139">Essas três mensagens se aplicam a controles de linha única e de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-139">These three messages apply to both single-line and multiline edit controls.</span></span>

## <a name="replacing-text"></a><span data-ttu-id="24a69-140">Substituindo texto</span><span class="sxs-lookup"><span data-stu-id="24a69-140">Replacing Text</span></span>

<span data-ttu-id="24a69-141">Um aplicativo pode substituir o texto selecionado em um controle de edição enviando ao controle uma mensagem em [**\_ REPLACESEL**](em-replacesel.md) com um ponteiro para o texto de substituição.</span><span class="sxs-lookup"><span data-stu-id="24a69-141">An application can replace selected text in an edit control by sending the control an [**EM\_REPLACESEL**](em-replacesel.md) message with a pointer to the replacement text.</span></span> <span data-ttu-id="24a69-142">Se não houver seleção atual, em **\_ REPLACESEL** inserirá o texto de substituição no ponto de inserção.</span><span class="sxs-lookup"><span data-stu-id="24a69-142">If there is no current selection, **EM\_REPLACESEL** inserts the replacement text at the insertion point.</span></span> <span data-ttu-id="24a69-143">O aplicativo poderá receber um código de notificação [en \_ ERRSPACE](en-errspace.md) se o texto de substituição exceder a memória disponível.</span><span class="sxs-lookup"><span data-stu-id="24a69-143">The application may receive an [EN\_ERRSPACE](en-errspace.md) notification code if the replacement text exceeds the available memory.</span></span> <span data-ttu-id="24a69-144">Essa mensagem se aplica a controles de linha única e de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-144">This message applies to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="24a69-145">Um aplicativo pode usar [**em \_ REPLACESEL**](em-replacesel.md) para substituir parte do texto de um controle de edição ou da função [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) para substituir tudo.</span><span class="sxs-lookup"><span data-stu-id="24a69-145">An application can use [**EM\_REPLACESEL**](em-replacesel.md) to replace part of an edit control's text or the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function to replace all of it.</span></span>

## <a name="changing-the-font-used-by-an-edit-control"></a><span data-ttu-id="24a69-146">Alterando a fonte usada por um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-146">Changing the Font Used by an Edit Control</span></span>

<span data-ttu-id="24a69-147">Um aplicativo pode alterar a fonte que um controle de edição usa enviando a mensagem de aplicativo do [**WM \_**](/windows/desktop/winmsg/wm-setfont) .</span><span class="sxs-lookup"><span data-stu-id="24a69-147">An application can change the font that an edit control uses by sending the [**WM\_SETFONT**](/windows/desktop/winmsg/wm-setfont) message.</span></span> <span data-ttu-id="24a69-148">A maioria dos aplicativos faz isso ao processar a mensagem [**\_ INITDIALOG do WM**](/windows/desktop/dlgbox/wm-initdialog) .</span><span class="sxs-lookup"><span data-stu-id="24a69-148">Most applications do this while processing the [**WM\_INITDIALOG**](/windows/desktop/dlgbox/wm-initdialog) message.</span></span> <span data-ttu-id="24a69-149">Alterar a fonte não altera o tamanho do controle de edição; os aplicativos que enviam a mensagem de **\_ fonte** de aplicativo do WM podem precisar recuperar as métricas de fonte para o texto e recalcular o tamanho do controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-149">Changing the font does not change the size of the edit control; applications that send the **WM\_SETFONT** message may have to retrieve the font metrics for the text and recalculate the size of the edit control.</span></span> <span data-ttu-id="24a69-150">Para obter mais informações sobre fontes e métricas de fontes, consulte [fontes e texto](/windows/desktop/gdi/fonts-and-text).</span><span class="sxs-lookup"><span data-stu-id="24a69-150">For more information about fonts and font metrics, see [Fonts and Text](/windows/desktop/gdi/fonts-and-text).</span></span>

## <a name="cut-copy-paste-and-clear-operations"></a><span data-ttu-id="24a69-151">Operações de recortar cópia colar e limpar</span><span class="sxs-lookup"><span data-stu-id="24a69-151">Cut Copy Paste and Clear Operations</span></span>

<span data-ttu-id="24a69-152">Há quatro mensagens para mover o texto entre um controle de edição e a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="24a69-152">There are four messages for moving text between an edit control and the clipboard.</span></span> <span data-ttu-id="24a69-153">A mensagem de [**\_ cópia do WM**](/windows/desktop/dataxchg/wm-copy) copia a seleção atual (se houver) de um controle de edição para a área de transferência sem excluí-la do controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-153">The [**WM\_COPY**](/windows/desktop/dataxchg/wm-copy) message copies the current selection (if any) from an edit control to the clipboard without deleting it from the edit control.</span></span> <span data-ttu-id="24a69-154">A mensagem de [**\_ recorte do WM**](/windows/desktop/dataxchg/wm-cut) exclui a seleção atual (se houver) no controle de edição e copia o texto excluído para a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="24a69-154">The [**WM\_CUT**](/windows/desktop/dataxchg/wm-cut) message deletes the current selection (if any) in the edit control and copies the deleted text to the clipboard.</span></span> <span data-ttu-id="24a69-155">A mensagem de [**\_ limpeza do WM**](/windows/desktop/dataxchg/wm-clear) exclui a seleção atual (se houver) de um controle de edição, mas não a copia para a área de transferência (a menos que o usuário tenha pressionado a tecla Shift).</span><span class="sxs-lookup"><span data-stu-id="24a69-155">The [**WM\_CLEAR**](/windows/desktop/dataxchg/wm-clear) message deletes the current selection (if any) from an edit control, but does not copy it to the clipboard (unless the user pressed the SHIFT key).</span></span> <span data-ttu-id="24a69-156">A mensagem de [**\_ colagem do WM**](/windows/desktop/dataxchg/wm-paste) copia o texto da área de transferência em um controle de edição no ponto de inserção.</span><span class="sxs-lookup"><span data-stu-id="24a69-156">The [**WM\_PASTE**](/windows/desktop/dataxchg/wm-paste) message copies text from the clipboard into an edit control at the insertion point.</span></span> <span data-ttu-id="24a69-157">Essas quatro mensagens se aplicam a controles de linha única e de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-157">These four messages apply to both single-line and multiline edit controls.</span></span>

<span data-ttu-id="24a69-158">Microsoft Windows NT 4,0 e posterior: um controle de edição inclui um menu de contexto interno que torna mais fácil para o usuário mover o texto entre o controle de edição e a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="24a69-158">Microsoft Windows NT 4.0 and later: An edit control includes a built-in context menu that makes it easy for the user to move text between the edit control and the clipboard.</span></span> <span data-ttu-id="24a69-159">O menu de contexto é exibido quando o usuário clica com o botão direito do mouse no controle.</span><span class="sxs-lookup"><span data-stu-id="24a69-159">The context menu appears when the user right-clicks the control.</span></span> <span data-ttu-id="24a69-160">Os comandos no menu de contexto incluem **desfazer**, **recortar**, **copiar**, **colar**, **excluir** e **selecionar tudo**.</span><span class="sxs-lookup"><span data-stu-id="24a69-160">The commands in the context menu include **Undo**, **Cut**, **Copy**, **Paste**, **Delete**, and **Select All**.</span></span>

## <a name="modifying-text"></a><span data-ttu-id="24a69-161">Modificando texto</span><span class="sxs-lookup"><span data-stu-id="24a69-161">Modifying Text</span></span>

<span data-ttu-id="24a69-162">O usuário pode selecionar, excluir ou mover o texto em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-162">The user can select, delete, or move text in an edit control.</span></span> <span data-ttu-id="24a69-163">O sistema mantém um sinalizador interno para cada controle de edição que indica se o conteúdo do controle foi modificado.</span><span class="sxs-lookup"><span data-stu-id="24a69-163">The system maintains an internal flag for each edit control indicating whether the content of the control has been modified.</span></span> <span data-ttu-id="24a69-164">O sistema limpa esse sinalizador quando cria o controle e define o sinalizador sempre que o texto no controle é modificado.</span><span class="sxs-lookup"><span data-stu-id="24a69-164">The system clears this flag when it creates the control and sets the flag whenever the text in the control is modified.</span></span> <span data-ttu-id="24a69-165">Um aplicativo pode recuperar o sinalizador de modificação enviando o controle uma mensagem em [**\_ GetModify**](em-getmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-165">An application can retrieve the modification flag by sending the control an [**EM\_GETMODIFY**](em-getmodify.md) message.</span></span> <span data-ttu-id="24a69-166">O aplicativo pode, então, definir ou limpar o sinalizador de modificação enviando o controle uma mensagem em [**\_ SetModify**](em-setmodify.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-166">The application can then set or clear the modification flag by sending the control an [**EM\_SETMODIFY**](em-setmodify.md) message.</span></span> <span data-ttu-id="24a69-167">Essas mensagens se aplicam a controles de linha única e de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-167">These messages apply to both single-line and multiline edit controls.</span></span>

## <a name="limiting-user-entered-text"></a><span data-ttu-id="24a69-168">Limitando texto digitado pelo usuário</span><span class="sxs-lookup"><span data-stu-id="24a69-168">Limiting User Entered Text</span></span>

<span data-ttu-id="24a69-169">O limite padrão para a quantidade de texto que um usuário pode inserir em um controle de edição é 32 KB.</span><span class="sxs-lookup"><span data-stu-id="24a69-169">The default limit to the amount of text a user can enter in an edit control is 32 KB.</span></span> <span data-ttu-id="24a69-170">Um aplicativo pode alterar o limite padrão enviando o controle uma mensagem [**em \_ SETLIMITTEXT**](em-setlimittext.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-170">An application can change the default limit by sending the control an [**EM\_SETLIMITTEXT**](em-setlimittext.md) message.</span></span> <span data-ttu-id="24a69-171">Essa mensagem define um limite rígido para o número de bytes que o usuário pode inserir em um controle de edição, mas que não afeta o texto que já está no controle quando a mensagem foi enviada nem texto copiado para o controle pela função [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) ou pela mensagem [**\_ SetText do WM**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="24a69-171">This message sets a hard limit to the number of bytes the user can enter into an edit control, but affects neither text that is already in the control when the message was sent nor text copied to the control by the [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function or the [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="24a69-172">Por exemplo, suponha que o aplicativo use a função **SetDlgItemText** para inserir 500 bytes em um controle de edição e o usuário também insira 500 bytes (total de 1.000 bytes).</span><span class="sxs-lookup"><span data-stu-id="24a69-172">For example, suppose that the application uses the **SetDlgItemText** function to place 500 bytes in an edit control, and the user also enters 500 bytes (1,000 bytes total).</span></span> <span data-ttu-id="24a69-173">Se o aplicativo enviar uma mensagem em em **\_ SETLIMITTEXT** limitando o texto digitado pelo usuário a 300 bytes, os 1.000 bytes já no controle de edição permanecerão lá e o usuário não poderá adicionar mais nenhum texto.</span><span class="sxs-lookup"><span data-stu-id="24a69-173">If the application then sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 300 bytes, the 1,000 bytes already in the edit control remain there, and the user cannot add any more text.</span></span> <span data-ttu-id="24a69-174">Por outro lado, se o aplicativo enviar uma mensagem **em \_ SETLIMITTEXT** limitando o texto digitado pelo usuário a 1.300 bytes, os 1.000 bytes permanecerão, mas o usuário poderá adicionar 300 mais bytes.</span><span class="sxs-lookup"><span data-stu-id="24a69-174">On the other hand, if the application sends an **EM\_SETLIMITTEXT** message limiting user-entered text to 1,300 bytes, the 1,000 bytes remain, but the user can add 300 more bytes.</span></span>

<span data-ttu-id="24a69-175">Quando o usuário atinge o limite de caracteres de um controle de edição, o sistema envia ao aplicativo uma mensagem de [**\_ comando do WM**](/windows/desktop/menurc/wm-command) que contém um código de notificação [en \_ MAXTEXT](en-maxtext.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-175">When the user reaches the character limit of an edit control, the system sends the application a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) message containing an [EN\_MAXTEXT](en-maxtext.md) notification code.</span></span> <span data-ttu-id="24a69-176">Este código de notificação não significa que a memória foi esgotada, mas que o limite de texto inserido pelo usuário foi atingido; o usuário não pode inserir mais texto.</span><span class="sxs-lookup"><span data-stu-id="24a69-176">This notification code does not mean that memory has been exhausted, but that the limit for user-entered text has been reached; the user cannot enter any more text.</span></span> <span data-ttu-id="24a69-177">Para alterar esse limite, um aplicativo deve enviar ao controle uma nova mensagem em [**\_ SETLIMITTEXT**](em-setlimittext.md) com um limite superior.</span><span class="sxs-lookup"><span data-stu-id="24a69-177">To change this limit, an application must send the control a new [**EM\_SETLIMITTEXT**](em-setlimittext.md) message with a higher limit.</span></span>

<span data-ttu-id="24a69-178">Como exemplo do uso de em [**\_ SETLIMITTEXT**](em-setlimittext.md) e [en \_ MAXTEXT](en-maxtext.md), suponha que o aplicativo deve limitar o usuário a não mais do que quatro caracteres em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-178">As an example of the use of [**EM\_SETLIMITTEXT**](em-setlimittext.md) and [EN\_MAXTEXT](en-maxtext.md), suppose that the application must limit the user to no more than four characters in an edit control.</span></span> <span data-ttu-id="24a69-179">O aplicativo usaria em **\_ SETLIMITTEXT** para especificar um limite de quatro caracteres.</span><span class="sxs-lookup"><span data-stu-id="24a69-179">The application would use **EM\_SETLIMITTEXT** to specify a four-character limit.</span></span> <span data-ttu-id="24a69-180">Se o usuário tentou inserir um quinto caractere, o sistema enviaria um código de \_ notificação en MAXTEXT para o aplicativo.</span><span class="sxs-lookup"><span data-stu-id="24a69-180">If the user tried to enter a fifth character, the system would send an EN\_MAXTEXT notification code to the application.</span></span>

## <a name="character-and-line-operations"></a><span data-ttu-id="24a69-181">Operações de caractere e linha</span><span class="sxs-lookup"><span data-stu-id="24a69-181">Character and Line Operations</span></span>

<span data-ttu-id="24a69-182">Há várias mensagens que retornam informações sobre os caracteres e as linhas em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-182">There are several messages that return information about the characters and lines in an edit control.</span></span> <span data-ttu-id="24a69-183">A maioria das mensagens retorna um índice, geralmente um número de base zero, para se referir a um caractere ou linha.</span><span class="sxs-lookup"><span data-stu-id="24a69-183">Most of the messages return an index, usually a zero-based number, to refer to a character or line.</span></span> <span data-ttu-id="24a69-184">Por exemplo, em um controle de edição de linha única que contém n caracteres, o índice de linha é zero e os caracteres são indexados de zero a n-1.</span><span class="sxs-lookup"><span data-stu-id="24a69-184">For example, in a single-line edit control that contains n characters, the line index is zero and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="24a69-185">Em um controle de edição de várias linhas que contém linhas m e n caracteres, as linhas são indexadas de zero para m-1 e os caracteres são indexados de zero a n-1.</span><span class="sxs-lookup"><span data-stu-id="24a69-185">In a multiline edit control that contains m lines and n characters, the lines are indexed from zero to m-1, and the characters are indexed from zero to n-1.</span></span> <span data-ttu-id="24a69-186">Observe que a indexação de caracteres ignora as quebras de linha.</span><span class="sxs-lookup"><span data-stu-id="24a69-186">Note that character indexing ignores line breaks.</span></span>

<span data-ttu-id="24a69-187">Um aplicativo pode determinar o número de caracteres em um controle de edição enviando a mensagem do [**WM \_ GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) para o controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-187">An application can determine the number of characters in an edit control by sending the [**WM\_GETTEXTLENGTH**](/windows/desktop/winmsg/wm-gettextlength) message to the edit control.</span></span> <span data-ttu-id="24a69-188">Essa mensagem retorna o comprimento, em caracteres (sem incluir o caractere nulo de terminação), do texto em um controle de linha única ou de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-188">This message returns the length, in characters (not including the terminating null character), of the text in a single-line or multiline edit control.</span></span> <span data-ttu-id="24a69-189">A mensagem em [**\_ LINELENGTH**](em-linelength.md) retorna o comprimento, em caracteres, de uma linha especificada pelo índice de caracteres de um caractere na linha.</span><span class="sxs-lookup"><span data-stu-id="24a69-189">The [**EM\_LINELENGTH**](em-linelength.md) message returns the length, in characters, of a line specified by the character index of a character in the line.</span></span> <span data-ttu-id="24a69-190">O comprimento retornado não inclui nenhum caractere selecionado.</span><span class="sxs-lookup"><span data-stu-id="24a69-190">The returned length does not include any selected characters.</span></span> <span data-ttu-id="24a69-191">Um aplicativo pode usar essas mensagens em um controle de linha única ou de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-191">An application can use these messages in a single-line or multiline edit control.</span></span>

<span data-ttu-id="24a69-192">A mensagem em [**\_ GETFIRSTVISIBLELINE**](em-getfirstvisibleline.md) retorna o índice de base zero da linha visível superior em um controle de edição de várias linhas ou o índice de base zero do primeiro caractere visível em um controle de edição de linha única.</span><span class="sxs-lookup"><span data-stu-id="24a69-192">The [**EM\_GETFIRSTVISIBLELINE**](em-getfirstvisibleline.md) message returns the zero-based index of the uppermost visible line in a multiline edit control, or the zero-based index of the first visible character in a single-line edit control.</span></span> <span data-ttu-id="24a69-193">Um aplicativo pode copiar uma linha de um controle de edição para um buffer enviando a mensagem em [**\_ getline**](em-getline.md) para o controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-193">An application can copy a line from an edit control to a buffer by sending the [**EM\_GETLINE**](em-getline.md) message to the edit control.</span></span> <span data-ttu-id="24a69-194">A linha é especificada por seu índice de linha e a primeira palavra do buffer de recebimento contém o número máximo de bytes a serem copiados para o buffer.</span><span class="sxs-lookup"><span data-stu-id="24a69-194">The line is specified by its line index and the first word of the receiving buffer contains the maximum number of bytes to be copied to the buffer.</span></span> <span data-ttu-id="24a69-195">O valor de retorno é o número de bytes copiados.</span><span class="sxs-lookup"><span data-stu-id="24a69-195">The return value is the number of bytes copied.</span></span> <span data-ttu-id="24a69-196">Essa mensagem também pode ser usada em um controle de linha única ou de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-196">This message can also be used in a single-line or multiline edit control.</span></span>

<span data-ttu-id="24a69-197">Há mensagens exclusivas disponíveis para retornar as informações sobre uma linha em um controle de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-197">There are unique messages available to return the information about a line in a multiline edit control.</span></span> <span data-ttu-id="24a69-198">A mensagem em [**\_ GETLINECOUNT**](em-getlinecount.md) retorna o número de linhas em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-198">The [**EM\_GETLINECOUNT**](em-getlinecount.md) message returns the number of lines in an edit control.</span></span> <span data-ttu-id="24a69-199">A mensagem em [**\_ LINEFROMCHAR**](em-linefromchar.md) retorna o índice da linha que contém um índice de caracteres especificado.</span><span class="sxs-lookup"><span data-stu-id="24a69-199">The [**EM\_LINEFROMCHAR**](em-linefromchar.md) message returns the index of the line containing a specified character index.</span></span> <span data-ttu-id="24a69-200">A mensagem em [**\_ LINEINDEX**](em-lineindex.md) retorna o índice do primeiro caractere em uma linha especificada.</span><span class="sxs-lookup"><span data-stu-id="24a69-200">The [**EM\_LINEINDEX**](em-lineindex.md) message returns the index of the first character in a specified line.</span></span>

## <a name="scrolling-text-in-an-edit-control"></a><span data-ttu-id="24a69-201">Rolando o texto em um controle de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-201">Scrolling Text in an Edit Control</span></span>

<span data-ttu-id="24a69-202">Para implementar a rolagem em um controle de edição, você pode usar os estilos de rolagem automática abordados em [Editar tipos de controle e estilos](about-edit-controls.md), ou você pode adicionar explicitamente barras de rolagem ao controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-202">To implement scrolling in an edit control, you can use the automatic scrolling styles discussed in [Edit Control Types and Styles](about-edit-controls.md), or you can explicitly add scroll bars to the edit control.</span></span> <span data-ttu-id="24a69-203">Para adicionar uma barra de rolagem horizontal, use o estilo WS \_ HSCROLL; para adicionar uma barra de rolagem vertical, use o estilo [**WS \_ VSCROLL**](/windows/desktop/winmsg/window-styles).</span><span class="sxs-lookup"><span data-stu-id="24a69-203">To add a horizontal scroll bar, use the style WS\_HSCROLL; to add a vertical scroll bar, use the style [**WS\_VSCROLL**](/windows/desktop/winmsg/window-styles).</span></span> <span data-ttu-id="24a69-204">Um controle de edição com barras de rolagem processa suas próprias mensagens da barra de rolagem.</span><span class="sxs-lookup"><span data-stu-id="24a69-204">An edit control with scroll bars processes its own scroll bar messages.</span></span> <span data-ttu-id="24a69-205">Para obter informações detalhadas sobre como adicionar barras de rolagem a controles de edição, consulte [barras de rolagem](scroll-bars.md).</span><span class="sxs-lookup"><span data-stu-id="24a69-205">For detailed information about adding scroll bars to edit controls, see [Scroll Bars](scroll-bars.md).</span></span>

<span data-ttu-id="24a69-206">O sistema fornece três mensagens que um aplicativo pode enviar para um controle de edição com barras de rolagem.</span><span class="sxs-lookup"><span data-stu-id="24a69-206">The system provides three messages that an application can send to an edit control with scroll bars.</span></span> <span data-ttu-id="24a69-207">A mensagem em [**\_ LINESCROLL**](em-linescroll.md) pode rolar um controle de edição de várias linhas vertical e horizontalmente.</span><span class="sxs-lookup"><span data-stu-id="24a69-207">The [**EM\_LINESCROLL**](em-linescroll.md) message can scroll a multiline edit control both vertically and horizontally.</span></span> <span data-ttu-id="24a69-208">O parâmetro *lParam* especifica o número de linhas a serem roladas verticalmente a partir da linha atual e o parâmetro *wParam* especifica o número de caracteres a rolar horizontalmente, começando do caractere atual.</span><span class="sxs-lookup"><span data-stu-id="24a69-208">The *lParam* parameter specifies the number of lines to scroll vertically starting from the current line and the *wParam* parameter specifies the number of characters to scroll horizontally, starting from the current character.</span></span> <span data-ttu-id="24a69-209">O controle de edição não reconhece mensagens de rolagem horizontais se tiver o estilo [**es \_ Center**](edit-control-styles.md) ou [**es \_ Right**](edit-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-209">The edit control does not acknowledge horizontal scrolling messages if it has the [**ES\_CENTER**](edit-control-styles.md) or [**ES\_RIGHT**](edit-control-styles.md) style.</span></span> <span data-ttu-id="24a69-210">A mensagem em **\_ LINESCROLL** aplica-se somente a controles de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-210">The **EM\_LINESCROLL** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="24a69-211">A mensagem de [**\_ rolagem**](em-scroll.md) em em rola um controle de edição de várias linhas verticalmente.</span><span class="sxs-lookup"><span data-stu-id="24a69-211">The [**EM\_SCROLL**](em-scroll.md) message scrolls a multiline edit control vertically.</span></span> <span data-ttu-id="24a69-212">O parâmetro *wParam* especifica a ação de rolagem.</span><span class="sxs-lookup"><span data-stu-id="24a69-212">The *wParam* parameter specifies the scrolling action.</span></span> <span data-ttu-id="24a69-213">A mensagem de **\_ rolagem** em em aplica-se somente a controles de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-213">The **EM\_SCROLL** message applies to multiline edit controls only.</span></span> <span data-ttu-id="24a69-214">**Em \_ SCROLL** tem o mesmo efeito que a [**mensagem \_ VSCROLL do WM**](wm-vscroll.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-214">**EM\_SCROLL** has the same effect as the [**WM\_VSCROLL**](wm-vscroll.md) message.</span></span>

<span data-ttu-id="24a69-215">A mensagem em [**\_ SCROLLCARET**](em-scrollcaret.md) rola o cursor para a exibição em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-215">The [**EM\_SCROLLCARET**](em-scrollcaret.md) message scrolls the caret into view in an edit control.</span></span>

## <a name="setting-tab-stops-and-margins"></a><span data-ttu-id="24a69-216">Configurando tabulações e margens</span><span class="sxs-lookup"><span data-stu-id="24a69-216">Setting Tab Stops and Margins</span></span>

<span data-ttu-id="24a69-217">Um aplicativo pode definir paradas de tabulação em um controle de edição de várias linhas usando a mensagem em [**\_ SetTabStops**](em-settabstops.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-217">An application can set tab stops in a multiline edit control by using the [**EM\_SETTABSTOPS**](em-settabstops.md) message.</span></span> <span data-ttu-id="24a69-218">(O padrão para uma parada de tabulação é de oito caracteres.) Quando um aplicativo adiciona texto ao controle de edição, os caracteres de tabulação no texto geram automaticamente espaço até a próxima parada de tabulação.</span><span class="sxs-lookup"><span data-stu-id="24a69-218">(The default for a tab stop is eight characters.) When an application adds text to the edit control, tab characters in the text automatically generate space up to the next tab stop.</span></span> <span data-ttu-id="24a69-219">A mensagem em **\_ SetTabStops** não faz com que o sistema Redesenhe o texto automaticamente.</span><span class="sxs-lookup"><span data-stu-id="24a69-219">The **EM\_SETTABSTOPS** message does not automatically cause the system to redraw the text.</span></span> <span data-ttu-id="24a69-220">Para fazer isso, um aplicativo pode chamar a função [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) .</span><span class="sxs-lookup"><span data-stu-id="24a69-220">To do that, an application can call the [**InvalidateRect**](/windows/desktop/api/winuser/nf-winuser-invalidaterect) function.</span></span> <span data-ttu-id="24a69-221">A mensagem em **\_ SetTabStops** aplica-se somente a controles de edição de várias linhas.</span><span class="sxs-lookup"><span data-stu-id="24a69-221">The **EM\_SETTABSTOPS** message applies to multiline edit controls only.</span></span>

<span data-ttu-id="24a69-222">Um aplicativo pode definir a largura das margens esquerda e direita para um controle de edição usando a mensagem em [**\_ SetMargins**](em-setmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-222">An application can set the width of the left and right margins for an edit control by using the [**EM\_SETMARGINS**](em-setmargins.md) message.</span></span> <span data-ttu-id="24a69-223">Depois de enviar essa mensagem, o sistema redesenha o controle de edição para refletir as novas configurações de margem.</span><span class="sxs-lookup"><span data-stu-id="24a69-223">After sending this message, the system redraws the edit control to reflect the new margin settings.</span></span> <span data-ttu-id="24a69-224">Um aplicativo pode recuperar a largura da margem esquerda ou direita enviando a mensagem em [**\_ GetMargins**](em-getmargins.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-224">An application can retrieve the width of the left or right margin by sending the [**EM\_GETMARGINS**](em-getmargins.md) message.</span></span> <span data-ttu-id="24a69-225">Por padrão, as margens de controle de edição são definidas de forma muito grande para acomodar o maior número de caracteres horizontais (larguras negativas negativos) para a fonte atual que está sendo usada no controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-225">By default, the edit control margins are set just wide enough to accommodate the largest character horizontal overhang (negative ABC widths) for the current font being used in the edit control.</span></span>

## <a name="concealing-user-input"></a><span data-ttu-id="24a69-226">Ocultando a entrada do usuário</span><span class="sxs-lookup"><span data-stu-id="24a69-226">Concealing User Input</span></span>

<span data-ttu-id="24a69-227">Um aplicativo pode usar um caractere de senha em um controle de edição para ocultar a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="24a69-227">An application can use a password character in an edit control to conceal user input.</span></span> <span data-ttu-id="24a69-228">Quando um caractere de senha é definido, ele é exibido no lugar de cada caractere que o usuário digita.</span><span class="sxs-lookup"><span data-stu-id="24a69-228">When a password character is set, it is displayed in place of each character the user types.</span></span> <span data-ttu-id="24a69-229">Quando um caractere de senha é removido, o controle exibe os caracteres que o usuário digita.</span><span class="sxs-lookup"><span data-stu-id="24a69-229">When a password character is removed, the control displays the characters the user types.</span></span> <span data-ttu-id="24a69-230">Se o aplicativo criar um controle de edição de linha única usando a [**\_ senha**](edit-control-styles.md)do estilo es, o caractere de senha padrão será um asterisco ( \* ).</span><span class="sxs-lookup"><span data-stu-id="24a69-230">If the application creates a single-line edit control using the style [**ES\_PASSWORD**](edit-control-styles.md), the default password character is an asterisk (\*).</span></span> <span data-ttu-id="24a69-231">Um aplicativo pode usar a mensagem em [**\_ SetPasswordChar**](em-setpasswordchar.md) para remover ou definir um caractere de senha diferente e a mensagem em [**\_ getpasswordchar**](em-getpasswordchar.md) para recuperar o caractere de senha atual.</span><span class="sxs-lookup"><span data-stu-id="24a69-231">An application can use the [**EM\_SETPASSWORDCHAR**](em-setpasswordchar.md) message to remove or define a different password character and the [**EM\_GETPASSWORDCHAR**](em-getpasswordchar.md) message to retrieve the current password character.</span></span> <span data-ttu-id="24a69-232">Essas mensagens se aplicam somente a controles de edição de linha única.</span><span class="sxs-lookup"><span data-stu-id="24a69-232">These messages apply to single-line edit controls only.</span></span>

## <a name="using-integers"></a><span data-ttu-id="24a69-233">Usando números inteiros</span><span class="sxs-lookup"><span data-stu-id="24a69-233">Using Integers</span></span>

<span data-ttu-id="24a69-234">Há duas funções de conversão de inteiros para controles de edição projetados para conter somente números.</span><span class="sxs-lookup"><span data-stu-id="24a69-234">There are two integer-conversion functions for edit controls designed to contain numbers only.</span></span> <span data-ttu-id="24a69-235">A função [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) cria a representação de cadeia de caracteres de um inteiro especificado (assinado ou não assinado) e envia a cadeia de caracteres para um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-235">The [**SetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-setdlgitemint) function creates the string representation of a specified integer (signed or unsigned) and sends the string to an edit control.</span></span> <span data-ttu-id="24a69-236">**SetDlgItemInt** não retorna nenhum valor.</span><span class="sxs-lookup"><span data-stu-id="24a69-236">**SetDlgItemInt** returns no value.</span></span> <span data-ttu-id="24a69-237">A função [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) cria um inteiro (assinado ou não assinado) de sua representação de cadeia de caracteres em um controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-237">The [**GetDlgItemInt**](/windows/desktop/api/winuser/nf-winuser-getdlgitemint) function creates an integer (signed or unsigned) from its string representation in an edit control.</span></span> <span data-ttu-id="24a69-238">**GetDlgItemInt** retorna o número inteiro (ou um valor de erro).</span><span class="sxs-lookup"><span data-stu-id="24a69-238">**GetDlgItemInt** returns the integer (or an error value).</span></span>

## <a name="undoing-text-operations"></a><span data-ttu-id="24a69-239">Desfazendo operações de texto</span><span class="sxs-lookup"><span data-stu-id="24a69-239">Undoing Text Operations</span></span>

<span data-ttu-id="24a69-240">Cada controle de edição mantém um sinalizador de desfazer que indica se um aplicativo pode reverter ou desfazer a operação mais recente no controle de edição (desfazendo uma exclusão de texto, por exemplo).</span><span class="sxs-lookup"><span data-stu-id="24a69-240">Every edit control maintains an undo flag that indicates whether an application can reverse or undo the most recent operation on the edit control (undoing a text deletion, for example).</span></span> <span data-ttu-id="24a69-241">O controle de edição define o sinalizador de desfazer para indicar que a operação pode ser desfeita e a redefine para indicar que a operação não pode ser desfeita.</span><span class="sxs-lookup"><span data-stu-id="24a69-241">The edit control sets the undo flag to indicate that the operation can be undone and resets it to indicate that the operation cannot be undone.</span></span> <span data-ttu-id="24a69-242">Um aplicativo pode determinar a configuração do sinalizador de desfazer enviando o controle uma mensagem [**em \_ CanUndo**](em-canundo.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-242">An application can determine the setting of the undo flag by sending the control an [**EM\_CANUNDO**](em-canundo.md) message.</span></span>

<span data-ttu-id="24a69-243">Um aplicativo pode desfazer a operação mais recente enviando o controle uma mensagem [**em \_ desfazer**](em-undo.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-243">An application can undo the most recent operation by sending the control an [**EM\_UNDO**](em-undo.md) message.</span></span> <span data-ttu-id="24a69-244">Uma operação pode ser desfeita fornecida. nenhuma outra operação de controle de edição ocorre primeiro.</span><span class="sxs-lookup"><span data-stu-id="24a69-244">An operation can be undone provided no other edit control operation occurs first.</span></span> <span data-ttu-id="24a69-245">Por exemplo, o usuário pode excluir texto, substituir o texto (desfazer a exclusão) e, em seguida, excluir o texto novamente (desfazer a substituição).</span><span class="sxs-lookup"><span data-stu-id="24a69-245">For example, the user can delete text, replace the text (undo the deletion), and then delete the text again (undo the replacement).</span></span> <span data-ttu-id="24a69-246">A mensagem em **\_ desfazer** aplica-se a controles de linha única e de edição de várias linhas e sempre funciona para controles de edição de linha única.</span><span class="sxs-lookup"><span data-stu-id="24a69-246">The **EM\_UNDO** message applies to both single-line and multiline edit controls and always works for single-line edit controls.</span></span>

<span data-ttu-id="24a69-247">Um aplicativo pode redefinir um sinalizador de desfazer do controle de edição enviando o controle uma mensagem em [**\_ EMPTYUNDOBUFFER**](em-emptyundobuffer.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-247">An application can reset an edit control's undo flag by sending the control an [**EM\_EMPTYUNDOBUFFER**](em-emptyundobuffer.md) message.</span></span> <span data-ttu-id="24a69-248">O sistema redefine automaticamente o sinalizador de desfazer sempre que um controle de edição recebe uma mensagem em [**\_ SetHandle**](em-sethandle.md) ou [**WM \_ SetText**](/windows/desktop/winmsg/wm-settext) .</span><span class="sxs-lookup"><span data-stu-id="24a69-248">The system automatically resets the undo flag whenever an edit control receives an [**EM\_SETHANDLE**](em-sethandle.md) or [**WM\_SETTEXT**](/windows/desktop/winmsg/wm-settext) message.</span></span> <span data-ttu-id="24a69-249">A função [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) envia uma mensagem de **\_ SetText do WM** .</span><span class="sxs-lookup"><span data-stu-id="24a69-249">The [**SetDlgItemText**](/windows/desktop/api/winuser/nf-winuser-setdlgitemtexta) function sends a **WM\_SETTEXT** message.</span></span>

## <a name="handling-wordwrap-and-line-breaks"></a><span data-ttu-id="24a69-250">Manipulação de linhas e quebras de linha</span><span class="sxs-lookup"><span data-stu-id="24a69-250">Handling Wordwrap and Line Breaks</span></span>

<span data-ttu-id="24a69-251">Um aplicativo pode usar funções de WordWrap com controles de edição de várias linhas para localizar a palavra ou o fragmento de palavra que deve ser encapsulado na próxima linha.</span><span class="sxs-lookup"><span data-stu-id="24a69-251">An application can use Wordwrap functions with multiline edit controls to locate the word or word fragment that should be wrapped to the next line.</span></span> <span data-ttu-id="24a69-252">Usando a função WordWrap padrão fornecida pelo sistema, as linhas sempre terminam nos espaços entre as palavras.</span><span class="sxs-lookup"><span data-stu-id="24a69-252">Using the default Wordwrap function provided by the system, lines always end at the spaces between words.</span></span> <span data-ttu-id="24a69-253">Um aplicativo pode especificar sua própria função WordWrap fornecendo uma função [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) WordWrap e enviando o controle de edição uma mensagem [**em \_ SETWORDBREAKPROC**](em-setwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-253">An application can specify its own Wordwrap function by supplying an [*EditWordBreakProc*](/windows/win32/api/winuser/nc-winuser-editwordbreakproca) Wordwrap function and sending the edit control an [**EM\_SETWORDBREAKPROC**](em-setwordbreakproc.md) message.</span></span> <span data-ttu-id="24a69-254">Um aplicativo pode recuperar o endereço da função WordWrap atual enviando o controle uma mensagem em [**\_ GETWORDBREAKPROC**](em-getwordbreakproc.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-254">An application can retrieve the address of the current Wordwrap function by sending the control an [**EM\_GETWORDBREAKPROC**](em-getwordbreakproc.md) message.</span></span>

<span data-ttu-id="24a69-255">Um aplicativo pode direcionar um controle de edição de várias linhas para adicionar ou remover um caractere de quebra de linha flexível (dois retornos de carro e um feed de linha) automaticamente no final das linhas de texto encapsulado.</span><span class="sxs-lookup"><span data-stu-id="24a69-255">An application may direct a multiline edit control to add or remove a soft line break character (two carriage returns and a line feed) automatically at the end of wrapped-text lines.</span></span> <span data-ttu-id="24a69-256">Um aplicativo pode ativar ou desativar esse recurso enviando o controle de edição uma mensagem [**em \_ FMTLINES**](em-fmtlines.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-256">An application can turn this feature on or off by sending the edit control an [**EM\_FMTLINES**](em-fmtlines.md) message.</span></span> <span data-ttu-id="24a69-257">Essa mensagem se aplica somente a controles de edição de várias linhas e não afeta uma linha que termina com uma quebra de linha rígida (um retorno de carro e um feed de linha inserido pelo usuário).</span><span class="sxs-lookup"><span data-stu-id="24a69-257">This message applies only to multiline edit controls and does not affect a line that ends with a hard line break (one carriage return and a line feed entered by the user).</span></span> <span data-ttu-id="24a69-258">Também em controles de edição de várias linhas, um aplicativo pode especificar o estilo [**es \_ WANTRETURN**](edit-control-styles.md) para solicitar que o sistema Insira um retorno de carro quando o usuário pressiona a tecla Enter no controle de edição.</span><span class="sxs-lookup"><span data-stu-id="24a69-258">Also in multiline edit controls, an application can specify the [**ES\_WANTRETURN**](edit-control-styles.md) style to request that the system insert a carriage return when the user presses the ENTER key in the edit control.</span></span>

## <a name="retrieving-points-and-characters"></a><span data-ttu-id="24a69-259">Recuperando pontos e caracteres</span><span class="sxs-lookup"><span data-stu-id="24a69-259">Retrieving Points and Characters</span></span>

<span data-ttu-id="24a69-260">Para determinar o caractere mais próximo de um ponto especificado na área do cliente de um controle de edição, envie a mensagem em [**\_ CHARFROMPOS**](em-charfrompos.md) para o controle.</span><span class="sxs-lookup"><span data-stu-id="24a69-260">To determine the character closest to a specified point in the client area of an edit control, send the [**EM\_CHARFROMPOS**](em-charfrompos.md) message to the control.</span></span> <span data-ttu-id="24a69-261">A mensagem retorna o índice de caracteres e o índice de linha do caractere mais próximo ao ponto.</span><span class="sxs-lookup"><span data-stu-id="24a69-261">The message returns the character index and line index of the character nearest the point.</span></span> <span data-ttu-id="24a69-262">Da mesma forma, você pode recuperar as coordenadas da área do cliente de um caractere especificado enviando a mensagem em [**\_ POSFROMCHAR**](em-posfromchar.md) .</span><span class="sxs-lookup"><span data-stu-id="24a69-262">Similarly, you can retrieve the client area coordinates of a specified character by sending the [**EM\_POSFROMCHAR**](em-posfromchar.md) message.</span></span> <span data-ttu-id="24a69-263">A mensagem retorna as coordenadas x e y do canto superior esquerdo do caractere especificado.</span><span class="sxs-lookup"><span data-stu-id="24a69-263">The message returns the x and y coordinates of the upper-left corner of the specified character.</span></span>

## <a name="autocompletion-of-strings"></a><span data-ttu-id="24a69-264">Preenchimento automático de cadeias de caracteres</span><span class="sxs-lookup"><span data-stu-id="24a69-264">Autocompletion of Strings</span></span>

<span data-ttu-id="24a69-265">O preenchimento automático expande as cadeias de caracteres que foram inseridas parcialmente em um controle de edição em cadeias de caracteres completas.</span><span class="sxs-lookup"><span data-stu-id="24a69-265">Autocompletion expands strings that have been partially entered in an edit control into complete strings.</span></span> <span data-ttu-id="24a69-266">Por exemplo, quando um usuário começa a inserir uma URL no controle de edição de endereço inserido na barra de ferramentas do Windows Internet Explorer, o preenchimento automático expande a cadeia de caracteres em uma ou mais URLs completas que são consistentes com a cadeia de caracteres parcial existente.</span><span class="sxs-lookup"><span data-stu-id="24a69-266">For example, when a user starts to enter a URL in the Address edit control that is embedded in the Windows Internet Explorer toolbar, autocompletion expands the string into one or more complete URLs that are consistent with the existing partial string.</span></span> <span data-ttu-id="24a69-267">Uma cadeia de caracteres de URL parcial, como "MIC", pode ser expandida para " https://www.microsoft.com " ou " https://www.microsoft.com/windows ".</span><span class="sxs-lookup"><span data-stu-id="24a69-267">A partial URL string such as "mic" might be expanded to "https://www.microsoft.com" or "https://www.microsoft.com/windows".</span></span> <span data-ttu-id="24a69-268">O preenchimento automático normalmente é usado com controles de edição ou com controles que têm um controle de edição inserido.</span><span class="sxs-lookup"><span data-stu-id="24a69-268">Autocompletion is typically used with edit controls or with controls that have an embedded edit control.</span></span>

<span data-ttu-id="24a69-269">Para obter mais informações, consulte a documentação da interface [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) e [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) .</span><span class="sxs-lookup"><span data-stu-id="24a69-269">For more information, see the [**IAutoComplete**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete) and [**IAutoComplete2**](/windows/desktop/api/shldisp/nn-shldisp-iautocomplete2) interface documentation.</span></span>

## <a name="complex-script-in-edit-controls"></a><span data-ttu-id="24a69-270">Script complexo em controles de edição</span><span class="sxs-lookup"><span data-stu-id="24a69-270">Complex Script in Edit Controls</span></span>

<span data-ttu-id="24a69-271">Um *script complexo* é um idioma cuja forma impressa não é disposta de forma simples.</span><span class="sxs-lookup"><span data-stu-id="24a69-271">A *complex script* is a language whose printed form is not laid out in a simple way.</span></span> <span data-ttu-id="24a69-272">Por exemplo, um script complexo pode permitir renderização bidirecional, formatação contextual de glifos ou caracteres de combinação.</span><span class="sxs-lookup"><span data-stu-id="24a69-272">For example, a complex script may allow bidirectional rendering, contextual shaping of glyphs, or combining characters.</span></span> <span data-ttu-id="24a69-273">Os controles de edição padrão foram estendidos para dar suporte a texto multilíngüe e scripts complexos.</span><span class="sxs-lookup"><span data-stu-id="24a69-273">The standard edit controls have been extended to support multilingual text and complex scripts.</span></span> <span data-ttu-id="24a69-274">Isso inclui não apenas a entrada e a exibição, mas também o movimento correto do cursor sobre clusters de caracteres (em tailandês e o script devanágari, por exemplo).</span><span class="sxs-lookup"><span data-stu-id="24a69-274">This includes not only input and display, but also correct cursor movement over character clusters (in Thai and Devanagari script, for example).</span></span>

<span data-ttu-id="24a69-275">Um aplicativo bem escrito recebe esse suporte automaticamente, sem modificação.</span><span class="sxs-lookup"><span data-stu-id="24a69-275">A well-written application receives this support automatically, without modification.</span></span> <span data-ttu-id="24a69-276">Novamente, você deve considerar a adição de suporte à ordem de leitura da direita para a esquerda e ao alinhamento à direita.</span><span class="sxs-lookup"><span data-stu-id="24a69-276">Again, you should consider adding support for right-to-left reading order and right alignment.</span></span> <span data-ttu-id="24a69-277">Nesse caso, alterne os sinalizadores de estilo estendido da janela de controle de edição para controlar esses atributos, conforme mostrado no exemplo a seguir.</span><span class="sxs-lookup"><span data-stu-id="24a69-277">In this case, toggle the extended style flags of the edit control window to control these attributes, as shown in the following example.</span></span>


```
// ID_EDITCONTROL is the control ID in the resource file.
HANDLE hWndEdit = GetDlgItem(hDlg, ID_EDITCONTROL);
LONG lAlign = GetWindowLong(hWndEdit, GWL_EXSTYLE) ;

// To toggle alignment
lAlign ^= WS_EX_RIGHT ;

// To toggle reading order
lAlign ^= WS_EX_RTLREADING ;
```



<span data-ttu-id="24a69-278">Depois de definir o valor de **LALIGN** , habilite a nova exibição definindo o estilo estendido da janela de controle de edição da seguinte maneira.</span><span class="sxs-lookup"><span data-stu-id="24a69-278">After setting the **lAlign** value, enable the new display by setting the extended style of the edit control window as follows.</span></span>


```
// This assumes your edit control is in a dialog box. If not, 
// get the edit control handle from another source.

SetWindowLong(hWndEdit, GWL_EXSTYLE, lAlign);
InvalidateRect(hWndEdit, NULL, FALSE);
```



<span data-ttu-id="24a69-279">O Uniscribe é outro conjunto de funções que fornecem um controle fino para o processamento de scripts complexos.</span><span class="sxs-lookup"><span data-stu-id="24a69-279">Uniscribe is another set of functions that provide fine control for processing complex scripts.</span></span> <span data-ttu-id="24a69-280">Para obter mais informações, consulte [Uniscribe](/windows/desktop/Intl/uniscribe).</span><span class="sxs-lookup"><span data-stu-id="24a69-280">For more information, see [Uniscribe](/windows/desktop/Intl/uniscribe).</span></span>

 

 