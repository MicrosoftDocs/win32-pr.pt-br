---
title: Sobre os controles da barra de ferramentas
description: Uma barra de ferramentas é um controle que contém um ou mais botões.
ms.assetid: b5a00a81-8d23-4844-8b0a-776e7cceced8
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 263d95b13ddee54561cf1b0bb9d003d5d34cdf8d
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103917702"
---
# <a name="about-toolbar-controls"></a><span data-ttu-id="a3e27-103">Sobre os controles da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-103">About Toolbar Controls</span></span>

<span data-ttu-id="a3e27-104">Uma barra de ferramentas é um controle que contém um ou mais botões.</span><span class="sxs-lookup"><span data-stu-id="a3e27-104">A toolbar is a control that contains one or more buttons.</span></span> <span data-ttu-id="a3e27-105">Cada botão, quando clicado por um usuário, envia uma mensagem de comando para a janela pai.</span><span class="sxs-lookup"><span data-stu-id="a3e27-105">Each button, when clicked by a user, sends a command message to the parent window.</span></span> <span data-ttu-id="a3e27-106">Normalmente, os botões em uma barra de ferramentas correspondem aos itens no menu do aplicativo, fornecendo uma maneira adicional e mais direta para que o usuário acesse os comandos de um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-106">Typically, the buttons in a toolbar correspond to items in the application's menu, providing an additional and more direct way for the user to access an application's commands.</span></span>

<span data-ttu-id="a3e27-107">A captura de tela a seguir mostra uma janela que contém uma barra de ferramentas simples para operações de arquivo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-107">The following screen shot shows a window that contains a simple toolbar for file operations.</span></span> <span data-ttu-id="a3e27-108">O aplicativo habilitou estilos visuais.</span><span class="sxs-lookup"><span data-stu-id="a3e27-108">The application has enabled visual styles.</span></span> <span data-ttu-id="a3e27-109">O botão salvar é "quente" porque o cursor estava passando por ele quando a captura de tela foi tomada.</span><span class="sxs-lookup"><span data-stu-id="a3e27-109">The Save button is "hot" because the cursor was hovering over it when the screen shot was taken.</span></span> <span data-ttu-id="a3e27-110">A aparência real do controle varia dependendo do sistema operacional e do tema selecionado pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="a3e27-110">The actual appearance of the control varies depending on the operating system and the user-selected theme.</span></span>

![captura de tela de uma janela com uma barra de ferramentas de três botões; um botão está quente](images/tb-withstyles.png)

<span data-ttu-id="a3e27-112">A captura de tela a seguir mostra o mesmo controle em um aplicativo que foi compilado sem estilos visuais habilitados.</span><span class="sxs-lookup"><span data-stu-id="a3e27-112">The following screen shot shows the same control in an application that was compiled without visual styles enabled.</span></span>

![captura de tela de uma janela sem estilos visuais: nenhum dos botões parece quente](images/tb-wostyles.png)

<span data-ttu-id="a3e27-114">Os tópicos a seguir discutem os recursos a serem considerados ao planejar uma barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-114">The following topics discuss features to consider when planning a toolbar.</span></span> <span data-ttu-id="a3e27-115">Para obter informações específicas sobre implementação e código de exemplo, consulte [usando controles da barra de ferramentas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-115">For specific information on implementation, and example code, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

-   [<span data-ttu-id="a3e27-116">Especificando o tamanho e a posição da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-116">Specifying Toolbar Size and Position</span></span>](#specifying-toolbar-size-and-position)
-   [<span data-ttu-id="a3e27-117">Barras de ferramentas transparentes</span><span class="sxs-lookup"><span data-stu-id="a3e27-117">Transparent Toolbars</span></span>](#transparent-toolbars)
-   [<span data-ttu-id="a3e27-118">Barras de ferramentas de estilo de lista</span><span class="sxs-lookup"><span data-stu-id="a3e27-118">List-style Toolbars</span></span>](#list-style-toolbars)
-   [<span data-ttu-id="a3e27-119">Definindo imagens de botão</span><span class="sxs-lookup"><span data-stu-id="a3e27-119">Defining Button Images</span></span>](#defining-button-images)
    -   [<span data-ttu-id="a3e27-120">Definindo imagens de botão usando bitmaps</span><span class="sxs-lookup"><span data-stu-id="a3e27-120">Defining Button Images by Using Bitmaps</span></span>](#defining-button-images-by-using-bitmaps)
    -   [<span data-ttu-id="a3e27-121">Definindo imagens de botão usando listas de imagens</span><span class="sxs-lookup"><span data-stu-id="a3e27-121">Defining Button Images by Using Image Lists</span></span>](#defining-button-images-by-using-image-lists)
-   [<span data-ttu-id="a3e27-122">Definindo texto para botões</span><span class="sxs-lookup"><span data-stu-id="a3e27-122">Defining Text for Buttons</span></span>](#defining-text-for-buttons)
-   [<span data-ttu-id="a3e27-123">Adicionando botões da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-123">Adding Toolbar Buttons</span></span>](#adding-toolbar-buttons)
    -   [<span data-ttu-id="a3e27-124">Estilos de botão da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-124">Toolbar Button Styles</span></span>](#toolbar-button-styles)
    -   [<span data-ttu-id="a3e27-125">Estados de botão da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-125">Toolbar Button States</span></span>](#toolbar-button-states)
    -   [<span data-ttu-id="a3e27-126">Identificador de comando</span><span class="sxs-lookup"><span data-stu-id="a3e27-126">Command Identifier</span></span>](#command-identifier)
    -   [<span data-ttu-id="a3e27-127">Tamanho e posição do botão</span><span class="sxs-lookup"><span data-stu-id="a3e27-127">Button Size and Position</span></span>](#button-size-and-position)
-   [<span data-ttu-id="a3e27-128">Habilitando a personalização</span><span class="sxs-lookup"><span data-stu-id="a3e27-128">Enabling Customization</span></span>](#enabling-customization)
-   [<span data-ttu-id="a3e27-129">Habilitando o controle de acesso</span><span class="sxs-lookup"><span data-stu-id="a3e27-129">Enabling Hot-tracking</span></span>](#enabling-hot-tracking)

## <a name="specifying-toolbar-size-and-position"></a><span data-ttu-id="a3e27-130">Especificando o tamanho e a posição da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-130">Specifying Toolbar Size and Position</span></span>

<span data-ttu-id="a3e27-131">Se você criar uma barra de ferramentas usando [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), a função permitirá que você especifique, em pixels, a altura e a largura da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-131">If you create a toolbar using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex), the function enables you to specify in pixels the height and width of the toolbar.</span></span>

> [!Note]  
> <span data-ttu-id="a3e27-132">O uso de [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) não é recomendado, pois não oferece suporte a novos recursos de barras de ferramentas, incluindo listas de imagens.</span><span class="sxs-lookup"><span data-stu-id="a3e27-132">Using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) is not recommended, as it does not support new features of toolbars, including image lists.</span></span> <span data-ttu-id="a3e27-133">Para obter mais informações sobre como criar barras de ferramentas, consulte [usando controles da barra de ferramentas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-133">For more information about creating toolbars, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

<span data-ttu-id="a3e27-134">A função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) não tem parâmetros para especificar o tamanho da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-134">The [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have parameters for specifying toolbar size.</span></span> <span data-ttu-id="a3e27-135">O procedimento da janela da barra de ferramentas define automaticamente o tamanho e a posição da janela da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-135">The toolbar window procedure automatically sets the size and position of the toolbar window.</span></span> <span data-ttu-id="a3e27-136">A altura é baseada na altura dos botões na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-136">The height is based on the height of the buttons in the toolbar.</span></span> <span data-ttu-id="a3e27-137">A largura é igual à largura da área do cliente da janela pai.</span><span class="sxs-lookup"><span data-stu-id="a3e27-137">The width is the same as the width of the parent window's client area.</span></span> <span data-ttu-id="a3e27-138">Para alterar as configurações de tamanho automático, envie uma mensagem de [**TB \_ SetButtons**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-138">To change the automatic size settings, send a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span> <span data-ttu-id="a3e27-139">Os estilos de controle comum da [**ccs \_ Top**](common-control-styles.md) e [**ccs \_**](common-control-styles.md) determinam se a barra de ferramentas está posicionada ao longo da parte superior ou inferior da área do cliente.</span><span class="sxs-lookup"><span data-stu-id="a3e27-139">The [**CCS\_TOP**](common-control-styles.md) and [**CCS\_BOTTOM**](common-control-styles.md) common control styles determine whether the toolbar is positioned along the top or bottom of the client area.</span></span> <span data-ttu-id="a3e27-140">Por padrão, uma barra de ferramentas tem o estilo da **\_ parte superior da CCS** .</span><span class="sxs-lookup"><span data-stu-id="a3e27-140">By default, a toolbar has the **CCS\_TOP** style.</span></span>

<span data-ttu-id="a3e27-141">Além disso, o procedimento da janela barra de ferramentas ajusta automaticamente o tamanho da barra de ferramentas sempre que recebe um [**\_ tamanho do WM**](/windows/desktop/winmsg/wm-size) ou uma mensagem de dimensionamento de [**TB \_**](tb-autosize.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-141">Also, the toolbar window procedure automatically adjusts the size of the toolbar whenever it receives a [**WM\_SIZE**](/windows/desktop/winmsg/wm-size) or [**TB\_AUTOSIZE**](tb-autosize.md) message.</span></span> <span data-ttu-id="a3e27-142">Um aplicativo deve enviar qualquer uma dessas mensagens sempre que o tamanho da janela pai for alterado ou depois de enviar uma mensagem que requer o ajuste do tamanho da barra de ferramentas — por exemplo, uma mensagem de [**TB \_ SetButtons**](tb-setbuttonsize.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-142">An application should send either of these messages whenever the size of the parent window changes or after sending a message that requires adjusting the size of the toolbar—for example, a [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message.</span></span>

<span data-ttu-id="a3e27-143">Os comportamentos de dimensionamento e posicionamento padrão da barra de ferramentas podem ser desativados definindo os estilos de controle comum de [**ccs \_ noResize**](common-control-styles.md) e [**ccs \_ NOPARENTALIGN**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-143">The toolbar default sizing and positioning behaviors can be turned off by setting the [**CCS\_NORESIZE**](common-control-styles.md) and [**CCS\_NOPARENTALIGN**](common-control-styles.md) common control styles.</span></span> <span data-ttu-id="a3e27-144">Os controles de barra de ferramentas hospedados por controles Rebar devem definir esses estilos porque o controle rebar dimensiona e posiciona a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-144">Toolbar controls that are hosted by rebar controls must set these styles because the rebar control sizes and positions the toolbar.</span></span>

## <a name="transparent-toolbars"></a><span data-ttu-id="a3e27-145">Barras de ferramentas transparentes</span><span class="sxs-lookup"><span data-stu-id="a3e27-145">Transparent Toolbars</span></span>

<span data-ttu-id="a3e27-146">Os controles da barra de ferramentas dão suporte a uma aparência transparente que permite que a área do cliente na barra de ferramentas seja mostrada.</span><span class="sxs-lookup"><span data-stu-id="a3e27-146">Toolbar controls support a transparent look that allows the client area under the toolbar to show through.</span></span> <span data-ttu-id="a3e27-147">Há dois tipos de barras de ferramentas transparentes, aquelas com botões simples e aquelas com botões tridimensionais.</span><span class="sxs-lookup"><span data-stu-id="a3e27-147">There are two kinds of transparent toolbars, ones with flat buttons and ones with three-dimensional buttons.</span></span> <span data-ttu-id="a3e27-148">Se você quiser que seu aplicativo corresponda à interface do Windows, use a barra de ferramentas de estilo transparente.</span><span class="sxs-lookup"><span data-stu-id="a3e27-148">If you want your application to match the Windows interface, use the flat transparent style toolbar.</span></span>

<span data-ttu-id="a3e27-149">A captura de tela a seguir mostra os dois tipos de barras de ferramentas transparentes, não usando estilos visuais.</span><span class="sxs-lookup"><span data-stu-id="a3e27-149">The following screen shot shows the two kinds of transparent toolbars, not using visual styles.</span></span>

![captura de tela de duas janelas com estilos diferentes de barras de ferramentas, mas ambas as barras de ferramentas são transparentes](images/toolbartrans.jpg)

<span data-ttu-id="a3e27-151">A captura de tela a seguir mostra uma barra de ferramentas transparente, como pode aparecer no Windows Vista, com os estilos visuais habilitados.</span><span class="sxs-lookup"><span data-stu-id="a3e27-151">The following screen shot shows a transparent toolbar as it might appear in Windows Vista, with visual styles enabled.</span></span> <span data-ttu-id="a3e27-152">A cor do plano de fundo da caixa de diálogo foi alterada para tornar a transparência mais óbvia.</span><span class="sxs-lookup"><span data-stu-id="a3e27-152">The background color of the dialog box has been changed to make the transparency more obvious.</span></span>

![captura de tela de uma janela no Windows Vista com uma barra de ferramentas transparente](images/tb-transparent.png)

<span data-ttu-id="a3e27-154">Para criar uma barra de ferramentas transparente, tudo o que você precisa fazer é adicionar [**TBSTYLE \_ Flat**](toolbar-control-and-button-styles.md) ou [**TBSTYLE \_ transparente**](toolbar-control-and-button-styles.md) ao parâmetro de estilo de janela de [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span><span class="sxs-lookup"><span data-stu-id="a3e27-154">To create a transparent toolbar, all you need to do is add [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) or [**TBSTYLE\_TRANSPARENT**](toolbar-control-and-button-styles.md) to the window style parameter of [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa).</span></span> <span data-ttu-id="a3e27-155">Se você não quiser que uma linha apareça para indicar a parte inferior da barra de ferramentas, não use o estilo de janela [**WS \_ Border**](/windows/desktop/winmsg/window-styles) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-155">If you do not want a line to appear to indicate the bottom of the toolbar, do not use the [**WS\_BORDER**](/windows/desktop/winmsg/window-styles) window style.</span></span>

> [!Note]  
> <span data-ttu-id="a3e27-156">Ao usar estilos visuais, as barras de ferramentas podem ser simples por padrão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-156">When using visual styles, toolbars may be flat by default.</span></span>

 

## <a name="list-style-toolbars"></a><span data-ttu-id="a3e27-157">Barras de ferramentas de estilo de lista</span><span class="sxs-lookup"><span data-stu-id="a3e27-157">List-style Toolbars</span></span>

<span data-ttu-id="a3e27-158">Os botões da barra de ferramentas permitem que você exiba texto e bitmaps.</span><span class="sxs-lookup"><span data-stu-id="a3e27-158">Toolbar buttons enable you to display both text and bitmaps.</span></span> <span data-ttu-id="a3e27-159">Os botões em uma barra de ferramentas criada com o estilo de [**\_ lista TBSTYLE**](toolbar-control-and-button-styles.md) colocam o texto à direita do bitmap em vez de sob ele.</span><span class="sxs-lookup"><span data-stu-id="a3e27-159">The buttons on a toolbar created with the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) style place text to the right of the bitmap instead of under it.</span></span>

<span data-ttu-id="a3e27-160">A captura de tela a seguir mostra uma barra de ferramentas com o estilo de lista.</span><span class="sxs-lookup"><span data-stu-id="a3e27-160">The following screen shot shows a toolbar with the list style.</span></span>

![captura de tela de uma barra de ferramentas com texto à direita de cada ícone](images/tb-liststyle.png)

<span data-ttu-id="a3e27-162">Você pode usar o estilo de barra de ferramentas da [**\_ lista TBSTYLE**](toolbar-control-and-button-styles.md) em combinação com o estilo [**\_ simples TBSTYLE**](toolbar-control-and-button-styles.md) para criar uma barra de ferramentas com botões simples.</span><span class="sxs-lookup"><span data-stu-id="a3e27-162">You can use the [**TBSTYLE\_LIST**](toolbar-control-and-button-styles.md) toolbar style in combination with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style to create a toolbar with flat buttons.</span></span>

## <a name="defining-button-images"></a><span data-ttu-id="a3e27-163">Definindo imagens de botão</span><span class="sxs-lookup"><span data-stu-id="a3e27-163">Defining Button Images</span></span>

<span data-ttu-id="a3e27-164">Há duas maneiras de especificar as imagens para botões, por bitmaps ou por listas de imagens.</span><span class="sxs-lookup"><span data-stu-id="a3e27-164">There are two ways to specify the images for buttons—by bitmaps or by image lists.</span></span> <span data-ttu-id="a3e27-165">Um aplicativo deve escolher qual método usar.</span><span class="sxs-lookup"><span data-stu-id="a3e27-165">An application must choose which method to use.</span></span> <span data-ttu-id="a3e27-166">Ele não pode usar ambos os métodos com o mesmo controle ToolBar.</span><span class="sxs-lookup"><span data-stu-id="a3e27-166">It cannot use both methods with the same toolbar control.</span></span> <span data-ttu-id="a3e27-167">Observe que a função [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) usa o método bitmap.</span><span class="sxs-lookup"><span data-stu-id="a3e27-167">Note that the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function uses the bitmap method.</span></span> <span data-ttu-id="a3e27-168">Os aplicativos que desejam usar o método de lista de imagens devem usar a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para criar o controle ToolBar.</span><span class="sxs-lookup"><span data-stu-id="a3e27-168">Applications that want to use the image list method must use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create the toolbar control.</span></span>

### <a name="defining-button-images-by-using-bitmaps"></a><span data-ttu-id="a3e27-169">Definindo imagens de botão usando bitmaps</span><span class="sxs-lookup"><span data-stu-id="a3e27-169">Defining Button Images by Using Bitmaps</span></span>

<span data-ttu-id="a3e27-170">Cada botão em uma barra de ferramentas pode incluir uma imagem de bitmap.</span><span class="sxs-lookup"><span data-stu-id="a3e27-170">Each button in a toolbar can include a bitmapped image.</span></span> <span data-ttu-id="a3e27-171">Uma barra de ferramentas usa uma lista interna para armazenar as informações necessárias para desenhar as imagens.</span><span class="sxs-lookup"><span data-stu-id="a3e27-171">A toolbar uses an internal list to store the information that it needs to draw the images.</span></span> <span data-ttu-id="a3e27-172">Ao chamar a função [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) , você especifica um bitmap monocromático ou de cor que contém as imagens iniciais e a barra de ferramentas adiciona as informações à lista interna de imagens.</span><span class="sxs-lookup"><span data-stu-id="a3e27-172">When you call the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function, you specify a monochrome or color bitmap that contains the initial images, and the toolbar adds the information to the internal list of images.</span></span> <span data-ttu-id="a3e27-173">Você pode adicionar imagens adicionais posteriormente usando a mensagem de [**TB \_ AddBitmap**](tb-addbitmap.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-173">You can add additional images later by using the [**TB\_ADDBITMAP**](tb-addbitmap.md) message.</span></span>

<span data-ttu-id="a3e27-174">Cada imagem tem um índice de base zero.</span><span class="sxs-lookup"><span data-stu-id="a3e27-174">Each image has a zero-based index.</span></span> <span data-ttu-id="a3e27-175">A primeira imagem adicionada à lista interna tem um índice de 0, a segunda imagem tem um índice de 1 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="a3e27-175">The first image added to the internal list has an index of 0, the second image has an index of 1, and so on.</span></span> <span data-ttu-id="a3e27-176">[**TB \_ AddBitmap**](tb-addbitmap.md) adiciona imagens ao final da lista e retorna o índice da primeira nova imagem que ela adicionou.</span><span class="sxs-lookup"><span data-stu-id="a3e27-176">[**TB\_ADDBITMAP**](tb-addbitmap.md) adds images to the end of the list and returns the index of the first new image that it added.</span></span> <span data-ttu-id="a3e27-177">Para associar a imagem a um botão, você deve enviar uma mensagem de um e mesmo [**\_ botões**](tb-addbuttons.md) e especificar o índice da imagem depois de adicionar bitmaps à lista de imagens interna.</span><span class="sxs-lookup"><span data-stu-id="a3e27-177">To associate the image with a button, you must send a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message and specify the image's index after you add bitmaps to the internal image list.</span></span>

<span data-ttu-id="a3e27-178">O Windows pressupõe que todas as imagens de bitmap de uma barra de ferramentas têm o mesmo tamanho.</span><span class="sxs-lookup"><span data-stu-id="a3e27-178">Windows assumes that all of a toolbar's bitmapped images are the same size.</span></span> <span data-ttu-id="a3e27-179">Você especifica o tamanho ao criar a barra de ferramentas usando [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span><span class="sxs-lookup"><span data-stu-id="a3e27-179">You specify the size when you create the toolbar by using [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex).</span></span> <span data-ttu-id="a3e27-180">Se você usar a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para criar uma barra de ferramentas, o tamanho das imagens será definido como as dimensões padrão de 16 por 15 pixels.</span><span class="sxs-lookup"><span data-stu-id="a3e27-180">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, the size of the images is set to the default dimensions of 16 by 15 pixels.</span></span> <span data-ttu-id="a3e27-181">Você pode usar a mensagem [**TB \_ SETBITMAPSIZE**](tb-setbitmapsize.md) para alterar as dimensões das imagens de bitmap, mas deve fazê-lo antes de adicionar qualquer imagem à lista interna.</span><span class="sxs-lookup"><span data-stu-id="a3e27-181">You can use the [**TB\_SETBITMAPSIZE**](tb-setbitmapsize.md) message to change the dimensions of the bitmapped images, but you must do so before adding any images to the internal list.</span></span>

### <a name="defining-button-images-by-using-image-lists"></a><span data-ttu-id="a3e27-182">Definindo imagens de botão usando listas de imagens</span><span class="sxs-lookup"><span data-stu-id="a3e27-182">Defining Button Images by Using Image Lists</span></span>

<span data-ttu-id="a3e27-183">Você também pode armazenar imagens de botão em um conjunto de [listas de imagens](image-lists.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-183">You can also store button images in a set of [Image Lists](image-lists.md).</span></span> <span data-ttu-id="a3e27-184">Uma lista de imagens é uma coleção de imagens do mesmo tamanho, cada uma das quais pode ser referenciada por seu índice.</span><span class="sxs-lookup"><span data-stu-id="a3e27-184">An image list is a collection of images of the same size, each of which can be referred to by its index.</span></span> <span data-ttu-id="a3e27-185">As listas de imagens são usadas para gerenciar grandes conjuntos de ícones ou bitmaps.</span><span class="sxs-lookup"><span data-stu-id="a3e27-185">Image lists are used to manage large sets of icons or bitmaps.</span></span> <span data-ttu-id="a3e27-186">Você pode usar até três listas de imagens diferentes para exibir botões em vários Estados, conforme mostrado na tabela a seguir.</span><span class="sxs-lookup"><span data-stu-id="a3e27-186">You can use up to three different image lists to display buttons in various states, as shown in the following table.</span></span>



|          |                                                                                                                                                                                              |
|----------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="a3e27-187">Normal</span><span class="sxs-lookup"><span data-stu-id="a3e27-187">Normal</span></span>   | <span data-ttu-id="a3e27-188">Botões em seu estado padrão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-188">Buttons in their default state.</span></span>                                                                                                                                                              |
| <span data-ttu-id="a3e27-189">Frequente</span><span class="sxs-lookup"><span data-stu-id="a3e27-189">Hot</span></span>      | <span data-ttu-id="a3e27-190">Botões que estão sob o ponteiro ou pressionados.</span><span class="sxs-lookup"><span data-stu-id="a3e27-190">Buttons that are under the pointer or pressed.</span></span> <span data-ttu-id="a3e27-191">Itens ativos têm suporte apenas em controles de barra de ferramentas que têm o estilo [**\_ simples TBSTYLE**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-191">Hot items are supported only in toolbar controls that have the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style.</span></span> |
| <span data-ttu-id="a3e27-192">Desabilitado</span><span class="sxs-lookup"><span data-stu-id="a3e27-192">Disabled</span></span> | <span data-ttu-id="a3e27-193">Botões que estão desabilitados.</span><span class="sxs-lookup"><span data-stu-id="a3e27-193">Buttons that are disabled.</span></span>                                                                                                                                                                   |



 

<span data-ttu-id="a3e27-194">Depois que a barra de ferramentas é destruída, os aplicativos devem liberar qualquer lista de imagens que tenham criado.</span><span class="sxs-lookup"><span data-stu-id="a3e27-194">After the toolbar is destroyed, applications must free any image lists they have created.</span></span>

## <a name="defining-text-for-buttons"></a><span data-ttu-id="a3e27-195">Definindo texto para botões</span><span class="sxs-lookup"><span data-stu-id="a3e27-195">Defining Text for Buttons</span></span>

<span data-ttu-id="a3e27-196">Cada botão pode exibir uma cadeia de caracteres, além de, ou em vez de, uma imagem.</span><span class="sxs-lookup"><span data-stu-id="a3e27-196">Each button can display a string in addition to, or instead of, an image.</span></span> <span data-ttu-id="a3e27-197">Uma barra de ferramentas mantém uma lista interna que contém todas as cadeias de caracteres disponíveis para botões da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-197">A toolbar maintains an internal list that contains all the strings available to toolbar buttons.</span></span> <span data-ttu-id="a3e27-198">Você adiciona cadeias de caracteres à lista interna usando a mensagem [**TB \_ AddString**](tb-addstring.md) , especificando o endereço do buffer que contém as cadeias de caracteres a serem adicionadas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-198">You add strings to the internal list by using the [**TB\_ADDSTRING**](tb-addstring.md) message, specifying the address of the buffer containing the strings to add.</span></span> <span data-ttu-id="a3e27-199">Cada cadeia de caracteres deve ser terminada em nulo e a última cadeia de caracteres deve ser terminada com dois caracteres nulos.</span><span class="sxs-lookup"><span data-stu-id="a3e27-199">Each string must be null-terminated, and the last string must be terminated with two null characters.</span></span>

<span data-ttu-id="a3e27-200">Cada cadeia de caracteres tem um índice de base zero.</span><span class="sxs-lookup"><span data-stu-id="a3e27-200">Each string has a zero-based index.</span></span> <span data-ttu-id="a3e27-201">A primeira cadeia de caracteres adicionada à lista interna de cadeias de caracteres tem um índice de 0, a segunda cadeia de caracteres tem um índice de 1 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="a3e27-201">The first string added to the internal list of strings has an index of 0, the second string has an index of 1, and so on.</span></span> <span data-ttu-id="a3e27-202">[**TB \_ AddString**](tb-addstring.md) adiciona cadeias de caracteres ao final da lista e retorna o índice da primeira nova cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="a3e27-202">[**TB\_ADDSTRING**](tb-addstring.md) adds strings to the end of the list and returns the index of the first new string.</span></span> <span data-ttu-id="a3e27-203">Você usa um índice da cadeia de caracteres para associar a cadeia de caracteres a um botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-203">You use a string's index to associate the string with a button.</span></span>

<span data-ttu-id="a3e27-204">O uso de [**TB \_ AddString**](tb-addstring.md) não é a única maneira de adicionar cadeias de caracteres a uma barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-204">Using [**TB\_ADDSTRING**](tb-addstring.md) is not the only way to add strings to a toolbar.</span></span> <span data-ttu-id="a3e27-205">Você pode exibir uma cadeia de caracteres em um botão passando um ponteiro de cadeia **de caracteres no membro** isseqüência da estrutura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) que é passada para [**TB \_ AddButtons**](tb-addbuttons.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-205">You can display a string in a button by passing a string pointer in the **iString** member of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure that is passed to [**TB\_ADDBUTTONS**](tb-addbuttons.md).</span></span> <span data-ttu-id="a3e27-206">Além disso, você pode usar [**TB \_ SETBUTTONINFO**](tb-setbuttoninfo.md) para atribuir texto a um botão da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-206">Additionally, you can use [**TB\_SETBUTTONINFO**](tb-setbuttoninfo.md) to assign text to a toolbar button.</span></span>

## <a name="adding-toolbar-buttons"></a><span data-ttu-id="a3e27-207">Adicionando botões da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-207">Adding Toolbar Buttons</span></span>

<span data-ttu-id="a3e27-208">Se você usar a função [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) para criar uma barra de ferramentas, poderá adicionar botões à barra de ferramentas preenchendo uma matriz de estruturas [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) e especificando o endereço da matriz na chamada de função.</span><span class="sxs-lookup"><span data-stu-id="a3e27-208">If you use the [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function to create a toolbar, you can add buttons to the toolbar by filling an array of [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structures and specifying the address of the array in the function call.</span></span> <span data-ttu-id="a3e27-209">No entanto, a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) não tem um parâmetro para passar uma estrutura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="a3e27-209">However, the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function does not have a parameter for passing a **TBBUTTON** structure.</span></span> <span data-ttu-id="a3e27-210">O **CreateWindowEx** cria uma barra de ferramentas vazia que você preenche enviando uma mensagem de de [**TB com \_ botões**](tb-addbuttons.md) , especificando o endereço de uma estrutura **TBBUTTON** .</span><span class="sxs-lookup"><span data-stu-id="a3e27-210">**CreateWindowEx** creates an empty toolbar that you fill by sending a [**TB\_ADDBUTTONS**](tb-addbuttons.md) message, specifying the address of a **TBBUTTON** structure.</span></span>

<span data-ttu-id="a3e27-211">Depois que uma barra de ferramentas é criada, você pode adicionar botões enviando uma mensagem de [**\_ INSERTBUTTON de TB**](tb-insertbutton.md) ou [**TB \_**](tb-addbuttons.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-211">After a toolbar is created, you can add buttons by sending a [**TB\_INSERTBUTTON**](tb-insertbutton.md) or [**TB\_ADDBUTTONS**](tb-addbuttons.md) message.</span></span> <span data-ttu-id="a3e27-212">Cada botão é descrito por uma estrutura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) , que define os atributos do botão, incluindo os índices de sua cadeia de caracteres e bitmap, bem como seu estilo, estado, identificador de comando e o valor de 32 bits definido pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-212">Each button is described by a [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure, which defines the attributes of the button, including the indexes of its string and bitmap as well as its style, state, command identifier, and application-defined 32-bit value.</span></span>

> [!Note]  
> <span data-ttu-id="a3e27-213">Se você usar a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) para criar uma barra de ferramentas, deverá enviar a mensagem [**TB \_ BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) antes de adicionar qualquer botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-213">If you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function to create a toolbar, you must send the [**TB\_BUTTONSTRUCTSIZE**](tb-buttonstructsize.md) message before adding any buttons.</span></span> <span data-ttu-id="a3e27-214">A mensagem passa o tamanho da estrutura [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) para a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-214">The message passes the size of the [**TBBUTTON**](/windows/desktop/api/Commctrl/ns-commctrl-tbbutton) structure to the toolbar.</span></span>

 

### <a name="toolbar-button-styles"></a><span data-ttu-id="a3e27-215">Estilos de botão da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-215">Toolbar Button Styles</span></span>

<span data-ttu-id="a3e27-216">O estilo de um botão determina como o botão é exibido e como ele responde à entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="a3e27-216">A button's style determines how the button appears and how it responds to user input.</span></span> <span data-ttu-id="a3e27-217">Por exemplo, o estilo do [**\_ botão BTNS**](toolbar-control-and-button-styles.md) cria um botão da barra de ferramentas que se comporta como um botão de ação padrão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-217">For instance, the [**BTNS\_BUTTON**](toolbar-control-and-button-styles.md) style creates a toolbar button that behaves like a standard push button.</span></span> <span data-ttu-id="a3e27-218">Um botão que tem o estilo de [**\_ verificação BTNS**](toolbar-control-and-button-styles.md) é semelhante a um botão de push padrão, exceto pelo fato de alternar entre os Estados pressionados e não prensados sempre que o usuário clicar nele.</span><span class="sxs-lookup"><span data-stu-id="a3e27-218">A button that has the [**BTNS\_CHECK**](toolbar-control-and-button-styles.md) style is similar to a standard push button, except it toggles between the pressed and nonpressed states each time the user clicks it.</span></span>

<span data-ttu-id="a3e27-219">Você pode criar grupos de botões da barra de ferramentas que atuam como botões de opção usando o [**\_ grupo BTNS**](toolbar-control-and-button-styles.md) ou o estilo de [**BTNS \_ check-in**](toolbar-control-and-button-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-219">You can create groups of toolbar buttons that act like radio buttons by using the [**BTNS\_GROUP**](toolbar-control-and-button-styles.md) or [**BTNS\_CHECKGROUP**](toolbar-control-and-button-styles.md) style.</span></span> <span data-ttu-id="a3e27-220">Isso faz com que um botão permaneça pressionado até que o usuário escolha outro botão no grupo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-220">This causes a button to stay pressed until the user chooses another button in the group.</span></span> <span data-ttu-id="a3e27-221">Um grupo é definido como uma coleção contígua de botões, tudo com o estilo BTNS ou **BTNS \_** do **\_ grupo** de verificação.</span><span class="sxs-lookup"><span data-stu-id="a3e27-221">A group is defined as a contiguous collection of buttons, all with the **BTNS\_GROUP** or **BTNS\_CHECKGROUP** style.</span></span>

<span data-ttu-id="a3e27-222">O estilo [**BTNS \_ Sep**](toolbar-control-and-button-styles.md) cria uma pequena lacuna entre os botões ou desenha um entalhe entre os botões em barras de ferramentas simples.</span><span class="sxs-lookup"><span data-stu-id="a3e27-222">The [**BTNS\_SEP**](toolbar-control-and-button-styles.md) style creates a small gap between buttons or draws an etch between buttons on flat toolbars.</span></span> <span data-ttu-id="a3e27-223">Um botão com o estilo **BTNS \_ Sep** não recebe a entrada do usuário.</span><span class="sxs-lookup"><span data-stu-id="a3e27-223">A button with the **BTNS\_SEP** style does not receive user input.</span></span>

<span data-ttu-id="a3e27-224">A versão 5,80 dos controles comuns introduziu alguns novos estilos de botão da barra de ferramentas e renomeou alguns dos estilos mais antigos.</span><span class="sxs-lookup"><span data-stu-id="a3e27-224">Version 5.80 of the common controls introduced some new toolbar button styles and renamed some of the older styles.</span></span> <span data-ttu-id="a3e27-225">Todos os sinalizadores de estilo de botão agora começam com BTNS \_ XXX em vez de TBSTYLE \_ xxx.</span><span class="sxs-lookup"><span data-stu-id="a3e27-225">All button style flags now begin with BTNS\_XXX instead of TBSTYLE\_XXX.</span></span> <span data-ttu-id="a3e27-226">Para obter uma listagem e uma discussão sobre os estilos de botão, consulte [controle da barra de ferramentas e estilos de botão](toolbar-control-and-button-styles.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-226">For a listing and discussion of the button styles, see [Toolbar Control and Button Styles](toolbar-control-and-button-styles.md).</span></span>

### <a name="toolbar-button-states"></a><span data-ttu-id="a3e27-227">Estados de botão da barra de ferramentas</span><span class="sxs-lookup"><span data-stu-id="a3e27-227">Toolbar Button States</span></span>

<span data-ttu-id="a3e27-228">Cada botão em uma barra de ferramentas tem um estado.</span><span class="sxs-lookup"><span data-stu-id="a3e27-228">Each button in a toolbar has a state.</span></span> <span data-ttu-id="a3e27-229">A barra de ferramentas atualiza o estado de um botão para refletir as ações do usuário, como clicar no botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-229">The toolbar updates a button's state to reflect user actions, such as clicking the button.</span></span> <span data-ttu-id="a3e27-230">O estado indica se o botão está pressionado ou não pressionado, habilitado ou desabilitado, oculto ou visível.</span><span class="sxs-lookup"><span data-stu-id="a3e27-230">The state indicates whether the button is currently pressed or not pressed, enabled or disabled, hidden or visible.</span></span> <span data-ttu-id="a3e27-231">Embora um aplicativo defina o estado inicial de um botão ao adicionar o botão à barra de ferramentas, ele pode alterar e recuperar o estado enviando mensagens de [**TB \_ SetState**](tb-getstate.md) e [**TB \_ SetState**](tb-setstate.md) para a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-231">Although an application sets a button's initial state when adding the button to the toolbar, it can change and retrieve the state by sending [**TB\_GETSTATE**](tb-getstate.md) and [**TB\_SETSTATE**](tb-setstate.md) messages to the toolbar.</span></span> <span data-ttu-id="a3e27-232">Para obter uma lista de Estados de botão da barra de ferramentas, consulte [Estados da barra de ferramentas](toolbar-button-states.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-232">For a list of toolbar button states, see [Toolbar States](toolbar-button-states.md).</span></span>

### <a name="command-identifier"></a><span data-ttu-id="a3e27-233">Identificador de comando</span><span class="sxs-lookup"><span data-stu-id="a3e27-233">Command Identifier</span></span>

<span data-ttu-id="a3e27-234">Cada botão tem um identificador de comando definido pelo aplicativo associado a ele.</span><span class="sxs-lookup"><span data-stu-id="a3e27-234">Each button has an application-defined command identifier associated with it.</span></span> <span data-ttu-id="a3e27-235">Identificadores de botão geralmente são definidos em um arquivo de cabeçalho do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-235">Button identifiers are usually defined in an application header file.</span></span> <span data-ttu-id="a3e27-236">Por exemplo, um botão de colagem pode ser definido como:</span><span class="sxs-lookup"><span data-stu-id="a3e27-236">For example, a Paste button can be defined as:</span></span>


```
#define ID_PASTE 100
```



<span data-ttu-id="a3e27-237">Quando o usuário seleciona um botão, a barra de ferramentas envia a janela pai um [**\_ comando do WM**](/windows/desktop/menurc/wm-command) ou uma mensagem de [**\_ notificação do WM**](wm-notify.md) que inclui o identificador de comando do botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-237">When the user selects a button, the toolbar sends the parent window a [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) or [**WM\_NOTIFY**](wm-notify.md) message that includes the command identifier of the button.</span></span> <span data-ttu-id="a3e27-238">A janela pai examina o identificador de comando e executa o comando associado ao botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-238">The parent window examines the command identifier and carries out the command associated with the button.</span></span> <span data-ttu-id="a3e27-239">Para obter informações sobre quando os controles enviam mensagens de **\_ comando do WM** e quando enviam a **\_ notificação do WM**, consulte a seção comentários da documentação do [**WM \_ Notify**](wm-notify.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-239">For information about when controls send **WM\_COMMAND** messages and when they send **WM\_NOTIFY**, see the Remarks section of the [**WM\_NOTIFY**](wm-notify.md) documentation.</span></span>

### <a name="button-size-and-position"></a><span data-ttu-id="a3e27-240">Tamanho e posição do botão</span><span class="sxs-lookup"><span data-stu-id="a3e27-240">Button Size and Position</span></span>

<span data-ttu-id="a3e27-241">Uma barra de ferramentas controla seus botões atribuindo a cada botão um índice de posição.</span><span class="sxs-lookup"><span data-stu-id="a3e27-241">A toolbar keeps track of its buttons by assigning each button a position index.</span></span> <span data-ttu-id="a3e27-242">O índice é baseado em zero; ou seja, o botão mais à esquerda tem um índice de 0, o botão Avançar à direita tem um índice de 1 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="a3e27-242">The index is zero-based; that is, the leftmost button has an index of 0, the next button to the right has an index of 1, and so on.</span></span> <span data-ttu-id="a3e27-243">Um aplicativo deve especificar o índice de um botão ao enviar mensagens para recuperar informações sobre o botão ou para definir os atributos do botão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-243">An application must specify the index of a button when sending messages to retrieve information about the button or to set the button's attributes.</span></span>

<span data-ttu-id="a3e27-244">Uma barra de ferramentas atualiza os índices de posição conforme os botões são inseridos e removidos.</span><span class="sxs-lookup"><span data-stu-id="a3e27-244">A toolbar updates the position indexes as buttons are inserted and removed.</span></span> <span data-ttu-id="a3e27-245">Um aplicativo pode recuperar o índice de posição atual de um botão usando a mensagem [**TB \_ COMMANDTOINDEX**](tb-commandtoindex.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-245">An application can retrieve the current position index of a button by using the [**TB\_COMMANDTOINDEX**](tb-commandtoindex.md) message.</span></span> <span data-ttu-id="a3e27-246">A mensagem Especifica o identificador de comando de um botão e a janela da barra de ferramentas usa o identificador para localizar o botão e retornar seu índice de posição.</span><span class="sxs-lookup"><span data-stu-id="a3e27-246">The message specifies the command identifier of a button, and the toolbar window uses the identifier to locate the button and return its position index.</span></span>

<span data-ttu-id="a3e27-247">Todos os botões em uma barra de ferramentas têm o mesmo tamanho.</span><span class="sxs-lookup"><span data-stu-id="a3e27-247">All buttons in a toolbar are the same size.</span></span> <span data-ttu-id="a3e27-248">A função [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) exige que você defina o tamanho inicial dos botões ao criar a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-248">The [**CreateToolbarEx**](/windows/desktop/api/Commctrl/nf-commctrl-createtoolbarex) function requires you to set the initial size of the buttons when you create the toolbar.</span></span> <span data-ttu-id="a3e27-249">Quando você usa a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , o tamanho inicial é definido como as dimensões padrão de 24 por 22 pixels.</span><span class="sxs-lookup"><span data-stu-id="a3e27-249">When you use the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, the initial size is set to the default dimensions of 24 by 22 pixels.</span></span> <span data-ttu-id="a3e27-250">Você pode usar a mensagem de [**TB \_ SetButtons**](tb-setbuttonsize.md) para alterar o tamanho do botão, mas você deve fazer isso antes de adicionar qualquer botão à barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-250">You can use the [**TB\_SETBUTTONSIZE**](tb-setbuttonsize.md) message to change the button size, but you must do so before adding any buttons to the toolbar.</span></span> <span data-ttu-id="a3e27-251">A mensagem [**TB \_ GETITEMRECT**](tb-getitemrect.md) recupera as dimensões atuais dos botões.</span><span class="sxs-lookup"><span data-stu-id="a3e27-251">The [**TB\_GETITEMRECT**](tb-getitemrect.md) message retrieves the current dimensions of the buttons.</span></span>

<span data-ttu-id="a3e27-252">Quando você adiciona uma cadeia de caracteres que é maior do que qualquer cadeia de caracteres atualmente na barra de ferramentas, a barra de ferramentas redefine automaticamente a largura de seus botões.</span><span class="sxs-lookup"><span data-stu-id="a3e27-252">When you add a string that is longer than any string currently in the toolbar, the toolbar automatically resets the width of its buttons.</span></span> <span data-ttu-id="a3e27-253">A largura é definida para acomodar a cadeia de caracteres mais longa na barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-253">The width is set to accommodate the longest string in the toolbar.</span></span>

## <a name="enabling-customization"></a><span data-ttu-id="a3e27-254">Habilitando a personalização</span><span class="sxs-lookup"><span data-stu-id="a3e27-254">Enabling Customization</span></span>

<span data-ttu-id="a3e27-255">Uma barra de ferramentas tem recursos de personalização internos que você pode disponibilizar para o usuário fornecendo à barra de ferramentas o estilo de controle comum [**\_ ajustável da CCS**](common-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-255">A toolbar has built-in customization features that you can make available to the user by giving the toolbar the [**CCS\_ADJUSTABLE**](common-control-styles.md) common control style.</span></span> <span data-ttu-id="a3e27-256">Os recursos de personalização permitem que o usuário arraste um botão para uma nova posição ou remova um botão arrastando-o para fora da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-256">The customization features allow the user to drag a button to a new position or to remove a button by dragging it off the toolbar.</span></span> <span data-ttu-id="a3e27-257">Além disso, o usuário pode clicar duas vezes na barra de ferramentas para exibir a caixa de diálogo Personalizar barra de ferramentas, que permite ao usuário adicionar, excluir e reorganizar botões da barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-257">In addition, the user can double-click the toolbar to display the Customize Toolbar dialog box, which allows the user to add, delete, and rearrange toolbar buttons.</span></span> <span data-ttu-id="a3e27-258">Para exibir a caixa de diálogo, use a mensagem de [**\_ personalização de TB**](tb-customize.md) .</span><span class="sxs-lookup"><span data-stu-id="a3e27-258">To display the dialog box, use the [**TB\_CUSTOMIZE**](tb-customize.md) message.</span></span> <span data-ttu-id="a3e27-259">Um aplicativo determina se os recursos de personalização estão disponíveis para o usuário e controla a extensão na qual o usuário pode personalizar a barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-259">An application determines whether the customization features are available to the user and controls the extent to which the user can customize the toolbar.</span></span>

<span data-ttu-id="a3e27-260">Como parte do processo de personalização, os aplicativos geralmente precisam salvar e restaurar o estado de uma barra de ferramentas.</span><span class="sxs-lookup"><span data-stu-id="a3e27-260">As part of the customization process, applications often need to save and restore a toolbar's state.</span></span> <span data-ttu-id="a3e27-261">Por exemplo, muitos aplicativos armazenam o estado da barra de ferramentas antes que o usuário comece a personalizar a barra de ferramentas caso o usuário posteriormente queira restaurar a barra de ferramentas ao seu estado original.</span><span class="sxs-lookup"><span data-stu-id="a3e27-261">For instance, many applications store the toolbar state before the user begins customizing the toolbar in case the user later wants to restore the toolbar to its original state.</span></span> <span data-ttu-id="a3e27-262">O controle Toolbar não mantém automaticamente um registro de seu estado de prepersonalização.</span><span class="sxs-lookup"><span data-stu-id="a3e27-262">The toolbar control does not automatically keep a record of its precustomization state.</span></span> <span data-ttu-id="a3e27-263">Seu aplicativo deve salvar o estado da barra de ferramentas para restaurá-lo.</span><span class="sxs-lookup"><span data-stu-id="a3e27-263">Your application must save the toolbar state in order to restore it.</span></span> <span data-ttu-id="a3e27-264">Para obter mais informações, consulte [usando controles da barra de ferramentas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-264">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

## <a name="enabling-hot-tracking"></a><span data-ttu-id="a3e27-265">Habilitando o controle de acesso</span><span class="sxs-lookup"><span data-stu-id="a3e27-265">Enabling Hot-tracking</span></span>

<span data-ttu-id="a3e27-266">Acompanhamento dinâmico significa que, quando o ponteiro se move sobre um item, a aparência do botão é alterada.</span><span class="sxs-lookup"><span data-stu-id="a3e27-266">Hot-tracking means that when the pointer moves over an item, the button's appearance changes.</span></span> <span data-ttu-id="a3e27-267">Quando os estilos visuais são habilitados, as barras de ferramentas dão suporte ao acompanhamento dinâmico por padrão.</span><span class="sxs-lookup"><span data-stu-id="a3e27-267">When visual styles are enabled, toolbars support hot-tracking by default.</span></span> <span data-ttu-id="a3e27-268">Caso contrário, somente os controles da barra de ferramentas criados com o estilo [**\_ plano de TBSTYLE**](toolbar-control-and-button-styles.md) dão suporte ao acompanhamento de quente.</span><span class="sxs-lookup"><span data-stu-id="a3e27-268">Otherwise, only toolbar controls created with the [**TBSTYLE\_FLAT**](toolbar-control-and-button-styles.md) style support hot-tracking.</span></span> <span data-ttu-id="a3e27-269">Você pode usar outros estilos de janela em combinação com **TBSTYLE \_ Flat** para produzir barras de ferramentas que habilitam o controle de acesso, mas têm uma aparência diferente de uma barra de ferramentas simples.</span><span class="sxs-lookup"><span data-stu-id="a3e27-269">You can use other window styles in combination with **TBSTYLE\_FLAT** to produce toolbars that enable hot-tracking but have a different appearance from a flat toolbar.</span></span> <span data-ttu-id="a3e27-270">Para obter mais informações, consulte [usando controles da barra de ferramentas](using-toolbar-controls.md).</span><span class="sxs-lookup"><span data-stu-id="a3e27-270">For more information, see [Using Toolbar Controls](using-toolbar-controls.md).</span></span>

 

 