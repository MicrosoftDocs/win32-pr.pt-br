---
title: Sobre controles de List-View
description: Um controle de exibição de lista é uma janela que exibe uma coleção de itens.
ms.assetid: 163f7778-690c-4166-b0c5-c7be1a03ae98
ms.topic: article
ms.date: 05/31/2018
ms.custom: project-verbatim
ms.openlocfilehash: 592684378b4264319d790b1e2e05eb9e0ae37f28
ms.sourcegitcommit: 0f7a8198bacd5493ab1e78a9583c7a3578794765
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/25/2021
ms.locfileid: "110424326"
---
# <a name="about-list-view-controls"></a><span data-ttu-id="f6c20-103">Sobre controles de List-View</span><span class="sxs-lookup"><span data-stu-id="f6c20-103">About List-View Controls</span></span>

<span data-ttu-id="f6c20-104">Consulte o [exemplo de controle ListView virtual](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span><span class="sxs-lookup"><span data-stu-id="f6c20-104">See the [Virtual listview control sample](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw).</span></span>

<span data-ttu-id="f6c20-105">Um controle de exibição de lista é uma janela que exibe uma coleção de itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-105">A list-view control is a window that displays a collection of items.</span></span> <span data-ttu-id="f6c20-106">Os controles de exibição de lista fornecem várias maneiras de organizar e exibir itens e são muito mais flexíveis do que [caixas de listagem](list-boxes.md)simples.</span><span class="sxs-lookup"><span data-stu-id="f6c20-106">List-view controls provide several ways to arrange and display items and are much more flexible than simple [List Boxes](list-boxes.md).</span></span> <span data-ttu-id="f6c20-107">Por exemplo, informações adicionais sobre cada item podem ser exibidas em colunas à direita do ícone e rótulo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-107">For example, additional information about each item can be displayed in columns to the right of the icon and label.</span></span>

-   [<span data-ttu-id="f6c20-108">Exibições e estilos de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-108">List-View Styles and Views</span></span>](#list-view-styles-and-views)
    -   [<span data-ttu-id="f6c20-109">Estilos de List-View estendidos</span><span class="sxs-lookup"><span data-stu-id="f6c20-109">Extended List-View Styles</span></span>](#extended-list-view-styles)
-   [<span data-ttu-id="f6c20-110">Estilo de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-110">Virtual List-View Style</span></span>](#virtual-list-view-style)
    -   [<span data-ttu-id="f6c20-111">Criando um controle de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-111">Creating a Virtual List-View Control</span></span>](#creating-a-virtual-list-view-control)
    -   [<span data-ttu-id="f6c20-112">Problemas de compatibilidade</span><span class="sxs-lookup"><span data-stu-id="f6c20-112">Compatibility Issues</span></span>](#compatibility-issues)
    -   [<span data-ttu-id="f6c20-113">Manipulando códigos de notificação de controle de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-113">Handling Virtual List-View Control Notification Codes</span></span>](#handling-virtual-list-view-control-notification-codes)
    -   [<span data-ttu-id="f6c20-114">Gerenciamento de cache</span><span class="sxs-lookup"><span data-stu-id="f6c20-114">Cache Management</span></span>](#cache-management)
-   [<span data-ttu-id="f6c20-115">Áreas de trabalho da exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-115">List-View Working Areas</span></span>](#list-view-working-areas)
-   [<span data-ttu-id="f6c20-116">Listar listas de imagens de exibição</span><span class="sxs-lookup"><span data-stu-id="f6c20-116">List-View Image Lists</span></span>](#list-view-image-lists)
-   [<span data-ttu-id="f6c20-117">Listar itens e subitens de exibição</span><span class="sxs-lookup"><span data-stu-id="f6c20-117">List-View Items and Subitems</span></span>](#list-view-items-and-subitems)
    -   [<span data-ttu-id="f6c20-118">Listar Estados de item de exibição</span><span class="sxs-lookup"><span data-stu-id="f6c20-118">List-View Item States</span></span>](#list-view-item-states)
    -   [<span data-ttu-id="f6c20-119">Itens de retorno de chamada e a máscara de retorno de chamada</span><span class="sxs-lookup"><span data-stu-id="f6c20-119">Callback Items and the Callback Mask</span></span>](#callback-items-and-the-callback-mask)
    -   [<span data-ttu-id="f6c20-120">Posição do item de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-120">List-View Item Position</span></span>](#list-view-item-position)
    -   [<span data-ttu-id="f6c20-121">Organizando, classificação e localizar itens</span><span class="sxs-lookup"><span data-stu-id="f6c20-121">Arranging, Sorting, and Finding Items</span></span>](#arranging-sorting-and-finding-items)
-   [<span data-ttu-id="f6c20-122">Colunas de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-122">List-View Columns</span></span>](#list-view-columns)
-   [<span data-ttu-id="f6c20-123">Posição de rolagem da exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-123">List-View Scroll Position</span></span>](#list-view-scroll-position)
-   [<span data-ttu-id="f6c20-124">Edição de rótulo de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-124">List-View Label Editing</span></span>](#list-view-label-editing)
-   [<span data-ttu-id="f6c20-125">Cores de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-125">List-View Colors</span></span>](#list-view-colors)
-   [<span data-ttu-id="f6c20-126">Organizando itens de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="f6c20-126">Arranging List Items by Group</span></span>](#arranging-list-items-by-group)
-   [<span data-ttu-id="f6c20-127">Marcas de inserção</span><span class="sxs-lookup"><span data-stu-id="f6c20-127">Insertion Marks</span></span>](#insertion-marks)

## <a name="list-view-styles-and-views"></a><span data-ttu-id="f6c20-128">List-View estilos e exibições</span><span class="sxs-lookup"><span data-stu-id="f6c20-128">List-View Styles and Views</span></span>

<span data-ttu-id="f6c20-129">Controles de exibição de lista podem exibir itens em cinco exibições diferentes.</span><span class="sxs-lookup"><span data-stu-id="f6c20-129">List-view controls can display items in five different views.</span></span> <span data-ttu-id="f6c20-130">O estilo de janela do controle especifica a exibição padrão.</span><span class="sxs-lookup"><span data-stu-id="f6c20-130">The control's window style specifies the default view.</span></span> <span data-ttu-id="f6c20-131">Estilos de janela adicionais especificam o alinhamento de itens e recursos específicos do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-131">Additional window styles specify the alignment of items and control-specific features.</span></span> <span data-ttu-id="f6c20-132">A tabela a seguir descreve as exibições.</span><span class="sxs-lookup"><span data-stu-id="f6c20-132">The following table describes the views.</span></span>



| <span data-ttu-id="f6c20-133">Nome da exibição</span><span class="sxs-lookup"><span data-stu-id="f6c20-133">View Name</span></span>             | <span data-ttu-id="f6c20-134">Descrição</span><span class="sxs-lookup"><span data-stu-id="f6c20-134">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|-----------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f6c20-135">Exibição de ícone</span><span class="sxs-lookup"><span data-stu-id="f6c20-135">Icon view</span></span>             | <span data-ttu-id="f6c20-136">Especificado pelo estilo de janela [**ÍCONE LVS \_**](list-view-window-styles.md) ou passando o ÍCONE DE EXIBIÇÃO **LV \_ \_** com a [**mensagem LVM \_ SETVIEW.**](lvm-setview.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-136">Specified by the [**LVS\_ICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_ICON** with the [**LVM\_SETVIEW**](lvm-setview.md) message.</span></span> <span data-ttu-id="f6c20-137">Cada item é exibido como um ícone em tamanho normal com um rótulo abaixo dele.</span><span class="sxs-lookup"><span data-stu-id="f6c20-137">Each item appears as a full-sized icon with a label below it.</span></span> <span data-ttu-id="f6c20-138">O usuário pode arrastar os itens para qualquer local na janela de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-138">The user can drag the items to any location in the list-view window.</span></span>                                                                                                                                                                                                                                         |
| <span data-ttu-id="f6c20-139">Exibição de ícone pequeno</span><span class="sxs-lookup"><span data-stu-id="f6c20-139">Small icon view</span></span>       | <span data-ttu-id="f6c20-140">Especificado pelo estilo de [**janela \_ SMALLICON LVS**](list-view-window-styles.md) ou passando **LV \_ VIEW \_ SMALLICON** com [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-140">Specified by the [**LVS\_SMALLICON**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_SMALLICON** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="f6c20-141">Cada item aparece como um ícone pequeno com o rótulo à direita dele.</span><span class="sxs-lookup"><span data-stu-id="f6c20-141">Each item appears as a small icon with the label to the right of it.</span></span> <span data-ttu-id="f6c20-142">O usuário pode arrastar os itens para qualquer local.</span><span class="sxs-lookup"><span data-stu-id="f6c20-142">The user can drag the items to any location.</span></span>                                                                                                                                                                                                                                                       |
| <span data-ttu-id="f6c20-143">Modo de exibição de lista</span><span class="sxs-lookup"><span data-stu-id="f6c20-143">List view</span></span>             | <span data-ttu-id="f6c20-144">Especificado pelo estilo da janela [**LVS \_ LIST**](list-view-window-styles.md) ou passando **LV \_ VIEW \_ LIST** com [**LVM \_ SETVIEW**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-144">Specified by the [**LVS\_LIST**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_LIST** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="f6c20-145">Cada item aparece como um ícone pequeno com um rótulo à direita dele.</span><span class="sxs-lookup"><span data-stu-id="f6c20-145">Each item appears as a small icon with a label to the right of it.</span></span> <span data-ttu-id="f6c20-146">Os itens são organizados em colunas e o usuário não pode arrastá-los para um local arbitrário.</span><span class="sxs-lookup"><span data-stu-id="f6c20-146">Items are arranged in columns and the user cannot drag them to an arbitrary location.</span></span>                                                                                                                                                                                                                               |
| <span data-ttu-id="f6c20-147">Exibição de relatório (detalhes)</span><span class="sxs-lookup"><span data-stu-id="f6c20-147">Report (details) view</span></span> | <span data-ttu-id="f6c20-148">Especificado pelo estilo de janela do [**\_ relatório LVS**](list-view-window-styles.md) ou passando **\_ \_ detalhes da exibição LV** com o [**LVM \_ SetView**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-148">Specified by the [**LVS\_REPORT**](list-view-window-styles.md) window style or by passing **LV\_VIEW\_DETAILS** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="f6c20-149">Cada item aparece em sua própria linha, com informações organizadas em colunas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-149">Each item appears on its own line, with information arranged in columns.</span></span> <span data-ttu-id="f6c20-150">A coluna mais à esquerda sempre é justificada e contém o ícone pequeno e o rótulo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-150">The leftmost column is always left justified and contains the small icon and label.</span></span> <span data-ttu-id="f6c20-151">Colunas subsequentes contêm subitens, conforme especificado pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-151">Subsequent columns contain subitems as specified by the application.</span></span> <span data-ttu-id="f6c20-152">Cada coluna tem um cabeçalho, a menos que você também especifique o estilo de janela [**LVS \_ nocolumnheader**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-152">Each column has a header, unless you also specify the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style.</span></span> |
| <span data-ttu-id="f6c20-153">Exibição Lado a Lado</span><span class="sxs-lookup"><span data-stu-id="f6c20-153">Tile View</span></span>             | <span data-ttu-id="f6c20-154">**Versão 6 e posterior.**</span><span class="sxs-lookup"><span data-stu-id="f6c20-154">**Version 6 and later.**</span></span> <span data-ttu-id="f6c20-155">Especificado passando o **\_ \_ bloco de exibição LV** com o [**LVM \_ SetView**](lvm-setview.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-155">Specified by passing **LV\_VIEW\_TILE** with [**LVM\_SETVIEW**](lvm-setview.md).</span></span> <span data-ttu-id="f6c20-156">Cada item aparece como um ícone de tamanho máximo com um rótulo de uma ou mais linhas ao lado dele.</span><span class="sxs-lookup"><span data-stu-id="f6c20-156">Each item appears as a full-sized icon with a label of one or more lines beside it.</span></span>                                                                                                                                                                                                                                                                                                                                                        |



 

<span data-ttu-id="f6c20-157">As capturas de tela a seguir usam exibições para mostrar diferentes quantidades de informações sobre cada um dos sete animais de estimação.</span><span class="sxs-lookup"><span data-stu-id="f6c20-157">The following screen shots use views to show different amounts of information about each of seven pets.</span></span> <span data-ttu-id="f6c20-158">As exibições demonstram como as informações podem ser exibidas no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-158">The views demonstrate how the information might appear on Windows Vista.</span></span> <span data-ttu-id="f6c20-159">Os estilos visuais para o controle foram definidos para o tema "Explorer" usando [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span><span class="sxs-lookup"><span data-stu-id="f6c20-159">The visual styles for the control have been set to the "Explorer" theme by using [**SetWindowTheme**](/windows/desktop/api/Uxtheme/nf-uxtheme-setwindowtheme).</span></span>

<span data-ttu-id="f6c20-160">A captura de tela a seguir mostra a exibição de detalhes.</span><span class="sxs-lookup"><span data-stu-id="f6c20-160">The following screen shot shows the details view.</span></span>

![captura de tela que mostra informações em cinco colunas e sete linhas](images/lv-detailsview.png)

<span data-ttu-id="f6c20-162">A captura de tela a seguir mostra a exibição de ícone.</span><span class="sxs-lookup"><span data-stu-id="f6c20-162">The following screen shot shows the icon view.</span></span>

![captura de tela que mostra apenas o nome de cada animal de estimação e um ícone que indica a espécie](images/lv-iconview.png)

<span data-ttu-id="f6c20-164">A captura de tela a seguir mostra o modo de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-164">The following screen shot shows the list view.</span></span>

![captura de tela que mostra, para cada animal de estimação, um ícone grande próximo ao texto do nome, da categoria e do preço do animal de estimação](images/lv-listview.png)

<span data-ttu-id="f6c20-166">A captura de tela a seguir mostra a exibição de azul.</span><span class="sxs-lookup"><span data-stu-id="f6c20-166">The following screen shot shows the tile view.</span></span>

![exibição deile.](images/lv-tileview.png)

<span data-ttu-id="f6c20-168">Você pode alterar o tipo de exibição depois de criar um controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-168">You can change the view type after you create a list-view control.</span></span> <span data-ttu-id="f6c20-169">Para recuperar e alterar o estilo da janela, use as [**funções GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong.**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga)</span><span class="sxs-lookup"><span data-stu-id="f6c20-169">To retrieve and change the window style, use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions.</span></span> <span data-ttu-id="f6c20-170">Para determinar os estilos de janela da exibição atual, use o [**valor \_ TYPEMASK LVS.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-170">To determine the window styles of the current view, use the [**LVS\_TYPEMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="f6c20-171">Você pode controlar a maneira como os itens são organizados no ícone ou na exibição de ícone pequeno especificando o estilo de janela [**LVS \_ ALIGNTOP**](list-view-window-styles.md) (padrão) ou [**LVS \_ ALIGNLEFT.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-171">You can control the way items are arranged in icon or small icon view by specifying either the [**LVS\_ALIGNTOP**](list-view-window-styles.md) (default) or [**LVS\_ALIGNLEFT**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="f6c20-172">Você pode alterar o alinhamento depois de criar um controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-172">You can change the alignment after you create a list-view control.</span></span> <span data-ttu-id="f6c20-173">Para determinar o alinhamento atual, use o valor [**LVS \_ ALIGNMASK.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-173">To determine the current alignment, use the [**LVS\_ALIGNMASK**](list-view-window-styles.md) value.</span></span>

<span data-ttu-id="f6c20-174">Estilos de janela adicionais fornecem outras opções, como se um usuário pode editar rótulos ou selecionar mais de um item por vez.</span><span class="sxs-lookup"><span data-stu-id="f6c20-174">Additional window styles provide other options, such as whether a user can edit labels or select more than one item at a time.</span></span> <span data-ttu-id="f6c20-175">Para ver uma lista completa, consulte [Estilos de janela de exibição de lista.](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-175">For a complete list, see [List-View Window Styles](list-view-window-styles.md).</span></span>

### <a name="extended-list-view-styles"></a><span data-ttu-id="f6c20-176">Estilos List-View estendidos</span><span class="sxs-lookup"><span data-stu-id="f6c20-176">Extended List-View Styles</span></span>

<span data-ttu-id="f6c20-177">Os estilos de controle de exibição de lista estendida fornecem opções como caixas de seleção, barras de rolagem simples, linhas de grade e acompanhamento a quente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-177">The extended list-view control styles provide options such as check boxes, flat scroll bars, grid lines, and hot-tracking.</span></span> <span data-ttu-id="f6c20-178">Para ver uma lista completa, consulte [Estilos List-View estendidos.](extended-list-view-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-178">For a complete list, see [Extended List-View Styles](extended-list-view-styles.md).</span></span> <span data-ttu-id="f6c20-179">Você não acessa estilos estendidos de exibição de lista da mesma maneira que os estilos de janela padrão.</span><span class="sxs-lookup"><span data-stu-id="f6c20-179">You do not access extended list-view styles in the same manner as standard window styles.</span></span> <span data-ttu-id="f6c20-180">Você não usa as [**funções GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) e [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) para fazer alterações de estilo estendidas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-180">You do not use the [**GetWindowLong**](/windows/desktop/api/winuser/nf-winuser-getwindowlonga) and [**SetWindowLong**](/windows/desktop/api/winuser/nf-winuser-setwindowlonga) functions to make extended style changes.</span></span>

<span data-ttu-id="f6c20-181">Há duas mensagens que configuram e recuperam informações de estilo estendidas, [**LVM \_ SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) e [**LVM \_ GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-181">There are two messages that set and retrieve extended style information, [**LVM\_SETEXTENDEDLISTVIEWSTYLE**](lvm-setextendedlistviewstyle.md) and [**LVM\_GETEXTENDEDLISTVIEWSTYLE**](lvm-getextendedlistviewstyle.md).</span></span> <span data-ttu-id="f6c20-182">Em vez de enviar as mensagens explicitamente, você pode usar as seguintes macros correspondentes: [**ListView \_ SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView \_ SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex)e [**ListView \_ GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span><span class="sxs-lookup"><span data-stu-id="f6c20-182">Instead of sending the messages explicitly, you can use the following corresponding macros: [**ListView\_SetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyle), [**ListView\_SetExtendedListViewStyleEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setextendedlistviewstyleex), and [**ListView\_GetExtendedListViewStyle**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getextendedlistviewstyle).</span></span>

## <a name="virtual-list-view-style"></a><span data-ttu-id="f6c20-183">Estilo List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-183">Virtual List-View Style</span></span>

<span data-ttu-id="f6c20-184">Uma exibição de lista virtual é um controle de exibição de lista que tem o [**estilo LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-184">A virtual list view is a list-view control that has the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="f6c20-185">Esse estilo permite que o controle gere milhões de itens porque o proprietário recebe a carga de gerenciamento de dados de item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-185">This style enables the control to handle millions of items because the owner receives the burden of managing item data.</span></span> <span data-ttu-id="f6c20-186">Isso permite que você use o controle de exibição de lista virtual com grandes bancos de dados de informações, em que os métodos específicos de acesso ao dado já estão em vigor.</span><span class="sxs-lookup"><span data-stu-id="f6c20-186">This allows you to use the virtual list-view control with large databases of information, where specific methods of data access are already in place.</span></span>

<span data-ttu-id="f6c20-187">Um controle de exibição de lista virtual mantém muito pouco informações sobre o item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-187">A virtual list-view control maintains very little item information itself.</span></span> <span data-ttu-id="f6c20-188">Exceto para a seleção de item e as informações de foco, o proprietário do controle deve gerenciar todas as informações de item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-188">Except for the item selection and focus information, the owner of the control must manage all item information.</span></span> <span data-ttu-id="f6c20-189">Outros processos solicitam informações do item do proprietário usando códigos de notificação do [LVN \_ GETDISPINFO](lvn-getdispinfo.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-189">Other processes request item information from the owner by using [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes.</span></span>

<span data-ttu-id="f6c20-190">Como esse tipo de controle de lista destina-se a grandes conjuntos de dados, é recomendável que você armazene em cache os dados de item solicitados para melhorar o desempenho de recuperação.</span><span class="sxs-lookup"><span data-stu-id="f6c20-190">Because this type of list control is intended for large data sets, it is recommended that you cache requested item data to improve retrieval performance.</span></span> <span data-ttu-id="f6c20-191">A exibição de lista fornece um mecanismo de dicas de cache para ajudar na otimização do cache.</span><span class="sxs-lookup"><span data-stu-id="f6c20-191">The list view provides a cache-hinting mechanism to assist in optimizing the cache.</span></span> <span data-ttu-id="f6c20-192">A dica é implementada na forma de um código de notificação [LVN \_ ODCACHEHINT](lvn-odcachehint.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-192">The hint is implemented in the form of an [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code.</span></span>

### <a name="creating-a-virtual-list-view-control"></a><span data-ttu-id="f6c20-193">Criando um controle de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-193">Creating a Virtual List-View Control</span></span>

<span data-ttu-id="f6c20-194">Você cria controles de exibição de lista virtual usando a função [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) ou [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando o estilo de janela [**LVS \_ OWNERDATA**](list-view-window-styles.md) como parte do parâmetro de função *dwStyle* .</span><span class="sxs-lookup"><span data-stu-id="f6c20-194">You create virtual list-view controls using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**LVS\_OWNERDATA**](list-view-window-styles.md) window style as part of the *dwStyle* function parameter.</span></span> <span data-ttu-id="f6c20-195">Não há suporte para a alternância dinâmica de e para o estilo **LVS \_ OWNERDATA** .</span><span class="sxs-lookup"><span data-stu-id="f6c20-195">Dynamically switching to and from the **LVS\_OWNERDATA** style is not supported.</span></span>

<span data-ttu-id="f6c20-196">Você pode usar o estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) em combinação com a maioria dos outros estilos de janela, exceto o estilo [**LVS \_ SORTASCENDING**](list-view-window-styles.md) ou [**LVS \_ SORTDESCENDING**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-196">You can use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style in combination with most other window styles, except the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="f6c20-197">Todos os controles de exibição de lista virtual são padronizados para o estilo de [**\_ AutoOrganizar LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-197">All virtual list-view controls default to the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="f6c20-198">Para habilitar itens a serem exibidos na lista, você deve primeiro enviar a mensagem [**LVM \_ setitemcount**](lvm-setitemcount.md) , seja explicitamente ou usando a macro [**\_ SetItemCountEx do ListView**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-198">To enable items to be displayed in the list, you must first send the [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, either explicitly or by using the [**ListView\_SetItemCountEx**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemcountex) macro.</span></span>

<span data-ttu-id="f6c20-199">As seguintes mensagens não têm suporte no estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) : [**LVM \_ ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM \_ GETITEMTEXT**](lvm-getitemtext.md), [**LVM \_ SETTILEINFO**](lvm-settileinfo.md)e [**LVM \_ MAPIDTOINDEX**](lvm-mapidtoindex.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-199">The following messages are not supported under the [**LVS\_OWNERDATA**](list-view-window-styles.md) style: [**LVM\_ENABLEGROUPVIEW**](lvm-enablegroupview.md), [**LVM\_GETITEMTEXT**](lvm-getitemtext.md), [**LVM\_SETTILEINFO**](lvm-settileinfo.md), and [**LVM\_MAPIDTOINDEX**](lvm-mapidtoindex.md).</span></span>

### <a name="compatibility-issues"></a><span data-ttu-id="f6c20-200">Problemas de compatibilidade</span><span class="sxs-lookup"><span data-stu-id="f6c20-200">Compatibility Issues</span></span>

<span data-ttu-id="f6c20-201">Todos os quatro estilos de exibição de lista – ícone, ícone pequeno, lista e exibição de relatório – são suportados no [**estilo LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-201">All four of the list-view styles—icon, small icon, list, and report view—support the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="f6c20-202">Controles de exibição de lista que têm o **estilo LVS \_ OWNERDATA** não armazenam nenhuma informação específica do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-202">List-view controls that have the **LVS\_OWNERDATA** style do not store any item-specific information.</span></span> <span data-ttu-id="f6c20-203">Portanto, os únicos sinalizadores de estado de item válidos que você pode aplicar a um item são [**LVIS \_ SELECTED**](list-view-item-states.md) e [**LVIS \_ FOCUSED.**](list-view-item-states.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-203">Therefore, the only valid item state flags that you can apply to an item are [**LVIS\_SELECTED**](list-view-item-states.md) and [**LVIS\_FOCUSED**](list-view-item-states.md).</span></span> <span data-ttu-id="f6c20-204">Nenhuma outra informação de estado é armazenada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-204">No other state information is stored.</span></span> <span data-ttu-id="f6c20-205">Em particular, o controle de exibição de lista não mantém imagens de estado ou sobreposição para cada item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-205">In particular, the list-view control does not maintain state or overlay images for each item.</span></span> <span data-ttu-id="f6c20-206">No entanto, você pode fazer com que o controle de exibição de lista consulte seu aplicativo para essas imagens enviando uma mensagem [**LVM \_ SETCALLBACKMASK.**](lvm-setcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-206">However, you can have the list-view control query your application for these images by sending it an [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message.</span></span>

<span data-ttu-id="f6c20-207">A maioria das mensagens de controle de exibição de lista e as macros associadas tem suporte total.</span><span class="sxs-lookup"><span data-stu-id="f6c20-207">Most list-view control messages and the associated macros are fully supported.</span></span> <span data-ttu-id="f6c20-208">No entanto, algumas mensagens têm limitações ou não têm suporte quando você usa o estilo [**LVS \_ OWNERDATA.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-208">However, some messages have limitations or are unsupported when you use the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="f6c20-209">A tabela a seguir resume as mensagens afetadas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-209">The following table summarizes the affected messages.</span></span>



| <span data-ttu-id="f6c20-210">Mensagem</span><span class="sxs-lookup"><span data-stu-id="f6c20-210">Message</span></span>                                             | <span data-ttu-id="f6c20-211">Limitação</span><span class="sxs-lookup"><span data-stu-id="f6c20-211">Limitation</span></span>                                                                                                                                                                                                                                                      |
|-----------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f6c20-212">**LVM \_ ARRANGE**</span><span class="sxs-lookup"><span data-stu-id="f6c20-212">**LVM\_ARRANGE**</span></span>](lvm-arrange.md)                 | <span data-ttu-id="f6c20-213">Não dá suporte ao **estilo \_ SNAPTOGRID da LVA.**</span><span class="sxs-lookup"><span data-stu-id="f6c20-213">Does not support the **LVA\_SNAPTOGRID** style.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="f6c20-214">**LVM \_ DELETEALLITEMS**</span><span class="sxs-lookup"><span data-stu-id="f6c20-214">**LVM\_DELETEALLITEMS**</span></span>](lvm-deleteallitems.md)   | <span data-ttu-id="f6c20-215">Define a contagem de itens como zero e limpa todas as variáveis de seleção internas, mas na verdade não exclui nenhum item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-215">Sets the item count to zero and clears all internal selection variables, but it does not actually delete any items.</span></span> <span data-ttu-id="f6c20-216">Ele faz um retorno de chamada de notificação.</span><span class="sxs-lookup"><span data-stu-id="f6c20-216">It makes a notification callback.</span></span>                                                                                                           |
| [<span data-ttu-id="f6c20-217">**LVM \_ DELETEITEM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-217">**LVM\_DELETEITEM**</span></span>](lvm-deleteitem.md)           | <span data-ttu-id="f6c20-218">Tem suporte apenas para integridade de seleção e não exclui um item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-218">Is supported for selection integrity only and does not actually delete an item.</span></span>                                                                                                                                                                                 |
| [<span data-ttu-id="f6c20-219">**LVM \_ GETITEMSTATE**</span><span class="sxs-lookup"><span data-stu-id="f6c20-219">**LVM\_GETITEMSTATE**</span></span>](lvm-getitemstate.md)       | <span data-ttu-id="f6c20-220">Retorna apenas os estados de foco e seleção (ou seja, os estados armazenados pelo controle de exibição de lista).</span><span class="sxs-lookup"><span data-stu-id="f6c20-220">Returns only focus and selection states (that is, those states stored by the list-view control).</span></span>                                                                                                                                                                |
| [<span data-ttu-id="f6c20-221">**LVM \_ GETNEXTITEM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-221">**LVM\_GETNEXTITEM**</span></span>](lvm-getnextitem.md)         | <span data-ttu-id="f6c20-222">Não dá suporte aos critérios de pesquisa de exibição de lista **LVNI \_ CUT,** **LVNI \_ HIDDEN** ou **LVNI \_ DROPHILITED.**</span><span class="sxs-lookup"><span data-stu-id="f6c20-222">Does not support the list-view search criteria **LVNI\_CUT**, **LVNI\_HIDDEN**, or **LVNI\_DROPHILITED**.</span></span> <span data-ttu-id="f6c20-223">Todos os outros critérios têm suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-223">All other criteria are supported.</span></span>                                                                                                                     |
| [<span data-ttu-id="f6c20-224">**\_GETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-224">**LVM\_GETWORKAREAS**</span></span>](lvm-getworkareas.md)       | <span data-ttu-id="f6c20-225">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-225">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="f6c20-226">**\_INSERTITEM LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-226">**LVM\_INSERTITEM**</span></span>](lvm-insertitem.md)           | <span data-ttu-id="f6c20-227">Tem suporte apenas para integridade de seleção.</span><span class="sxs-lookup"><span data-stu-id="f6c20-227">Is supported for selection integrity only.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="f6c20-228">**\_SETITEM LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-228">**LVM\_SETITEM**</span></span>](lvm-setitem.md)                 | <span data-ttu-id="f6c20-229">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-229">Is not supported.</span></span> <span data-ttu-id="f6c20-230">Para definir o estado do item, use a mensagem [**ListView \_ SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-230">To set the item state, use the [**ListView\_SetItemState**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitemstate) message.</span></span>                                                                                                                                               |
| [<span data-ttu-id="f6c20-231">**LVM \_ SETitemcount**</span><span class="sxs-lookup"><span data-stu-id="f6c20-231">**LVM\_SETITEMCOUNT**</span></span>](lvm-setitemcount.md)       | <span data-ttu-id="f6c20-232">Define o número de itens atualmente na lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-232">Sets the number of items currently in the list.</span></span> <span data-ttu-id="f6c20-233">Se o controle de exibição de lista enviar uma notificação que solicita dados de qualquer item até o conjunto máximo, o proprietário deverá estar preparado para fornecer esses dados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-233">If the list-view control sends a notification that requests data for any item up to the maximum set, the owner must be prepared to supply that data.</span></span> <span data-ttu-id="f6c20-234">Os parâmetros de mensagem dão suporte a controles de exibição de lista virtual.</span><span class="sxs-lookup"><span data-stu-id="f6c20-234">The message parameters support virtual list-view controls.</span></span> |
| [<span data-ttu-id="f6c20-235">**\_SETITEMPOSITION LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-235">**LVM\_SETITEMPOSITION**</span></span>](lvm-setitemposition.md) | <span data-ttu-id="f6c20-236">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-236">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="f6c20-237">**GetItemState do LVM \_**</span><span class="sxs-lookup"><span data-stu-id="f6c20-237">**LVM\_SETITEMSTATE**</span></span>](lvm-setitemstate.md)       | <span data-ttu-id="f6c20-238">Permite que apenas os Estados de seleção e foco sejam alterados para o item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-238">Allows only the selection and focus states to be changed for the item.</span></span>                                                                                                                                                                                          |
| [<span data-ttu-id="f6c20-239">**\_SETITEMTEXT LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-239">**LVM\_SETITEMTEXT**</span></span>](lvm-setitemtext.md)         | <span data-ttu-id="f6c20-240">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-240">Is not supported.</span></span> <span data-ttu-id="f6c20-241">É responsabilidade do aplicativo manter os textos do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-241">It is the application's responsibility to maintain the item texts.</span></span>                                                                                                                                                                            |
| [<span data-ttu-id="f6c20-242">**\_SETWORKAREAS LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-242">**LVM\_SETWORKAREAS**</span></span>](lvm-setworkareas.md)       | <span data-ttu-id="f6c20-243">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-243">Is not supported.</span></span>                                                                                                                                                                                                                                               |
| [<span data-ttu-id="f6c20-244">**\_SORTITEMS LVM**</span><span class="sxs-lookup"><span data-stu-id="f6c20-244">**LVM\_SORTITEMS**</span></span>](lvm-sortitems.md)             | <span data-ttu-id="f6c20-245">Não tem suporte.</span><span class="sxs-lookup"><span data-stu-id="f6c20-245">Is not supported.</span></span> <span data-ttu-id="f6c20-246">É responsabilidade do aplicativo apresentar os itens na ordem desejada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-246">It is the application's responsibility to present the items in the desired order.</span></span>                                                                                                                                                             |



 

### <a name="handling-virtual-list-view-control-notification-codes"></a><span data-ttu-id="f6c20-247">Manipulando códigos de notificação de controle de List-View virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-247">Handling Virtual List-View Control Notification Codes</span></span>

<span data-ttu-id="f6c20-248">Os controles de exibição de lista com o estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) enviam os mesmos códigos de notificação que outros controles de exibição de lista e dois outros: [LVN \_ ODCACHEHINT](lvn-odcachehint.md) e [LVN \_ ODFINDITEM](lvn-odfinditem.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-248">List-view controls with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style send the same notification codes as other list-view controls and two additional ones: [LVN\_ODCACHEHINT](lvn-odcachehint.md) and [LVN\_ODFINDITEM](lvn-odfinditem.md).</span></span> <span data-ttu-id="f6c20-249">A seguir estão as notificações mais comuns que o controle de exibição de lista com o **estilo LVS \_ OWNERDATA** envia.</span><span class="sxs-lookup"><span data-stu-id="f6c20-249">The following are the most common notifications that the list-view control with the **LVS\_OWNERDATA** style sends.</span></span>



|      <span data-ttu-id="f6c20-250">Notificação</span><span class="sxs-lookup"><span data-stu-id="f6c20-250">Notification</span></span>                    |     <span data-ttu-id="f6c20-251">Descrição</span><span class="sxs-lookup"><span data-stu-id="f6c20-251">Description</span></span>                         |
|-----------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="f6c20-252">LVN \_ GETDISPINFO</span><span class="sxs-lookup"><span data-stu-id="f6c20-252">LVN\_GETDISPINFO</span></span>](lvn-getdispinfo.md) | <span data-ttu-id="f6c20-253">Um controle de exibição de lista virtual mantém muito poucas informações de item por conta própria.</span><span class="sxs-lookup"><span data-stu-id="f6c20-253">A virtual list-view control maintains very little item information on its own.</span></span> <span data-ttu-id="f6c20-254">Como resultado, ele geralmente envia o código de notificação [ \_ GETDISPINFO LVN](lvn-getdispinfo.md) para solicitar informações de item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-254">As a result, it often sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to request item information.</span></span> <span data-ttu-id="f6c20-255">Essa mensagem é tratada da mesma maneira que os itens de retorno de chamada em um controle de lista padrão.</span><span class="sxs-lookup"><span data-stu-id="f6c20-255">This message is handled in much the same way as callback items in a standard list control.</span></span> <span data-ttu-id="f6c20-256">Como o número de itens com suporte pelo controle pode ser muito grande, o armazenamento em cache de dados de item melhora o desempenho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-256">Because the number of items supported by the control can be very large, caching item data improves performance.</span></span> <span data-ttu-id="f6c20-257">Ao lidar com LVN GETDISPINFO, o proprietário do controle tenta primeiro fornecer informações de item solicitadas do cache (para obter mais informações, consulte \_ Gerenciamento de [Cache](#cache-management)).</span><span class="sxs-lookup"><span data-stu-id="f6c20-257">When handling LVN\_GETDISPINFO, the owner of the control first attempts to supply requested item information from the cache (for more information, see [Cache Management](#cache-management)).</span></span> <span data-ttu-id="f6c20-258">Se o item solicitado não for armazenado em cache, o proprietário deverá estar preparado para fornecer as informações por outros meios.</span><span class="sxs-lookup"><span data-stu-id="f6c20-258">If the requested item is not cached, the owner must be prepared to supply the information by other means.</span></span> |
| [<span data-ttu-id="f6c20-259">LVN \_ ODCACHEHINT</span><span class="sxs-lookup"><span data-stu-id="f6c20-259">LVN\_ODCACHEHINT</span></span>](lvn-odcachehint.md) | <span data-ttu-id="f6c20-260">Uma exibição de lista virtual envia o código de notificação [ \_ ODCACHEHINT LVN](lvn-odcachehint.md) para ajudar na otimização do cache.</span><span class="sxs-lookup"><span data-stu-id="f6c20-260">A virtual list view sends the [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code to assist in optimizing the cache.</span></span> <span data-ttu-id="f6c20-261">O código de notificação fornece valores de índice inclusivos para um intervalo de itens que ele recomenda que sejam armazenados em cache.</span><span class="sxs-lookup"><span data-stu-id="f6c20-261">The notification code provides inclusive index values for a range of items that it recommends be cached.</span></span> <span data-ttu-id="f6c20-262">Ao receber o código de notificação, o proprietário deve estar preparado para carregar o cache com informações de item para o intervalo solicitado para que as informações sejam prontamente disponíveis quando uma mensagem [ \_ GETDISPINFO LVN](lvn-getdispinfo.md) for enviada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-262">Upon receiving the notification code, the owner must be prepared to load the cache with item information for the requested range so that the information will be readily available when an [LVN\_GETDISPINFO](lvn-getdispinfo.md) message is sent.</span></span>                                                                                                                                                                                                                                   |
| [<span data-ttu-id="f6c20-263">LVN \_ ODFINDITEM</span><span class="sxs-lookup"><span data-stu-id="f6c20-263">LVN\_ODFINDITEM</span></span>](lvn-odfinditem.md)   | <span data-ttu-id="f6c20-264">O [código de notificação \_ ODFINDITEM LVN](lvn-odfinditem.md) é enviado por um controle de exibição de lista virtual quando o controle precisa que o proprietário localmente um item de retorno de chamada específico.</span><span class="sxs-lookup"><span data-stu-id="f6c20-264">The [LVN\_ODFINDITEM](lvn-odfinditem.md) notification code is sent by a virtual list-view control when the control needs the owner to find a particular callback item.</span></span> <span data-ttu-id="f6c20-265">O código de notificação é enviado quando o controle de exibição de lista recebe acesso rápido à chave ou quando recebe uma [**mensagem \_ FINDITEM LVM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-265">The notification code is sent when the list-view control receives quick key access or when it receives an [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="f6c20-266">As informações de pesquisa são enviadas na forma de uma estrutura [**LVFINDINFO,**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) que é membro da [**estrutura NMLVFINDITEM.**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema)</span><span class="sxs-lookup"><span data-stu-id="f6c20-266">Search information is sent in the form of an [**LVFINDINFO**](/windows/win32/api/commctrl/ns-commctrl-lvfindinfoa) structure, which is a member of the [**NMLVFINDITEM**](/windows/win32/api/commctrl/ns-commctrl-nmlvfinditema) structure.</span></span> <span data-ttu-id="f6c20-267">O proprietário deve estar preparado para pesquisar um item que corresponde às informações fornecidas pelo controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-267">The owner must be prepared to search for an item that matches the information given by the list-view control.</span></span> <span data-ttu-id="f6c20-268">O proprietário retornará o índice do item se for bem-sucedido ou -1 se nenhum item correspondente for encontrado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-268">The owner returns the index of the item if successful, or -1 if no matching item is found.</span></span>               |



 

### <a name="cache-management"></a><span data-ttu-id="f6c20-269">Gerenciamento de cache</span><span class="sxs-lookup"><span data-stu-id="f6c20-269">Cache Management</span></span>

<span data-ttu-id="f6c20-270">Um controle de exibição de lista com o estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) produz um grande número de códigos de notificação [ \_ GETDISPINFO LVN](lvn-getdispinfo.md) e, para auxiliar na otimização do cache, [uma \_ mensagem LVN ODCACHEHINT.](lvn-odcachehint.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-270">A list-view control with the [**LVS\_OWNERDATA**](list-view-window-styles.md) style produces a large number of [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification codes and, to assist in optimizing the cache, an [LVN\_ODCACHEHINT](lvn-odcachehint.md) message.</span></span> <span data-ttu-id="f6c20-271">\_Mensagens do LVN ODCACHEHINT fornecem informações sobre os itens recomendados a serem incluídos no cache.</span><span class="sxs-lookup"><span data-stu-id="f6c20-271">LVN\_ODCACHEHINT messages provide information about the recommended items to include within the cache.</span></span> <span data-ttu-id="f6c20-272">Essas mensagens são enviadas como mensagens de [**\_ notificação do WM**](wm-notify.md) , com o valor de *lParam* atuando como o endereço de uma estrutura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-272">These messages are sent as [**WM\_NOTIFY**](wm-notify.md) messages, with the *lParam* value acting as the address of an [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure.</span></span>

<span data-ttu-id="f6c20-273">A estrutura [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) inclui dois membros inteiros, **iFrom** e **iTo**, que representam os pontos de extremidade inclusivos de um intervalo de itens que provavelmente serão necessários.</span><span class="sxs-lookup"><span data-stu-id="f6c20-273">The [**NMLVCACHEHINT**](/windows/win32/api/commctrl/ns-commctrl-nmlvcachehint) structure includes two integer members, **iFrom** and **iTo**, that represent the inclusive endpoints of a range of items that most likely will be needed.</span></span> <span data-ttu-id="f6c20-274">O proprietário deve estar preparado para carregar o cache com as informações do item para cada um dos itens dentro do intervalo recomendado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-274">The owner must be prepared to load the cache with the item information for each of the items within the recommended range.</span></span>

<span data-ttu-id="f6c20-275">O controle de lista geralmente precisa de informações de item para o primeiro item (deslocamento 0).</span><span class="sxs-lookup"><span data-stu-id="f6c20-275">The list control often needs item information for the first item (offset 0).</span></span> <span data-ttu-id="f6c20-276">O código de notificação [LVN \_ ODCACHEHINT](lvn-odcachehint.md) talvez nem sempre inclua o item 0, mas ele sempre deve ser incluído no cache.</span><span class="sxs-lookup"><span data-stu-id="f6c20-276">The [LVN\_ODCACHEHINT](lvn-odcachehint.md) notification code might not always include item 0, but it must always be included in the cache.</span></span>

<span data-ttu-id="f6c20-277">Os últimos itens da lista são acessados com frequência.</span><span class="sxs-lookup"><span data-stu-id="f6c20-277">The last items in the list are accessed often.</span></span> <span data-ttu-id="f6c20-278">Portanto, o proprietário talvez queira manter um segundo cache que inclui os itens no final da lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-278">Therefore, the owner might want to keep a second cache that includes the items at the end of the list.</span></span> <span data-ttu-id="f6c20-279">O intervalo solicitado de [LVN \_ ODCACHEHINT](lvn-odcachehint.md) pode ser verificado no cache final para torná-lo disponível automaticamente em vez de recarregar o mesmo intervalo de término a cada vez.</span><span class="sxs-lookup"><span data-stu-id="f6c20-279">The requested range from [LVN\_ODCACHEHINT](lvn-odcachehint.md) can be checked against the end cache to make it available automatically instead of reloading the same end range each time.</span></span>

## <a name="list-view-working-areas"></a><span data-ttu-id="f6c20-280">List-View áreas de trabalho</span><span class="sxs-lookup"><span data-stu-id="f6c20-280">List-View Working Areas</span></span>

<span data-ttu-id="f6c20-281">Os controles de exibição de lista dão suporte a áreas de trabalho, que são áreas virtuais retangulares que o controle de exibição de lista usa para organizar seus itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-281">List-view controls support working areas, which are rectangular virtual areas that the list-view control uses to arrange its items.</span></span> <span data-ttu-id="f6c20-282">Uma área de trabalho não é uma janela e não pode ter uma borda visível.</span><span class="sxs-lookup"><span data-stu-id="f6c20-282">A working area is not a window and cannot have a visible border.</span></span> <span data-ttu-id="f6c20-283">Por padrão, o controle de exibição de lista não tem áreas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-283">By default, the list-view control has no working areas.</span></span> <span data-ttu-id="f6c20-284">Ao criar uma área de trabalho, você pode criar uma borda vazia à esquerda, à parte superior ou à direita dos itens ou fazer com que uma barra de rolagem horizontal seja exibida quando normalmente não haveria uma.</span><span class="sxs-lookup"><span data-stu-id="f6c20-284">By creating a working area, you can create an empty border on the left, top, or right of the items or cause a horizontal scroll bar to be displayed when there normally would not be one.</span></span>

<span data-ttu-id="f6c20-285">Quando uma área de trabalho é criada, os itens que residem na área de trabalho se tornam membros da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-285">When a working area is created, items that lie within the working area become members of the working area.</span></span> <span data-ttu-id="f6c20-286">Da mesma forma, se um item for movido para uma área de trabalho, o item se tornará um membro dessa área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-286">Similarly, if an item is moved into a working area, the item becomes a member of that working area.</span></span> <span data-ttu-id="f6c20-287">Se um item não estiver em nenhuma área de trabalho, ele se tornará automaticamente um membro da primeira área de trabalho (índice 0).</span><span class="sxs-lookup"><span data-stu-id="f6c20-287">If an item does not lie within any working area, it automatically becomes a member of the first (index 0) working area.</span></span> <span data-ttu-id="f6c20-288">Para colocar o novo item em uma área de trabalho específica, primeiro você deve criar o item e, em seguida, usar a mensagem [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) ou [**LVM \_ SETITEMPOSITION32**](lvm-setitemposition32.md) para movê-lo para a área de trabalho desejada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-288">To place new item within a specific working area, you must first create the item and then use either the [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) or the [**LVM\_SETITEMPOSITION32**](lvm-setitemposition32.md) message to move it into the desired working area.</span></span>

<span data-ttu-id="f6c20-289">A ilustração a seguir é um exemplo de um controle de exibição de lista que contém quatro áreas de trabalho, cada uma em um quadrante diferente da área do cliente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-289">The following illustration is an example of a list-view control that contains four working areas, each in a different quadrant of the client area.</span></span>

![captura de tela de um controle de exibição de lista com uma área de trabalho em cada quadrante da área do cliente](images/working.jpg)

<span data-ttu-id="f6c20-291">Várias áreas de trabalho podem ser usadas para criar áreas diferentes em uma exibição.</span><span class="sxs-lookup"><span data-stu-id="f6c20-291">Multiple working areas can be used for creating different areas within one view.</span></span> <span data-ttu-id="f6c20-292">Você pode criar áreas em uma única exibição que têm significados diferentes.</span><span class="sxs-lookup"><span data-stu-id="f6c20-292">You can create areas in a single view that have different meanings.</span></span> <span data-ttu-id="f6c20-293">Por exemplo, uma exibição de um sistema de arquivos pode ter uma área para arquivos de leitura/gravação e outra área para arquivos somente leitura.</span><span class="sxs-lookup"><span data-stu-id="f6c20-293">For example, a view of a file system might have an area for read/write files and another area for read-only files.</span></span> <span data-ttu-id="f6c20-294">O usuário pode categorizar itens colocando-os em diferentes áreas de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-294">The user can categorize items by placing them in different working areas.</span></span> <span data-ttu-id="f6c20-295">Se um arquivo for movido para a área somente leitura, ele se tornará automaticamente somente leitura.</span><span class="sxs-lookup"><span data-stu-id="f6c20-295">If a file is moved into the read-only area, it will automatically become read-only.</span></span>

<span data-ttu-id="f6c20-296">Várias áreas de trabalho podem intersecção, mas todos os itens que estão dentro da interseção tornam-se membros da área com o índice inferior; portanto, é melhor evitar essa situação.</span><span class="sxs-lookup"><span data-stu-id="f6c20-296">Multiple working areas can intersect, but any items that lie within the intersection become members of the area with the lower index; therefore, it is best to avoid this situation.</span></span> <span data-ttu-id="f6c20-297">Ao classificar várias áreas de trabalho, os itens são classificação em comparação com os outros itens na mesma área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-297">When sorting multiple work areas, the items are sorted compared to the other items in the same working area.</span></span>

<span data-ttu-id="f6c20-298">O número de áreas de trabalho pode ser recuperado com a mensagem [**\_ GETNUMBEROFWORKAREAS LVM.**](lvm-getnumberofworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-298">The number of working areas can be retrieved with the [**LVM\_GETNUMBEROFWORKAREAS**](lvm-getnumberofworkareas.md) message.</span></span> <span data-ttu-id="f6c20-299">As áreas de trabalho são alteradas com a mensagem [**LVM \_ SETWORKAREAS**](lvm-setworkareas.md) e podem ser recuperadas com a mensagem [**\_ GETWORKAREAS LVM.**](lvm-getworkareas.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-299">The working areas are changed with the [**LVM\_SETWORKAREAS**](lvm-setworkareas.md) message and can be retrieved with the [**LVM\_GETWORKAREAS**](lvm-getworkareas.md) message.</span></span> <span data-ttu-id="f6c20-300">Ambas as mensagens levam o endereço de uma matriz de estruturas [**RECT**](/previous-versions//dd162897(v=vs.85)) como *o lParam* e o número de estruturas **RECT** como *o wParam*.</span><span class="sxs-lookup"><span data-stu-id="f6c20-300">Both of these messages take the address of an array of [**RECT**](/previous-versions//dd162897(v=vs.85)) structures as the *lParam* and the number of **RECT** structures as the *wParam*.</span></span> <span data-ttu-id="f6c20-301">Os membros **esquerdo** e **superior** dessas estruturas especificam as coordenadas do canto superior esquerdo (a origem) da área de trabalho e os membros **direito** e **inferior** especificam o canto inferior direito da área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="f6c20-301">The **left** and **top** members of these structures specify the coordinates of the upper-left corner (the origin) of the working area, and the **right** and **bottom** members specify the lower-right corner of the working area.</span></span> <span data-ttu-id="f6c20-302">Todas as coordenadas estão nas coordenadas do cliente da exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-302">All the coordinates are in client coordinates of the list view.</span></span> <span data-ttu-id="f6c20-303">O número máximo de áreas de trabalho permitidas é definido pelo valor de **\_ \_ WORKAREAS Max LV** .</span><span class="sxs-lookup"><span data-stu-id="f6c20-303">The maximum number of working areas allowed is defined by the **LV\_MAX\_WORKAREAS** value.</span></span>

<span data-ttu-id="f6c20-304">A alteração da área de trabalho não tem efeito nos controles de exibição de lista que têm a [**\_ lista de LVS**](list-view-window-styles.md) ou a exibição de [**\_ relatório LVS**](list-view-window-styles.md) , mas as áreas de trabalho serão mantidas quando o tipo de exibição for alterado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-304">Changing the working area has no effect on list-view controls that have the [**LVS\_LIST**](list-view-window-styles.md) or [**LVS\_REPORT**](list-view-window-styles.md) view, but the working areas will be maintained when the view type is changed.</span></span> <span data-ttu-id="f6c20-305">Com as exibições [**\_ ícone LVS**](list-view-window-styles.md) e [**LVS \_ SMALLICON**](list-view-window-styles.md) , a área de trabalho pode ser modificada para alterar a forma como os itens são exibidos.</span><span class="sxs-lookup"><span data-stu-id="f6c20-305">With the [**LVS\_ICON**](list-view-window-styles.md) and [**LVS\_SMALLICON**](list-view-window-styles.md) views, the working area can be modified to change the way the items are displayed.</span></span> <span data-ttu-id="f6c20-306">Tornar a largura da área de trabalho (direita esquerda) maior que a largura do cliente do controle faz com que os itens sejam encapsulados nessa largura e a barra de rolagem horizontal seja exibida.</span><span class="sxs-lookup"><span data-stu-id="f6c20-306">Making the width of the working area (right - left) greater than the client width of the control causes the items to be wrapped at that width and the horizontal scroll bar to be displayed.</span></span> <span data-ttu-id="f6c20-307">Tornar a largura da área de trabalho mais estreita do que a largura da área do cliente do controle faz com que os itens sejam encapsulados na área de trabalho e não na área do cliente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-307">Making the width of the working area narrower than the width of the control's client area causes the items to be wrapped within the working area and not the client area.</span></span> <span data-ttu-id="f6c20-308">Definir o membro **esquerdo** ou **superior** como um valor positivo faz com que os itens sejam exibidos começando na área de trabalho, criando um espaço vazio entre a borda do controle e os itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-308">Setting the **left** or **top** member to a positive value causes the items to be displayed starting at the working area, creating an empty space between the edge of the control and the items.</span></span> <span data-ttu-id="f6c20-309">Um espaço vazio também pode ser criado entre a borda direita do controle e os itens, tornando a largura da área de trabalho menor que a largura do cliente do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-309">An empty space can also be created between the right edge of the control and the items by making the width of the working area less than the client width of the control.</span></span>

## <a name="list-view-image-lists"></a><span data-ttu-id="f6c20-310">List-View listas de imagens</span><span class="sxs-lookup"><span data-stu-id="f6c20-310">List-View Image Lists</span></span>

<span data-ttu-id="f6c20-311">Por padrão, um controle de exibição de lista não exibe imagens de item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-311">By default, a list-view control does not display item images.</span></span> <span data-ttu-id="f6c20-312">Para exibir imagens de itens, você deve criar listas de imagens e associá-las ao controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-312">To display item images, you must create image lists and associate them with the control.</span></span> <span data-ttu-id="f6c20-313">Um controle de exibição de lista pode ter três listas de imagens:</span><span class="sxs-lookup"><span data-stu-id="f6c20-313">A list-view control can have three image lists:</span></span>

-   <span data-ttu-id="f6c20-314">Uma lista de imagens que contém ícones de tamanho completo exibidos quando o controle está no modo de exibição de ícones.</span><span class="sxs-lookup"><span data-stu-id="f6c20-314">An image list that contains full-sized icons displayed when the control is in icon view.</span></span>
-   <span data-ttu-id="f6c20-315">Uma lista de imagens que contém ícones pequenos exibidos quando o controle está na exibição de ícones pequenos, na exibição de lista ou no modo de exibição de relatório.</span><span class="sxs-lookup"><span data-stu-id="f6c20-315">An image list that contains small icons displayed when the control is in small icon view, list view, or report view.</span></span>
-   <span data-ttu-id="f6c20-316">Uma lista de imagens que contém imagens de estado, que são exibidas à esquerda do ícone de tamanho completo ou pequeno.</span><span class="sxs-lookup"><span data-stu-id="f6c20-316">An image list that contains state images, which are displayed to the left of the full-sized or small icon.</span></span> <span data-ttu-id="f6c20-317">Você pode usar imagens de estado, como caixas de seleção marcadas e des limpas, para indicar estados de item definidos pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-317">You can use state images, such as checked and cleared check boxes, to indicate application-defined item states.</span></span> <span data-ttu-id="f6c20-318">As imagens de estado são exibidas na exibição de ícone, exibição de ícone pequeno, exibição de lista e exibição de relatório.</span><span class="sxs-lookup"><span data-stu-id="f6c20-318">State images are displayed in icon view, small icon view, list view, and report view.</span></span>

<span data-ttu-id="f6c20-319">As listas de imagens de ícone de tamanho completo e pequeno também podem conter imagens de sobreposição, que são projetadas para serem desenhadas de forma transparente sobre os ícones de item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-319">The full-sized and small icon image lists can also contain *overlay images*, which are designed to be drawn transparently over the item icons.</span></span>

<span data-ttu-id="f6c20-320">Para usar imagens de sobreposição em um controle de exibição de lista:</span><span class="sxs-lookup"><span data-stu-id="f6c20-320">To use overlay images in a list-view control:</span></span>

1.  <span data-ttu-id="f6c20-321">Chame a [**função ImageList \_ SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) para atribuir um índice de imagem de sobreposição a uma imagem nas listas de imagens de ícone pequeno e de tamanho completo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-321">Call the [**ImageList\_SetOverlayImage**](/windows/desktop/api/Commctrl/nf-commctrl-imagelist_setoverlayimage) function to assign an overlay image index to an image in the full-sized and small icon image lists.</span></span> <span data-ttu-id="f6c20-322">Uma imagem de sobreposição é identificada por um índice baseado em um.</span><span class="sxs-lookup"><span data-stu-id="f6c20-322">An overlay image is identified by a one-based index.</span></span>
2.  <span data-ttu-id="f6c20-323">Você pode associar um índice de imagem de sobreposição a um item ao chamar a macro [**ListView \_ InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) ou [**ListView \_ SetItem.**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem)</span><span class="sxs-lookup"><span data-stu-id="f6c20-323">You can associate an overlay image index with an item when you call the [**ListView\_InsertItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_insertitem) or [**ListView\_SetItem**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setitem) macro.</span></span> <span data-ttu-id="f6c20-324">Use a [**macro INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) para especificar um  índice de imagem de sobreposição no membro de estado da estrutura [**LVITEM do**](/windows/win32/api/commctrl/ns-commctrl-lvitema) item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-324">Use the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro to specify an overlay image index in the **state** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="f6c20-325">Você também deve definir os bits [**\_ OVERLAYMASK LVIS**](list-view-item-states.md) no **membro stateMask.**</span><span class="sxs-lookup"><span data-stu-id="f6c20-325">You must also set the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) bits in the **stateMask** member.</span></span>

<span data-ttu-id="f6c20-326">Se uma lista de imagens de estado for especificada, um controle de exibição de lista reserva espaço à esquerda do ícone de cada item para uma imagem de estado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-326">If a state image list is specified, a list-view control reserves space to the left of each item's icon for a state image.</span></span>

<span data-ttu-id="f6c20-327">Para associar uma imagem de estado a um item, use a macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) para especificar um índice de imagem de estado no membro de estado da [**estrutura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema) </span><span class="sxs-lookup"><span data-stu-id="f6c20-327">To associate a state image with an item, use the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro to specify a state image index in the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="f6c20-328">O índice identifica uma imagem na lista de imagens de estado do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-328">The index identifies an image in the control's state image list.</span></span> <span data-ttu-id="f6c20-329">Embora os índices de lista de imagens sejam baseados em zero, o controle usa índices baseados em um para identificar imagens de estado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-329">Although image list indexes are zero-based, the control uses one-based indexes to identify state images.</span></span> <span data-ttu-id="f6c20-330">Um índice de imagem de estado de zero indica que um item não tem nenhuma imagem de estado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-330">A state image index of zero indicates that an item has no state image.</span></span>

<span data-ttu-id="f6c20-331">Por padrão, quando um controle de exibição de lista é destruído, ele destrói as listas de imagens atribuídas a ele.</span><span class="sxs-lookup"><span data-stu-id="f6c20-331">By default, when a list-view control is destroyed, it destroys the image lists assigned to it.</span></span> <span data-ttu-id="f6c20-332">No entanto, se um controle de exibição de lista tiver o estilo de janela [**LVS \_ SHAREIMAGELISTS,**](list-view-window-styles.md) o aplicativo será responsável por destruir as listas de imagens quando elas não estão mais em uso.</span><span class="sxs-lookup"><span data-stu-id="f6c20-332">However, if a list-view control has the [**LVS\_SHAREIMAGELISTS**](list-view-window-styles.md) window style, the application is responsible for destroying the image lists when they are no longer in use.</span></span> <span data-ttu-id="f6c20-333">Você deve especificar esse estilo se atribuir as mesmas listas de imagens a vários controles de exibição de lista; caso contrário, mais de um controle poderá tentar destruir a mesma lista de imagens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-333">You should specify this style if you assign the same image lists to multiple list-view controls; otherwise, more than one control might try to destroy the same image list.</span></span>

## <a name="list-view-items-and-subitems"></a><span data-ttu-id="f6c20-334">Itens de List-View e subitens</span><span class="sxs-lookup"><span data-stu-id="f6c20-334">List-View Items and Subitems</span></span>

<span data-ttu-id="f6c20-335">Cada item em um controle de exibição de lista tem um ícone, um rótulo, um estado atual e um valor definido pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-335">Each item in a list-view control has an icon, a label, a current state, and an application-defined value.</span></span> <span data-ttu-id="f6c20-336">Usando mensagens de exibição de lista, você pode adicionar, modificar e excluir itens, bem como recuperar informações sobre itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-336">By using list-view messages, you can add, modify, and delete items as well as retrieve information about items.</span></span>

<span data-ttu-id="f6c20-337">Cada item pode ter um ou mais *subitens*.</span><span class="sxs-lookup"><span data-stu-id="f6c20-337">Each item can have one or more *subitems*.</span></span> <span data-ttu-id="f6c20-338">Um subitem é uma cadeia de caracteres que, na exibição de relatório, é exibida em uma coluna separada do ícone e do rótulo do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-338">A subitem is a string that, in report view, is displayed in a column separate from the item's icon and label.</span></span> <span data-ttu-id="f6c20-339">Para especificar o texto de um subitem, use a mensagem [**LVM \_ SETITEMTEXT**](lvm-setitemtext.md) ou [**LVM \_ SETITEM**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-339">To specify the text of a subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) or [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="f6c20-340">Todos os itens em um controle de exibição de lista têm o mesmo número de subitens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-340">All items in a list-view control have the same number of subitems.</span></span> <span data-ttu-id="f6c20-341">O número de subitens é determinado pelo número de colunas no controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-341">The number of subitems is determined by the number of columns in the list-view control.</span></span> <span data-ttu-id="f6c20-342">Quando você adiciona uma coluna a um controle de exibição de lista, especifica seu índice de subitem associado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-342">When you add a column to a list-view control, you specify its associated subitem index.</span></span>

<span data-ttu-id="f6c20-343">A estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) define um item de exibição de lista ou subitem.</span><span class="sxs-lookup"><span data-stu-id="f6c20-343">The [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure defines a list-view item or subitem.</span></span> <span data-ttu-id="f6c20-344">O membro **iItem** é o índice de base zero do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-344">The **iItem** member is the zero-based index of the item.</span></span> <span data-ttu-id="f6c20-345">O membro **iSubItem** é o índice baseado em um de subitem ou zero se a estrutura contiver informações sobre um item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-345">The **iSubItem** member is the one-based index of a subitem or zero if the structure contains information about an item.</span></span> <span data-ttu-id="f6c20-346">Membros adicionais especificam os dados de texto, ícone, estado e item do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-346">Additional members specify the item's text, icon, state, and item data.</span></span> <span data-ttu-id="f6c20-347">*Os dados do item* são um valor definido pelo aplicativo associado a um item de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-347">*Item data* is an application-defined value associated with a list-view item.</span></span>

<span data-ttu-id="f6c20-348">Para adicionar um item a um controle de exibição de lista, use a mensagem [**\_ INSERTITEM LVM**](lvm-insertitem.md) , especificando o endereço de uma estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-348">To add an item to a list-view control, use the [**LVM\_INSERTITEM**](lvm-insertitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="f6c20-349">Antes de adicionar vários itens, você pode enviar ao controle uma mensagem do [**LVM \_ setitemcount**](lvm-setitemcount.md) , especificando o número de itens que o controle terá, em última análise.</span><span class="sxs-lookup"><span data-stu-id="f6c20-349">Before adding multiple items, you can send the control an [**LVM\_SETITEMCOUNT**](lvm-setitemcount.md) message, specifying the number of items the control will ultimately contain.</span></span> <span data-ttu-id="f6c20-350">Essa mensagem permite que o controle de exibição de lista realoque suas estruturas de dados internas apenas uma vez, em vez de cada vez que você adiciona um item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-350">This message enables the list-view control to reallocate its internal data structures only once rather than every time you add an item.</span></span> <span data-ttu-id="f6c20-351">Você pode determinar o número de itens em um controle de exibição de lista usando a mensagem [**LVM \_ GetItemCount**](lvm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-351">You can determine the number of items in a list-view control by using the [**LVM\_GETITEMCOUNT**](lvm-getitemcount.md) message.</span></span> <span data-ttu-id="f6c20-352">Se você estiver adicionando um grande número de itens a um controle de exibição de lista, poderá acelerar o processo desabilitando o redesenho antes de adicionar os itens e, em seguida, habilitar o redesenho depois que os itens são adicionados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-352">If you are adding a large number of items to a list-view control, you can speed up the process by disabling redrawing before adding the items, then enable redrawing after the items are added.</span></span> <span data-ttu-id="f6c20-353">Use a [**mensagem WM \_ SETREDRAW**](/windows/desktop/gdi/wm-setredraw) para habilitar e desabilitar o redesenhar.</span><span class="sxs-lookup"><span data-stu-id="f6c20-353">Use the [**WM\_SETREDRAW**](/windows/desktop/gdi/wm-setredraw) message to enable and disable redrawing.</span></span>

<span data-ttu-id="f6c20-354">Para alterar os atributos de um item de exibição de lista, use a mensagem [**LVM \_ SETITEM,**](lvm-setitem.md) especificando o endereço de uma [**estrutura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="f6c20-354">To change the attributes of a list-view item, use the [**LVM\_SETITEM**](lvm-setitem.md) message, specifying the address of an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="f6c20-355">O **membro** de máscara dessa estrutura especifica os atributos de item que você deseja alterar.</span><span class="sxs-lookup"><span data-stu-id="f6c20-355">The **mask** member of this structure specifies the item attributes you want to change.</span></span> <span data-ttu-id="f6c20-356">Por exemplo, para alterar apenas o texto de um item ou subitem, use a [**mensagem LVM \_ SETITEMTEXT.**](lvm-setitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-356">For example, to change only the text of an item or subitem, use the [**LVM\_SETITEMTEXT**](lvm-setitemtext.md) message.</span></span>

<span data-ttu-id="f6c20-357">Para recuperar informações sobre um item de exibição de lista, use a mensagem [**\_ GETITEM LVM,**](lvm-getitem.md) especificando o endereço da estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) a ser preenchida.</span><span class="sxs-lookup"><span data-stu-id="f6c20-357">To retrieve information about a list-view item, use the [**LVM\_GETITEM**](lvm-getitem.md) message, specifying the address of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to fill in.</span></span> <span data-ttu-id="f6c20-358">O **membro** de máscara dessa estrutura especifica os atributos de item a serem recuperados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-358">The **mask** member of this structure specifies the item attributes to be retrieved.</span></span> <span data-ttu-id="f6c20-359">Para recuperar apenas um item ou o texto do subitem, use a [**mensagem LVM \_ GETITEMTEXT.**](lvm-getitemtext.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-359">To retrieve only an item or subitem's text, use the [**LVM\_GETITEMTEXT**](lvm-getitemtext.md) message.</span></span>

<span data-ttu-id="f6c20-360">Para excluir um item de exibição de lista, use a [**mensagem LVM \_ DELETEITEM.**](lvm-deleteitem.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-360">To delete a list-view item, use the [**LVM\_DELETEITEM**](lvm-deleteitem.md) message.</span></span> <span data-ttu-id="f6c20-361">Você pode excluir todos os itens em um controle de exibição de lista usando a [**mensagem LVM \_ DELETEALLITEMS.**](lvm-deleteallitems.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-361">You can delete all items in a list-view control by using the [**LVM\_DELETEALLITEMS**](lvm-deleteallitems.md) message.</span></span>

### <a name="list-view-item-states"></a><span data-ttu-id="f6c20-362">List-View de item</span><span class="sxs-lookup"><span data-stu-id="f6c20-362">List-View Item States</span></span>

<span data-ttu-id="f6c20-363">O estado de um item é um valor que especifica a disponibilidade do item, indica ações do usuário ou, de outra forma, reflete o status do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-363">An item's state is a value that specifies the item's availability, indicates user actions, or otherwise reflects the item's status.</span></span> <span data-ttu-id="f6c20-364">Um controle de exibição de lista altera alguns bits de estado, como quando o usuário seleciona um item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-364">A list-view control changes some state bits, such as when the user selects an item.</span></span> <span data-ttu-id="f6c20-365">Um aplicativo pode alterar outros bits de estado para desabilitar ou ocultar o item ou especificar uma imagem de sobreposição ou imagem de estado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-365">An application might change other state bits to disable or hide the item or to specify an overlay image or state image.</span></span> <span data-ttu-id="f6c20-366">Para obter mais informações sobre imagens de sobreposição e imagens de estado, consulte [List-View Image Lists](#list-view-image-lists).</span><span class="sxs-lookup"><span data-stu-id="f6c20-366">For more information about overlay images and state images, see [List-View Image Lists](#list-view-image-lists).</span></span>

<span data-ttu-id="f6c20-367">O estado de um item é especificado pelo membro **de** estado da [**estrutura LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="f6c20-367">An item's state is specified by the **state** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span> <span data-ttu-id="f6c20-368">Quando você especifica ou altera o estado de um item, o membro **stateMask** especifica quais bits de estado você precisa alterar.</span><span class="sxs-lookup"><span data-stu-id="f6c20-368">When you specify or change an item's state, the **stateMask** member specifies which state bits you need to change.</span></span> <span data-ttu-id="f6c20-369">Você pode alterar o estado de um item usando a [**mensagem LVM \_ SETITEMSTATE.**](lvm-setitemstate.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-369">You can change an item's state by using the [**LVM\_SETITEMSTATE**](lvm-setitemstate.md) message.</span></span> <span data-ttu-id="f6c20-370">Você pode especificar o estado de um item ao criá-lo ou ao alterar seus atributos usando a mensagem [**LVM \_ SETITEM**](lvm-setitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-370">You can specify an item's state when you create it or when you change its attributes by using the [**LVM\_SETITEM**](lvm-setitem.md) message.</span></span> <span data-ttu-id="f6c20-371">Para determinar o estado atual de um item, use a mensagem [**LVM \_ GetItemState**](lvm-getitemstate.md) ou [**LVM \_ GETITEM**](lvm-getitem.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-371">To determine an item's current state, use the [**LVM\_GETITEMSTATE**](lvm-getitemstate.md) or [**LVM\_GETITEM**](lvm-getitem.md) message.</span></span>

<span data-ttu-id="f6c20-372">Para definir a imagem de sobreposição de um item, o membro **stateMask** da estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve incluir o valor [**LVIS \_ OVERLAYMASK**](list-view-item-states.md) e o membro de **estado** deve incluir o índice baseado em um da imagem de sobreposição deslocada 8 bits à esquerda usando a macro [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-372">To set an item's overlay image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_OVERLAYMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the overlay image shifted left 8 bits by using the [**INDEXTOOVERLAYMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextooverlaymask) macro.</span></span> <span data-ttu-id="f6c20-373">O índice pode ser zero para não especificar nenhuma imagem de sobreposição.</span><span class="sxs-lookup"><span data-stu-id="f6c20-373">The index can be zero to specify no overlay image.</span></span>

<span data-ttu-id="f6c20-374">Para definir a imagem de estado de um item, o membro **stateMask** da estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) deve incluir o valor [**LVIS \_ STATEIMAGEMASK**](list-view-item-states.md) e o membro de **estado** deve incluir o índice baseado em um da imagem de estado deslocada 12 bits para a esquerda usando a macro [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-374">To set an item's state image, the **stateMask** member of the [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure must include the [**LVIS\_STATEIMAGEMASK**](list-view-item-states.md) value, and the **state** member must include the one-based index of the state image shifted left 12 bits by using the [**INDEXTOSTATEIMAGEMASK**](/windows/desktop/api/Commctrl/nf-commctrl-indextostateimagemask) macro.</span></span> <span data-ttu-id="f6c20-375">O índice pode ser zero para não especificar nenhuma imagem de estado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-375">The index can be zero to specify no state image.</span></span>

### <a name="callback-items-and-the-callback-mask"></a><span data-ttu-id="f6c20-376">Itens e máscara de retorno de chamada</span><span class="sxs-lookup"><span data-stu-id="f6c20-376">Callback Items and the Callback Mask</span></span>

<span data-ttu-id="f6c20-377">Para cada um de seus itens, um controle de exibição de lista normalmente armazena o texto do rótulo, o índice da lista de imagens dos ícones do item e um conjunto de sinalizadores de bits para o estado do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-377">For each of its items, a list-view control typically stores the label text, the image list index of the item's icons, and a set of bit flags for the item's state.</span></span> <span data-ttu-id="f6c20-378">Você pode definir itens de retorno de chamada ou alterar a máscara de retorno de chamada do controle para indicar que o aplicativo, em vez do controle, armazena algumas ou todas essas informações.</span><span class="sxs-lookup"><span data-stu-id="f6c20-378">You can define callback items or change the control's callback mask to indicate that the application, rather than the control, stores some or all of this information.</span></span> <span data-ttu-id="f6c20-379">Talvez você queira usar retornos de chamada se o aplicativo armazenar algumas dessas informações.</span><span class="sxs-lookup"><span data-stu-id="f6c20-379">You might want to use callbacks if your application stores some of this information.</span></span>

<span data-ttu-id="f6c20-380">Um *item de retorno de chamada* em um controle de exibição de lista é um item para o qual o aplicativo armazena o índice de texto ou ícone, ou ambos.</span><span class="sxs-lookup"><span data-stu-id="f6c20-380">A *callback item* in a list-view control is an item for which the application stores the text or icon index, or both.</span></span> <span data-ttu-id="f6c20-381">Você pode definir itens de retorno de chamada ao enviar a mensagem [**\_ INSERTITEM LVM**](lvm-insertitem.md) para adicionar um item ao controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-381">You can define callback items when you send the [**LVM\_INSERTITEM**](lvm-insertitem.md) message to add an item to the list-view control.</span></span> <span data-ttu-id="f6c20-382">Se o aplicativo armazenar o texto para o item ou subitem, defina o membro **pszText** da estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) do item como **LPSTR \_ textcallback**.</span><span class="sxs-lookup"><span data-stu-id="f6c20-382">If the application stores the text for the item or subitem, set the **pszText** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure to **LPSTR\_TEXTCALLBACK**.</span></span> <span data-ttu-id="f6c20-383">Se o aplicativo armazenar o índice de ícone de um item, de definir o membro **iImage** da estrutura **LVITEM** do item como **I \_ IMAGECALLBACK.**</span><span class="sxs-lookup"><span data-stu-id="f6c20-383">If the application stores the icon index for an item, set the **iImage** member of the item's **LVITEM** structure to **I\_IMAGECALLBACK**.</span></span>

<span data-ttu-id="f6c20-384">A *máscara de retorno de* chamada de um controle de exibição de lista é um conjunto de sinalizadores de bits que especificam os estados de item para os quais o aplicativo, em vez do controle, armazena os dados atuais.</span><span class="sxs-lookup"><span data-stu-id="f6c20-384">The *callback mask* of a list-view control is a set of bit flags that specify the item states for which the application, rather than the control, stores the current data.</span></span> <span data-ttu-id="f6c20-385">A máscara de retorno de chamada se aplica a todos os itens do controle, ao contrário da designação de item de retorno de chamada, que se aplica a um item específico.</span><span class="sxs-lookup"><span data-stu-id="f6c20-385">The callback mask applies to all of the control's items, unlike the callback item designation, which applies to a specific item.</span></span> <span data-ttu-id="f6c20-386">A máscara de retorno de chamada é zero por padrão, o que significa que o controle de exibição de lista armazena todas as informações de estado do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-386">The callback mask is zero by default, meaning that the list-view control stores all item state information.</span></span> <span data-ttu-id="f6c20-387">Depois de criar um controle de exibição de lista e inicializar seus itens, você pode enviar a mensagem [**LVM \_ SETCALLBACKMASK**](lvm-setcallbackmask.md) para alterar a máscara de retorno de chamada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-387">After creating a list-view control and initializing its items, you can send the [**LVM\_SETCALLBACKMASK**](lvm-setcallbackmask.md) message to change the callback mask.</span></span> <span data-ttu-id="f6c20-388">Para recuperar a máscara de retorno de chamada atual, envie a [**mensagem \_ GETCALLBACKMASK LVM.**](lvm-getcallbackmask.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-388">To retrieve the current callback mask, send the [**LVM\_GETCALLBACKMASK**](lvm-getcallbackmask.md) message.</span></span>

<span data-ttu-id="f6c20-389">Quando um controle de exibição de lista deve exibir ou classificar um item de exibição de lista para o qual o aplicativo armazena informações de retorno de chamada, o controle envia o código de notificação [ \_ GETDISPINFO LVN](lvn-getdispinfo.md) para a janela pai do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-389">When a list-view control must display or sort a list-view item for which the application stores callback information, the control sends the [LVN\_GETDISPINFO](lvn-getdispinfo.md) notification code to the control's parent window.</span></span> <span data-ttu-id="f6c20-390">Essa mensagem especifica uma estrutura [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) que contém o tipo de informação necessária e identifica o item ou subitem a ser recuperado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-390">This message specifies an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure that contains the type of information required and identifies the item or subitem to retrieve.</span></span> <span data-ttu-id="f6c20-391">A janela pai deve processar LVN \_ GETDISPINFO para fornecer os dados solicitados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-391">The parent window must process LVN\_GETDISPINFO to provide the requested data.</span></span>

<span data-ttu-id="f6c20-392">Se o controle de exibição de lista detectar uma alteração nas informações de retorno de chamada de um item, como uma alteração nas informações de texto, ícone ou estado, o controle enviará um código de notificação [LVN \_ SETDISPINFO](lvn-setdispinfo.md) para notificá-lo sobre a alteração.</span><span class="sxs-lookup"><span data-stu-id="f6c20-392">If the list-view control detects a change in an item's callback information, such as a change in the text, icon, or state information, the control sends an [LVN\_SETDISPINFO](lvn-setdispinfo.md) notification code to notify you of the change.</span></span>

<span data-ttu-id="f6c20-393">Se você alterar os atributos ou os bits de estado de um item de retorno de chamada, use a mensagem [**UPDATE do \_ LVM**](lvm-update.md) para forçar o controle a repintar o item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-393">If you change a callback item's attributes or state bits, you use the [**LVM\_UPDATE**](lvm-update.md) message to force the control to repaint the item.</span></span> <span data-ttu-id="f6c20-394">Essa mensagem também faz com que o controle organize seus itens se ele tiver o [**estilo LVS \_ AUTOARRANGE.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-394">This message also causes the control to arrange its items if it has the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) style.</span></span> <span data-ttu-id="f6c20-395">Você pode usar a mensagem [**LVM \_ REDRA LISTEMS**](lvm-redrawitems.md) para redesenhar um intervalo de itens invalidando as partes correspondentes da área de cliente do controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-395">You can use the [**LVM\_REDRAWITEMS**](lvm-redrawitems.md) message to redraw a range of items by invalidating the corresponding portions of the list-view control's client area.</span></span>

<span data-ttu-id="f6c20-396">Usando efetivamente os itens de retorno de chamada e a máscara de retorno de chamada, você pode garantir que cada atributo de item seja mantido em apenas um local.</span><span class="sxs-lookup"><span data-stu-id="f6c20-396">By effectively using callback items and the callback mask, you can ensure that each item attribute is maintained in only one place.</span></span> <span data-ttu-id="f6c20-397">Fazer isso pode simplificar seu aplicativo, mas o único espaço salvo é a memória que, de outra forma, seria necessária para armazenar rótulos de item e texto de subitem.</span><span class="sxs-lookup"><span data-stu-id="f6c20-397">Doing this can simplify your application, but the only space saved is the memory that would otherwise be required to store item labels and subitem text.</span></span>

### <a name="list-view-item-position"></a><span data-ttu-id="f6c20-398">Posição do item de List-View</span><span class="sxs-lookup"><span data-stu-id="f6c20-398">List-View Item Position</span></span>

<span data-ttu-id="f6c20-399">Cada item de exibição de lista tem uma posição e um tamanho, que você pode recuperar e definir usando mensagens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-399">Every list-view item has a position and size, which you can retrieve and set using messages.</span></span> <span data-ttu-id="f6c20-400">Você também pode determinar qual item, se houver, está em uma posição especificada.</span><span class="sxs-lookup"><span data-stu-id="f6c20-400">You can also determine which item, if any, is at a specified position.</span></span> <span data-ttu-id="f6c20-401">A posição dos itens de exibição de lista é especificada em *coordenadas de exibição*, que são deslocamento de coordenadas de cliente pela posição de rolagem.</span><span class="sxs-lookup"><span data-stu-id="f6c20-401">The position of list-view items is specified in *view coordinates*, which are client coordinates offset by the scroll position.</span></span>

<span data-ttu-id="f6c20-402">Para recuperar e definir a posição de um item, use as mensagens [**LVM \_ GETITEMPOSITION**](lvm-getitemposition.md) e [**LVM \_ SETITEMPOSITION**](lvm-setitemposition.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-402">To retrieve and set an item's position, use the [**LVM\_GETITEMPOSITION**](lvm-getitemposition.md) and [**LVM\_SETITEMPOSITION**](lvm-setitemposition.md) messages.</span></span> <span data-ttu-id="f6c20-403">**LVM \_ O GETITEMPOSITION** funciona para todas as exibições, mas o **LVM \_ SETITEMPOSITION** funciona apenas para exibições de ícone e ícone pequeno.</span><span class="sxs-lookup"><span data-stu-id="f6c20-403">**LVM\_GETITEMPOSITION** works for all views, but **LVM\_SETITEMPOSITION** works only for icon and small icon views.</span></span>

<span data-ttu-id="f6c20-404">Você pode determinar qual item, se houver, está em um local específico usando a mensagem do [**LVM \_ HITTEST**](lvm-hittest.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-404">You can determine which item, if any, is at a particular location by using the [**LVM\_HITTEST**](lvm-hittest.md) message.</span></span>

<span data-ttu-id="f6c20-405">Para recuperar o retângulo delimitador para um item de lista ou apenas para seu ícone ou rótulo, use a mensagem [**LVM \_ GETITEMRECT**](lvm-getitemrect.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-405">To retrieve the bounding rectangle for a list item or only for its icon or label, use the [**LVM\_GETITEMRECT**](lvm-getitemrect.md) message.</span></span>

### <a name="arranging-sorting-and-finding-items"></a><span data-ttu-id="f6c20-406">Organizando, classificando e localizando itens</span><span class="sxs-lookup"><span data-stu-id="f6c20-406">Arranging, Sorting, and Finding Items</span></span>

<span data-ttu-id="f6c20-407">Você pode usar as mensagens de exibição de lista para organizar e classificar itens e para localizar itens com base em seus atributos ou posições.</span><span class="sxs-lookup"><span data-stu-id="f6c20-407">You can use list-view messages to arrange and sort items and to find items based on their attributes or positions.</span></span> <span data-ttu-id="f6c20-408">Organizar os itens de reposicionamento para alinhar em uma grade, mas os índices dos itens não são alterados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-408">Arranging repositions items to align on a grid, but the indexes of the items do not change.</span></span> <span data-ttu-id="f6c20-409">A classificação altera a sequência de itens (e seus índices correspondentes) e os reposiciona adequadamente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-409">Sorting changes the sequence of items (and their corresponding indexes) and then repositions them accordingly.</span></span> <span data-ttu-id="f6c20-410">Você pode organizar itens somente em exibições de ícone e ícone pequeno, mas pode classificar itens em qualquer modo de exibição.</span><span class="sxs-lookup"><span data-stu-id="f6c20-410">You can arrange items only in icon and small icon views, but you can sort items in any view.</span></span> <span data-ttu-id="f6c20-411">Para localizar itens, você envia mensagens de exibição de lista que especificam um local ou uma propriedade do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-411">To find items, you send list-view messages that specify an item location or property.</span></span>

<span data-ttu-id="f6c20-412">Para organizar itens, use a mensagem de [**\_ organização do LVM**](lvm-arrange.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-412">To arrange items, use the [**LVM\_ARRANGE**](lvm-arrange.md) message.</span></span> <span data-ttu-id="f6c20-413">Você pode garantir que os itens sejam organizados em todos os momentos, especificando o estilo de janela de [**\_ AutoOrganizar LVS**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-413">You can ensure that items are arranged at all times by specifying the [**LVS\_AUTOARRANGE**](list-view-window-styles.md) window style.</span></span>

<span data-ttu-id="f6c20-414">Para classificar itens, use a mensagem [**LVM \_ SORTITEMS**](lvm-sortitems.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-414">To sort items, use the [**LVM\_SORTITEMS**](lvm-sortitems.md) message.</span></span> <span data-ttu-id="f6c20-415">Ao classificar usando essa mensagem, você especifica uma função de retorno de chamada definida pelo aplicativo que o controle de exibição de lista chama para comparar a ordem relativa de qualquer dois itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-415">When you sort using this message, you specify an application-defined callback function that the list-view control calls to compare the relative order of any two items.</span></span> <span data-ttu-id="f6c20-416">O controle passa para a função de comparação os dados de item associados a cada um dos dois itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-416">The control passes to the comparison function the item data associated with each of the two items.</span></span> <span data-ttu-id="f6c20-417">Os dados do item são o valor especificado no membro **lParam** da estrutura [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) do item quando eles foram inseridos na lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-417">The item data is the value that was specified in the **lParam** member of the item's [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure when it was inserted into the list.</span></span> <span data-ttu-id="f6c20-418">Especificando os dados de item apropriados e fornecendo uma função de comparação apropriada, você pode classificar itens por seu rótulo, por qualquer subitem ou por qualquer outra propriedade.</span><span class="sxs-lookup"><span data-stu-id="f6c20-418">By specifying the appropriate item data and supplying an appropriate comparison function, you can sort items by their label, by any subitem, or by any other property.</span></span> <span data-ttu-id="f6c20-419">Observe que a classificação de itens não reordena os subitens correspondentes.</span><span class="sxs-lookup"><span data-stu-id="f6c20-419">Note that sorting items does not reorder the corresponding subitems.</span></span> <span data-ttu-id="f6c20-420">Quando os itens são reordenados, seus subitens correspondentes são carregados com eles; ou seja, linhas inteiras são mantidas juntas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-420">When items are reordered, their corresponding subitems are carried with them; that is, whole rows are kept together.</span></span> <span data-ttu-id="f6c20-421">Para ordenar as colunas separadamente umas das outras, desconectando os subitens de seus itens, você deve regenerar as colunas após a classificação usando [**LVM \_ SETITEM**](lvm-setitem.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-421">To order the columns separately from one another, detaching the subitems from their items, you must regenerate the columns after sorting using [**LVM\_SETITEM**](lvm-setitem.md).</span></span>

<span data-ttu-id="f6c20-422">Você pode garantir que um controle de exibição de lista sempre seja classificação especificando o estilo de janela [**LVS \_ SORTASCENDING**](list-view-window-styles.md) ou [**LVS \_ SORTDESCENDING.**](list-view-window-styles.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-422">You can ensure that a list-view control is always sorted by specifying the [**LVS\_SORTASCENDING**](list-view-window-styles.md) or [**LVS\_SORTDESCENDING**](list-view-window-styles.md) window style.</span></span> <span data-ttu-id="f6c20-423">Os controles com esses estilos usam o texto de rótulo dos itens para classiá-los em ordem crescente ou decrescente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-423">Controls with these styles use the label text of the items to sort them in ascending or descending order.</span></span> <span data-ttu-id="f6c20-424">Não é possível fornecer uma função de comparação ao usar esses estilos de janela.</span><span class="sxs-lookup"><span data-stu-id="f6c20-424">You cannot supply a comparison function when using these window styles.</span></span> <span data-ttu-id="f6c20-425">Se um controle de exibição de lista tiver qualquer um desses estilos, uma mensagem [**LVM \_ INSERTITEM**](lvm-insertitem.md) falhará se você tentar inserir um item que tenha **LPSTR \_ TEXTCALLBACK** como o membro **pszText** de sua estrutura [**LVITEM.**](/windows/win32/api/commctrl/ns-commctrl-lvitema)</span><span class="sxs-lookup"><span data-stu-id="f6c20-425">If a list-view control has either of these styles, an [**LVM\_INSERTITEM**](lvm-insertitem.md) message will fail if you try to insert an item that has **LPSTR\_TEXTCALLBACK** as the **pszText** member of its [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure.</span></span>

<span data-ttu-id="f6c20-426">Você pode encontrar um item de exibição de lista com propriedades específicas usando a [**mensagem LVM \_ FINDITEM.**](lvm-finditem.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-426">You can find a list-view item with specific properties by using the [**LVM\_FINDITEM**](lvm-finditem.md) message.</span></span> <span data-ttu-id="f6c20-427">Você pode encontrar um item de exibição de lista que está em um estado especificado e tem uma relação especificada com um determinado item usando a mensagem [**\_ GETNEXTITEM LVM.**](lvm-getnextitem.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-427">You can find a list-view item that is in a specified state and has a specified relationship to a given item by using the [**LVM\_GETNEXTITEM**](lvm-getnextitem.md) message.</span></span> <span data-ttu-id="f6c20-428">Por exemplo, você pode recuperar o próximo item selecionado à direita de um item especificado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-428">For example, you can retrieve the next selected item to the right of a specified item.</span></span>

## <a name="list-view-columns"></a><span data-ttu-id="f6c20-429">List-View colunas</span><span class="sxs-lookup"><span data-stu-id="f6c20-429">List-View Columns</span></span>

<span data-ttu-id="f6c20-430">As colunas controlam a maneira como os itens e seus subitens são exibidos no modo de exibição de relatório.</span><span class="sxs-lookup"><span data-stu-id="f6c20-430">Columns control the way items and their subitems are displayed in report view.</span></span> <span data-ttu-id="f6c20-431">Cada coluna tem um título e uma largura e está associada a um subitem específico; o subitem zero é o ícone e o rótulo do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-431">Each column has a title and width and is associated with a specific subitem; subitem zero is the item's icon and label.</span></span> <span data-ttu-id="f6c20-432">Os atributos de uma coluna são definidos por uma estrutura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-432">The attributes of a column are defined by an [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="f6c20-433">Para adicionar uma coluna a um controle de exibição de lista, use a mensagem [**LVM \_ INSERTCOLUMN**](lvm-insertcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-433">To add a column to a list-view control, use the [**LVM\_INSERTCOLUMN**](lvm-insertcolumn.md) message.</span></span> <span data-ttu-id="f6c20-434">Para excluir uma coluna, use a mensagem [**LVM \_ DELETECOLUMN**](lvm-deletecolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-434">To delete a column, use the [**LVM\_DELETECOLUMN**](lvm-deletecolumn.md) message.</span></span>

> [!Note]  
> <span data-ttu-id="f6c20-435">A exclusão de coluna zero de um controle de exibição de lista tem suporte apenas no ComCtl32.dll versão 6 e posterior.</span><span class="sxs-lookup"><span data-stu-id="f6c20-435">Deleting column zero of a list-view control is supported only in ComCtl32.dll version 6 and later.</span></span> <span data-ttu-id="f6c20-436">A versão 5 também dá suporte à exclusão de coluna zero, mas somente depois de usar [**CCM \_ SetVersion**](ccm-setversion.md) para definir a versão como 5 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="f6c20-436">Version 5 also supports deleting column zero, but only after you use [**CCM\_SETVERSION**](ccm-setversion.md) to set the version to 5 or later.</span></span> <span data-ttu-id="f6c20-437">As versões anteriores à versão 5 não dão suporte à exclusão de coluna zero.</span><span class="sxs-lookup"><span data-stu-id="f6c20-437">Versions prior to version 5 do not support deleting column zero.</span></span>

 

<span data-ttu-id="f6c20-438">Você pode recuperar e alterar as propriedades de uma coluna existente usando as mensagens [**LVM \_ GetColumn**](lvm-getcolumn.md) e [**LVM \_ SetColumn**](lvm-setcolumn.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-438">You can retrieve and change the properties of an existing column by using the [**LVM\_GETCOLUMN**](lvm-getcolumn.md) and [**LVM\_SETCOLUMN**](lvm-setcolumn.md) messages.</span></span> <span data-ttu-id="f6c20-439">Para recuperar ou alterar a largura de uma coluna, use as mensagens [**LVM \_ GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) e [**LVM \_ SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-439">To retrieve or change a column's width, use the [**LVM\_GETCOLUMNWIDTH**](lvm-getcolumnwidth.md) and [**LVM\_SETCOLUMNWIDTH**](lvm-setcolumnwidth.md) messages.</span></span>

<span data-ttu-id="f6c20-440">A menos que o estilo de janela [**LVS \_ nocolumnheader**](list-view-window-styles.md) seja especificado, os cabeçalhos de coluna aparecerão na exibição de relatório.</span><span class="sxs-lookup"><span data-stu-id="f6c20-440">Unless the [**LVS\_NOCOLUMNHEADER**](list-view-window-styles.md) window style is specified, column headers appear in report view.</span></span> <span data-ttu-id="f6c20-441">O usuário pode clicar em um cabeçalho de coluna, fazendo com que um código de notificação [**LVN \_ COLUMNCLICK**](lvn-columnclick.md) seja enviado para a janela pai.</span><span class="sxs-lookup"><span data-stu-id="f6c20-441">The user can click a column header, causing an [**LVN\_COLUMNCLICK**](lvn-columnclick.md) notification code to be sent to the parent window.</span></span> <span data-ttu-id="f6c20-442">Normalmente, a janela pai classifica o controle de exibição de lista pela coluna especificada quando esse clique ocorre.</span><span class="sxs-lookup"><span data-stu-id="f6c20-442">Typically, the parent window sorts the list-view control by the specified column when this clicking occurs.</span></span> <span data-ttu-id="f6c20-443">O usuário também pode arrastar os guias de coluna entre os cabeçalhos para dimensionar as colunas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-443">The user can also drag the column guides between the headers to size the columns.</span></span>

<span data-ttu-id="f6c20-444">Os controles de exibição de lista podem exibir imagens ao lado de títulos de coluna.</span><span class="sxs-lookup"><span data-stu-id="f6c20-444">List-view controls can display images next to column titles.</span></span> <span data-ttu-id="f6c20-445">Para implementar esse recurso, especifique o valor da **\_ imagem LVCF** e atribua o índice da imagem ao membro **iImage** na estrutura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-445">To implement this feature, specify the **LVCF\_IMAGE** value and assign the index of the image to the **iImage** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span>

<span data-ttu-id="f6c20-446">Os controles de exibição de lista podem definir a ordem na qual as colunas são exibidas.</span><span class="sxs-lookup"><span data-stu-id="f6c20-446">List-view controls can set the order in which columns are displayed.</span></span> <span data-ttu-id="f6c20-447">Para implementar esse recurso, especifique o valor do **\_ pedido LVCF** e atribua a ordem da coluna ao membro **iOrder** na estrutura [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-447">To implement this feature, specify the **LVCF\_ORDER** value and assign the column order to the **iOrder** member in the [**LVCOLUMN**](/windows/win32/api/commctrl/ns-commctrl-lvcolumna) structure.</span></span> <span data-ttu-id="f6c20-448">A ordem da coluna é baseada em zero e está na ordem da esquerda para a direita.</span><span class="sxs-lookup"><span data-stu-id="f6c20-448">The column order is zero-based and is in left-to-right order.</span></span> <span data-ttu-id="f6c20-449">Por exemplo, zero indica a coluna mais à esquerda.</span><span class="sxs-lookup"><span data-stu-id="f6c20-449">For example, zero indicates the leftmost column.</span></span>

## <a name="list-view-scroll-position"></a><span data-ttu-id="f6c20-450">List-View posição de rolagem</span><span class="sxs-lookup"><span data-stu-id="f6c20-450">List-View Scroll Position</span></span>

<span data-ttu-id="f6c20-451">A menos que o estilo da janela [**\_ LVS NOSCROLL**](list-view-window-styles.md) seja especificado, um controle de exibição de lista pode ser rolado para mostrar mais itens do que pode caber na área de cliente do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-451">Unless the [**LVS\_NOSCROLL**](list-view-window-styles.md) window style is specified, a list-view control can be scrolled to show more items than can fit in the client area of the control.</span></span> <span data-ttu-id="f6c20-452">Você pode recuperar a posição de rolagem e as informações relacionadas de um controle de exibição de lista, rolar um controle de exibição de lista por uma quantidade especificada ou rolar um controle de exibição de lista para que um item de lista especificado seja visível.</span><span class="sxs-lookup"><span data-stu-id="f6c20-452">You can retrieve a list-view control's scroll position and related information, scroll a list-view control by a specified amount, or scroll a list-view control so that a specified list item is visible.</span></span>

<span data-ttu-id="f6c20-453">Na exibição de ícone ou exibição de ícone pequeno, a posição de rolagem atual é definida pela *origem da exibição*.</span><span class="sxs-lookup"><span data-stu-id="f6c20-453">In icon view or small icon view, the current scroll position is defined by the *view origin*.</span></span> <span data-ttu-id="f6c20-454">A origem da exibição é o conjunto de coordenadas, em relação à área visível do controle de exibição de lista, que correspondem às coordenadas de exibição (0, 0).</span><span class="sxs-lookup"><span data-stu-id="f6c20-454">The view origin is the set of coordinates, relative to the visible area of the list-view control, that correspond to the view coordinates (0, 0).</span></span> <span data-ttu-id="f6c20-455">Para recuperar a origem da exibição atual, use a [**mensagem \_ GETORIGIN LVM.**](lvm-getorigin.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-455">To retrieve the current view origin, use the [**LVM\_GETORIGIN**](lvm-getorigin.md) message.</span></span> <span data-ttu-id="f6c20-456">Essa mensagem deve ser usada somente no ícone ou na exibição de ícone pequeno; ele retorna um erro na exibição de lista ou relatório.</span><span class="sxs-lookup"><span data-stu-id="f6c20-456">This message should be used only in icon or small icon view; it returns an error in list or report view.</span></span>

<span data-ttu-id="f6c20-457">Na exibição de lista ou relatório, a posição de rolagem atual é definida pelo *índice superior.*</span><span class="sxs-lookup"><span data-stu-id="f6c20-457">In list or report view, the current scroll position is defined by the *top index*.</span></span> <span data-ttu-id="f6c20-458">O índice superior é o índice do primeiro item visível no controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-458">The top index is the index of the first visible item in the list-view control.</span></span> <span data-ttu-id="f6c20-459">Para recuperar o índice superior atual, use a [**mensagem \_ GETTOPINDEX LVM.**](lvm-gettopindex.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-459">To retrieve the current top index, use the [**LVM\_GETTOPINDEX**](lvm-gettopindex.md) message.</span></span> <span data-ttu-id="f6c20-460">Essa mensagem retorna um resultado válido somente na exibição de lista ou relatório; ele retorna zero no ícone ou exibição de ícone pequeno.</span><span class="sxs-lookup"><span data-stu-id="f6c20-460">This message returns a valid result only in list or report view; it returns zero in icon or small icon view.</span></span>

<span data-ttu-id="f6c20-461">Você pode usar a mensagem [**\_ GETVIEWRECT LVM**](lvm-getviewrect.md) para recuperar o retângulo delimitador de todos os itens em um controle de exibição de lista, em relação à área visível do controle.</span><span class="sxs-lookup"><span data-stu-id="f6c20-461">You can use the [**LVM\_GETVIEWRECT**](lvm-getviewrect.md) message to retrieve the bounding rectangle of all items in a list-view control, relative to the visible area of the control.</span></span>

<span data-ttu-id="f6c20-462">A [**mensagem \_ GETCOUNTPERPAGE do LVM**](lvm-getcountperpage.md) retorna o número de itens que cabem em uma página do controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-462">The [**LVM\_GETCOUNTPERPAGE**](lvm-getcountperpage.md) message returns the number of items that fit in one page of the list-view control.</span></span> <span data-ttu-id="f6c20-463">Essa mensagem retorna um resultado válido somente nas exibições de lista e relatório; em exibições de ícone e ícone pequeno, ele retorna o número total de itens.</span><span class="sxs-lookup"><span data-stu-id="f6c20-463">This message returns a valid result only in list and report views; in icon and small icon views, it returns the total number of items.</span></span>

<span data-ttu-id="f6c20-464">Para rolar um controle de exibição de lista por um valor específico, use a [**mensagem SCROLL \_ LVM.**](lvm-scroll.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-464">To scroll a list-view control by a specific amount, use the [**LVM\_SCROLL**](lvm-scroll.md) message.</span></span> <span data-ttu-id="f6c20-465">Usando a mensagem [**LVM \_ ENSUREVISIBLE**](lvm-ensurevisible.md) , você pode rolar o controle de exibição de lista, se necessário, para garantir que um item especificado esteja visível.</span><span class="sxs-lookup"><span data-stu-id="f6c20-465">Using the [**LVM\_ENSUREVISIBLE**](lvm-ensurevisible.md) message, you can scroll the list-view control, if necessary, to ensure that a specified item is visible.</span></span>

## <a name="list-view-label-editing"></a><span data-ttu-id="f6c20-466">Edição de rótulo de List-View</span><span class="sxs-lookup"><span data-stu-id="f6c20-466">List-View Label Editing</span></span>

<span data-ttu-id="f6c20-467">Um controle de exibição de lista que tem o estilo de janela [**LVS \_ EDITLABELS**](list-view-window-styles.md) permite que um usuário edite rótulos de item no local.</span><span class="sxs-lookup"><span data-stu-id="f6c20-467">A list-view control that has the [**LVS\_EDITLABELS**](list-view-window-styles.md) window style enables a user to edit item labels in place.</span></span> <span data-ttu-id="f6c20-468">O usuário começa a editar clicando no rótulo de um item que tem o foco.</span><span class="sxs-lookup"><span data-stu-id="f6c20-468">The user begins editing by clicking the label of an item that has the focus.</span></span> <span data-ttu-id="f6c20-469">Como alternativa, um aplicativo pode começar a ser editado automaticamente usando a mensagem [**LVM \_ EDITLABEL**](lvm-editlabel.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-469">Alternatively, an application can begin editing automatically by using the [**LVM\_EDITLABEL**](lvm-editlabel.md) message.</span></span> <span data-ttu-id="f6c20-470">O controle List-View notifica a janela pai quando a edição começa e quando é cancelada ou concluída.</span><span class="sxs-lookup"><span data-stu-id="f6c20-470">The list-view control notifies the parent window when editing begins and when it is canceled or completed.</span></span> <span data-ttu-id="f6c20-471">Quando a edição for concluída, a janela pai será responsável por atualizar o rótulo do item, se apropriado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-471">When editing is completed, the parent window is responsible for updating the item's label, if appropriate.</span></span>

<span data-ttu-id="f6c20-472">Quando o rótulo é iniciado, um [controle de edição](edit-controls.md) é criado, posicionado e inicializado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-472">When label editing begins, an [edit control](edit-controls.md) is created, positioned, and initialized.</span></span> <span data-ttu-id="f6c20-473">Antes de ser exibida, o controle List-View envia à janela pai um código de notificação [LVN \_ BEGINLABELEDIT](lvn-beginlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-473">Before it is displayed, the list-view control sends its parent window an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification code.</span></span> <span data-ttu-id="f6c20-474">Se você precisar modificar o processo de edição de rótulo, poderá implementar um manipulador para essa notificação.</span><span class="sxs-lookup"><span data-stu-id="f6c20-474">If you need to modify the label editing process, you can implement a handler for this notification.</span></span>

<span data-ttu-id="f6c20-475">Um uso para um manipulador de notificação [LVN \_ BEGINLABELEDIT](lvn-beginlabeledit.md) é controlar quais rótulos o usuário pode editar.</span><span class="sxs-lookup"><span data-stu-id="f6c20-475">One use for an [LVN\_BEGINLABELEDIT](lvn-beginlabeledit.md) notification handler is to control which labels the user can edit.</span></span> <span data-ttu-id="f6c20-476">Para impedir a edição do rótulo, retorne um valor diferente de zero.</span><span class="sxs-lookup"><span data-stu-id="f6c20-476">To prevent label editing, return a nonzero value.</span></span> <span data-ttu-id="f6c20-477">Para personalizar a edição de rótulo, faça com que o manipulador de notificação recupere um identificador para o controle de edição enviando uma mensagem [**LVM \_ GETEDITCONTROL**](lvm-geteditcontrol.md) para o controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-477">To customize label editing, have the notification handler retrieve a handle to the edit control by sending an [**LVM\_GETEDITCONTROL**](lvm-geteditcontrol.md) message to the list-view control.</span></span> <span data-ttu-id="f6c20-478">Quando você tiver esse identificador, poderá personalizar o controle de edição enviando as mensagens usuais em \_ xxx.</span><span class="sxs-lookup"><span data-stu-id="f6c20-478">Once you have that handle, you can customize the edit control by sending the usual EM\_XXX messages.</span></span> <span data-ttu-id="f6c20-479">Por exemplo, para limitar a quantidade de texto que um usuário pode inserir, envie o controle de edição uma mensagem em [**\_ LIMITTEXT**](em-limittext.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-479">For instance, to limit the amount of text a user can enter, send the edit control an [**EM\_LIMITTEXT**](em-limittext.md) message.</span></span> <span data-ttu-id="f6c20-480">Você pode alterar o texto padrão do controle de edição com [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span><span class="sxs-lookup"><span data-stu-id="f6c20-480">You can change the edit control's default text with [**SetWindowText**](/windows/desktop/api/winuser/nf-winuser-setwindowtexta).</span></span> <span data-ttu-id="f6c20-481">Você pode até mesmo subclasse do controle de edição para interceptar e descartar caracteres inválidos.</span><span class="sxs-lookup"><span data-stu-id="f6c20-481">You can even subclass the edit control to intercept and discard invalid characters.</span></span>

<span data-ttu-id="f6c20-482">Quando a edição de rótulo é cancelada ou concluída, um controle de exibição de lista envia sua janela pai um código de notificação [LVN \_ ENDLABELEDIT](lvn-endlabeledit.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-482">When label editing is canceled or completed, a list-view control sends its parent window an [LVN\_ENDLABELEDIT](lvn-endlabeledit.md) notification code.</span></span> <span data-ttu-id="f6c20-483">O *parâmetro lParam* é o endereço de uma [**estrutura NMLVDISPINFO.**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa)</span><span class="sxs-lookup"><span data-stu-id="f6c20-483">The *lParam* parameter is the address of an [**NMLVDISPINFO**](/windows/win32/api/commctrl/ns-commctrl-nmlvdispinfoa) structure.</span></span> <span data-ttu-id="f6c20-484">O **membro** do item dessa estrutura é uma [**estrutura LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) cujo membro **iItem** identifica o item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-484">The **item** member of this structure is an [**LVITEM**](/windows/win32/api/commctrl/ns-commctrl-lvitema) structure whose **iItem** member identifies the item.</span></span> <span data-ttu-id="f6c20-485">Se a edição for cancelada, o **membro pszText** da estrutura **LVITEM** será **NULL**; caso contrário, **pszText** é o endereço do texto editado.</span><span class="sxs-lookup"><span data-stu-id="f6c20-485">If editing is canceled, the **pszText** member of the **LVITEM** structure is **NULL**; otherwise, **pszText** is the address of the edited text.</span></span> <span data-ttu-id="f6c20-486">A janela pai será responsável por atualizar o rótulo do item se quiser manter o novo rótulo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-486">The parent window is responsible for updating the item's label if it wants to keep the new label.</span></span>

## <a name="list-view-colors"></a><span data-ttu-id="f6c20-487">List-View cores</span><span class="sxs-lookup"><span data-stu-id="f6c20-487">List-View Colors</span></span>

<span data-ttu-id="f6c20-488">Um aplicativo pode recuperar e definir três cores para um controle de exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-488">An application can retrieve and set three colors for a list-view control.</span></span>



| <span data-ttu-id="f6c20-489">Color</span><span class="sxs-lookup"><span data-stu-id="f6c20-489">Color</span></span>                   | <span data-ttu-id="f6c20-490">Mensagens usadas para recuperar e definir cores</span><span class="sxs-lookup"><span data-stu-id="f6c20-490">Messages used to retrieve and set colors</span></span>                                                             |
|-------------------------|------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="f6c20-491">Cor do texto</span><span class="sxs-lookup"><span data-stu-id="f6c20-491">Text color</span></span>              | <span data-ttu-id="f6c20-492">[**LVM \_ GETTEXTCOLOR**](lvm-gettextcolor.md), [ **LVM \_ SETTEXTCOLOR**](lvm-settextcolor.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-492">[**LVM\_GETTEXTCOLOR**](lvm-gettextcolor.md), [**LVM\_SETTEXTCOLOR**](lvm-settextcolor.md)</span></span>         |
| <span data-ttu-id="f6c20-493">Cor da tela de fundo do texto</span><span class="sxs-lookup"><span data-stu-id="f6c20-493">Text background color</span></span>   | <span data-ttu-id="f6c20-494">[**LVM \_ GETTEXTBKCOLOR,**](lvm-gettextbkcolor.md) [ **LVM \_ SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-494">[**LVM\_GETTEXTBKCOLOR**](lvm-gettextbkcolor.md), [**LVM\_SETTEXTBKCOLOR**](lvm-settextbkcolor.md)</span></span> |
| <span data-ttu-id="f6c20-495">Cor da tela de fundo da janela</span><span class="sxs-lookup"><span data-stu-id="f6c20-495">Window background color</span></span> | <span data-ttu-id="f6c20-496">[**LVM \_ GETBKCOLOR,**](lvm-getbkcolor.md) [ **LVM \_ SETBKCOLOR**](lvm-setbkcolor.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-496">[**LVM\_GETBKCOLOR**](lvm-getbkcolor.md), [**LVM\_SETBKCOLOR**](lvm-setbkcolor.md)</span></span>                 |



 

<span data-ttu-id="f6c20-497">Para personalizar a aparência de um controle de exibição de lista mais significativamente, use [NM \_ CUSTOMDRAW (exibição](nm-customdraw-list-view.md) de lista) ou use estilos visuais (consulte [Estilos](themes-overview.md) visuais e Habilitando [estilos visuais).](cookbook-overview.md)</span><span class="sxs-lookup"><span data-stu-id="f6c20-497">To customize the appearance of a list-view control more significantly, use [NM\_CUSTOMDRAW (list view)](nm-customdraw-list-view.md) or use visual styles (see [Visual Styles](themes-overview.md) and [Enabling Visual Styles](cookbook-overview.md)).</span></span>

## <a name="arranging-list-items-by-group"></a><span data-ttu-id="f6c20-498">Organizando itens de lista por grupo</span><span class="sxs-lookup"><span data-stu-id="f6c20-498">Arranging List Items by Group</span></span>

<span data-ttu-id="f6c20-499">Os recursos de agrupamento do controle de exibição de lista permitem agrupar visualmente conjuntos de itens relacionados logicamente.</span><span class="sxs-lookup"><span data-stu-id="f6c20-499">The grouping features of the list-view control enable you to visually group logically related sets of items.</span></span> <span data-ttu-id="f6c20-500">Os grupos podem ser criados com base em propriedades de item, atributos ou outras características.</span><span class="sxs-lookup"><span data-stu-id="f6c20-500">Groups can be created based on item properties, attributes, or other characteristics.</span></span> <span data-ttu-id="f6c20-501">Esses grupos normalmente são separados na tela por um header horizontal que contém o nome do grupo.</span><span class="sxs-lookup"><span data-stu-id="f6c20-501">These groups are typically separated on the screen by a horizontal header that contains the name of the group.</span></span> <span data-ttu-id="f6c20-502">A captura de tela a seguir mostra itens agrupados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-502">The following screen shot shows grouped items.</span></span>

![captura de tela de um controle de exibição de lista, com cachorros em um grupo e gatos em outro grupo](images/lv-groups.png)

<span data-ttu-id="f6c20-504">Você usa a [**estrutura LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) para armazenar informações sobre um grupo, como o texto de rodapé e de rodapé, o estado atual do grupo e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="f6c20-504">You use the [**LVGROUP**](/windows/win32/api/commctrl/ns-commctrl-lvgroup) structure to store information about a group, such as the header and footer text, the current state of the group, and so on.</span></span> <span data-ttu-id="f6c20-505">A API de agrupamento inclui mensagens que permitem que você gerencie grupos e elementos de grupo adicionando itens a grupos, adicionando grupos a exibições, classificando itens de grupo e consultando grupos de tamanho de item e outras informações.</span><span class="sxs-lookup"><span data-stu-id="f6c20-505">The grouping API includes messages that enable you to manage groups and group elements by adding items to groups, adding groups to views, sorting group items, and querying groups for item size and other information.</span></span> <span data-ttu-id="f6c20-506">Por exemplo, você pode definir e recuperar parâmetros de exibição para cada grupo usando as macros [**ListView \_ SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) e [**ListView \_ GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-506">For example, you can set and retrieve display parameters for each group by using the [**ListView\_SetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_setgroupmetrics) and [**ListView\_GetGroupMetrics**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getgroupmetrics) macros.</span></span>

<span data-ttu-id="f6c20-507">O agrupamento está disponível em todas as exibições, exceto na exibição de lista.</span><span class="sxs-lookup"><span data-stu-id="f6c20-507">Grouping is available in all views except list view.</span></span> <span data-ttu-id="f6c20-508">Ele não está disponível em controles que têm o estilo [**LVS \_ OWNERDATA**](list-view-window-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="f6c20-508">It is not available on controls that have the [**LVS\_OWNERDATA**](list-view-window-styles.md) style.</span></span>

<span data-ttu-id="f6c20-509">Para obter mais informações, consulte [usando controles de List-View](using-list-view-controls.md).</span><span class="sxs-lookup"><span data-stu-id="f6c20-509">For more information, see [Using List-View Controls](using-list-view-controls.md).</span></span>

## <a name="insertion-marks"></a><span data-ttu-id="f6c20-510">Marcas de inserção</span><span class="sxs-lookup"><span data-stu-id="f6c20-510">Insertion Marks</span></span>

<span data-ttu-id="f6c20-511">Marcas de inserção mostram os usuários em que os itens arrastados serão colocados.</span><span class="sxs-lookup"><span data-stu-id="f6c20-511">Insertion marks show users where dragged items will be placed.</span></span> <span data-ttu-id="f6c20-512">As marcas de inserção são exibidas no momento quando o usuário arrasta um item para o menu **Iniciar** ou para a barra de início rápido.</span><span class="sxs-lookup"><span data-stu-id="f6c20-512">Insertion marks currently display when the user drags an item into the **Start** menu or Quick Launch bar.</span></span> <span data-ttu-id="f6c20-513">A marca de inserção também funciona para listas que são definidas como AutoOrganizar.</span><span class="sxs-lookup"><span data-stu-id="f6c20-513">The insertion mark also works for lists that are set to autoarrange.</span></span> <span data-ttu-id="f6c20-514">Quando um usuário arrasta um item para um ponto entre dois outros itens, a marca de inserção mostra o novo local esperado do item.</span><span class="sxs-lookup"><span data-stu-id="f6c20-514">When a user drags an item to a point between two other items, the insertion mark shows the item's expected new location.</span></span> <span data-ttu-id="f6c20-515">A captura de tela a seguir mostra uma marca de inserção.</span><span class="sxs-lookup"><span data-stu-id="f6c20-515">The following screen shot shows an insertion mark.</span></span>

![captura de tela que mostra uma marca de inserção ao arrastar um arquivo entre dois outros em um controle de exibição de lista](images/insertmark.png)

<span data-ttu-id="f6c20-517">Os elementos da API de marca de inserção habilitam o posicionamento de marcas de inserção, fornecendo mensagens e sinalizadores que executam a detecção de ocorrências, que especificam o local e a aparência da marca de inserção por item, e essa consulta para obter informações sobre o tamanho atual e a aparência da marca de inserção.</span><span class="sxs-lookup"><span data-stu-id="f6c20-517">The insertion mark API elements enable placement of insertion marks by providing messages and flags that perform hit detection, that specify the location and appearance of the insertion mark by item, and that query for information about the current size and appearance of the insertion mark.</span></span>

## <a name="see-also"></a><span data-ttu-id="f6c20-518">Confira também</span><span class="sxs-lookup"><span data-stu-id="f6c20-518">See also</span></span>

* [<span data-ttu-id="f6c20-519">Exemplo de controle ListView virtual</span><span class="sxs-lookup"><span data-stu-id="f6c20-519">Virtual listview control sample</span></span>](https://github.com/microsoft/Windows-classic-samples/tree/master/Samples/Win7Samples/winui/controls/common/vlistvw)
