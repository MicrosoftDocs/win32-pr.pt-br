---
title: Sobre os controles de animação
description: Um controle de animação é uma janela que exibe um clipe AVI (intercalado Audio-Video). Um clipe AVI é uma série de quadros de bitmap como um filme. Os controles de animação só podem exibir clipes AVI que não contenham áudio.
ms.assetid: 6be69d1a-5b2c-41d5-b6d7-e86ddac2cb0d
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 1625828e5f4febce7314da365c9db93ce3a07136
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "105769036"
---
# <a name="about-animation-controls"></a><span data-ttu-id="3bfa6-105">Sobre os controles de animação</span><span class="sxs-lookup"><span data-stu-id="3bfa6-105">About Animation Controls</span></span>

<span data-ttu-id="3bfa6-106">Um *controle de animação* é uma janela que exibe um clipe AVI (intercalado Audio-Video).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-106">An *animation control* is a window that displays an Audio-Video Interleaved (AVI) clip.</span></span> <span data-ttu-id="3bfa6-107">Um clipe AVI é uma série de quadros de bitmap como um filme.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-107">An AVI clip is a series of bitmap frames like a movie.</span></span> <span data-ttu-id="3bfa6-108">Os controles de animação só podem exibir clipes AVI que não contenham áudio.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-108">Animation controls can only display AVI clips that do not contain audio.</span></span>

<span data-ttu-id="3bfa6-109">Um uso comum para um controle de animação é indicar a atividade do sistema durante uma operação demorada.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-109">One common use for an animation control is to indicate system activity during a lengthy operation.</span></span> <span data-ttu-id="3bfa6-110">Isso é possível porque o thread de operação continua em execução enquanto o clipe AVI é exibido.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-110">This is possible because the operation thread continues executing while the AVI clip is displayed.</span></span> <span data-ttu-id="3bfa6-111">Por exemplo, a caixa de diálogo Localizar do Windows Explorer exibe uma lupa de movimentação à medida que o sistema procura um arquivo.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-111">For example, the Find dialog box of Windows Explorer displays a moving magnifying glass as the system searches for a file.</span></span>

> [!Note]  
> <span data-ttu-id="3bfa6-112">Se você estiver usando ComCtl32.dll versão 6, o thread não terá suporte; Verifique se o aplicativo não bloqueia a interface do usuário ou se a animação não ocorrerá.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-112">If you are using ComCtl32.dll version 6 the thread is not supported; make sure that your application does not block the UI, or else the animation will not occur.</span></span>

 

<span data-ttu-id="3bfa6-113">Um controle de animação pode exibir um clipe AVI originado de um arquivo AVI descompactado ou de um arquivo AVI que foi compactado usando a codificação de tamanho de execução (BI \_ RLE8).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-113">An animation control can display an AVI clip originating from either an uncompressed AVI file or from an AVI file that was compressed using run-length (BI\_RLE8) encoding.</span></span> <span data-ttu-id="3bfa6-114">Você pode adicionar o clipe AVI ao seu aplicativo como um recurso AVI ou o clipe pode acompanhar seu aplicativo como um arquivo AVI separado.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-114">You can add the AVI clip to your application as an AVI resource, or the clip can accompany your application as a separate AVI file.</span></span>

> [!Note]  
> <span data-ttu-id="3bfa6-115">O arquivo AVI ou recurso não deve ter um canal de som.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-115">The AVI file, or resource, must not have a sound channel.</span></span> <span data-ttu-id="3bfa6-116">Os recursos do controle de animação são muito limitados e estão sujeitos a alterações.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-116">The capabilities of the animation control are very limited and are subject to change.</span></span> <span data-ttu-id="3bfa6-117">Se você precisar de um controle para fornecer recursos de reprodução e gravação de multimídia para seu aplicativo, poderá usar o controle MCIWnd.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-117">If you need a control to provide multimedia playback and recording capabilities for your application, you can use the MCIWnd control.</span></span> <span data-ttu-id="3bfa6-118">Para obter mais informações, consulte [classe de janela MCIWnd](/windows/desktop/Multimedia/mciwnd-window-class).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-118">For more information, see [MCIWnd Window Class](/windows/desktop/Multimedia/mciwnd-window-class).</span></span>

 

<span data-ttu-id="3bfa6-119">Esta seção aborda os tópicos a seguir.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-119">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="3bfa6-120">Criação de controle de animação</span><span class="sxs-lookup"><span data-stu-id="3bfa6-120">Animation Control Creation</span></span>](#animation-control-creation)
-   [<span data-ttu-id="3bfa6-121">Sobre as mensagens de controle de animação</span><span class="sxs-lookup"><span data-stu-id="3bfa6-121">About Animation Control Messages</span></span>](#about-animation-control-messages)
-   [<span data-ttu-id="3bfa6-122">Processamento de mensagens padrão</span><span class="sxs-lookup"><span data-stu-id="3bfa6-122">Default Message Processing</span></span>](#default-message-processing)

## <a name="animation-control-creation"></a><span data-ttu-id="3bfa6-123">Criação de controle de animação</span><span class="sxs-lookup"><span data-stu-id="3bfa6-123">Animation Control Creation</span></span>

<span data-ttu-id="3bfa6-124">Um controle de animação pertence à classe de janela de [**\_ classe Animate**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-124">An animation control belongs to the [**ANIMATE\_CLASS**](common-control-window-classes.md) window class.</span></span> <span data-ttu-id="3bfa6-125">Você cria um controle de animação usando a função [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) ou [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) ou a macro [**anima \_ Create**](/windows/desktop/api/Commctrl/nf-commctrl-animate_create) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-125">You create an animation control by using the [**CreateWindow**](/windows/desktop/api/winuser/nf-winuser-createwindowa) or [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function or the [**Animate\_Create**](/windows/desktop/api/Commctrl/nf-commctrl-animate_create) macro.</span></span> <span data-ttu-id="3bfa6-126">A macro posiciona o controle de animação no canto superior esquerdo da janela pai e, se o estilo do [**\_ centro do ACS**](animation-control-styles.md) não for especificado, define a largura e a altura do controle com base nas dimensões de um quadro no clipe AVI.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-126">The macro positions the animation control in the upper-left corner of the parent window and, if the [**ACS\_CENTER**](animation-control-styles.md) style is not specified, sets the width and height of the control based on the dimensions of a frame in the AVI clip.</span></span> <span data-ttu-id="3bfa6-127">Se o **ACS \_ Center** for especificado, a **\_ criação de animação** definirá a largura e a altura do controle como zero.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-127">If **ACS\_CENTER** is specified, **Animate\_Create** sets the width and height of the control to zero.</span></span> <span data-ttu-id="3bfa6-128">Você pode usar a função [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) para definir a posição e o tamanho do controle.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-128">You can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the position and size of the control.</span></span>

<span data-ttu-id="3bfa6-129">Se você criar um controle de animação dentro de uma caixa de diálogo ou de um recurso da caixa de diálogo, o controle será destruído automaticamente quando o usuário fechar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-129">If you create an animation control within a dialog box or from a dialog box resource, the control is automatically destroyed when the user closes the dialog box.</span></span> <span data-ttu-id="3bfa6-130">Se você criar um controle de animação dentro de uma janela, deverá destruir explicitamente o controle.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-130">If you create an animation control within a window, you must explicitly destroy the control.</span></span>

## <a name="about-animation-control-messages"></a><span data-ttu-id="3bfa6-131">Sobre as mensagens de controle de animação</span><span class="sxs-lookup"><span data-stu-id="3bfa6-131">About Animation Control Messages</span></span>

<span data-ttu-id="3bfa6-132">Um aplicativo envia mensagens a um controle de animação para abrir, reproduzir, parar e fechar o clipe AVI correspondente.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-132">An application sends messages to an animation control to open, play, stop, and close the corresponding AVI clip.</span></span> <span data-ttu-id="3bfa6-133">Cada mensagem tem uma ou mais macros que você pode usar em vez de enviar a mensagem explicitamente.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-133">Each message has one or more macros that you can use instead of sending the message explicitly.</span></span>

<span data-ttu-id="3bfa6-134">Depois de criar um controle de animação, um aplicativo envia a mensagem [**\_ aberta do ACM**](acm-open.md) para abrir um clipe AVI e carregá-lo na memória.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-134">After creating an animation control, an application sends the [**ACM\_OPEN**](acm-open.md) message to open an AVI clip and load it into memory.</span></span> <span data-ttu-id="3bfa6-135">A mensagem Especifica o caminho de um arquivo AVI ou o nome de um recurso AVI.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-135">The message specifies either the path of an AVI file or the name of an AVI resource.</span></span> <span data-ttu-id="3bfa6-136">O sistema carrega o recurso AVI do módulo que criou o controle de animação.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-136">The system loads the AVI resource from the module that created the animation control.</span></span>

<span data-ttu-id="3bfa6-137">Se o controle de animação tiver o estilo de [**\_ reprodução automática do ACS**](animation-control-styles.md) , o controle começará a tocar o clipe AVI imediatamente depois que o arquivo AVI ou o recurso AVI for aberto.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-137">If the animation control has the [**ACS\_AUTOPLAY**](animation-control-styles.md) style, the control begins playing the AVI clip immediately after the AVI file or AVI resource is opened.</span></span> <span data-ttu-id="3bfa6-138">Caso contrário, um aplicativo poderá usar a mensagem de [**\_ reprodução do ACM**](acm-play.md) para iniciar o clipe AVI.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-138">Otherwise, an application can use the [**ACM\_PLAY**](acm-play.md) message to start the AVI clip.</span></span> <span data-ttu-id="3bfa6-139">Um aplicativo pode parar o clipe a qualquer momento enviando a mensagem [**de \_ parada do ACM**](acm-stop.md) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-139">An application can stop the clip at any time by sending the [**ACM\_STOP**](acm-stop.md) message.</span></span> <span data-ttu-id="3bfa6-140">O último quadro reproduzido permanece exibido quando o controle termina de reproduzir o clipe AVI ou quando a **\_ parada do ACM** é enviada.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-140">The last frame played remains displayed when the control finishes playing the AVI clip or when **ACM\_STOP** is sent.</span></span>

<span data-ttu-id="3bfa6-141">Um controle de animação pode enviar dois códigos de notificação para sua janela pai: [ACN \_ Start](acn-start.md) e [ACN \_ Stop](acn-stop.md).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-141">An animation control can send two notification codes to its parent window: [ACN\_START](acn-start.md) and [ACN\_STOP](acn-stop.md).</span></span> <span data-ttu-id="3bfa6-142">A maioria dos aplicativos não lidam com nenhuma notificação.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-142">Most applications do not handle either notification.</span></span>

<span data-ttu-id="3bfa6-143">Para fechar o arquivo AVI ou o recurso AVI e removê-lo da memória, um aplicativo pode usar a macro [**animar \_ fechar**](/windows/desktop/api/Commctrl/nf-commctrl-animate_close) , que envia o [**ACM \_ Open**](acm-open.md) com o nome do arquivo ou o nome do recurso definido como **NULL**.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-143">To close the AVI file or AVI resource and remove it from memory, an application can use the [**Animate\_Close**](/windows/desktop/api/Commctrl/nf-commctrl-animate_close) macro, which sends [**ACM\_OPEN**](acm-open.md) with the file name or resource name set to **NULL**.</span></span>

## <a name="default-message-processing"></a><span data-ttu-id="3bfa6-144">Processamento de mensagens padrão</span><span class="sxs-lookup"><span data-stu-id="3bfa6-144">Default Message Processing</span></span>

<span data-ttu-id="3bfa6-145">Esta seção descreve as mensagens de janela tratadas pelo procedimento de janela para a classe de janela [**animar \_ classe**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-145">This section describes the window messages handled by the window procedure for the [**ANIMATE\_CLASS**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="3bfa6-146">Mensagem</span><span class="sxs-lookup"><span data-stu-id="3bfa6-146">Message</span></span>                                    | <span data-ttu-id="3bfa6-147">Processamento realizado</span><span class="sxs-lookup"><span data-stu-id="3bfa6-147">Processing performed</span></span>                                                                                                                                                                                                                                                                        |
|--------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="3bfa6-148">**fechar o WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-148">**WM\_CLOSE**</span></span>](/windows/desktop/winmsg/wm-close)           | <span data-ttu-id="3bfa6-149">Libera o arquivo AVI ou o recurso AVI associado ao controle de animação.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-149">Frees the AVI file or AVI resource associated with the animation control.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="3bfa6-150">**destruição do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-150">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)       | <span data-ttu-id="3bfa6-151">Libera o arquivo AVI ou o recurso AVI, libera uma estrutura de dados interna e, em seguida, chama a função [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-151">Frees the AVI file or AVI resource, frees an internal data structure, and then calls the [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca) function.</span></span>                                                                                                                                                |
| [<span data-ttu-id="3bfa6-152">**ERASEBKGND do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-152">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd) | <span data-ttu-id="3bfa6-153">Apaga o plano de fundo da janela usando a cor de plano de fundo atual para controles estáticos.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-153">Erases the window background using the current background color for static controls.</span></span>                                                                                                                                                                                                        |
| [<span data-ttu-id="3bfa6-154">**NCCREATE do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-154">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)     | <span data-ttu-id="3bfa6-155">Aloca e Inicializa uma estrutura de dados interna e, em seguida, chama [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-155">Allocates and initializes an internal data structure and then calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span>                                                                                                                                                                              |
| [<span data-ttu-id="3bfa6-156">**NCHITTEST do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-156">**WM\_NCHITTEST**</span></span>](/windows/desktop/inputdev/wm-nchittest) | <span data-ttu-id="3bfa6-157">Retorna o valor do teste de clique HTTRANSPARENT.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-157">Returns the HTTRANSPARENT hit test value.</span></span>                                                                                                                                                                                                                                                   |
| [<span data-ttu-id="3bfa6-158">**pintura do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-158">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)              | <span data-ttu-id="3bfa6-159">Desenha um quadro AVI no controle de animação.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-159">Draws an AVI frame in the animation control.</span></span>                                                                                                                                                                                                                                                |
| [<span data-ttu-id="3bfa6-160">**tamanho do WM \_**</span><span class="sxs-lookup"><span data-stu-id="3bfa6-160">**WM\_SIZE**</span></span>](/windows/desktop/winmsg/wm-size)             | <span data-ttu-id="3bfa6-161">Verifica se o controle tem o estilo do [**\_ Centro ACS**](animation-control-styles.md) .</span><span class="sxs-lookup"><span data-stu-id="3bfa6-161">Checks if the control has the [**ACS\_CENTER**](animation-control-styles.md) style.</span></span> <span data-ttu-id="3bfa6-162">Se o controle não tiver, ele chamará [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span><span class="sxs-lookup"><span data-stu-id="3bfa6-162">If the control does not, it calls [**DefWindowProc**](/windows/desktop/api/winuser/nf-winuser-defwindowproca).</span></span> <span data-ttu-id="3bfa6-163">Caso contrário, ele centraliza a animação no controle, invalida o controle e, em seguida, chama **DefWindowProc**.</span><span class="sxs-lookup"><span data-stu-id="3bfa6-163">Otherwise, it centers the animation in the control, invalidates the control, and then calls **DefWindowProc**.</span></span> |



 

 

 