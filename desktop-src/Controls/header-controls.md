---
title: Sobre controles de cabeçalho
description: Um controle de cabeçalho é uma janela que geralmente é posicionada acima das colunas de texto ou números. Ele contém um título para cada coluna e pode ser dividido em partes.
ms.assetid: b464fb9a-e342-4209-ba6f-15b5388f3914
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a6d9beaa9dc3bd8eb94d749ec271902a480b853e
ms.sourcegitcommit: 5f33645661bf8c825a7a2e73950b1f4ea0f1cd82
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/21/2020
ms.locfileid: "103641875"
---
# <a name="about-header-controls"></a><span data-ttu-id="507b5-104">Sobre controles de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="507b5-104">About Header Controls</span></span>

<span data-ttu-id="507b5-105">Um controle de cabeçalho é uma janela que geralmente é posicionada acima das colunas de texto ou números.</span><span class="sxs-lookup"><span data-stu-id="507b5-105">A header control is a window that is usually positioned above columns of text or numbers.</span></span> <span data-ttu-id="507b5-106">Ele contém um título para cada coluna e pode ser dividido em partes.</span><span class="sxs-lookup"><span data-stu-id="507b5-106">It contains a title for each column, and it can be divided into parts.</span></span> <span data-ttu-id="507b5-107">O usuário pode arrastar os divisores que separam as partes para definir a largura de cada coluna.</span><span class="sxs-lookup"><span data-stu-id="507b5-107">The user can drag the dividers that separate the parts to set the width of each column.</span></span> <span data-ttu-id="507b5-108">A ilustração a seguir mostra um controle de cabeçalho com colunas rotuladas que fornecem informações detalhadas sobre os arquivos em um diretório.</span><span class="sxs-lookup"><span data-stu-id="507b5-108">The following illustration shows a header control that has labeled columns that give detailed information about files in a directory.</span></span>

![captura de tela de uma caixa de diálogo com um controle de cabeçalho de três colunas](images/header.png)

<span data-ttu-id="507b5-110">Você pode criar um controle de cabeçalho usando a função [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) , especificando a classe da janela de [**\_ cabeçalho WC**](common-control-window-classes.md) e os [estilos de controle de cabeçalho](header-control-styles.md)apropriados.</span><span class="sxs-lookup"><span data-stu-id="507b5-110">You can create a header control by using the [**CreateWindowEx**](/windows/desktop/api/winuser/nf-winuser-createwindowexa) function, specifying the [**WC\_HEADER**](common-control-window-classes.md) window class and the appropriate [Header Control Styles](header-control-styles.md).</span></span> <span data-ttu-id="507b5-111">Essa classe de janela é registrada quando a DLL de controle comum é carregada.</span><span class="sxs-lookup"><span data-stu-id="507b5-111">This window class is registered when the common control DLL is loaded.</span></span> <span data-ttu-id="507b5-112">Para garantir que essa DLL seja carregada, use a função [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) .</span><span class="sxs-lookup"><span data-stu-id="507b5-112">To ensure that this DLL is loaded, use the [**InitCommonControlsEx**](/windows/desktop/api/Commctrl/nf-commctrl-initcommoncontrolsex) function.</span></span> <span data-ttu-id="507b5-113">Depois de criar um controle de cabeçalho, você pode dividi-lo em partes, definir o texto em cada parte e controlar a aparência da janela usando mensagens de janela de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-113">After you create a header control, you can divide it into parts, set the text in each part, and control the appearance of the window by using header window messages.</span></span>

<span data-ttu-id="507b5-114">Um controle de cabeçalho pode ser criado como uma janela filho de outro controle, como uma caixa de listagem.</span><span class="sxs-lookup"><span data-stu-id="507b5-114">A header control can be created as a child window of another control, such as a list box.</span></span> <span data-ttu-id="507b5-115">No entanto, o controle pai não está ciente do controle de cabeçalho e não permite o espaço ocupado pelo cabeçalho, com o resultado que os itens de lista aparecerão atrás do cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-115">However, the parent control is not aware of the header control and does not allow for the space taken up by the header, with the result that list items will appear behind the header.</span></span> <span data-ttu-id="507b5-116">Se você quiser usar um controle de cabeçalho em uma caixa de listagem ou outro controle, o controle pai deverá ser desenhado pelo proprietário para que todos os itens sejam exibidos na posição correta.</span><span class="sxs-lookup"><span data-stu-id="507b5-116">If you wish to use a header control in a list box or other control, the parent control must be owner-drawn so that all items are displayed in the correct position.</span></span>

<span data-ttu-id="507b5-117">Controles de exibição de lista já têm controles de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-117">List-view controls already have header controls.</span></span> <span data-ttu-id="507b5-118">Em vez de criar um controle de cabeçalho para um controle de exibição de lista, você usa o [**LVM \_ GetHeader**](lvm-getheader.md) ou [**ListView \_ GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) para recuperar o controle existente.</span><span class="sxs-lookup"><span data-stu-id="507b5-118">Instead of creating a header control for a list-view control, you use [**LVM\_GETHEADER**](lvm-getheader.md) or [**ListView\_GetHeader**](/windows/desktop/api/Commctrl/nf-commctrl-listview_getheader) to retrieve the existing control.</span></span>

-   [<span data-ttu-id="507b5-119">Tamanho e posição do controle de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="507b5-119">Header Control Size and Position</span></span>](#header-control-size-and-position)
-   [<span data-ttu-id="507b5-120">Itens</span><span class="sxs-lookup"><span data-stu-id="507b5-120">Items</span></span>](#items)
-   [<span data-ttu-id="507b5-121">Controles de cabeçalho de desenho proprietário</span><span class="sxs-lookup"><span data-stu-id="507b5-121">Owner-Drawn Header Controls</span></span>](#owner-drawn-header-controls)
-   [<span data-ttu-id="507b5-122">Filtros de controle de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="507b5-122">Header Control Filters</span></span>](#header-control-filters)
-   [<span data-ttu-id="507b5-123">Processamento de mensagens de controle de cabeçalho padrão</span><span class="sxs-lookup"><span data-stu-id="507b5-123">Default Header Control Message Processing</span></span>](#default-header-control-message-processing)

## <a name="header-control-size-and-position"></a><span data-ttu-id="507b5-124">Tamanho e posição do controle de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="507b5-124">Header Control Size and Position</span></span>

<span data-ttu-id="507b5-125">Normalmente, você deve definir o tamanho e a posição de um controle de cabeçalho para se ajustar nos limites de um retângulo específico, como a área de cliente de uma janela.</span><span class="sxs-lookup"><span data-stu-id="507b5-125">Typically, you must set the size and position of a header control to fit within the boundaries of a particular rectangle, such as the client area of a window.</span></span> <span data-ttu-id="507b5-126">Usando a mensagem [**de \_ layout HDM**](hdm-layout.md) , você pode recuperar os valores de tamanho e posição apropriados do controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-126">By using the [**HDM\_LAYOUT**](hdm-layout.md) message, you can retrieve the appropriate size and position values from the header control.</span></span>

<span data-ttu-id="507b5-127">Ao enviar [**o \_ layout HDM**](hdm-layout.md), você especifica o endereço de uma estrutura [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) que contém as coordenadas do retângulo que o controle de cabeçalho deve ocupar e fornece um ponteiro para uma estrutura [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) .</span><span class="sxs-lookup"><span data-stu-id="507b5-127">When sending [**HDM\_LAYOUT**](hdm-layout.md), you specify the address of an [**HDLAYOUT**](/windows/win32/api/commctrl/ns-commctrl-hdlayout) structure that contains the coordinates of the rectangle that the header control is to occupy and provides a pointer to a [**WINDOWPOS**](/windows/win32/api/winuser/ns-winuser-windowpos) structure.</span></span> <span data-ttu-id="507b5-128">O controle preenche a estrutura **WINDOWPOS** com valores de tamanho e posição apropriados para posicionar o controle ao longo da parte superior do retângulo especificado.</span><span class="sxs-lookup"><span data-stu-id="507b5-128">The control fills the **WINDOWPOS** structure with size and position values appropriate for positioning the control along the top of the specified rectangle.</span></span> <span data-ttu-id="507b5-129">O valor de altura é a soma das alturas das bordas horizontais do controle e a altura média de caracteres na fonte selecionada atualmente no contexto do dispositivo do controle.</span><span class="sxs-lookup"><span data-stu-id="507b5-129">The height value is the sum of the heights of the control's horizontal borders and the average height of characters in the font currently selected into the control's device context.</span></span>

<span data-ttu-id="507b5-130">Se você quiser usar o [**\_ layout HDM**](hdm-layout.md) para definir o tamanho inicial e a posição de um controle de cabeçalho, defina o estado de visibilidade inicial do controle para que ele fique oculto.</span><span class="sxs-lookup"><span data-stu-id="507b5-130">If you want to use [**HDM\_LAYOUT**](hdm-layout.md) to set the initial size and position of a header control, set the initial visibility state of the control so that it is hidden.</span></span> <span data-ttu-id="507b5-131">Depois de enviar o **\_ layout HDM** para recuperar os valores de tamanho e posição, você pode usar a função [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) para definir o novo tamanho, a posição e o estado de visibilidade.</span><span class="sxs-lookup"><span data-stu-id="507b5-131">After sending **HDM\_LAYOUT** to retrieve the size and position values, you can use the [**SetWindowPos**](/windows/desktop/api/winuser/nf-winuser-setwindowpos) function to set the new size, position, and visibility state.</span></span>

## <a name="items"></a><span data-ttu-id="507b5-132">Itens</span><span class="sxs-lookup"><span data-stu-id="507b5-132">Items</span></span>

<span data-ttu-id="507b5-133">Um controle de cabeçalho normalmente tem vários itens de cabeçalho que definem as colunas do controle.</span><span class="sxs-lookup"><span data-stu-id="507b5-133">A header control typically has several header items that define the columns of the control.</span></span> <span data-ttu-id="507b5-134">Você adiciona um item a um controle de cabeçalho enviando a mensagem [**HDM \_ INSERTITEM**](hdm-insertitem.md) para o controle.</span><span class="sxs-lookup"><span data-stu-id="507b5-134">You add an item to a header control by sending the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to the control.</span></span> <span data-ttu-id="507b5-135">A mensagem inclui o endereço de uma estrutura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) .</span><span class="sxs-lookup"><span data-stu-id="507b5-135">The message includes the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure.</span></span> <span data-ttu-id="507b5-136">Essa estrutura define as propriedades do item de cabeçalho, que pode incluir uma cadeia de caracteres, uma imagem de bitmap, um tamanho inicial e um valor de **lParam** definido pelo aplicativo.</span><span class="sxs-lookup"><span data-stu-id="507b5-136">This structure defines the properties of the header item, which can include a string, a bitmapped image, an initial size, and an application-defined **LPARAM** value.</span></span>

<span data-ttu-id="507b5-137">O membro **fmt** da estrutura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) de um item pode incluir a **cadeia de \_ caracteres HDF** ou o sinalizador **\_ bitmap HDF** para indicar se o controle exibe a cadeia de caracteres ou o bitmap do item.</span><span class="sxs-lookup"><span data-stu-id="507b5-137">The **fmt** member of an item's [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure can include either the **HDF\_STRING** or **HDF\_BITMAP** flag to indicate whether the control displays the item's string or bitmap.</span></span> <span data-ttu-id="507b5-138">Se você quiser exibir uma cadeia de caracteres e um bitmap, crie um item desenhado pelo proprietário definindo o membro **fmt** para incluir o sinalizador **HDF \_ OWNERDRAW** .</span><span class="sxs-lookup"><span data-stu-id="507b5-138">If you want to display both a string and a bitmap, create an owner-drawn item by setting the **fmt** member to include the **HDF\_OWNERDRAW** flag.</span></span> <span data-ttu-id="507b5-139">A estrutura **HDITEM** também especifica sinalizadores de formatação que dizem ao controle se deve ser centralizado, alinhado à esquerda ou alinhado à cadeia de caracteres ou ao bitmap no retângulo do item.</span><span class="sxs-lookup"><span data-stu-id="507b5-139">The **HDITEM** structure also specifies formatting flags that tell the control whether to center, left-align, or right-align the string or bitmap in the item's rectangle.</span></span>

<span data-ttu-id="507b5-140">[**HDM \_ INSERTITEM**](hdm-insertitem.md) retorna o índice do item recém-adicionado.</span><span class="sxs-lookup"><span data-stu-id="507b5-140">[**HDM\_INSERTITEM**](hdm-insertitem.md) returns the index of the newly added item.</span></span> <span data-ttu-id="507b5-141">Você pode usar o índice em outras mensagens para definir propriedades ou recuperar informações sobre o item.</span><span class="sxs-lookup"><span data-stu-id="507b5-141">You can use the index in other messages to set properties or retrieve information about the item.</span></span> <span data-ttu-id="507b5-142">Você pode excluir um item usando a mensagem [**HDM \_ DELETEITEM**](hdm-deleteitem.md) , especificando o índice do item a ser excluído.</span><span class="sxs-lookup"><span data-stu-id="507b5-142">You can delete an item by using the [**HDM\_DELETEITEM**](hdm-deleteitem.md) message, specifying the index of the item to delete.</span></span>

<span data-ttu-id="507b5-143">Você pode usar a mensagem [**HDM \_ SETITEM**](hdm-setitem.md) para definir as propriedades de um item de cabeçalho existente e a mensagem [**HDM \_ GETITEM**](hdm-getitem.md) para recuperar as propriedades atuais de um item.</span><span class="sxs-lookup"><span data-stu-id="507b5-143">You can use the [**HDM\_SETITEM**](hdm-setitem.md) message to set the properties of an existing header item and the [**HDM\_GETITEM**](hdm-getitem.md) message to retrieve the current properties of an item.</span></span> <span data-ttu-id="507b5-144">Para recuperar uma contagem dos itens em um controle de cabeçalho, use a mensagem [**HDM \_ GetItemCount**](hdm-getitemcount.md) .</span><span class="sxs-lookup"><span data-stu-id="507b5-144">To retrieve a count of the items in a header control, use the [**HDM\_GETITEMCOUNT**](hdm-getitemcount.md) message.</span></span>

## <a name="owner-drawn-header-controls"></a><span data-ttu-id="507b5-145">Controles de cabeçalho Owner-Drawn</span><span class="sxs-lookup"><span data-stu-id="507b5-145">Owner-Drawn Header Controls</span></span>

<span data-ttu-id="507b5-146">Você pode definir itens individuais de um controle de cabeçalho para serem itens desenhados pelo proprietário.</span><span class="sxs-lookup"><span data-stu-id="507b5-146">You can define individual items of a header control to be owner-drawn items.</span></span> <span data-ttu-id="507b5-147">O uso dessa técnica lhe dá mais controle do que você teria sobre a aparência de um item de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-147">Using this technique gives you more control than you would otherwise have over the appearance of a header item.</span></span>

<span data-ttu-id="507b5-148">Você pode usar a mensagem [**HDM \_ INSERTITEM**](hdm-insertitem.md) para inserir um novo item desenhado pelo proprietário em um controle de cabeçalho ou na mensagem [**HDM \_ SETITEM**](hdm-setitem.md) para alterar um item existente para um item de desenho proprietário.</span><span class="sxs-lookup"><span data-stu-id="507b5-148">You can use the [**HDM\_INSERTITEM**](hdm-insertitem.md) message to insert a new owner-drawn item into a header control or the [**HDM\_SETITEM**](hdm-setitem.md) message to change an existing item to an owner-drawn item.</span></span> <span data-ttu-id="507b5-149">Ambas as mensagens incluem o endereço de uma estrutura [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) , que deve ter o membro **fmt** definido como o valor **\_ OWNERDRAW HDF** .</span><span class="sxs-lookup"><span data-stu-id="507b5-149">Both messages include the address of an [**HDITEM**](/windows/win32/api/commctrl/ns-commctrl-hditema) structure, which should have the **fmt** member set to the **HDF\_OWNERDRAW** value.</span></span>

<span data-ttu-id="507b5-150">Quando um controle de cabeçalho deve desenhar um item desenhado pelo proprietário, ele envia a mensagem do [**WM \_ DRAWITEM**](wm-drawitem.md) para a janela pai.</span><span class="sxs-lookup"><span data-stu-id="507b5-150">When a header control must draw an owner-drawn item, it sends the [**WM\_DRAWITEM**](wm-drawitem.md) message to the parent window.</span></span> <span data-ttu-id="507b5-151">O parâmetro *wParam* da mensagem é o identificador da janela filho do controle de cabeçalho e o parâmetro *lParam* é um endereço de uma estrutura [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) .</span><span class="sxs-lookup"><span data-stu-id="507b5-151">The *wParam* parameter of the message is the child window identifier of the header control, and the *lParam* parameter is an address of a [**DRAWITEMSTRUCT**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) structure.</span></span> <span data-ttu-id="507b5-152">A janela pai usa as informações na estrutura para desenhar o item.</span><span class="sxs-lookup"><span data-stu-id="507b5-152">The parent window uses the information in the structure to draw the item.</span></span> <span data-ttu-id="507b5-153">Para um item desenhado pelo proprietário em um controle de cabeçalho, a estrutura **DRAWITEMSTRUCT** contém as informações a seguir.</span><span class="sxs-lookup"><span data-stu-id="507b5-153">For an owner-drawn item in a header control, the **DRAWITEMSTRUCT** structure contains the following information.</span></span>



| <span data-ttu-id="507b5-154">Membro</span><span class="sxs-lookup"><span data-stu-id="507b5-154">Member</span></span>         | <span data-ttu-id="507b5-155">DESCRIÇÃO</span><span class="sxs-lookup"><span data-stu-id="507b5-155">Description</span></span>                                                                                                                                            |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="507b5-156">**CtlType**</span><span class="sxs-lookup"><span data-stu-id="507b5-156">**CtlType**</span></span>    | <span data-ttu-id="507b5-157">[**Odt \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Proprietário do cabeçalho-tipo de controle desenhado.</span><span class="sxs-lookup"><span data-stu-id="507b5-157">[**ODT\_HEADER**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) owner-drawn control type.</span></span>                                                                                        |
| <span data-ttu-id="507b5-158">**CtlID**</span><span class="sxs-lookup"><span data-stu-id="507b5-158">**CtlID**</span></span>      | <span data-ttu-id="507b5-159">Identificador da janela filho do controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-159">Child-window identifier of the header control.</span></span>                                                                                                         |
| <span data-ttu-id="507b5-160">**itemID**</span><span class="sxs-lookup"><span data-stu-id="507b5-160">**itemID**</span></span>     | <span data-ttu-id="507b5-161">Índice do item a ser desenhado.</span><span class="sxs-lookup"><span data-stu-id="507b5-161">Index of the item to be drawn.</span></span>                                                                                                                         |
| <span data-ttu-id="507b5-162">**Ação**</span><span class="sxs-lookup"><span data-stu-id="507b5-162">**itemAction**</span></span> | <span data-ttu-id="507b5-163">[**Oda \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Sinalizador de ação de desenho DRAWENTIRE.</span><span class="sxs-lookup"><span data-stu-id="507b5-163">[**ODA\_DRAWENTIRE**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag.</span></span>                                                                                         |
| <span data-ttu-id="507b5-164">**itemState**</span><span class="sxs-lookup"><span data-stu-id="507b5-164">**itemState**</span></span>  | <span data-ttu-id="507b5-165">[**ODS \_**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) Sinalizador de ação de desenho selecionado se o cursor estiver no item e o botão do mouse estiver inativo.</span><span class="sxs-lookup"><span data-stu-id="507b5-165">[**ODS\_SELECTED**](/windows/win32/api/winuser/ns-winuser-drawitemstruct) drawing-action flag if the cursor is on the item and the mouse button is down.</span></span> <span data-ttu-id="507b5-166">Caso contrário, esse membro será zero.</span><span class="sxs-lookup"><span data-stu-id="507b5-166">Otherwise, this member is zero.</span></span> |
| <span data-ttu-id="507b5-167">**hwndItem**</span><span class="sxs-lookup"><span data-stu-id="507b5-167">**hwndItem**</span></span>   | <span data-ttu-id="507b5-168">Identificador para o controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-168">Handle to the header control.</span></span>                                                                                                                          |
| <span data-ttu-id="507b5-169">**hDC**</span><span class="sxs-lookup"><span data-stu-id="507b5-169">**hDC**</span></span>        | <span data-ttu-id="507b5-170">Identificador para o contexto do dispositivo do controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-170">Handle to the device context of the header control.</span></span>                                                                                                    |
| <span data-ttu-id="507b5-171">**rcItem**</span><span class="sxs-lookup"><span data-stu-id="507b5-171">**rcItem**</span></span>     | <span data-ttu-id="507b5-172">Coordenadas do item de cabeçalho a ser desenhado.</span><span class="sxs-lookup"><span data-stu-id="507b5-172">Coordinates of the header item to be drawn.</span></span> <span data-ttu-id="507b5-173">As coordenadas são relativas ao canto superior esquerdo do controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-173">The coordinates are relative to the upper-left corner of the header control.</span></span>                               |
| <span data-ttu-id="507b5-174">**Dados do**</span><span class="sxs-lookup"><span data-stu-id="507b5-174">**itemData**</span></span>   | <span data-ttu-id="507b5-175">Valor de 32 bits definido pelo aplicativo associado ao item.</span><span class="sxs-lookup"><span data-stu-id="507b5-175">Application-defined 32-bit value associated with the item.</span></span>                                                                                             |



 

## <a name="header-control-filters"></a><span data-ttu-id="507b5-176">Filtros de controle de cabeçalho</span><span class="sxs-lookup"><span data-stu-id="507b5-176">Header Control Filters</span></span>

<span data-ttu-id="507b5-177">Ao especificar o estilo de janela do [**HDS \_ FILTERBAR**](header-control-styles.md) para um controle de cabeçalho, você pode habilitar o posicionamento das caixas de edição de filtro abaixo dos títulos de coluna.</span><span class="sxs-lookup"><span data-stu-id="507b5-177">By specifying the [**HDS\_FILTERBAR**](header-control-styles.md) window style for a header control, you can enable the placement of filter edit boxes underneath the column headings.</span></span> <span data-ttu-id="507b5-178">Um botão de filtro é exibido ao lado da caixa de edição.</span><span class="sxs-lookup"><span data-stu-id="507b5-178">A filter button appears beside the edit box.</span></span> <span data-ttu-id="507b5-179">Você pode implementar a filtragem respondendo a códigos de notificação [HDN \_ BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN \_ ENDFILTEREDIT](hdn-endfilteredit.md), [HDN \_ FILTERBTNCLICK](hdn-filterbtnclick.md)ou [HDN \_ FILTERCHANGE](hdn-filterchange.md) .</span><span class="sxs-lookup"><span data-stu-id="507b5-179">You can implement filtering by responding to [HDN\_BEGINFILTEREDIT](hdn-beginfilteredit.md), [HDN\_ENDFILTEREDIT](hdn-endfilteredit.md), [HDN\_FILTERBTNCLICK](hdn-filterbtnclick.md), or [HDN\_FILTERCHANGE](hdn-filterchange.md) notification codes.</span></span>

<span data-ttu-id="507b5-180">Por padrão, a caixa de edição contém um prompt para que o usuário insira texto.</span><span class="sxs-lookup"><span data-stu-id="507b5-180">By default, the edit box contains a prompt for the user to enter text.</span></span> <span data-ttu-id="507b5-181">Você pode restaurar a caixa de edição para esse estado padrão usando o [**cabeçalho \_ ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) ou o [**cabeçalho \_ ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span><span class="sxs-lookup"><span data-stu-id="507b5-181">You can restore the edit box to this default state by using [**Header\_ClearFilter**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearfilter) or [**Header\_ClearAllFilters**](/windows/desktop/api/Commctrl/nf-commctrl-header_clearallfilters).</span></span>

<span data-ttu-id="507b5-182">O exemplo de código a seguir mostra como recuperar o controle de cabeçalho de um controle de exibição de lista e adicionar uma barra de filtro.</span><span class="sxs-lookup"><span data-stu-id="507b5-182">The following code example shows how to retrieve the header control from a list-view control and add a filter bar.</span></span>


```
// hList is the HWND of the list-view control.
HWND hHeader = ListView_GetHeader(hList);
LONG_PTR styles = GetWindowLongPtr(hHeader, GWL_STYLE);
SetWindowLongPtr(g_hHeader, GWL_STYLE, styles | HDS_FILTERBAR);
```



## <a name="default-header-control-message-processing"></a><span data-ttu-id="507b5-183">Processamento de mensagens de controle de cabeçalho padrão</span><span class="sxs-lookup"><span data-stu-id="507b5-183">Default Header Control Message Processing</span></span>

<span data-ttu-id="507b5-184">Esta seção descreve as mensagens de janela tratadas pelo procedimento de janela para a classe de janela de [**\_ cabeçalho WC**](common-control-window-classes.md) .</span><span class="sxs-lookup"><span data-stu-id="507b5-184">This section describes the window messages handled by the window procedure for the [**WC\_HEADER**](common-control-window-classes.md) window class.</span></span>



| <span data-ttu-id="507b5-185">Mensagem</span><span class="sxs-lookup"><span data-stu-id="507b5-185">Message</span></span>                                            | <span data-ttu-id="507b5-186">Processamento realizado</span><span class="sxs-lookup"><span data-stu-id="507b5-186">Processing performed</span></span>                                                                                                                                                                                                                                                                                          |
|----------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="507b5-187">**criação do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-187">**WM\_CREATE**</span></span>](/windows/desktop/winmsg/wm-create)                 | <span data-ttu-id="507b5-188">Inicializa o controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-188">Initializes the header control.</span></span>                                                                                                                                                                                                                                                                               |
| [<span data-ttu-id="507b5-189">**destruição do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-189">**WM\_DESTROY**</span></span>](/windows/desktop/winmsg/wm-destroy)               | <span data-ttu-id="507b5-190">Desinicializa o controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-190">Uninitializes the header control.</span></span>                                                                                                                                                                                                                                                                             |
| [<span data-ttu-id="507b5-191">**ERASEBKGND do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-191">**WM\_ERASEBKGND**</span></span>](/windows/desktop/winmsg/wm-erasebkgnd)         | <span data-ttu-id="507b5-192">Preenche o plano de fundo do controle de cabeçalho usando a cor do plano de fundo atual do controle.</span><span class="sxs-lookup"><span data-stu-id="507b5-192">Fills the background of the header control using the control's current background color.</span></span>                                                                                                                                                                                                                      |
| [<span data-ttu-id="507b5-193">**GETDLGCODE do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-193">**WM\_GETDLGCODE**</span></span>](/windows/desktop/dlgbox/wm-getdlgcode)         | <span data-ttu-id="507b5-194">Retorna uma combinação dos valores [**DLGC \_ WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) e [**DLGC \_ WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) .</span><span class="sxs-lookup"><span data-stu-id="507b5-194">Returns a combination of the [**DLGC\_WANTTAB**](/windows/desktop/dlgbox/wm-getdlgcode) and [**DLGC\_WANTARROWS**](/windows/desktop/dlgbox/wm-getdlgcode) values.</span></span>                                                                                                                     |
| [<span data-ttu-id="507b5-195">**WM \_ GETfont**</span><span class="sxs-lookup"><span data-stu-id="507b5-195">**WM\_GETFONT**</span></span>](/windows/desktop/winmsg/wm-getfont)               | <span data-ttu-id="507b5-196">Retorna o identificador para a fonte atual, que é usada pelo controle de cabeçalho para desenhar seu texto.</span><span class="sxs-lookup"><span data-stu-id="507b5-196">Returns the handle to the current font, which is used by the header control to draw its text.</span></span>                                                                                                                                                                                                                 |
| [<span data-ttu-id="507b5-197">**LBUTTONDBLCLK do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-197">**WM\_LBUTTONDBLCLK**</span></span>](/windows/desktop/inputdev/wm-lbuttondblclk) | <span data-ttu-id="507b5-198">Captura a entrada do mouse.</span><span class="sxs-lookup"><span data-stu-id="507b5-198">Captures mouse input.</span></span> <span data-ttu-id="507b5-199">Se o cursor do mouse estiver em um divisor, o controle enviará o código de notificação [HDN \_ BEGINTRACK](hdn-begintrack.md) e começará a arrastar o divisor.</span><span class="sxs-lookup"><span data-stu-id="507b5-199">If the mouse cursor is on a divider, the control sends the [HDN\_BEGINTRACK](hdn-begintrack.md) notification code and begins dragging the divider.</span></span> <span data-ttu-id="507b5-200">Se o cursor estiver em um item, o item será exibido no estado pressionado.</span><span class="sxs-lookup"><span data-stu-id="507b5-200">If the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                            |
| [<span data-ttu-id="507b5-201">**LBUTTONDOWN do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-201">**WM\_LBUTTONDOWN**</span></span>](/windows/desktop/inputdev/wm-lbuttondown)     | <span data-ttu-id="507b5-202">O mesmo que a mensagem [**\_ LBUTTONDBLCLK do WM**](/windows/desktop/inputdev/wm-lbuttondblclk) .</span><span class="sxs-lookup"><span data-stu-id="507b5-202">Same as the [**WM\_LBUTTONDBLCLK**](/windows/desktop/inputdev/wm-lbuttondblclk) message.</span></span>                                                                                                                                                                                                                                       |
| [<span data-ttu-id="507b5-203">**LBUTTONUP do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-203">**WM\_LBUTTONUP**</span></span>](/windows/desktop/inputdev/wm-lbuttonup)         | <span data-ttu-id="507b5-204">Libera a captura do mouse.</span><span class="sxs-lookup"><span data-stu-id="507b5-204">Releases the mouse capture.</span></span> <span data-ttu-id="507b5-205">Se o controle estava rastreando o movimento do mouse, ele envia o código de notificação do [ \_ endtrack HDN](hdn-endtrack.md) e redesenha o controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-205">If the control was tracking mouse movement, it sends the [HDN\_ENDTRACK](hdn-endtrack.md) notification code and redraws the header control.</span></span> <span data-ttu-id="507b5-206">Caso contrário, o controle enviará o código de notificação [HDN \_ DoClick](hdn-itemclick.md) e redesenhará o item de cabeçalho que foi clicado.</span><span class="sxs-lookup"><span data-stu-id="507b5-206">Otherwise, the control sends the [HDN\_ITEMCLICK](hdn-itemclick.md) notification code and redraws the header item that was clicked.</span></span> |
| [<span data-ttu-id="507b5-207">**admousemove do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-207">**WM\_MOUSEMOVE**</span></span>](/windows/desktop/inputdev/wm-mousemove)         | <span data-ttu-id="507b5-208">Se um divisor estiver sendo arrastado, o controle enviará o código de notificação [HDN \_ Track](hdn-track.md) e exibirá o item na nova posição.</span><span class="sxs-lookup"><span data-stu-id="507b5-208">If a divider is being dragged, the control sends the [HDN\_TRACK](hdn-track.md) notification code and displays the item at the new position.</span></span> <span data-ttu-id="507b5-209">Se o botão esquerdo do mouse estiver pressionado e o cursor estiver em um item, o item será exibido no estado pressionado.</span><span class="sxs-lookup"><span data-stu-id="507b5-209">If the left mouse button is down and the cursor is on an item, the item is displayed in the pressed state.</span></span>                                                      |
| [<span data-ttu-id="507b5-210">**NCCREATE do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-210">**WM\_NCCREATE**</span></span>](/windows/desktop/winmsg/wm-nccreate)             | <span data-ttu-id="507b5-211">Aloca e Inicializa uma estrutura de dados interna.</span><span class="sxs-lookup"><span data-stu-id="507b5-211">Allocates and initializes an internal data structure.</span></span>                                                                                                                                                                                                                                                         |
| [<span data-ttu-id="507b5-212">**NCDESTROY do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-212">**WM\_NCDESTROY**</span></span>](/windows/desktop/winmsg/wm-ncdestroy)           | <span data-ttu-id="507b5-213">Libera os recursos alocados pelo controle de cabeçalho depois que o controle de cabeçalho não é inicializado.</span><span class="sxs-lookup"><span data-stu-id="507b5-213">Frees the resources allocated by the header control after the header control is uninitialized.</span></span>                                                                                                                                                                                                                |
| [<span data-ttu-id="507b5-214">**pintura do WM \_**</span><span class="sxs-lookup"><span data-stu-id="507b5-214">**WM\_PAINT**</span></span>](/windows/desktop/gdi/wm-paint)                      | <span data-ttu-id="507b5-215">Pinta a região inválida do controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-215">Paints the invalid region of the header control.</span></span> <span data-ttu-id="507b5-216">Se o parâmetro *wParam* for não nulo, o controle assumirá que o valor é um hDC e pinta usando esse contexto de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="507b5-216">If the *wParam* parameter is non-NULL, the control assumes that the value is an HDC and paints using that device context.</span></span>                                                                                                                                    |
| [<span data-ttu-id="507b5-217">**WM \_ SETcursor**</span><span class="sxs-lookup"><span data-stu-id="507b5-217">**WM\_SETCURSOR**</span></span>](/windows/desktop/menurc/wm-setcursor)           | <span data-ttu-id="507b5-218">Define a forma do cursor, dependendo se o cursor está em um divisor ou em um item de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-218">Sets the cursor shape, depending on whether the cursor is on a divider or in a header item.</span></span>                                                                                                                                                                                                                   |
| [<span data-ttu-id="507b5-219">**WM \_ SETfont**</span><span class="sxs-lookup"><span data-stu-id="507b5-219">**WM\_SETFONT**</span></span>](/windows/desktop/winmsg/wm-setfont)               | <span data-ttu-id="507b5-220">Seleciona um novo identificador de fonte no contexto do dispositivo para o controle de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="507b5-220">Selects a new font handle into the device context for the header control.</span></span>                                                                                                                                                                                                                                     |



 

 

 