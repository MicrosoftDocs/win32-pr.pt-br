---
description: A vinculação dinâmica permite que um módulo inclua apenas as informações necessárias para localizar uma função DLL exportada no tempo de carregamento ou em tempo de execução.
ms.assetid: df2a8e4c-7ad0-46ea-9643-1528a9ea1503
title: Sobre bibliotecas de Dynamic-Link
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2bdb24048e17e9164aaf39d0ab337aea33576c95
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "103827517"
---
# <a name="about-dynamic-link-libraries"></a><span data-ttu-id="be538-103">Sobre bibliotecas de Dynamic-Link</span><span class="sxs-lookup"><span data-stu-id="be538-103">About Dynamic-Link Libraries</span></span>

<span data-ttu-id="be538-104">A vinculação dinâmica permite que um módulo inclua apenas as informações necessárias para localizar uma função DLL exportada no tempo de carregamento ou em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="be538-104">Dynamic linking allows a module to include only the information needed to locate an exported DLL function at load time or run time.</span></span> <span data-ttu-id="be538-105">A vinculação dinâmica difere da vinculação estática mais familiar, na qual o vinculador copia o código de uma função de biblioteca em cada módulo que a chama.</span><span class="sxs-lookup"><span data-stu-id="be538-105">Dynamic linking differs from the more familiar static linking, in which the linker copies a library function's code into each module that calls it.</span></span>

## <a name="types-of-dynamic-linking"></a><span data-ttu-id="be538-106">Tipos de vinculação dinâmica</span><span class="sxs-lookup"><span data-stu-id="be538-106">Types of Dynamic Linking</span></span>

<span data-ttu-id="be538-107">Há dois métodos para chamar uma função em uma DLL:</span><span class="sxs-lookup"><span data-stu-id="be538-107">There are two methods for calling a function in a DLL:</span></span>

-   <span data-ttu-id="be538-108">Em *vinculação dinâmica em tempo de carregamento*, um módulo faz chamadas explícitas para funções de dll exportadas como se fossem funções locais.</span><span class="sxs-lookup"><span data-stu-id="be538-108">In *load-time dynamic linking*, a module makes explicit calls to exported DLL functions as if they were local functions.</span></span> <span data-ttu-id="be538-109">Isso exige que você vincule o módulo com a biblioteca de importação para a DLL que contém as funções.</span><span class="sxs-lookup"><span data-stu-id="be538-109">This requires you to link the module with the import library for the DLL that contains the functions.</span></span> <span data-ttu-id="be538-110">Uma biblioteca de importação fornece ao sistema as informações necessárias para carregar a DLL e localizar as funções de DLL exportadas quando o aplicativo é carregado.</span><span class="sxs-lookup"><span data-stu-id="be538-110">An import library supplies the system with the information needed to load the DLL and locate the exported DLL functions when the application is loaded.</span></span>
-   <span data-ttu-id="be538-111">Em *vinculação dinâmica em tempo de execução*, um módulo usa a função [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) ou [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) para carregar a dll em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="be538-111">In *run-time dynamic linking*, a module uses the [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) or [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) function to load the DLL at run time.</span></span> <span data-ttu-id="be538-112">Depois que a DLL é carregada, o módulo chama a função [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) para obter os endereços das funções DLL exportadas.</span><span class="sxs-lookup"><span data-stu-id="be538-112">After the DLL is loaded, the module calls the [**GetProcAddress**](/windows/win32/api/libloaderapi/nf-libloaderapi-getprocaddress) function to get the addresses of the exported DLL functions.</span></span> <span data-ttu-id="be538-113">O módulo chama as funções de DLL exportadas usando os ponteiros de função retornados por **GetProcAddress**.</span><span class="sxs-lookup"><span data-stu-id="be538-113">The module calls the exported DLL functions using the function pointers returned by **GetProcAddress**.</span></span> <span data-ttu-id="be538-114">Isso elimina a necessidade de uma biblioteca de importação.</span><span class="sxs-lookup"><span data-stu-id="be538-114">This eliminates the need for an import library.</span></span>

## <a name="dlls-and-memory-management"></a><span data-ttu-id="be538-115">DLLs e gerenciamento de memória</span><span class="sxs-lookup"><span data-stu-id="be538-115">DLLs and Memory Management</span></span>

<span data-ttu-id="be538-116">Cada processo que carrega a DLL a mapeia em seu espaço de endereço virtual.</span><span class="sxs-lookup"><span data-stu-id="be538-116">Every process that loads the DLL maps it into its virtual address space.</span></span> <span data-ttu-id="be538-117">Depois que o processo carrega a DLL em seu endereço virtual, ele pode chamar as funções de DLL exportadas.</span><span class="sxs-lookup"><span data-stu-id="be538-117">After the process loads the DLL into its virtual address, it can call the exported DLL functions.</span></span>

<span data-ttu-id="be538-118">O sistema mantém uma contagem de referência por processo para cada DLL.</span><span class="sxs-lookup"><span data-stu-id="be538-118">The system maintains a per-process reference count for each DLL.</span></span> <span data-ttu-id="be538-119">Quando um thread carrega a DLL, a contagem de referência é incrementada em uma.</span><span class="sxs-lookup"><span data-stu-id="be538-119">When a thread loads the DLL, the reference count is incremented by one.</span></span> <span data-ttu-id="be538-120">Quando o processo é encerrado, ou quando a contagem de referência se torna zero (somente vinculação dinâmica em tempo de execução), a DLL é descarregada do espaço de endereço virtual do processo.</span><span class="sxs-lookup"><span data-stu-id="be538-120">When the process terminates, or when the reference count becomes zero (run-time dynamic linking only), the DLL is unloaded from the virtual address space of the process.</span></span>

<span data-ttu-id="be538-121">Como qualquer outra função, uma função DLL exportada é executada no contexto do thread que a chama.</span><span class="sxs-lookup"><span data-stu-id="be538-121">Like any other function, an exported DLL function runs in the context of the thread that calls it.</span></span> <span data-ttu-id="be538-122">Portanto, as seguintes condições se aplicam:</span><span class="sxs-lookup"><span data-stu-id="be538-122">Therefore, the following conditions apply:</span></span>

-   <span data-ttu-id="be538-123">Os threads do processo que chamou a DLL podem usar identificadores abertos por uma função de DLL.</span><span class="sxs-lookup"><span data-stu-id="be538-123">The threads of the process that called the DLL can use handles opened by a DLL function.</span></span> <span data-ttu-id="be538-124">Da mesma forma, os identificadores abertos por qualquer thread do processo de chamada podem ser usados na função DLL.</span><span class="sxs-lookup"><span data-stu-id="be538-124">Similarly, handles opened by any thread of the calling process can be used in the DLL function.</span></span>
-   <span data-ttu-id="be538-125">A DLL usa a pilha do thread de chamada e o espaço de endereço virtual do processo de chamada.</span><span class="sxs-lookup"><span data-stu-id="be538-125">The DLL uses the stack of the calling thread and the virtual address space of the calling process.</span></span>
-   <span data-ttu-id="be538-126">A DLL aloca memória do espaço de endereço virtual do processo de chamada.</span><span class="sxs-lookup"><span data-stu-id="be538-126">The DLL allocates memory from the virtual address space of the calling process.</span></span>

<span data-ttu-id="be538-127">Para obter mais informações sobre DLLs, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="be538-127">For more information about DLLs, see the following topics:</span></span>

-   [<span data-ttu-id="be538-128">Vantagens da vinculação dinâmica</span><span class="sxs-lookup"><span data-stu-id="be538-128">Advantages of Dynamic Linking</span></span>](advantages-of-dynamic-linking.md)
-   [<span data-ttu-id="be538-129">Criação de biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-129">Dynamic-Link Library Creation</span></span>](dynamic-link-library-creation.md)
-   [<span data-ttu-id="be538-130">Função de Entry-Point de biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-130">Dynamic-Link Library Entry-Point Function</span></span>](dynamic-link-library-entry-point-function.md)
-   [<span data-ttu-id="be538-131">Vinculação dinâmica em tempo de carregamento</span><span class="sxs-lookup"><span data-stu-id="be538-131">Load-Time Dynamic Linking</span></span>](load-time-dynamic-linking.md)
-   [<span data-ttu-id="be538-132">Vinculação dinâmica em tempo de execução</span><span class="sxs-lookup"><span data-stu-id="be538-132">Run-Time Dynamic Linking</span></span>](run-time-dynamic-linking.md)
-   [<span data-ttu-id="be538-133">Ordem de pesquisa da biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-133">Dynamic-Link Library Search Order</span></span>](dynamic-link-library-search-order.md)
-   [<span data-ttu-id="be538-134">Dados da biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-134">Dynamic-Link Library Data</span></span>](dynamic-link-library-data.md)
-   [<span data-ttu-id="be538-135">Redirecionamento de biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-135">Dynamic-Link Library Redirection</span></span>](dynamic-link-library-redirection.md)
-   [<span data-ttu-id="be538-136">Atualizações da biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-136">Dynamic-Link Library Updates</span></span>](dynamic-link-library-updates.md)
-   [<span data-ttu-id="be538-137">Segurança da biblioteca de vínculo dinâmico</span><span class="sxs-lookup"><span data-stu-id="be538-137">Dynamic-Link Library Security</span></span>](dynamic-link-library-security.md)
-   [<span data-ttu-id="be538-138">AppInit DLLs e inicialização segura</span><span class="sxs-lookup"><span data-stu-id="be538-138">AppInit DLLs and Secure Boot</span></span>](secure-boot-and-appinit-dlls.md)

 

 
