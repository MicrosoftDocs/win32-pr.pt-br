---
description: Quando um aplicativo carrega dinamicamente uma biblioteca de vínculo dinâmico sem especificar um nome de caminho totalmente qualificado, o Windows tenta localizar a DLL pesquisando um conjunto bem definido de diretórios em uma ordem específica, conforme descrito em Dynamic-Link ordem de pesquisa da biblioteca. Se um invasor obtiver o controle de um dos diretórios no caminho de pesquisa da DLL, ele poderá fazer uma cópia mal-intencionada da DLL nesse diretório. Isso às vezes é chamado de ataque de pré-carregamento de DLL ou um ataque de binary planting.
ms.assetid: 9493F299-789D-4CBC-9822-96EEAE39B494
title: Segurança da biblioteca de Dynamic-Link
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4016139762461784702ac0190c1ee65d8bc6e72d
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105759001"
---
# <a name="dynamic-link-library-security"></a><span data-ttu-id="cebcf-105">Segurança da biblioteca de Dynamic-Link</span><span class="sxs-lookup"><span data-stu-id="cebcf-105">Dynamic-Link Library Security</span></span>

<span data-ttu-id="cebcf-106">Quando um aplicativo carrega dinamicamente uma biblioteca de vínculo dinâmico sem especificar um nome de caminho totalmente qualificado, o Windows tenta localizar a DLL pesquisando um conjunto bem definido de diretórios em uma ordem específica, conforme descrito em [ordem de pesquisa da biblioteca de vínculo dinâmico](dynamic-link-library-search-order.md).</span><span class="sxs-lookup"><span data-stu-id="cebcf-106">When an application dynamically loads a dynamic-link library without specifying a fully qualified path name, Windows attempts to locate the DLL by searching a well-defined set of directories in a particular order, as described in [Dynamic-Link Library Search Order](dynamic-link-library-search-order.md).</span></span> <span data-ttu-id="cebcf-107">Se um invasor obtiver o controle de um dos diretórios no caminho de pesquisa da DLL, ele poderá fazer uma cópia mal-intencionada da DLL nesse diretório.</span><span class="sxs-lookup"><span data-stu-id="cebcf-107">If an attacker gains control of one of the directories on the DLL search path, it can place a malicious copy of the DLL in that directory.</span></span> <span data-ttu-id="cebcf-108">Isso às vezes é chamado de *ataque de pré-carregamento de dll* ou um ataque de *Binary planting*.</span><span class="sxs-lookup"><span data-stu-id="cebcf-108">This is sometimes called a *DLL preloading attack* or a *binary planting attack*.</span></span> <span data-ttu-id="cebcf-109">Se o sistema não encontrar uma cópia legítima da DLL antes de Pesquisar no diretório comprometido, ele carregará a DLL mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="cebcf-109">If the system does not find a legitimate copy of the DLL before it searches the compromised directory, it loads the malicious DLL.</span></span> <span data-ttu-id="cebcf-110">Se o aplicativo estiver sendo executado com privilégios de administrador, o invasor poderá ter sucesso na elevação de privilégio local.</span><span class="sxs-lookup"><span data-stu-id="cebcf-110">If the application is running with administrator privileges, the attacker may succeed in local privilege elevation.</span></span>

<span data-ttu-id="cebcf-111">Por exemplo, suponha que um aplicativo seja projetado para carregar uma DLL do diretório atual do usuário e falhar normalmente se a DLL não for encontrada.</span><span class="sxs-lookup"><span data-stu-id="cebcf-111">For example, suppose an application is designed to load a DLL from the user's current directory and fail gracefully if the DLL is not found.</span></span> <span data-ttu-id="cebcf-112">O aplicativo chama [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) apenas com o nome da dll, o que faz com que o sistema procure a dll.</span><span class="sxs-lookup"><span data-stu-id="cebcf-112">The application calls [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) with just the name of the DLL, which causes the system to search for the DLL.</span></span> <span data-ttu-id="cebcf-113">Supondo que o modo de pesquisa de DLL seguro esteja habilitado e o aplicativo não esteja usando uma ordem de pesquisa alternativa, o sistema pesquisará os diretórios na seguinte ordem:</span><span class="sxs-lookup"><span data-stu-id="cebcf-113">Assuming safe DLL search mode is enabled and the application is not using an alternate search order, the system searches directories in the following order:</span></span>

1.  <span data-ttu-id="cebcf-114">O diretório do qual o aplicativo foi carregado.</span><span class="sxs-lookup"><span data-stu-id="cebcf-114">The directory from which the application loaded.</span></span>
2.  <span data-ttu-id="cebcf-115">O diretório do sistema.</span><span class="sxs-lookup"><span data-stu-id="cebcf-115">The system directory.</span></span>
3.  <span data-ttu-id="cebcf-116">O diretório do sistema de 16 bits.</span><span class="sxs-lookup"><span data-stu-id="cebcf-116">The 16-bit system directory.</span></span>
4.  <span data-ttu-id="cebcf-117">O diretório do Windows.</span><span class="sxs-lookup"><span data-stu-id="cebcf-117">The Windows directory.</span></span>
5.  <span data-ttu-id="cebcf-118">O diretório atual.</span><span class="sxs-lookup"><span data-stu-id="cebcf-118">The current directory.</span></span>
6.  <span data-ttu-id="cebcf-119">Os diretórios listados na variável de ambiente PATH.</span><span class="sxs-lookup"><span data-stu-id="cebcf-119">The directories that are listed in the PATH environment variable.</span></span>

<span data-ttu-id="cebcf-120">Continuando o exemplo, um invasor com conhecimento do aplicativo obtém o controle do diretório atual e coloca uma cópia mal-intencionada da DLL nesse diretório.</span><span class="sxs-lookup"><span data-stu-id="cebcf-120">Continuing the example, an attacker with knowledge of the application gains control of the current directory and places a malicious copy of the DLL in that directory.</span></span> <span data-ttu-id="cebcf-121">Quando o aplicativo emite a chamada **LoadLibrary** , o sistema procura a dll, localiza a cópia mal-INTENCIONADA da dll no diretório atual e a carrega.</span><span class="sxs-lookup"><span data-stu-id="cebcf-121">When the application issues the **LoadLibrary** call, the system searches for the DLL, finds the malicious copy of the DLL in the current directory, and loads it.</span></span> <span data-ttu-id="cebcf-122">A cópia mal-intencionada da DLL é executada dentro do aplicativo e obtém os privilégios do usuário.</span><span class="sxs-lookup"><span data-stu-id="cebcf-122">The malicious copy of the DLL then runs within the application and gains the privileges of the user.</span></span>

<span data-ttu-id="cebcf-123">Os desenvolvedores podem ajudar a proteger seus aplicativos contra ataques de pré-carregamento de DLL seguindo estas diretrizes:</span><span class="sxs-lookup"><span data-stu-id="cebcf-123">Developers can help safeguard their applications against DLL preloading attacks by following these guidelines:</span></span>

-   <span data-ttu-id="cebcf-124">Sempre que possível, especifique um caminho totalmente qualificado ao usar as funções [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya), [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa), [**CreateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa)ou [**ShellExecute**](/windows/desktop/api/shellapi/nf-shellapi-shellexecutea) .</span><span class="sxs-lookup"><span data-stu-id="cebcf-124">Wherever possible, specify a fully qualified path when using the [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya), [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa), [**CreateProcess**](/windows/desktop/api/processthreadsapi/nf-processthreadsapi-createprocessa), or [**ShellExecute**](/windows/desktop/api/shellapi/nf-shellapi-shellexecutea) functions.</span></span>
-   <span data-ttu-id="cebcf-125">Use os sinalizadores de pesquisa da biblioteca de carregamento \_ \_ com a função [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) ou use esses sinalizadores com a função [**SetDefaultDllDirectories**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-setdefaultdlldirectories) para estabelecer uma ordem de pesquisa de dll para um processo e, em seguida, use as funções [**AddDllDirectory**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-adddlldirectory) ou [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) para modificar a lista.</span><span class="sxs-lookup"><span data-stu-id="cebcf-125">Use the LOAD\_LIBRARY\_SEARCH flags with the [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) function, or use these flags with the [**SetDefaultDllDirectories**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-setdefaultdlldirectories) function to establish a DLL search order for a process and then use the [**AddDllDirectory**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-adddlldirectory) or [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) functions to modify the list.</span></span> <span data-ttu-id="cebcf-126">Para obter mais informações, consulte [ordem de pesquisa da biblioteca de vínculo dinâmico](dynamic-link-library-search-order.md).</span><span class="sxs-lookup"><span data-stu-id="cebcf-126">For more information, see [Dynamic-Link Library Search Order](dynamic-link-library-search-order.md).</span></span>

    <span data-ttu-id="cebcf-127">**Windows 7, Windows server 2008 R2, Windows Vista e Windows server 2008:** Esses sinalizadores e funções estão disponíveis em sistemas com o [KB2533623](https://support.microsoft.com/kb/2533623) instalado.</span><span class="sxs-lookup"><span data-stu-id="cebcf-127">**Windows 7, Windows Server 2008 R2, Windows Vista and Windows Server 2008:** These flags and functions are available on systems with [KB2533623](https://support.microsoft.com/kb/2533623) installed.</span></span>

-   <span data-ttu-id="cebcf-128">Em sistemas com o [KB2533623](https://support.microsoft.com/kb/2533623) instalado, use os \_ sinalizadores de pesquisa da biblioteca de carregamento \_ com a função [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) ou use esses sinalizadores com a função [**SetDefaultDllDirectories**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-setdefaultdlldirectories) para estabelecer uma ordem de pesquisa de dll para um processo e, em seguida, use as funções [**AddDllDirectory**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-adddlldirectory) ou [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) para modificar a lista.</span><span class="sxs-lookup"><span data-stu-id="cebcf-128">On systems with [KB2533623](https://support.microsoft.com/kb/2533623) installed, use the LOAD\_LIBRARY\_SEARCH flags with the [**LoadLibraryEx**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-loadlibraryexa) function, or use these flags with the [**SetDefaultDllDirectories**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-setdefaultdlldirectories) function to establish a DLL search order for a process and then use the [**AddDllDirectory**](/windows/desktop/api/LibLoaderAPI/nf-libloaderapi-adddlldirectory) or [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) functions to modify the list.</span></span> <span data-ttu-id="cebcf-129">Para obter mais informações, consulte [ordem de pesquisa da biblioteca de vínculo dinâmico](dynamic-link-library-search-order.md).</span><span class="sxs-lookup"><span data-stu-id="cebcf-129">For more information, see [Dynamic-Link Library Search Order](dynamic-link-library-search-order.md).</span></span>
-   <span data-ttu-id="cebcf-130">Considere usar o [redirecionamento de dll](dynamic-link-library-redirection.md) ou um [manifesto](/windows/desktop/SbsCs/manifests) para garantir que seu aplicativo use a dll correta.</span><span class="sxs-lookup"><span data-stu-id="cebcf-130">Consider using [DLL redirection](dynamic-link-library-redirection.md) or a [manifest](/windows/desktop/SbsCs/manifests) to ensure that your application uses the correct DLL.</span></span>
-   <span data-ttu-id="cebcf-131">Ao usar a ordem de pesquisa padrão, verifique se o modo de pesquisa de DLL seguro está habilitado.</span><span class="sxs-lookup"><span data-stu-id="cebcf-131">When using the standard search order, make sure that safe DLL search mode is enabled.</span></span> <span data-ttu-id="cebcf-132">Isso colocará o diretório atual do usuário mais tarde na ordem de pesquisa, aumentando as chances de o Windows encontrar uma cópia legítima da DLL antes de uma cópia mal-intencionada.</span><span class="sxs-lookup"><span data-stu-id="cebcf-132">This places the user's current directory later in the search order, increasing the chances that Windows will find a legitimate copy of the DLL before a malicious copy.</span></span> <span data-ttu-id="cebcf-133">O modo de pesquisa de dll seguro é habilitado por padrão a partir do Windows XP com Service Pack 2 (SP2) e é controlado pelo valor de registro de SafeDllSearchMode do **\_ sistema de \_ máquina local \\ \\ CurrentControlSet \\ Control \\ Session Manager** \\  .</span><span class="sxs-lookup"><span data-stu-id="cebcf-133">Safe DLL search mode is enabled by default starting with Windows XP with Service Pack 2 (SP2) and is controlled by the **HKEY\_LOCAL\_MACHINE\\System\\CurrentControlSet\\Control\\Session Manager**\\**SafeDllSearchMode** registry value.</span></span> <span data-ttu-id="cebcf-134">Para obter mais informações, consulte [ordem de pesquisa da biblioteca de vínculo dinâmico](dynamic-link-library-search-order.md).</span><span class="sxs-lookup"><span data-stu-id="cebcf-134">For more information, see [Dynamic-Link Library Search Order](dynamic-link-library-search-order.md).</span></span>
-   <span data-ttu-id="cebcf-135">Considere remover o diretório atual do caminho de pesquisa padrão chamando [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) com uma cadeia de caracteres vazia ("").</span><span class="sxs-lookup"><span data-stu-id="cebcf-135">Consider removing the current directory from the standard search path by calling [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya) with an empty string ("").</span></span> <span data-ttu-id="cebcf-136">Isso deve ser feito uma vez no início da inicialização do processo, não antes e depois das chamadas para [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya).</span><span class="sxs-lookup"><span data-stu-id="cebcf-136">This should be done once early in process initialization, not before and after calls to [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya).</span></span> <span data-ttu-id="cebcf-137">Lembre-se de que o **SetDllDirectory** afeta todo o processo e que vários threads que chamam **SetDllDirectory** com valores diferentes podem causar um comportamento indefinido.</span><span class="sxs-lookup"><span data-stu-id="cebcf-137">Be aware that **SetDllDirectory** affects the entire process and that multiple threads calling **SetDllDirectory** with different values can cause undefined behavior.</span></span> <span data-ttu-id="cebcf-138">Se seu aplicativo carregar DLLs de terceiros, teste cuidadosamente para identificar as incompatibilidades.</span><span class="sxs-lookup"><span data-stu-id="cebcf-138">If your application loads third-party DLLs, test carefully to identify any incompatibilities.</span></span>
-   <span data-ttu-id="cebcf-139">Não use a função [**SearchPath**](/windows/desktop/api/processenv/nf-processenv-searchpathw) para recuperar um caminho para uma dll para uma chamada de [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) subsequente, a menos que o modo de pesquisa de processo seguro esteja habilitado.</span><span class="sxs-lookup"><span data-stu-id="cebcf-139">Do not use the [**SearchPath**](/windows/desktop/api/processenv/nf-processenv-searchpathw) function to retrieve a path to a DLL for a subsequent [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) call unless safe process search mode is enabled.</span></span> <span data-ttu-id="cebcf-140">Quando o modo de pesquisa de processo seguro não está habilitado, a função **SearchPath** usa uma ordem de pesquisa diferente de **LoadLibrary** e provavelmente procura primeiro o diretório atual do usuário na DLL especificada.</span><span class="sxs-lookup"><span data-stu-id="cebcf-140">When safe process search mode is not enabled, the **SearchPath** function uses a different search order than **LoadLibrary** and is likely to first search the user's current directory for the specified DLL.</span></span> <span data-ttu-id="cebcf-141">Para habilitar o modo de pesquisa de processo seguro para a função **SearchPath** , use a função [**SetSearchPathMode**](/windows/desktop/api/winbase/nf-winbase-setsearchpathmode) com o caminho de pesquisa de base \_ habilitar o \_ \_ \_ \_ searchmode seguro.</span><span class="sxs-lookup"><span data-stu-id="cebcf-141">To enable safe process search mode for the **SearchPath** function, use the [**SetSearchPathMode**](/windows/desktop/api/winbase/nf-winbase-setsearchpathmode) function with BASE\_SEARCH\_PATH\_ENABLE\_SAFE\_SEARCHMODE.</span></span> <span data-ttu-id="cebcf-142">Isso move o diretório atual para o final da lista de pesquisa do **SearchPath** para a vida útil do processo.</span><span class="sxs-lookup"><span data-stu-id="cebcf-142">This moves the current directory to the end of the **SearchPath** search list for the life of the process.</span></span> <span data-ttu-id="cebcf-143">Observe que o diretório atual não é removido do caminho de pesquisa, portanto, se o sistema não encontrar uma cópia legítima da DLL antes de atingir o diretório atual, o aplicativo ainda estará vulnerável.</span><span class="sxs-lookup"><span data-stu-id="cebcf-143">Note that the current directory is not removed from the search path, so if the system does not find a legitimate copy of the DLL before it reaches the current directory, the application is still vulnerable.</span></span> <span data-ttu-id="cebcf-144">Assim como com [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya), chamar **SetSearchPathMode** deve ser feito antecipadamente na inicialização do processo e afeta todo o processo.</span><span class="sxs-lookup"><span data-stu-id="cebcf-144">As with [**SetDllDirectory**](/windows/desktop/api/Winbase/nf-winbase-setdlldirectorya), calling **SetSearchPathMode** should be done early in process initialization and it affects the entire process.</span></span> <span data-ttu-id="cebcf-145">Se seu aplicativo carregar DLLs de terceiros, teste cuidadosamente para identificar as incompatibilidades.</span><span class="sxs-lookup"><span data-stu-id="cebcf-145">If your application loads third-party DLLs, test carefully to identify any incompatibilities.</span></span>
-   <span data-ttu-id="cebcf-146">Não faça suposições sobre a versão do sistema operacional com base em uma chamada [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) que procura por uma dll.</span><span class="sxs-lookup"><span data-stu-id="cebcf-146">Do not make assumptions about the operating system version based on a [**LoadLibrary**](/windows/win32/api/libloaderapi/nf-libloaderapi-loadlibrarya) call that searches for a DLL.</span></span> <span data-ttu-id="cebcf-147">Se o aplicativo estiver em execução em um ambiente em que a DLL está legitimamente ausente, mas uma cópia mal-intencionada da DLL estiver no caminho de pesquisa, a cópia mal-intencionada da DLL poderá ser carregada.</span><span class="sxs-lookup"><span data-stu-id="cebcf-147">If the application is running in an environment where the DLL is legitimately not present but a malicious copy of the DLL is in the search path, the malicious copy of the DLL may be loaded.</span></span> <span data-ttu-id="cebcf-148">Em vez disso, use as técnicas recomendadas descritas em [obtendo a versão do sistema](/windows/desktop/SysInfo/getting-the-system-version).</span><span class="sxs-lookup"><span data-stu-id="cebcf-148">Instead, use the recommended techniques described in [Getting the System Version](/windows/desktop/SysInfo/getting-the-system-version).</span></span>

<span data-ttu-id="cebcf-149">A ferramenta Process Monitor pode ser usada para ajudar a identificar as operações de carregamento de DLL que podem estar vulneráveis.</span><span class="sxs-lookup"><span data-stu-id="cebcf-149">The Process Monitor tool can be used to help identify DLL load operations that might be vulnerable.</span></span> <span data-ttu-id="cebcf-150">A ferramenta Process Monitor pode ser baixada de <https://technet.microsoft.com/sysinternals/bb896645.aspx> .</span><span class="sxs-lookup"><span data-stu-id="cebcf-150">The Process Monitor tool can be downloaded from <https://technet.microsoft.com/sysinternals/bb896645.aspx>.</span></span>

<span data-ttu-id="cebcf-151">O procedimento a seguir descreve como usar o Process Monitor para examinar as operações de carregamento de DLL em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cebcf-151">The following procedure describes how to use Process Monitor to examine DLL load operations in your application.</span></span>

<span data-ttu-id="cebcf-152">**Para usar o Process Monitor para examinar as operações de carregamento de DLL em seu aplicativo**</span><span class="sxs-lookup"><span data-stu-id="cebcf-152">**To use Process Monitor to examine DLL load operations in your application**</span></span>

1.  <span data-ttu-id="cebcf-153">Inicie o Process Monitor.</span><span class="sxs-lookup"><span data-stu-id="cebcf-153">Start Process Monitor.</span></span>
2.  <span data-ttu-id="cebcf-154">No Process Monitor, inclua os seguintes filtros:</span><span class="sxs-lookup"><span data-stu-id="cebcf-154">In Process Monitor, include the following filters:</span></span>
    -   <span data-ttu-id="cebcf-155">A operação é CreateFile</span><span class="sxs-lookup"><span data-stu-id="cebcf-155">Operation is CreateFile</span></span>
    -   <span data-ttu-id="cebcf-156">A operação é LoadImage</span><span class="sxs-lookup"><span data-stu-id="cebcf-156">Operation is LoadImage</span></span>
    -   <span data-ttu-id="cebcf-157">Caminho contém. cpl</span><span class="sxs-lookup"><span data-stu-id="cebcf-157">Path contains .cpl</span></span>
    -   <span data-ttu-id="cebcf-158">Caminho contém. dll</span><span class="sxs-lookup"><span data-stu-id="cebcf-158">Path contains .dll</span></span>
    -   <span data-ttu-id="cebcf-159">Caminho contém. drv</span><span class="sxs-lookup"><span data-stu-id="cebcf-159">Path contains .drv</span></span>
    -   <span data-ttu-id="cebcf-160">Caminho contém. exe</span><span class="sxs-lookup"><span data-stu-id="cebcf-160">Path contains .exe</span></span>
    -   <span data-ttu-id="cebcf-161">Caminho contém. ocx</span><span class="sxs-lookup"><span data-stu-id="cebcf-161">Path contains .ocx</span></span>
    -   <span data-ttu-id="cebcf-162">Caminho contém. SCR</span><span class="sxs-lookup"><span data-stu-id="cebcf-162">Path contains .scr</span></span>
    -   <span data-ttu-id="cebcf-163">Caminho contém. sys</span><span class="sxs-lookup"><span data-stu-id="cebcf-163">Path contains .sys</span></span>
3.  <span data-ttu-id="cebcf-164">Exclua os seguintes filtros:</span><span class="sxs-lookup"><span data-stu-id="cebcf-164">Exclude the following filters:</span></span>
    -   <span data-ttu-id="cebcf-165">O nome do processo é procmon.exe</span><span class="sxs-lookup"><span data-stu-id="cebcf-165">Process Name is procmon.exe</span></span>
    -   <span data-ttu-id="cebcf-166">O nome do processo é Procmon64.exe</span><span class="sxs-lookup"><span data-stu-id="cebcf-166">Process Name is Procmon64.exe</span></span>
    -   <span data-ttu-id="cebcf-167">O nome do processo é System</span><span class="sxs-lookup"><span data-stu-id="cebcf-167">Process Name is System</span></span>
    -   <span data-ttu-id="cebcf-168">A operação começa com IRP \_ MJ\_</span><span class="sxs-lookup"><span data-stu-id="cebcf-168">Operation begins with IRP\_MJ\_</span></span>
    -   <span data-ttu-id="cebcf-169">A operação começa com FASTIO\_</span><span class="sxs-lookup"><span data-stu-id="cebcf-169">Operation begins with FASTIO\_</span></span>
    -   <span data-ttu-id="cebcf-170">O resultado é SUCCESS</span><span class="sxs-lookup"><span data-stu-id="cebcf-170">Result is SUCCESS</span></span>
    -   <span data-ttu-id="cebcf-171">O caminho termina com pagefile.sys</span><span class="sxs-lookup"><span data-stu-id="cebcf-171">Path ends with pagefile.sys</span></span>
4.  <span data-ttu-id="cebcf-172">Tente iniciar o aplicativo com o diretório atual definido como um diretório específico.</span><span class="sxs-lookup"><span data-stu-id="cebcf-172">Attempt to start your application with the current directory set to a specific directory.</span></span> <span data-ttu-id="cebcf-173">Por exemplo, clique duas vezes em um arquivo com uma extensão cujo manipulador de arquivo é atribuído ao seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cebcf-173">For example, double-click a file with an extension whose file handler is assigned to your application.</span></span>
5.  <span data-ttu-id="cebcf-174">Verifique a saída do monitor de processos para caminhos que parecem suspeitos, como uma chamada para o diretório atual para carregar uma DLL.</span><span class="sxs-lookup"><span data-stu-id="cebcf-174">Check Process Monitor output for paths that look suspicious, such as a call to the current directory to load a DLL.</span></span> <span data-ttu-id="cebcf-175">Esse tipo de chamada pode indicar uma vulnerabilidade em seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="cebcf-175">This kind of call might indicate a vulnerability in your application.</span></span>

 

 
