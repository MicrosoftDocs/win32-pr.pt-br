---
title: Animando um caractere
description: Animando um caractere
ms.assetid: ed42de30-acac-41e8-bacb-4caaff254724
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ed47b30a9bcfcdb5e305b87ced5f02526ae0056
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "104007425"
---
# <a name="animating-a-character"></a><span data-ttu-id="ce604-103">Animando um caractere</span><span class="sxs-lookup"><span data-stu-id="ce604-103">Animating a Character</span></span>

<span data-ttu-id="ce604-104">\[O Microsoft Agent foi preterido a partir do Windows 7 e pode não estar disponível nas versões subsequentes do Windows.\]</span><span class="sxs-lookup"><span data-stu-id="ce604-104">\[Microsoft Agent is deprecated as of Windows 7, and may be unavailable in subsequent versions of Windows.\]</span></span>

<span data-ttu-id="ce604-105">Depois que um caractere é carregado, você pode usar vários métodos do Microsoft Agent para animar o caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-105">Once a character is loaded, you can use several of Microsoft Agent's methods for animating the character.</span></span> <span data-ttu-id="ce604-106">O primeiro que você usa é normalmente o método [**show**](show-method.md) .</span><span class="sxs-lookup"><span data-stu-id="ce604-106">The first one you use is typically the [**Show**](show-method.md) method.</span></span> <span data-ttu-id="ce604-107">**Mostrar** torna o quadro do caractere visível e reproduz a animação atribuída ao estado de **exibição** do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-107">**Show** makes the character's frame visible and plays the animation assigned to the character's **Showing** state.</span></span>

<span data-ttu-id="ce604-108">Depois que o quadro do caractere estiver visível, você poderá usar o método [**Play**](play-method.md) , especificando o nome de uma animação para reproduzir essa animação.</span><span class="sxs-lookup"><span data-stu-id="ce604-108">Once the character's frame is visible, you can use the [**Play**](play-method.md) method, specifying the name of an animation, to play that animation.</span></span> <span data-ttu-id="ce604-109">Os nomes de animação são específicos de uma definição de caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-109">Animation names are specific to a character definition.</span></span> <span data-ttu-id="ce604-110">Conforme uma animação é reproduzida, a forma de sua janela é alterada para corresponder à imagem no quadro.</span><span class="sxs-lookup"><span data-stu-id="ce604-110">As an animation plays, the shape of its window changes to match the image in the frame.</span></span> <span data-ttu-id="ce604-111">Isso resulta em uma imagem gráfica móvel, ou *Sprite*, exibida na parte superior da área de trabalho e de todas as janelas ou *ordem z*.</span><span class="sxs-lookup"><span data-stu-id="ce604-111">This results in a movable graphic image, or *sprite*, displayed on top of the desktop and all windows, or *z-order*.</span></span>

<span data-ttu-id="ce604-112">Se o arquivo do caractere for armazenado localmente, você poderá simplesmente chamar o método [**Play**](play-method.md) .</span><span class="sxs-lookup"><span data-stu-id="ce604-112">If the character's file is stored locally, you can simply call the [**Play**](play-method.md) method.</span></span> <span data-ttu-id="ce604-113">Em outros casos, como quando você carregou um. Caractere de ACF de um servidor HTTP, você deve usar o método [**Get**](get-method.md) (ou [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare)) para recuperar primeiro os dados da animação.</span><span class="sxs-lookup"><span data-stu-id="ce604-113">In other cases, such as when you have loaded an .ACF character from an HTTP server, you must use the [**Get**](get-method.md) (or [**Prepare**](/windows/desktop/lwef/iagentcharacter--prepare)) method to first retrieve the animation data.</span></span> <span data-ttu-id="ce604-114">Isso fará com que o Agent solicite o arquivo de animação do servidor e o armazene no buffer do navegador no computador local.</span><span class="sxs-lookup"><span data-stu-id="ce604-114">This will cause Agent to request the animation file from the server and store it in the browser's buffer on the local machine.</span></span>

<span data-ttu-id="ce604-115">O método [**Speak**](speak-method.md) permite que você programe o caractere para falar, automaticamente sincronizando a saída.</span><span class="sxs-lookup"><span data-stu-id="ce604-115">The [**Speak**](speak-method.md) method enables you to program the character to speak, automatically lip-syncing the output.</span></span> <span data-ttu-id="ce604-116">Mais detalhes são abordados na seção de saída deste documento.</span><span class="sxs-lookup"><span data-stu-id="ce604-116">Further details are covered in the Output section of this document.</span></span>

<span data-ttu-id="ce604-117">Você pode usar o método [**MoveTo**](moveto-method.md) para posicionar o caractere em um novo local.</span><span class="sxs-lookup"><span data-stu-id="ce604-117">You can use the [**MoveTo**](moveto-method.md) method to position the character at a new location.</span></span> <span data-ttu-id="ce604-118">Quando você chamar o método **MoveTo** , o Microsoft Agent reproduzirá automaticamente a animação apropriada com base na localização atual do caractere e moverá o quadro do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-118">When you call the **MoveTo** method, Microsoft Agent automatically plays the appropriate animation based on the character's current location, then moves the character's frame.</span></span> <span data-ttu-id="ce604-119">Da mesma forma, quando você chama [**GestureAt**](gestureat-method.md), o Microsoft Agent reproduz a animação gesturing apropriada com base na localização do caractere e no local especificado na chamada.</span><span class="sxs-lookup"><span data-stu-id="ce604-119">Similarly, when you call [**GestureAt**](gestureat-method.md), Microsoft Agent plays the appropriate gesturing animation based on the character's location and the location specified in the call.</span></span>

<span data-ttu-id="ce604-120">Para ocultar o caractere, chame o método [Hide](hide-method.md) .</span><span class="sxs-lookup"><span data-stu-id="ce604-120">To hide the character, call the [Hide](hide-method.md) method.</span></span> <span data-ttu-id="ce604-121">Isso reproduz automaticamente o caractere associado ao estado **oculto** do caractere e, em seguida, oculta o quadro do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-121">This automatically plays the character associated with the character's **Hiding** state, then hides the character's frame.</span></span> <span data-ttu-id="ce604-122">No entanto, você também pode ocultar ou mostrar um caractere definindo a propriedade [**Visible**](visible-property.md) do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-122">However, you can also hide or show a character by setting the character's [**Visible**](visible-property.md) property.</span></span>

<span data-ttu-id="ce604-123">O Microsoft Agent processa todas as chamadas de animação, ou *solicitações*, de forma assíncrona.</span><span class="sxs-lookup"><span data-stu-id="ce604-123">Microsoft Agent processes all animation calls, or *requests*, asynchronously.</span></span> <span data-ttu-id="ce604-124">Isso permite que o código do aplicativo continue a lidar com outros eventos enquanto a solicitação está sendo processada.</span><span class="sxs-lookup"><span data-stu-id="ce604-124">This enables your application's code to continue handling other events while the request is being processed.</span></span> <span data-ttu-id="ce604-125">Por exemplo, as chamadas para o método [**Play**](play-method.md) colocam a animação em uma fila para o caractere de forma que as animações possam ser reproduzidas sequencialmente.</span><span class="sxs-lookup"><span data-stu-id="ce604-125">For example, calls to the [**Play**](play-method.md) method place the animation in a queue for the character so that the animations can be played sequentially.</span></span> <span data-ttu-id="ce604-126">No entanto, isso significa que você não pode supor que uma chamada para outras funções será necessariamente executada Depois de uma animação que segue em seu código.</span><span class="sxs-lookup"><span data-stu-id="ce604-126">However, this means you cannot assume that a call to other functions will necessarily execute after an animation it follows in your code.</span></span> <span data-ttu-id="ce604-127">Por exemplo, normalmente, uma instrução após uma chamada para **Play** ou [**MoveTo**](moveto-method.md) será executada antes de a animação ser concluída.</span><span class="sxs-lookup"><span data-stu-id="ce604-127">For example, typically, a statement following a call to **Play** or [**MoveTo**](moveto-method.md) will execute before the animation finishes.</span></span>

<span data-ttu-id="ce604-128">Você pode sincronizar seu código com animações na fila de um caractere criando uma referência de objeto para a solicitação de animação e, quando a animação for iniciada ou concluída, monitorando os eventos de [solicitação](the-request-object.md) que o servidor usa para notificar os clientes do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-128">You can synchronize your code with animations in a character's queue by creating an object reference to the animation request, and, when the animation starts or completes, monitoring the [Request](the-request-object.md) events that the server uses to notify clients of the character.</span></span> <span data-ttu-id="ce604-129">Por exemplo, se desejar que uma caixa de mensagem apareça quando o caractere terminar uma animação, você poderá colocar a chamada de caixa de mensagem em sua sub-rotina de manipulação de eventos [**RequestComplete**](requestcomplete-event.md) , verificando a ID de solicitação específica.</span><span class="sxs-lookup"><span data-stu-id="ce604-129">For example, if you want a message box to appear when the character finishes an animation, you can put the message box call in your [**RequestComplete**](requestcomplete-event.md) event handling subroutine, checking for the particular request ID.</span></span>

<span data-ttu-id="ce604-130">Quando um caractere é ocultado, o servidor não reproduz animações; no entanto, ele ainda enfileira e processa a solicitação de animação (desempenha a animação) e passa um status de solicitação de volta para o cliente.</span><span class="sxs-lookup"><span data-stu-id="ce604-130">When a character is hidden, the server does not play animations; however, it still queues and processes the animation request (plays the animation) and passes a request status back to the client.</span></span> <span data-ttu-id="ce604-131">No estado oculto, o caractere não pode se tornar entrada-ativo.</span><span class="sxs-lookup"><span data-stu-id="ce604-131">In the hidden state, the character cannot become input-active.</span></span> <span data-ttu-id="ce604-132">No entanto, se o usuário fala o nome do caractere (quando a entrada de fala está habilitada), o servidor mostra automaticamente o caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-132">However, if the user speaks the name of the character (when speech input is enabled), the server automatically shows the character.</span></span>

<span data-ttu-id="ce604-133">Quando o aplicativo cliente carrega vários caracteres ao mesmo tempo, os serviços de animação do Microsoft Agent permitem que você anime os caracteres de forma independente ou use os métodos de [**espera**](wait-method.md), [**interrupção**](interrupt-method.md)ou [**parada**](stop-method.md) para sincronizar suas animações entre si.</span><span class="sxs-lookup"><span data-stu-id="ce604-133">When your client application loads multiple characters at the same time, Microsoft Agent's animation services enable you to animate characters independently or use the [**Wait**](wait-method.md), [**Interrupt**](interrupt-method.md), or [**Stop**](stop-method.md) methods to synchronize their animation with each other.</span></span>

<span data-ttu-id="ce604-134">O Microsoft Agent também desempenha outras animações automaticamente para você.</span><span class="sxs-lookup"><span data-stu-id="ce604-134">Microsoft Agent also plays other animations automatically for you.</span></span> <span data-ttu-id="ce604-135">Por exemplo, se o estado do caractere não for alterado por vários segundos, o Agent começará a reproduzir animações atribuídas às animações de **deixar** do caractere.</span><span class="sxs-lookup"><span data-stu-id="ce604-135">For example, if the character's state has not changed for several seconds, Agent begins playing animations assigned to the character's **Idling** animations.</span></span> <span data-ttu-id="ce604-136">Da mesma forma, quando a entrada de fala está habilitada, o Agent desempenha as animações de **escuta** do caractere e, em seguida, **ouve** animações quando um expressão é detectado.</span><span class="sxs-lookup"><span data-stu-id="ce604-136">Similarly, when speech input is enabled, Agent plays the character's **Listening** animations and then **Hearing** animations when an utterance is detected.</span></span> <span data-ttu-id="ce604-137">Essas animações gerenciadas por servidor são chamadas de *Estados* e são definidas quando um caractere é criado.</span><span class="sxs-lookup"><span data-stu-id="ce604-137">These server-managed animations are called *states*, and are defined when a character is created.</span></span> <span data-ttu-id="ce604-138">Para obter mais informações, consulte [criando caracteres para o Microsoft Agent](agent-states.md).</span><span class="sxs-lookup"><span data-stu-id="ce604-138">For more information, see [Designing Characters for Microsoft Agent](agent-states.md).</span></span>

 

 