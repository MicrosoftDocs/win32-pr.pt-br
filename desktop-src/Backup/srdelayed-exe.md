---
title: Srdelayed.exe
description: Os aplicativos que executam operações de restauração de estado do sistema no início da inicialização do sistema operacional podem não ser capazes de usar as funções de gerenciamento de arquivos para mover, excluir ou definir o nome curto de determinados arquivos do sistema.
ms.assetid: cedeb48e-bc1d-48d1-9bee-0b8b0132c3e5
keywords:
- Srdelayed.exe backup
- Backup de recuperação de estado do sistema
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5a5f6b281c07f5b0ad8d6cd7e59b4f93ec9208a5
ms.sourcegitcommit: 46376be61d3fa308f9b1a06d7e2fa122a39755af
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/10/2020
ms.locfileid: "104454430"
---
# <a name="srdelayedexe"></a><span data-ttu-id="db362-105">Srdelayed.exe</span><span class="sxs-lookup"><span data-stu-id="db362-105">Srdelayed.exe</span></span>

<span data-ttu-id="db362-106">Os aplicativos que executam operações de restauração de estado do sistema no início da inicialização do sistema operacional podem não ser capazes de usar as funções de gerenciamento de arquivos para mover, excluir ou definir o nome curto de determinados arquivos do sistema.</span><span class="sxs-lookup"><span data-stu-id="db362-106">Applications that perform system state restore operations early in the startup of the operating system may be unable to use the file management functions to move, delete, or set the short name of certain system files.</span></span> <span data-ttu-id="db362-107">Srdelayed.exe é um arquivo executável, fornecido com o recurso Backup do Windows Server (WSB) no Windows Server 2008, que pode permitir que os aplicativos de recuperação de estado do sistema movam, excluam e definam o nome curto dos arquivos do sistema.</span><span class="sxs-lookup"><span data-stu-id="db362-107">Srdelayed.exe is an executable file, provided with the Windows Server Backup (WSB) feature in Windows Server 2008, that can enable system state recovery applications to move, delete, and set the short name of system files.</span></span>

<span data-ttu-id="db362-108">A ferramenta Srdelayed é destinada a aplicativos de recuperação de estado do sistema; Ele não substitui as funções de gerenciamento de arquivos.</span><span class="sxs-lookup"><span data-stu-id="db362-108">The Srdelayed tool is intended for system state recovery applications; it does not replace the file management functions.</span></span> <span data-ttu-id="db362-109">Essa ferramenta deve ser usada somente quando o aplicativo não puder mover, excluir ou definir o nome curto de um arquivo do sistema usando as funções [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)e [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) .</span><span class="sxs-lookup"><span data-stu-id="db362-109">This tool should be used only when the application is unable to move, delete, or set the short name of a system file using the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa), [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea), and [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) functions.</span></span> <span data-ttu-id="db362-110">Durante uma restauração e reinicialização do estado do sistema, Srdelayed.exe é usado pela restauração do sistema e pela ferramenta de linha de comando wbadmin.exe para mover, excluir e definir o nome curto em determinados arquivos do sistema.</span><span class="sxs-lookup"><span data-stu-id="db362-110">During a system state restore and restart, Srdelayed.exe is used by System Restore and the wbadmin.exe command-line tool to move, delete, and set the short name on certain system files.</span></span> <span data-ttu-id="db362-111">O Srdelayed pode, portanto, ser útil para os desenvolvedores que exigem a capacidade de restaurar esses arquivos de sistema em seus próprios aplicativos de recuperação de estado do sistema.</span><span class="sxs-lookup"><span data-stu-id="db362-111">Srdelayed may therefore be useful to developers that require the capability to restore these system files in their own system state recovery applications.</span></span>

<span data-ttu-id="db362-112">O Srdelayed pode executar as seguintes operações:</span><span class="sxs-lookup"><span data-stu-id="db362-112">Srdelayed can perform the following operations:</span></span>

-   <span data-ttu-id="db362-113">Uma operação mover arquivo semelhante à função [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) com o **atraso MoveFile até o sinalizador de \_ \_ \_ reinicialização**</span><span class="sxs-lookup"><span data-stu-id="db362-113">A move file operation similar to the [**MoveFileEx**](/windows/desktop/api/winbase/nf-winbase-movefileexa) function with the **MOVEFILE\_DELAY\_UNTIL\_REBOOT** flag</span></span>
-   <span data-ttu-id="db362-114">Uma operação excluir arquivo semelhante à função [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea)</span><span class="sxs-lookup"><span data-stu-id="db362-114">A delete file operation similar to the [**DeleteFile**](/windows/desktop/api/fileapi/nf-fileapi-deletefilea) function</span></span>
-   <span data-ttu-id="db362-115">Uma operação de definição de nome curto semelhante à função [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea)</span><span class="sxs-lookup"><span data-stu-id="db362-115">A set short-name operation similar to the [**SetFileShortName**](/windows/desktop/api/winbase/nf-winbase-setfileshortnamea) function</span></span>

<span data-ttu-id="db362-116">Para usar o Srdelayed, seu aplicativo requer o caminho completo para o local do arquivo de Srdelayed.exe e o caminho completo para um arquivo de texto Unicode que você criou para conter as informações de que a ferramenta precisa para executar todas as operações de gerenciamento de arquivos que estão sendo solicitadas.</span><span class="sxs-lookup"><span data-stu-id="db362-116">To use Srdelayed, your application requires the full path to the location of the Srdelayed.exe file and the full path to a Unicode text file that you have authored to contain the information the tool needs to perform all the file management operations being requested.</span></span> <span data-ttu-id="db362-117">Seu aplicativo é responsável por garantir que esse arquivo de texto não contenha solicitações redundantes para uma operação e que ele manipule qualquer ordem necessária das operações de gerenciamento de arquivos.</span><span class="sxs-lookup"><span data-stu-id="db362-117">Your application is responsible for ensuring that this text file does not contain redundant requests for an operation and that it handles any required ordering of the file management operations.</span></span> <span data-ttu-id="db362-118">Por exemplo, como uma pasta deve estar vazia para ser excluída, seu aplicativo precisa garantir que o arquivo de texto especifique a remoção de todos os arquivos dentro da pasta antes de solicitar que a pasta seja excluída.</span><span class="sxs-lookup"><span data-stu-id="db362-118">For example, because a folder must be empty to be deleted, your application needs to ensure that the text file specifies the removal of all files inside the folder before requesting the folder be deleted.</span></span>

<span data-ttu-id="db362-119">Se a entrada **SetupExecute** ainda não existir no registro, seu aplicativo precisará criar uma entrada de tipo **reg \_ multi \_ sz** denominada **SetupExecute** na seguinte chave do registro: **HKEY \_ local \_ Machine** \\ **System** \\ **CurrentControlSet** \\ **Control** \\ **Session Manager**.</span><span class="sxs-lookup"><span data-stu-id="db362-119">If the **SetupExecute** entry does not already exist in the registry, your application needs to create a **REG\_MULTI\_SZ** type entry named **SetupExecute** under the following registry key: **HKEY\_LOCAL\_MACHINE**\\**System**\\**CurrentControlSet**\\**Control**\\**Session Manager**.</span></span>

<span data-ttu-id="db362-120">Seu aplicativo deve usar o formato a seguir para definir o valor de **SetupExecute** como o caminho completo para o local do arquivo de Srdelayed.exe e o caminho completo para o local do arquivo de texto.</span><span class="sxs-lookup"><span data-stu-id="db362-120">Your application should use the following format to set the value of **SetupExecute** to the full path to the location of the Srdelayed.exe file and the full path to the location of the text file.</span></span> <span data-ttu-id="db362-121">Prefix " \\ \\ ?? \\ " para o caminho do arquivo de texto, da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="db362-121">Prefix "\\\\??\\" to the path of the text file, as follows:</span></span>

<span data-ttu-id="db362-122">*Caminho completo para Srdelayed.exe* \\ \\ ?? \\ *Caminho completo para o arquivo de texto*</span><span class="sxs-lookup"><span data-stu-id="db362-122">*Full Path to Srdelayed.exe* \\\\??\\*Full Path to Text file*</span></span>  


<span data-ttu-id="db362-123">Por exemplo, o valor a seguir para **SetupExecute** indica que o Srdelayed.exe está localizado na pasta system32 e o arquivo de texto é chamado DelayedOperations:</span><span class="sxs-lookup"><span data-stu-id="db362-123">For example, the following value for **SetupExecute** indicates that the Srdelayed.exe is located in the System32 folder and the text file is named DelayedOperations:</span></span>

<span data-ttu-id="db362-124">C: \\ Windows \\ System32 \\srdelayed.exe \\ \\ ?? \\ C: \\ temp \\ DelayedOperations</span><span class="sxs-lookup"><span data-stu-id="db362-124">C:\\Windows\\System32\\srdelayed.exe \\\\??\\C:\\temp\\DelayedOperations</span></span>  


<span data-ttu-id="db362-125">Os espaços no caminho e no nome devem ser codificados em hexadecimal.</span><span class="sxs-lookup"><span data-stu-id="db362-125">Spaces in the path and name should be hexadecimal encoded.</span></span> <span data-ttu-id="db362-126">Por exemplo, para *arquivos de programas*, codifique o caminho como " \\ \\ ?? \\ C:Program%20Files \\a.dll ".</span><span class="sxs-lookup"><span data-stu-id="db362-126">For example, for *Program Files*, encode the path as "\\\\??\\C:Program%20Files\\a.dll".</span></span>

<span data-ttu-id="db362-127">Quando o registro ou sistema está sendo restaurado após a reinicialização, seu aplicativo precisa garantir que o **SetupExecute** seja gravado no hive correto do registro.</span><span class="sxs-lookup"><span data-stu-id="db362-127">When the registry or system is being restored upon restart, your application needs to ensure that **SetupExecute** gets written in the correct registry hive.</span></span> <span data-ttu-id="db362-128">A recuperação do registro é executada antes da execução do Srdelayed.exe.</span><span class="sxs-lookup"><span data-stu-id="db362-128">Recovery of the registry is performed before Srdelayed.exe is run.</span></span> <span data-ttu-id="db362-129">O aplicativo precisa gravar **SetupExecute** na versão recuperada do registro, pois essa é a versão que é lida.</span><span class="sxs-lookup"><span data-stu-id="db362-129">The application needs to write **SetupExecute** into the recovered version of the registry because this is the version that is read.</span></span>

## <a name="format-for-the-srdelayed-input-file"></a><span data-ttu-id="db362-130">Formato para o arquivo de entrada Srdelayed</span><span class="sxs-lookup"><span data-stu-id="db362-130">Format for the Srdelayed Input File</span></span>

<span data-ttu-id="db362-131">Todas as informações que o Srdelayed precisa para executar operações de gerenciamento de arquivos são especificadas como uma cadeia de caracteres Unicode em um arquivo de texto Unicode.</span><span class="sxs-lookup"><span data-stu-id="db362-131">All the information Srdelayed needs to perform file management operations is specified as a string of Unicode characters in a Unicode text file.</span></span> <span data-ttu-id="db362-132">A cadeia de caracteres Unicode é particionada em registros que, por sua só, são particionados em quatro campos.</span><span class="sxs-lookup"><span data-stu-id="db362-132">The string of Unicode characters is partitioned into records that are themselves each partitioned into four fields.</span></span> <span data-ttu-id="db362-133">Cada registro especifica uma única operação mover arquivo, excluir arquivo ou definir nome curto.</span><span class="sxs-lookup"><span data-stu-id="db362-133">Each record specifies a single move file, delete file, or set short-name operation.</span></span> <span data-ttu-id="db362-134">Os quatro campos de cada registro contêm os parâmetros para a operação.</span><span class="sxs-lookup"><span data-stu-id="db362-134">The four fields of each record contain the parameters for the operation.</span></span> <span data-ttu-id="db362-135">Srdelayed.exe executa cada operação na ordem em que seus registros ocorrem na cadeia de caracteres.</span><span class="sxs-lookup"><span data-stu-id="db362-135">Srdelayed.exe performs each operation in the order that their records occur in the string.</span></span> <span data-ttu-id="db362-136">Seu aplicativo deve verificar se há registros duplicados nesse arquivo e remover as duplicatas.</span><span class="sxs-lookup"><span data-stu-id="db362-136">Your application should check for any duplicate records in this file and remove the duplicates.</span></span>

<span data-ttu-id="db362-137">A cadeia de caracteres a seguir ilustra o formato de um arquivo que solicita duas operações e que consiste em dois registros.</span><span class="sxs-lookup"><span data-stu-id="db362-137">The following string illustrates the format for a file requesting two operations and consisting of two records.</span></span> <span data-ttu-id="db362-138">Cada campo de parâmetro termina com um único caractere L ' \\ 0 '.</span><span class="sxs-lookup"><span data-stu-id="db362-138">Each parameter field ends with a single L'\\0' character.</span></span> <span data-ttu-id="db362-139">Um registro é composto de quatro campos consecutivos.</span><span class="sxs-lookup"><span data-stu-id="db362-139">A record is composed of four consecutive fields.</span></span> <span data-ttu-id="db362-140">Um único caractere L ' \\ 0 ' adicional é acrescentado ao final de todos os registros.</span><span class="sxs-lookup"><span data-stu-id="db362-140">An additional single L'\\0' character is appended to the end of all records.</span></span>

`<ParamA1>L'\0'<ParamA2>L'\0'<ParamA3>L'\0'<ParamA4>L'\0'<ParamB1>L'\0'<ParamB2>L'\0'<ParamB3>L'\0'<ParamB4>L'\0'L'\0'`  
`|-----------------------RecordA------------------------|------------------------RecordB------------------------|`  


<span data-ttu-id="db362-141">O significado dos primeiros, segundo, terceiro e quarto campos de parâmetro depende se o registro descreve uma operação de movimentação, exclusão ou definição de nome curto.</span><span class="sxs-lookup"><span data-stu-id="db362-141">The meaning of the first, second, third, and fourth parameter fields depends on whether the record describes a move, delete, or set short-name operation.</span></span>

## <a name="format-for-a-move-file-record"></a><span data-ttu-id="db362-142">Formato de um registro de arquivo de movimentação</span><span class="sxs-lookup"><span data-stu-id="db362-142">Format for a Move File Record</span></span>

<span data-ttu-id="db362-143">O campo 1 identifica isso como uma solicitação para mover um arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-143">Field 1 identifies this as a request to move a file.</span></span> <span data-ttu-id="db362-144">O valor neste campo é sempre L "MoveFile" e diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="db362-144">The value in this field is always L"MoveFile" and is case sensitive.</span></span>

<span data-ttu-id="db362-145">O campo 2 especifica o local de origem do arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-145">Field 2 specifies the source location of the file.</span></span> <span data-ttu-id="db362-146">A operação Srdelayed mover arquivo não dá suporte à movimentação de uma pasta.</span><span class="sxs-lookup"><span data-stu-id="db362-146">The Srdelayed move file operation does not support moving a folder.</span></span> <span data-ttu-id="db362-147">Um arquivo deve ser especificado neste campo.</span><span class="sxs-lookup"><span data-stu-id="db362-147">A file must be specified in this field.</span></span> <span data-ttu-id="db362-148">O valor desse campo é o caminho completo do arquivo anexado a " \\ \\ ?? \\ ", a menos que o caminho inclua um identificador global exclusivo (GUID), que usa " \\ \\ ? \\ " como um prefixo.</span><span class="sxs-lookup"><span data-stu-id="db362-148">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="db362-149">Remover " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="db362-149">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="db362-150">O campo 3 especifica o destino do arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-150">Field 3 specifies the destination of the file.</span></span> <span data-ttu-id="db362-151">A operação mover arquivo funciona apenas dentro de um volume.</span><span class="sxs-lookup"><span data-stu-id="db362-151">The move file operation works only within a volume.</span></span> <span data-ttu-id="db362-152">A origem e o destino devem estar no mesmo volume.</span><span class="sxs-lookup"><span data-stu-id="db362-152">The source and destination must be on the same volume.</span></span> <span data-ttu-id="db362-153">O valor desse campo é o caminho completo do arquivo anexado a " \\ \\ ?? \\ ", a menos que o caminho inclua um identificador global exclusivo (GUID), que usa " \\ \\ ? \\ " como um prefixo.</span><span class="sxs-lookup"><span data-stu-id="db362-153">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="db362-154">Remover " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="db362-154">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="db362-155">O campo 4 recebe informações de status de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="db362-155">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="db362-156">O valor neste campo deve ser definido como L "não executado" para um novo registro.</span><span class="sxs-lookup"><span data-stu-id="db362-156">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="db362-157">O exemplo a seguir faz referência ao arquivo pelo caminho da unidade.</span><span class="sxs-lookup"><span data-stu-id="db362-157">The following example references the file by drive path.</span></span> <span data-ttu-id="db362-158">Se o caminho e o nome da origem forem C: \\ Stage \\a.dll, esse registro solicitará que Srdelayed mova-o para C: \\ temp \\a.dll.</span><span class="sxs-lookup"><span data-stu-id="db362-158">If the path and name of the source is C:\\Stage\\a.dll, this record requests that Srdelayed move it to C:\\temp\\a.dll.</span></span>

<span data-ttu-id="db362-159">MoveFile \\ \\ ?? \\ C: \\ estágio \\a.dll \\ \\ ?? \\ C: \\ temp \\a.dll não executado</span><span class="sxs-lookup"><span data-stu-id="db362-159">MoveFile \\\\??\\C:\\Stage\\a.dll \\\\??\\C:\\temp\\a.dll NotExecuted</span></span>  


<span data-ttu-id="db362-160">O exemplo a seguir referencia o arquivo por caminho de GUID de volume.</span><span class="sxs-lookup"><span data-stu-id="db362-160">The following example references the file by volume GUID path.</span></span> <span data-ttu-id="db362-161">Se o caminho e o nome da origem forem \\ \\ ? \\ O volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ Stage \\a.dll, este registro solicita que Srdelayed mova-o para \\ \\ ? \\a.dll Temp do volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ \\</span><span class="sxs-lookup"><span data-stu-id="db362-161">If the path and name of the source is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll, this record requests that Srdelayed move it to \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll</span></span>

 <span data-ttu-id="db362-162">MoveFile \\ \\ ?? \\ O estágio do volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ \\a.dll \\ \\ ?? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\a.dll não executado</span><span class="sxs-lookup"><span data-stu-id="db362-162">MoveFile \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\Stage\\a.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\a.dll NotExecuted</span></span>  


## <a name="format-for-a-delete-file-record"></a><span data-ttu-id="db362-163">Formato de um registro de arquivo de exclusão</span><span class="sxs-lookup"><span data-stu-id="db362-163">Format for a Delete File Record</span></span>

<span data-ttu-id="db362-164">O campo 1 identifica isso como uma solicitação para excluir um arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-164">Field 1 identifies this as a request to delete a file.</span></span> <span data-ttu-id="db362-165">O valor neste campo é sempre L "DeleteFile" e diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="db362-165">The value in this field is always L"DeleteFile" and is case sensitive.</span></span>

<span data-ttu-id="db362-166">O campo 2 não é usado.</span><span class="sxs-lookup"><span data-stu-id="db362-166">Field 2 is unused.</span></span> <span data-ttu-id="db362-167">O valor neste campo deve ser definido como L "não utilizado".</span><span class="sxs-lookup"><span data-stu-id="db362-167">The value in this field should be set to L"Unused".</span></span>

<span data-ttu-id="db362-168">O campo 3 especifica o arquivo a ser removido.</span><span class="sxs-lookup"><span data-stu-id="db362-168">Field 3 specifies the file to be removed.</span></span> <span data-ttu-id="db362-169">Uma pasta deve estar vazia para ser removida.</span><span class="sxs-lookup"><span data-stu-id="db362-169">A folder must be empty to be removed.</span></span> <span data-ttu-id="db362-170">Use excluir operações de arquivo para remover todos os arquivos na pasta antes de remover a pasta.</span><span class="sxs-lookup"><span data-stu-id="db362-170">Use delete file operations to remove all files in the folder before removing the folder.</span></span> <span data-ttu-id="db362-171">O valor desse campo é o caminho completo do arquivo anexado a " \\ \\ ?? \\ ", a menos que o caminho inclua um identificador global exclusivo (GUID), que usa " \\ \\ ? \\ " como um prefixo.</span><span class="sxs-lookup"><span data-stu-id="db362-171">The value for this field is the full path of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="db362-172">Remover " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="db362-172">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="db362-173">O campo 4 recebe informações de status de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="db362-173">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="db362-174">O valor neste campo deve ser definido como L "não executado" para um novo registro.</span><span class="sxs-lookup"><span data-stu-id="db362-174">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="db362-175">O exemplo a seguir faz referência ao arquivo pelo caminho da unidade.</span><span class="sxs-lookup"><span data-stu-id="db362-175">The following example references the file by drive path.</span></span> <span data-ttu-id="db362-176">Se o caminho e o nome forem C: \\ temp \\b.dll, esse registro solicitará que Srdelayed exclua o arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-176">If the path and name is C:\\temp\\b.dll, this record requests that Srdelayed delete the file.</span></span>

<span data-ttu-id="db362-177">Excluirfile não utilizado \\ \\ ?? \\ C: \\ temp \\b.dll não executado</span><span class="sxs-lookup"><span data-stu-id="db362-177">DeleteFile Unused \\\\??\\C:\\temp\\b.dll NotExecuted</span></span>  


<span data-ttu-id="db362-178">O exemplo a seguir faz referência ao arquivo por GUID de volume.</span><span class="sxs-lookup"><span data-stu-id="db362-178">The following example references the file by volume GUID.</span></span> <span data-ttu-id="db362-179">Se o caminho e o nome forem \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\b.dll, esse registro solicita que Srdelayed remova o arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-179">If the path and name is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll, this record requests that Srdelayed remove the file.</span></span>

<span data-ttu-id="db362-180">Excluirfile não utilizado \\ \\ ?? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\b.dllnão \\ executado</span><span class="sxs-lookup"><span data-stu-id="db362-180">DeleteFile Unused \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\b.dll\\ NotExecuted</span></span>  


## <a name="format-for-set-short-name-record"></a><span data-ttu-id="db362-181">Formato para o registro de Short-Name definido</span><span class="sxs-lookup"><span data-stu-id="db362-181">Format for Set Short-Name Record</span></span>

<span data-ttu-id="db362-182">O campo 1 identifica isso como uma solicitação para definir o nome curto de um arquivo.</span><span class="sxs-lookup"><span data-stu-id="db362-182">Field 1 identifies this as a request to set a file's short name.</span></span> <span data-ttu-id="db362-183">O valor neste campo é sempre L "SetFileShortName" e diferencia maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="db362-183">The value in this field is always L"SetFileShortName" and is case sensitive.</span></span>

<span data-ttu-id="db362-184">O campo 2 especifica o nome curto.</span><span class="sxs-lookup"><span data-stu-id="db362-184">Field 2 specifies the short name.</span></span>

<span data-ttu-id="db362-185">O campo campo 3 especifica o caminho e o nome longo para receber o nome curto.</span><span class="sxs-lookup"><span data-stu-id="db362-185">Field 3 field specifies the path and long name to receive the short name.</span></span> <span data-ttu-id="db362-186">O valor desse campo é o caminho e o nome longo do arquivo anexado a " \\ \\ ?? \\ ", a menos que o caminho inclua um GUID (identificador global exclusivo), que usa " \\ \\ ? \\ " como um prefixo.</span><span class="sxs-lookup"><span data-stu-id="db362-186">The value for this field is the path and long name of the file appended to "\\\\??\\" unless the path includes a globally unique identifier (GUID), which uses "\\\\?\\" as a prefix.</span></span> <span data-ttu-id="db362-187">Remover " \\ \\ ? \\ " antes de anexar a " \\ \\ ?? \\ ".</span><span class="sxs-lookup"><span data-stu-id="db362-187">Remove "\\\\?\\" before appending to "\\\\??\\".</span></span>

<span data-ttu-id="db362-188">O campo 4 recebe informações de status de Srdelayed.</span><span class="sxs-lookup"><span data-stu-id="db362-188">Field 4 receives status information from Srdelayed.</span></span> <span data-ttu-id="db362-189">O valor neste campo deve ser definido como L "não executado" para um novo registro.</span><span class="sxs-lookup"><span data-stu-id="db362-189">The value in this field should be set to L"NotExecuted" for a new record.</span></span>

<span data-ttu-id="db362-190">O exemplo a seguir faz referência ao arquivo pelo caminho da unidade.</span><span class="sxs-lookup"><span data-stu-id="db362-190">The following example references the file by drive path.</span></span> <span data-ttu-id="db362-191">Se o caminho e o nome do arquivo forem C: \\ temp \\ShortFileName.dll, esse registro solicitará que o arquivo receba um nome curto, menor que ~1.dll.</span><span class="sxs-lookup"><span data-stu-id="db362-191">If the path and name of the file is C:\\temp\\ShortFileName.dll, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="db362-192">SetFileShortName curto ~1.dll \\ \\ ?? \\ C: \\ temp \\ShortFileName.dll não executado</span><span class="sxs-lookup"><span data-stu-id="db362-192">SetFileShortName ShortN~1.dll \\\\??\\C:\\temp\\ShortFileName.dll NotExecuted</span></span>  


<span data-ttu-id="db362-193">O exemplo a seguir faz referência ao arquivo por GUID de volume.</span><span class="sxs-lookup"><span data-stu-id="db362-193">The following example references the file by volume GUID.</span></span> <span data-ttu-id="db362-194">Se o caminho e o nome do arquivo forem \\ \\ ? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\ShortFileName.dll\\ , esse registro solicita que o arquivo receba um nome curto, menor que ~1.dll.</span><span class="sxs-lookup"><span data-stu-id="db362-194">If the path and name of the file is \\\\?\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\, this record requests that the file receive a short name, ShortN~1.dll.</span></span>

<span data-ttu-id="db362-195">SetFileShortName curto ~1.dll \\ \\ ?? \\ Volume {26a21bda-a627-11d7-9931-806e6f6e6963} \\ temp \\ShortFileName.dllnão \\ executado</span><span class="sxs-lookup"><span data-stu-id="db362-195">SetFileShortName ShortN~1.dll \\\\??\\Volume{26a21bda-a627-11d7-9931-806e6f6e6963}\\temp\\ShortFileName.dll\\ NotExecuted</span></span>  


## <a name="srdelayed-operations-status"></a><span data-ttu-id="db362-196">Status de operações do Srdelayed</span><span class="sxs-lookup"><span data-stu-id="db362-196">Srdelayed Operations Status</span></span>

<span data-ttu-id="db362-197">Srdelayed grava a cadeia de caracteres L "SC =*xxxxxxx*" no quarto campo de cada registro do arquivo de texto, em que *xxxxxxx* é um hexadecimal que indica o status da operação solicitada.</span><span class="sxs-lookup"><span data-stu-id="db362-197">Srdelayed writes the string L"SC=*xxxxxxx*" into the fourth field of each record of the text file, where *xxxxxxx* is a hexadecimal that indicates the status of the requested operation.</span></span> <span data-ttu-id="db362-198">Um valor de zero indica que a operação foi bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="db362-198">A value of zero indicates the operation succeeded.</span></span>

<span data-ttu-id="db362-199">Srdelayed cria uma chave do registro chamada **SystemRestore** em **HKEY \_ local \_ Machine** \\ **software** \\ **Microsoft** \\ **Windows NT** \\ **CurrentVersion** para registrar o resultado de toda a operação de restauração.</span><span class="sxs-lookup"><span data-stu-id="db362-199">Srdelayed creates a registry key named **SystemRestore** under **HKEY\_LOCAL\_MACHINE**\\**Software**\\**Microsoft**\\**Windows NT**\\**CurrentVersion** to log the outcome of the entire restore operation.</span></span> <span data-ttu-id="db362-200">Se Srdelayed executar todas as operações solicitadas com êxito, o nome RestoreStatusResult será gravado sob essa chave com um valor zero.</span><span class="sxs-lookup"><span data-stu-id="db362-200">If Srdelayed performs all the requested operations with success, the name RestoreStatusResult is written under this key with a zero value.</span></span> <span data-ttu-id="db362-201">Se Srdelayed não puder executar nenhuma das operações solicitadas, os nomes RestoreStatusResult e RestoreStatusDetails serão gravados sob essa chave com valores diferentes de zero.</span><span class="sxs-lookup"><span data-stu-id="db362-201">If Srdelayed is unable to perform any of the requested operations, the names RestoreStatusResult and RestoreStatusDetails are written under this key with nonzero values.</span></span> <span data-ttu-id="db362-202">O nome RestoreStatusDetails será gravado sob essa chave somente se Srdelayed não puder executar nenhuma operação solicitada.</span><span class="sxs-lookup"><span data-stu-id="db362-202">The name RestoreStatusDetails is written under this key only if Srdelayed is unable to perform any requested operations.</span></span> <span data-ttu-id="db362-203">Se uma operação para definir o nome curto de um arquivo não for bem-sucedida, o Srdelayed continuará para a próxima operação.</span><span class="sxs-lookup"><span data-stu-id="db362-203">If an operation to set the short name of a file is unsuccessful, Srdelayed continues to the next operation.</span></span> <span data-ttu-id="db362-204">Srdelayed considera as operações Mover arquivo e excluir arquivo como críticas e não continua se uma operação de movimentação ou exclusão não for bem-sucedida.</span><span class="sxs-lookup"><span data-stu-id="db362-204">Srdelayed considers the move file and delete file operations to be critical and does not continue if a move or delete operation is unsuccessful.</span></span>

 

 