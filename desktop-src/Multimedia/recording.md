---
title: Gravação
description: Gravação
ms.assetid: 0026eb1d-5be1-4090-801b-f1c65c179f42
keywords:
- MCI_RECORD comando
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4248b2d4bbdd984ad23a772f0adca04581afca1d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "105766857"
---
# <a name="recording"></a><span data-ttu-id="d60b7-104">Gravação</span><span class="sxs-lookup"><span data-stu-id="d60b7-104">Recording</span></span>

<span data-ttu-id="d60b7-105">A especificação de MCI geral dá suporte à gravação com vídeo digital, Sequencer MIDI, gravador de vídeo-fita (VCR) e dispositivos de wave-áudio; no entanto, somente os dispositivos de onda de áudio e VCR atualmente implementam recursos de gravação.</span><span class="sxs-lookup"><span data-stu-id="d60b7-105">The general MCI specification supports recording with digital-video, MIDI sequencer, video-cassette recorder (VCR), and waveform-audio devices; however, only waveform-audio and VCR devices currently implement recording capabilities.</span></span> <span data-ttu-id="d60b7-106">Você pode inserir ou substituir informações gravadas em um arquivo ou registro existente em um novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="d60b7-106">You can insert or overwrite recorded information into an existing file or record into a new file.</span></span> <span data-ttu-id="d60b7-107">Para gravar em um arquivo existente, abra um arquivo e um dispositivo de wave-áudio como faria normalmente.</span><span class="sxs-lookup"><span data-stu-id="d60b7-107">To record to an existing file, open a waveform-audio device and file as you would normally.</span></span> <span data-ttu-id="d60b7-108">Para registrar em um novo arquivo, ao abrir o dispositivo, especifique "novo" como o nome do dispositivo se você estiver usando a interface de cadeia de caracteres de comando.</span><span class="sxs-lookup"><span data-stu-id="d60b7-108">To record into a new file, when you open the device specify "new" as the device name if you are using the command-string interface.</span></span> <span data-ttu-id="d60b7-109">Se você estiver usando a interface de mensagem de comando, especifique um nome de arquivo de comprimento zero.</span><span class="sxs-lookup"><span data-stu-id="d60b7-109">If you are using the command-message interface, specify a zero-length filename.</span></span>

<span data-ttu-id="d60b7-110">Quando o MCI cria um novo arquivo para gravação, o formato de dados é definido como um formato padrão especificado pelo driver de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d60b7-110">When MCI creates a new file for recording, the data format is set to a default format specified by the device driver.</span></span> <span data-ttu-id="d60b7-111">Para usar um formato diferente do formato padrão, você pode usar o comando [**set**](set.md) ([**MCI \_ set**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="d60b7-111">To use a format other than the default format, you can use the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command.</span></span>

<span data-ttu-id="d60b7-112">Para começar a gravar, use o comando de [**registro**](record.md) (ou o [**\_ registro MCI**](mci-record.md) e a estrutura de [**\_ \_ parâmetros do registro MCI**](mci-record-parms.md) ).</span><span class="sxs-lookup"><span data-stu-id="d60b7-112">To begin recording, use the [**record**](record.md) command (or [**MCI\_RECORD**](mci-record.md) and the [**MCI\_RECORD\_PARMS**](mci-record-parms.md) structure).</span></span>

<span data-ttu-id="d60b7-113">Se você gravar no modo de inserção em um arquivo existente, poderá usar os sinalizadores "de" (MCI \_ de) e "para" (MCI \_ para) do comando de **registro** para especificar as posições inicial e final para gravação.</span><span class="sxs-lookup"><span data-stu-id="d60b7-113">If you record in insert mode to an existing file, you can use the "from" (MCI\_FROM) and "to" (MCI\_TO) flags of the **record** command to specify starting and ending positions for recording.</span></span> <span data-ttu-id="d60b7-114">Por exemplo, se você gravar em um arquivo com 20 segundos de comprimento e começar a gravar em 5 segundos e terminar a gravação em 10 segundos, o arquivo resultante terá 25 segundos de comprimento.</span><span class="sxs-lookup"><span data-stu-id="d60b7-114">For example, if you record to a file that is 20 seconds long, and you begin recording at 5 seconds and end recording at 10 seconds, the resulting file will be 25 seconds long.</span></span> <span data-ttu-id="d60b7-115">O arquivo terá um segmento de 5 segundos inserido 5 segundo na gravação original.</span><span class="sxs-lookup"><span data-stu-id="d60b7-115">The file will have a 5-second segment inserted 5 seconds into the original recording.</span></span>

<span data-ttu-id="d60b7-116">Se você gravar com o modo de substituição em um arquivo existente, poderá usar os sinalizadores "de" e "para" para especificar os locais inicial e final da seção que é substituída.</span><span class="sxs-lookup"><span data-stu-id="d60b7-116">If you record with overwrite mode to an existing file, you can use the "from" and "to" flags to specify starting and ending locations of the section that is overwritten.</span></span> <span data-ttu-id="d60b7-117">Por exemplo, se você gravar em um arquivo com 20 segundos de comprimento e começar a gravar em 5 segundos e terminar a gravação em 10 segundos, ainda terá uma gravação de 20 segundos, mas a seção que começa em 5 segundos e termina em 10 segundos terá sido substituída.</span><span class="sxs-lookup"><span data-stu-id="d60b7-117">For example, if you record to a file that is 20 seconds long, and you begin recording at 5 seconds and end recording at 10 seconds, you still have a recording 20 seconds long, but the section beginning at 5 seconds and ending at 10 seconds will have been replaced.</span></span>

<span data-ttu-id="d60b7-118">Se você não especificar um local final, a gravação continuará até que você envie um comando [**parar**](stop.md) ([**\_ parada do MCI**](mci-stop.md)) ou até que o driver fique sem espaço livre em disco.</span><span class="sxs-lookup"><span data-stu-id="d60b7-118">If you do not specify an ending location, recording continues until you send a [**stop**](stop.md) ([**MCI\_STOP**](mci-stop.md)) command, or until the driver runs out of free disk space.</span></span> <span data-ttu-id="d60b7-119">Se você gravar em um novo arquivo, poderá omitir o sinalizador "de" ou defini-lo como zero para iniciar a gravação no início de um novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="d60b7-119">If you record to a new file, you can omit the "from" flag or set it to zero to start recording at the beginning of a new file.</span></span> <span data-ttu-id="d60b7-120">Você pode especificar um local final para terminar a gravação ao gravar em um novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="d60b7-120">You can specify an ending location to terminate recording when recording to a new file.</span></span>

<span data-ttu-id="d60b7-121">O comando de [**registro**](record.md) às vezes é preciso em apenas 1 segundo do local inicial, como com os dispositivos VCR.</span><span class="sxs-lookup"><span data-stu-id="d60b7-121">The [**record**](record.md) command is sometimes accurate to within only 1 second of the starting location, such as with VCR devices.</span></span> <span data-ttu-id="d60b7-122">Para registrar com mais precisão, você deve usar o comando [**Cue**](cue.md) ([**\_ indicação MCI**](mci-cue.md)).</span><span class="sxs-lookup"><span data-stu-id="d60b7-122">To record more accurately, you should use the [**cue**](cue.md) ([**MCI\_CUE**](mci-cue.md)) command.</span></span> <span data-ttu-id="d60b7-123">Esse comando é reconhecido pelos dispositivos Digital-Video, VCR e Wave-Audio.</span><span class="sxs-lookup"><span data-stu-id="d60b7-123">This command is recognized by digital-video, VCR, and waveform-audio devices.</span></span> <span data-ttu-id="d60b7-124">Para obter mais informações sobre a gravação com dispositivos VCR, consulte [serviços de VCR](vcr-services.md).</span><span class="sxs-lookup"><span data-stu-id="d60b7-124">For more information about recording with VCR devices, see [VCR Services](vcr-services.md).</span></span>

## <a name="saving-a-recorded-file"></a><span data-ttu-id="d60b7-125">Salvando um arquivo gravado</span><span class="sxs-lookup"><span data-stu-id="d60b7-125">Saving a Recorded File</span></span>

<span data-ttu-id="d60b7-126">Quando a gravação for concluída, use o comando [**salvar**](save.md) ( [**ou \_ salve o MCI**](mci-save.md) e a estrutura de [**parâmetros de \_ salvamento \_ do MCI**](mci-save-parms.md) ) para salvar a gravação antes de fechar o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="d60b7-126">When recording is complete, use the [**save**](save.md) command (or [**MCI\_SAVE**](mci-save.md) and the [**MCI\_SAVE\_PARMS**](mci-save-parms.md) structure) to save the recording before closing the device.</span></span>

> [!Note]  
> <span data-ttu-id="d60b7-127">Se você fechar o dispositivo sem salvar, os dados gravados serão perdidos.</span><span class="sxs-lookup"><span data-stu-id="d60b7-127">If you close the device without saving, the recorded data is lost.</span></span>

 

## <a name="checking-input-levels-pcm-only"></a><span data-ttu-id="d60b7-128">Verificando os níveis de entrada (somente PCM)</span><span class="sxs-lookup"><span data-stu-id="d60b7-128">Checking Input Levels (PCM Only)</span></span>

<span data-ttu-id="d60b7-129">Para obter o nível do sinal de entrada antes da gravação em um dispositivo de entrada PCM (modulação de código de pulso)-áudio, use o comando [**status**](status.md) ([**\_ status do MCI**](mci-status.md)).</span><span class="sxs-lookup"><span data-stu-id="d60b7-129">To get the level of the input signal before recording on a PCM (Pulse Code Modulation) waveform-audio input device, use the [**status**](status.md) ([**MCI\_STATUS**](mci-status.md)) command.</span></span> <span data-ttu-id="d60b7-130">Especifique o sinalizador de "nível" (ou o \_ sinalizador de item de status do MCI \_ e defina o membro **dwItem** da estrutura de [**parâmetros de \_ status \_ do MCI**](mci-status-parms.md) para o \_ nível de status de onda MCI \_ \_ ).</span><span class="sxs-lookup"><span data-stu-id="d60b7-130">Specify the "level" flag (or the MCI\_STATUS\_ITEM flag and set the **dwItem** member of the [**MCI\_STATUS\_PARMS**](mci-status-parms.md) structure to MCI\_WAVE\_STATUS\_LEVEL).</span></span> <span data-ttu-id="d60b7-131">O nível médio de sinal de entrada é retornado.</span><span class="sxs-lookup"><span data-stu-id="d60b7-131">The average input signal level is returned.</span></span> <span data-ttu-id="d60b7-132">O valor do canal esquerdo está na palavra de ordem superior e o valor de canal à direita ou mono está na palavra de ordem inferior.</span><span class="sxs-lookup"><span data-stu-id="d60b7-132">The left-channel value is in the high-order word and the right- or mono-channel value is in the low-order word.</span></span>

<span data-ttu-id="d60b7-133">O nível de entrada é representado como um valor não assinado.</span><span class="sxs-lookup"><span data-stu-id="d60b7-133">The input level is represented as an unsigned value.</span></span> <span data-ttu-id="d60b7-134">Para exemplos de 8 bits, esse valor está no intervalo de 0 a 127 (0x7F).</span><span class="sxs-lookup"><span data-stu-id="d60b7-134">For 8-bit samples, this value is in the range 0 through 127 (0x7F).</span></span> <span data-ttu-id="d60b7-135">Para exemplos de 16 bits, ele está no intervalo de 0 a 32.767 (0x7FFF).</span><span class="sxs-lookup"><span data-stu-id="d60b7-135">For 16-bit samples, it is in the range 0 through 32,767 (0x7FFF).</span></span>

 

 




