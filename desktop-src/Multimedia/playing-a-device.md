---
title: Reproduzindo um dispositivo
description: Reproduzindo um dispositivo
ms.assetid: 48d83e06-9e6e-498b-ad9b-0b66f235db25
keywords:
- MCI_PLAY comando
- Janela de reprodução do MCIAVI
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f73d8b6539e842a1ffa632ed1efae5c2c8d3cda1
ms.sourcegitcommit: ebd3ce6908ff865f1ef66f2fc96769be0aad82e1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/19/2020
ms.locfileid: "103917303"
---
# <a name="playing-a-device"></a><span data-ttu-id="b4a6f-105">Reproduzindo um dispositivo</span><span class="sxs-lookup"><span data-stu-id="b4a6f-105">Playing a Device</span></span>

<span data-ttu-id="b4a6f-106">O comando [**Play**](play.md) ([**MCI \_ Play**](mci-play.md)) começa a reproduzir um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-106">The [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command starts playing a device.</span></span> <span data-ttu-id="b4a6f-107">Sem nenhum sinalizador, esse comando inicia a reprodução a partir da posição atual e é reproduzido até que o comando seja interrompido ou até que o final da mídia ou do arquivo seja atingido.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-107">Without any flags, this command starts playing from the current position and plays until the command is interrupted or until the end of the media or file is reached.</span></span> <span data-ttu-id="b4a6f-108">Após a reprodução, a posição atual é no final da mídia.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-108">After playback, the current position is at the end of the media.</span></span> <span data-ttu-id="b4a6f-109">Você também pode usar o comando [**Seek**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) para alterar a posição atual.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-109">You can also use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to change the current position.</span></span>

<span data-ttu-id="b4a6f-110">A maioria dos dispositivos que dão suporte ao comando **Play** também oferece suporte aos sinalizadores "de" (MCI \_ de) e "para" (MCI \_ para).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-110">Most devices that support the **play** command also support the "from" (MCI\_FROM) and "to" (MCI\_TO) flags.</span></span> <span data-ttu-id="b4a6f-111">Esses sinalizadores indicam a posição na qual o dispositivo deve iniciar e parar de executar.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-111">These flags indicate the position at which the device should start and stop playing.</span></span> <span data-ttu-id="b4a6f-112">Por exemplo, o comando a seguir reproduz um disco de áudio de CD do início da primeira faixa usando a função [**mciSendString**](/previous-versions//dd757161(v=vs.85)) :</span><span class="sxs-lookup"><span data-stu-id="b4a6f-112">For example, the following command plays a CD audio disc from the beginning of the first track using the [**mciSendString**](/previous-versions//dd757161(v=vs.85)) function:</span></span>


```C++
mciSendString("play cdaudio from 0", lpszReturnString, 
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="b4a6f-113">Alguns tipos de dispositivo estendem esse comando para explorar os recursos de um dispositivo específico.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-113">Some device types extend this command to exploit the capabilities of a particular device.</span></span> <span data-ttu-id="b4a6f-114">Por exemplo, o comando [**Play**](play.md) para o tipo de dispositivo **VIDEODISC** inclui os sinalizadores "Fast" (MCI de \_ VD \_ Play \_ Fast), "lento" (MCI de \_ VD de \_ reprodução \_ lenta) e "verificação" (MCI de \_ reprodução de VD \_ \_ ).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-114">For example, the [**play**](play.md) command for the **videodisc** device type includes the "fast" (MCI\_VD\_PLAY\_FAST) , "slow" (MCI\_VD\_PLAY\_SLOW), and "scan" (MCI\_VD\_PLAY\_SCAN) flags.</span></span>

> [!Note]  
> <span data-ttu-id="b4a6f-115">As unidades atribuídas ao valor de posição dependem do formato de hora usado pelo dispositivo.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-115">The units assigned to the position value depend on the time format used by the device.</span></span> <span data-ttu-id="b4a6f-116">Cada dispositivo tem um formato de hora padrão, mas você deve especificar o formato de hora usando o comando [**set**](set.md) ([**MCI \_ set**](mci-set.md)) antes de emitir comandos que usam valores de posição.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-116">Each device has a default time format, but you should specify the time format by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command before issuing any commands that use position values.</span></span>

 

## <a name="playing-an-avi-file"></a><span data-ttu-id="b4a6f-117">Reprodução de um arquivo AVI</span><span class="sxs-lookup"><span data-stu-id="b4a6f-117">Playing an AVI File</span></span>

<span data-ttu-id="b4a6f-118">Os arquivos de vídeo no Windows são compostos por pelo menos dois fluxos de dados intercalados: um fluxo de vídeo (ilustração) e um fluxo de áudio.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-118">Video files in Windows are made up of at least two interleaved data streams: a video (pictorial) stream and an audio stream.</span></span> <span data-ttu-id="b4a6f-119">Você pode facilmente reproduzir esses arquivos AVI (áudio-vídeo intercalados) usando comandos MCI.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-119">You can easily play these audio-video interleaved (AVI) files by using MCI commands.</span></span> <span data-ttu-id="b4a6f-120">As seções a seguir discutem a reprodução de arquivos AVI.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-120">The following sections discuss playing AVI files.</span></span>

## <a name="setting-up-an-mciavi-playback-window"></a><span data-ttu-id="b4a6f-121">Configurando uma janela de reprodução do MCIAVI</span><span class="sxs-lookup"><span data-stu-id="b4a6f-121">Setting Up an MCIAVI Playback Window</span></span>

<span data-ttu-id="b4a6f-122">Seu aplicativo pode especificar as seguintes opções para definir a janela de reprodução para reproduzir um arquivo AVI:</span><span class="sxs-lookup"><span data-stu-id="b4a6f-122">Your application can specify the following options to define the playback window for playing an AVI file:</span></span>

-   <span data-ttu-id="b4a6f-123">Use a janela pop-up padrão do driver MCIAVI.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-123">Use the MCIAVI driver's default pop-up window.</span></span>
-   <span data-ttu-id="b4a6f-124">Especifique uma janela pai e o estilo de janela que o driver MCIAVI pode usar para criar a janela de reprodução.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-124">Specify a parent window and window style that the MCIAVI driver can use to create the playback window.</span></span>
-   <span data-ttu-id="b4a6f-125">Especifique uma janela de reprodução para o driver MCIAVI usar para reprodução.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-125">Specify a playback window for the MCIAVI driver to use for playback.</span></span>
-   <span data-ttu-id="b4a6f-126">Reproduza o arquivo AVI em uma exibição de tela inteira.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-126">Play the AVI file on a full-screen display.</span></span>

<span data-ttu-id="b4a6f-127">Se o seu aplicativo não especificar nenhuma opção de janela, o driver MCIAVI criará uma janela padrão para reproduzir a sequência.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-127">If your application does not specify any window options, the MCIAVI driver creates a default window for playing the sequence.</span></span> <span data-ttu-id="b4a6f-128">O driver cria essa janela de reprodução para o comando [**Open**](open.md) ([**MCI \_ Open**](mci-open.md)), mas não exibe a janela até que seu aplicativo envie um comando para exibir a janela ou executar o arquivo.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-128">The driver creates this playback window for the [**open**](open.md) ([**MCI\_OPEN**](mci-open.md)) command, but it does not display the window until your application sends a command to either display the window or play the file.</span></span> <span data-ttu-id="b4a6f-129">Essa janela de reprodução padrão é uma janela pop-up com uma borda de dimensionamento, barra de título, um quadro espesso, um menu de **janela** e um botão minimizar.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-129">This default playback window is a pop-up window with a sizing border, title bar, a thick frame, a **window** menu, and a Minimize button.</span></span>

<span data-ttu-id="b4a6f-130">Seu aplicativo também pode especificar um identificador de janela pai e um estilo de janela quando ele emite o comando **abrir** .</span><span class="sxs-lookup"><span data-stu-id="b4a6f-130">Your application can also specify a parent window handle and a window style when it issues the **open** command.</span></span> <span data-ttu-id="b4a6f-131">Nesse caso, o driver MCIAVI cria uma janela com base nessas especificações em vez da janela pop-up padrão.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-131">In this case, the MCIAVI driver creates a window based on these specifications instead of the default pop-up window.</span></span> <span data-ttu-id="b4a6f-132">Seu aplicativo pode especificar qualquer estilo de janela disponível para a função [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) .</span><span class="sxs-lookup"><span data-stu-id="b4a6f-132">Your application can specify any window style available for the [CreateWindow](/windows/win32/api/winuser/nf-winuser-createwindowa) function.</span></span> <span data-ttu-id="b4a6f-133">Os estilos que exigem uma janela pai, como WS \_ Child, devem incluir um identificador de janela pai.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-133">Styles that require a parent window, such as WS\_CHILD, should include a parent window handle.</span></span>

<span data-ttu-id="b4a6f-134">Seu aplicativo também pode criar sua própria janela e fornecer o identificador para o driver MCIAVI usando o comando [**Window**](window.md) ([**\_ janela MCI**](mci-window.md)).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-134">Your application can also create its own window and supply the handle to the MCIAVI driver by using the [**window**](window.md) ([**MCI\_WINDOW**](mci-window.md)) command.</span></span> <span data-ttu-id="b4a6f-135">O driver MCIAVI usa essa janela em vez de criar uma por conta própria.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-135">The MCIAVI driver uses this window instead of creating one of its own.</span></span>

<span data-ttu-id="b4a6f-136">Quando o driver MCIAVI cria a janela de reprodução ou Obtém um identificador de janela do seu aplicativo, ele não exibe a janela até que o aplicativo reproduza a sequência ou envie um comando para exibir a janela.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-136">When the MCIAVI driver creates the playback window or obtains a window handle from your application, it does not display the window until your application either plays the sequence or sends a command to display the window.</span></span> <span data-ttu-id="b4a6f-137">Seu aplicativo pode usar o comando **Window** para exibir a janela sem reproduzir a sequência.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-137">Your application can use the **window** command to display the window without playing the sequence.</span></span> <span data-ttu-id="b4a6f-138">Por exemplo, o comando a seguir exibe a janela usando [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span><span class="sxs-lookup"><span data-stu-id="b4a6f-138">For example, the following command displays the window using [**mciSendString**](/previous-versions//dd757161(v=vs.85)):</span></span>


```C++
mciSendString("window movie state show", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



<span data-ttu-id="b4a6f-139">Neste exemplo, "filme" é um alias para o dispositivo de vídeo digital.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-139">In this example, "movie" is an alias for the digital-video device.</span></span>

<span data-ttu-id="b4a6f-140">Seu aplicativo também pode reproduzir um arquivo AVI de tela inteira.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-140">Your application can also play an AVI file full-screen.</span></span> <span data-ttu-id="b4a6f-141">Para reproduzir a tela inteira, modifique o comando [**Play**](play.md) ([**MCI \_ Play**](mci-play.md)) com o sinalizador "tela inteira" (MCI \_ Mciavi \_ Play \_ fullscreen).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-141">To play full-screen, modify the [**play**](play.md) ([**MCI\_PLAY**](mci-play.md)) command with the "fullscreen" (MCI\_MCIAVI\_PLAY\_FULLSCREEN) flag.</span></span> <span data-ttu-id="b4a6f-142">Quando seu aplicativo usa esse sinalizador, o driver MCIAVI usa um formato de tela inteira de 240 pixels de 320 a para reproduzir a sequência.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-142">When your application uses this flag, the MCIAVI driver uses a 320- by 240-pixel full-screen format for playing the sequence.</span></span> <span data-ttu-id="b4a6f-143">Por exemplo, o comando a seguir reproduz o arquivo aberto de tela inteira (usando "filme" como um alias):</span><span class="sxs-lookup"><span data-stu-id="b4a6f-143">For example, the following command plays the opened file full-screen (using "movie" as an alias):</span></span>


```C++
mciSendString("play movie fullscreen", lpszReturnString,
    lstrlen(lpszReturnString), NULL);
```



## <a name="changing-the-playback-state-for-an-avi-file"></a><span data-ttu-id="b4a6f-144">Alterando o estado de reprodução de um arquivo AVI</span><span class="sxs-lookup"><span data-stu-id="b4a6f-144">Changing the Playback State for an AVI file</span></span>

<span data-ttu-id="b4a6f-145">Seu aplicativo pode usar o comando [**Seek**](seek.md) ([**MCI \_ Seek**](mci-seek.md)) para mover a posição atual para o início, o fim ou uma posição arbitrária em um arquivo avi.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-145">Your application can use the [**seek**](seek.md) ([**MCI\_SEEK**](mci-seek.md)) command to move the current position to the beginning, the end, or an arbitrary position in an AVI file.</span></span> <span data-ttu-id="b4a6f-146">Há dois modos de busca para o driver MCIAVI: Exact e Exact.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-146">There are two seek modes for the MCIAVI driver: exact and inexact.</span></span> <span data-ttu-id="b4a6f-147">Seu aplicativo pode alterar o modo de busca usando o comando [**set**](set.md) ([**MCI \_ set**](mci-set.md)).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-147">Your application can change the seek mode by using the [**set**](set.md) ([**MCI\_SET**](mci-set.md)) command.</span></span> <span data-ttu-id="b4a6f-148">Quando você usa **set** "Seek exactly on", o driver Mciavi busca exatamente o quadro que seu aplicativo especifica.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-148">When you use **set** "seek exactly on", the MCIAVI driver seeks exactly to the frame your application specifies.</span></span> <span data-ttu-id="b4a6f-149">Isso pode causar um atraso se o arquivo for compactado de temporal e seu aplicativo não especificar um quadro-chave.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-149">This might cause a delay if the file is temporally compressed and your application does not specify a key frame.</span></span> <span data-ttu-id="b4a6f-150">Quando você usa **set** "Seek exactly off", o driver Mciavi busca o quadro de chave mais próximo em um arquivo compactado de forma temporal.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-150">When you use **set** "seek exactly off", the MCIAVI driver seeks to the nearest key frame in a temporally compressed file.</span></span>

<span data-ttu-id="b4a6f-151">Alguns comandos MCI permitem que seu aplicativo altere a reprodução de um arquivo AVI de outras maneiras.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-151">Some MCI commands let your application alter the playback of an AVI file in other ways.</span></span> <span data-ttu-id="b4a6f-152">Por exemplo, um arquivo AVI, por padrão, é reproduzido em sua velocidade normal, mas seu aplicativo pode aumentar ou diminuir essa velocidade usando o sinalizador "Speed" com o comando **set** .</span><span class="sxs-lookup"><span data-stu-id="b4a6f-152">For example, an AVI file, by default, plays at its normal speed, but your application can increase or decrease this speed by using the "speed" flag with the **set** command.</span></span> <span data-ttu-id="b4a6f-153">Para arquivos AVI, um valor de velocidade de 1000 é típico.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-153">For AVI files, a speed value of 1000 is typical.</span></span> <span data-ttu-id="b4a6f-154">Portanto, para reproduzir um filme na metade de sua velocidade típica, seu aplicativo pode usar o **conjunto** de comandos "velocidade de filme 500"; Como alternativa, ele pode usar **set** "velocidade de filme 2000" para reproduzir a sequência em duas vezes sua velocidade normal.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-154">Thus, to play a movie at half its typical speed, your application can use the command **set** "movie speed 500"; alternatively, it can use **set** "movie speed 2000" to play the sequence at twice its normal speed.</span></span>

<span data-ttu-id="b4a6f-155">O comando [**SetAudio**](setaudio.md) ([**MCI de \_ áudio**](mci-setaudio.md)) permite que seu aplicativo controle a parte de áudio de um arquivo avi.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-155">The [**setaudio**](setaudio.md) ([**MCI\_SETAUDIO**](mci-setaudio.md)) command lets your application control the audio portion of an AVI file.</span></span> <span data-ttu-id="b4a6f-156">Seu aplicativo pode ativar mudo de áudio durante a reprodução ou, no caso de vários arquivos de fluxo de áudio, selecionar o fluxo de áudio que é reproduzido.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-156">Your application can mute audio during playback or, in the case of multiple audio stream files, select the audio stream that is played.</span></span>

<span data-ttu-id="b4a6f-157">O driver MCIAVI tem uma caixa de diálogo para controlar algumas das suas opções de reprodução.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-157">The MCIAVI driver has a dialog box to control some of its playback options.</span></span> <span data-ttu-id="b4a6f-158">Algumas das opções disponíveis para o usuário incluem seleção de reprodução orientada a janelas ou de tela inteira, seleção do modo de busca e zoom da imagem.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-158">Some of the options available to the user include selecting window-oriented or full-screen playback, selecting the seek mode, and zooming the image.</span></span> <span data-ttu-id="b4a6f-159">Seu aplicativo pode fazer com que o MCIAVI exiba essa caixa de diálogo usando o comando [**Configurar**](configure.md) ([**MCI \_ Configurar**](mci-configure.md)).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-159">Your application can have MCIAVI display this dialog box by using the [**configure**](configure.md) ([**MCI\_CONFIGURE**](mci-configure.md)) command.</span></span>

## <a name="stream-handlers"></a><span data-ttu-id="b4a6f-160">Manipuladores de fluxo</span><span class="sxs-lookup"><span data-stu-id="b4a6f-160">Stream Handlers</span></span>

<span data-ttu-id="b4a6f-161">Os dados em um arquivo AVI são tratados como uma série de fluxos.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-161">The data in an AVI file is treated as a series of streams.</span></span> <span data-ttu-id="b4a6f-162">Um arquivo AVI normalmente contém um fluxo de áudio e vídeo, e também pode haver um fluxo personalizado que contém texto ou outros dados personalizados.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-162">An AVI file typically contains an audio and video stream, and there might also be a custom stream that contains text or some other custom data.</span></span> <span data-ttu-id="b4a6f-163">O driver MCIAVI pode usar manipuladores diferentes para esses fluxos de dados.</span><span class="sxs-lookup"><span data-stu-id="b4a6f-163">The MCIAVI driver can use different handlers for these data streams.</span></span> <span data-ttu-id="b4a6f-164">Para obter mais informações sobre arquivos AVI personalizados, consulte [manipuladores de arquivo e fluxo personalizados](custom-file-and-stream-handlers.md).</span><span class="sxs-lookup"><span data-stu-id="b4a6f-164">For more information about custom AVI files, see [Custom File and Stream Handlers](custom-file-and-stream-handlers.md).</span></span>

 

 