---
title: Dispositivos e tipos de dados
description: Dispositivos e tipos de dados
ms.assetid: 46247983-19c3-4c7a-a615-ba6cd8bd3289
keywords:
- waveform audio, abrindo dispositivos de saída
- interface waveform-audio, abrindo dispositivos de saída
- abrindo dispositivos de saída waveform-audio
- waveform audio,consultando dispositivos de saída
- interface waveform-audio, consultando dispositivos de saída
- consultando dispositivos de saída de áudio de forma de onda
- áudio waveform, alças de dispositivo
- interface waveform-audio, alças de dispositivo
- áudio waveform, identificadores de dispositivo
- interface waveform-audio, identificadores de dispositivo
- áudio waveform, tipos de dados de saída
- interface waveform-audio, tipos de dados de saída
- waveform audio, formatos de dados
- interface waveform-audio, formatos de dados
- escrevendo dados waveform-audio
- waveform audio, escrevendo dados
- interface waveform-audio, escrevendo dados
- Dados de áudio de forma de onda do PCM
- áudio waveform, dados do PCM
- interface waveform-audio, dados do PCM
- áudio waveform, fechando dispositivos de saída
- interface waveform-audio, fechando dispositivos de saída
- fechando dispositivos de saída waveform-audio
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 2abe0c2c20c52f4498316fb619885d41f85e41d6
ms.sourcegitcommit: b32433cc0394159c7263809ae67615ab5792d40d
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/30/2021
ms.locfileid: "113120241"
---
# <a name="devices-and-data-types"></a><span data-ttu-id="aec22-126">Dispositivos e tipos de dados</span><span class="sxs-lookup"><span data-stu-id="aec22-126">Devices and Data Types</span></span>

<span data-ttu-id="aec22-127">Esta seção descreve como trabalhar com dispositivos waveform-audio e inclui informações sobre como abri-los, fechar e consultar seus recursos.</span><span class="sxs-lookup"><span data-stu-id="aec22-127">This section describes working with waveform-audio devices, and includes information on how to open, close and query them for their capabilities.</span></span> <span data-ttu-id="aec22-128">Ele também descreve como controlar os dispositivos em um sistema usando identificadores de dispositivo e identificadores de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-128">It also describes how to keep track of the devices in a system by using device handles and device identifiers.</span></span>

## <a name="opening-waveform-audio-output-devices"></a><span data-ttu-id="aec22-129">Abrindo Waveform-Audio de saída</span><span class="sxs-lookup"><span data-stu-id="aec22-129">Opening Waveform-Audio Output Devices</span></span>

<span data-ttu-id="aec22-130">Use a [**função waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir um dispositivo de saída waveform-audio para reprodução.</span><span class="sxs-lookup"><span data-stu-id="aec22-130">Use the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a waveform-audio output device for playback.</span></span> <span data-ttu-id="aec22-131">Essa função abre o dispositivo associado ao identificador de dispositivo especificado e retorna um identificador do dispositivo aberto escrevendo o identificador de um local de memória especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-131">This function opens the device associated with the specified device identifier and returns a handle of the open device by writing the handle of a specified memory location.</span></span>

<span data-ttu-id="aec22-132">Alguns computadores multimídia têm vários dispositivos de saída de áudio de forma de onda.</span><span class="sxs-lookup"><span data-stu-id="aec22-132">Some multimedia computers have multiple waveform-audio output devices.</span></span> <span data-ttu-id="aec22-133">A menos que você queira abrir um dispositivo de saída de áudio de forma de onda específico em um sistema, use o sinalizador WAVE MAPPER para o identificador do dispositivo ao \_ abrir um dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-133">Unless you want to open a specific waveform-audio output device in a system, you should use the WAVE\_MAPPER flag for the device identifier when you open a device.</span></span> <span data-ttu-id="aec22-134">A **função waveOutOpen** escolhe o dispositivo no sistema que é mais bem capaz de reproduzir o formato de dados especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-134">The **waveOutOpen** function chooses the device in the system that is best able to play the specified data format.</span></span>

## <a name="querying-audio-devices"></a><span data-ttu-id="aec22-135">Consultando dispositivos de áudio</span><span class="sxs-lookup"><span data-stu-id="aec22-135">Querying Audio Devices</span></span>

<span data-ttu-id="aec22-136">O Windows fornece as funções a seguir para determinar quantos dispositivos de um determinado tipo estão disponíveis em um sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-136">Windows provides the following functions to determine how many devices of a certain type are available in a system.</span></span>



| <span data-ttu-id="aec22-137">Função</span><span class="sxs-lookup"><span data-stu-id="aec22-137">Function</span></span>                                       | <span data-ttu-id="aec22-138">Descrição</span><span class="sxs-lookup"><span data-stu-id="aec22-138">Description</span></span>                                                                  |
|------------------------------------------------|------------------------------------------------------------------------------|
| [<span data-ttu-id="aec22-139">**auxGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="aec22-139">**auxGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs)         | <span data-ttu-id="aec22-140">Recupera o número de dispositivos de saída auxiliares presentes no sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-140">Retrieves the number of auxiliary output devices present in the system.</span></span>      |
| [<span data-ttu-id="aec22-141">**waveInGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="aec22-141">**waveInGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)   | <span data-ttu-id="aec22-142">Recupera o número de dispositivos de entrada waveform-audio presentes no sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-142">Retrieves the number of waveform-audio input devices present in the system.</span></span>  |
| [<span data-ttu-id="aec22-143">**waveOutGetNumDevs**</span><span class="sxs-lookup"><span data-stu-id="aec22-143">**waveOutGetNumDevs**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) | <span data-ttu-id="aec22-144">Recupera o número de dispositivos de saída de áudio de forma de onda presentes no sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-144">Retrieves the number of waveform-audio output devices present in the system.</span></span> |



 

<span data-ttu-id="aec22-145">Os dispositivos de áudio são identificados por um identificador de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-145">Audio devices are identified by a device identifier.</span></span> <span data-ttu-id="aec22-146">O identificador do dispositivo é determinado implicitamente do número de dispositivos presentes em um sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-146">The device identifier is determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="aec22-147">Os identificadores de dispositivo variam de zero a um a menos do que o número de dispositivos presentes.</span><span class="sxs-lookup"><span data-stu-id="aec22-147">Device identifiers range from zero to one less than the number of devices present.</span></span> <span data-ttu-id="aec22-148">Por exemplo, se houver dois dispositivos de saída waveform-audio em um sistema, os identificadores de dispositivo válidos serão 0 e 1.</span><span class="sxs-lookup"><span data-stu-id="aec22-148">For example, if there are two waveform-audio output devices in a system, valid device identifiers are 0 and 1.</span></span>

<span data-ttu-id="aec22-149">Depois de determinar quantos dispositivos de um determinado tipo estão presentes em um sistema, você pode usar uma das funções a seguir para consultar os recursos de cada dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-149">After you determine how many devices of a certain type are present in a system, you can use one of the following functions to query the capabilities of each device.</span></span>



| <span data-ttu-id="aec22-150">Função</span><span class="sxs-lookup"><span data-stu-id="aec22-150">Function</span></span>                                       | <span data-ttu-id="aec22-151">Descrição</span><span class="sxs-lookup"><span data-stu-id="aec22-151">Description</span></span>                                                             |
|------------------------------------------------|-------------------------------------------------------------------------|
| [<span data-ttu-id="aec22-152">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-152">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | <span data-ttu-id="aec22-153">Recupera os recursos de um dispositivo de saída auxiliar especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-153">Retrieves the capabilities of a specified auxiliary output device.</span></span>      |
| [<span data-ttu-id="aec22-154">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-154">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | <span data-ttu-id="aec22-155">Recupera os recursos de um dispositivo de entrada de áudio de forma de onda especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-155">Retrieves the capabilities of a specified waveform-audio input device.</span></span>  |
| [<span data-ttu-id="aec22-156">**Waveoutgetdevcaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-156">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | <span data-ttu-id="aec22-157">Recupera os recursos de um dispositivo de saída de áudio de forma de onda especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-157">Retrieves the capabilities of a specified waveform-audio output device.</span></span> |



 

<span data-ttu-id="aec22-158">Cada uma dessas funções preenche uma estrutura com informações sobre os recursos de um dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="aec22-158">Each of these functions fills a structure with information about the capabilities of a specified device.</span></span> <span data-ttu-id="aec22-159">A tabela a seguir lista as estruturas que correspondem a cada uma dessas funções.</span><span class="sxs-lookup"><span data-stu-id="aec22-159">The following table lists the structures that correspond to each of these functions.</span></span>



|  <span data-ttu-id="aec22-160">Função</span><span class="sxs-lookup"><span data-stu-id="aec22-160">Function</span></span>                                              |  <span data-ttu-id="aec22-161">Estrutura</span><span class="sxs-lookup"><span data-stu-id="aec22-161">Structure</span></span>                                  |
|------------------------------------------------|------------------------------------|
| [<span data-ttu-id="aec22-162">**auxGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-162">**auxGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-auxgetdevcaps)         | [<span data-ttu-id="aec22-163">**AUXCAPS**</span><span class="sxs-lookup"><span data-stu-id="aec22-163">**AUXCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-auxcaps)         |
| [<span data-ttu-id="aec22-164">**waveInGetDevCaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-164">**waveInGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveingetdevcaps)   | [<span data-ttu-id="aec22-165">**WAVEINCAPS**</span><span class="sxs-lookup"><span data-stu-id="aec22-165">**WAVEINCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveincaps)   |
| [<span data-ttu-id="aec22-166">**Waveoutgetdevcaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-166">**waveOutGetDevCaps**</span></span>](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetdevcaps) | [<span data-ttu-id="aec22-167">**Waveoutcaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-167">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) |



 

<span data-ttu-id="aec22-168">Os formatos padrão são listados no **membro dwFormats** da **estrutura WAVEOUTCAPS.**</span><span class="sxs-lookup"><span data-stu-id="aec22-168">Standard formats are listed in the **dwFormats** member of the **WAVEOUTCAPS** structure.</span></span> <span data-ttu-id="aec22-169">Dispositivos waveform-audio podem dar suporte a formatos não padrão.</span><span class="sxs-lookup"><span data-stu-id="aec22-169">Waveform-audio devices can support nonstandard formats.</span></span> <span data-ttu-id="aec22-170">Para determinar se um formato específico (padrão ou não padrão) é suportado por um dispositivo, você pode chamar a função [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) com o sinalizador WAVE \_ FORMAT \_ QUERY.</span><span class="sxs-lookup"><span data-stu-id="aec22-170">To determine whether a particular format (standard or nonstandard) is supported by a device, you can call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function with the WAVE\_FORMAT\_QUERY flag.</span></span> <span data-ttu-id="aec22-171">Esse sinalizador não abre o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-171">This flag does not open the device.</span></span> <span data-ttu-id="aec22-172">Especifique o formato em questão na estrutura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) apontada pelo parâmetro *pwfx* passado para **waveOutOpen.**</span><span class="sxs-lookup"><span data-stu-id="aec22-172">You specify the format in question in the [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure pointed to by the *pwfx* parameter passed to **waveOutOpen**.</span></span>

<span data-ttu-id="aec22-173">Os dispositivos de saída waveform-audio variam de acordo com os recursos que eles suportam.</span><span class="sxs-lookup"><span data-stu-id="aec22-173">Waveform-audio output devices vary in the capabilities they support.</span></span> <span data-ttu-id="aec22-174">O **membro dwSupport** da estrutura [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) indica se um dispositivo dá suporte a recursos como alterações de volume e de tom.</span><span class="sxs-lookup"><span data-stu-id="aec22-174">The **dwSupport** member of the [**WAVEOUTCAPS**](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps) structure indicates whether a device supports such capabilities as volume and pitch changes.</span></span>

## <a name="device-handles-and-device-identifiers"></a><span data-ttu-id="aec22-175">Identificadores de dispositivo e identificadores de dispositivo</span><span class="sxs-lookup"><span data-stu-id="aec22-175">Device Handles and Device Identifiers</span></span>

<span data-ttu-id="aec22-176">Cada função que abre um dispositivo de áudio especifica um identificador de dispositivo, um ponteiro para um local de memória e alguns parâmetros exclusivos para cada tipo de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-176">Each function that opens an audio device specifies a device identifier, a pointer to a memory location, and some parameters that are unique to each type of device.</span></span> <span data-ttu-id="aec22-177">O local de memória é preenchido com um alça de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-177">The memory location is filled with a device handle.</span></span> <span data-ttu-id="aec22-178">Use esse identificador de dispositivo para identificar o dispositivo de áudio aberto ao chamar outras funções de áudio.</span><span class="sxs-lookup"><span data-stu-id="aec22-178">Use this device handle to identify the open audio device when calling other audio functions.</span></span>

<span data-ttu-id="aec22-179">A diferença entre identificadores e identificadores para dispositivos de áudio é sutil, mas importante:</span><span class="sxs-lookup"><span data-stu-id="aec22-179">The difference between identifiers and handles for audio devices is subtle but important:</span></span>

-   <span data-ttu-id="aec22-180">Os identificadores de dispositivo são determinados implicitamente do número de dispositivos presentes em um sistema.</span><span class="sxs-lookup"><span data-stu-id="aec22-180">Device identifiers are determined implicitly from the number of devices present in a system.</span></span> <span data-ttu-id="aec22-181">Esse número é obtido usando [**a função auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs)ou [**waveOutGetNumDevs.**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs)</span><span class="sxs-lookup"><span data-stu-id="aec22-181">This number is obtained by using the [**auxGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-auxgetnumdevs), [**waveInGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveingetnumdevs), or [**waveOutGetNumDevs**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutgetnumdevs) function.</span></span>
-   <span data-ttu-id="aec22-182">Os alças de dispositivo são retornados quando os drivers de dispositivo são abertos usando a [**função waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) ou [**waveOutOpen.**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen)</span><span class="sxs-lookup"><span data-stu-id="aec22-182">Device handles are returned when device drivers are opened by using the [**waveInOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveinopen) or [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function.</span></span>

<span data-ttu-id="aec22-183">Não há funções que abrem ou fecham dispositivos de áudio auxiliares.</span><span class="sxs-lookup"><span data-stu-id="aec22-183">There are no functions that open or close auxiliary audio devices.</span></span> <span data-ttu-id="aec22-184">Os dispositivos de áudio auxiliares não precisam ser abertos e fechados como dispositivos waveform-audio porque não há transferência contínua de dados associada a eles.</span><span class="sxs-lookup"><span data-stu-id="aec22-184">Auxiliary audio devices need not be opened and closed like waveform-audio devices because there is no continuous data transfer associated with them.</span></span> <span data-ttu-id="aec22-185">Todas as funções auxiliares de áudio usam identificadores de dispositivo para identificar dispositivos.</span><span class="sxs-lookup"><span data-stu-id="aec22-185">All auxiliary audio functions use device identifiers to identify devices.</span></span>

## <a name="waveform-audio-output-data-types"></a><span data-ttu-id="aec22-186">Waveform-Audio de dados de saída</span><span class="sxs-lookup"><span data-stu-id="aec22-186">Waveform-Audio Output Data Types</span></span>

<span data-ttu-id="aec22-187">Os tipos de dados a seguir são definidos para funções de saída waveform-audio.</span><span class="sxs-lookup"><span data-stu-id="aec22-187">The following data types are defined for waveform-audio output functions.</span></span>



| <span data-ttu-id="aec22-188">Tipo</span><span class="sxs-lookup"><span data-stu-id="aec22-188">Type</span></span>                                 | <span data-ttu-id="aec22-189">Descrição</span><span class="sxs-lookup"><span data-stu-id="aec22-189">Description</span></span>                                                                                                                                                   |
|--------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="aec22-190">**HWAVEOUT**</span><span class="sxs-lookup"><span data-stu-id="aec22-190">**HWAVEOUT**</span></span>                         | <span data-ttu-id="aec22-191">Lidar com um dispositivo de saída de áudio de forma de onda aberta.</span><span class="sxs-lookup"><span data-stu-id="aec22-191">Handle to an open waveform-audio output device.</span></span>                                                                                                               |
| [<span data-ttu-id="aec22-192">**Waveformatex**</span><span class="sxs-lookup"><span data-stu-id="aec22-192">**WAVEFORMATEX**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) | <span data-ttu-id="aec22-193">Estrutura que especifica os formatos de dados com suporte por um dispositivo de entrada waveform-audio específico.</span><span class="sxs-lookup"><span data-stu-id="aec22-193">Structure that specifies the data formats supported by a particular waveform-audio input device.</span></span> <span data-ttu-id="aec22-194">Essa estrutura também é usada para dispositivos de entrada waveform-audio.</span><span class="sxs-lookup"><span data-stu-id="aec22-194">This structure is also usedfor waveform-audio input devices.</span></span> |
| [<span data-ttu-id="aec22-195">**Wavehdr**</span><span class="sxs-lookup"><span data-stu-id="aec22-195">**WAVEHDR**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr)           | <span data-ttu-id="aec22-196">Estrutura usada como um header para um bloco de dados de entrada waveform-audio.</span><span class="sxs-lookup"><span data-stu-id="aec22-196">Structure used as a header for a block of waveform-audio input data.</span></span> <span data-ttu-id="aec22-197">Essa estrutura também é usada para dispositivos de entrada waveform-audio.</span><span class="sxs-lookup"><span data-stu-id="aec22-197">This structure is also used for waveform-audio input devices.</span></span>                            |
| [<span data-ttu-id="aec22-198">**Waveoutcaps**</span><span class="sxs-lookup"><span data-stu-id="aec22-198">**WAVEOUTCAPS**</span></span>](/windows/win32/api/mmeapi/ns-mmeapi-waveoutcaps)   | <span data-ttu-id="aec22-199">Estrutura usada para consultar os recursos de um dispositivo de saída de áudio de forma de onda específico.</span><span class="sxs-lookup"><span data-stu-id="aec22-199">Structure used to query the capabilities of a particular waveform-audio output device.</span></span>                                                                        |



 

## <a name="specifying-waveform-audio-data-formats"></a><span data-ttu-id="aec22-200">Especificando Waveform-Audio formatos de dados</span><span class="sxs-lookup"><span data-stu-id="aec22-200">Specifying Waveform-Audio Data Formats</span></span>

<span data-ttu-id="aec22-201">Quando você chama a função [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) para abrir um driver de dispositivo para reprodução ou para consultar se o driver dá suporte a um formato de dados específico, use o parâmetro *pwfx* para especificar um ponteiro para uma estrutura [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) que contém o formato de dados Wave-Audio solicitado.</span><span class="sxs-lookup"><span data-stu-id="aec22-201">When you call the [**waveOutOpen**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutopen) function to open a device driver for playback or to query whether the driver supports a particular data format, use the *pwfx* parameter to specify a pointer to a [**WAVEFORMATEX**](/windows/win32/api/mmeapi/ns-mmeapi-waveformatex) structure containing the requested waveform-audio data format.</span></span> <span data-ttu-id="aec22-202">**WAVEFORMATEX** substitui as estruturas [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) e [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) .</span><span class="sxs-lookup"><span data-stu-id="aec22-202">**WAVEFORMATEX** supersedes the [**WAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-waveformat) and [**PCMWAVEFORMAT**](/windows/win32/api/mmreg/ns-mmreg-pcmwaveformat) structures.</span></span>

<span data-ttu-id="aec22-203">Para dados de áudio separados em mais de dois canais ou tem um tamanho de amostra que não é um múltiplo de 8, você deve usar [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="aec22-203">For audio data that is separated into more than two channels or has a sample size that is not a multiple of 8, you should use [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span> <span data-ttu-id="aec22-204">Essa estrutura simplesmente configura os bytes extras apontados pelo membro **cbSize** de **WAVEFORMATEX** para fornecer informações extras sobre o formato.</span><span class="sxs-lookup"><span data-stu-id="aec22-204">This structure simply configures the extra bytes pointed to by the **cbSize** member of **WAVEFORMATEX** to give extra information about the format.</span></span> <span data-ttu-id="aec22-205">**WAVEFORMATEXTENSIBLE** pode ser convertido como **WAVEFORMATEX**.</span><span class="sxs-lookup"><span data-stu-id="aec22-205">**WAVEFORMATEXTENSIBLE** can be cast as **WAVEFORMATEX**.</span></span>

<span data-ttu-id="aec22-206">Também há dois formatos de área de transferência que você pode usar para representar dados de áudio: CF \_ Wave e CF \_ riff.</span><span class="sxs-lookup"><span data-stu-id="aec22-206">There are also two clipboard formats you can use to represent audio data: CF\_WAVE and CF\_RIFF.</span></span> <span data-ttu-id="aec22-207">Use o formato de onda do CF \_ para representar dados em um dos formatos padrão, como 11 kHz ou 22 kHz PCM.</span><span class="sxs-lookup"><span data-stu-id="aec22-207">Use the CF\_WAVE format to represent data in one of the standard formats, such as 11 kHz or 22 kHz PCM.</span></span> <span data-ttu-id="aec22-208">Use o \_ formato RIFF do CF para representar formatos de dados mais complexos que não podem ser representados como arquivos de áudio de forma de onda padrão.</span><span class="sxs-lookup"><span data-stu-id="aec22-208">Use the CF\_RIFF format to represent more complex data formats that cannot be represented as standard waveform-audio files.</span></span>

## <a name="writing-waveform-audio-data"></a><span data-ttu-id="aec22-209">Gravando dados de Waveform-Audio</span><span class="sxs-lookup"><span data-stu-id="aec22-209">Writing Waveform-Audio Data</span></span>

<span data-ttu-id="aec22-210">Depois de abrir com êxito um driver de dispositivo de saída de wave-áudio, você pode começar a tocar um som.</span><span class="sxs-lookup"><span data-stu-id="aec22-210">After successfully opening a waveform-audio output device driver, you can begin playing a sound.</span></span> <span data-ttu-id="aec22-211">O Windows fornece a função [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) para enviar blocos de dados para dispositivos de saída de wave-áudio.</span><span class="sxs-lookup"><span data-stu-id="aec22-211">Windows provides the [**waveOutWrite**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutwrite) function for sending data blocks to waveform-audio output devices.</span></span>

<span data-ttu-id="aec22-212">Use a estrutura [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) para especificar o bloco de dados de formato de onda-áudio que você está enviando usando **waveOutWrite**.</span><span class="sxs-lookup"><span data-stu-id="aec22-212">Use the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure to specify the waveform-audio data block you are sending using **waveOutWrite**.</span></span> <span data-ttu-id="aec22-213">Essa estrutura contém um ponteiro para um bloco de dados bloqueados, o comprimento do bloco de dados e alguns sinalizadores.</span><span class="sxs-lookup"><span data-stu-id="aec22-213">This structure contains a pointer to a locked data block, the length of the data block, and some flags.</span></span> <span data-ttu-id="aec22-214">Este bloco de dados deve ser preparado antes de você usá-lo; para obter informações sobre como preparar um bloco de dados, consulte [blocos de dados de áudio](audio-data-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="aec22-214">This data block must be prepared before you use it; for information about preparing a data block, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

<span data-ttu-id="aec22-215">Depois de enviar um bloco de dados para um dispositivo de saída usando **waveOutWrite**, você deve aguardar até que o driver de dispositivo seja concluído com o bloco de dados antes de liberá-lo.</span><span class="sxs-lookup"><span data-stu-id="aec22-215">After you send a data block to an output device by using **waveOutWrite**, you must wait until the device driver is finished with the data block before freeing it.</span></span> <span data-ttu-id="aec22-216">Se você estiver enviando vários blocos de dados, será necessário monitorar a conclusão dos blocos de dados para saber quando enviar blocos adicionais.</span><span class="sxs-lookup"><span data-stu-id="aec22-216">If you are sending multiple data blocks, you must monitor the completion of data blocks to know when to send additional blocks.</span></span> <span data-ttu-id="aec22-217">Para obter mais informações sobre blocos de dados, consulte [blocos de dados de áudio](audio-data-blocks.md).</span><span class="sxs-lookup"><span data-stu-id="aec22-217">For more information about data blocks, see [Audio Data Blocks](audio-data-blocks.md).</span></span>

## <a name="pcm-waveform-audio-data-format"></a><span data-ttu-id="aec22-218">Formato de dados de Waveform-Audio PCM</span><span class="sxs-lookup"><span data-stu-id="aec22-218">PCM Waveform-Audio Data Format</span></span>

<span data-ttu-id="aec22-219">O membro **lpData** da estrutura [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) pointsetts para os exemplos de dados de formato de onda-áudio.</span><span class="sxs-lookup"><span data-stu-id="aec22-219">The **lpData** member of the [**WAVEHDR**](/windows/win32/api/mmeapi/ns-mmeapi-wavehdr) structure pointsetts to the waveform-audio data samples.</span></span> <span data-ttu-id="aec22-220">Para dados PCM de 8 bits, cada amostra é representada por um único byte de dados não assinado.</span><span class="sxs-lookup"><span data-stu-id="aec22-220">For 8-bit PCM data, each sample is represented by a single unsigned data byte.</span></span> <span data-ttu-id="aec22-221">Para dados PCM de 16 bits, cada amostra é representada por um valor assinado de 16 bits.</span><span class="sxs-lookup"><span data-stu-id="aec22-221">For 16-bit PCM data, each sample is represented by a 16-bit signed value.</span></span> <span data-ttu-id="aec22-222">A tabela a seguir resume os valores máximo, mínimo e intermediário para dados PCM de Wave de onda-áudio.</span><span class="sxs-lookup"><span data-stu-id="aec22-222">The following table summarizes the maximum, minimum, and midpoint values for PCM waveform-audio data.</span></span>



| <span data-ttu-id="aec22-223">Formato de dados</span><span class="sxs-lookup"><span data-stu-id="aec22-223">Data format</span></span> | <span data-ttu-id="aec22-224">Valor máximo</span><span class="sxs-lookup"><span data-stu-id="aec22-224">Maximum value</span></span>   | <span data-ttu-id="aec22-225">Valor mínimo</span><span class="sxs-lookup"><span data-stu-id="aec22-225">Minimum value</span></span>    | <span data-ttu-id="aec22-226">Valor de ponto médio</span><span class="sxs-lookup"><span data-stu-id="aec22-226">Midpoint value</span></span> |
|-------------|-----------------|------------------|----------------|
| <span data-ttu-id="aec22-227">PCM de 8 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-227">8-bit PCM</span></span>   | <span data-ttu-id="aec22-228">255 (0xFF)</span><span class="sxs-lookup"><span data-stu-id="aec22-228">255 (0xFF)</span></span>      | <span data-ttu-id="aec22-229">0</span><span class="sxs-lookup"><span data-stu-id="aec22-229">0</span></span>                | <span data-ttu-id="aec22-230">128 (0x80)</span><span class="sxs-lookup"><span data-stu-id="aec22-230">128 (0x80)</span></span>     |
| <span data-ttu-id="aec22-231">PCM de 16 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-231">16-bit PCM</span></span>  | <span data-ttu-id="aec22-232">32.767 (0x7FFF)</span><span class="sxs-lookup"><span data-stu-id="aec22-232">32,767 (0x7FFF)</span></span> | <span data-ttu-id="aec22-233">– 32.768 (0x8000)</span><span class="sxs-lookup"><span data-stu-id="aec22-233">–32,768 (0x8000)</span></span> | <span data-ttu-id="aec22-234">0</span><span class="sxs-lookup"><span data-stu-id="aec22-234">0</span></span>              |



 

## <a name="pcm-data-packing"></a><span data-ttu-id="aec22-235">Empacotamento de dados PCM</span><span class="sxs-lookup"><span data-stu-id="aec22-235">PCM Data Packing</span></span>

<span data-ttu-id="aec22-236">A ordem dos bytes de dados varia entre os formatos de 8 e 16 bits e entre os formatos mono e estéreo.</span><span class="sxs-lookup"><span data-stu-id="aec22-236">The order of the data bytes varies between 8-bit and 16-bit formats and between mono and stereo formats.</span></span> <span data-ttu-id="aec22-237">A lista a seguir descreve a compactação de dados para os diferentes formatos de dados PCM Wave-Audio.</span><span class="sxs-lookup"><span data-stu-id="aec22-237">The following list describes data packing for the different PCM waveform-audio data formats.</span></span>



| <span data-ttu-id="aec22-238">PCM Wave-formato de áudio</span><span class="sxs-lookup"><span data-stu-id="aec22-238">PCM waveform-audio format</span></span> | <span data-ttu-id="aec22-239">Descrição</span><span class="sxs-lookup"><span data-stu-id="aec22-239">Description</span></span>                                                                                                                                                                                                                                                                                                                                     |
|---------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="aec22-240">mono de 8 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-240">8-bit mono</span></span>                | <span data-ttu-id="aec22-241">Cada exemplo é 1 byte que corresponde a um único canal de áudio.</span><span class="sxs-lookup"><span data-stu-id="aec22-241">Each sample is 1 byte that corresponds to a single audio channel.</span></span> <span data-ttu-id="aec22-242">A amostra 1 é seguida pelas amostras 2, 3, 4 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="aec22-242">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span>                                                                                                                                                                                                                           |
| <span data-ttu-id="aec22-243">estéreo de 8 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-243">8-bit stereo</span></span>              | <span data-ttu-id="aec22-244">Cada exemplo é 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="aec22-244">Each sample is 2 bytes.</span></span> <span data-ttu-id="aec22-245">A amostra 1 é seguida pelas amostras 2, 3, 4 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="aec22-245">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="aec22-246">Para cada exemplo, o primeiro byte é o canal 0 (o canal esquerdo) e o segundo byte é o canal 1 (o canal correto).</span><span class="sxs-lookup"><span data-stu-id="aec22-246">For each sample, the first byte is channel 0 (the left channel) and the second byte is channel 1 (the right channel).</span></span>                                                                                                                                               |
| <span data-ttu-id="aec22-247">mono de 16 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-247">16-bit mono</span></span>               | <span data-ttu-id="aec22-248">Cada exemplo é 2 bytes.</span><span class="sxs-lookup"><span data-stu-id="aec22-248">Each sample is 2 bytes.</span></span> <span data-ttu-id="aec22-249">A amostra 1 é seguida pelas amostras 2, 3, 4 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="aec22-249">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="aec22-250">Para cada exemplo, o primeiro byte é o byte de ordem inferior do canal 0 e o segundo byte é o byte de ordem superior do canal 0.</span><span class="sxs-lookup"><span data-stu-id="aec22-250">For each sample, the first byte is the low-order byte of channel 0 and the second byte is the high-order byte of channel 0.</span></span>                                                                                                                                         |
| <span data-ttu-id="aec22-251">estéreo de 16 bits</span><span class="sxs-lookup"><span data-stu-id="aec22-251">16-bit stereo</span></span>             | <span data-ttu-id="aec22-252">Cada exemplo é 4 bytes.</span><span class="sxs-lookup"><span data-stu-id="aec22-252">Each sample is 4 bytes.</span></span> <span data-ttu-id="aec22-253">A amostra 1 é seguida pelas amostras 2, 3, 4 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="aec22-253">Sample 1 is followed by samples 2, 3, 4, and so on.</span></span> <span data-ttu-id="aec22-254">Para cada exemplo, o primeiro byte é o byte de ordem inferior do canal 0 (canal esquerdo); o segundo byte é o byte de ordem superior do canal 0; o terceiro byte é o byte de ordem inferior do canal 1 (canal direito); e o quarto byte é o byte de ordem superior do canal 1.</span><span class="sxs-lookup"><span data-stu-id="aec22-254">For each sample, the first byte is the low-order byte of channel 0 (left channel); the second byte is the high-order byte of channel 0; the third byte is the low-order byte of channel 1 (right channel); and the fourth byte is the high-order byte of channel 1.</span></span> |
| <span data-ttu-id="aec22-255">Outras pessoas</span><span class="sxs-lookup"><span data-stu-id="aec22-255">Others</span></span>                    | <span data-ttu-id="aec22-256">Cada exemplo está contido em um bloco que é um múltiplo de 4 bytes, mas os exemplos podem ser não alinhados em byte.</span><span class="sxs-lookup"><span data-stu-id="aec22-256">Each sample is contained in a block that is a multiple of 4 bytes, but the samples may be non-byte-aligned.</span></span> <span data-ttu-id="aec22-257">A organização dos canais é especificada por uma máscara.</span><span class="sxs-lookup"><span data-stu-id="aec22-257">The arrangement of channels is specified by a mask.</span></span> <span data-ttu-id="aec22-258">Para obter mais informações, consulte [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span><span class="sxs-lookup"><span data-stu-id="aec22-258">For more information, see [**WAVEFORMATEXTENSIBLE**](/windows/win32/api/mmreg/ns-mmreg-waveformatextensible).</span></span>                                                                                                 |



 

## <a name="closing-waveform-audio-output-devices"></a><span data-ttu-id="aec22-259">Fechando Waveform-Audio dispositivos de saída</span><span class="sxs-lookup"><span data-stu-id="aec22-259">Closing Waveform-Audio Output Devices</span></span>

<span data-ttu-id="aec22-260">Após a execução de Wave-a reprodução de áudio é concluída, chame [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) para fechar o dispositivo de saída.</span><span class="sxs-lookup"><span data-stu-id="aec22-260">After waveform-audio playback is complete, call [**waveOutClose**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutclose) to close the output device.</span></span> <span data-ttu-id="aec22-261">Se **waveOutClose** for chamado enquanto um arquivo de wave-áudio estiver sendo reproduzido, a operação de fechamento falhará e a função retornará um código de erro indicando que o dispositivo não foi fechado.</span><span class="sxs-lookup"><span data-stu-id="aec22-261">If **waveOutClose** is called while a waveform-audio file is playing, the close operation fails and the function returns an error code indicating that the device was not closed.</span></span> <span data-ttu-id="aec22-262">Se você não quiser aguardar a reprodução terminar antes de fechar o dispositivo, chame a função [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) antes de fechar.</span><span class="sxs-lookup"><span data-stu-id="aec22-262">If you do not want to wait for playback to end before closing the device, call the [**waveOutReset**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutreset) function before closing.</span></span> <span data-ttu-id="aec22-263">Isso termina a reprodução e permite que o dispositivo seja fechado.</span><span class="sxs-lookup"><span data-stu-id="aec22-263">This ends playback and allows the device to be closed.</span></span> <span data-ttu-id="aec22-264">Certifique-se de usar a função [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) para limpar a preparação em todos os blocos de dados antes de fechar o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="aec22-264">Be sure to use the [**waveOutUnprepareHeader**](/windows/win32/api/mmeapi/nf-mmeapi-waveoutunprepareheader) function to clean up the preparation on all data blocks before closing the device.</span></span>

 

 