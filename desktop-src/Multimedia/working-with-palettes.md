---
title: Trabalhando com paletas
description: Trabalhando com paletas
ms.assetid: 0ad0d78b-4c2c-499c-ad5e-8324b59e89fc
keywords:
- WM_CAP_PAL_PASTE mensagem
- macro capPalettePaste
- WM_CAP_PAL_OPEN mensagem
- macro capPaletteOpen
- WM_CAP_PAL_AUTOCREATE mensagem
- macro capPaletteAuto
- WM_CAP_PAL_MANUALCREATE mensagem
- macro capPaletteManual
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f09cbbe3ffc8ea21d1ecf8545f036f5ba6dfb927
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "105749563"
---
# <a name="working-with-palettes"></a><span data-ttu-id="49a20-111">Trabalhando com paletas</span><span class="sxs-lookup"><span data-stu-id="49a20-111">Working with Palettes</span></span>

<span data-ttu-id="49a20-112">Inicialmente, se o formato de captura de vídeo exigir uma paleta, a janela de captura usará a paleta fornecida pelo driver de captura.</span><span class="sxs-lookup"><span data-stu-id="49a20-112">Initially, if the video capture format requires a palette, the capture window uses the palette supplied by the capture driver.</span></span> <span data-ttu-id="49a20-113">Essa paleta pode consistir em valores de escala cinza para reprodução em preto e branco, ou uma ampla seleção de valores de cor.</span><span class="sxs-lookup"><span data-stu-id="49a20-113">This palette might consist of gray-scale values for black-and-white reproduction, or a broad selection of color values.</span></span> <span data-ttu-id="49a20-114">Você pode recuperar uma paleta existente para substituir a paleta padrão usando a mensagem [**do WM \_ Cap \_ PAL \_ Paste**](wm-cap-pal-paste.md) ou [**WM Cap da \_ \_ PAL \_ aberta**](wm-cap-pal-open.md) (ou a macro [**capPalettePaste**](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) ou [**capPaletteOpen**](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) ).</span><span class="sxs-lookup"><span data-stu-id="49a20-114">You can retrieve an existing palette to replace the default palette by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) or [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message (or the [**capPalettePaste**](/windows/desktop/api/Vfw/nf-vfw-cappalettepaste) or [**capPaletteOpen**](/windows/desktop/api/Vfw/nf-vfw-cappaletteopen) macro).</span></span> <span data-ttu-id="49a20-115">Como alternativa, você pode criar uma paleta personalizada para substituir a paleta padrão usando a mensagem [**do WM \_ Cap \_ PAL \_ Autocreate**](wm-cap-pal-autocreate.md) ou [**WM \_ Cap \_ endpal \_ MANUALCREATE**](wm-cap-pal-manualcreate.md) (ou a macro [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) ou [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) ).</span><span class="sxs-lookup"><span data-stu-id="49a20-115">Alternatively, you can create a custom palette to replace the default palette by using the [**WM\_CAP\_PAL\_AUTOCREATE**](wm-cap-pal-autocreate.md) or [**WM\_CAP\_PAL\_MANUALCREATE**](wm-cap-pal-manualcreate.md) message (or the [**capPaletteAuto**](/windows/desktop/api/Vfw/nf-vfw-cappaletteauto) or [**capPaletteManual**](/windows/desktop/api/Vfw/nf-vfw-cappalettemanual) macro).</span></span> <span data-ttu-id="49a20-116">Depois de substituir a paleta padrão, a janela de captura e o driver usam a paleta de substituição até que você crie ou abra outra paleta.</span><span class="sxs-lookup"><span data-stu-id="49a20-116">After you replace the default palette, the capture window and driver use the replacement palette until you create or open another palette.</span></span>

<span data-ttu-id="49a20-117">A mensagem do WM \_ Cap \_ PAL \_ Autocreate ou WM \_ Cap \_ PAL \_ MANUALCREATE cria uma paleta otimizada com base na entrada de vídeo atual.</span><span class="sxs-lookup"><span data-stu-id="49a20-117">The WM\_CAP\_PAL\_AUTOCREATE or WM\_CAP\_PAL\_MANUALCREATE message creates an optimized palette based on the current video input.</span></span> <span data-ttu-id="49a20-118">Essa paleta personalizada fornece uma sequência de vídeo com a melhor fidelidade de cor porque ela se baseia em cores que existem na sequência.</span><span class="sxs-lookup"><span data-stu-id="49a20-118">This custom palette gives a video sequence the best color fidelity because it is based on colors that exist in the sequence.</span></span> <span data-ttu-id="49a20-119">A janela de captura cria um histograma tridimensional das cores que ele obtém.</span><span class="sxs-lookup"><span data-stu-id="49a20-119">The capture window creates a three-dimensional histogram of the colors it samples.</span></span> <span data-ttu-id="49a20-120">Ele reduz o número de cores examinando o erro absoluto entre as cores adjacentes e consolidando-as com o menor valor de erro.</span><span class="sxs-lookup"><span data-stu-id="49a20-120">It reduces the number of colors by examining the absolute error between adjacent colors and consolidating those with the smallest error value.</span></span>

<span data-ttu-id="49a20-121">Ao enviar a criação automática do WM \_ Cap \_ PAL \_ , você deve especificar o número de quadros para AVICap a serem amostrados e especificar o tamanho da paleta de cores.</span><span class="sxs-lookup"><span data-stu-id="49a20-121">When sending WM\_CAP\_PAL\_AUTOCREATE, you must specify the number of frames for AVICap to sample, and specify the size of the color palette.</span></span> <span data-ttu-id="49a20-122">Ao especificar o número de quadros, inclua quadros suficientes para garantir que todas as cores na sequência sejam amostradas.</span><span class="sxs-lookup"><span data-stu-id="49a20-122">When specifying the number of frames, include enough frames to ensure that all colors in the sequence are sampled.</span></span>

<span data-ttu-id="49a20-123">Você pode obter uma amostra do quadro atual usando o WM \_ Cap \_ PAL \_ MANUALCREATE.</span><span class="sxs-lookup"><span data-stu-id="49a20-123">You can sample the current frame by using WM\_CAP\_PAL\_MANUALCREATE.</span></span> <span data-ttu-id="49a20-124">Usando essa mensagem com vários quadros selecionados manualmente, você pode criar uma paleta que contém as cores que você deseja que apareçam na paleta.</span><span class="sxs-lookup"><span data-stu-id="49a20-124">By using this message with several manually selected frames, you can create a palette that contains the colors you want to appear in the palette.</span></span>

<span data-ttu-id="49a20-125">Uma paleta pode conter até 256 cores.</span><span class="sxs-lookup"><span data-stu-id="49a20-125">A palette can contain up to 256 colors.</span></span> <span data-ttu-id="49a20-126">Se você mesclar paletas ou se a sequência de vídeo for ser exibida simultaneamente com outro vídeo ou imagens, você deverá usar uma seleção de cor menor para que as cores de cada imagem ou clipe de vídeo possam coexistir.</span><span class="sxs-lookup"><span data-stu-id="49a20-126">If you merge palettes or if the video sequence is to be displayed simultaneously with other video or images, you should use a smaller color selection so that colors from each image or video clip can coexist.</span></span>

<span data-ttu-id="49a20-127">Você salva uma nova paleta usando a mensagem [**de \_ \_ \_ salvamento do PAL Cap do WM**](wm-cap-pal-save.md) (ou a macro [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) ) e a recupera posteriormente usando a mensagem de [**\_ \_ \_ abertura da PAL do WM Cap**](wm-cap-pal-open.md) .</span><span class="sxs-lookup"><span data-stu-id="49a20-127">You save a new palette by using the [**WM\_CAP\_PAL\_SAVE**](wm-cap-pal-save.md) message (or the [**capPaletteSave**](/windows/desktop/api/Vfw/nf-vfw-cappalettesave) macro) and later retrieve it by using the [**WM\_CAP\_PAL\_OPEN**](wm-cap-pal-open.md) message.</span></span> <span data-ttu-id="49a20-128">Você pode salvar uma paleta para pós-processamento da paleta ou para uso em outro aplicativo.</span><span class="sxs-lookup"><span data-stu-id="49a20-128">You can save a palette for post-processing of the palette or for use in another application.</span></span>

<span data-ttu-id="49a20-129">Você pode colar uma paleta da área de transferência na janela de captura usando a mensagem de [**\_ \_ \_ colagem da PAL Cap do WM**](wm-cap-pal-paste.md) .</span><span class="sxs-lookup"><span data-stu-id="49a20-129">You can paste a palette from the clipboard into the capture window by using the [**WM\_CAP\_PAL\_PASTE**](wm-cap-pal-paste.md) message.</span></span> <span data-ttu-id="49a20-130">A janela de captura passa a paleta para o driver de captura.</span><span class="sxs-lookup"><span data-stu-id="49a20-130">The capture window passes the palette to the capture driver.</span></span> <span data-ttu-id="49a20-131">Outros aplicativos podem copiar paletas para a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="49a20-131">Other applications can copy palettes to the clipboard.</span></span> <span data-ttu-id="49a20-132">Você também pode copiar uma paleta para a área de transferência usando a mensagem de cópia de edição da Cap do WM (ou a macro [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) ). [**\_ \_ \_**](wm-cap-edit-copy.md)</span><span class="sxs-lookup"><span data-stu-id="49a20-132">You can also copy a palette to the clipboard by using the [**WM\_CAP\_EDIT\_COPY**](wm-cap-edit-copy.md) message (or the [**capEditCopy**](/windows/desktop/api/Vfw/nf-vfw-capeditcopy) macro).</span></span> <span data-ttu-id="49a20-133">Esta mensagem copia o buffer de quadros de vídeo, incluindo a paleta, para a área de transferência.</span><span class="sxs-lookup"><span data-stu-id="49a20-133">This message copies the video frame buffer, including the palette, onto the clipboard.</span></span>

 

 




