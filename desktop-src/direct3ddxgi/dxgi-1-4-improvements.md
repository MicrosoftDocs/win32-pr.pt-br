---
description: A funcionalidade a seguir foi adicionada ou alterada na Microsoft DirectX Graphics Infrastructure (DXGI) 1,4, em grande parte para dar suporte ao Direct3D 12.
ms.assetid: DEA901EA-B0F9-41D9-802C-ED1D6A7888E0
title: Aprimoramentos de DXGI 1,4
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 24e9a8a48dd026248afac7c1a7df23a99176adef
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "104009923"
---
# <a name="dxgi-14-improvements"></a><span data-ttu-id="1b2b3-103">Aprimoramentos de DXGI 1,4</span><span class="sxs-lookup"><span data-stu-id="1b2b3-103">DXGI 1.4 Improvements</span></span>

<span data-ttu-id="1b2b3-104">A funcionalidade a seguir foi adicionada ou alterada na Microsoft DirectX Graphics Infrastructure (DXGI) 1,4, em grande parte para dar suporte ao Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-104">The following functionality has been added or changed in Microsoft DirectX Graphics Infrastructure (DXGI) 1.4, largely to support Direct3D 12.</span></span>

## <a name="cheaper-adapter-enumeration"></a><span data-ttu-id="1b2b3-105">Enumeração de adaptador mais barata</span><span class="sxs-lookup"><span data-stu-id="1b2b3-105">Cheaper adapter enumeration</span></span>

<span data-ttu-id="1b2b3-106">Para o Direct3D 12, não é mais possível refazer o retrocesso de um dispositivo para o [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) que foi usado para criá-lo.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-106">For Direct3D 12, it’s no longer possible to backtrack from a device to the [**IDXGIAdapter**](/windows/win32/api/DXGI/nn-dxgi-idxgiadapter) that was used to create it.</span></span> <span data-ttu-id="1b2b3-107">Também não é mais possível fornecer o tipo de \_ Driver \_ D3D \_ Warp em [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span><span class="sxs-lookup"><span data-stu-id="1b2b3-107">It’s also no longer possible to provide D3D\_DRIVER\_TYPE\_WARP into [**D3D12CreateDevice**](/windows/win32/api/d3d12/nf-d3d12-d3d12createdevice).</span></span> <span data-ttu-id="1b2b3-108">Para facilitar o desenvolvimento, você pode usar o [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) para lidar com ambos.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-108">To make development easier, you can use [**IDXGIFactory4**](/windows/win32/api/DXGI1_4/nn-dxgi1_4-idxgifactory4) to deal with both of these.</span></span> <span data-ttu-id="1b2b3-109">[**IDXGIFactory4:: EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (projetado para ser emparelhado com [**ID3D12Device:: GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) permite que um aplicativo recupere informações sobre o adaptador onde um dispositivo Direct3D 12 foi criado.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-109">[**IDXGIFactory4::EnumAdapterByLuid**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumadapterbyluid) (designed to be paired with [**ID3D12Device::GetAdapterLuid**](/windows/win32/api/d3d12/nf-d3d12-id3d12device-getadapterluid)) enables an app to retrieve information about the adapter where a Direct3D 12 device was created.</span></span> <span data-ttu-id="1b2b3-110">[**IDXGIFactory4:: EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) fornece um adaptador que pode ser fornecido ao **D3D12CreateDevice** para usar o processador de detorção.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-110">[**IDXGIFactory4::EnumWarpAdapter**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgifactory4-enumwarpadapter) provides an adapter which can be provided to **D3D12CreateDevice** to use the WARP renderer.</span></span>

## <a name="video-memory-budget-tracking"></a><span data-ttu-id="1b2b3-111">Acompanhamento de orçamento de memória de vídeo</span><span class="sxs-lookup"><span data-stu-id="1b2b3-111">Video memory budget tracking</span></span>

<span data-ttu-id="1b2b3-112">Os desenvolvedores de aplicativos são incentivados a usar um sistema de reserva de memória de vídeo para informar ao sistema operacional a quantidade de memória de vídeo física que o aplicativo não pode acessar sem.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-112">Application developers are encouraged to use a video memory reservation system, to inform the OS of the amount of physical video memory the app cannot go without.</span></span>

<span data-ttu-id="1b2b3-113">A quantidade de memória física disponível para um processo é conhecida como "orçamento de memória de vídeo".</span><span class="sxs-lookup"><span data-stu-id="1b2b3-113">The amount of physical memory available for a process is known as the "video memory budget".</span></span> <span data-ttu-id="1b2b3-114">O orçamento pode flutuar visivelmente enquanto os processos em segundo plano são ativados e suspensos; e flutuar drasticamente quando o usuário mudar para outro aplicativo.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-114">The budget can fluctuate noticeably as background processes wake-up and sleep; and fluctuate dramatically when the user switches away to another application.</span></span> <span data-ttu-id="1b2b3-115">O aplicativo pode ser notificado quando o orçamento for alterado e sondar o orçamento atual e a quantidade de memória consumida atualmente.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-115">The application can be notified when the budget changes and poll both the current budget and the currently consumed amount of memory.</span></span> <span data-ttu-id="1b2b3-116">Se um aplicativo não permanecer dentro de seu orçamento, o processo será congelado intermitentemente para permitir que outros aplicativos sejam executados e/ou as APIs de criação retornarão uma falha.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-116">If an application doesn’t stay within its budget, the process will be intermittently frozen to allow other applications to run and/or the creation APIs will return failure.</span></span> <span data-ttu-id="1b2b3-117">A interface [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) fornece os métodos que pertencem a essa funcionalidade, em particular [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) e [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span><span class="sxs-lookup"><span data-stu-id="1b2b3-117">The [**IDXGIAdapter3**](/windows/win32/api/dxgi1_4/nn-dxgi1_4-idxgiadapter3) interface provides the methods pertaining to this functionality, in particular [**QueryVideoMemoryInfo**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-queryvideomemoryinfo) and [**RegisterVideoMemoryBudgetChangeNotificationEvent**](/windows/win32/api/dxgi1_4/nf-dxgi1_4-idxgiadapter3-registervideomemorybudgetchangenotificationevent).</span></span>

<span data-ttu-id="1b2b3-118">Para obter mais informações, consulte o tópico do Direct3D 12 sobre [residência](../direct3d12/residency.md).</span><span class="sxs-lookup"><span data-stu-id="1b2b3-118">For more information, refer to the Direct3D 12 topic on [Residency](../direct3d12/residency.md).</span></span>

## <a name="direct3d-12-swapchain-changes"></a><span data-ttu-id="1b2b3-119">Mudanças do Direct3D 12 SwapChain</span><span class="sxs-lookup"><span data-stu-id="1b2b3-119">Direct3D 12 Swapchain Changes</span></span>

<span data-ttu-id="1b2b3-120">Algumas das funcionalidades existentes do Direct3D 11 SwapChain foram preteridas para alcançar as reduções de sobrecarga no Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-120">Some of the existing Direct3D 11 swapchain functionality was deprecated to achieve the overhead reductions in Direct3D 12.</span></span> <span data-ttu-id="1b2b3-121">Enquanto outras alterações foram feitas para se alinharem aos conceitos do Direct3D 12 ou fornecer melhor suporte para os recursos do Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-121">While other changes were made to either align to Direct3D 12 concepts or provide better support for Direct3D 12 features.</span></span>

<span data-ttu-id="1b2b3-122">**Identidade de BackBuffer invariável**</span><span class="sxs-lookup"><span data-stu-id="1b2b3-122">**Invariant Backbuffer Identity**</span></span>

<span data-ttu-id="1b2b3-123">No Direct3D 11, os aplicativos podiam chamar [**GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)(0,...</span><span class="sxs-lookup"><span data-stu-id="1b2b3-123">In Direct3D 11, applications could call [**GetBuffer**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-getbuffer)( 0, …</span></span> <span data-ttu-id="1b2b3-124">) apenas uma vez.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-124">) only once.</span></span> <span data-ttu-id="1b2b3-125">Cada chamada para [**apresentar**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) alterou implicitamente a identidade do recurso da interface retornada.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-125">Every call to [**Present**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-present) implicitly changed the resource identity of the returned interface.</span></span> <span data-ttu-id="1b2b3-126">O Direct3D 12 não dá mais suporte a alterações implícitas de identidade de recurso, devido à sobrecarga de CPU necessária e ao design de descritor de recursos flexível.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-126">Direct3D 12 no longer supports that implicit resource identity change, due to the CPU overhead required and the flexible resource descriptor design.</span></span> <span data-ttu-id="1b2b3-127">Como resultado, o aplicativo deve chamar manualmente o **GetBuffer** para cada buffer criado com o SwapChain.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-127">As a result, the application must manually call **GetBuffer** for every each buffer created with the swapchain.</span></span> <span data-ttu-id="1b2b3-128">O aplicativo deve ser processado manualmente para o próximo buffer na sequência após a chamada **presente**.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-128">The application must manually render to the next buffer in the sequence after calling **Present**.</span></span> <span data-ttu-id="1b2b3-129">Os aplicativos são incentivados a criar um cache de descritores para cada buffer, em vez de recriar muitos objetos a cada **presente**.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-129">Applications are encouraged to create a cache of descriptors for each buffer, instead of re-creating many objects each **Present**.</span></span>

<span data-ttu-id="1b2b3-130">**Suporte a vários adaptadores**</span><span class="sxs-lookup"><span data-stu-id="1b2b3-130">**Multi-Adapter Support**</span></span>

<span data-ttu-id="1b2b3-131">Quando um SwapChain é criado em um adaptador de várias GPU, todos os buffers são criados no nó 1 e há suporte apenas para uma única fila de comando.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-131">When a swapchain is created on a multi-GPU adapter, the backbuffers are all created on node 1 and only a single command queue is supported.</span></span> <span data-ttu-id="1b2b3-132">O [**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) permite que os aplicativos criem buffers totais em nós diferentes, permitindo que uma fila de comandos diferente seja usada com cada um.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-132">[**ResizeBuffers1**](/windows/win32/api/DXGI1_4/nf-dxgi1_4-idxgiswapchain3-resizebuffers1) enables applications to create backbuffers on different nodes, allowing a different command queue to be used with each.</span></span> <span data-ttu-id="1b2b3-133">Esses recursos permitem que as técnicas de renderização de quadro alternativo (AFR) sejam usadas com o SwapChain.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-133">These capabilities enable Alternate Frame Rendering (AFR) techniques to be used with the swapchain.</span></span> <span data-ttu-id="1b2b3-134">Consulte [sistemas com vários adaptadores](../direct3d12/multi-engine.md).</span><span class="sxs-lookup"><span data-stu-id="1b2b3-134">Refer to [Multi-adapter systems](../direct3d12/multi-engine.md).</span></span>

<span data-ttu-id="1b2b3-135">**Diversos**</span><span class="sxs-lookup"><span data-stu-id="1b2b3-135">**Miscellaneous**</span></span>

-   <span data-ttu-id="1b2b3-136">Um objeto de fila de comando deve ser passado para métodos [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) em vez do objeto de dispositivo Direct3D 12.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-136">A command queue object must be passed to [**CreateSwapChain**](/windows/win32/api/DXGI/nf-dxgi-idxgifactory-createswapchain) methods instead of the Direct3D 12 device object.</span></span>
-   <span data-ttu-id="1b2b3-137">Há suporte apenas para os dois efeitos de troca de modelo invertido a seguir:</span><span class="sxs-lookup"><span data-stu-id="1b2b3-137">Only the following two flip model swap effects are supported:</span></span> <dl> <span data-ttu-id="1b2b3-138">\_ \_ O efeito de permuta de dxgi \_ flip \_ descartar deve ser preferível quando os aplicativos são totalmente renderizados no BackBuffer antes de apresentá-lo ou ainda estar interessados em dar suporte a cenários de vários adaptadores.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-138">DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD should be preferred when applications fully render over the backbuffer before presenting it or are interested in supporting multi-adapter scenarios easily.</span></span>  
    <span data-ttu-id="1b2b3-139">O \_ efeito de permuta de dxgi \_ \_ inverter \_ sequencial deve ser usado por aplicativos que dependem de otimizações parciais de apresentação ou lidos regularmente dos buffers anteriores apresentados anteriormente.</span><span class="sxs-lookup"><span data-stu-id="1b2b3-139">DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL should be used by applications that rely on partial presentation optimizations or regularly read from previously presented backbuffers.</span></span>  
    </dl>
-   [**SetFullscreenState**](/windows/win32/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate) no longer exclusively owns the display, so user-initiated operating system elements can seamlessly appear in front of application output. Volume settings is an example of this.

## <a name="related-topics"></a><span data-ttu-id="1b2b3-140">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="1b2b3-140">Related topics</span></span>

[<span data-ttu-id="1b2b3-141">Níveis de recursos de hardware do Direct3D 12</span><span class="sxs-lookup"><span data-stu-id="1b2b3-141">Direct3D 12 Hardware Feature Levels</span></span>](../direct3d12/hardware-feature-levels.md)

[<span data-ttu-id="1b2b3-142">Guia de programação para DXGI</span><span class="sxs-lookup"><span data-stu-id="1b2b3-142">Programming Guide for DXGI</span></span>](dx-graphics-dxgi-overviews.md)
