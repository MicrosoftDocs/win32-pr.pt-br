---
description: Este tópico fornece orientação para desenvolvedores sobre como maximizar o desempenho e a eficiência na pilha de apresentação nas versões modernas do Windows.
ms.assetid: B6B92F4F-B1D0-40B9-987D-F0C0F2CC7AD1
title: Para obter o melhor desempenho, use o modelo de flip DXGI
ms.topic: article
ms.date: 05/31/2018
ms.custom: RS5
ms.openlocfilehash: 2a1e671c03f468fd62b0b5bad0f008f84e62ca3c
ms.sourcegitcommit: a47bd86f517de76374e4fff33cfeb613eb259a7e
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/06/2021
ms.locfileid: "105765610"
---
# <a name="for-best-performance-use-dxgi-flip-model"></a><span data-ttu-id="41a6e-103">Para obter o melhor desempenho, use o modelo de flip DXGI</span><span class="sxs-lookup"><span data-stu-id="41a6e-103">For best performance, use DXGI flip model</span></span>

<span data-ttu-id="41a6e-104">Este tópico fornece orientação para desenvolvedores sobre como maximizar o desempenho e a eficiência na pilha de apresentação nas versões modernas do Windows.</span><span class="sxs-lookup"><span data-stu-id="41a6e-104">This topic provides developer guidance on how to maximize performance and efficiency in the presentation stack on modern versions of Windows.</span></span> <span data-ttu-id="41a6e-105">Ele começa onde o [dxgi flip Model](dxgi-flip-model.md), [DirectX 12: modos de apresentação no Windows 10 (vídeo)](https://www.youtube.com/watch?v=E3wTajGZOsA)e [aprimoramentos de apresentação no Windows 10: uma aparência antecipada (vídeo)](https://www.youtube.com/watch?v=nUZVV_mssWQ) saiu.</span><span class="sxs-lookup"><span data-stu-id="41a6e-105">It picks up where [DXGI flip model](dxgi-flip-model.md), [DirectX 12: Presentation Modes In Windows 10 (video)](https://www.youtube.com/watch?v=E3wTajGZOsA), and [Presentation Enhancements in Windows 10: An Early Look (video)](https://www.youtube.com/watch?v=nUZVV_mssWQ) left off.</span></span>

## <a name="call-to-action"></a><span data-ttu-id="41a6e-106">Chamada para ação</span><span class="sxs-lookup"><span data-stu-id="41a6e-106">Call to action</span></span>

<span data-ttu-id="41a6e-107">Se você ainda estiver usando o efeito de permuta de **dxgi/ \_ \_ \_ descarte** de efeito de permuta ou de **\_ troca \_ \_** de dxgi (também conhecido como</span><span class="sxs-lookup"><span data-stu-id="41a6e-107">If you are still using **DXGI\_SWAP\_EFFECT\_DISCARD** or **DXGI\_SWAP\_EFFECT\_SEQUENTIAL** (a.k.a.</span></span> <span data-ttu-id="41a6e-108">o modelo presente "BLT"), é hora de parar!</span><span class="sxs-lookup"><span data-stu-id="41a6e-108">the "blt" present model), it's time to stop!</span></span>

<span data-ttu-id="41a6e-109">Alternando para o efeito de permuta de dxgi inverter sequência de **\_ efeito de permuta \_ \_ \_** **\_ \_ \_ \_ seqüencial** ou dxgi (também conhecido como</span><span class="sxs-lookup"><span data-stu-id="41a6e-109">Switching to **DXGI\_SWAP\_EFFECT\_FLIP\_SEQUENTIAL** or **DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** (a.k.a.</span></span> <span data-ttu-id="41a6e-110">o modelo de inversão) fornecerá melhor desempenho, menor consumo de energia e fornecer um conjunto mais rico de recursos.</span><span class="sxs-lookup"><span data-stu-id="41a6e-110">the flip model) will give better performance, lower power usage, and provide a richer set of features.</span></span> <span data-ttu-id="41a6e-111">(Consulte [ \_ enumeração de \_ efeito de permuta de dxgi](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) para obter mais informações sobre esses valores.)</span><span class="sxs-lookup"><span data-stu-id="41a6e-111">(See [DXGI\_SWAP\_EFFECT enumeration](/windows/desktop/api/DXGI/ne-dxgi-dxgi_swap_effect) for more information about these values.)</span></span>

<span data-ttu-id="41a6e-112">O flip Model apresenta até o modo em janela, efetivamente equivalente ou melhor quando comparado ao modo clássico de "tela inteira".</span><span class="sxs-lookup"><span data-stu-id="41a6e-112">Flip model presents go as far as making windowed mode effectively equivalent or better when compared to the classic "fullscreen exclusive" mode.</span></span> <span data-ttu-id="41a6e-113">Na verdade, talvez você queira reconsiderar se seu aplicativo realmente precisa de um modo em tela inteira, já que os benefícios de uma janela invertida sem borda de modelo incluem mais rapidez Alt-Tab troca e melhor integração com recursos de exibição modernos.</span><span class="sxs-lookup"><span data-stu-id="41a6e-113">In fact, you may want to reconsider whether your application actually needs a fullscreen exclusive mode, since the benefits of a flip model borderless window include faster Alt-Tab switching and better integration with modern display features.</span></span>

<span data-ttu-id="41a6e-114">Por que agora?</span><span class="sxs-lookup"><span data-stu-id="41a6e-114">Why now?</span></span> <span data-ttu-id="41a6e-115">Antes da atualização de abril de 2018, o modelo BLT apresenta poderia resultar na divisão visível quando usada em configurações de GPU híbridas, muitas vezes encontradas em laptops de ponta (consulte [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span><span class="sxs-lookup"><span data-stu-id="41a6e-115">Prior to the April 2018 Update, blt model presents could result in visible tearing when used on hybrid GPU configurations, often found in high-end laptops (see [KB 3158621](https://support.microsoft.com/help/3158621/hybrid-graphics-and-vsync-results-in-graphic-tearing-in-some-games-and)).</span></span> <span data-ttu-id="41a6e-116">Na atualização de abril de 2018, essa divisão foi corrigida, com o custo de algum trabalho adicional.</span><span class="sxs-lookup"><span data-stu-id="41a6e-116">In the April 2018 Update, this tearing has been fixed, at the cost of some additional work.</span></span> <span data-ttu-id="41a6e-117">Se você estiver fazendo BLT presentes em altas taxas de quadros entre GPUs híbridas, especialmente em altas resoluções como 4K, esse trabalho adicional poderá afetar o desempenho geral.</span><span class="sxs-lookup"><span data-stu-id="41a6e-117">If you are doing blt presents at high framerates across hybrid GPUs, especially at high resolutions such as 4K, this additional work may affect overall performance.</span></span> <span data-ttu-id="41a6e-118">Para manter o melhor desempenho nesses sistemas, alterne do BLT para o modelo de inversão atual.</span><span class="sxs-lookup"><span data-stu-id="41a6e-118">To maintain best performance on these systems, switch from the blt to the flip present model.</span></span> <span data-ttu-id="41a6e-119">Além disso, considere reduzir a resolução do seu SwapChain, especialmente se não for o ponto principal de interação do usuário (como geralmente é o caso com o Windows de visualização VR).</span><span class="sxs-lookup"><span data-stu-id="41a6e-119">Additionally, consider reducing the resolution of your swapchain, especially if it isn’t the primary point of user interaction (as is often the case with VR preview windows).</span></span>

## <a name="a-brief-history"></a><span data-ttu-id="41a6e-120">Um breve histórico</span><span class="sxs-lookup"><span data-stu-id="41a6e-120">A brief history</span></span>

<span data-ttu-id="41a6e-121">O que é o modelo de inversão?</span><span class="sxs-lookup"><span data-stu-id="41a6e-121">What is the flip model?</span></span> <span data-ttu-id="41a6e-122">Qual é a alternativa?</span><span class="sxs-lookup"><span data-stu-id="41a6e-122">What is the alternative?</span></span>

<span data-ttu-id="41a6e-123">Antes do Windows 7, a única maneira de apresentar conteúdo do D3D era "BLT" ou copiá-lo para uma superfície que era de propriedade da janela ou da tela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-123">Prior to Windows 7, the only way to present content from D3D was to "blt" or copy it into a surface which was owned by the window or screen.</span></span> <span data-ttu-id="41a6e-124">Começando com o efeito de permuta do D3D9's FLIPEX e chegando ao DXGI por meio do \_ efeito de permuta sequencial invertido no Windows 8, desenvolvemos uma maneira mais eficiente de colocar o conteúdo na tela, compartilhando-o diretamente com o compositor da área de trabalho, com cópias mínimas.</span><span class="sxs-lookup"><span data-stu-id="41a6e-124">Beginning with D3D9’s FLIPEX swap effect, and coming to DXGI through the FLIP\_SEQUENTIAL swap effect in Windows 8, we’ve developed a more efficient way to put content on screen by sharing it directly with the desktop compositor, with minimal copies.</span></span> <span data-ttu-id="41a6e-125">Consulte [modelo de inversão dxgi](dxgi-flip-model.md) para obter uma visão geral de alto nível da tecnologia.</span><span class="sxs-lookup"><span data-stu-id="41a6e-125">See [DXGI flip model](dxgi-flip-model.md) for a high level overview of the technology.</span></span>

<span data-ttu-id="41a6e-126">Essa otimização é possível graças ao DWM (Gerenciador de Janelas da Área de Trabalho), que é o compositor que orienta a área de trabalho do Windows.</span><span class="sxs-lookup"><span data-stu-id="41a6e-126">This optimization is possible thanks to the DWM (Desktop Window Manager), which is the compositor that drives the Windows desktop.</span></span>

## <a name="when-should-i-use-the-blt-model"></a><span data-ttu-id="41a6e-127">Quando devo usar o modelo BLT?</span><span class="sxs-lookup"><span data-stu-id="41a6e-127">When should I use the blt model?</span></span>

<span data-ttu-id="41a6e-128">Há uma parte da funcionalidade que o modelo invertido não fornece: a capacidade de ter várias APIs diferentes que produzem conteúdo, que todas as camadas estão juntas no mesmo **HWND**, em uma base atual.</span><span class="sxs-lookup"><span data-stu-id="41a6e-128">There is one piece of functionality that the flip model does not provide: the ability to have multiple different APIs producing content, which all layer together into the same **HWND**, on a present-by-present basis.</span></span> <span data-ttu-id="41a6e-129">Um exemplo disso seria usar o D3D para desenhar um plano de fundo da janela e, em seguida, o [GDI do Windows](/windows/desktop/gdi/windows-gdi) para desenhar algo na parte superior ou usar duas APIs de gráficos diferentes, ou duas permuta da mesma API, para produzir quadros alternados.</span><span class="sxs-lookup"><span data-stu-id="41a6e-129">An example of this would be using D3D to draw a window background, and then [Windows GDI](/windows/desktop/gdi/windows-gdi) to draw something on top, or using two different graphics APIs, or two swapchains from the same API, to produce alternating frames.</span></span> <span data-ttu-id="41a6e-130">Se você não exigir a interoperabilidade no nível do **HWND** entre componentes gráficos, não precisará do modelo blt.</span><span class="sxs-lookup"><span data-stu-id="41a6e-130">If you don’t require **HWND**-level interop between graphics components, then you don’t need blt model.</span></span>

<span data-ttu-id="41a6e-131">Há uma segunda parte da funcionalidade que não foi fornecida no design original do modelo de inversão, mas está disponível agora, que é a capacidade de apresentar em uma taxa de quadros sem limitação.</span><span class="sxs-lookup"><span data-stu-id="41a6e-131">There is a second piece of functionality that was not provided in the original flip model design, but is available now, which is the ability to present at an unthrottled framerate.</span></span> <span data-ttu-id="41a6e-132">Para um aplicativo que usa o intervalo de sincronização 0, não recomendamos mudar para o modelo inverter a menos que a API [IDXGIFactory5:: CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) esteja disponível e o suporte a relatórios para o **\_ recurso dxgi \_ presente \_ permita a \_ divisão**.</span><span class="sxs-lookup"><span data-stu-id="41a6e-132">For an application using sync interval 0, we do not recommend switching to flip model unless the [IDXGIFactory5::CheckFeatureSupport](/windows/desktop/api/DXGI1_5/nf-dxgi1_5-idxgifactory5-checkfeaturesupport) API is available, and reports support for **DXGI\_FEATURE\_PRESENT\_ALLOW\_TEARING**.</span></span> <span data-ttu-id="41a6e-133">Esse recurso é praticamente onipresente em versões recentes do Windows 10 e em hardware moderno.</span><span class="sxs-lookup"><span data-stu-id="41a6e-133">This feature is nearly ubiquitous on recent versions of Windows 10 and on modern hardware.</span></span>

## <a name="directflip"></a><span data-ttu-id="41a6e-134">DirectFlip</span><span class="sxs-lookup"><span data-stu-id="41a6e-134">DirectFlip</span></span>

<span data-ttu-id="41a6e-135">Se você tiver observado [DirectX 12: modos de apresentação no Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), verá uma conversa sobre "Direct flip" e "inverter independente".</span><span class="sxs-lookup"><span data-stu-id="41a6e-135">If you’ve watched [DirectX 12: Presentation Modes In Windows 10](https://www.youtube.com/watch?v=E3wTajGZOsA), you’ll see talk about "Direct Flip" and "Independent Flip."</span></span> <span data-ttu-id="41a6e-136">Essas são otimizações que são habilitadas para aplicativos usando o flip Model permuta.</span><span class="sxs-lookup"><span data-stu-id="41a6e-136">These are optimizations that are enabled for applications using flip model swapchains.</span></span> <span data-ttu-id="41a6e-137">Dependendo da configuração da janela e do buffer, é possível ignorar totalmente a composição de área de trabalho e enviar os quadros de aplicativo diretamente para a tela, da mesma forma que a tela inteira exclusiva.</span><span class="sxs-lookup"><span data-stu-id="41a6e-137">Depending on window and buffer configuration, it is possible to bypass desktop composition entirely and directly send application frames to the screen, in the same way that exclusive fullscreen does.</span></span>

<span data-ttu-id="41a6e-138">Hoje em dia, essas otimizações podem se envolver em um dos três cenários, a fim de aumentar a funcionalidade:</span><span class="sxs-lookup"><span data-stu-id="41a6e-138">These days, these optimizations can engage in one of 3 scenarios, in order of increasing functionality:</span></span>

1.  <span data-ttu-id="41a6e-139">**DirectFlip**: os buffers do SwapChain correspondem às dimensões da tela e a região do cliente do Windows cobre a tela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-139">**DirectFlip**: Your swapchain buffers match the screen dimensions, and your window client region covers the screen.</span></span> <span data-ttu-id="41a6e-140">Em vez de usar o DWM SwapChain para exibir na tela, o aplicativo SwapChain é usado.</span><span class="sxs-lookup"><span data-stu-id="41a6e-140">Instead of using the DWM swapchain to display on the screen, the application swapchain is used.</span></span>
2.  <span data-ttu-id="41a6e-141">**DirectFlip com Panel Fitters**: sua região de cliente de janela cobre a tela e os buffers de SwapChain estão dentro de um fator de dimensionamento dependente de hardware (por exemplo, 0,25 x a 4x) da tela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-141">**DirectFlip with panel fitters**: Your window client region covers the screen, and your swapchain buffers are within some hardware-dependent scaling factor (for example, 0.25x to 4x) of the screen.</span></span> <span data-ttu-id="41a6e-142">O hardware de verificação de GPU é usado para dimensionar o buffer enquanto o envia para a exibição.</span><span class="sxs-lookup"><span data-stu-id="41a6e-142">The GPU scanout hardware is used to scale your buffer while sending it to the display.</span></span>
3.  <span data-ttu-id="41a6e-143">**DirectFlip com o MPO (sobreposição de vários planos)**: os buffers do SwapChain estão dentro de um fator de dimensionamento dependente de hardware das dimensões da janela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-143">**DirectFlip with multi-plane overlay (MPO)**: Your swapchain buffers are within some hardware-dependent scaling factor of your window dimensions.</span></span> <span data-ttu-id="41a6e-144">O DWM é capaz de reservar um plano de exame de hardware dedicado para seu aplicativo, que é então examinado e potencialmente ampliado para uma sub-região de triagem alfa da tela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-144">The DWM is able to reserve a dedicated hardware scanout plane for your application, which is then scanned out and potentially stretched to an alpha-blended sub-region of the screen.</span></span>

<span data-ttu-id="41a6e-145">Com o modelo de inversão em janela, o aplicativo pode consultar o suporte de hardware para diferentes cenários de DirectFlip e implementar diferentes tipos de dimensionamento dinâmico por meio do uso de [IDXGIOutput6:: CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span><span class="sxs-lookup"><span data-stu-id="41a6e-145">With the windowed flip model, the application can query hardware support for different DirectFlip scenarios and implement different types of dynamic scaling via the use of [IDXGIOutput6::CheckHardwareCompositionSupport](/windows/desktop/api/DXGI1_6/nf-dxgi1_6-idxgioutput6-checkhardwarecompositionsupport).</span></span> <span data-ttu-id="41a6e-146">Uma limitação a ter em mente é que, se o painel Fitters for utilizado, é possível que o cursor sofra um alongamento de efeitos colaterais, o que é indicado por meio do **cursor de sinalizador de suporte de composição de hardware dxgi \_ \_ \_ \_ \_ \_ alongado**.</span><span class="sxs-lookup"><span data-stu-id="41a6e-146">One caveat to keep in mind is that if panel fitters are utilized, it’s possible for the cursor to suffer stretching side effects, which is indicated via **DXGI\_HARDWARE\_COMPOSITION\_SUPPORT\_FLAG\_CURSOR\_STRETCHED**.</span></span>

<span data-ttu-id="41a6e-147">Depois que o SwapChain tiver sido "DirectFlipped", o DWM poderá ir para o estado de suspensão e somente acordar quando algo for alterado fora do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="41a6e-147">Once your swapchain has been "DirectFlipped," then the DWM can go to sleep, and only wake up when something changes outside of your application.</span></span> <span data-ttu-id="41a6e-148">Os quadros de aplicativo são enviados diretamente para a tela, independentemente, com a mesma eficiência que a tela de ativação exclusiva.</span><span class="sxs-lookup"><span data-stu-id="41a6e-148">Your application frames are sent directly to the screen, independently, with the same efficiency as fullscreen exclusive.</span></span> <span data-ttu-id="41a6e-149">Essa é uma "inversão independente" e pode se envolver em todos os cenários acima.</span><span class="sxs-lookup"><span data-stu-id="41a6e-149">This is "Independent Flip," and can engage in all of the above scenarios.</span></span> <span data-ttu-id="41a6e-150">Se outros conteúdos da área de trabalho aparecerem na parte superior, o DWM poderá fazer a transição diretamente para o modo composto, com eficiência "reverter a composição" do conteúdo na parte superior do aplicativo antes de invertê-lo ou aproveitar o MPO para manter o modo invertido independente.</span><span class="sxs-lookup"><span data-stu-id="41a6e-150">If other desktop contents come on top, the DWM can either seamlessly transition back to composed mode, efficiently "reverse compose" the contents on top of the application before flipping it, or leverage MPO to maintain the independent flip mode.</span></span>

<span data-ttu-id="41a6e-151">Confira a ferramenta [PresentMon](https://github.com/GameTechDev/PresentMon) para obter informações sobre qual das opções acima foram usadas.</span><span class="sxs-lookup"><span data-stu-id="41a6e-151">Check out the [PresentMon](https://github.com/GameTechDev/PresentMon) tool to get insight into which of the above was used.</span></span>

## <a name="what-else-is-new-in-the-flip-model"></a><span data-ttu-id="41a6e-152">O que mais é novo no modelo de inversão?</span><span class="sxs-lookup"><span data-stu-id="41a6e-152">What else is new in the flip model?</span></span>

<span data-ttu-id="41a6e-153">Além dos aprimoramentos acima, que se aplicam a permuta padrão sem nada especial, há vários recursos disponíveis para o uso de aplicativos de modelo de flip:</span><span class="sxs-lookup"><span data-stu-id="41a6e-153">In addition to the above improvements, which apply to standard swapchains without anything special, there are several features available for flip model applications to use:</span></span>

-   <span data-ttu-id="41a6e-154">Diminuindo a latência usando o **\_ objeto de \_ espera de \_ latência do quadro do sinalizador de \_ \_ \_ \_ cadeia de permuta dxgi**.</span><span class="sxs-lookup"><span data-stu-id="41a6e-154">Decreasing latency using **DXGI\_SWAP\_CHAIN\_FLAG\_FRAME\_LATENCY\_WAITABLE\_OBJECT**.</span></span> <span data-ttu-id="41a6e-155">Quando estiver no modo inadequado inadequado, você poderá obter até 1 quadro de latência em versões recentes do Windows, com fallback normal para o mínimo possível quando composto.</span><span class="sxs-lookup"><span data-stu-id="41a6e-155">When in Independent Flip mode, you can get down to 1 frame of latency on recent versions of Windows, with graceful fallback to the minimum possible when composed.</span></span>
    -   <span data-ttu-id="41a6e-156">ADVERTÊNCIA: houve um problema que fornecia um mínimo de dois quadros de latência na atualização de aniversário do Windows 10 e versões anteriores.</span><span class="sxs-lookup"><span data-stu-id="41a6e-156">Caveat: there was an issue that gave a minimum of two frames of latency in the Windows 10 Anniversary Update and earlier.</span></span> <span data-ttu-id="41a6e-157">Consulte [Este tópico do fórum](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) para obter mais informações.</span><span class="sxs-lookup"><span data-stu-id="41a6e-157">See [this forum topic](https://www.gamedev.net/forums/topic/686507-windows-10-dx12-low-latency-tearing-free-rendering/) for more information.</span></span> <span data-ttu-id="41a6e-158">Isso é corrigido na atualização do criador de outono.</span><span class="sxs-lookup"><span data-stu-id="41a6e-158">This is fixed in the Fall Creator’s Update.</span></span>
-   <span data-ttu-id="41a6e-159">**Dxgi \_ O \_ efeito de permuta \_ inverter \_ descartar** permite um modo de "composição inversa" de inverter direto, o que resulta em menos trabalho geral para exibir a área de trabalho.</span><span class="sxs-lookup"><span data-stu-id="41a6e-159">**DXGI\_SWAP\_EFFECT\_FLIP\_DISCARD** enables a "reverse composition" mode of direct flip, which results in less overall work to display the desktop.</span></span> <span data-ttu-id="41a6e-160">O DWM pode rabiscar os buffers de aplicativo e enviá-los para a tela, em vez de executar uma cópia completa em seus próprios permuta.</span><span class="sxs-lookup"><span data-stu-id="41a6e-160">The DWM can scribble on the application buffers and send those to the screen, instead of performing a full copy into their own swapchains.</span></span>
-   <span data-ttu-id="41a6e-161">**Dxgi \_ O \_ sinalizador de cadeia de permuta \_ \_ permite que a \_ divisão** possa habilitar uma latência ainda menor do que o objeto que pode ser aguardado, mesmo em uma janela em sistemas com suporte à sobreposição de vários planos.</span><span class="sxs-lookup"><span data-stu-id="41a6e-161">**DXGI\_SWAP\_CHAIN\_FLAG\_ALLOW\_TEARING** can enable even lower latency than the waitable object, even in a window on systems with multi-plane overlay support.</span></span>
-   <span data-ttu-id="41a6e-162">Os aplicativos têm controle sobre o dimensionamento de conteúdo que ocorre durante o redimensionamento da janela, usando a propriedade de [ \_ dimensionamento dxgi](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) definida durante a criação de SwapChain.</span><span class="sxs-lookup"><span data-stu-id="41a6e-162">Applications have control over content scaling that happens during window resize, using the [DXGI\_SCALING](/windows/desktop/api/DXGI1_2/ne-dxgi1_2-dxgi_scaling) property set during swapchain creation.</span></span>
-   <span data-ttu-id="41a6e-163">O conteúdo em formatos HDR (R10G10B10A2 \_ UNORM ou R16G16B16A16 \_ float) não é clamped, a menos que seja composto para uma área de trabalho SDR.</span><span class="sxs-lookup"><span data-stu-id="41a6e-163">Content in HDR formats (R10G10B10A2\_UNORM or R16G16B16A16\_FLOAT) isn’t clamped unless it’s composed to an SDR desktop.</span></span>
-   <span data-ttu-id="41a6e-164">As estatísticas presentes estão disponíveis no modo de janela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-164">Present statistics are available in windowed mode.</span></span>
-   <span data-ttu-id="41a6e-165">Há maior compatibilidade com o modelo de aplicativo UWP (Plataforma Universal do Windows) e DX12, já que eles são compatíveis apenas com o modelo de inversão.</span><span class="sxs-lookup"><span data-stu-id="41a6e-165">There is greater compatibility with the UWP (Universal Windows Platform) application model and DX12 since these are only compatible with the flip model.</span></span>

## <a name="what-do-i-have-to-do-to-use-the-flip-model"></a><span data-ttu-id="41a6e-166">O que preciso fazer para usar o modelo de flip?</span><span class="sxs-lookup"><span data-stu-id="41a6e-166">What do I have to do to use the flip model?</span></span>

<span data-ttu-id="41a6e-167">O flip Model permuta tem alguns requisitos adicionais na parte superior do BLT permuta:</span><span class="sxs-lookup"><span data-stu-id="41a6e-167">Flip model swapchains have a few additional requirements on top of blt swapchains:</span></span>

1.  <span data-ttu-id="41a6e-168">A contagem de buffers deve ser pelo menos 2.</span><span class="sxs-lookup"><span data-stu-id="41a6e-168">The buffer count must be at least 2.</span></span>
2.  <span data-ttu-id="41a6e-169">Após as chamadas [presentes](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) , o buffer de fundo precisará ser reassociado explicitamente ao contexto D3D11 imediato para que possa ser usado novamente.</span><span class="sxs-lookup"><span data-stu-id="41a6e-169">After [Present](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-present) calls, the back buffer needs to explicitly be re-bound to the D3D11 immediate context before it can be used again.</span></span>
3.  <span data-ttu-id="41a6e-170">Depois de chamar [Setfullscreenstate](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), o aplicativo deve chamar [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) antes de **presente**.</span><span class="sxs-lookup"><span data-stu-id="41a6e-170">After calling [SetFullscreenState](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-setfullscreenstate), the application must call [ResizeBuffers](/windows/desktop/api/DXGI/nf-dxgi-idxgiswapchain-resizebuffers) before **Present**.</span></span>
4.  <span data-ttu-id="41a6e-171">Não há suporte direto para permuta de MSAA (multiamostrar a suavização) no modelo de inversão, portanto, o aplicativo precisará fazer uma resolução de MSAA antes de emitir o **presente**.</span><span class="sxs-lookup"><span data-stu-id="41a6e-171">MSAA (multisample anti-aliasing) swapchains are not directly supported in the flip model, so the application will need to do an MSAA resolve before issuing the **Present**.</span></span>

## <a name="how-to-choose-the-right-rendering-and-presentation-resolutions"></a><span data-ttu-id="41a6e-172">Como escolher a renderização correta e as resoluções de apresentação</span><span class="sxs-lookup"><span data-stu-id="41a6e-172">How to choose the right rendering and presentation resolutions</span></span>

<span data-ttu-id="41a6e-173">O padrão tradicional para aplicativos no passado foi fornecer ao usuário uma lista de resoluções para escolher quando o usuário seleciona o modo de tela inteira exclusiva.</span><span class="sxs-lookup"><span data-stu-id="41a6e-173">The traditional pattern for applications in the past has been to provide the user with a list of resolutions to choose from when the user selects exclusive fullscreen mode.</span></span> <span data-ttu-id="41a6e-174">Com a capacidade de exibições modernas para iniciar o dimensionamento de conteúdo diretamente, considere fornecer aos usuários a capacidade de escolher uma resolução de renderização para o dimensionamento de desempenho, independentemente de uma resolução de saída e até mesmo no modo de janela.</span><span class="sxs-lookup"><span data-stu-id="41a6e-174">With the ability of modern displays to seamlessly begin scaling content, consider providing users with the ability to choose a rendering resolution for performance scaling, independent from an output resolution, and even in windowed mode.</span></span> <span data-ttu-id="41a6e-175">Além disso, os aplicativos devem aproveitar **IDXGIOutput6:: CheckHardwareCompositionSupport** para determinar se precisam dimensionar o conteúdo antes de apresentá-lo, ou se eles devem permitir que o hardware faça o dimensionamento para eles.</span><span class="sxs-lookup"><span data-stu-id="41a6e-175">Furthermore, applications should leverage **IDXGIOutput6::CheckHardwareCompositionSupport** to determine if they need to scale the content before presenting it, or if they should let the hardware do the scaling for them.</span></span>

<span data-ttu-id="41a6e-176">Seu conteúdo pode precisar ser migrado de uma GPU para outra como parte da operação atual ou de composição.</span><span class="sxs-lookup"><span data-stu-id="41a6e-176">Your content may need to be migrated from one GPU to another as part of the present or composition operation.</span></span> <span data-ttu-id="41a6e-177">Isso geralmente é verdadeiro em laptops de várias GPUS ou sistemas com GPUs externas conectadas.</span><span class="sxs-lookup"><span data-stu-id="41a6e-177">This is often true on multi-GPU laptops, or systems with external GPUs plugged in.</span></span> <span data-ttu-id="41a6e-178">Como essas configurações são mais comuns, e como as exibições de alta resolução se tornam mais comuns, o custo da apresentação de uma SwapChain de resolução completa aumenta.</span><span class="sxs-lookup"><span data-stu-id="41a6e-178">As these configurations get more common, and as high-resolution displays become more common, the cost of presenting a full resolution swapchain increases.</span></span> <span data-ttu-id="41a6e-179">Se o destino de seu SwapChain não for o ponto principal de interação do usuário, como é geralmente o caso com títulos VR que apresentam uma visualização 2D da cena VR em uma janela secundária, considere usar uma SwapChain de resolução mais baixa para minimizar a quantidade de largura de banda que precisa ser transferida em GPUs diferentes.</span><span class="sxs-lookup"><span data-stu-id="41a6e-179">If the target of your swapchain isn’t the primary point of user interaction, as is often the case with VR titles that present a 2D preview of the VR scene into a secondary window, consider using a lower resolution swapchain to minimize the amount of bandwidth that needs to be transferred across different GPUs.</span></span>

## <a name="other-considerations"></a><span data-ttu-id="41a6e-180">Outras considerações</span><span class="sxs-lookup"><span data-stu-id="41a6e-180">Other considerations</span></span>

<span data-ttu-id="41a6e-181">Na primeira vez que você solicitar que a GPU grave no buffer de fundo do SwapChain é o tempo que a GPU irá parar de esperar que o buffer fique disponível.</span><span class="sxs-lookup"><span data-stu-id="41a6e-181">The first time you ask the GPU to write to the swapchain back buffer is the time that the GPU will stall waiting for the buffer to become available.</span></span> <span data-ttu-id="41a6e-182">Quando possível, adie esse ponto até o quadro o mais possível.</span><span class="sxs-lookup"><span data-stu-id="41a6e-182">When possible, delay this point as far into the frame as possible.</span></span>

 

 
