---
description: O suporte a páginas grandes permite que aplicativos de servidor estabeleçam regiões de memória de página grande, o que é particularmente útil em janelas de 64 bits.
ms.assetid: 060115af-38d1-499c-b30c-47cd0cf42d20
title: Suporte a Large-Page
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 3ef4578b5127e6613f2ff4b6e0b8a7cffcc53c9e
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105758424"
---
# <a name="large-page-support"></a><span data-ttu-id="c09ad-103">Suporte a Large-Page</span><span class="sxs-lookup"><span data-stu-id="c09ad-103">Large-Page Support</span></span>

<span data-ttu-id="c09ad-104">O suporte a páginas grandes permite que aplicativos de servidor estabeleçam regiões de memória de página grande, o que é particularmente útil em janelas de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c09ad-104">Large-page support enables server applications to establish large-page memory regions, which is particularly useful on 64-bit Windows.</span></span> <span data-ttu-id="c09ad-105">Cada conversão de página grande usa um único buffer de conversão dentro da CPU.</span><span class="sxs-lookup"><span data-stu-id="c09ad-105">Each large-page translation uses a single translation buffer inside the CPU.</span></span> <span data-ttu-id="c09ad-106">O tamanho desse buffer normalmente é de três ordens de magnitude maiores do que o tamanho da página nativa; Isso aumenta a eficiência do buffer de conversão, o que pode aumentar o desempenho da memória acessada com frequência.</span><span class="sxs-lookup"><span data-stu-id="c09ad-106">The size of this buffer is typically three orders of magnitude larger than the native page size; this increases the efficiency of the translation buffer, which can increase performance for frequently accessed memory.</span></span>

<span data-ttu-id="c09ad-107">O procedimento a seguir descreve como usar o suporte a páginas grandes.</span><span class="sxs-lookup"><span data-stu-id="c09ad-107">The following procedure describes how to use large-page support.</span></span>

<span data-ttu-id="c09ad-108">**Para usar o suporte de página grande**</span><span class="sxs-lookup"><span data-stu-id="c09ad-108">**To use large-page support**</span></span>

1.  <span data-ttu-id="c09ad-109">Obtenha o privilégio **SeLockMemoryPrivilege** chamando a função [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) .</span><span class="sxs-lookup"><span data-stu-id="c09ad-109">Obtain the **SeLockMemoryPrivilege** privilege by calling the [**AdjustTokenPrivileges**](/windows/win32/api/securitybaseapi/nf-securitybaseapi-adjusttokenprivileges) function.</span></span> <span data-ttu-id="c09ad-110">Para obter mais informações, consulte [atribuindo privilégios a uma conta](../secbp/assigning-privileges-to-an-account.md) e [alterando privilégios em um token](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="c09ad-110">For more information, see [Assigning Privileges to an Account](../secbp/assigning-privileges-to-an-account.md) and [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>
2.  <span data-ttu-id="c09ad-111">Recupere o tamanho mínimo de página grande chamando a função [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) .</span><span class="sxs-lookup"><span data-stu-id="c09ad-111">Retrieve the minimum large-page size by calling the [**GetLargePageMinimum**](/windows/win32/api/memoryapi/nf-memoryapi-getlargepageminimum) function.</span></span>
3.  <span data-ttu-id="c09ad-112">Inclua o valor de **\_ \_ páginas grandes do mem** ao chamar a função do [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) .</span><span class="sxs-lookup"><span data-stu-id="c09ad-112">Include the **MEM\_LARGE\_PAGES** value when calling the [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) function.</span></span> <span data-ttu-id="c09ad-113">O tamanho e o alinhamento devem ser um múltiplo do mínimo de página grande.</span><span class="sxs-lookup"><span data-stu-id="c09ad-113">The size and alignment must be a multiple of the large-page minimum.</span></span>

<span data-ttu-id="c09ad-114">Ao escrever aplicativos que usam memória de página grande, tenha em mente as seguintes considerações:</span><span class="sxs-lookup"><span data-stu-id="c09ad-114">When writing applications that use large-page memory, keep the following considerations in mind:</span></span>

-   <span data-ttu-id="c09ad-115">Regiões de memória de página grande podem ser difíceis de obter depois que o sistema estiver em execução por um longo tempo porque o espaço físico para cada página grande deve ser contíguo, mas a memória pode ter se tornado fragmentada.</span><span class="sxs-lookup"><span data-stu-id="c09ad-115">Large-page memory regions may be difficult to obtain after the system has been running for a long time because the physical space for each large page must be contiguous, but the memory may have become fragmented.</span></span> <span data-ttu-id="c09ad-116">A alocação de páginas grandes sob essas condições pode afetar significativamente o desempenho do sistema.</span><span class="sxs-lookup"><span data-stu-id="c09ad-116">Allocating large pages under these conditions can significantly affect system performance.</span></span> <span data-ttu-id="c09ad-117">Portanto, os aplicativos devem evitar a criação de alocações de página grande repetidas e, em vez disso, alocar todas as páginas grandes uma vez, na inicialização.</span><span class="sxs-lookup"><span data-stu-id="c09ad-117">Therefore, applications should avoid making repeated large-page allocations and instead allocate all large pages one time, at startup.</span></span>
-   <span data-ttu-id="c09ad-118">A memória é sempre de leitura/gravação e não paginável (sempre residente na memória física).</span><span class="sxs-lookup"><span data-stu-id="c09ad-118">The memory is always read/write and nonpageable (always resident in physical memory).</span></span>
-   <span data-ttu-id="c09ad-119">A memória faz parte do processo de bytes particulares, mas não faz parte do conjunto de trabalho, pois o conjunto de trabalho por definição contém apenas memória paginável.</span><span class="sxs-lookup"><span data-stu-id="c09ad-119">The memory is part of the process private bytes but not part of the working set, because the working set by definition contains only pageable memory.</span></span>
-   <span data-ttu-id="c09ad-120">As alocações de página grande não estão sujeitas aos limites de trabalho.</span><span class="sxs-lookup"><span data-stu-id="c09ad-120">Large-page allocations are not subject to job limits.</span></span>
-   <span data-ttu-id="c09ad-121">A memória de página grande deve ser reservada e confirmada como uma única operação.</span><span class="sxs-lookup"><span data-stu-id="c09ad-121">Large-page memory must be reserved and committed as a single operation.</span></span> <span data-ttu-id="c09ad-122">Em outras palavras, as páginas grandes não podem ser usadas para confirmar um intervalo de memória reservado anteriormente.</span><span class="sxs-lookup"><span data-stu-id="c09ad-122">In other words, large pages cannot be used to commit a previously reserved range of memory.</span></span>
-   <span data-ttu-id="c09ad-123">O WOW64 em sistemas baseados em Intel Itanium não oferece suporte a aplicativos de 32 bits que usam esse recurso.</span><span class="sxs-lookup"><span data-stu-id="c09ad-123">WOW64 on Intel Itanium-based systems does not support 32-bit applications that use this feature.</span></span> <span data-ttu-id="c09ad-124">Os aplicativos devem ser recompilados como aplicativos nativos de 64 bits.</span><span class="sxs-lookup"><span data-stu-id="c09ad-124">The applications should be recompiled as native 64-bit applications.</span></span>

 

 
