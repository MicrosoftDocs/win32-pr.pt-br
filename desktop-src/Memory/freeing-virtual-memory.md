---
description: A função VirtualFree desconfirma e libera páginas de acordo com as regras a seguir.
ms.assetid: 8fbd7960-f3f0-4326-ad1d-12b636c0039e
title: Liberando memória virtual
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: a7628ed53f956d5cd13f0c7d2d1157443d529129
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105789885"
---
# <a name="freeing-virtual-memory"></a><span data-ttu-id="435a6-103">Liberando memória virtual</span><span class="sxs-lookup"><span data-stu-id="435a6-103">Freeing Virtual Memory</span></span>

<span data-ttu-id="435a6-104">A função [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) desconfirma e libera páginas de acordo com as seguintes regras:</span><span class="sxs-lookup"><span data-stu-id="435a6-104">The [**VirtualFree**](/windows/win32/api/memoryapi/nf-memoryapi-virtualfree) function decommits and releases pages according to the following rules:</span></span>

-   <span data-ttu-id="435a6-105">O desconfirma uma ou mais páginas confirmadas, alterando o estado das páginas para reservado.</span><span class="sxs-lookup"><span data-stu-id="435a6-105">Decommits one or more committed pages, changing the state of the pages to reserved.</span></span> <span data-ttu-id="435a6-106">A desconfirmação de páginas libera o armazenamento físico associado às páginas, tornando-a disponível para ser alocada por qualquer processo.</span><span class="sxs-lookup"><span data-stu-id="435a6-106">Decommitting pages releases the physical storage associated with the pages, making it available to be allocated by any process.</span></span> <span data-ttu-id="435a6-107">Qualquer bloco de páginas confirmadas pode ser deconfirmado.</span><span class="sxs-lookup"><span data-stu-id="435a6-107">Any block of committed pages can be decommitted.</span></span>
-   <span data-ttu-id="435a6-108">Libera um bloco de uma ou mais páginas reservadas, alterando o estado das páginas para livre.</span><span class="sxs-lookup"><span data-stu-id="435a6-108">Releases a block of one or more reserved pages, changing the state of the pages to free.</span></span> <span data-ttu-id="435a6-109">Liberar um bloco de páginas torna o intervalo de endereços reservados disponíveis para ser alocado pelo processo.</span><span class="sxs-lookup"><span data-stu-id="435a6-109">Releasing a block of pages makes the range of reserved addresses available to be allocated by the process.</span></span> <span data-ttu-id="435a6-110">As páginas reservadas podem ser liberadas apenas liberando todo o bloco que foi reservado inicialmente pelo [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span><span class="sxs-lookup"><span data-stu-id="435a6-110">Reserved pages can be released only by freeing the entire block that was initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc).</span></span>
-   <span data-ttu-id="435a6-111">O desconfirma e libera um bloco de uma ou mais páginas confirmadas simultaneamente, alterando o estado das páginas para livre.</span><span class="sxs-lookup"><span data-stu-id="435a6-111">Decommits and releases a block of one or more committed pages simultaneously, changing the state of the pages to free.</span></span> <span data-ttu-id="435a6-112">O bloco especificado deve incluir todo o bloco inicialmente reservado pelo [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), e todas as páginas devem estar confirmadas no momento.</span><span class="sxs-lookup"><span data-stu-id="435a6-112">The specified block must include the entire block initially reserved by [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc), and all of the pages must be currently committed.</span></span>

<span data-ttu-id="435a6-113">Depois que um bloco de memória é liberado ou descomprometido, você nunca pode consultá-lo novamente.</span><span class="sxs-lookup"><span data-stu-id="435a6-113">After a memory block is released or decommitted, you can never refer to it again.</span></span> <span data-ttu-id="435a6-114">Todas as informações que podem ter ficado nessa memória são feitas para sempre.</span><span class="sxs-lookup"><span data-stu-id="435a6-114">Any information that may have been in that memory is gone forever.</span></span> <span data-ttu-id="435a6-115">A tentativa de ler ou gravar em uma página livre resulta em uma exceção de violação de acesso.</span><span class="sxs-lookup"><span data-stu-id="435a6-115">Attempting to read from or write to a free page results in an access violation exception.</span></span> <span data-ttu-id="435a6-116">Se você precisar de informações, não desconfirme ou Libere memória que contenha essas informações.</span><span class="sxs-lookup"><span data-stu-id="435a6-116">If you require information, do not decommit or free memory containing that information.</span></span>

<span data-ttu-id="435a6-117">Para especificar que os dados em um intervalo de memória não são mais interessantes, chame o [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) com a **\_ redefinição de mem**.</span><span class="sxs-lookup"><span data-stu-id="435a6-117">To specify that the data in a memory range is no longer of interest, call [**VirtualAlloc**](/windows/win32/api/memoryapi/nf-memoryapi-virtualalloc) with **MEM\_RESET**.</span></span> <span data-ttu-id="435a6-118">As páginas não serão lidas ou gravadas no arquivo de paginação.</span><span class="sxs-lookup"><span data-stu-id="435a6-118">The pages will not be read from or written to the paging file.</span></span> <span data-ttu-id="435a6-119">No entanto, o bloco de memória pode ser usado novamente mais tarde.</span><span class="sxs-lookup"><span data-stu-id="435a6-119">However, the memory block can be used again later.</span></span>

 

 
