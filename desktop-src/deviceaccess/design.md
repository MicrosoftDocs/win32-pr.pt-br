---
title: Considerações de design para dispositivos personalizados
description: Este tópico descreve as considerações de design que podem ajudá-lo a determinar se o dispositivo precisa de um driver personalizado.
ms.assetid: 8AADE304-4841-41E2-968B-DFCB5B954FF1
ms.topic: article
ms.date: 02/11/2020
ms.openlocfilehash: f503ae556009f3b4b9b88d9f895936218f402fc6
ms.sourcegitcommit: 3d718d8f69d3f86eaecf94c5705d761c5a9ef4a1
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 10/20/2020
ms.locfileid: "103642954"
---
# <a name="design-considerations-for-custom-devices"></a><span data-ttu-id="6bda6-103">Considerações de design para dispositivos personalizados</span><span class="sxs-lookup"><span data-stu-id="6bda6-103">Design Considerations for Custom Devices</span></span>

<span data-ttu-id="6bda6-104">Este tópico descreve as considerações de design que podem ajudá-lo a determinar se o dispositivo precisa de um driver personalizado.</span><span class="sxs-lookup"><span data-stu-id="6bda6-104">This topic describes design considerations that can help you determine whether your device needs a custom driver.</span></span>

- [<span data-ttu-id="6bda6-105">Determinando o tipo de driver a ser implementado</span><span class="sxs-lookup"><span data-stu-id="6bda6-105">Determining the type of driver to implement</span></span>](#determining-the-type-of-driver-to-implement)
- [<span data-ttu-id="6bda6-106">Considerações sobre segurança</span><span class="sxs-lookup"><span data-stu-id="6bda6-106">Security considerations</span></span>](#security-considerations)
- [<span data-ttu-id="6bda6-107">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6bda6-107">Related topics</span></span>](#related-topics)

## <a name="determining-the-type-of-driver-to-implement"></a><span data-ttu-id="6bda6-108">Determinando o tipo de driver a ser implementado</span><span class="sxs-lookup"><span data-stu-id="6bda6-108">Determining the type of driver to implement</span></span>

<span data-ttu-id="6bda6-109">Esta tabela descreve quando você deve desenvolver um driver personalizado para seu dispositivo e se comunicar com ele usando a API de acesso do dispositivo e quando você deve usar pilhas de dispositivo fornecidas pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="6bda6-109">This table describes when you should develop a custom driver for your device and communicate with it by using the Device Access API, and when you should use Windows-provided device stacks instead.</span></span>

| <span data-ttu-id="6bda6-110">Para dar suporte a</span><span class="sxs-lookup"><span data-stu-id="6bda6-110">To support</span></span> | <span data-ttu-id="6bda6-111">Implementação</span><span class="sxs-lookup"><span data-stu-id="6bda6-111">Implementation</span></span> |
|:---|:---|
| <span data-ttu-id="6bda6-112">Dispositivos bem conhecidos, incluindo:</span><span class="sxs-lookup"><span data-stu-id="6bda6-112">Well-known devices, including:</span></span> <ul><li><span data-ttu-id="6bda6-113">Sensor</span><span class="sxs-lookup"><span data-stu-id="6bda6-113">Sensor</span></span></li><li><span data-ttu-id="6bda6-114">Localização</span><span class="sxs-lookup"><span data-stu-id="6bda6-114">Location</span></span></li><li><span data-ttu-id="6bda6-115">Webcam</span><span class="sxs-lookup"><span data-stu-id="6bda6-115">Webcam</span></span></li><li><span data-ttu-id="6bda6-116">Proximidade</span><span class="sxs-lookup"><span data-stu-id="6bda6-116">Proximity</span></span></li><li><span data-ttu-id="6bda6-117">SMS (serviço de mensagens curtas)</span><span class="sxs-lookup"><span data-stu-id="6bda6-117">Short message service (SMS)</span></span></li><li><span data-ttu-id="6bda6-118">Banda larga móvel</span><span class="sxs-lookup"><span data-stu-id="6bda6-118">Mobile broadband</span></span></li></ul><br/> | <span data-ttu-id="6bda6-119">Para muitos tipos de dispositivos bem conhecidos, você não precisa de um driver personalizado, pois o Windows inclui APIs e DDIs (interfaces de driver de dispositivo) de extensão de classe que gerenciam a comunicação entre o driver e o Windows.</span><span class="sxs-lookup"><span data-stu-id="6bda6-119">For many types of well-known devices, you don't need a custom driver, because Windows includes APIs and class-extension device driver interfaces (DDIs) that manage the communication between the driver and Windows.</span></span> <span data-ttu-id="6bda6-120">Os dispositivos sensor, local e dispositivo portátil do Windows (WPD) são alguns exemplos de classes de dispositivo que têm esse suporte.</span><span class="sxs-lookup"><span data-stu-id="6bda6-120">Sensor, location, and Windows Portable Device (WPD) devices are some examples of device classes that have this support.</span></span> <span data-ttu-id="6bda6-121">Se você criar um driver que usa um desses DDIs fornecidos pelo Windows para enviar e receber dados e comandos, não há necessidade de que seu aplicativo da Windows Store use a API de acesso do dispositivo para o agente de acesso ou envie códigos de controle de entrada/saída (e/s) diretamente para o driver.</span><span class="sxs-lookup"><span data-stu-id="6bda6-121">If you build a driver that uses one of these Windows-provided DDIs to send and receive data and commands, there's no need for your Windows Store app to use the Device Access API to broker access or send input/output (I/O) control codes directly to the driver.</span></span> <br/> <span data-ttu-id="6bda6-122">Quando um aplicativo da Windows Store solicita acesso a um dispositivo conhecido usando a API de Windows Runtime para sua classe de dispositivo, o Windows 8 manipulará o acesso ao dispositivo com base no tipo de dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6bda6-122">When a Windows Store app requests access to a well-known device by using the Windows Runtime API for its device class, Windows 8 will handle device access based on the type of device.</span></span> <span data-ttu-id="6bda6-123">Os aplicativos sempre terão acesso a alguns tipos conhecidos de dispositivos (como acelerômetros) que não revelam nenhuma informação de identificação pessoal.</span><span class="sxs-lookup"><span data-stu-id="6bda6-123">Apps will always get access to some well-known types of devices (such as accelerometers) that don't reveal any personally identifiable information.</span></span> <span data-ttu-id="6bda6-124">Outros tipos de dispositivos bem conhecidos devem ser declarados no manifesto do aplicativo antes que um aplicativo possa acessá-los.</span><span class="sxs-lookup"><span data-stu-id="6bda6-124">Other types of well-known devices must be declared in the application manifest before an app can access them.</span></span> <span data-ttu-id="6bda6-125">O usuário deve conceder permissão para que um aplicativo acesse dispositivos que revelem informações confidenciais, como dispositivos de localização, webcam e microfone, ou pode custar dinheiro ao usuário, como dispositivos de banda larga móvel.</span><span class="sxs-lookup"><span data-stu-id="6bda6-125">The user must grant permission for an app to access devices that reveal sensitive information, like location, webcam, and microphone devices, or can cost the user money, like mobile broadband devices.</span></span> <br/> |
| <span data-ttu-id="6bda6-126">Um dispositivo WPD que implementa serviços MTP.</span><span class="sxs-lookup"><span data-stu-id="6bda6-126">A WPD device that implements MTP services.</span></span><br/> | <span data-ttu-id="6bda6-127">Você pode usar o driver de classe MTP ou pode criar um driver usando a DDI WPD.</span><span class="sxs-lookup"><span data-stu-id="6bda6-127">You can use the MTP class driver, or you can build a driver by using the WPD DDI.</span></span><br/> <span data-ttu-id="6bda6-128">O Windows 8 oferece suporte para serviços de dispositivo MTP. E um aplicativo pode usar a API do [Windows. Devices. Portable](/uwp/api/Windows.Devices.Portable) Windows Runtime, a API do dispositivo portátil Component Object Model (com) ou a automação WPD para acessar o dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6bda6-128">Windows 8 provides support for MTP device services.And an app can use the [Windows.Devices.Portable](/uwp/api/Windows.Devices.Portable) Windows Runtime API, the Portable Device Component Object Model (COM) API, or WPD Automation to access the device.</span></span> <span data-ttu-id="6bda6-129">Seu aplicativo não precisa usar a API de acesso do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6bda6-129">Your app doesn't need to use the Device Access API.</span></span><br/> |
| <span data-ttu-id="6bda6-130">Um dispositivo que não tem uma extensão de classe ou driver de classe fornecidos pelo Windows.</span><span class="sxs-lookup"><span data-stu-id="6bda6-130">A device that doesn't have a Windows-provided class extension or class driver.</span></span><br/>  | <span data-ttu-id="6bda6-131">Nesse caso, consulte os [aplicativos de dispositivo UWP para dispositivos internos](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) para dispositivos especializados para determinar se você deve implementar o acesso de driver personalizado usando a API de acesso do dispositivo.</span><span class="sxs-lookup"><span data-stu-id="6bda6-131">In this case, consult the [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices) for specialized devices to determine whether you must implement custom driver access by using the Device Access API.</span></span><br/> |

## <a name="security-considerations"></a><span data-ttu-id="6bda6-132">Considerações de segurança</span><span class="sxs-lookup"><span data-stu-id="6bda6-132">Security considerations</span></span>

<span data-ttu-id="6bda6-133">Os artigos a seguir fornecem orientação para escrever código C++ seguro:</span><span class="sxs-lookup"><span data-stu-id="6bda6-133">The following articles provide guidance for writing secure C++ code:</span></span>

- [<span data-ttu-id="6bda6-134">Práticas recomendadas de segurança para C++</span><span class="sxs-lookup"><span data-stu-id="6bda6-134">Security Best Practices for C++</span></span>](/cpp/security/security-best-practices-for-cpp)
- <span data-ttu-id="6bda6-135">[Patterns & Practices security guidance for Applications]/Previous-Versions/MSP-n-p/ff650760 (v = PandP. 10))</span><span class="sxs-lookup"><span data-stu-id="6bda6-135">[Patterns & Practices Security Guidance for Applications]/previous-versions/msp-n-p/ff650760(v=pandp.10))</span></span>

## <a name="related-topics"></a><span data-ttu-id="6bda6-136">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="6bda6-136">Related topics</span></span>

<span data-ttu-id="6bda6-137">[Exemplo de acesso de driver personalizado](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [aplicativos de dispositivo UWP para dispositivos internos](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [centro de desenvolvimento de hardware](/windows-hardware/drivers/)</span><span class="sxs-lookup"><span data-stu-id="6bda6-137">[Custom Driver Access Sample](https://github.com/microsoftarchive/msdn-code-gallery-microsoft/tree/411c271e537727d737a53fa2cbe99eaecac00cc0/Official%20Windows%20Platform%20Sample/Custom%20driver%20access%20sample), [UWP device apps for internal devices](/windows-hardware/drivers/devapps/uwp-device-apps-for-specialized-devices), [Hardware Dev Center](/windows-hardware/drivers/)</span></span>
