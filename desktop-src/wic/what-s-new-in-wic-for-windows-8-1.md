---
description: O Windows Imaging Component (WIC) foi atualizado com novas versões do Windows. Este tópico fornece uma breve introdução a esses novos recursos.
ms.assetid: 710B71CE-6FCC-46DA-A65C-6E4FC6A04275
title: Novidades no WIC
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 84b8b3783ac2fd8ef6a971f785cec80f868a6b80
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105813634"
---
# <a name="whats-new-in-wic"></a><span data-ttu-id="a35e3-104">Novidades no WIC</span><span class="sxs-lookup"><span data-stu-id="a35e3-104">What's New in WIC</span></span>

<span data-ttu-id="a35e3-105">O Windows Imaging Component (WIC) foi atualizado com novas versões do Windows.</span><span class="sxs-lookup"><span data-stu-id="a35e3-105">Windows Imaging Component (WIC) has been updated with new releases of Windows.</span></span> <span data-ttu-id="a35e3-106">Este tópico fornece uma breve introdução a esses novos recursos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-106">This topic provides a quick introduction to these new features.</span></span>

## <a name="whats-new-for-windows-10-version-1507"></a><span data-ttu-id="a35e3-107">O que há de novo para o Windows 10, versão 1507</span><span class="sxs-lookup"><span data-stu-id="a35e3-107">What's new for Windows 10, version 1507</span></span>

### <a name="access-to-low-level-jpeg-data-for-wic-decoding-and-encoding"></a><span data-ttu-id="a35e3-108">Acesso a dados JPEG de baixo nível para decodificação e codificação de WIC</span><span class="sxs-lookup"><span data-stu-id="a35e3-108">Access to low level JPEG data for WIC decoding and encoding</span></span>

<span data-ttu-id="a35e3-109">A partir do Windows 10, versão 1507, o WIC fornece acesso a estruturas de dados JPEG de baixo nível, incluindo tabelas Huffman e quantização.</span><span class="sxs-lookup"><span data-stu-id="a35e3-109">Starting in Windows 10, version 1507, WIC provides access to low level JPEG data structures, including Huffman and quantization tables.</span></span> <span data-ttu-id="a35e3-110">Para mais informações, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a35e3-110">For more information, see the following topics:</span></span>

-   <span data-ttu-id="a35e3-111">Interface [**IWICJpegFrameDecode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframedecode)</span><span class="sxs-lookup"><span data-stu-id="a35e3-111">[**IWICJpegFrameDecode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframedecode) interface</span></span>
-   <span data-ttu-id="a35e3-112">Interface [**IWICJpegFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframeencode)</span><span class="sxs-lookup"><span data-stu-id="a35e3-112">[**IWICJpegFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicjpegframeencode) interface</span></span>

### <a name="jpeg-indexing"></a><span data-ttu-id="a35e3-113">Indexação JPEG</span><span class="sxs-lookup"><span data-stu-id="a35e3-113">JPEG indexing</span></span>

<span data-ttu-id="a35e3-114">A indexação JPEG é uma técnica que melhora significativamente o desempenho de acessar aleatoriamente pequenas subregiãos de uma imagem JPEG grande, ao custo de algum uso de memória adicional.</span><span class="sxs-lookup"><span data-stu-id="a35e3-114">JPEG indexing is a technique that significantly improves the performance of randomly accessing small sub regions of a large JPEG image, at the cost of some additional memory usage.</span></span> <span data-ttu-id="a35e3-115">A indexação JPEG pode ser utilizada por qualquer chamador do WIC.</span><span class="sxs-lookup"><span data-stu-id="a35e3-115">JPEG indexing can be leveraged by any caller of WIC.</span></span>

<span data-ttu-id="a35e3-116">A interface [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) foi projetada para aproveitar a indexação JPEG se ela estiver ativada.</span><span class="sxs-lookup"><span data-stu-id="a35e3-116">The [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) interface is designed to leverage JPEG indexing if it is turned on.</span></span> <span data-ttu-id="a35e3-117">Por exemplo, a API ID2D1ImageSource solicitará apenas as seções necessárias da imagem em um cenário, como panorâmica e zoom para uma imagem de grande resolução.</span><span class="sxs-lookup"><span data-stu-id="a35e3-117">For example, the ID2D1ImageSource API will only request the needed sections of the image in a scenario such as pan and zoom for a large resolution image.</span></span> <span data-ttu-id="a35e3-118">Para mais informações, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a35e3-118">For more information, see the following topics:</span></span>

-   <span data-ttu-id="a35e3-119">Método [**IWICJpegFrameDecode:: Setindexing**](/windows/win32/api/Wincodec/nf-wincodec-iwicjpegframedecode-setindexing)</span><span class="sxs-lookup"><span data-stu-id="a35e3-119">[**IWICJpegFrameDecode::SetIndexing**](/windows/win32/api/Wincodec/nf-wincodec-iwicjpegframedecode-setindexing) method</span></span>
-   <span data-ttu-id="a35e3-120">Interface [**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic)</span><span class="sxs-lookup"><span data-stu-id="a35e3-120">[**ID2D1ImageSourceFromWic**](/windows/win32/api/d2d1_3/nn-d2d1_3-id2d1imagesourcefromwic) interface</span></span>

## <a name="whats-new-for-windows-81"></a><span data-ttu-id="a35e3-121">O que há de novo para Windows 8.1</span><span class="sxs-lookup"><span data-stu-id="a35e3-121">What's new for Windows 8.1</span></span>

### <a name="support-for-jpeg-ycbcr-images"></a><span data-ttu-id="a35e3-122">Suporte para imagens JPEG YCbCr</span><span class="sxs-lookup"><span data-stu-id="a35e3-122">Support for JPEG YCbCr images</span></span>

<span data-ttu-id="a35e3-123">A partir do Windows 8.1, o WIC fornece suporte para decodificação, transformação e codificação de dados de imagem JPEG Y'CbCr em seu formato nativo.</span><span class="sxs-lookup"><span data-stu-id="a35e3-123">Starting in Windows 8.1, WIC provides support for decoding, transforming and encoding JPEG Y'CbCr image data in its native format.</span></span> <span data-ttu-id="a35e3-124">Isso permite que os aplicativos diminuam significativamente o tempo de processamento e o consumo de memória para determinadas operações de geração de imagens ao trabalhar com JPEGs codificados em Y'CbCr.</span><span class="sxs-lookup"><span data-stu-id="a35e3-124">This allows apps to significantly decrease processing time and memory consumption for certain imaging operations when working with Y'CbCr encoded JPEGs.</span></span> <span data-ttu-id="a35e3-125">Para mais informações, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a35e3-125">For more information, see the following topics:</span></span>

-   <span data-ttu-id="a35e3-126">[Direct2D](-wic-sample-d2d-viewer.md)[YCbCr Effect](../direct2d/ycbcr-effect.md)</span><span class="sxs-lookup"><span data-stu-id="a35e3-126">[Direct2D](-wic-sample-d2d-viewer.md)[YCbCr effect](../direct2d/ycbcr-effect.md)</span></span>
-   <span data-ttu-id="a35e3-127">Interface [**IWICPlanarBitmapSourceTransform**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapsourcetransform)</span><span class="sxs-lookup"><span data-stu-id="a35e3-127">[**IWICPlanarBitmapSourceTransform**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapsourcetransform) interface</span></span>
-   <span data-ttu-id="a35e3-128">Interface [**IWICPlanarBitmapFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapframeencode)</span><span class="sxs-lookup"><span data-stu-id="a35e3-128">[**IWICPlanarBitmapFrameEncode**](/windows/win32/api/Wincodec/nn-wincodec-iwicplanarbitmapframeencode) interface</span></span>

### <a name="support-for-block-compressed-formats-dds-files"></a><span data-ttu-id="a35e3-129">Suporte para formatos compactados de bloco (arquivos DDS)</span><span class="sxs-lookup"><span data-stu-id="a35e3-129">Support for block compressed formats (DDS files)</span></span>

<span data-ttu-id="a35e3-130">A partir do Windows 8.1, o WIC adiciona um novo codec que dá suporte a imagens DDS codificadas nos seguintes formatos: \_ formato dxgi \_ BC1 \_ UNORM, \_ formato dxgi \_ BC2 \_ UNORM e \_ formato dxgi \_ BC3 \_ UNORM.</span><span class="sxs-lookup"><span data-stu-id="a35e3-130">Starting in Windows 8.1, WIC adds a new codec that supports DDS images encoded in the following formats: DXGI\_FORMAT\_BC1\_UNORM, DXGI\_FORMAT\_BC2\_UNORM, and DXGI\_FORMAT\_BC3\_UNORM.</span></span> <span data-ttu-id="a35e3-131">Os dados compactados por bloco DDS podem ser acessados em um formulário decodificado usando interfaces WIC padrão ou acessados diretamente usando novas interfaces específicas do DDS.</span><span class="sxs-lookup"><span data-stu-id="a35e3-131">DDS block compressed data can be accessed in a decoded form using standard WIC interfaces, or directly accessed using new DDS specific interfaces.</span></span> <span data-ttu-id="a35e3-132">Para mais informações, consulte os seguintes tópicos:</span><span class="sxs-lookup"><span data-stu-id="a35e3-132">For more information, see the following topics:</span></span>

-   <span data-ttu-id="a35e3-133">Interface [**IWICDdsDecoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsdecoder)</span><span class="sxs-lookup"><span data-stu-id="a35e3-133">[**IWICDdsDecoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsdecoder) interface</span></span>
-   <span data-ttu-id="a35e3-134">Interface [**IWICDdsEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsencoder)</span><span class="sxs-lookup"><span data-stu-id="a35e3-134">[**IWICDdsEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicddsencoder) interface</span></span>

## <a name="whats-new-for-windows-8"></a><span data-ttu-id="a35e3-135">O que há de novo no Windows 8</span><span class="sxs-lookup"><span data-stu-id="a35e3-135">What's new for Windows 8</span></span>

<span data-ttu-id="a35e3-136">No Windows 8, o WIC foi atualizado com vários recursos novos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-136">In Windows 8, WIC has been updated with several new features.</span></span> <span data-ttu-id="a35e3-137">A versão atualizada do WIC também está disponível no Windows 7 e no Windows Server 2008 R2 por meio da [atualização da plataforma para o Windows 7](../direct3darticles/platform-update-for-windows-7.md), que está disponível por meio da [atualização da plataforma para o Windows 7](https://support.microsoft.com/kb/2670838).</span><span class="sxs-lookup"><span data-stu-id="a35e3-137">The updated version of WIC is also available on Windows 7 and Windows Server 2008 R2 via the [Platform Update for Windows 7](../direct3darticles/platform-update-for-windows-7.md), which is available through the [Platform Update for Windows 7](https://support.microsoft.com/kb/2670838).</span></span>

### <a name="improved-direct2d-integration"></a><span data-ttu-id="a35e3-138">Integração do Direct2D aprimorada</span><span class="sxs-lookup"><span data-stu-id="a35e3-138">Improved Direct2D integration</span></span>

<span data-ttu-id="a35e3-139">O WIC no Windows 8 fornece essas APIs para melhorar a integração do Direct2D com o WIC:</span><span class="sxs-lookup"><span data-stu-id="a35e3-139">WIC in Windows 8 provides these APIs to improve Direct2D integration with WIC:</span></span>

-   <span data-ttu-id="a35e3-140">[**IWICImageEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicimageencoder) -uma nova interface que pode codificar o conteúdo do Direct2D [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) para um [IWICBitmapFrameEncode](-wic-imp-iwicbitmapframeencode.md).</span><span class="sxs-lookup"><span data-stu-id="a35e3-140">[**IWICImageEncoder**](/windows/win32/api/Wincodec/nn-wincodec-iwicimageencoder) - A new interface which can encode Direct2D [**ID2D1Image**](/windows/win32/api/d2d1/nn-d2d1-id2d1image) content to an [IWICBitmapFrameEncode](-wic-imp-iwicbitmapframeencode.md).</span></span> <span data-ttu-id="a35e3-141">Os métodos dessa interface usam um ponteiro para [**WICImageParameters**](/windows/win32/api/Wincodec/ns-wincodec-wicimageparameters), que são parâmetros para controlar a codificação.</span><span class="sxs-lookup"><span data-stu-id="a35e3-141">The methods of this interface take a pointer to [**WICImageParameters**](/windows/win32/api/Wincodec/ns-wincodec-wicimageparameters), which are parameters to control encoding.</span></span>
-   <span data-ttu-id="a35e3-142">[**IWICImagingFactory2**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory2) – nova fábrica de WIC com o método [**CreateImageEncoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory2-createimageencoder) .</span><span class="sxs-lookup"><span data-stu-id="a35e3-142">[**IWICImagingFactory2**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory2) - New WIC factory with the [**CreateImageEncoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory2-createimageencoder) method.</span></span> <span data-ttu-id="a35e3-143">Essa interface herda da fábrica de WIC original, [**IWICImagingFactory**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory), e é criada da mesma maneira.</span><span class="sxs-lookup"><span data-stu-id="a35e3-143">This interface inherits from the original WIC factory, [**IWICImagingFactory**](/windows/win32/api/Wincodec/nn-wincodec-iwicimagingfactory), and is created the same way.</span></span>

### <a name="changes-to-bmp-codec-alpha-support"></a><span data-ttu-id="a35e3-144">Alterações no suporte a BMP codec Alpha</span><span class="sxs-lookup"><span data-stu-id="a35e3-144">Changes to BMP codec alpha support</span></span>

<span data-ttu-id="a35e3-145">O WIC no Windows 8 dá suporte ao carregamento de arquivos de imagem [**BITMAPV5HEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapv5header) como imagens formatadas por [WICPixelFormat32bppBGRA](-wic-codec-native-pixel-formats.md).</span><span class="sxs-lookup"><span data-stu-id="a35e3-145">WIC in Windows 8 supports loading [**BITMAPV5HEADER**](/windows/win32/api/wingdi/ns-wingdi-bitmapv5header) image files as [WICPixelFormat32bppBGRA](-wic-codec-native-pixel-formats.md)-formatted images.</span></span> <span data-ttu-id="a35e3-146">Além disso, o codificador BMP dá suporte a um novo booliano, opção de codificador "EnableV5Header32bppBGRA", que instrui o codificador a gravar um **BITMAPV5HEADER** com os dados da imagem 32bppBGRA.</span><span class="sxs-lookup"><span data-stu-id="a35e3-146">In addition, the BMP encoder supports a new Boolean ,encoder option "EnableV5Header32bppBGRA", which instructs the encoder to write a **BITMAPV5HEADER** with the 32bppBGRA image data.</span></span>

<span data-ttu-id="a35e3-147">Para obter mais informações sobre formatos BMP, consulte [visão geral do formato BMP](bmp-format-overview.md).</span><span class="sxs-lookup"><span data-stu-id="a35e3-147">For more info about BMP formats, see [BMP Format Overview](bmp-format-overview.md).</span></span>

### <a name="new-pixel-formats"></a><span data-ttu-id="a35e3-148">Novos formatos de pixel</span><span class="sxs-lookup"><span data-stu-id="a35e3-148">New pixel formats</span></span>

<span data-ttu-id="a35e3-149">O WIC no Windows 8 define esses novos formatos de pixel:</span><span class="sxs-lookup"><span data-stu-id="a35e3-149">WIC in Windows 8 defines these new pixel formats:</span></span>

-   <span data-ttu-id="a35e3-150">\_WICPIXELFORMAT32BPPRGB GUID</span><span class="sxs-lookup"><span data-stu-id="a35e3-150">GUID\_WICPixelFormat32bppRGB</span></span>
-   <span data-ttu-id="a35e3-151">\_WICPIXELFORMAT64BPPRGB GUID</span><span class="sxs-lookup"><span data-stu-id="a35e3-151">GUID\_WICPixelFormat64bppRGB</span></span>
-   <span data-ttu-id="a35e3-152">\_WICPIXELFORMAT96BPPRGBFLOAT GUID</span><span class="sxs-lookup"><span data-stu-id="a35e3-152">GUID\_WICPixelFormat96bppRGBFloat</span></span>
-   <span data-ttu-id="a35e3-153">\_WICPIXELFORMAT64BPPPRGBAHALF GUID</span><span class="sxs-lookup"><span data-stu-id="a35e3-153">GUID\_WICPixelFormat64bppPRGBAHalf</span></span>

> [!Note]  
> <span data-ttu-id="a35e3-154">O codec interno TIFF retornará \_ dados GUID WICPixelFormat96bppRGBFloat.</span><span class="sxs-lookup"><span data-stu-id="a35e3-154">The TIFF built-in codec will return GUID\_WICPixelFormat96bppRGBFloat data.</span></span> <span data-ttu-id="a35e3-155">Os outros três formatos não são usados por codecs internos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-155">The other three formats are not used by built-in codecs.</span></span>

 

### <a name="restrictions-to-component-extensibility-in-appcontainer"></a><span data-ttu-id="a35e3-156">Restrições à extensibilidade de componentes no AppContainer</span><span class="sxs-lookup"><span data-stu-id="a35e3-156">Restrictions to component extensibility in AppContainer</span></span>

<span data-ttu-id="a35e3-157">Ao executar em um processo do AppContainer, que inclui todos os aplicativos da Windows Store, o WIC usará apenas componentes fornecidos pelo Windows, independentemente de os componentes adicionais estarem instalados no sistema.</span><span class="sxs-lookup"><span data-stu-id="a35e3-157">When running in an AppContainer process, which includes all Windows Store apps, WIC will only use Windows-provided components, regardless of whether additional components are installed on the system.</span></span> <span data-ttu-id="a35e3-158">O aplicativo que não está em execução no AppContainer não é afetado.</span><span class="sxs-lookup"><span data-stu-id="a35e3-158">App that are not running in AppContainer are not affected.</span></span>

<span data-ttu-id="a35e3-159">Os aplicativos não precisam fazer alterações de código para serem executados em um AppContainger, mas o sinalizador [**WICComponentEnumerateOptions**](/windows/win32/api/Wincodec/ne-wincodec-wiccomponentenumerateoptions) e os parâmetros GUID do fornecedor não terão nenhum efeito.</span><span class="sxs-lookup"><span data-stu-id="a35e3-159">Apps don't need to make any code changes to run in an AppContainger, but the [**WICComponentEnumerateOptions**](/windows/win32/api/Wincodec/ne-wincodec-wiccomponentenumerateoptions) flag and vendor GUID parameters will have no effect.</span></span> <span data-ttu-id="a35e3-160">O WIC não carregará uma imagem se ela não puder ser decodificada por um codec fornecido pelo Windows e chamar o método [**CreateComponentEnumerator**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createcomponentenumerator) retornará apenas os componentes fornecidos do Windows.</span><span class="sxs-lookup"><span data-stu-id="a35e3-160">WIC will fail to load an image if it cannot be decoded by a Windows provided codec, and calling the [**CreateComponentEnumerator**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createcomponentenumerator) method will only return Windows provided components.</span></span>

### <a name="changes-to-clsid_wicpngdecoder-and-png-decoder-color-context-support"></a><span data-ttu-id="a35e3-161">Alterações em CLSID \_ WICPngDecoder e suporte a contexto de cor do decodificador png</span><span class="sxs-lookup"><span data-stu-id="a35e3-161">Changes to CLSID\_WICPngDecoder and PNG decoder color context support</span></span>

<span data-ttu-id="a35e3-162">**CLSID \_ do WICPngDecoder1** foi adicionado com o mesmo GUID que **CLSID \_ WICPngDecoder** e **CLSID \_ WICPngDecoder2** foi adicionado.</span><span class="sxs-lookup"><span data-stu-id="a35e3-162">**CLSID\_WICPngDecoder1** has been added with the same GUID as **CLSID\_WICPngDecoder**, and **CLSID\_WICPngDecoder2** has been added.</span></span>

<span data-ttu-id="a35e3-163">Quando compilado no SDK do Windows 8, **CLSID \_ WICPngDecoder** é \# definido como **CLSID \_ WICPngDecoder2** para promover aplicativos compilados recentemente usando o novo comportamento de decodificador de png.</span><span class="sxs-lookup"><span data-stu-id="a35e3-163">When compiled against the Windows 8 SDK, **CLSID\_WICPngDecoder** is \#defined to **CLSID\_WICPngDecoder2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="a35e3-164">Os aplicativos devem continuar a especificar **CLSID \_ WICPngDecoder**.</span><span class="sxs-lookup"><span data-stu-id="a35e3-164">Apps should continue to specify **CLSID\_WICPngDecoder**.</span></span>

<span data-ttu-id="a35e3-165">A especificação do **CLSID \_ WICPngDecoder2** criará uma versão do DEcodificador png do WIC que gerará um [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) de blocos cHRM e gama.</span><span class="sxs-lookup"><span data-stu-id="a35e3-165">Specifying **CLSID\_WICPngDecoder2** will create a version of the WIC PNG decoder that will generate an [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) from cHRM and gAMA chunks.</span></span> <span data-ttu-id="a35e3-166">Isso permite que esses metadados de espaço de cores sejam usados com outras APIs do Windows para o gerenciamento de cores da imagem de origem.</span><span class="sxs-lookup"><span data-stu-id="a35e3-166">This allows this color space metadata to be used with other Windows APIs for color managing the source image.</span></span> <span data-ttu-id="a35e3-167">Um **IWICColorContext** não será gerado a partir das partes gama e cHRM se uma parte iCCP estiver presente, se uma parte do sRGB estiver presente ou se as partes gama e cHRM indicarem um espaço de cores sRGB.</span><span class="sxs-lookup"><span data-stu-id="a35e3-167">An **IWICColorContext** is not generated from the gAMA and cHRM chunks if an iCCP chunk is present, if an sRGB chunk is present, or if the gAMA and cHRM chunks indicate an sRGB color space.</span></span>

<span data-ttu-id="a35e3-168">Um aplicativo pode especificar **CLSID \_ WICPngDecoder1** para criar uma versão do DEcodificador png do WIC que não gera um [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) a partir das partes gama e cHRM.</span><span class="sxs-lookup"><span data-stu-id="a35e3-168">An app can specify **CLSID\_WICPngDecoder1** to create a version of the WIC PNG decoder that does not generate an [**IWICColorContext**](/windows/win32/api/Wincodec/nn-wincodec-iwiccolorcontext) from the gAMA and cHRM chunks.</span></span> <span data-ttu-id="a35e3-169">Isso corresponde ao comportamento do decodificador PNG nas versões anteriores do Windows.</span><span class="sxs-lookup"><span data-stu-id="a35e3-169">This matches the behavior of the PNG decoder in previous versions of Windows.</span></span>

### <a name="changes-to-wincodec_sdk_version"></a><span data-ttu-id="a35e3-170">Alterações na \_ versão do SDK do WINCODEC \_</span><span class="sxs-lookup"><span data-stu-id="a35e3-170">Changes to WINCODEC\_SDK\_VERSION</span></span>

<span data-ttu-id="a35e3-171">Quando compilado no SDK do Windows 8, **a \_ \_ versão do SDK do WINCODEC** é \# definida como **WINCODEC \_ SDK \_ VERSION2** para promover aplicativos compilados recentemente usando o novo comportamento de decodificador de png.</span><span class="sxs-lookup"><span data-stu-id="a35e3-171">When compiled against the Windows 8 SDK, **WINCODEC\_SDK\_VERSION** is \#defined to **WINCODEC\_SDK\_VERSION2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="a35e3-172">Caso contrário, ele será \# definido como **WINCODEC \_ SDK \_ versão**.</span><span class="sxs-lookup"><span data-stu-id="a35e3-172">Otherwise, it is \#defined to **WINCODEC\_SDK\_VERSION1**.</span></span> <span data-ttu-id="a35e3-173">Os aplicativos devem continuar a especificar a **\_ \_ versão do SDK do WINCODEC**.</span><span class="sxs-lookup"><span data-stu-id="a35e3-173">Apps should continue to specify **WINCODEC\_SDK\_VERSION**.</span></span>

<span data-ttu-id="a35e3-174">Especificar **a \_ \_ versão do SDK do WINCODEC** ao chamar o [**\_ proxy WICCreateImagingFactory**](-wic-codec-wiccreateimagingfactory-proxy.md) para criar o Imaging Factory faz com que **CLSID \_ WICPngDecoder2** seja criado em vez de **CLSID \_ WICPngDecoder1** do método [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) e suas variantes.</span><span class="sxs-lookup"><span data-stu-id="a35e3-174">Specifying **WINCODEC\_SDK\_VERSION** when calling [**WICCreateImagingFactory\_Proxy**](-wic-codec-wiccreateimagingfactory-proxy.md) to create the imaging factory causes **CLSID\_WICPngDecoder2** to be created instead of **CLSID\_WICPngDecoder1** from the [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) method and its variants.</span></span> <span data-ttu-id="a35e3-175">Além disso, um enumerador de informações de componente de decodificador retornará informações de componente **\_ WICPngDecoder2 CLSID** , mas não informações de **CLSID \_ WICPngDecoder1** .</span><span class="sxs-lookup"><span data-stu-id="a35e3-175">Also, a decoder component info enumerator will return **CLSID\_WICPngDecoder2** component info, but not **CLSID\_WICPngDecoder1** info.</span></span>

<span data-ttu-id="a35e3-176">Especificar **WINCODEC \_ SDK \_ versão** fará com que o **CLSID \_ WICPngDecoder1** seja usado em vez do **CLSID \_ WICPngDecoder2** nos casos acima.</span><span class="sxs-lookup"><span data-stu-id="a35e3-176">Specifying **WINCODEC\_SDK\_VERSION1** will cause **CLSID\_WICPngDecoder1** to be used instead of **CLSID\_WICPngDecoder2** in the above cases.</span></span>

### <a name="changes-to-clsid_wicimagingfactory"></a><span data-ttu-id="a35e3-177">Alterações em CLSID \_ WICImagingFactory</span><span class="sxs-lookup"><span data-stu-id="a35e3-177">Changes to CLSID\_WICImagingFactory</span></span>

<span data-ttu-id="a35e3-178">**CLSID \_ do WICImagingFactory1** foi adicionado com o mesmo GUID que **CLSID \_ WICImagingFactory** e **CLSID \_ WICImagingFactory2** foi adicionado.</span><span class="sxs-lookup"><span data-stu-id="a35e3-178">**CLSID\_WICImagingFactory1** has been added with the same GUID as **CLSID\_WICImagingFactory**, and **CLSID\_WICImagingFactory2** has been added.</span></span>

<span data-ttu-id="a35e3-179">Quando compilado no SDK do Windows 8, **CLSID \_ WICImagingFactory** é \# definido como **CLSID \_ WICImagingFactory2** para promover aplicativos compilados recentemente usando o novo comportamento de decodificador de png.</span><span class="sxs-lookup"><span data-stu-id="a35e3-179">When compiled against the Windows 8 SDK, **CLSID\_WICImagingFactory** is \#defined to **CLSID\_WICImagingFactory2** to promote newly compiled apps using the new PNG decoder behavior.</span></span> <span data-ttu-id="a35e3-180">Os aplicativos devem continuar a especificar **CLSID \_ WICImagingFactory**.</span><span class="sxs-lookup"><span data-stu-id="a35e3-180">Apps should continue to specify **CLSID\_WICImagingFactory**.</span></span>

<span data-ttu-id="a35e3-181">Especificar **CLSID \_ WICImagingFactory2** ao chamar [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) para criar o Imaging Factory faz com que **CLSID \_ WICPngDecoder2** seja criado em vez de **CLSID \_ WICPngDecoder1** do método [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) e suas variantes.</span><span class="sxs-lookup"><span data-stu-id="a35e3-181">Specifying **CLSID\_WICImagingFactory2** when calling [**CoCreateInstance**](/windows/win32/api/combaseapi/nf-combaseapi-cocreateinstance) to create the imaging factory causes **CLSID\_WICPngDecoder2** to be created instead of **CLSID\_WICPngDecoder1** from the [**CreateDecoder**](/windows/win32/api/Wincodec/nf-wincodec-iwicimagingfactory-createdecoder) method and its variants.</span></span> <span data-ttu-id="a35e3-182">Além disso, um enumerador de informações de componente de decodificador retornará informações de componente **\_ WICPngDecoder2 CLSID** , mas não informações de **CLSID \_ WICPngDecoder1** .</span><span class="sxs-lookup"><span data-stu-id="a35e3-182">Also, a decoder component info enumerator will return **CLSID\_WICPngDecoder2** component info, but not **CLSID\_WICPngDecoder1** info.</span></span>

<span data-ttu-id="a35e3-183">Especificar **CLSID \_ WICImagingFactory1** fará com que **CLSID \_ WICPngDecoder1** seja usado em vez de **CLSID \_ WICPngDecoder2** nos casos acima.</span><span class="sxs-lookup"><span data-stu-id="a35e3-183">Specifying **CLSID\_WICImagingFactory1** will cause **CLSID\_WICPngDecoder1** to be used instead of **CLSID\_WICPngDecoder2** in the above cases.</span></span>

## <a name="whats-new-for-windows-7"></a><span data-ttu-id="a35e3-184">O que há de novo no Windows 7</span><span class="sxs-lookup"><span data-stu-id="a35e3-184">What's new for Windows 7</span></span>

<span data-ttu-id="a35e3-185">No Windows 7, o WIC foi atualizado com vários recursos novos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-185">In Windows 7, WIC has been updated with several new features.</span></span> <span data-ttu-id="a35e3-186">Este tópico fornece uma breve introdução a esses novos recursos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-186">This topic provides a quick introduction to these new features.</span></span>

### <a name="updates-to-the-tiff-codec"></a><span data-ttu-id="a35e3-187">Atualizações para o codec TIFF</span><span class="sxs-lookup"><span data-stu-id="a35e3-187">Updates to the TIFF Codec</span></span>

<span data-ttu-id="a35e3-188">O codec TIFF do WIC foi atualizado para o Windows 7 para dar suporte a vários recursos que não têm suporte da versão anterior do WIC.</span><span class="sxs-lookup"><span data-stu-id="a35e3-188">The WIC TIFF codec has been updated for Windows 7 to support several features not supported by the previous version of WIC.</span></span>

-   <span data-ttu-id="a35e3-189">Suporte para arquivos TIFF grandes.</span><span class="sxs-lookup"><span data-stu-id="a35e3-189">Support for large TIFF files.</span></span>
-   <span data-ttu-id="a35e3-190">Decodificar imagens TIFF em ladrilhos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-190">Decode tiled TIFF images.</span></span>
-   <span data-ttu-id="a35e3-191">Decodificar imagens TIFF planas (Planar).</span><span class="sxs-lookup"><span data-stu-id="a35e3-191">Decode flat (planar) TIFF images.</span></span>
-   <span data-ttu-id="a35e3-192">Decodificar imagens TIFF codificadas em JPEG.</span><span class="sxs-lookup"><span data-stu-id="a35e3-192">Decode JPEG encoded TIFF images.</span></span>

### <a name="progressive-decoding"></a><span data-ttu-id="a35e3-193">Decodificação progressiva</span><span class="sxs-lookup"><span data-stu-id="a35e3-193">Progressive Decoding</span></span>

<span data-ttu-id="a35e3-194">A decodificação progressiva fornece a capacidade de decodificar e renderizar de forma incremental partes de uma imagem antes de concluir o download da imagem inteira.</span><span class="sxs-lookup"><span data-stu-id="a35e3-194">Progressive decoding provides the ability to incrementally decode and render portions of an image before the entire image has finished downloading.</span></span> <span data-ttu-id="a35e3-195">Esse recurso melhora muito a experiência do usuário ao exibir imagens da Internet, pois o usuário não precisa aguardar que toda a imagem seja baixada antes que a decodificação possa começar.</span><span class="sxs-lookup"><span data-stu-id="a35e3-195">This feature greatly improves the user experience when viewing images from the Internet, because the user does not have to wait for the entire image to download before decoding can begin.</span></span> <span data-ttu-id="a35e3-196">Com a decodificação progressiva, os usuários podem ver uma visualização de imagem com os dados disponíveis por muito tempo antes de a imagem inteira ser baixada.</span><span class="sxs-lookup"><span data-stu-id="a35e3-196">With progressive decoding, users are able to see an image preview with available data long before the entire image is downloaded.</span></span> <span data-ttu-id="a35e3-197">Esse recurso é essencial para qualquer aplicativo usado para exibir imagens da Internet ou de fontes de dados com largura de banda limitada.</span><span class="sxs-lookup"><span data-stu-id="a35e3-197">This feature is essential for any application used to view images from the Internet or from data sources with limited bandwidth.</span></span>

<span data-ttu-id="a35e3-198">Para obter mais informações, consulte a [visão geral da decodificação progressiva](-wic-progressive-decoding.md).</span><span class="sxs-lookup"><span data-stu-id="a35e3-198">For more information, see the [Progressive Decoding Overview](-wic-progressive-decoding.md).</span></span>

### <a name="extended-metadata-support-for-jpeg-png-and-gif"></a><span data-ttu-id="a35e3-199">Suporte a metadados estendidos para JPEG, PNG e GIF</span><span class="sxs-lookup"><span data-stu-id="a35e3-199">Extended Metadata Support for JPEG, PNG, and GIF</span></span>

<span data-ttu-id="a35e3-200">No Windows 7, o WIC estendeu seu suporte de metadados para imagens JPEG, PNG e GIF.</span><span class="sxs-lookup"><span data-stu-id="a35e3-200">In Windows 7, WIC has extended its metadata support for JPEG, PNG, and GIF images.</span></span>

-   <span data-ttu-id="a35e3-201">Adicionado suporte para propriedades GIF e GIF animadas.</span><span class="sxs-lookup"><span data-stu-id="a35e3-201">Added support for animated GIF and GIF properties.</span></span>
-   <span data-ttu-id="a35e3-202">Manipuladores de metadados do JPG expandidos para dar suporte a metadados de crominância, luminância e comentário.</span><span class="sxs-lookup"><span data-stu-id="a35e3-202">Expanded JPG metadata handlers to support chrominance, luminance, and comment metadata.</span></span>
-   <span data-ttu-id="a35e3-203">Manipuladores de metadados PNG expandidos para dar suporte aos metadados tIME, sRGB, iCCP, sua, cHRM, iTXt, bKGD e gAMA.</span><span class="sxs-lookup"><span data-stu-id="a35e3-203">Expanded PNG metadata handlers to support tIME, sRGB, iCCP, hIST, cHRM, iTXt, bKGD, and gAMA metadata.</span></span>
-   <span data-ttu-id="a35e3-204">Adicionados novos manipuladores de metadados 8BIM para metadados ResolutionInfo e metadados de síntese de IPTC.</span><span class="sxs-lookup"><span data-stu-id="a35e3-204">Added new 8BIM metadata handlers for ResolutionInfo metadata and IPTC digest metadata.</span></span>
-   <span data-ttu-id="a35e3-205">Novos manipuladores de metadados adicionados para o descritor de tela lógica (LSD), descritor de imagem (IMD), GCE (extensões de controle de gráficos) e metadados de extensões de aplicativo (APE has).</span><span class="sxs-lookup"><span data-stu-id="a35e3-205">Added new metadata handlers for Logical Screen Descriptor (LSD), Image Descriptor (IMD), Graphic Control Extensions (GCE), and Application Extensions (APE) metadata.</span></span>
-   <span data-ttu-id="a35e3-206">Suporte para metadados que abrangem blocos de APPn.</span><span class="sxs-lookup"><span data-stu-id="a35e3-206">Support for metadata that spans APPn blocks.</span></span>

### <a name="multi-threaded-apartment-support"></a><span data-ttu-id="a35e3-207">Suporte a multi-threaded apartment</span><span class="sxs-lookup"><span data-stu-id="a35e3-207">Multi Threaded Apartment Support</span></span>

<span data-ttu-id="a35e3-208">Os objetos dentro de um apartamento multithread (MTA) podem ser chamados simultaneamente por qualquer número de threads no MTA, permitindo melhor desempenho em sistemas de vários núcleos e em certos cenários de servidor.</span><span class="sxs-lookup"><span data-stu-id="a35e3-208">Objects within a multithreaded apartment (MTA) may be called concurrently by any number of threads within the MTA, allowing for better performance on multicore systems and certain server scenarios.</span></span> <span data-ttu-id="a35e3-209">Além disso, os codecs do WIC que residem em um MTA podem chamar outros objetos que residem no MTA sem o custo de marshaling associado à chamada entre threads que residem em apartments STA diferentes.</span><span class="sxs-lookup"><span data-stu-id="a35e3-209">In addition, WIC codecs that live within an MTA can call other objects that live within the MTA without the marshaling cost associated of calling between threads that live in different STA apartments.</span></span> <span data-ttu-id="a35e3-210">No Windows 7, todos os codecs de WIC na caixa foram atualizados para dar suporte a MTA, incluindo JPEG, TIFF, PNG, GIF, ICO e BMP.</span><span class="sxs-lookup"><span data-stu-id="a35e3-210">In Windows 7, all in-box WIC codecs have been updated to support MTA, including JPEG, TIFF, PNG, GIF, ICO, and BMP.</span></span> <span data-ttu-id="a35e3-211">É altamente recomendável que os codecs sejam gravados para dar suporte ao MTA.</span><span class="sxs-lookup"><span data-stu-id="a35e3-211">It is highly recommended that codecs be written to support MTA.</span></span> <span data-ttu-id="a35e3-212">Os codecs que não dão suporte a MTA causarão percebido de desempenho significativas em aplicativos multithread devido ao marshaling.</span><span class="sxs-lookup"><span data-stu-id="a35e3-212">Codecs that do not support MTA will cause significant performance degredation in multithreaded applications due to marshaling.</span></span> <span data-ttu-id="a35e3-213">Habilitar o suporte ao MTA requer que a sincronização adequada seja implementada no codec.</span><span class="sxs-lookup"><span data-stu-id="a35e3-213">Enabling MTA support requires proper synchronization to be implemented in the codec.</span></span> <span data-ttu-id="a35e3-214">A implementação exata dessas técnicas de sincronização está além do escopo deste documento.</span><span class="sxs-lookup"><span data-stu-id="a35e3-214">Exact implementation of these synchronization techniques is beyond the scope of this paper.</span></span> <span data-ttu-id="a35e3-215">Uma referência geral para a sincronização de objetos COM Component Object Model (COM) é fornecida abaixo.</span><span class="sxs-lookup"><span data-stu-id="a35e3-215">A general reference for synchronizing Component Object Model (COM) objects is provided below.</span></span>

### <a name="metadata-working-group-implementations"></a><span data-ttu-id="a35e3-216">Implementações do grupo de trabalho de metadados</span><span class="sxs-lookup"><span data-stu-id="a35e3-216">Metadata Working Group Implementations</span></span>

<span data-ttu-id="a35e3-217">Atualmente, há uma variedade de formatos de armazenamento de metadados que contêm propriedades sobrepostas, sem nenhum padrão industrial claro ou orientação sobre métodos consistentes para ler e gravar esses formatos de metadados.</span><span class="sxs-lookup"><span data-stu-id="a35e3-217">There are currently a variety of metadata storage formats that contain overlapping properties, without any clear industry standard or guidance on consistent methods for reading and writing these metadata formats.</span></span> <span data-ttu-id="a35e3-218">Para ajudar com essa variedade de formatos e propriedades, o grupo de trabalho de metadados (MWG) foi formado.</span><span class="sxs-lookup"><span data-stu-id="a35e3-218">To help with this variety of formats and properties, the Metadata Working Group (MWG) was formed.</span></span> <span data-ttu-id="a35e3-219">O objetivo do MWG é fornecer diretrizes que garantam a interoperabilidade entre uma ampla variedade de plataformas, aplicativos e dispositivos.</span><span class="sxs-lookup"><span data-stu-id="a35e3-219">The aim of the MWG is to provide guidelines that ensure interoperability among a wide variety of platforms, applications, and devices.</span></span> <span data-ttu-id="a35e3-220">As diretrizes estabelecidas pelo MWG se aplicam aos campos de metadados XMP, EXIF e IPTC e aos formatos de imagem JPEG, TIFF e PSD.</span><span class="sxs-lookup"><span data-stu-id="a35e3-220">The guidelines established by the MWG apply to the XMP, Exif, and IPTC metadata fields, and to the JPEG, TIFF, and PSD image formats.</span></span>

<span data-ttu-id="a35e3-221">No Windows 7, o manipulador de metadados de fotos e a camada de política de metadados foram atualizados para ler e gravar metadados de imagem de acordo com as diretrizes estabelecidas pelo MWG.</span><span class="sxs-lookup"><span data-stu-id="a35e3-221">In Windows 7, the photo metadata handler and the metadata policy layer have been updated to read and write image metadata according to the guidelines established by the MWG.</span></span> <span data-ttu-id="a35e3-222">Para obter mais informações sobre o grupo de trabalho de metadados (MWG), veja as [diretrizes de metadados estabelecidas](https://s3.amazonaws.com/software.tagthatphoto.com/docs/mwg_guidance.pdf).</span><span class="sxs-lookup"><span data-stu-id="a35e3-222">For more information on the Metadata Working Group (MWG), view the [established metadata guidelines](https://s3.amazonaws.com/software.tagthatphoto.com/docs/mwg_guidance.pdf).</span></span>

### <a name="windows-7-features-supported-on-windows-vista-and-windows-server-2008"></a><span data-ttu-id="a35e3-223">Recursos do Windows 7 com suporte no Windows Vista e no Windows Server 2008</span><span class="sxs-lookup"><span data-stu-id="a35e3-223">Windows 7 features supported on Windows Vista and Windows Server 2008</span></span>

<span data-ttu-id="a35e3-224">A [atualização de plataforma para o Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md) é um conjunto de bibliotecas de tempo de execução que permite aos desenvolvedores direcionar aplicativos para o Windows 7 e o Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="a35e3-224">The [Platform Update for Windows Vista](../win7ip/platform-update-for-windows-vista-portal.md) is a set of run-time libraries that enables developers to target applications to both Windows 7 and Windows Vista.</span></span> <span data-ttu-id="a35e3-225">A atualização de plataforma para o Windows Server 2008 é um conjunto de bibliotecas de tempo de execução que permite aos desenvolvedores direcionar aplicativos para o Windows Server 2008 R2 e o Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="a35e3-225">The Platform Update for Windows Server 2008 is a set of run-time libraries that enables developers to target applications to both Windows Server 2008 R2 and Windows Server 2008.</span></span> <span data-ttu-id="a35e3-226">A atualização da plataforma para Windows Vista e a atualização da plataforma para Windows Server 2008 estarão disponíveis para todos os clientes do Windows Vista e do Windows Server 2008 por meio de Windows Update.</span><span class="sxs-lookup"><span data-stu-id="a35e3-226">The Platform Update for Windows Vista and the Platform Update for Windows Server 2008 will be available to all Windows Vista and Windows Server 2008 customers through Windows Update.</span></span> <span data-ttu-id="a35e3-227">Aplicativos de terceiros que exigem atualização de plataforma para Windows Vista ou atualização de plataforma para Windows Server 2008 podem ter Windows Update detectar se a atualização necessária está instalada; Se não estiver, Windows Update será baixado e instalado em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="a35e3-227">Third-party applications that require Platform Update for Windows Vista or Platform Update for Windows Server 2008 can have Windows Update detect whether the required updated is installed; if it is not, Windows Update will download and install it in the background.</span></span> <span data-ttu-id="a35e3-228">Para obter mais informações sobre as duas atualizações, consulte Atualização de plataforma para Windows Vista</span><span class="sxs-lookup"><span data-stu-id="a35e3-228">For more information about both updates, see Platform Update for Windows Vista</span></span>

 

 
