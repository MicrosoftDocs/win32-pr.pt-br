---
description: Este tópico apresenta a linguagem de consulta de metadados para o Windows Imaging Component (WIC).
ms.assetid: 5ffa0a69-b53d-4be3-b802-deaaa743e6bd
title: Visão geral da linguagem de consulta de metadados
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: ee4b55bdc7079565f98411e28977d3d8c41e191f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "104559339"
---
# <a name="metadata-query-language-overview"></a><span data-ttu-id="61f1e-103">Visão geral da linguagem de consulta de metadados</span><span class="sxs-lookup"><span data-stu-id="61f1e-103">Metadata Query Language Overview</span></span>

<span data-ttu-id="61f1e-104">Este tópico apresenta a linguagem de consulta de metadados para o Windows Imaging Component (WIC).</span><span class="sxs-lookup"><span data-stu-id="61f1e-104">This topic introduces the metadata query language for Windows Imaging Component (WIC).</span></span> <span data-ttu-id="61f1e-105">Você usa a linguagem de consulta de metadados para criar expressões que localizam dados específicos (itens de metadados) e locais (blocos de metadados) dentro dos metadados de uma imagem.</span><span class="sxs-lookup"><span data-stu-id="61f1e-105">You use the metadata query language to create expressions that find specific data (metadata items) and locations (metadata blocks) within the metadata of an image.</span></span>

<span data-ttu-id="61f1e-106">Este tópico inclui as seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="61f1e-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="61f1e-107">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="61f1e-107">Prerequisites</span></span>](#prerequisites)
-   [<span data-ttu-id="61f1e-108">Introdução</span><span class="sxs-lookup"><span data-stu-id="61f1e-108">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="61f1e-109">Anatomia de uma expressão de caminho</span><span class="sxs-lookup"><span data-stu-id="61f1e-109">Anatomy of a Path Expression</span></span>](#anatomy-of-a-path-expression)
    -   [<span data-ttu-id="61f1e-110">Bloquear Seleção</span><span class="sxs-lookup"><span data-stu-id="61f1e-110">Block Selection</span></span>](#block-selection)
    -   [<span data-ttu-id="61f1e-111">Seleção de item</span><span class="sxs-lookup"><span data-stu-id="61f1e-111">Item Selection</span></span>](#item-selection)
    -   [<span data-ttu-id="61f1e-112">Caractere de escape</span><span class="sxs-lookup"><span data-stu-id="61f1e-112">Escape Character</span></span>](#escape-character)
    -   [<span data-ttu-id="61f1e-113">Exemplos de expressões</span><span class="sxs-lookup"><span data-stu-id="61f1e-113">Sample Expressions</span></span>](#sample-expressions)
-   [<span data-ttu-id="61f1e-114">Expressões de política de metadados de foto</span><span class="sxs-lookup"><span data-stu-id="61f1e-114">Photo Metadata Policy Expressions</span></span>](#photo-metadata-policy-expressions)
-   [<span data-ttu-id="61f1e-115">Resumo da linguagem de consulta de metadados</span><span class="sxs-lookup"><span data-stu-id="61f1e-115">Metadata Query Language Summary</span></span>](#metadata-query-language-summary)
-   [<span data-ttu-id="61f1e-116">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="61f1e-116">Related topics</span></span>](#related-topics)

## <a name="prerequisites"></a><span data-ttu-id="61f1e-117">Pré-requisitos</span><span class="sxs-lookup"><span data-stu-id="61f1e-117">Prerequisites</span></span>

<span data-ttu-id="61f1e-118">Para entender este tópico, você deve estar familiarizado com o sistema de metadados do WIC, conforme descrito na [visão geral dos metadados do WIC](-wic-about-metadata.md) e no acesso aos metadados, conforme descrito na [visão geral da leitura e gravação de metadados de imagem](-wic-codec-readingwritingmetadata.md).</span><span class="sxs-lookup"><span data-stu-id="61f1e-118">To understand this topic, you should be familiar with the WIC metadata system as described in the [WIC Metadata Overview](-wic-about-metadata.md) and accessing metadata, as described in the [Overview of Reading and Writing Image Metadata](-wic-codec-readingwritingmetadata.md).</span></span>

## <a name="introduction"></a><span data-ttu-id="61f1e-119">Introdução</span><span class="sxs-lookup"><span data-stu-id="61f1e-119">Introduction</span></span>

<span data-ttu-id="61f1e-120">Você interage com a plataforma de metadados principalmente por meio de dois componentes de Component Object Model (COM): um leitor de consulta, representado pela interface [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) , e um gravador de consulta, representado pela interface [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) .</span><span class="sxs-lookup"><span data-stu-id="61f1e-120">You interact with the metadata platform primarily through two Component Object Model (COM) components: a query reader, represented by the [**IWICMetadataQueryReader**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataqueryreader) interface, and a query writer, represented by the [**IWICMetadataQueryWriter**](/windows/desktop/api/Wincodec/nn-wincodec-iwicmetadataquerywriter) interface.</span></span> <span data-ttu-id="61f1e-121">Esses componentes permitem que você leia ou grave metadados usando a linguagem de consulta de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-121">These components enable you to read or write metadata using the metadata query language.</span></span> <span data-ttu-id="61f1e-122">A linguagem de consulta descreve a sintaxe de uma expressão de caminho e os componentes de consulta usam essa expressão de caminho para acessar os metadados desejados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-122">The query language describes the syntax of a path expression and the query components use this path expression to access the desired metadata.</span></span> <span data-ttu-id="61f1e-123">Esta expressão de caminho descreve o local de um item ou bloco de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-123">This path expression describes the location of a metadata block or item.</span></span>

<span data-ttu-id="61f1e-124">Um bloco de metadados é um grupo nomeado de metadados em um formato específico.</span><span class="sxs-lookup"><span data-stu-id="61f1e-124">A metadata block is a named group of metadata in a specific format.</span></span> <span data-ttu-id="61f1e-125">Um bloco de metadados pode conter itens de metadados individuais, como um autor ou tempo de criação e blocos de metadados adicionais.</span><span class="sxs-lookup"><span data-stu-id="61f1e-125">A metadata block can contain individual metadata items such as an author or creation time and additional metadata blocks.</span></span> <span data-ttu-id="61f1e-126">O nome de um bloco de metadados é determinado por seu formato.</span><span class="sxs-lookup"><span data-stu-id="61f1e-126">A metadata block's name is determined by its format.</span></span> <span data-ttu-id="61f1e-127">Por exemplo, um bloco de metadados contendo metadados App1 seria nomeado "app1".</span><span class="sxs-lookup"><span data-stu-id="61f1e-127">For example, a metadata block containing App1 metadata would be named "app1".</span></span> <span data-ttu-id="61f1e-128">Os formatos de metadados comuns incluem App1, EXIF, IFD e XMP.</span><span class="sxs-lookup"><span data-stu-id="61f1e-128">Common metadata formats include App1, Exif, IFD, and XMP.</span></span>

<span data-ttu-id="61f1e-129">Um item de metadados é um par de nome/valor que descreve características como autor, título e classificação.</span><span class="sxs-lookup"><span data-stu-id="61f1e-129">A metadata item is a name/value pair that describes characteristics like author, title, and rating.</span></span>

<span data-ttu-id="61f1e-130">Uma expressão de caminho contém um ou mais nomes de blocos de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-130">A path expression contains one or more metadata block names.</span></span> <span data-ttu-id="61f1e-131">Ele também pode especificar um item de metadados dentro de um bloco de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-131">It can also specify a metadata item within a metadata block.</span></span> <span data-ttu-id="61f1e-132">A expressão de caminho a seguir representa um bloco App1 que contém um bloco IFD que contém o item de metadados:</span><span class="sxs-lookup"><span data-stu-id="61f1e-132">The following path expression represents an App1 block which contains an IFD block which contains the metadata item:</span></span>

-   <span data-ttu-id="61f1e-133">/App1/IFD/{UShort = 18249}</span><span class="sxs-lookup"><span data-stu-id="61f1e-133">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="61f1e-134">O diagrama a seguir ilustra a composição de um exemplo de imagem JPEG com quatro blocos de metadados raiz: App0, App1, XMP e um bloco desconhecido.</span><span class="sxs-lookup"><span data-stu-id="61f1e-134">The following diagram illustrates the makeup of an example JPEG image with four root metadata blocks: App0, App1, XMP, and an unknown block.</span></span> <span data-ttu-id="61f1e-135">Cada item realçado anota o tipo de metadados (bloco ou item) e a expressão de consulta usada para recuperar os dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-135">Each highlighted item notes the type of metadata (block or item) and the query expression used to retrieve the data.</span></span>

![imagem JPEG com texto explicativo de metadados](graphics/jpegwithcallouts.png)

> [!Note]  
> <span data-ttu-id="61f1e-137">O conteúdo deste diagrama é referenciado em todo este documento e é usado em muitos dos exemplos.</span><span class="sxs-lookup"><span data-stu-id="61f1e-137">The contents of this diagram are referenced throughout this document and are used in many of the examples.</span></span>

 

## <a name="anatomy-of-a-path-expression"></a><span data-ttu-id="61f1e-138">Anatomia de uma expressão de caminho</span><span class="sxs-lookup"><span data-stu-id="61f1e-138">Anatomy of a Path Expression</span></span>

<span data-ttu-id="61f1e-139">Para acessar metadados usando as APIs do WIC, uma expressão de consulta totalmente qualificada deve ser usada na maioria dos casos.</span><span class="sxs-lookup"><span data-stu-id="61f1e-139">To access metadata using the WIC APIs, a fully qualified query expression must be used in most cases.</span></span> <span data-ttu-id="61f1e-140">Este tópico discute expressões totalmente qualificadas para acessar metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-140">This topic discusses fully qualified expressions for accessing metadata.</span></span> <span data-ttu-id="61f1e-141">Se você precisar de informações sobre os casos em que as expressões não totalmente qualificadas são usadas, consulte a seção expressão de política de metadados de foto mais adiante neste documento.</span><span class="sxs-lookup"><span data-stu-id="61f1e-141">If you need information about the cases in which non-fully qualified expressions are used, refer to the Photo Metadata Policy Expression section later in this document.</span></span>

<span data-ttu-id="61f1e-142">O que é uma expressão de consulta totalmente qualificada?</span><span class="sxs-lookup"><span data-stu-id="61f1e-142">What is a fully qualified query expression?</span></span> <span data-ttu-id="61f1e-143">No WIC, uma expressão totalmente qualificada é uma cadeia de caracteres que começa com a barra de caracteres de caminho (/), seguida por um caminho de navegação para um bloco de metadados ou um item de metadados específico.</span><span class="sxs-lookup"><span data-stu-id="61f1e-143">In WIC, a fully qualified expression is a string that begins with the path character slash (/), followed by a navigation path to a metadata block or a specific metadata item.</span></span> <span data-ttu-id="61f1e-144">Cada etapa dentro do caminho de navegação é separada por uma barra, formando uma expressão para acessar um bloco de metadados ou um item de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-144">Each step within the navigation path is separated by a slash, forming an expression for accessing a metadata block or a metadata item.</span></span> <span data-ttu-id="61f1e-145">Por exemplo, a seguir está uma expressão de consulta totalmente qualificada que acessa a classificação de fotos da Microsoft em um bloco IFD que está aninhado em um bloco APP1:</span><span class="sxs-lookup"><span data-stu-id="61f1e-145">For example, the following is a fully qualified query expression that accesses the Microsoft Photo Rating in an IFD block that is nested in an App1 block:</span></span>

-   <span data-ttu-id="61f1e-146">/App1/IFD/{UShort = 18249}</span><span class="sxs-lookup"><span data-stu-id="61f1e-146">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="61f1e-147">Quando o WIC analisa essa expressão, ele primeiro procura o bloco de metadados App1 nos metadados da imagem.</span><span class="sxs-lookup"><span data-stu-id="61f1e-147">When WIC parses this expression, it first searches for the App1 metadata block within the image's metadata.</span></span> <span data-ttu-id="61f1e-148">Se o bloco App1 for encontrado, ele continuará sua pesquisa procurando o bloco de metadados IFD aninhado.</span><span class="sxs-lookup"><span data-stu-id="61f1e-148">If the App1 block is found, it continues its search looking for the nested IFD metadata block.</span></span> <span data-ttu-id="61f1e-149">Se o bloco IFD for encontrado, ele procurará o item de metadados específico, nesse caso, a classificação MicrosoftPhoto sob a marca 18249, dentro do bloco de metadados IFD.</span><span class="sxs-lookup"><span data-stu-id="61f1e-149">If the IFD block is found, it then looks for the specific metadata item, in this case the MicrosoftPhoto rating under the tag 18249, within the IFD metadata block.</span></span> <span data-ttu-id="61f1e-150">Se, a qualquer momento, o WIC não encontrar um bloco ou item de metadados, ele anulará a consulta.</span><span class="sxs-lookup"><span data-stu-id="61f1e-150">If at any time WIC does not find a metadata block or item, it aborts the query.</span></span>

### <a name="block-selection"></a><span data-ttu-id="61f1e-151">Bloquear seleção</span><span class="sxs-lookup"><span data-stu-id="61f1e-151">Block Selection</span></span>

<span data-ttu-id="61f1e-152">A expressão de consulta de metadados do WIC mais simples é uma expressão para obter um leitor de consulta/gravador para um bloco de metadados específico.</span><span class="sxs-lookup"><span data-stu-id="61f1e-152">The simplest WIC metadata query expression is an expression to obtain a query reader/writer for a specific metadata block.</span></span> <span data-ttu-id="61f1e-153">A obtenção de um leitor/gravador de consulta permite direcionar consultas subsequentes diretamente a um bloco de metadados aninhado sem lidar com seu bloco pai.</span><span class="sxs-lookup"><span data-stu-id="61f1e-153">Obtaining a query reader/writer enables you to direct subsequent queries directly to a nested metadata block without dealing with its parent block.</span></span> <span data-ttu-id="61f1e-154">Uma expressão de consulta de seleção de bloco é um caminho de navegação para o bloco de metadados desejado.</span><span class="sxs-lookup"><span data-stu-id="61f1e-154">A block selection query expression is a navigation path to the desired metadata block.</span></span> <span data-ttu-id="61f1e-155">Por exemplo, na ilustração anterior, há cinco blocos de metadados, dois dos quais estão aninhados em outros blocos de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-155">For example, in the previous illustration there are five metadata blocks, two of which are nested in other metadata blocks.</span></span> <span data-ttu-id="61f1e-156">A seguir estão as expressões de caminho para cada bloco de metadados no exemplo de JPEG:</span><span class="sxs-lookup"><span data-stu-id="61f1e-156">The following are the path expressions to each metadata block in the JPEG example:</span></span>

-   <span data-ttu-id="61f1e-157">/app0</span><span class="sxs-lookup"><span data-stu-id="61f1e-157">/app0</span></span>
-   <span data-ttu-id="61f1e-158">/App1</span><span class="sxs-lookup"><span data-stu-id="61f1e-158">/app1</span></span>
-   <span data-ttu-id="61f1e-159">/app1/ifd</span><span class="sxs-lookup"><span data-stu-id="61f1e-159">/app1/ifd</span></span>
-   <span data-ttu-id="61f1e-160">/app1/ifd/exif</span><span class="sxs-lookup"><span data-stu-id="61f1e-160">/app1/ifd/exif</span></span>
-   <span data-ttu-id="61f1e-161">/xmp</span><span class="sxs-lookup"><span data-stu-id="61f1e-161">/xmp</span></span>

<span data-ttu-id="61f1e-162">Quando você usa um leitor de consulta/gravador para executar uma consulta, ele retorna um novo leitor/gravador de consulta que realiza consultas de serviços dentro do escopo do bloco de metadados especificado.</span><span class="sxs-lookup"><span data-stu-id="61f1e-162">When you use a query reader/writer to execute a query, it returns a new query reader/writer that services queries within the scope of the specified metadata block.</span></span> <span data-ttu-id="61f1e-163">Por exemplo, se você executar a consulta "/app1", um novo leitor de consulta será obtido e as consultas ao novo leitor serão relativas ao bloco App1.</span><span class="sxs-lookup"><span data-stu-id="61f1e-163">For instance, if you execute the query "/app1" , a new query reader is obtained and queries to the new reader are relative to the App1 block.</span></span> <span data-ttu-id="61f1e-164">Isso significa que a consulta "/IFD" é válida para o novo leitor porque o bloco App1 contém um bloco IFD.</span><span class="sxs-lookup"><span data-stu-id="61f1e-164">This means that the query "/ifd" is valid for the new reader because the App1 block contains an IFD block.</span></span> <span data-ttu-id="61f1e-165">No entanto, "/XMP" não funcionaria porque este bloco App1 não contém um bloco de metadados XMP.</span><span class="sxs-lookup"><span data-stu-id="61f1e-165">However, "/xmp" would not work because this App1 block does not contain an XMP metadata block.</span></span>

<span data-ttu-id="61f1e-166">A linguagem de consulta também dá suporte a uma notação de índice.</span><span class="sxs-lookup"><span data-stu-id="61f1e-166">The query language also supports an index notation.</span></span> <span data-ttu-id="61f1e-167">A notação de índice fornece acesso a um bloco de metadados específico quando há vários blocos do mesmo tipo.</span><span class="sxs-lookup"><span data-stu-id="61f1e-167">Index notation provides access to a specific metadata block when multiple blocks of the same type exist.</span></span> <span data-ttu-id="61f1e-168">Para o exemplo de JPEG, a seguinte expressão de caminho indexado pode ser usada:</span><span class="sxs-lookup"><span data-stu-id="61f1e-168">For the JPEG example, the following indexed path expression can be used:</span></span>

-   <span data-ttu-id="61f1e-169">/\[\]IFD 0 App1 \[ / \] 0</span><span class="sxs-lookup"><span data-stu-id="61f1e-169">/\[0\]app1/\[0\]ifd</span></span>

<span data-ttu-id="61f1e-170">Na linguagem de consulta, todos os índices começam em zero.</span><span class="sxs-lookup"><span data-stu-id="61f1e-170">In the query language, all indexes start at zero.</span></span> <span data-ttu-id="61f1e-171">Na expressão anterior, as primeiras zero consultas para o primeiro bloco App1 e o segundo zero consultam o primeiro bloco de IFD aninhado.</span><span class="sxs-lookup"><span data-stu-id="61f1e-171">In the previous expression, the first zero queries for the first App1 block and the second zero queries the first nested IFD block.</span></span> <span data-ttu-id="61f1e-172">A notação de índice ainda pode ser usada mesmo quando vários blocos do mesmo tipo não existem.</span><span class="sxs-lookup"><span data-stu-id="61f1e-172">Index notation can still be used even when multiple blocks of the same type do not exist.</span></span> <span data-ttu-id="61f1e-173">Se o exemplo JPEG incluísse um segundo bloco App1 com um bloco de IFD inserido, a expressão "/ \[ 1 \] App1/IFD" seria usada para acessar o segundo bloco App1.</span><span class="sxs-lookup"><span data-stu-id="61f1e-173">If the example JPEG included a second App1 block with an embedded IFD block, the expression "/\[1\]app1/ifd" would be used to access the second App1 block.</span></span>

<span data-ttu-id="61f1e-174">A notação de índice se torna mais comum ao lidar com partes de texto PNG, pois é provável que a imagem PNG tenha mais de uma parte de texto.</span><span class="sxs-lookup"><span data-stu-id="61f1e-174">Index notation becomes more common when dealing with PNG tEXt chunks because it is likely that the PNG image will have more than one tEXt chunk.</span></span>

> [!Note]  
> <span data-ttu-id="61f1e-175">Não há suporte para índices de matriz multidimensional.</span><span class="sxs-lookup"><span data-stu-id="61f1e-175">Multidimensional array indexes are not supported.</span></span>

 

### <a name="item-selection"></a><span data-ttu-id="61f1e-176">Seleção de item</span><span class="sxs-lookup"><span data-stu-id="61f1e-176">Item Selection</span></span>

<span data-ttu-id="61f1e-177">Você pode acessar os itens de metadados em um bloco de metadados criando as expressões de seleção de bloco.</span><span class="sxs-lookup"><span data-stu-id="61f1e-177">You can access the metadata items in a metadata block by building on the block selection expressions.</span></span> <span data-ttu-id="61f1e-178">Considere as propriedades XMP e classificação de fotos da Microsoft no exemplo JPEG.</span><span class="sxs-lookup"><span data-stu-id="61f1e-178">Consider the XMP and Microsoft Photo rating properties in the JPEG example.</span></span> <span data-ttu-id="61f1e-179">Esses metadados existem em dois blocos de metadados: os blocos App1/IFD e XMP.</span><span class="sxs-lookup"><span data-stu-id="61f1e-179">This metadata exists in two metadata blocks: the App1/IFD and XMP blocks.</span></span> <span data-ttu-id="61f1e-180">Portanto, mais de uma expressão pode ser usada para acessar os mesmos dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-180">Therefore, more than one expression can be used to access the same data.</span></span> <span data-ttu-id="61f1e-181">A expressão a seguir acessa a classificação MicrosoftPhoto no bloco XMP:</span><span class="sxs-lookup"><span data-stu-id="61f1e-181">The following expression accesses the MicrosoftPhoto rating in the XMP block:</span></span>

-   <span data-ttu-id="61f1e-182">/XMP/XMP: classificação</span><span class="sxs-lookup"><span data-stu-id="61f1e-182">/xmp/xmp:Rating</span></span>

<span data-ttu-id="61f1e-183">A parte "XMP:" da expressão é um identificador amigável de esquema.</span><span class="sxs-lookup"><span data-stu-id="61f1e-183">The "xmp:" part of the expression is a schema friendly identifier.</span></span> <span data-ttu-id="61f1e-184">O XMP é um padrão extensível e permite que entidades de terceiros publiquem seus próprios esquemas que definem como armazenar determinados itens de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-184">XMP is an extensible standard and allows third party entities to publish their own schemas which define how to store certain metadata items.</span></span> <span data-ttu-id="61f1e-185">Um esquema XMP é totalmente identificado por uma URL, mas o WIC fornece um conjunto de identificadores amigáveis para esquemas bem conhecidos.</span><span class="sxs-lookup"><span data-stu-id="61f1e-185">An XMP schema is fully identified by a URL, but WIC provides a set of friendly identifiers for well-known schemas.</span></span> <span data-ttu-id="61f1e-186">Para obter mais informações, consulte o tópico de [consultas de metadados do formato de imagem nativa](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="61f1e-186">For more information, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

<span data-ttu-id="61f1e-187">Para imagens JPEG, as informações de classificação também podem ser armazenadas no bloco de IFD aninhado App1.</span><span class="sxs-lookup"><span data-stu-id="61f1e-187">For JPEG images, rating information can also be stored within the App1 nested IFD block.</span></span> <span data-ttu-id="61f1e-188">No entanto, diferentemente do exemplo de classificação XMP, o bloco IFD não usa um nome de esquema para acessar as informações de classificação.</span><span class="sxs-lookup"><span data-stu-id="61f1e-188">However, unlike the XMP rating example, the IFD block does not use a schema name to access the rating information.</span></span> <span data-ttu-id="61f1e-189">Em vez disso, use uma expressão de dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-189">You use a data expression instead.</span></span> <span data-ttu-id="61f1e-190">A expressão a seguir é usada para acessar a classificação MicrosoftPhoto no bloco de IFD aninhado do APP1:</span><span class="sxs-lookup"><span data-stu-id="61f1e-190">The following expression is used to access the MicrosoftPhoto rating in the App1 nested IFD block:</span></span>

-   <span data-ttu-id="61f1e-191">/App1/IFD/{UShort = 18249}</span><span class="sxs-lookup"><span data-stu-id="61f1e-191">/app1/ifd/{ushort=18249}</span></span>

<span data-ttu-id="61f1e-192">Nessa expressão, a parte "/app1/IFD" da expressão é o caminho de navegação para o bloco IFD (conforme discutido anteriormente na seção seleção de bloco).</span><span class="sxs-lookup"><span data-stu-id="61f1e-192">In this expression, the "/app1/ifd" part of the expression is the navigation path to the IFD block (as discussed previously in the Block Selection section).</span></span> <span data-ttu-id="61f1e-193">A segunda parte da expressão "/{UShort = 18249}" acessa os dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-193">The second part of the expression "/{ushort=18249}" accesses the data.</span></span> <span data-ttu-id="61f1e-194">Essa parte da expressão instrui o analisador de consulta a localizar os dados inseridos na marca curta sem sinal que tem o identificador de marca 18249.</span><span class="sxs-lookup"><span data-stu-id="61f1e-194">This part of the expression instructs the query parser to find the data embedded in the unsigned short tag that has the tag identifier 18249.</span></span>

> [!Note]  
> <span data-ttu-id="61f1e-195">Para obter uma lista de formatos de metadados comuns com suporte em cada formato de imagem em, consulte o tópico de [consultas de metadados de formato de imagem nativa](-wic-native-image-format-metadata-queries.md) .</span><span class="sxs-lookup"><span data-stu-id="61f1e-195">For a list of common metadata formats supported by each image format at, see the [Native Image Format Metadata Queries](-wic-native-image-format-metadata-queries.md) topic.</span></span>

 

<span data-ttu-id="61f1e-196">{Ushort = 18249} é uma expressão de dados e pode receber várias formas.</span><span class="sxs-lookup"><span data-stu-id="61f1e-196">The {ushort=18249} is a data expression and can take several forms.</span></span> <span data-ttu-id="61f1e-197">Uma expressão de dados é uma expressão de duas partes que contém a marca ou a chave de metadados solicitada, neste caso, "18249", e o tipo de dados da chave, neste caso, "UShort".</span><span class="sxs-lookup"><span data-stu-id="61f1e-197">A data expression is a two part expression containing the requested metadata tag or key, in this case "18249", and the data type of the key, in this case "ushort".</span></span> <span data-ttu-id="61f1e-198">As duas partes são separadas por um sinal de igual (=).</span><span class="sxs-lookup"><span data-stu-id="61f1e-198">The two parts are separated by an equal sign (=).</span></span> <span data-ttu-id="61f1e-199">WICsupports a maioria dos tipos de dados comuns de C/C++.</span><span class="sxs-lookup"><span data-stu-id="61f1e-199">WICsupports a majority of the common C/C++ data types.</span></span> <span data-ttu-id="61f1e-200">Os seguintes tipos de dados são aceitos pela linguagem de consulta:</span><span class="sxs-lookup"><span data-stu-id="61f1e-200">The following data types are accepted by the query language:</span></span>

-   <span data-ttu-id="61f1e-201">char</span><span class="sxs-lookup"><span data-stu-id="61f1e-201">char</span></span>
-   <span data-ttu-id="61f1e-202">uchar</span><span class="sxs-lookup"><span data-stu-id="61f1e-202">uchar</span></span>
-   <span data-ttu-id="61f1e-203">short</span><span class="sxs-lookup"><span data-stu-id="61f1e-203">short</span></span>
-   <span data-ttu-id="61f1e-204">ushort</span><span class="sxs-lookup"><span data-stu-id="61f1e-204">ushort</span></span>
-   <span data-ttu-id="61f1e-205">long</span><span class="sxs-lookup"><span data-stu-id="61f1e-205">long</span></span>
-   <span data-ttu-id="61f1e-206">ulong</span><span class="sxs-lookup"><span data-stu-id="61f1e-206">ulong</span></span>
-   <span data-ttu-id="61f1e-207">INT</span><span class="sxs-lookup"><span data-stu-id="61f1e-207">int</span></span>
-   <span data-ttu-id="61f1e-208">uint</span><span class="sxs-lookup"><span data-stu-id="61f1e-208">uint</span></span>
-   <span data-ttu-id="61f1e-209">longlong</span><span class="sxs-lookup"><span data-stu-id="61f1e-209">longlong</span></span>
-   <span data-ttu-id="61f1e-210">FLOAT</span><span class="sxs-lookup"><span data-stu-id="61f1e-210">float</span></span>
-   <span data-ttu-id="61f1e-211">double</span><span class="sxs-lookup"><span data-stu-id="61f1e-211">double</span></span>
-   <span data-ttu-id="61f1e-212">str</span><span class="sxs-lookup"><span data-stu-id="61f1e-212">str</span></span>
-   <span data-ttu-id="61f1e-213">wstr</span><span class="sxs-lookup"><span data-stu-id="61f1e-213">wstr</span></span>
-   <span data-ttu-id="61f1e-214">guid</span><span class="sxs-lookup"><span data-stu-id="61f1e-214">guid</span></span>
-   <span data-ttu-id="61f1e-215">bool</span><span class="sxs-lookup"><span data-stu-id="61f1e-215">bool</span></span>

> [!Note]  
> <span data-ttu-id="61f1e-216">Essa lista especifica apenas os tipos de dados com suporte pela linguagem de consulta de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-216">This list only specifies the data types supported by the metadata query language.</span></span> <span data-ttu-id="61f1e-217">Use esses tipos de dados ao criar uma expressão de dados de consulta de metadados, como {UShort = 18249}.</span><span class="sxs-lookup"><span data-stu-id="61f1e-217">Use these data types when creating a metadata query data expression such as {ushort=18249}.</span></span> <span data-ttu-id="61f1e-218">O WIC retorna o valor do item de metadados na forma de PROPVARIANT, que define seu próprio sistema de tipos.</span><span class="sxs-lookup"><span data-stu-id="61f1e-218">The WIC returns the metadata item's value in the form of PROPVARIANT, which defines its own type system.</span></span>

 

<span data-ttu-id="61f1e-219">O "18249" no exemplo é a marca de dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-219">The "18249" in the example is the data tag.</span></span> <span data-ttu-id="61f1e-220">Esse número específico é definido pela Microsoft para conter a classificação MicrosoftPhoto.</span><span class="sxs-lookup"><span data-stu-id="61f1e-220">This particular number is defined by Microsoft to contain the MicrosoftPhoto rating.</span></span> <span data-ttu-id="61f1e-221">A marca de dados pode ser qualquer número, Cadeia de caracteres ou GUID, dependendo do item de dados que você está procurando</span><span class="sxs-lookup"><span data-stu-id="61f1e-221">The data tag can be any number, string, or GUID depending on the data item you are looking for</span></span>

<span data-ttu-id="61f1e-222">Ao contrário do exemplo de classificação XMP, não há nenhuma colisão de nome para o valor de classificação no bloco App1/IFD.</span><span class="sxs-lookup"><span data-stu-id="61f1e-222">Unlike the XMP Rating example, there is no name collision for the rating value in the App1/IFD block.</span></span> <span data-ttu-id="61f1e-223">Isso ocorre porque o valor de classificação XMP é realmente armazenado em uma marca UShort diferente, 18246.</span><span class="sxs-lookup"><span data-stu-id="61f1e-223">This is because the XMP rating value is actually stored under a different ushort tag, 18246.</span></span> <span data-ttu-id="61f1e-224">Assim, a expressão para acessar a classificação XMP no bloco App1/IFD é:</span><span class="sxs-lookup"><span data-stu-id="61f1e-224">Thus, the expression to access the XMP rating in the App1/IFD block is:</span></span>

-   <span data-ttu-id="61f1e-225">/App1/IFD/{UShort = 18246}</span><span class="sxs-lookup"><span data-stu-id="61f1e-225">/app1/ifd/{ushort=18246}</span></span>

> [!Note]  
> <span data-ttu-id="61f1e-226">Para obter uma descrição formal da linguagem de consulta de metadados, consulte a seção de resumo da linguagem de consulta de metadados mais adiante neste documento.</span><span class="sxs-lookup"><span data-stu-id="61f1e-226">For a formal description of the metadata query language, see the Metadata Query Language Summary section later in this document.</span></span>

 

### <a name="escape-character"></a><span data-ttu-id="61f1e-227">Caractere de escape</span><span class="sxs-lookup"><span data-stu-id="61f1e-227">Escape Character</span></span>

<span data-ttu-id="61f1e-228">A linguagem de consulta não diferencia maiúsculas de minúsculas e trata todos os caracteres em minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61f1e-228">The query language is not case sensitive and treats all characters as lowercase.</span></span> <span data-ttu-id="61f1e-229">No entanto, alguns formatos de metadados (como XMP) diferenciam maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61f1e-229">However, some metadata formats (such as XMP) are case sensitive.</span></span> <span data-ttu-id="61f1e-230">Ao trabalhar com um formato de metadados que diferencia maiúsculas de minúsculas, use o caractere de barra invertida ( \\ ) quando desejar especificar um caractere maiúsculo.</span><span class="sxs-lookup"><span data-stu-id="61f1e-230">When working with a case-sensitive metadata format, use the backslash (\\) character when you want to specify an uppercase character.</span></span>

<span data-ttu-id="61f1e-231">O caractere de escape é consumido pelo analisador de idioma e o seguinte caractere que o segue é interpretado diretamente.</span><span class="sxs-lookup"><span data-stu-id="61f1e-231">The escape character is consumed by the language parser and the following character that follows it is interpreted directly.</span></span> <span data-ttu-id="61f1e-232">Por exemplo, a expressão {Char = \\ \\ } é resolvida como ' \\ ' e {Char = \\ C} é resolvido como um C em maiúsculas. Sem o caractere de escape, {Char = \\ } seria uma expressão inválida e {Char = C} seria interpretado como um C em minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61f1e-232">For example, the expression {char=\\\\} is resolved as '\\'and {char=\\C} is resolved as an uppercase C. Without the escape character, {char=\\} would be an invalid expression and {char=C} would be interpreted as a lowercase c.</span></span> <span data-ttu-id="61f1e-233">Certifique-se de usar o caractere de escape de barra invertida antes de todas as letras maiúsculas nos formatos de metadados diferenciarem maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="61f1e-233">Be sure to use the backslash escape character before all uppercase letters in metadata formats that are case sensitive.</span></span>

### <a name="sample-expressions"></a><span data-ttu-id="61f1e-234">Exemplos de expressões</span><span class="sxs-lookup"><span data-stu-id="61f1e-234">Sample Expressions</span></span>

<span data-ttu-id="61f1e-235">A tabela a seguir fornece algumas expressões de exemplo e descrições de suas interpretações pelo analisador de linguagem de consulta.</span><span class="sxs-lookup"><span data-stu-id="61f1e-235">The following table provides some example expressions and descriptions of their interpretations by the query language parser.</span></span> 

| <span data-ttu-id="61f1e-236">Expression</span><span class="sxs-lookup"><span data-stu-id="61f1e-236">Expression</span></span>                     | <span data-ttu-id="61f1e-237">Descrição</span><span class="sxs-lookup"><span data-stu-id="61f1e-237">Description</span></span>                                                                                                                                                                                                                                                                                                                                                      |
|--------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="61f1e-238">IFD/XMP/EXIF: autor</span><span class="sxs-lookup"><span data-stu-id="61f1e-238">ifd/xmp/exif:Author</span></span>            | <span data-ttu-id="61f1e-239">Corresponde ao seguinte caminho de navegação: IFD Block-> XMP Block-> Propriedade "Author" no esquema "EXIF".</span><span class="sxs-lookup"><span data-stu-id="61f1e-239">Corresponds to the following navigation path: IFD block -> XMP block -> "Author" property in the "Exif" schema.</span></span>                                                                                                                                                                                                                                            |
| <span data-ttu-id="61f1e-240">/\[1 \] IFD/ \[ 0 \] XMP/EXIF: autor</span><span class="sxs-lookup"><span data-stu-id="61f1e-240">/\[1\]ifd/\[0\]xmp/exif:Author</span></span> | <span data-ttu-id="61f1e-241">O mesmo que o primeiro item nessa tabela, exceto que o \[ \# \] prefixo descreve qual item deve ser navegado em caso de uma colisão de nomes.</span><span class="sxs-lookup"><span data-stu-id="61f1e-241">Same as the first item in this table except that the \[\#\] prefix describes which item to navigate in event of a name collision.</span></span>                                                                                                                                                                                                                                |
| <span data-ttu-id="61f1e-242">/IFD/{UShort = 700}/Author</span><span class="sxs-lookup"><span data-stu-id="61f1e-242">/ifd/{ushort=700}/Author</span></span>       | <span data-ttu-id="61f1e-243">O mesmo que o primeiro item nesta tabela, exceto que ele usa uma expressão de dados para referenciar o bloco XMP em vez do nome do bloco "XMP" (o bloco XMP é incorporado sob o identificador curto de marca curta não assinado 700).</span><span class="sxs-lookup"><span data-stu-id="61f1e-243">Same as the first item in this table except that it uses a data expression to reference the XMP block instead of the block name "xmp" (XMP block is embedded under the unsigned short tag identifier 700).</span></span> <span data-ttu-id="61f1e-244">Além disso, a propriedade "autor" não especifica um esquema.</span><span class="sxs-lookup"><span data-stu-id="61f1e-244">Also, the "Author" property does not specify a schema.</span></span> <span data-ttu-id="61f1e-245">O analisador de consulta tentará corresponder a propriedade em todos os esquemas e retornará a primeira correspondência.</span><span class="sxs-lookup"><span data-stu-id="61f1e-245">The query parser will try to match the property across all schemas and return the first match.</span></span> |
| <span data-ttu-id="61f1e-246">/ifd/xmp</span><span class="sxs-lookup"><span data-stu-id="61f1e-246">/ifd/xmp</span></span>                       | <span data-ttu-id="61f1e-247">Fornece um caminho de navegação para um bloco de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-247">Provides a navigation path to a metadata block.</span></span> <span data-ttu-id="61f1e-248">Se o bloco for encontrado, um novo leitor/gravador de metadados será retornado.</span><span class="sxs-lookup"><span data-stu-id="61f1e-248">If the block is found, a new metadata reader/writer is returned.</span></span>                                                                                                                                                                                                                                                 |
| <span data-ttu-id="61f1e-249">/\[\*\]Texto/palavra-chave</span><span class="sxs-lookup"><span data-stu-id="61f1e-249">/\[\*\]tEXt/Keyword</span></span>            | <span data-ttu-id="61f1e-250">Obtém ou define a propriedade de palavra-chave para uma parte do PNG.</span><span class="sxs-lookup"><span data-stu-id="61f1e-250">Gets or sets the Keyword property for a PNG chunk.</span></span> <span data-ttu-id="61f1e-251">Como a especificação de metadados png permite várias partes de um tipo específico, a \[ \* \] notação Obtém/define a parte do png de dados com a propriedade apropriada.</span><span class="sxs-lookup"><span data-stu-id="61f1e-251">Because the PNG metadata specification allows for multiple chunks of a particular type, the \[\*\] notation gets/sets the data PNG chunk with the appropriate property.</span></span> <span data-ttu-id="61f1e-252">De acordo com a especificação do PNG, duas partes não podem ter as mesmas propriedades.</span><span class="sxs-lookup"><span data-stu-id="61f1e-252">Per the PNG specification, no two chunks can have the same properties.</span></span>                                                                |



 

<span data-ttu-id="61f1e-253">Cada bloco de metadados também é identificado exclusivamente pelo GUID de metadados que pode ser usado no lugar do nome de bloco amigável.</span><span class="sxs-lookup"><span data-stu-id="61f1e-253">Each metadata block is also uniquely identified by the metadata GUID which can be used in place of the friendly block name.</span></span> <span data-ttu-id="61f1e-254">A sintaxe a seguir pode ser usada no lugar de fornecer nomes de bloco: "/{GUID = GUID}/ \[ n \] {GUID = GUID}/Schema: tagidentifier"</span><span class="sxs-lookup"><span data-stu-id="61f1e-254">The following syntax can be used in place of providing block names: "/{guid=GUID}/\[n\]{guid=GUID}/schema:tagidentifier"</span></span>

<span data-ttu-id="61f1e-255">A tabela a seguir fornece alguns exemplos inválidos e os motivos pelos quais eles seriam rejeitados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-255">The following table provides some invalid examples and the reasons they would be rejected.</span></span> 

| <span data-ttu-id="61f1e-256">Expressão inválida</span><span class="sxs-lookup"><span data-stu-id="61f1e-256">Invalid Expression</span></span>         | <span data-ttu-id="61f1e-257">Descrição da rejeição</span><span class="sxs-lookup"><span data-stu-id="61f1e-257">Rejection description</span></span>                                                                                                                                                  |
|----------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="61f1e-258">/IFD/ \[ 0 \] \[ 2 \] EXIF/</span><span class="sxs-lookup"><span data-stu-id="61f1e-258">/ifd/\[0\]\[2\]exif/</span></span>       | <span data-ttu-id="61f1e-259">Rejeitado porque não há suporte para índices de matriz multidimensionais.</span><span class="sxs-lookup"><span data-stu-id="61f1e-259">Rejected because multi dimensional array indexes are not supported.</span></span>                                                                                                    |
| <span data-ttu-id="61f1e-260">/IFD/{UShort = 1}/{UShort = 2}</span><span class="sxs-lookup"><span data-stu-id="61f1e-260">/ifd/{ushort=1}/{ushort=2}</span></span> | <span data-ttu-id="61f1e-261">Rejeitado a menos que IFD tenha um tagID = 1, que é um manipulador de metadados que contém um item de metadados com um tagID = 2.</span><span class="sxs-lookup"><span data-stu-id="61f1e-261">Rejected unless the IFD has a tagID=1 which is a metadata handler that contains a metadata item with a tagID=2.</span></span>                                                        |
| <span data-ttu-id="61f1e-262">/{ushort = 1}</span><span class="sxs-lookup"><span data-stu-id="61f1e-262">/{ushort=1}</span></span>                | <span data-ttu-id="61f1e-263">Rejeitado se o processamento da consulta for relativo a um nível superior da hierarquia de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-263">Rejected if the query processing is relative to a top level of the metadata hierarchy.</span></span> <span data-ttu-id="61f1e-264">Isso ocorre porque o nível superior contém apenas blocos de metadados e não itens de dados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-264">This is because the top level contains only metadata blocks and not data items.</span></span> |



 

## <a name="photo-metadata-policy-expressions"></a><span data-ttu-id="61f1e-265">Expressões de política de metadados de foto</span><span class="sxs-lookup"><span data-stu-id="61f1e-265">Photo Metadata Policy Expressions</span></span>

<span data-ttu-id="61f1e-266">Conforme observado anteriormente, uma expressão de consulta totalmente qualificada começa com uma barra (/).</span><span class="sxs-lookup"><span data-stu-id="61f1e-266">As noted previously, a fully qualified query expression starts with a slash (/).</span></span> <span data-ttu-id="61f1e-267">As expressões que não começam com a barra são avaliadas como expressões de política.</span><span class="sxs-lookup"><span data-stu-id="61f1e-267">Expressions that do not begin with the slash are evaluated as policy expressions.</span></span> <span data-ttu-id="61f1e-268">Uma expressão de política permite consultar os metadados de foto para [Propriedades de shell](https://msdn.microsoft.com/library/ms788673(VS.85).aspx)do Windows relacionadas à imagem.</span><span class="sxs-lookup"><span data-stu-id="61f1e-268">A policy expression enables you to query the photo metadata for image-related Windows [Shell Properties](https://msdn.microsoft.com/library/ms788673(VS.85).aspx).</span></span> <span data-ttu-id="61f1e-269">Na seção seleção de dados anteriormente neste documento, a expressão "/XMP/XMP: rating" foi usada para acessar a propriedade de classificação XMP.</span><span class="sxs-lookup"><span data-stu-id="61f1e-269">In the Data Selection section earlier in this document, the expression "/xmp/xmp:Rating" was used to access the XMP rating property.</span></span> <span data-ttu-id="61f1e-270">Essa propriedade também pode ser consultada usando a seguinte expressão de política:</span><span class="sxs-lookup"><span data-stu-id="61f1e-270">This property can also be queried using the following policy expression:</span></span>

-   <span data-ttu-id="61f1e-271">System. SimpleRating</span><span class="sxs-lookup"><span data-stu-id="61f1e-271">System.SimpleRating</span></span>

<span data-ttu-id="61f1e-272">Para acessar a propriedade de classificação do esquema MicrosoftPhoto, a seguinte expressão de consulta pode ser usada:</span><span class="sxs-lookup"><span data-stu-id="61f1e-272">To access the rating property from the MicrosoftPhoto schema, the following query expression can be used:</span></span>

-   <span data-ttu-id="61f1e-273">System. rating</span><span class="sxs-lookup"><span data-stu-id="61f1e-273">System.Rating</span></span>

<span data-ttu-id="61f1e-274">As expressões de política de metadados de foto se comportam de forma diferente das consultas de metadados totalmente qualificadas de maneiras notáveis.</span><span class="sxs-lookup"><span data-stu-id="61f1e-274">Photo metadata policy expressions behave differently from fully qualified metadata queries in a few notable ways.</span></span>

<span data-ttu-id="61f1e-275">Primeiro, ao acessar metadados usando uma expressão de política, o WIC executa a arbitragem e a resolução de conflitos, caso a mesma propriedade esteja disponível em vários blocos de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-275">First, when accessing metadata using a policy expression, WIC performs arbitration and conflict resolution in the case that the same property is available in multiple metadata blocks.</span></span> <span data-ttu-id="61f1e-276">Por exemplo, os valores de classificação MicrosoftPhoto e XMP são armazenados no bloco App1/IFD e no bloco XMP.</span><span class="sxs-lookup"><span data-stu-id="61f1e-276">For instance, both the MicrosoftPhoto and the XMP rating values are stored in both the App1/IFD block and the XMP block.</span></span> <span data-ttu-id="61f1e-277">A política de metadados de foto determina a precedência para qual valor de bloco é retornado ao ler metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-277">The photo metadata policy determines the precedence for which block value is returned when reading metadata.</span></span> <span data-ttu-id="61f1e-278">Quando você estiver gravando metadados, a política de metadados de foto garantirá que as mesmas propriedades em diferentes blocos sejam consistentes.</span><span class="sxs-lookup"><span data-stu-id="61f1e-278">When you are writing metadata, the photo metadata policy ensures that the same properties in different blocks are consistent.</span></span> <span data-ttu-id="61f1e-279">Se você usar uma consulta de metadados como "/XMP/XMP: rating", será responsável por arbitrar entre os vários locais de metadados.</span><span class="sxs-lookup"><span data-stu-id="61f1e-279">If you use a metadata query such as "/xmp/xmp:Rating", you are responsible for arbitrating between the various metadata locations.</span></span>

> [!Note]  
> <span data-ttu-id="61f1e-280">Para obter uma lista das expressões de política com suporte e suas políticas de mapeamento, consulte o tópico [políticas de metadados de fotos](photo-metadata-policies.md) .</span><span class="sxs-lookup"><span data-stu-id="61f1e-280">For a list of the supported policy expressions and their mapping policies, see the [Photo Metadata Policies](photo-metadata-policies.md) topic.</span></span>

 

<span data-ttu-id="61f1e-281">Segundo, as expressões de política de metadados de foto são independentes do formato de imagem, enquanto as consultas de metadados totalmente qualificadas não são.</span><span class="sxs-lookup"><span data-stu-id="61f1e-281">Second, photo metadata policy expressions are independent of the image format, while fully qualified metadata queries are not.</span></span> <span data-ttu-id="61f1e-282">Por exemplo, a consulta "/XMP/XMP: rating" é específica para o formato JPEG.</span><span class="sxs-lookup"><span data-stu-id="61f1e-282">For example, the "/xmp/xmp:Rating" query is specific to the JPEG format.</span></span> <span data-ttu-id="61f1e-283">As imagens TIFF também dão suporte a metadados XMP, mas são armazenadas de forma diferente em relação ao JPEG, portanto, a consulta TIFF seria "/IFD/XMP/XMP: rating".</span><span class="sxs-lookup"><span data-stu-id="61f1e-283">TIFF images also support XMP metadata, but it is stored differently compared to JPEG, so the TIFF query would be “/ifd/xmp/xmp:Rating”.</span></span> <span data-ttu-id="61f1e-284">No entanto, em ambos os casos, a expressão de política seria "System. SimpleRating".</span><span class="sxs-lookup"><span data-stu-id="61f1e-284">However, in both cases the policy expression would be “System.SimpleRating”.</span></span>

<span data-ttu-id="61f1e-285">As expressões de política de metadados de foto fornecem um nível mais alto de abstração e simplicidade quando comparadas a consultas de metadados totalmente qualificadas e, portanto, devem ser preferidas em casos onde o acesso de metadados de nível baixo não é necessário.</span><span class="sxs-lookup"><span data-stu-id="61f1e-285">Photo metadata policy expressions provide a higher level of abstraction and simplicity when compared to fully qualified metadata queries, and so should be preferred in cases where low-level metadata access is not needed.</span></span> <span data-ttu-id="61f1e-286">No entanto, as expressões de política fornecem acesso apenas a um conjunto limitado de metadados de imagem, enquanto a linguagem de consulta de metadados fornece acesso a quase todos os metadados armazenados em um arquivo de imagem.</span><span class="sxs-lookup"><span data-stu-id="61f1e-286">However, policy expressions only provide access to a limited set of image metadata, whereas the metadata query language provides access to nearly all of the metadata stored within an image file.</span></span>

## <a name="metadata-query-language-summary"></a><span data-ttu-id="61f1e-287">Resumo da linguagem de consulta de metadados</span><span class="sxs-lookup"><span data-stu-id="61f1e-287">Metadata Query Language Summary</span></span>

<span data-ttu-id="61f1e-288">A tabela a seguir é uma definição formal da linguagem de consulta de metadados do WIC.</span><span class="sxs-lookup"><span data-stu-id="61f1e-288">The following table is a formal definition of the WIC metadata query language.</span></span> <span data-ttu-id="61f1e-289">Cada símbolo de gramática representa uma expressão composta por outros símbolos.</span><span class="sxs-lookup"><span data-stu-id="61f1e-289">Each grammar symbol represents an expression made up of other symbols.</span></span> <span data-ttu-id="61f1e-290">A expressão pode ser outro símbolo ou uma sequência de outros símbolos separados pela barra vertical ( \| ), indicando uma opção "ou".</span><span class="sxs-lookup"><span data-stu-id="61f1e-290">The expression can be another symbol or a sequence of other symbols separated by the vertical bar (\|), indicating an "or" choice.</span></span> <span data-ttu-id="61f1e-291">A expressão inteira à direita é uma possível substituição para o símbolo especificado à esquerda.</span><span class="sxs-lookup"><span data-stu-id="61f1e-291">The whole expression on the right is a possible substitution for the specified symbol on the left.</span></span> 

| <span data-ttu-id="61f1e-292">Símbolo</span><span class="sxs-lookup"><span data-stu-id="61f1e-292">Symbol</span></span>                   | <span data-ttu-id="61f1e-293">Expression</span><span class="sxs-lookup"><span data-stu-id="61f1e-293">Expression</span></span>                                                                                                                                                                  |
|--------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| \<path>             | <span data-ttu-id="61f1e-294">\<name> \| '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="61f1e-294">\<name> \| '/' \<property path></span></span>                                                                                                                                   |
| \<property path>    | <span data-ttu-id="61f1e-295">\<metadata item> \| \<property path> '/' \<property path></span><span class="sxs-lookup"><span data-stu-id="61f1e-295">\<metadata item> \| \<property path> '/' \<property path></span></span>                                                                                                    |
| \<metadata item>    | <span data-ttu-id="61f1e-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span><span class="sxs-lookup"><span data-stu-id="61f1e-296">\<index name> \| \<item name> \| \<schema name> ':' \<item name></span></span>                                                                                        |
| \<schema name>      | \<item name>                                                                                                                                                           |
| \<item name>        | <span data-ttu-id="61f1e-297">\<metadata item> \| <indexed item><index></span><span class="sxs-lookup"><span data-stu-id="61f1e-297">\<metadata item> \| <indexed item><index></span></span>                                                                                                                  |
| \<indexed item>     | <span data-ttu-id="61f1e-298">\<item> \| \<implied metadata>\<item></span><span class="sxs-lookup"><span data-stu-id="61f1e-298">\<item> \| \<implied metadata>\<item></span></span>                                                                                                                        |
| \<implied metadata> | <span data-ttu-id="61f1e-299">' < ' \<name> ' > '</span><span class="sxs-lookup"><span data-stu-id="61f1e-299">'<'\<name>'>'</span></span>                                                                                                                                                    |
| \<item>             | <span data-ttu-id="61f1e-300">\<name> \| \<index> \<data> \| \<data></span><span class="sxs-lookup"><span data-stu-id="61f1e-300">\<name> \| \<index> \<data> \| \<data></span></span>                                                                                                                  |
| \<data>             | <span data-ttu-id="61f1e-301">'{' \<data type> '=' \<value> '}'</span><span class="sxs-lookup"><span data-stu-id="61f1e-301">'{' \<data type> '=' \<value> '}'</span></span>                                                                                                                                 |
| \<index>            | <span data-ttu-id="61f1e-302">'\[' \<number> \| \<star> '\]'</span><span class="sxs-lookup"><span data-stu-id="61f1e-302">'\[' \<number> \| \<star> '\]'</span></span>                                                                                                                                    |
| \<data type>        | <span data-ttu-id="61f1e-303">"char" \| "UCHAR" \| "short" \| "UShort" \| "Long" \| "ULONG" " \| int" \| "UINT" \| "LONGLONG" \| "ULONGLONG" \| "Float" \| "Double" \| "Str" " \| WSTR" "GUID" " \| \| bool"</span><span class="sxs-lookup"><span data-stu-id="61f1e-303">'char' \| 'uchar' \| 'short' \| 'ushort' \| 'long' \| 'ulong' \| 'int' \| 'uint' \| 'longlong' \| 'ulonglong' \| 'float' \| 'double' \| 'str' \| 'wstr' \| 'guid' \| 'bool'</span></span> |
| \<data value>       | <span data-ttu-id="61f1e-304">\<number> \| \<name> \| \<guid></span><span class="sxs-lookup"><span data-stu-id="61f1e-304">\<number> \| \<name> \| \<guid></span></span>                                                                                                                              |
| \<star>             | <span data-ttu-id="61f1e-305">'\*'</span><span class="sxs-lookup"><span data-stu-id="61f1e-305">'\*'</span></span>                                                                                                                                                                        |
| \<number>           | <span data-ttu-id="61f1e-306">número</span><span class="sxs-lookup"><span data-stu-id="61f1e-306">number</span></span>                                                                                                                                                                      |
| \<name>             | <span data-ttu-id="61f1e-307">string</span><span class="sxs-lookup"><span data-stu-id="61f1e-307">string</span></span>                                                                                                                                                                      |
| \<guid>             | <span data-ttu-id="61f1e-308">guid</span><span class="sxs-lookup"><span data-stu-id="61f1e-308">guid</span></span>                                                                                                                                                                        |



 

## <a name="related-topics"></a><span data-ttu-id="61f1e-309">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="61f1e-309">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="61f1e-310">**Conceitua**</span><span class="sxs-lookup"><span data-stu-id="61f1e-310">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="61f1e-311">Visão geral do Windows Imaging Component</span><span class="sxs-lookup"><span data-stu-id="61f1e-311">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

[<span data-ttu-id="61f1e-312">Visão geral dos metadados do WIC</span><span class="sxs-lookup"><span data-stu-id="61f1e-312">WIC Metadata Overview</span></span>](-wic-about-metadata.md)
</dt> <dt>

[<span data-ttu-id="61f1e-313">Visão geral da leitura e gravação de metadados de imagem</span><span class="sxs-lookup"><span data-stu-id="61f1e-313">Overview of Reading and Writing Image Metadata</span></span>](-wic-codec-readingwritingmetadata.md)
</dt> <dt>

[<span data-ttu-id="61f1e-314">Visão geral da extensibilidade de metadados</span><span class="sxs-lookup"><span data-stu-id="61f1e-314">Metadata Extensibility Overview</span></span>](-wic-codec-metadatahandlers.md)
</dt> <dt>

[<span data-ttu-id="61f1e-315">Como: codificar novamente uma imagem JPEG com metadados</span><span class="sxs-lookup"><span data-stu-id="61f1e-315">How-to: Re-encode a JPEG Image with Metadata</span></span>](-wic-codec-jpegmetadataencoding.md)
</dt> </dl>

 

 



