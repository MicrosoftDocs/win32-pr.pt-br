---
description: Este tópico apresenta a decodificação progressiva e como usar a decodificação progressiva em aplicativos.
ms.assetid: d22c2c59-0fa1-4452-93f1-dbf151033714
title: Visão geral da decodificação progressiva
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 568b9708802b082a880f358b969d9dd4beb1e481
ms.sourcegitcommit: 099ecdda1e83618b844387405da0db0ebda93a65
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/04/2021
ms.locfileid: "111443667"
---
# <a name="progressive-decoding-overview"></a><span data-ttu-id="4740e-103">Visão geral da decodificação progressiva</span><span class="sxs-lookup"><span data-stu-id="4740e-103">Progressive Decoding Overview</span></span>

<span data-ttu-id="4740e-104">Este tópico apresenta a decodificação progressiva e como usar a decodificação progressiva em aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4740e-104">This topic introduces progressive decoding and how to use progressive decoding in applications.</span></span> <span data-ttu-id="4740e-105">Ele também fornece diretrizes para a criação de codecs que dão suporte à decodificação progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-105">It also provides guidelines for creating codecs that support progressive decoding.</span></span>

<span data-ttu-id="4740e-106">Este tópico inclui as seções a seguir.</span><span class="sxs-lookup"><span data-stu-id="4740e-106">This topic contains the following sections.</span></span>

-   [<span data-ttu-id="4740e-107">Introdução</span><span class="sxs-lookup"><span data-stu-id="4740e-107">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="4740e-108">O que é decodificação progressiva?</span><span class="sxs-lookup"><span data-stu-id="4740e-108">What is Progressive Decoding?</span></span>](#what-is-progressive-decoding)
-   [<span data-ttu-id="4740e-109">Suporte progressivo de decodificação no Windows 7</span><span class="sxs-lookup"><span data-stu-id="4740e-109">Progressive Decoding Support in Windows 7</span></span>](#progressive-decoding-support-in-windows-7)
-   [<span data-ttu-id="4740e-110">Decodificação progressiva de JPEG</span><span class="sxs-lookup"><span data-stu-id="4740e-110">JPEG Progressive Decoding</span></span>](#jpeg-progressive-decoding)
-   [<span data-ttu-id="4740e-111">Decodificação progressiva de PNG/GIF</span><span class="sxs-lookup"><span data-stu-id="4740e-111">PNG/GIF Progressive Decoding</span></span>](#pnggif-progressive-decoding)
    -   [<span data-ttu-id="4740e-112">Decodificação progressiva de PNG</span><span class="sxs-lookup"><span data-stu-id="4740e-112">PNG Progressive Decoding</span></span>](#png-progressive-decoding)
    -   [<span data-ttu-id="4740e-113">Decodificação progressiva de GIF</span><span class="sxs-lookup"><span data-stu-id="4740e-113">GIF Progressive Decoding</span></span>](#gif-progressive-decoding)
-   [<span data-ttu-id="4740e-114">Decodificação progressiva em aplicativos</span><span class="sxs-lookup"><span data-stu-id="4740e-114">Progressive Decoding in Applications</span></span>](#progressive-decoding-in-applications)
-   [<span data-ttu-id="4740e-115">Suporte de codec personalizado para decodificação progressiva</span><span class="sxs-lookup"><span data-stu-id="4740e-115">Custom Codec Support for Progressive Decoding</span></span>](#custom-codec-support-for-progressive-decoding)
-   [<span data-ttu-id="4740e-116">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="4740e-116">Related topics</span></span>](#related-topics)

## <a name="introduction"></a><span data-ttu-id="4740e-117">Introdução</span><span class="sxs-lookup"><span data-stu-id="4740e-117">Introduction</span></span>

<span data-ttu-id="4740e-118">A decodificação progressiva fornece a capacidade de decodificar e renderizar de forma incremental partes de uma imagem antes de concluir o download da imagem inteira.</span><span class="sxs-lookup"><span data-stu-id="4740e-118">Progressive decoding provides the ability to incrementally decode and render portions of an image before the entire image has finished downloading.</span></span> <span data-ttu-id="4740e-119">Esse recurso melhora muito a experiência do usuário ao exibir imagens da Internet, pois o usuário não precisa aguardar a imagem inteira ser baixada antes que a decodificação possa começar.</span><span class="sxs-lookup"><span data-stu-id="4740e-119">This feature greatly improves the user's experience when viewing images from the Internet, because the user does not have to wait for the entire image to download before decoding can begin.</span></span> <span data-ttu-id="4740e-120">Os usuários podem ver uma visualização de imagem com os dados disponíveis por extenso antes que toda a imagem seja baixada.</span><span class="sxs-lookup"><span data-stu-id="4740e-120">Users are able to see an image preview with available data long before the entire image is downloaded.</span></span> <span data-ttu-id="4740e-121">Esse recurso é essencial para qualquer aplicativo usado para exibir imagens da Internet ou de fontes de dados com largura de banda limitada.</span><span class="sxs-lookup"><span data-stu-id="4740e-121">This feature is essential for any application used to view images from the Internet or from data sources with limited bandwidth.</span></span>

<span data-ttu-id="4740e-122">O Windows Imaging Component (WIC) no Windows 7 oferece suporte à decodificação progressiva de formatos de imagem populares, como JPEG, PNG e GIF.</span><span class="sxs-lookup"><span data-stu-id="4740e-122">The Windows Imaging Component (WIC) in Windows 7 supports progressive decoding of popular image formats such as JPEG, PNG, and GIF.</span></span> <span data-ttu-id="4740e-123">O WIC também dá suporte a todos os codecs que não são da Microsoft habilitados para WIC que implementam a decodificação progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-123">WIC also supports any WIC-enabled non-Microsoft codecs that implement progressive decoding.</span></span> <span data-ttu-id="4740e-124">Não há suporte para codificação progressiva na versão atual do WIC.</span><span class="sxs-lookup"><span data-stu-id="4740e-124">Progressive encoding is not supported in the current release of WIC.</span></span> <span data-ttu-id="4740e-125">Este tópico descreve a decodificação progressiva no Windows 7 e o procedimento para habilitar a decodificação progressiva em seus aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4740e-125">This topic outlines progressive decoding in Windows 7 and the procedure for enabling progressive decoding in your applications.</span></span>

## <a name="what-is-progressive-decoding"></a><span data-ttu-id="4740e-126">O que é decodificação progressiva?</span><span class="sxs-lookup"><span data-stu-id="4740e-126">What is Progressive Decoding?</span></span>

<span data-ttu-id="4740e-127">A decodificação progressiva é a capacidade de decodificar incrementalmente partes de uma imagem de um arquivo de imagem incompleto.</span><span class="sxs-lookup"><span data-stu-id="4740e-127">Progressive decoding is the ability to incrementally decode portions of an image from an incomplete image file.</span></span> <span data-ttu-id="4740e-128">A decodificação tradicional requer um arquivo de imagem completo antes que a decodificação possa começar.</span><span class="sxs-lookup"><span data-stu-id="4740e-128">Traditional decoding requires a complete image file before decoding can begin.</span></span> <span data-ttu-id="4740e-129">A decodificação progressiva começa após a conclusão do download de um nível progressivo de uma imagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-129">Progressive decoding starts after a progressive level of an image has finished downloading.</span></span> <span data-ttu-id="4740e-130">O decodificador executa uma passagem de decodificação no nível progressivo atual da imagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-130">The decoder performs a decoding pass on the image's current progressive level.</span></span> <span data-ttu-id="4740e-131">Em seguida, ele executa vários passos de decodificação na imagem à medida que cada nível progressivo é baixado.</span><span class="sxs-lookup"><span data-stu-id="4740e-131">It then performs multiple decoding passes on the image as each progressive level is downloaded.</span></span> <span data-ttu-id="4740e-132">Cada passagem de decodificação revela mais da imagem até que a imagem seja totalmente baixada e decodificada.</span><span class="sxs-lookup"><span data-stu-id="4740e-132">Each decoding pass reveals more of the image until the image is fully downloaded and decoded.</span></span> <span data-ttu-id="4740e-133">O número de passagens necessárias para decodificar uma imagem completa depende do formato do arquivo de imagem e do processo de codificação usado para criar a imagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-133">The number of passes required to decode a full image depends on the image file format and the encoding process used to create the image.</span></span>

<span data-ttu-id="4740e-134">As imagens devem ser codificadas especificamente para implementar a decodificação progressiva, mas nem todos os formatos de imagem dão suporte a ela.</span><span class="sxs-lookup"><span data-stu-id="4740e-134">Images must be specifically encoded to implement progressive decoding, but not all image formats support it.</span></span> <span data-ttu-id="4740e-135">A lista a seguir resume os requisitos para usar a decodificação progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-135">The following list summarizes the requirements for using progressive decoding.</span></span>

-   <span data-ttu-id="4740e-136">O arquivo de imagem deve dar suporte à decodificação progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-136">The image file must support progressive decoding.</span></span> <span data-ttu-id="4740e-137">A maioria dos formatos de imagem não oferece suporte à decodificação progressiva, embora os formatos de imagem populares JPEG, PNG e GIF façam.</span><span class="sxs-lookup"><span data-stu-id="4740e-137">Most image formats do not support progressive decoding, although the popular image formats JPEG, PNG, and GIF do.</span></span>
-   <span data-ttu-id="4740e-138">O arquivo de imagem deve ser codificado como uma imagem progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-138">The image file must be encoded as a progressive image.</span></span> <span data-ttu-id="4740e-139">Os arquivos de imagem que não foram criados com a codificação de imagem progressiva não podem implementar a decodificação progressiva, mesmo onde o formato de arquivo seria compatível.</span><span class="sxs-lookup"><span data-stu-id="4740e-139">Image files that were not created with the progressive image encoding cannot implement progressive decoding, even where the file format would otherwise support it.</span></span>
-   <span data-ttu-id="4740e-140">Um codec que dá suporte à decodificação progressiva deve estar disponível.</span><span class="sxs-lookup"><span data-stu-id="4740e-140">A codec that supports progressive decoding must be available.</span></span> <span data-ttu-id="4740e-141">Se um codec não oferecer suporte à decodificação progressiva, uma imagem codificada como uma imagem progressiva será decodificada como uma imagem tradicional.</span><span class="sxs-lookup"><span data-stu-id="4740e-141">If a codec does not support progressive decoding, an image encoded as a progressive image will be decoded as a traditional image.</span></span>

## <a name="progressive-decoding-support-in-windows-7"></a><span data-ttu-id="4740e-142">Suporte progressivo de decodificação no Windows 7</span><span class="sxs-lookup"><span data-stu-id="4740e-142">Progressive Decoding Support in Windows 7</span></span>

<span data-ttu-id="4740e-143">O Windows 7 fornece codecs internos que dão suporte à decodificação progressiva para formatos de imagem JPEG, PNG e GIF.</span><span class="sxs-lookup"><span data-stu-id="4740e-143">Windows 7 provides built-in codecs that support progressive decoding for JPEG, PNG, and GIF image formats.</span></span> <span data-ttu-id="4740e-144">Cada um desses codecs do Windows 7 executa vários passos de decodificação em uma imagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-144">Each of these Windows 7 codecs perform multiple decoding passes on an image.</span></span> <span data-ttu-id="4740e-145">Cada passagem corresponde a um nível específico e a uma parte da imagem decodificada, eventualmente levando a uma imagem totalmente decodificada.</span><span class="sxs-lookup"><span data-stu-id="4740e-145">Each pass corresponds to a particular level and portion of the image that is decoded, eventually leading to a fully decoded image.</span></span>

<span data-ttu-id="4740e-146">Cada formato de imagem manipula a decodificação progressiva de maneira diferente.</span><span class="sxs-lookup"><span data-stu-id="4740e-146">Each image format handles progressive decoding in a different manner.</span></span> <span data-ttu-id="4740e-147">A tabela a seguir fornece informações sobre o número de níveis progressivos e o método de decodificação com suporte nos formatos de decodificação progressiva do Windows 7.</span><span class="sxs-lookup"><span data-stu-id="4740e-147">The following table provides information about the number of progressive levels and the decoding method supported by the Windows 7 progressive decoding formats.</span></span> 

| <span data-ttu-id="4740e-148">Formato de imagem</span><span class="sxs-lookup"><span data-stu-id="4740e-148">Image Format</span></span> | <span data-ttu-id="4740e-149">Número de níveis progressivos com suporte</span><span class="sxs-lookup"><span data-stu-id="4740e-149">Number of progressive levels supported</span></span> | <span data-ttu-id="4740e-150">Método de decodificação progressiva</span><span class="sxs-lookup"><span data-stu-id="4740e-150">Progressive decoding method</span></span> |
|--------------|----------------------------------------|-----------------------------|
| <span data-ttu-id="4740e-151">JPEG</span><span class="sxs-lookup"><span data-stu-id="4740e-151">JPEG</span></span>         | <span data-ttu-id="4740e-152">Definido pela imagem</span><span class="sxs-lookup"><span data-stu-id="4740e-152">Defined by Image</span></span>                       | <span data-ttu-id="4740e-153">Aumentando a resolução</span><span class="sxs-lookup"><span data-stu-id="4740e-153">Increasing resolution</span></span>       |
| <span data-ttu-id="4740e-154">PNG</span><span class="sxs-lookup"><span data-stu-id="4740e-154">PNG</span></span>          | <span data-ttu-id="4740e-155">7</span><span class="sxs-lookup"><span data-stu-id="4740e-155">7</span></span>                                      | <span data-ttu-id="4740e-156">Entrelaça</span><span class="sxs-lookup"><span data-stu-id="4740e-156">Interlacing</span></span>                 |
| <span data-ttu-id="4740e-157">GIF</span><span class="sxs-lookup"><span data-stu-id="4740e-157">GIF</span></span>          | <span data-ttu-id="4740e-158">4</span><span class="sxs-lookup"><span data-stu-id="4740e-158">4</span></span>                                      | <span data-ttu-id="4740e-159">Entrelaça</span><span class="sxs-lookup"><span data-stu-id="4740e-159">Interlacing</span></span>                 |



 

<span data-ttu-id="4740e-160">Além disso, a decodificação progressiva pode ser implementada em codecs fornecendo suporte para interfaces e métodos progressivos.</span><span class="sxs-lookup"><span data-stu-id="4740e-160">In addition, progressive decoding can be implemented in codecs by providing support for progressive interfaces and methods.</span></span> <span data-ttu-id="4740e-161">Se a decodificação progressiva não for suportada em um codec, as mensagens de erro apropriadas deverão ser retornadas se esses métodos forem chamados.</span><span class="sxs-lookup"><span data-stu-id="4740e-161">If progressive decoding is not supported in a codec, then appropriate error messages should be returned if these methods are called.</span></span>

## <a name="jpeg-progressive-decoding"></a><span data-ttu-id="4740e-162">Decodificação progressiva de JPEG</span><span class="sxs-lookup"><span data-stu-id="4740e-162">JPEG Progressive Decoding</span></span>

<span data-ttu-id="4740e-163">A decodificação progressiva de JPEG apresenta dados de imagem em resoluções cada vez maiores para cada nível, até que a imagem de resolução completa esteja disponível.</span><span class="sxs-lookup"><span data-stu-id="4740e-163">JPEG progressive decoding presents image data at increasingly higher resolutions for each level, until the full-resolution image is available.</span></span> <span data-ttu-id="4740e-164">Cada nível da imagem é definido para fornecer um nível de resolução diferente.</span><span class="sxs-lookup"><span data-stu-id="4740e-164">Each level of the image is set to provide a different resolution level.</span></span> <span data-ttu-id="4740e-165">À medida que mais níveis progressivos são disponibilizados, a imagem é exibida em resoluções mais altas, até que a imagem de resolução completa seja resolvida.</span><span class="sxs-lookup"><span data-stu-id="4740e-165">As more progressive levels become available, the image is displayed at higher resolutions, until the full resolution image is resolved.</span></span>

<span data-ttu-id="4740e-166">O número de níveis disponíveis e a resolução definida em cada nível depende inteiramente do JPEG codificado.</span><span class="sxs-lookup"><span data-stu-id="4740e-166">The number of available levels and the resolution set at each level depends entirely on the encoded JPEG.</span></span> <span data-ttu-id="4740e-167">As duas imagens a seguir mostram um exemplo de decodificação progressiva de JPEG em dois níveis progressivos.</span><span class="sxs-lookup"><span data-stu-id="4740e-167">The following two images show an example of JPEG progressive decoding at two progressive levels.</span></span>

![exemplos de decodificação progressiva de JPEG](graphics/Progressive_JPEG_Comparison.jpg)

<span data-ttu-id="4740e-169">A imagem à esquerda é decodificada no nível progressivo 0.</span><span class="sxs-lookup"><span data-stu-id="4740e-169">The image on the left is decoded at progressive level 0.</span></span> <span data-ttu-id="4740e-170">A imagem à direita é totalmente decodificada após cinco níveis progressivos.</span><span class="sxs-lookup"><span data-stu-id="4740e-170">The image on right is fully decoded after five progressive levels.</span></span>

## <a name="pnggif-progressive-decoding"></a><span data-ttu-id="4740e-171">Decodificação progressiva de PNG/GIF</span><span class="sxs-lookup"><span data-stu-id="4740e-171">PNG/GIF Progressive Decoding</span></span>

<span data-ttu-id="4740e-172">A decodificação progressiva de PNG e GIF usa um método de decodificação progressivo entrelaçado.</span><span class="sxs-lookup"><span data-stu-id="4740e-172">Both PNG and GIF progressive decoding use an interlaced progressive decoding method.</span></span> <span data-ttu-id="4740e-173">O processo de decodificação para ambos os formatos é muito semelhante.</span><span class="sxs-lookup"><span data-stu-id="4740e-173">The decoding process for both formats is very similar.</span></span>

### <a name="png-progressive-decoding"></a><span data-ttu-id="4740e-174">Decodificação progressiva de PNG</span><span class="sxs-lookup"><span data-stu-id="4740e-174">PNG Progressive Decoding</span></span>

<span data-ttu-id="4740e-175">Os arquivos de imagem PNG fornecem sete níveis progressivos para decodificação, conforme descrito na especificação de PNG.</span><span class="sxs-lookup"><span data-stu-id="4740e-175">PNG image files provide seven progressive levels for decoding, as described in the PNG specification.</span></span> <span data-ttu-id="4740e-176">A decodificação progressiva de PNG é implementada decodificando um padrão especificado de pixels em cada passagem do decodificador.</span><span class="sxs-lookup"><span data-stu-id="4740e-176">PNG progressive decoding is implemented by decoding a specified pattern of pixels on each pass of the decoder.</span></span> <span data-ttu-id="4740e-177">O padrão na tabela a seguir da especificação PNG é replicado sobre toda a imagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-177">The pattern in the following table from the PNG specification is replicated over the entire image.</span></span> <span data-ttu-id="4740e-178">Cada número representa o nível progressivo no qual o pixel correspondente será decodificado.</span><span class="sxs-lookup"><span data-stu-id="4740e-178">Each number represents the progressive level in which the corresponding pixel will be decoded.</span></span>



|  &nbsp;  |  &nbsp;   |  &nbsp;   |  &nbsp;   |   &nbsp;  |  &nbsp;   |  &nbsp;   | &nbsp;    |
|-----|-----|-----|-----|-----|-----|-----|-----|
| <span data-ttu-id="4740e-179">1</span><span class="sxs-lookup"><span data-stu-id="4740e-179">1</span></span>   | <span data-ttu-id="4740e-180">6</span><span class="sxs-lookup"><span data-stu-id="4740e-180">6</span></span>   | <span data-ttu-id="4740e-181">4</span><span class="sxs-lookup"><span data-stu-id="4740e-181">4</span></span>   | <span data-ttu-id="4740e-182">6</span><span class="sxs-lookup"><span data-stu-id="4740e-182">6</span></span>   | <span data-ttu-id="4740e-183">2</span><span class="sxs-lookup"><span data-stu-id="4740e-183">2</span></span>   | <span data-ttu-id="4740e-184">6</span><span class="sxs-lookup"><span data-stu-id="4740e-184">6</span></span>   | <span data-ttu-id="4740e-185">4</span><span class="sxs-lookup"><span data-stu-id="4740e-185">4</span></span>   | <span data-ttu-id="4740e-186">6</span><span class="sxs-lookup"><span data-stu-id="4740e-186">6</span></span>   |
| <span data-ttu-id="4740e-187">7</span><span class="sxs-lookup"><span data-stu-id="4740e-187">7</span></span>   | <span data-ttu-id="4740e-188">7</span><span class="sxs-lookup"><span data-stu-id="4740e-188">7</span></span>   | <span data-ttu-id="4740e-189">7</span><span class="sxs-lookup"><span data-stu-id="4740e-189">7</span></span>   | <span data-ttu-id="4740e-190">7</span><span class="sxs-lookup"><span data-stu-id="4740e-190">7</span></span>   | <span data-ttu-id="4740e-191">7</span><span class="sxs-lookup"><span data-stu-id="4740e-191">7</span></span>   | <span data-ttu-id="4740e-192">7</span><span class="sxs-lookup"><span data-stu-id="4740e-192">7</span></span>   | <span data-ttu-id="4740e-193">7</span><span class="sxs-lookup"><span data-stu-id="4740e-193">7</span></span>   | <span data-ttu-id="4740e-194">7</span><span class="sxs-lookup"><span data-stu-id="4740e-194">7</span></span>   |
| <span data-ttu-id="4740e-195">5</span><span class="sxs-lookup"><span data-stu-id="4740e-195">5</span></span>   | <span data-ttu-id="4740e-196">6</span><span class="sxs-lookup"><span data-stu-id="4740e-196">6</span></span>   | <span data-ttu-id="4740e-197">5</span><span class="sxs-lookup"><span data-stu-id="4740e-197">5</span></span>   | <span data-ttu-id="4740e-198">6</span><span class="sxs-lookup"><span data-stu-id="4740e-198">6</span></span>   | <span data-ttu-id="4740e-199">5</span><span class="sxs-lookup"><span data-stu-id="4740e-199">5</span></span>   | <span data-ttu-id="4740e-200">6</span><span class="sxs-lookup"><span data-stu-id="4740e-200">6</span></span>   | <span data-ttu-id="4740e-201">5</span><span class="sxs-lookup"><span data-stu-id="4740e-201">5</span></span>   | <span data-ttu-id="4740e-202">6</span><span class="sxs-lookup"><span data-stu-id="4740e-202">6</span></span>   |
| <span data-ttu-id="4740e-203">7</span><span class="sxs-lookup"><span data-stu-id="4740e-203">7</span></span>   | <span data-ttu-id="4740e-204">7</span><span class="sxs-lookup"><span data-stu-id="4740e-204">7</span></span>   | <span data-ttu-id="4740e-205">7</span><span class="sxs-lookup"><span data-stu-id="4740e-205">7</span></span>   | <span data-ttu-id="4740e-206">7</span><span class="sxs-lookup"><span data-stu-id="4740e-206">7</span></span>   | <span data-ttu-id="4740e-207">7</span><span class="sxs-lookup"><span data-stu-id="4740e-207">7</span></span>   | <span data-ttu-id="4740e-208">7</span><span class="sxs-lookup"><span data-stu-id="4740e-208">7</span></span>   | <span data-ttu-id="4740e-209">7</span><span class="sxs-lookup"><span data-stu-id="4740e-209">7</span></span>   | <span data-ttu-id="4740e-210">7</span><span class="sxs-lookup"><span data-stu-id="4740e-210">7</span></span>   |
| <span data-ttu-id="4740e-211">3</span><span class="sxs-lookup"><span data-stu-id="4740e-211">3</span></span>   | <span data-ttu-id="4740e-212">6</span><span class="sxs-lookup"><span data-stu-id="4740e-212">6</span></span>   | <span data-ttu-id="4740e-213">4</span><span class="sxs-lookup"><span data-stu-id="4740e-213">4</span></span>   | <span data-ttu-id="4740e-214">6</span><span class="sxs-lookup"><span data-stu-id="4740e-214">6</span></span>   | <span data-ttu-id="4740e-215">3</span><span class="sxs-lookup"><span data-stu-id="4740e-215">3</span></span>   | <span data-ttu-id="4740e-216">6</span><span class="sxs-lookup"><span data-stu-id="4740e-216">6</span></span>   | <span data-ttu-id="4740e-217">4</span><span class="sxs-lookup"><span data-stu-id="4740e-217">4</span></span>   | <span data-ttu-id="4740e-218">6</span><span class="sxs-lookup"><span data-stu-id="4740e-218">6</span></span>   |
| <span data-ttu-id="4740e-219">7</span><span class="sxs-lookup"><span data-stu-id="4740e-219">7</span></span>   | <span data-ttu-id="4740e-220">7</span><span class="sxs-lookup"><span data-stu-id="4740e-220">7</span></span>   | <span data-ttu-id="4740e-221">7</span><span class="sxs-lookup"><span data-stu-id="4740e-221">7</span></span>   | <span data-ttu-id="4740e-222">7</span><span class="sxs-lookup"><span data-stu-id="4740e-222">7</span></span>   | <span data-ttu-id="4740e-223">7</span><span class="sxs-lookup"><span data-stu-id="4740e-223">7</span></span>   | <span data-ttu-id="4740e-224">7</span><span class="sxs-lookup"><span data-stu-id="4740e-224">7</span></span>   | <span data-ttu-id="4740e-225">7</span><span class="sxs-lookup"><span data-stu-id="4740e-225">7</span></span>   | <span data-ttu-id="4740e-226">7</span><span class="sxs-lookup"><span data-stu-id="4740e-226">7</span></span>   |
| <span data-ttu-id="4740e-227">5</span><span class="sxs-lookup"><span data-stu-id="4740e-227">5</span></span>   | <span data-ttu-id="4740e-228">6</span><span class="sxs-lookup"><span data-stu-id="4740e-228">6</span></span>   | <span data-ttu-id="4740e-229">5</span><span class="sxs-lookup"><span data-stu-id="4740e-229">5</span></span>   | <span data-ttu-id="4740e-230">6</span><span class="sxs-lookup"><span data-stu-id="4740e-230">6</span></span>   | <span data-ttu-id="4740e-231">5</span><span class="sxs-lookup"><span data-stu-id="4740e-231">5</span></span>   | <span data-ttu-id="4740e-232">6</span><span class="sxs-lookup"><span data-stu-id="4740e-232">6</span></span>   | <span data-ttu-id="4740e-233">5</span><span class="sxs-lookup"><span data-stu-id="4740e-233">5</span></span>   | <span data-ttu-id="4740e-234">6</span><span class="sxs-lookup"><span data-stu-id="4740e-234">6</span></span>   |
| <span data-ttu-id="4740e-235">7</span><span class="sxs-lookup"><span data-stu-id="4740e-235">7</span></span>   | <span data-ttu-id="4740e-236">7</span><span class="sxs-lookup"><span data-stu-id="4740e-236">7</span></span>   | <span data-ttu-id="4740e-237">7</span><span class="sxs-lookup"><span data-stu-id="4740e-237">7</span></span>   | <span data-ttu-id="4740e-238">7</span><span class="sxs-lookup"><span data-stu-id="4740e-238">7</span></span>   | <span data-ttu-id="4740e-239">7</span><span class="sxs-lookup"><span data-stu-id="4740e-239">7</span></span>   | <span data-ttu-id="4740e-240">7</span><span class="sxs-lookup"><span data-stu-id="4740e-240">7</span></span>   | <span data-ttu-id="4740e-241">7</span><span class="sxs-lookup"><span data-stu-id="4740e-241">7</span></span>   | <span data-ttu-id="4740e-242">7</span><span class="sxs-lookup"><span data-stu-id="4740e-242">7</span></span>   |



 

<span data-ttu-id="4740e-243">Na tabela acima, você pode determinar os pixels que serão decodificados com cada passagem do decodificador.</span><span class="sxs-lookup"><span data-stu-id="4740e-243">From the table above, you can determine the pixels that will be decoded with each pass of the decoder.</span></span> <span data-ttu-id="4740e-244">Ao contrário do codec GIF do Windows 7, o codec PNG do Windows 7 Replica o pixel mais disponível à esquerda em uma linha de exame para popular pixels vazios.</span><span class="sxs-lookup"><span data-stu-id="4740e-244">Unlike the Windows 7 GIF codec, the Windows 7 PNG codec replicates the left-most available pixel on a scan line to populate empty pixels.</span></span>

<span data-ttu-id="4740e-245">As imagens a seguir mostram um exemplo do codec de decodificação progressiva do PNG do Windows 7 em três níveis progressivos.</span><span class="sxs-lookup"><span data-stu-id="4740e-245">The following images show an example of the Windows 7 PNG progressive decoding codec at three progressive levels.</span></span>

![exemplos de decodificação progressiva de png](graphics/PNG_Progressive_Comparison.jpg)

<span data-ttu-id="4740e-247">A imagem na parte superior esquerda mostra uma imagem PNG decodificada no nível progressivo 0.</span><span class="sxs-lookup"><span data-stu-id="4740e-247">The image at the top left shows a PNG image decoded at progressive level 0.</span></span> <span data-ttu-id="4740e-248">A imagem superior direita mostra a mesma imagem PNG decodificada no nível progressivo 3.</span><span class="sxs-lookup"><span data-stu-id="4740e-248">The top-right image shows the same PNG image decoded at progressive level 3.</span></span> <span data-ttu-id="4740e-249">A imagem inferior mostra a mesma imagem totalmente decodificada após 7 níveis progressivos.</span><span class="sxs-lookup"><span data-stu-id="4740e-249">The bottom image shows the same image fully decoded after 7 progressive levels.</span></span>

### <a name="gif-progressive-decoding"></a><span data-ttu-id="4740e-250">Decodificação progressiva de GIF</span><span class="sxs-lookup"><span data-stu-id="4740e-250">GIF Progressive Decoding</span></span>

<span data-ttu-id="4740e-251">Os arquivos de imagem GIF fornecem quatro níveis progressivos para decodificação, conforme descrito na especificação GIF.</span><span class="sxs-lookup"><span data-stu-id="4740e-251">GIF image files provide four progressive levels for decoding, as described in the GIF specification.</span></span> <span data-ttu-id="4740e-252">Cada passagem popula determinadas linhas em uma imagem, produzindo uma imagem completa após a quarta passagem.</span><span class="sxs-lookup"><span data-stu-id="4740e-252">Each pass populates certain rows within an image, producing a full image after the fourth pass.</span></span> <span data-ttu-id="4740e-253">A tabela a seguir da especificação GIF mostra quais linhas de verificação são decodificadas por cada passagem do decodificador.</span><span class="sxs-lookup"><span data-stu-id="4740e-253">The following table from the GIF specification shows which scan lines are decoded by each pass of the decoder.</span></span> 

| <span data-ttu-id="4740e-254">Número de nível/número de passagem</span><span class="sxs-lookup"><span data-stu-id="4740e-254">Level number/ pass number</span></span> | <span data-ttu-id="4740e-255">Linhas de verificação preenchidas</span><span class="sxs-lookup"><span data-stu-id="4740e-255">Scan lines populated</span></span>   | <span data-ttu-id="4740e-256">Iniciando linha de varredura</span><span class="sxs-lookup"><span data-stu-id="4740e-256">Starting scan line</span></span> |
|---------------------------|------------------------|--------------------|
| <span data-ttu-id="4740e-257">1</span><span class="sxs-lookup"><span data-stu-id="4740e-257">1</span></span>                         | <span data-ttu-id="4740e-258">Toda oitava linha de varredura</span><span class="sxs-lookup"><span data-stu-id="4740e-258">Every eighth scan line</span></span> | <span data-ttu-id="4740e-259">0</span><span class="sxs-lookup"><span data-stu-id="4740e-259">0</span></span>                  |
| <span data-ttu-id="4740e-260">2</span><span class="sxs-lookup"><span data-stu-id="4740e-260">2</span></span>                         | <span data-ttu-id="4740e-261">Toda oitava linha de varredura</span><span class="sxs-lookup"><span data-stu-id="4740e-261">Every eighth scan line</span></span> | <span data-ttu-id="4740e-262">4</span><span class="sxs-lookup"><span data-stu-id="4740e-262">4</span></span>                  |
| <span data-ttu-id="4740e-263">3</span><span class="sxs-lookup"><span data-stu-id="4740e-263">3</span></span>                         | <span data-ttu-id="4740e-264">A cada quarta linha de varredura</span><span class="sxs-lookup"><span data-stu-id="4740e-264">Every fourth scan line</span></span> | <span data-ttu-id="4740e-265">2</span><span class="sxs-lookup"><span data-stu-id="4740e-265">2</span></span>                  |
| <span data-ttu-id="4740e-266">4</span><span class="sxs-lookup"><span data-stu-id="4740e-266">4</span></span>                         | <span data-ttu-id="4740e-267">Toda segunda linha de varredura</span><span class="sxs-lookup"><span data-stu-id="4740e-267">Every second scan line</span></span> | <span data-ttu-id="4740e-268">1</span><span class="sxs-lookup"><span data-stu-id="4740e-268">1</span></span>                  |



 

<span data-ttu-id="4740e-269">Embora os codecs possam especificar o conteúdo de pixels vazios em qualquer nível específico, o codec GIF do Windows popula as linhas de digitalização vazias replicando as linhas de digitalização preenchidas acima da linha de varredura vazia.</span><span class="sxs-lookup"><span data-stu-id="4740e-269">Although codecs can specify the content of empty pixels at any particular level, the Windows GIF codec populates empty scan lines by replicating populated scan lines above the empty scan line.</span></span>

## <a name="progressive-decoding-in-applications"></a><span data-ttu-id="4740e-270">Decodificação progressiva em aplicativos</span><span class="sxs-lookup"><span data-stu-id="4740e-270">Progressive Decoding in Applications</span></span>

<span data-ttu-id="4740e-271">A interface de decodificação progressiva principal é a interface [**IWICProgressiveLevelControl**](/windows/desktop/api/Wincodec/nn-wincodec-iwicprogressivelevelcontrol) .</span><span class="sxs-lookup"><span data-stu-id="4740e-271">The main progressive decoding interface is the [**IWICProgressiveLevelControl**](/windows/desktop/api/Wincodec/nn-wincodec-iwicprogressivelevelcontrol) interface.</span></span> <span data-ttu-id="4740e-272">Para obter uma referência à interface, consulte um quadro de imagem ([**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)) para **IWICProgressiveLevelControl**.</span><span class="sxs-lookup"><span data-stu-id="4740e-272">To obtain a reference to the interface, query an image frame ([**IWICBitmapFrameDecode**](/windows/desktop/api/Wincodec/nn-wincodec-iwicbitmapframedecode)) for **IWICProgressiveLevelControl**.</span></span> <span data-ttu-id="4740e-273">Os métodos progressivos podem ser acessados a partir da interface.</span><span class="sxs-lookup"><span data-stu-id="4740e-273">Progressive methods can then be accessed from the interface.</span></span>

<span data-ttu-id="4740e-274">O código a seguir fornece um exemplo para usar a decodificação progressiva em aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4740e-274">The code below provides an example for using progressive decoding in applications.</span></span>


```
IWICProgressiveLevelControl *pProgressive = NULL;

HRESULT hr = (pBitmapFrame->QueryInterface(
   IID_IWICProgressiveLevelControl, 
   (void**) &pProgressive));
                
if (SUCCEEDED(hr))
{
   for (UINT uCurrentLevel = 0; SUCCEEDED(hr); uCurrentLevel++)
   {
      hr = pProgressive->SetCurrentLevel(uCurrentLevel);
               if (WINCODEC_ERR_INVALIDPROGRESSIVELEVEL == hr)
      {
         // No more levels
         break;
      }

      if (SUCCEEDED(hr))
      {
         // Output the current level
         hr = pBitmapFrame->CopyPixels(...);
      }                      
   }
}

if (pProgressive)
{
   pProgressive->Release();
}
```



<span data-ttu-id="4740e-275">O código anterior fornece a funcionalidade básica necessária para implementar a decodificação progressiva na maioria dos aplicativos.</span><span class="sxs-lookup"><span data-stu-id="4740e-275">The preceding code provides the basic functionality necessary for implementing progressive decoding in most applications.</span></span> <span data-ttu-id="4740e-276">Usando o código, os níveis progressivos podem ser acessados como dados de pixel de imagem ficam disponíveis.</span><span class="sxs-lookup"><span data-stu-id="4740e-276">Using the code, progressive levels can be accessed as image pixel data becomes available.</span></span> <span data-ttu-id="4740e-277">A função [**SetCurrentLevel**](/windows/desktop/api/Wincodec/nf-wincodec-iwicprogressivelevelcontrol-setcurrentlevel) bloqueia a execução até que o nível solicitado esteja disponível.</span><span class="sxs-lookup"><span data-stu-id="4740e-277">The [**SetCurrentLevel**](/windows/desktop/api/Wincodec/nf-wincodec-iwicprogressivelevelcontrol-setcurrentlevel) function blocks execution until the level being requested is available.</span></span>

## <a name="custom-codec-support-for-progressive-decoding"></a><span data-ttu-id="4740e-278">Suporte de codec personalizado para decodificação progressiva</span><span class="sxs-lookup"><span data-stu-id="4740e-278">Custom Codec Support for Progressive Decoding</span></span>

<span data-ttu-id="4740e-279">Os desenvolvedores de codec podem optar por implementar o [**IWICProgressiveLevelControl**](/windows/desktop/api/Wincodec/nn-wincodec-iwicprogressivelevelcontrol) se seus formatos de imagem oferecerem suporte à decodificação progressiva.</span><span class="sxs-lookup"><span data-stu-id="4740e-279">Codec developers may choose to implement the [**IWICProgressiveLevelControl**](/windows/desktop/api/Wincodec/nn-wincodec-iwicprogressivelevelcontrol) if their image formats support progressive decoding.</span></span> <span data-ttu-id="4740e-280">O suporte para decodificação progressiva não é um requisito para descoberta e arbitragem pelo WIC.</span><span class="sxs-lookup"><span data-stu-id="4740e-280">Support for progressive decoding is not a requirement for discovery and arbitration by WIC.</span></span> <span data-ttu-id="4740e-281">No entanto, a decodificação progressiva aprimora muito a experiência do usuário e a implementação deve ser considerada se possível.</span><span class="sxs-lookup"><span data-stu-id="4740e-281">However, progressive decoding greatly enhances the user experience, and implementation should be considered if possible.</span></span>

## <a name="related-topics"></a><span data-ttu-id="4740e-282">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="4740e-282">Related topics</span></span>

<dl> <dt>

<span data-ttu-id="4740e-283">**Conceitua**</span><span class="sxs-lookup"><span data-stu-id="4740e-283">**Conceptual**</span></span>
</dt> <dt>

[<span data-ttu-id="4740e-284">Visão geral do Windows Imaging Component</span><span class="sxs-lookup"><span data-stu-id="4740e-284">Windows Imaging Component Overview</span></span>](-wic-about-windows-imaging-codec.md)
</dt> <dt>

<span data-ttu-id="4740e-285">**Outros recursos**</span><span class="sxs-lookup"><span data-stu-id="4740e-285">**Other Resources**</span></span>
</dt> <dt>

[<span data-ttu-id="4740e-286">Compactação e codificação digitais de Continuous-Tone imagens ainda-requisitos e diretrizes</span><span class="sxs-lookup"><span data-stu-id="4740e-286">Digital Compression and Coding of Continuous-Tone Still Images - Requirements and Guidelines</span></span>](https://www.w3.org/Graphics/JPEG/itu-t81.pdf)
</dt> <dt>

[<span data-ttu-id="4740e-287">Formato de intercâmbio de arquivos JPEG</span><span class="sxs-lookup"><span data-stu-id="4740e-287">JPEG File Interchange Format</span></span>](https://www.w3.org/Graphics/JPEG/jfif3.pdf)
</dt> <dt>

[<span data-ttu-id="4740e-288">Especificação de GIF89a</span><span class="sxs-lookup"><span data-stu-id="4740e-288">GIF89a Specification</span></span>](https://www.w3.org/Graphics/GIF/spec-gif89a.txt)
</dt> <dt>

[<span data-ttu-id="4740e-289">Especificação e extensões PNG (Portable Network Graphics)</span><span class="sxs-lookup"><span data-stu-id="4740e-289">Portable Network Graphics (PNG) Specification and Extensions</span></span>](http://www.libpng.org/pub/png/spec/)
</dt> </dl>

 

 



