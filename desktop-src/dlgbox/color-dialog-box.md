---
title: Caixa de diálogo Cor
description: Exibe uma caixa de diálogo modal que permite ao usuário escolher um valor de cor específico.
ms.assetid: 248586b5-5068-4021-8407-56eb79243789
keywords:
- entrada do usuário, biblioteca de caixa de diálogo comum
- capturando entrada do usuário, biblioteca de caixa de diálogo comum
- Biblioteca de caixa de diálogo comum
- caixas de diálogo comuns
- Caixa de diálogo Cor
- caixa de diálogo cor parcial
- caixa de diálogo cor completa
- Personalizando a caixa de diálogo cor
- Modelo de cor RGB
- Modelo de cor HSL
- luminosidade da saturação de matiz (HSL)
- HSL (luminosidade de saturação de matiz)
- RGB (vermelho verde azul)
- vermelho verde azul (RGB)
- caixa de diálogo ganchos, cor
- caixas de diálogo predefinidas
- caixas de diálogo, cor
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 4bb90150f49ea7bed4edac53af40ba89e0459946
ms.sourcegitcommit: 56f8e4d5119e5018363fa2dc3472cdff203c6913
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 11/19/2020
ms.locfileid: "104559551"
---
# <a name="color-dialog-box"></a><span data-ttu-id="68ece-120">Caixa de diálogo Cor</span><span class="sxs-lookup"><span data-stu-id="68ece-120">Color Dialog Box</span></span>

<span data-ttu-id="68ece-121">Exibe uma caixa de diálogo modal que permite ao usuário escolher um valor de cor específico.</span><span class="sxs-lookup"><span data-stu-id="68ece-121">Displays a modal dialog box that allows the user to choose a specific color value.</span></span> <span data-ttu-id="68ece-122">O usuário pode escolher uma cor de um conjunto de paletas de cores básicas ou personalizadas.</span><span class="sxs-lookup"><span data-stu-id="68ece-122">The user can choose a color from either a set of basic or custom color palettes.</span></span> <span data-ttu-id="68ece-123">Como alternativa, o usuário pode gerar um valor de cor modificando os valores de cor RGB ou matiz, saturação, luminosidade (HSL) da interface do usuário da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-123">Alternatively, the user can generate a color value by modifying the RGB or hue, saturation, luminosity (HSL) color values of the dialog box user interface.</span></span> <span data-ttu-id="68ece-124">A caixa de diálogo **cor** retorna o valor RGB da cor selecionada pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="68ece-124">The **Color** dialog box returns the RGB value of the color selected by the user.</span></span>

<span data-ttu-id="68ece-125">Você cria e exibe uma caixa de diálogo de **cor** inicializando uma estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) e passando a estrutura para a função [**CHOOSECOLOR**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) .</span><span class="sxs-lookup"><span data-stu-id="68ece-125">You create and display a **Color** dialog box by initializing a [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure and passing the structure to the [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function.</span></span> <span data-ttu-id="68ece-126">Ao definir valores de parâmetros diferentes para a estrutura **CHOOSECOLOR** , você pode afetar como a caixa de diálogo cor é exibida.</span><span class="sxs-lookup"><span data-stu-id="68ece-126">By setting different parameter values for the **CHOOSECOLOR** structure, you can affect how the Color dialog box appears.</span></span> <span data-ttu-id="68ece-127">Por exemplo, você pode exibir uma versão completa ou parcial da interface do usuário da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-127">For example, you can display either a full or partial user interface version of the dialog box.</span></span> <span data-ttu-id="68ece-128">A ilustração a seguir mostra a versão completa da interface do usuário da caixa de diálogo **cor** .</span><span class="sxs-lookup"><span data-stu-id="68ece-128">The following illustration shows the full user interface version of the **Color** dialog box.</span></span>

![caixa de diálogo de cor](images/colordialogboxxp.png)

<span data-ttu-id="68ece-130">Se o usuário clicar no botão **OK** , [**CHOOSECOLOR**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) retornará **true**.</span><span class="sxs-lookup"><span data-stu-id="68ece-130">If the user clicks the **OK** button, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **TRUE**.</span></span> <span data-ttu-id="68ece-131">O membro **rgbResult** da estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) contém o valor de cor RGB da cor selecionada pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="68ece-131">The **rgbResult** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure contains the RGB color value of the color selected by the user.</span></span> <span data-ttu-id="68ece-132">O valor de cor RGB especifica as intensidades das cores de vermelho, verde e azul individuais que compõem a cor selecionada.</span><span class="sxs-lookup"><span data-stu-id="68ece-132">The RGB color value specifies the intensities of the individual red, green, and blue colors that make up the selected color.</span></span> <span data-ttu-id="68ece-133">Os valores individuais variam de 0 a 255.</span><span class="sxs-lookup"><span data-stu-id="68ece-133">The individual values range from 0 through 255.</span></span> <span data-ttu-id="68ece-134">Use as macros [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue)e [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) para extrair cores individuais de um valor de cor RGB.</span><span class="sxs-lookup"><span data-stu-id="68ece-134">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue), and [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue) macros to extract individual colors from an RGB color value.</span></span>

<span data-ttu-id="68ece-135">Se o usuário cancelar a caixa de diálogo **cor** ou ocorrer um erro, [**CHOOSECOLOR**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) retornará **false** e o membro **rgbResult** não será definido.</span><span class="sxs-lookup"><span data-stu-id="68ece-135">If the user cancels the **Color** dialog box or an error occurs, [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) returns **FALSE** and the **rgbResult** member is not defined.</span></span> <span data-ttu-id="68ece-136">Para determinar a causa do erro, chame a função [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar o valor de erro estendido.</span><span class="sxs-lookup"><span data-stu-id="68ece-136">To determine the cause of the error, call the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="68ece-137">Os seguintes assuntos são abordados nesta seção</span><span class="sxs-lookup"><span data-stu-id="68ece-137">The following subjects are covered in this section</span></span>

-   [<span data-ttu-id="68ece-138">Caixas de diálogo de cor completa e parcial</span><span class="sxs-lookup"><span data-stu-id="68ece-138">Full and Partial Color Dialog Boxes</span></span>](#full-and-partial-color-dialog-boxes)
-   [<span data-ttu-id="68ece-139">Personalizando a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-139">Customizing the Color Dialog Box</span></span>](#customizing-the-color-dialog-box)
    -   [<span data-ttu-id="68ece-140">Para fornecer um modelo personalizado para a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-140">To provide a custom template for the Color dialog box</span></span>](#to-provide-a-custom-template-for-the-color-dialog-box)
    -   [<span data-ttu-id="68ece-141">Para habilitar um procedimento de gancho para a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-141">To enable a hook procedure for the Color dialog box</span></span>](#to-enable-a-hook-procedure-for-the-color-dialog-box)
-   [<span data-ttu-id="68ece-142">Modelos de cores usados pela caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-142">Color Models Used by the Color Dialog Box</span></span>](#color-models-used-by-the-color-dialog-box)
    -   [<span data-ttu-id="68ece-143">Modelo de cor RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-143">RGB Color Model</span></span>](#rgb-color-model)
    -   [<span data-ttu-id="68ece-144">Modelo de cor HSL</span><span class="sxs-lookup"><span data-stu-id="68ece-144">HSL Color Model</span></span>](#hsl-color-model)
    -   [<span data-ttu-id="68ece-145">Convertendo valores HSL em valores RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-145">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

## <a name="full-and-partial-color-dialog-boxes"></a><span data-ttu-id="68ece-146">Caixas de diálogo de cor completa e parcial</span><span class="sxs-lookup"><span data-stu-id="68ece-146">Full and Partial Color Dialog Boxes</span></span>

<span data-ttu-id="68ece-147">A caixa de diálogo cor tem uma versão completa e uma versão parcial da interface do usuário.</span><span class="sxs-lookup"><span data-stu-id="68ece-147">The Color dialog box has a full version and a partial version of the user interface.</span></span> <span data-ttu-id="68ece-148">A versão completa inclui os controles básicos e tem controles adicionais que permitem ao usuário criar cores personalizadas.</span><span class="sxs-lookup"><span data-stu-id="68ece-148">The full version includes the basic controls and has additional controls that allow the user to create custom colors.</span></span> <span data-ttu-id="68ece-149">A versão parcial tem controles que exibem as paletas de cores básica e personalizada das quais o usuário pode selecionar um valor de cor.</span><span class="sxs-lookup"><span data-stu-id="68ece-149">The partial version has controls that display the basic and custom color palettes from which the user can select a color value.</span></span>

<span data-ttu-id="68ece-150">A versão parcial da caixa de diálogo cor inclui um botão **definir cores personalizadas** .</span><span class="sxs-lookup"><span data-stu-id="68ece-150">The partial version of the Color dialog box includes a **Define Custom Colors** button.</span></span> <span data-ttu-id="68ece-151">O usuário pode clicar nesse botão para exibir a versão completa.</span><span class="sxs-lookup"><span data-stu-id="68ece-151">The user can click this button to display the full version.</span></span> <span data-ttu-id="68ece-152">Você pode direcionar a caixa de diálogo cor para sempre exibir a versão completa definindo o sinalizador **CC \_ FULLOPEN** no membro **flags** da estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="68ece-152">You can direct the Color dialog box to always display the full version by setting the **CC\_FULLOPEN** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="68ece-153">Para impedir que o usuário crie cores personalizadas, você pode definir o **sinalizador \_ PREVENTFULLOPEN do CC** para desabilitar o botão **definir cores personalizadas** .</span><span class="sxs-lookup"><span data-stu-id="68ece-153">To prevent the user from creating custom colors, you can set the **CC\_PREVENTFULLOPEN** flag to disable the **Define Custom Colors** button.</span></span>

<span data-ttu-id="68ece-154">As cores básicas representam uma seleção das cores disponíveis no dispositivo especificado.</span><span class="sxs-lookup"><span data-stu-id="68ece-154">The basic colors represent a selection of the colors available on the specified device.</span></span> <span data-ttu-id="68ece-155">O número real de cores exibidas é determinado pelo driver de vídeo.</span><span class="sxs-lookup"><span data-stu-id="68ece-155">The actual number of colors displayed is determined by the display driver.</span></span> <span data-ttu-id="68ece-156">Por exemplo, um driver VGA exibe 48 cores e um driver de vídeo monocromático exibe apenas 16.</span><span class="sxs-lookup"><span data-stu-id="68ece-156">For example, a VGA driver displays 48 colors, and a monochrome display driver displays only 16.</span></span>

<span data-ttu-id="68ece-157">As cores personalizadas são aquelas que você especifica ou que o usuário cria.</span><span class="sxs-lookup"><span data-stu-id="68ece-157">The custom colors are those that you specify or that the user creates.</span></span> <span data-ttu-id="68ece-158">Ao criar uma caixa de diálogo de cor, você deve usar o membro **lpCustColors** da estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) para especificar os valores iniciais para as 16 cores personalizadas.</span><span class="sxs-lookup"><span data-stu-id="68ece-158">When you create a Color dialog box, you must use the **lpCustColors** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to specify the initial values for the 16 custom colors.</span></span> <span data-ttu-id="68ece-159">Se a versão completa da caixa de diálogo cor estiver aberta, o usuário poderá criar uma cor personalizada por um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="68ece-159">If the full version of the Color dialog box is open, the user can create a custom color by one the following methods:</span></span>

-   <span data-ttu-id="68ece-160">Movendo o cursor no controle do espectro de cores e o controle deslizante de luminosidade</span><span class="sxs-lookup"><span data-stu-id="68ece-160">Moving the cursor in the color spectrum control and the luminosity slide control</span></span>
-   <span data-ttu-id="68ece-161">Digitando valores RGB nos controles de edição **vermelho**, **verde** e **azul**</span><span class="sxs-lookup"><span data-stu-id="68ece-161">Typing RGB values in the **Red**, **Green**, and **Blue** edit controls</span></span>
-   <span data-ttu-id="68ece-162">Digitando valores HSL nos controles de edição **matiz**, **SAT** e **Lum**</span><span class="sxs-lookup"><span data-stu-id="68ece-162">Typing HSL values in the **Hue**, **Sat**, and **Lum** edit controls</span></span>

<span data-ttu-id="68ece-163">Para adicionar uma nova cor personalizada à exibição de cores personalizadas, o usuário pode clicar no botão **Adicionar às cores personalizadas** .</span><span class="sxs-lookup"><span data-stu-id="68ece-163">To add a new custom color to the custom colors display, the user can click the **Add to Custom Colors** button.</span></span> <span data-ttu-id="68ece-164">Isso também faz com que a caixa de diálogo Copie o valor RGB da nova cor para o elemento correspondente na matriz apontada pelo membro **lpCustColors** .</span><span class="sxs-lookup"><span data-stu-id="68ece-164">This also causes the dialog box to copy the RGB value of the new color to the corresponding element in the array pointed to by the **lpCustColors** member.</span></span> <span data-ttu-id="68ece-165">Para preservar novas cores personalizadas entre chamadas para [**CHOOSECOLOR**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), você deve alocar memória estática para a matriz.</span><span class="sxs-lookup"><span data-stu-id="68ece-165">To preserve new custom colors between calls to [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)), you should allocate static memory for the array.</span></span> <span data-ttu-id="68ece-166">Para obter mais informações sobre os modelos de cores RGB e HSL, consulte [modelos de cores usados pela caixa de diálogo cor](#color-models-used-by-the-color-dialog-box).</span><span class="sxs-lookup"><span data-stu-id="68ece-166">For more information about the RGB and HSL color models, see [Color Models Used by the Color Dialog Box](#color-models-used-by-the-color-dialog-box).</span></span>

## <a name="customizing-the-color-dialog-box"></a><span data-ttu-id="68ece-167">Personalizando a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-167">Customizing the Color Dialog Box</span></span>

<span data-ttu-id="68ece-168">Para personalizar uma caixa de diálogo de cores, você pode usar qualquer um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="68ece-168">To customize a Color dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="68ece-169">Especificar valores na estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) ao criar a caixa de diálogo</span><span class="sxs-lookup"><span data-stu-id="68ece-169">Specify values in the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure when you create the dialog box</span></span>
-   <span data-ttu-id="68ece-170">Fornecer um modelo personalizado</span><span class="sxs-lookup"><span data-stu-id="68ece-170">Provide a custom template</span></span>
-   <span data-ttu-id="68ece-171">Fornecer um procedimento de gancho</span><span class="sxs-lookup"><span data-stu-id="68ece-171">Provide a hook procedure</span></span>

<span data-ttu-id="68ece-172">Você pode modificar a aparência e o comportamento da caixa de diálogo cor definindo sinalizadores no membro **flags** da estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="68ece-172">You can modify the appearance and behavior of the Color dialog box by setting flags in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span> <span data-ttu-id="68ece-173">Por exemplo, você pode definir o sinalizador **CC \_ SOLIDCOLOR** para direcionar a caixa de diálogo para exibir apenas cores sólidas.</span><span class="sxs-lookup"><span data-stu-id="68ece-173">For example, you can set the **CC\_SOLIDCOLOR** flag to direct the dialog box to display only solid colors.</span></span> <span data-ttu-id="68ece-174">Para fazer com que a caixa de diálogo Selecione inicialmente uma cor diferente de preto, defina o sinalizador **CC \_ RGBINIT** e especifique uma cor no membro **rgbResult** .</span><span class="sxs-lookup"><span data-stu-id="68ece-174">To cause the dialog box to initially select a color other than black, set the **CC\_RGBINIT** flag and specify a color in the **rgbResult** member.</span></span>

<span data-ttu-id="68ece-175">Você pode fornecer um modelo personalizado para a caixa de diálogo cor, por exemplo, se desejar incluir controles adicionais que sejam exclusivos para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="68ece-175">You can provide a custom template for the Color dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="68ece-176">A função [**CHOOSECOLOR**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) usa o modelo personalizado no lugar do modelo padrão.</span><span class="sxs-lookup"><span data-stu-id="68ece-176">The [**ChooseColor**](/previous-versions/windows/desktop/legacy/ms646912(v=vs.85)) function uses your custom template in place of the default template.</span></span>

### <a name="to-provide-a-custom-template-for-the-color-dialog-box"></a><span data-ttu-id="68ece-177">Para fornecer um modelo personalizado para a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-177">To provide a custom template for the Color dialog box</span></span>

1.  <span data-ttu-id="68ece-178">Crie o modelo personalizado modificando o modelo padrão especificado no arquivo Color. Dlg.</span><span class="sxs-lookup"><span data-stu-id="68ece-178">Create the custom template by modifying the default template specified in the Color.dlg file.</span></span> <span data-ttu-id="68ece-179">Os identificadores de controle usados no modelo de caixa de diálogo cor padrão são definidos no arquivo Color. Dlg.</span><span class="sxs-lookup"><span data-stu-id="68ece-179">The control identifiers used in the default Color dialog template are defined in the Color.dlg file.</span></span>
2.  <span data-ttu-id="68ece-180">Use a estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) para habilitar o modelo da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="68ece-180">Use the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="68ece-181">Se o modelo personalizado for um recurso em um aplicativo ou biblioteca de vínculo dinâmico, defina o sinalizador de **\_ habilitação de CC** no membro **flags** .</span><span class="sxs-lookup"><span data-stu-id="68ece-181">If your custom template is a resource in an application or dynamic link library, set the **CC\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="68ece-182">Use os membros **HINSTANCE** e **lpTemplateName** da estrutura para identificar o módulo e o nome do recurso.</span><span class="sxs-lookup"><span data-stu-id="68ece-182">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

        <span data-ttu-id="68ece-183">-Ou-</span><span class="sxs-lookup"><span data-stu-id="68ece-183">-Or-</span></span>

    -   <span data-ttu-id="68ece-184">Se o modelo personalizado já estiver na memória, defina o **sinalizador \_ ENABLETEMPLATEHANDLE do CC** .</span><span class="sxs-lookup"><span data-stu-id="68ece-184">If your custom template is already in memory, set the **CC\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="68ece-185">Use o membro **HINSTANCE** para identificar o objeto de memória que contém o modelo.</span><span class="sxs-lookup"><span data-stu-id="68ece-185">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="68ece-186">Você pode fornecer um procedimento de gancho [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) para a caixa de diálogo cor.</span><span class="sxs-lookup"><span data-stu-id="68ece-186">You can provide a [**CCHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcchookproc) hook procedure for the Color dialog box.</span></span> <span data-ttu-id="68ece-187">O procedimento de gancho pode processar mensagens enviadas para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-187">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="68ece-188">Ele também pode usar mensagens registradas para controlar o comportamento da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-188">It can also use registered messages to control the behavior of the dialog box.</span></span> <span data-ttu-id="68ece-189">Se você usar um modelo personalizado para definir controles adicionais, deverá fornecer um procedimento de gancho para processar a entrada para seus controles.</span><span class="sxs-lookup"><span data-stu-id="68ece-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

### <a name="to-enable-a-hook-procedure-for-the-color-dialog-box"></a><span data-ttu-id="68ece-190">Para habilitar um procedimento de gancho para a caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-190">To enable a hook procedure for the Color dialog box</span></span>

1.  <span data-ttu-id="68ece-191">Defina o **sinalizador \_ ENABLEHOOK do CC** no membro **flags** da estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) .</span><span class="sxs-lookup"><span data-stu-id="68ece-191">Set the **CC\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure.</span></span>
2.  <span data-ttu-id="68ece-192">Especifique o endereço do procedimento de gancho no membro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="68ece-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="68ece-193">Depois de processar sua mensagem do [**WM \_ INITDIALOG**](wm-initdialog.md) , o procedimento da caixa de diálogo envia uma mensagem do **WM \_ INITDIALOG** para o procedimento de gancho.</span><span class="sxs-lookup"><span data-stu-id="68ece-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="68ece-194">O parâmetro *lParam* dessa mensagem é um ponteiro para a estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) usada para inicializar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-194">The *lParam* parameter of this message is a pointer to the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="68ece-195">A caixa de diálogo envia a mensagem registrada [**COLOROKSTRING**](colorokstring.md) para o procedimento de gancho quando o usuário clica no botão **OK** .</span><span class="sxs-lookup"><span data-stu-id="68ece-195">The dialog box sends the [**COLOROKSTRING**](colorokstring.md) registered message to the hook procedure when the user clicks the **OK** button.</span></span> <span data-ttu-id="68ece-196">O procedimento de gancho pode rejeitar a cor selecionada e forçar a caixa de diálogo a permanecer aberta retornando zero ao receber essa mensagem.</span><span class="sxs-lookup"><span data-stu-id="68ece-196">The hook procedure can reject the selected color and force the dialog box to remain open by returning zero when it receives this message.</span></span> <span data-ttu-id="68ece-197">O procedimento de gancho pode forçar a caixa de diálogo a selecionar uma cor específica, enviando a mensagem registrada [**SETRGBSTRING**](setrgbstring.md) para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-197">The hook procedure can force the dialog box to select a particular color by sending the [**SETRGBSTRING**](setrgbstring.md) registered message to the dialog box.</span></span> <span data-ttu-id="68ece-198">Para usar essas mensagens registradas, você deve passar as constantes **COLOROKSTRING** e **SETRGBSTRING** para a função [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) para obter um identificador de mensagem.</span><span class="sxs-lookup"><span data-stu-id="68ece-198">To use these registered messages, you must pass the **COLOROKSTRING** and **SETRGBSTRING** constants to the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier.</span></span> <span data-ttu-id="68ece-199">Você pode usar o identificador para detectar e processar mensagens enviadas da caixa de diálogo ou para enviar mensagens para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="68ece-199">You can then use the identifier to detect and process messages sent from the dialog box, or to send messages to the dialog box.</span></span>

## <a name="color-models-used-by-the-color-dialog-box"></a><span data-ttu-id="68ece-200">Modelos de cores usados pela caixa de diálogo cor</span><span class="sxs-lookup"><span data-stu-id="68ece-200">Color Models Used by the Color Dialog Box</span></span>

<span data-ttu-id="68ece-201">A extensão cores personalizadas da caixa de diálogo cor permite que o usuário especifique uma cor usando valores RGB ou HSL.</span><span class="sxs-lookup"><span data-stu-id="68ece-201">The custom colors extension of the Color dialog box allows the user to specify a color using RGB or HSL values.</span></span> <span data-ttu-id="68ece-202">No entanto, a estrutura [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) usa apenas valores RGB para relatar as cores criadas ou selecionadas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="68ece-202">However, the [**CHOOSECOLOR**](/windows/win32/api/commdlg/ns-commdlg-choosecolora-r1) structure uses only RGB values to report the colors created or selected by the user.</span></span>

-   [<span data-ttu-id="68ece-203">Modelo de cor RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-203">RGB Color Model</span></span>](#rgb-color-model)
-   [<span data-ttu-id="68ece-204">Modelo de cor HSL</span><span class="sxs-lookup"><span data-stu-id="68ece-204">HSL Color Model</span></span>](#hsl-color-model)
-   [<span data-ttu-id="68ece-205">Convertendo valores HSL em valores RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-205">Converting HSL Values to RGB Values</span></span>](#converting-hsl-values-to-rgb-values)

### <a name="rgb-color-model"></a><span data-ttu-id="68ece-206">Modelo de cor RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-206">RGB Color Model</span></span>

<span data-ttu-id="68ece-207">O modelo RGB é usado para designar cores para monitores e outros dispositivos que emitem Light.</span><span class="sxs-lookup"><span data-stu-id="68ece-207">The RGB model is used to designate colors for displays and other devices that emit light.</span></span> <span data-ttu-id="68ece-208">Valores de vermelho, verde e azul válidos variam de 0 a 255, com 0 indicando a intensidade mínima e 255 indicando a intensidade máxima.</span><span class="sxs-lookup"><span data-stu-id="68ece-208">Valid red, green, and blue values range from 0 through 255, with 0 indicating minimum intensity and 255 indicating maximum intensity.</span></span> <span data-ttu-id="68ece-209">A ilustração a seguir mostra como as cores primárias vermelho, verde e azul podem ser combinadas para produzir quatro cores adicionais.</span><span class="sxs-lookup"><span data-stu-id="68ece-209">The following illustration shows how the primary colors red, green, and blue can be combined to produce four additional colors.</span></span> <span data-ttu-id="68ece-210">(Para dispositivos de vídeo, os resultados em preto de cor quando os valores vermelho, verde e azul são definidos como 0.</span><span class="sxs-lookup"><span data-stu-id="68ece-210">(For display devices, the color black results when the red, green, and blue values are set to 0.</span></span> <span data-ttu-id="68ece-211">Em tecnologia de vídeo, preto é a ausência de todas as cores.)</span><span class="sxs-lookup"><span data-stu-id="68ece-211">In display technology, black is the absence of all colors.)</span></span>

![sobrepondo círculos vermelho, verde e azul](images/rgbcolormodel.png)

<span data-ttu-id="68ece-213">A tabela a seguir lista oito cores do modelo RGB e seus valores RGB associados.</span><span class="sxs-lookup"><span data-stu-id="68ece-213">The following table lists eight colors of the RGB model and their associated RGB values.</span></span>



| <span data-ttu-id="68ece-214">Cor</span><span class="sxs-lookup"><span data-stu-id="68ece-214">Color</span></span>   | <span data-ttu-id="68ece-215">Valores RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-215">RGB values</span></span>    |
|---------|---------------|
| <span data-ttu-id="68ece-216">Vermelho</span><span class="sxs-lookup"><span data-stu-id="68ece-216">Red</span></span>     | <span data-ttu-id="68ece-217">255, 0, 0</span><span class="sxs-lookup"><span data-stu-id="68ece-217">255, 0, 0</span></span>     |
| <span data-ttu-id="68ece-218">Verde</span><span class="sxs-lookup"><span data-stu-id="68ece-218">Green</span></span>   | <span data-ttu-id="68ece-219">0, 255, 0</span><span class="sxs-lookup"><span data-stu-id="68ece-219">0, 255, 0</span></span>     |
| <span data-ttu-id="68ece-220">Azul</span><span class="sxs-lookup"><span data-stu-id="68ece-220">Blue</span></span>    | <span data-ttu-id="68ece-221">0, 0, 255</span><span class="sxs-lookup"><span data-stu-id="68ece-221">0, 0, 255</span></span>     |
| <span data-ttu-id="68ece-222">Cores</span><span class="sxs-lookup"><span data-stu-id="68ece-222">Cyan</span></span>    | <span data-ttu-id="68ece-223">0, 255, 255</span><span class="sxs-lookup"><span data-stu-id="68ece-223">0, 255, 255</span></span>   |
| <span data-ttu-id="68ece-224">Magenta</span><span class="sxs-lookup"><span data-stu-id="68ece-224">Magenta</span></span> | <span data-ttu-id="68ece-225">255, 0, 255</span><span class="sxs-lookup"><span data-stu-id="68ece-225">255, 0, 255</span></span>   |
| <span data-ttu-id="68ece-226">Amarelo</span><span class="sxs-lookup"><span data-stu-id="68ece-226">Yellow</span></span>  | <span data-ttu-id="68ece-227">255, 255, 0</span><span class="sxs-lookup"><span data-stu-id="68ece-227">255, 255, 0</span></span>   |
| <span data-ttu-id="68ece-228">Branca</span><span class="sxs-lookup"><span data-stu-id="68ece-228">White</span></span>   | <span data-ttu-id="68ece-229">255, 255, 255</span><span class="sxs-lookup"><span data-stu-id="68ece-229">255, 255, 255</span></span> |
| <span data-ttu-id="68ece-230">Preto</span><span class="sxs-lookup"><span data-stu-id="68ece-230">Black</span></span>   | <span data-ttu-id="68ece-231">0, 0, 0</span><span class="sxs-lookup"><span data-stu-id="68ece-231">0, 0, 0</span></span>       |



 

<span data-ttu-id="68ece-232">O sistema armazena cores internas como valores RGB de 32 bits que têm o seguinte formato hexadecimal: 0x00bbggrr.</span><span class="sxs-lookup"><span data-stu-id="68ece-232">The system stores internal colors as 32-bit RGB values that have the following hexadecimal form: 0x00bbggrr.</span></span>

<span data-ttu-id="68ece-233">O byte de ordem inferior contém um valor para a intensidade relativa de vermelho; o segundo byte contém um valor para verde; e o terceiro byte contém um valor para Blue.</span><span class="sxs-lookup"><span data-stu-id="68ece-233">The low-order byte contains a value for the relative intensity of red; the second byte contains a value for green; and the third byte contains a value for blue.</span></span> <span data-ttu-id="68ece-234">O byte de ordem superior deve ser zero.</span><span class="sxs-lookup"><span data-stu-id="68ece-234">The high-order byte must be zero.</span></span>

<span data-ttu-id="68ece-235">Você pode usar a macro [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) para obter um valor RGB com base em intensidades especificadas para os componentes vermelho, verde e azul.</span><span class="sxs-lookup"><span data-stu-id="68ece-235">You can use the [**RGB**](/windows/desktop/api/wingdi/nf-wingdi-rgb) macro to get an RGB value based on specified intensities for the red, green, and blue components.</span></span> <span data-ttu-id="68ece-236">Use as macros [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue)e [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) para extrair cores individuais de um valor de cor RGB.</span><span class="sxs-lookup"><span data-stu-id="68ece-236">Use the [**GetRValue**](/windows/desktop/api/wingdi/nf-wingdi-getrvalue), [**GetBValue**](/windows/desktop/api/wingdi/nf-wingdi-getbvalue), and [**GetGValue**](/windows/desktop/api/wingdi/nf-wingdi-getgvalue) macros to extract individual colors from an RGB color value.</span></span>

### <a name="hsl-color-model"></a><span data-ttu-id="68ece-237">Modelo de cor HSL</span><span class="sxs-lookup"><span data-stu-id="68ece-237">HSL Color Model</span></span>

<span data-ttu-id="68ece-238">A caixa de diálogo cor fornece controles para especificar valores HSL.</span><span class="sxs-lookup"><span data-stu-id="68ece-238">The Color dialog box provides controls for specifying HSL values.</span></span> <span data-ttu-id="68ece-239">A ilustração a seguir mostra o controle de espectro de cores e o controle de deslize de luminosidade que aparecem na caixa de diálogo cor.</span><span class="sxs-lookup"><span data-stu-id="68ece-239">The following illustration shows the color spectrum control and the luminosity slide control that appear in the Color dialog box.</span></span> <span data-ttu-id="68ece-240">A ilustração também mostra os intervalos de valores que o usuário pode especificar com esses controles.</span><span class="sxs-lookup"><span data-stu-id="68ece-240">The illustration also shows the ranges of values the user can specify with these controls.</span></span>

![espectro de cores e escala de luminosidade](images/colordialogranges.png)

<span data-ttu-id="68ece-242">Na caixa de diálogo cor, os valores de saturação e luminosidade devem estar no intervalo de 0 a 240, e o valor de matiz deve estar no intervalo de 0 a 239.</span><span class="sxs-lookup"><span data-stu-id="68ece-242">In the Color dialog box, the saturation and luminosity values must be in the range 0 through 240, and the hue value must be in the range 0 through 239.</span></span>

### <a name="converting-hsl-values-to-rgb-values"></a><span data-ttu-id="68ece-243">Convertendo valores HSL em valores RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-243">Converting HSL Values to RGB Values</span></span>

<span data-ttu-id="68ece-244">O procedimento da caixa de diálogo fornecido no Comdlg32.dll da caixa de diálogo cor contém o código que converte os valores HSL nos valores RGB correspondentes.</span><span class="sxs-lookup"><span data-stu-id="68ece-244">The dialog box procedure provided in Comdlg32.dll for the Color dialog box contains code that converts HSL values to the corresponding RGB values.</span></span> <span data-ttu-id="68ece-245">A tabela a seguir lista oito cores do modelo RGB e seus valores HSL e RGB associados.</span><span class="sxs-lookup"><span data-stu-id="68ece-245">The following table lists eight colors of the RGB model and their associated HSL and RGB values.</span></span>



| <span data-ttu-id="68ece-246">Cor</span><span class="sxs-lookup"><span data-stu-id="68ece-246">Color</span></span>   | <span data-ttu-id="68ece-247">Valores HSL</span><span class="sxs-lookup"><span data-stu-id="68ece-247">HSL values</span></span>      | <span data-ttu-id="68ece-248">Valores RGB</span><span class="sxs-lookup"><span data-stu-id="68ece-248">RGB values</span></span>      |
|---------|-----------------|-----------------|
| <span data-ttu-id="68ece-249">Vermelho</span><span class="sxs-lookup"><span data-stu-id="68ece-249">Red</span></span>     | <span data-ttu-id="68ece-250">(0, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-250">(0, 240, 120)</span></span>   | <span data-ttu-id="68ece-251">(255, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="68ece-251">(255, 0, 0)</span></span>     |
| <span data-ttu-id="68ece-252">Amarelo</span><span class="sxs-lookup"><span data-stu-id="68ece-252">Yellow</span></span>  | <span data-ttu-id="68ece-253">(40, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-253">(40, 240, 120)</span></span>  | <span data-ttu-id="68ece-254">(255, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="68ece-254">(255, 255, 0)</span></span>   |
| <span data-ttu-id="68ece-255">Verde</span><span class="sxs-lookup"><span data-stu-id="68ece-255">Green</span></span>   | <span data-ttu-id="68ece-256">(80, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-256">(80, 240, 120)</span></span>  | <span data-ttu-id="68ece-257">(0, 255, 0)</span><span class="sxs-lookup"><span data-stu-id="68ece-257">(0, 255, 0)</span></span>     |
| <span data-ttu-id="68ece-258">Cores</span><span class="sxs-lookup"><span data-stu-id="68ece-258">Cyan</span></span>    | <span data-ttu-id="68ece-259">(120, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-259">(120, 240, 120)</span></span> | <span data-ttu-id="68ece-260">(0, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="68ece-260">(0, 255, 255)</span></span>   |
| <span data-ttu-id="68ece-261">Azul</span><span class="sxs-lookup"><span data-stu-id="68ece-261">Blue</span></span>    | <span data-ttu-id="68ece-262">(160, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-262">(160, 240, 120)</span></span> | <span data-ttu-id="68ece-263">(0, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="68ece-263">(0, 0, 255)</span></span>     |
| <span data-ttu-id="68ece-264">Magenta</span><span class="sxs-lookup"><span data-stu-id="68ece-264">Magenta</span></span> | <span data-ttu-id="68ece-265">(200, 240, 120)</span><span class="sxs-lookup"><span data-stu-id="68ece-265">(200, 240, 120)</span></span> | <span data-ttu-id="68ece-266">(255, 0, 255)</span><span class="sxs-lookup"><span data-stu-id="68ece-266">(255, 0, 255)</span></span>   |
| <span data-ttu-id="68ece-267">Branca</span><span class="sxs-lookup"><span data-stu-id="68ece-267">White</span></span>   | <span data-ttu-id="68ece-268">(0, 0, 240)</span><span class="sxs-lookup"><span data-stu-id="68ece-268">(0, 0, 240)</span></span>     | <span data-ttu-id="68ece-269">(255, 255, 255)</span><span class="sxs-lookup"><span data-stu-id="68ece-269">(255, 255, 255)</span></span> |
| <span data-ttu-id="68ece-270">Preto</span><span class="sxs-lookup"><span data-stu-id="68ece-270">Black</span></span>   | <span data-ttu-id="68ece-271">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="68ece-271">(0, 0, 0)</span></span>       | <span data-ttu-id="68ece-272">(0, 0, 0)</span><span class="sxs-lookup"><span data-stu-id="68ece-272">(0, 0, 0)</span></span>       |



 

 

 
