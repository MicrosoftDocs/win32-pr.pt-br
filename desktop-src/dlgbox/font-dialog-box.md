---
title: Caixa de diálogo de fonte
description: A caixa de diálogo fonte permite que o usuário escolha atributos para uma fonte lógica, como família de fontes e estilo de fonte associado, tamanho do ponto, efeitos (sublinhado, riscado e cor do texto) e um script (ou conjunto de caracteres).
ms.assetid: e8a996aa-4e34-45d0-a325-9c20b1a6ce07
keywords:
- Interface do usuário do Windows, entrada do usuário
- Interface do usuário do Windows, biblioteca de caixa de diálogo comum
- entrada do usuário, biblioteca de caixa de diálogo comum
- capturando entrada do usuário, biblioteca de caixa de diálogo comum
- Biblioteca de caixa de diálogo comum
- caixas de diálogo comuns
- caixa de diálogo Fonte
- caixa de diálogo Personalizando fonte
- sinalizadores, caixa de diálogo fonte
- sinalizadores de inicialização
- caixas de diálogo predefinidas
- caixas de diálogo, fonte
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: f9a752ce53ecf496c58efb0c346a8c3d67c4f1b1
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104008301"
---
# <a name="font-dialog-box"></a><span data-ttu-id="ff893-115">Caixa de diálogo de fonte</span><span class="sxs-lookup"><span data-stu-id="ff893-115">Font Dialog Box</span></span>

<span data-ttu-id="ff893-116">A caixa de diálogo **fonte** permite que o usuário escolha atributos para uma fonte lógica, como família de fontes e estilo de fonte associado, tamanho do ponto, efeitos (sublinhado, riscado e cor do texto) e um script (ou conjunto de caracteres).</span><span class="sxs-lookup"><span data-stu-id="ff893-116">The **Font** dialog box lets the user choose attributes for a logical font, such as font family and associated font style, point size, effects (underline, strikeout, and text color), and a script (or character set).</span></span>

<span data-ttu-id="ff893-117">Você cria e exibe uma caixa de diálogo de **fonte** inicializando uma estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) e passando a estrutura para a função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="ff893-117">You create and display a **Font** dialog box by initializing a [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure and passing the structure to the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function.</span></span>

<span data-ttu-id="ff893-118">A captura de tela a seguir mostra uma caixa de diálogo de **fonte** típica.</span><span class="sxs-lookup"><span data-stu-id="ff893-118">The following screen shot shows a typical **Font** dialog box.</span></span>

![captura de tela mostrando a caixa de diálogo fonte](images/fontdialogboxxp.png)

<span data-ttu-id="ff893-120">Se o usuário clicar no botão **OK** , a função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) retornará **true** e definirá as informações sobre a seleção do usuário na estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="ff893-120">If the user clicks the **OK** button, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns **TRUE** and sets the information about the user's selection in the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>

<span data-ttu-id="ff893-121">Se o usuário cancelar a caixa de diálogo **fonte** ou ocorrer um erro, [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) retornará **false** e o conteúdo da estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) não será definido.</span><span class="sxs-lookup"><span data-stu-id="ff893-121">If the user cancels the **Font** dialog box or an error occurs, [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns **FALSE** and the contents of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure are not defined.</span></span> <span data-ttu-id="ff893-122">Você pode determinar a causa de um erro usando a função [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar o valor de erro estendido.</span><span class="sxs-lookup"><span data-stu-id="ff893-122">You can determine the cause of an error by using the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="ff893-123">Os tópicos a seguir são discutidos nesta seção.</span><span class="sxs-lookup"><span data-stu-id="ff893-123">The following topics are discussed in this section.</span></span>

-   [<span data-ttu-id="ff893-124">Sinalizadores de inicialização da caixa de diálogo de fonte</span><span class="sxs-lookup"><span data-stu-id="ff893-124">Font Dialog Box Initialization Flags</span></span>](#font-dialog-box-initialization-flags)
-   [<span data-ttu-id="ff893-125">Personalizando a caixa de diálogo fonte em versões anteriores do Windows</span><span class="sxs-lookup"><span data-stu-id="ff893-125">Customizing the Font Dialog Box on earlier versions of Windows</span></span>](#customizing-the-font-dialog-box-on-earlier-versions-of-windows)
-   [<span data-ttu-id="ff893-126">Personalizando a caixa de diálogo fonte no Windows 7</span><span class="sxs-lookup"><span data-stu-id="ff893-126">Customizing the Font Dialog Box on Windows 7</span></span>](#customizing-the-font-dialog-box-on-windows-7)

## <a name="font-dialog-box-initialization-flags"></a><span data-ttu-id="ff893-127">Sinalizadores de inicialização da caixa de diálogo de fonte</span><span class="sxs-lookup"><span data-stu-id="ff893-127">Font Dialog Box Initialization Flags</span></span>

<span data-ttu-id="ff893-128">Antes de [**chamar ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta), o membro **flags** da [**estrutura CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) deve especificar o **CF \_ SCREENFONTS**, o **CF \_ PRINTERFONTS** ou **\_ o CF ambos**, para indicar se a caixa de diálogo deve listar as fontes da tela, as fontes da impressora ou ambos.</span><span class="sxs-lookup"><span data-stu-id="ff893-128">Before calling [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta), the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure must specify **CF\_SCREENFONTS**, **CF\_PRINTERFONTS**, or **CF\_BOTH**, to indicate whether the dialog box should list screen fonts, printer fonts, or both.</span></span> <span data-ttu-id="ff893-129">Se você especificar **o CF \_ PRINTERFONTS** ou o CF, o membro **HDC** da estrutura **ChooseFont** deverá especificar um identificador para um contexto de dispositivo para a impressora. **\_**</span><span class="sxs-lookup"><span data-stu-id="ff893-129">If you specify **CF\_PRINTERFONTS** or **CF\_BOTH**, the **hDC** member of the **CHOOSEFONT** structure must specify a handle to a device context for the printer.</span></span>

<span data-ttu-id="ff893-130">Se o sinalizador **CF \_ PRINTERFONTS** ou **CF \_ both** for definido, o rótulo de descrição do tipo de fonte aparecerá na parte inferior da caixa de diálogo **fonte** .</span><span class="sxs-lookup"><span data-stu-id="ff893-130">If the **CF\_PRINTERFONTS** or **CF\_BOTH** flag is set, the font type description label appears at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="ff893-131">A partir do Windows 7, os sinalizadores do **CF \_ PRINTERFONTS**, do **CF \_ SCREENFONTS**, do **CF \_ ambos** e do **CF \_ WYSIWYG** não são mais usados pela função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para a enumeração de fontes.</span><span class="sxs-lookup"><span data-stu-id="ff893-131">Starting with Windows 7, the **CF\_PRINTERFONTS**, **CF\_SCREENFONTS**, **CF\_BOTH**, and **CF\_WYSIWYG** flags are no longer used by the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function for font enumeration.</span></span> <span data-ttu-id="ff893-132">Eles são obsoletos no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ff893-132">They are obsolete in Windows 7.</span></span> <span data-ttu-id="ff893-133">No entanto, o sinalizador **\_ PRINTERFONTS do CF** retém uma função: para exibir o rótulo de descrição do tipo de fonte na parte inferior da caixa de diálogo **fonte** .</span><span class="sxs-lookup"><span data-stu-id="ff893-133">However, the **CF\_PRINTERFONTS** flag retains one function: to display the font type description label at the bottom of the **Font** dialog box.</span></span>

<span data-ttu-id="ff893-134">Você pode usar o membro **flags** para habilitar ou desabilitar alguns dos controles da caixa de diálogo **fonte** , e pode usar o membro **flags** em conjunto com outros membros [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para controlar os valores iniciais de alguns controles.</span><span class="sxs-lookup"><span data-stu-id="ff893-134">You can use the **Flags** member to enable or disable some of the **Font** dialog box controls, and you can use the **Flags** member in conjunction with other [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) members to control the initial values of some controls.</span></span>

<span data-ttu-id="ff893-135">**Para exibir os controles que permitem ao usuário selecionar as opções de riscar, sublinhado e cor:**</span><span class="sxs-lookup"><span data-stu-id="ff893-135">**To display the controls that allow the user to select strikeout, underline, and color options:**</span></span>

-   <span data-ttu-id="ff893-136">Defina o sinalizador de **\_ efeitos do CF** .</span><span class="sxs-lookup"><span data-stu-id="ff893-136">Set the **CF\_EFFECTS** flag.</span></span> <span data-ttu-id="ff893-137">Você pode usar o membro **rgbColors** da estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para especificar uma cor de fonte inicial.</span><span class="sxs-lookup"><span data-stu-id="ff893-137">You can use the **rgbColors** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to specify an initial font color.</span></span>

<span data-ttu-id="ff893-138">**Para especificar os valores iniciais dos controles de caixa de diálogo fonte, estilo da fonte, tamanho, riscado e sublinhado:**</span><span class="sxs-lookup"><span data-stu-id="ff893-138">**To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:**</span></span>

1.  <span data-ttu-id="ff893-139">Para especificar os valores iniciais dos controles de caixa de diálogo fonte, estilo da fonte, tamanho, riscado e sublinhado:</span><span class="sxs-lookup"><span data-stu-id="ff893-139">To specify the initial values for the Font, Font Style, Size, Strikeout, and Underline dialog box controls:</span></span>
2.  <span data-ttu-id="ff893-140">Defina o **sinalizador \_ INITTOLOGFONTSTRUCT do CF** no **membro flags** , juntamente com os membros da estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) apontada pelo **lpLogFont**, para especificar os valores iniciais para os atributos de fonte.</span><span class="sxs-lookup"><span data-stu-id="ff893-140">Set the **CF\_INITTOLOGFONTSTRUCT** flag in the **Flags** member, along with members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by the **lpLogFont**, to specify the initial values for the font attributes.</span></span>
3.  <span data-ttu-id="ff893-141">Você também pode usar os **sinalizadores \_ NOFACESEL CF**, **CF \_ NOSTYLESEL** e **CF \_ NOSIZESEL** para impedir que a caixa de diálogo **fonte** exiba valores iniciais para os controles correspondentes.</span><span class="sxs-lookup"><span data-stu-id="ff893-141">You can also use the **CF\_NOFACESEL**, **CF\_NOSTYLESEL**, and **CF\_NOSIZESEL** flags to prevent the **Font** dialog box from displaying initial values for the corresponding controls.</span></span> <span data-ttu-id="ff893-142">Isso é útil quando você está trabalhando com uma seleção de texto que tem mais de uma face de tipos, estilo ou tamanho de ponto.</span><span class="sxs-lookup"><span data-stu-id="ff893-142">This is useful when you are working with a selection of text that has more than one typeface, style, or point size.</span></span> <span data-ttu-id="ff893-143">Esses valores também serão definidos em **sinalizadores** quando [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) retornar, se o usuário não tiver selecionado um valor correspondente.</span><span class="sxs-lookup"><span data-stu-id="ff893-143">These values will also be set in **Flags** when [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) returns, if the user did not select a corresponding value.</span></span>

<span data-ttu-id="ff893-144">**Para inicializar o controle de estilo da fonte para um nome de estilo especificado**</span><span class="sxs-lookup"><span data-stu-id="ff893-144">**To initialize the Font Style control to a specified style name**</span></span>

-   <span data-ttu-id="ff893-145">Defina o **sinalizador \_ USESTYLE do CF** e use o membro **lpszStyle** para especificar o nome do estilo.</span><span class="sxs-lookup"><span data-stu-id="ff893-145">Set the **CF\_USESTYLE** flag and use the **lpszStyle** member to specify the style name.</span></span>

> [!Note]  
> <span data-ttu-id="ff893-146">Para globalizar seu aplicativo, especifique o estilo usando os membros **lfWeight** e **LfItalic** da estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) apontada por **lpLogFont**.</span><span class="sxs-lookup"><span data-stu-id="ff893-146">To globalize your application, specify the style by using the **lfWeight** and **lfItalic** members of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that is pointed to by **lpLogFont**.</span></span> <span data-ttu-id="ff893-147">O nome do estilo pode ser alterado dependendo do idioma da interface do usuário do sistema.</span><span class="sxs-lookup"><span data-stu-id="ff893-147">The style name may change depending on the system user interface language.</span></span>

 

<span data-ttu-id="ff893-148">**Para exibir o botão aplicar**</span><span class="sxs-lookup"><span data-stu-id="ff893-148">**To display the Apply button**</span></span>

-   <span data-ttu-id="ff893-149">Defina o sinalizador de **\_ aplicação do CF** e forneça um procedimento de gancho para processar mensagens de [**\_ comando do WM**](/windows/desktop/menurc/wm-command) para o botão **aplicar** .</span><span class="sxs-lookup"><span data-stu-id="ff893-149">Set the **CF\_APPLY** flag and provide a hook procedure to process [**WM\_COMMAND**](/windows/desktop/menurc/wm-command) messages for the **Apply** button.</span></span> <span data-ttu-id="ff893-150">O procedimento de gancho pode enviar a mensagem [**\_ \_ GETLOGFONT do WM ChooseFont**](wm-choosefont-getlogfont.md) para a caixa de diálogo para recuperar o endereço da estrutura [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) que contém as seleções atuais da fonte.</span><span class="sxs-lookup"><span data-stu-id="ff893-150">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md) message to the dialog box to retrieve the address of the [**LOGFONT**](/windows/win32/api/wingdi/ns-wingdi-logfonta) structure that contains the current selections for the font.</span></span>

<span data-ttu-id="ff893-151">**Para exibir o botão ajuda**</span><span class="sxs-lookup"><span data-stu-id="ff893-151">**To display the Help button**</span></span>

-   <span data-ttu-id="ff893-152">Defina o **sinalizador \_ SHOWHELP de CF** .</span><span class="sxs-lookup"><span data-stu-id="ff893-152">Set the **CF\_SHOWHELP** flag.</span></span> <span data-ttu-id="ff893-153">O membro **hwndOwner** deve identificar a janela para receber a mensagem registrada [**HELPMSGSTRING**](helpmsgstring.md) quando o usuário clica no botão **ajuda** .</span><span class="sxs-lookup"><span data-stu-id="ff893-153">The **hwndOwner** member must identify the window to receive the [**HELPMSGSTRING**](helpmsgstring.md) registered message when the user clicks the **Help** button.</span></span>

<span data-ttu-id="ff893-154">**Para restringir as fontes exibidas na caixa de diálogo**</span><span class="sxs-lookup"><span data-stu-id="ff893-154">**To restrict the fonts displayed in the dialog box**</span></span>

-   <span data-ttu-id="ff893-155">Defina qualquer combinação dos sinalizadores **CF \_ TTONLY**, **CF \_ FIXEDPITCHONLY**, **CF \_ NOVECTORFONTS**, **CF \_ NOVERTFONTS**, **CF \_ SCALABLEONLY** e **CF \_ WYSIWYG** .</span><span class="sxs-lookup"><span data-stu-id="ff893-155">Set any combination of the **CF\_TTONLY**, **CF\_FIXEDPITCHONLY**, **CF\_NOVECTORFONTS**, **CF\_NOVERTFONTS**, **CF\_SCALABLEONLY**, and **CF\_WYSIWYG** flags.</span></span> <span data-ttu-id="ff893-156">Você também pode restringir os estilos disponíveis que a caixa de diálogo exibe para algumas fontes usando o valor do **CF \_ nosimulations** .</span><span class="sxs-lookup"><span data-stu-id="ff893-156">You can also restrict the available styles that the dialog box displays for some fonts by using the **CF\_NOSIMULATIONS** value.</span></span>

<span data-ttu-id="ff893-157">A partir do Windows 7, a lista de fontes exibida na caixa de diálogo é restrita com base nas fontes mostradas pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="ff893-157">Starting with Windows 7, the list of fonts displayed in the dialog box is restricted based on the user's shown fonts.</span></span> <span data-ttu-id="ff893-158">Para remover a restrição, defina o **sinalizador \_ INACTIVEFONTS do CF** .</span><span class="sxs-lookup"><span data-stu-id="ff893-158">To remove the restriction, set the **CF\_INACTIVEFONTS** flag.</span></span>

<span data-ttu-id="ff893-159">**Para restringir os nomes de tipos, estilos e tamanhos de pontos que o usuário pode especificar**</span><span class="sxs-lookup"><span data-stu-id="ff893-159">**To restrict the typeface names, styles, and point sizes that the user can specify**</span></span>

1.  <span data-ttu-id="ff893-160">Defina o **sinalizador \_ FORCEFONTEXIST do CF** para restringir o usuário a especificar somente nomes de tipos, estilos e tamanhos de pontos válidos listados na caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ff893-160">Set the **CF\_FORCEFONTEXIST** flag to restrict the user to specifying only valid typeface names, styles, and point sizes listed in the dialog box.</span></span>
2.  <span data-ttu-id="ff893-161">Defina o sinalizador de **\_ limite de CF** para restringir o usuário a especificar os tamanhos de ponto no intervalo especificado pelos membros **nSizeMin** e **nSizeMax** .</span><span class="sxs-lookup"><span data-stu-id="ff893-161">Set the **CF\_LIMITSIZE** flag to restrict the user to specifying point sizes in the range specified by the **nSizeMin** and **nSizeMax** members.</span></span>

<span data-ttu-id="ff893-162">**Para restringir ou desabilitar a caixa de combinação de scripts**</span><span class="sxs-lookup"><span data-stu-id="ff893-162">**To restrict or disable the Scripts combo box**</span></span>

-   <span data-ttu-id="ff893-163">Defina o **sinalizador \_ NOSCRIPTSEL do CF** para desabilitar a caixa de combinação **scripts** ou defina o sinalizador **\_ SELECTSCRIPT do CF** para restringir as seleções na caixa de combinação **scripts** a um conjunto de caracteres especificado.</span><span class="sxs-lookup"><span data-stu-id="ff893-163">Set the **CF\_NOSCRIPTSEL** flag to disable the **Scripts** combo box, or set the **CF\_SELECTSCRIPT** flag to restrict selections in the **Scripts** combo box to a specified character set.</span></span>

## <a name="customizing-the-font-dialog-box-on-earlier-versions-of-windows"></a><span data-ttu-id="ff893-164">Personalizando a caixa de diálogo fonte em versões anteriores do Windows</span><span class="sxs-lookup"><span data-stu-id="ff893-164">Customizing the Font Dialog Box on earlier versions of Windows</span></span>

<span data-ttu-id="ff893-165">Você pode fornecer um modelo personalizado para a caixa de diálogo **fonte** , por exemplo, se desejar incluir controles adicionais que são exclusivos para seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ff893-165">You can provide a custom template for the **Font** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="ff893-166">A função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) usa o modelo personalizado no lugar do modelo padrão.</span><span class="sxs-lookup"><span data-stu-id="ff893-166">The [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function uses your custom template in place of the default template.</span></span>

<span data-ttu-id="ff893-167">**Para fornecer um modelo personalizado para a caixa de diálogo fonte**</span><span class="sxs-lookup"><span data-stu-id="ff893-167">**To provide a custom template for the Font dialog box**</span></span>

1.  <span data-ttu-id="ff893-168">Crie o modelo personalizado modificando o modelo padrão especificado no arquivo Font. Dlg.</span><span class="sxs-lookup"><span data-stu-id="ff893-168">Create the custom template by modifying the default template specified in the Font.dlg file.</span></span> <span data-ttu-id="ff893-169">Os identificadores de controle usados no modelo de caixa de diálogo fonte padrão são definidos no arquivo Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="ff893-169">The control identifiers used in the default Font dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="ff893-170">Use a estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) para habilitar o modelo da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="ff893-170">Use the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure to enable the template as follows:</span></span>
    -   <span data-ttu-id="ff893-171">Se o modelo personalizado for um recurso em um aplicativo ou em uma biblioteca de vínculo dinâmico, defina o sinalizador de **\_ habilitação do CF** no membro **flags** .</span><span class="sxs-lookup"><span data-stu-id="ff893-171">If your custom template is a resource in an application or dynamic link library, set the **CF\_ENABLETEMPLATE** flag in the **Flags** member.</span></span> <span data-ttu-id="ff893-172">Use os membros **HINSTANCE** e **lpTemplateName** da estrutura para identificar o módulo e o nome do recurso.</span><span class="sxs-lookup"><span data-stu-id="ff893-172">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>
    -   <span data-ttu-id="ff893-173">Se o modelo personalizado já estiver na memória, defina o **sinalizador \_ ENABLETEMPLATEHANDLE do CF** .</span><span class="sxs-lookup"><span data-stu-id="ff893-173">If your custom template is already in memory, set the **CF\_ENABLETEMPLATEHANDLE** flag.</span></span> <span data-ttu-id="ff893-174">Use o membro **HINSTANCE** para identificar o objeto de memória que contém o modelo.</span><span class="sxs-lookup"><span data-stu-id="ff893-174">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="ff893-175">Você pode fornecer um procedimento de gancho [**CFHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) para a caixa de diálogo **fonte** .</span><span class="sxs-lookup"><span data-stu-id="ff893-175">You can provide a [**CFHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpcfhookproc) hook procedure for the **Font** dialog box.</span></span> <span data-ttu-id="ff893-176">O procedimento de gancho pode processar mensagens enviadas para a caixa de diálogo e enviar mensagens para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ff893-176">The hook procedure can process messages sent to the dialog box and send messages to the dialog box.</span></span> <span data-ttu-id="ff893-177">Se você usar um modelo personalizado para definir controles adicionais, deverá fornecer um procedimento de gancho para processar a entrada para seus controles.</span><span class="sxs-lookup"><span data-stu-id="ff893-177">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="ff893-178">**Para habilitar um procedimento de gancho para a caixa de diálogo fonte**</span><span class="sxs-lookup"><span data-stu-id="ff893-178">**To enable a hook procedure for the Font dialog box**</span></span>

1.  <span data-ttu-id="ff893-179">Defina o **sinalizador \_ ENABLEHOOK do CF** no membro **flags** da estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) .</span><span class="sxs-lookup"><span data-stu-id="ff893-179">Set the **CF\_ENABLEHOOK** flag in the **Flags** member of the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure.</span></span>
2.  <span data-ttu-id="ff893-180">Especifique o endereço do procedimento de gancho no membro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="ff893-180">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="ff893-181">Depois de processar a mensagem do [**WM \_ INITDIALOG**](wm-initdialog.md) , o procedimento da caixa de diálogo envia uma mensagem do **WM \_ INITDIALOG** para o procedimento de gancho.</span><span class="sxs-lookup"><span data-stu-id="ff893-181">After processing the [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="ff893-182">O parâmetro *lParam* dessa mensagem é um ponteiro para a estrutura [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) que é usada para inicializar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ff893-182">The *lParam* parameter of this message is a pointer to the [**CHOOSEFONT**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) structure that is used to initialize the dialog box.</span></span>

<span data-ttu-id="ff893-183">O procedimento de gancho pode enviar o [**WM \_ ChooseFont \_ GETLOGFONT**](wm-choosefont-getlogfont.md), o [**WM \_ ChooseFont \_ SETLOGFONT**](wm-choosefont-setlogfont.md)e o [**WM \_ ChooseFont \_ setsinaliza**](wm-choosefont-setflags.md) as mensagens para a caixa de diálogo para obter e definir os valores e sinalizadores atuais da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="ff893-183">The hook procedure can send the [**WM\_CHOOSEFONT\_GETLOGFONT**](wm-choosefont-getlogfont.md), [**WM\_CHOOSEFONT\_SETLOGFONT**](wm-choosefont-setlogfont.md), and [**WM\_CHOOSEFONT\_SETFLAGS**](wm-choosefont-setflags.md) messages to the dialog box to get and set the current values and flags of the dialog box.</span></span>

## <a name="customizing-the-font-dialog-box-on-windows-7"></a><span data-ttu-id="ff893-184">Personalizando a caixa de diálogo fonte no Windows 7</span><span class="sxs-lookup"><span data-stu-id="ff893-184">Customizing the Font Dialog Box on Windows 7</span></span>

<span data-ttu-id="ff893-185">A captura de tela a seguir mostra uma caixa de diálogo de **fonte** típica no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ff893-185">The following screen shot shows a typical **Font** dialog box in Windows 7.</span></span>

![captura de tela mostrando a caixa de dialob da fonte](images/fontdialogboxwin7.png)

<span data-ttu-id="ff893-187">Nas versões anteriores do Windows, o arquivo de modelo Font. DLG contém um modelo ChooseFont padrão.</span><span class="sxs-lookup"><span data-stu-id="ff893-187">In earlier Windows versions, the font.dlg template file contains one default ChooseFont template.</span></span> <span data-ttu-id="ff893-188">O arquivo de modelo Font. DLG no Windows 7 contém dois modelos padrão: o modelo padrão de versões anteriores do Windows e o novo modelo do Windows 7 ChooseFont.</span><span class="sxs-lookup"><span data-stu-id="ff893-188">The font.dlg template file on Windows 7 contains two default templates: the default template from earlier Windows versions and the new Windows 7 ChooseFont template.</span></span> <span data-ttu-id="ff893-189">Portanto, ao personalizar a caixa de diálogo **fonte** no Windows 7, você deve considerar os seguintes problemas.</span><span class="sxs-lookup"><span data-stu-id="ff893-189">Therefore, when you customize the **Font** dialog box on Windows 7, you must consider the following issues.</span></span>

1.  <span data-ttu-id="ff893-190">Use o novo modelo ao criar modelos personalizados para aplicativos executados no Windows 7.</span><span class="sxs-lookup"><span data-stu-id="ff893-190">Use the new template when you create custom templates for applications that run on Windows 7.</span></span> <span data-ttu-id="ff893-191">Esse novo modelo contém um controle de link no qual o usuário pode clicar para iniciar a janela **painel de controle de fontes** , conforme mostrado na captura de tela a seguir.</span><span class="sxs-lookup"><span data-stu-id="ff893-191">This new template contains a link control that the user can click to launch the **Fonts Control Panel** window, as shown in the following screen shot.</span></span>

    ![captura de tela mostrando o painel de controle fonte no Windows 7](images/fontcontrolpanelforwin7.png)

2.  <span data-ttu-id="ff893-193">Para usar esse controle de link, seu aplicativo de chamada deve usar o COMCTL32.DLL versão 6 ou posterior.</span><span class="sxs-lookup"><span data-stu-id="ff893-193">To use this link control, your calling application must use the COMCTL32.DLL version 6 or later.</span></span> <span data-ttu-id="ff893-194">Caso contrário, a função [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) retornará um erro ao tentar criar o controle de link em seu modelo personalizado.</span><span class="sxs-lookup"><span data-stu-id="ff893-194">Otherwise, the [**ChooseFont**](/windows/win32/api/commdlg/ns-commdlg-choosefonta) function returns an error when it tries to create the link control in your custom template.</span></span> <span data-ttu-id="ff893-195">Para determinar se esse controle está habilitado, compile seu aplicativo de chamada em relação ao COMCTL32.DLL versão 6,0.</span><span class="sxs-lookup"><span data-stu-id="ff893-195">To determine if this control is enabled, compile your calling application against COMCTL32.DLL version 6.0.</span></span> <span data-ttu-id="ff893-196">Para obter mais informações, consulte [habilitando estilos visuais com controles comuns](/previous-versions//ms649781(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="ff893-196">For more information, see [Enabling Visual Styles with Common Controls](/previous-versions//ms649781(v=vs.85)).</span></span>
3.  <span data-ttu-id="ff893-197">Se seu aplicativo usar COMCTL32.DLL versão 5,0 ou anterior, você deverá fazer o seguinte ao criar um modelo personalizado:</span><span class="sxs-lookup"><span data-stu-id="ff893-197">If your application uses COMCTL32.DLL version 5.0 or earlier, you must do the following when you create a custom template:</span></span>

    -   <span data-ttu-id="ff893-198">Especifique o controle como um botão de **pressão**.</span><span class="sxs-lookup"><span data-stu-id="ff893-198">Specify the control as a **PUSHBUTTON**.</span></span> <span data-ttu-id="ff893-199">O controle usado para iniciar o **painel de controle de fontes** aparecerá como um botão, e não como um link.</span><span class="sxs-lookup"><span data-stu-id="ff893-199">The control used to launch the **Fonts Control Panel** will appear as a button rather than as a link.</span></span>
    -   <span data-ttu-id="ff893-200">Substitua o seguinte texto na Font. DLG:</span><span class="sxs-lookup"><span data-stu-id="ff893-200">Replace the following text in the font.dlg:</span></span>

        `CONTROL         "<A>Show more fonts</A>", IDC_MANAGE_LINK, "SysLink", WS_TABSTOP, 7, 199, 227, 9`

        <span data-ttu-id="ff893-201">pelo seguinte texto:</span><span class="sxs-lookup"><span data-stu-id="ff893-201">with the following text:</span></span>

        `PUSHBUTTON      "S&how more fonts", IDC_MANAGE_LINK, 7, 199, 74, 14 , WS_TABSTOP`

    -   <span data-ttu-id="ff893-202">Para garantir que seu aplicativo use um modelo personalizado, você deve especificar um modelo personalizado com o sinalizador de **\_ habilitação do CF** , criar um modelo personalizado com base no modelo ChooseFont do Windows 7 e, opcionalmente, habilitar um procedimento de gancho.</span><span class="sxs-lookup"><span data-stu-id="ff893-202">To ensure that your application uses a custom template, you must specify a custom template with the **CF\_ENABLETEMPLATE** flag, create a custom template based on the Windows 7 ChooseFont template, and then optionally enable a hook procedure.</span></span>

        <span data-ttu-id="ff893-203">Se você habilitar um procedimento de gancho sem criar um modelo personalizado, o modelo de ChooseFont padrão para versões anteriores do Windows será carregado.</span><span class="sxs-lookup"><span data-stu-id="ff893-203">If you enable a hook procedure without creating a custom template, the default ChooseFont template for earlier Windows versions will be loaded.</span></span>

> [!Note]  
> <span data-ttu-id="ff893-204">Você deve especificar o tipo de **controle de controle ou de** **pressão** no novo modelo, dependendo da versão do COMMCTL.DLL em que seu aplicativo é compilado.</span><span class="sxs-lookup"><span data-stu-id="ff893-204">You must specify the **CONTROL** or **PUSHBUTTON** control type in your new template, depending on the version of COMMCTL.DLL that your application compiles against.</span></span> <span data-ttu-id="ff893-205">Observe também que os recursos específicos do Windows 7, como exibição WYSIWYG de listas de fontes e famílias estendidas, não estão disponíveis quando seus aplicativos são executados em versões anteriores do sistema operacional Windows.</span><span class="sxs-lookup"><span data-stu-id="ff893-205">Also note that Windows 7 specific features, such as WYSIWYG display of font lists and extended families, are not available when your applications run on earlier versions of the Windows operating system.</span></span>

 

 

 