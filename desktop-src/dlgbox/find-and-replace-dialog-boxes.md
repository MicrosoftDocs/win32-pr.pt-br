---
title: Caixas de diálogo Localizar e substituir
description: Exibe uma caixa de diálogo sem janela restrita que permite ao usuário especificar uma cadeia de caracteres a ser pesquisada, bem como as opções a serem usadas durante a pesquisa de texto em um documento.
ms.assetid: c8c035bf-795d-42a7-abc6-168dea43e6e9
keywords:
- Interface do usuário do Windows, entrada do usuário
- Interface do usuário do Windows, biblioteca de caixa de diálogo comum
- entrada do usuário, biblioteca de caixa de diálogo comum
- capturando entrada do usuário, biblioteca de caixa de diálogo comum
- Biblioteca de caixa de diálogo comum
- caixas de diálogo comuns
- Caixa de diálogo Localizar
- Caixa de diálogo Substituir
- Personalizando a caixa de diálogo Localizar
- Personalizando a caixa de diálogo de substituição
- caixas de diálogo predefinidas
- caixas de diálogo, encontre
- caixas de diálogo, substituir
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 5e3cf2c5217d586c0a5ada74fb7dd72aaca5f804
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104566045"
---
# <a name="find-and-replace-dialog-boxes"></a><span data-ttu-id="2aca5-116">Caixas de diálogo Localizar e substituir</span><span class="sxs-lookup"><span data-stu-id="2aca5-116">Find and Replace Dialog Boxes</span></span>

<span data-ttu-id="2aca5-117">Exibe uma caixa de diálogo sem janela restrita que permite ao usuário especificar uma cadeia de caracteres a ser pesquisada, bem como as opções a serem usadas durante a pesquisa de texto em um documento.</span><span class="sxs-lookup"><span data-stu-id="2aca5-117">Displays a modeless dialog box that allows the user to specify a string to search for, as well as options to use when searching for text in a document.</span></span> <span data-ttu-id="2aca5-118">A caixa de diálogo **substituir** permite que o usuário especifique uma cadeia de caracteres para pesquisar e uma cadeia de caracteres de substituição, bem como opções para controlar a operação.</span><span class="sxs-lookup"><span data-stu-id="2aca5-118">The **Replace** dialog box lets the user specify a string to search for and a replacement string, as well as options to control the operation.</span></span>

<span data-ttu-id="2aca5-119">Você cria e exibe uma caixa de diálogo **Localizar** inicializando uma estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) e passando a estrutura para a função [**LocalizarTexto**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) .</span><span class="sxs-lookup"><span data-stu-id="2aca5-119">You create and display a **Find** dialog box by initializing a [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure and passing the structure to the [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) function.</span></span> <span data-ttu-id="2aca5-120">A ilustração a seguir mostra uma caixa de diálogo de **localização** típica.</span><span class="sxs-lookup"><span data-stu-id="2aca5-120">The following illustration shows a typical **Find** dialog box.</span></span>

![caixa de diálogo Localizar](images/finddialogboxxp.png)

<span data-ttu-id="2aca5-122">Você cria e exibe uma caixa de diálogo de **substituição** inicializando uma estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) e passando a estrutura para a função [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) .</span><span class="sxs-lookup"><span data-stu-id="2aca5-122">You create and display a **Replace** dialog box by initializing a [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure and passing the structure to the [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) function.</span></span> <span data-ttu-id="2aca5-123">A ilustração a seguir mostra uma caixa de diálogo de **substituição** típica.</span><span class="sxs-lookup"><span data-stu-id="2aca5-123">The following illustration shows a typical **Replace** dialog box.</span></span>

![caixa de diálogo Substituir](images/replacedialogboxxp.png)

<span data-ttu-id="2aca5-125">Ao contrário de outras caixas de diálogo comuns, as caixas de diálogo **Localizar** e **substituir** são sem janela restrita.</span><span class="sxs-lookup"><span data-stu-id="2aca5-125">Unlike other common dialog boxes, the **Find** and **Replace** dialog boxes are modeless.</span></span> <span data-ttu-id="2aca5-126">Uma caixa de diálogo sem janela restrita permite que o usuário alterne entre a caixa de diálogo e a janela que a criou.</span><span class="sxs-lookup"><span data-stu-id="2aca5-126">A modeless dialog box allows the user to switch between the dialog box and the window that created it.</span></span> <span data-ttu-id="2aca5-127">Isso é útil para permitir que o usuário procure uma cadeia de caracteres, alterne para a janela do aplicativo para trabalhar na cadeia de caracteres e volte para a caixa de diálogo para pesquisar outra cadeia de caracteres sem repetir o comando necessário para abrir a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-127">This is useful for letting the user search for a string, switch to the application window to work on the string, and switch back to the dialog box to search for another string without repeating the command needed to open the dialog box.</span></span>

<span data-ttu-id="2aca5-128">Se a função [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) ou [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) criar com êxito a caixa de diálogo, ela retornará um identificador para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-128">If the [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) or [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) function successfully creates the dialog box, it returns a handle to the dialog box.</span></span> <span data-ttu-id="2aca5-129">Você pode usar esse identificador para mover e se comunicar com a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-129">You can use this handle to move and communicate with the dialog box.</span></span> <span data-ttu-id="2aca5-130">Se a função não puder criar a caixa de diálogo, ela retornará **NULL**.</span><span class="sxs-lookup"><span data-stu-id="2aca5-130">If the function cannot create the dialog box, it returns **NULL**.</span></span> <span data-ttu-id="2aca5-131">Você pode determinar a causa de um erro chamando a função [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) para recuperar o valor de erro estendido.</span><span class="sxs-lookup"><span data-stu-id="2aca5-131">You can determine the cause of an error by calling the [**CommDlgExtendedError**](/windows/desktop/api/Commdlg/nf-commdlg-commdlgextendederror) function to retrieve the extended error value.</span></span>

<span data-ttu-id="2aca5-132">Esta seção aborda os tópicos a seguir.</span><span class="sxs-lookup"><span data-stu-id="2aca5-132">This section discusses the following topics.</span></span>

-   [<span data-ttu-id="2aca5-133">A mensagem registrada FINDMSGSTRING</span><span class="sxs-lookup"><span data-stu-id="2aca5-133">The FINDMSGSTRING Registered Message</span></span>](#the-findmsgstring-registered-message)
-   [<span data-ttu-id="2aca5-134">Personalizando a caixa de diálogo Localizar ou substituir</span><span class="sxs-lookup"><span data-stu-id="2aca5-134">Customizing the Find or Replace Dialog Box</span></span>](#customizing-the-find-or-replace-dialog-box)

## <a name="the-findmsgstring-registered-message"></a><span data-ttu-id="2aca5-135">A mensagem registrada FINDMSGSTRING</span><span class="sxs-lookup"><span data-stu-id="2aca5-135">The FINDMSGSTRING Registered Message</span></span>

<span data-ttu-id="2aca5-136">Antes de criar uma caixa de diálogo **Localizar** ou **substituir** , você deve chamar a função [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) para obter um identificador de mensagem para a mensagem registrada [**FINDMSGSTRING**](findmsgstring.md) .</span><span class="sxs-lookup"><span data-stu-id="2aca5-136">Before creating a **Find** or **Replace** dialog box, you must call the [**RegisterWindowMessage**](/windows/desktop/api/winuser/nf-winuser-registerwindowmessagea) function to get a message identifier for the [**FINDMSGSTRING**](findmsgstring.md) registered message.</span></span> <span data-ttu-id="2aca5-137">Você pode usar o identificador para detectar e processar mensagens enviadas da caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-137">You can then use the identifier to detect and process messages sent from the dialog box.</span></span> <span data-ttu-id="2aca5-138">Quando o usuário clica no botão **Localizar próximo**, **substituir** ou **substituir tudo** em uma caixa de diálogo, o procedimento da caixa de diálogo envia uma mensagem **FINDMSGSTRING** para o procedimento de janela da janela do proprietário.</span><span class="sxs-lookup"><span data-stu-id="2aca5-138">When the user clicks the **Find Next**, **Replace**, or **Replace All** button in a dialog box, the dialog box procedure sends a **FINDMSGSTRING** message to the window procedure of the owner window.</span></span> <span data-ttu-id="2aca5-139">Quando você cria a caixa de diálogo, o membro **hwndOwner** da estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) identifica a janela do proprietário.</span><span class="sxs-lookup"><span data-stu-id="2aca5-139">When you create the dialog box, the **hwndOwner** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure identifies the owner window.</span></span>

<span data-ttu-id="2aca5-140">O parâmetro *lParam* de uma mensagem [**FINDMSGSTRING**](findmsgstring.md) é um ponteiro para a estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) que você especificou quando criou a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-140">The *lParam* parameter of a [**FINDMSGSTRING**](findmsgstring.md) message is a pointer to the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure that you specified when you created the dialog box.</span></span> <span data-ttu-id="2aca5-141">Antes de enviar a mensagem, a caixa de diálogo define os membros dessa estrutura com a entrada de usuário mais recente, incluindo a cadeia de caracteres a ser pesquisada, a cadeia de caracteres de substituição (se houver) e as opções para a operação de localização e substituição.</span><span class="sxs-lookup"><span data-stu-id="2aca5-141">Before sending the message, the dialog box sets the members of this structure with the latest user input, including the string to search for, the replacement string (if any), and options for the find-and-replace operation.</span></span>

<span data-ttu-id="2aca5-142">Em uma mensagem [**FINDMSGSTRING**](findmsgstring.md) , o membro **flags** da estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) inclui um dos sinalizadores a seguir para indicar o evento que causou a mensagem.</span><span class="sxs-lookup"><span data-stu-id="2aca5-142">In a [**FINDMSGSTRING**](findmsgstring.md) message, the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure includes one of the following flags to indicate the event that caused the message.</span></span>



| <span data-ttu-id="2aca5-143">Sinalizador</span><span class="sxs-lookup"><span data-stu-id="2aca5-143">Flag</span></span>               | <span data-ttu-id="2aca5-144">Significado</span><span class="sxs-lookup"><span data-stu-id="2aca5-144">Meaning</span></span>                                                                                                                                                                                                     |
|--------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2aca5-145">**\_DIALOGTERM fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-145">**FR\_DIALOGTERM**</span></span> | <span data-ttu-id="2aca5-146">A caixa de diálogo está fechando.</span><span class="sxs-lookup"><span data-stu-id="2aca5-146">The dialog box is closing.</span></span> <span data-ttu-id="2aca5-147">Depois que a janela do proprietário processa essa mensagem, um identificador para a caixa de diálogo não é mais válido.</span><span class="sxs-lookup"><span data-stu-id="2aca5-147">After the owner window processes this message, a handle to the dialog box is no longer valid.</span></span>                                                                                    |
| <span data-ttu-id="2aca5-148">**\_LOCALIZARPRÓXIMO fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-148">**FR\_FINDNEXT**</span></span>   | <span data-ttu-id="2aca5-149">O usuário clicou no botão **Localizar próximo** em uma caixa de diálogo **Localizar** ou **substituir** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-149">The user clicked the **Find Next** button in a **Find** or **Replace** dialog box.</span></span> <span data-ttu-id="2aca5-150">O membro **lpstrFindWhat** especifica a cadeia de caracteres a ser pesquisada.</span><span class="sxs-lookup"><span data-stu-id="2aca5-150">The **lpstrFindWhat** member specifies the string to search for.</span></span>                                                         |
| <span data-ttu-id="2aca5-151">**\_substituir fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-151">**FR\_REPLACE**</span></span>    | <span data-ttu-id="2aca5-152">O usuário clicou no botão **substituir** em uma caixa de diálogo **substituir** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-152">The user clicked the **Replace** button in a **Replace** dialog box.</span></span> <span data-ttu-id="2aca5-153">O membro **lpstrFindWhat** especifica a cadeia de caracteres a ser substituída e o membro **lpstrReplaceWith** especifica a cadeia de caracteres de substituição.</span><span class="sxs-lookup"><span data-stu-id="2aca5-153">The **lpstrFindWhat** member specifies the string to replace and the **lpstrReplaceWith** member specifies the replacement string.</span></span>     |
| <span data-ttu-id="2aca5-154">**\_REPLACEALL fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-154">**FR\_REPLACEALL**</span></span> | <span data-ttu-id="2aca5-155">O usuário clicou no botão **substituir tudo** em uma caixa de diálogo **substituir** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-155">The user clicked the **Replace All** button in a **Replace** dialog box.</span></span> <span data-ttu-id="2aca5-156">O membro **lpstrFindWhat** especifica a cadeia de caracteres a ser substituída e o membro **lpstrReplaceWith** especifica a cadeia de caracteres de substituição.</span><span class="sxs-lookup"><span data-stu-id="2aca5-156">The **lpstrFindWhat** member specifies the string to replace and the **lpstrReplaceWith** member specifies the replacement string.</span></span> |



 

<span data-ttu-id="2aca5-157">Para uma mensagem **Localizar próximo** ou **substituir tudo** , o membro **sinalizadores** pode incluir qualquer combinação dos sinalizadores a seguir para indicar as opções de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2aca5-157">For a **Find Next** or **Replace All** message, the **Flags** member can include any combination of the following flags to indicate the search options.</span></span>



| <span data-ttu-id="2aca5-158">Sinalizador</span><span class="sxs-lookup"><span data-stu-id="2aca5-158">Flag</span></span>              | <span data-ttu-id="2aca5-159">Significado</span><span class="sxs-lookup"><span data-stu-id="2aca5-159">Meaning</span></span>                                                                                                                                                                                                                                                                                          |
|-------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="2aca5-160">**FR \_ para baixo**</span><span class="sxs-lookup"><span data-stu-id="2aca5-160">**FR\_DOWN**</span></span>      | <span data-ttu-id="2aca5-161">Se definido, o botão **para baixo** da direção botões de opção é selecionado, indicando que o usuário deseja pesquisar do local atual até o final do documento.</span><span class="sxs-lookup"><span data-stu-id="2aca5-161">If set, the **Down** button of the direction radio buttons is selected, indicating that user wants to search from the current location to the end of the document.</span></span> <span data-ttu-id="2aca5-162">Se **fr \_ baixo** não estiver definido, o botão para **cima** será selecionado para que o usuário queira Pesquisar até o início do documento.</span><span class="sxs-lookup"><span data-stu-id="2aca5-162">If **FR\_DOWN** is not set, the **Up** button is selected so the user wants to search to the beginning of the document.</span></span>       |
| <span data-ttu-id="2aca5-163">**\_MATCHCASE fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-163">**FR\_MATCHCASE**</span></span> | <span data-ttu-id="2aca5-164">Se definido, a caixa de seleção **diferenciar maiúsculas de minúsculas** é marcada, indicando que o usuário quer que a pesquisa faça distinção entre maiúsculas e minúsculas.</span><span class="sxs-lookup"><span data-stu-id="2aca5-164">If set, the **Match Case** check box is selected, indicating that the user wants the search to be case sensitive.</span></span> <span data-ttu-id="2aca5-165">Se **fr \_ MATCHCASE** não estiver definido, a caixa de seleção será desmarcada para que a pesquisa possa não diferenciar maiúsculas de minúsculas.</span><span class="sxs-lookup"><span data-stu-id="2aca5-165">If **FR\_MATCHCASE** is not set, the check box is unselected so that the search can be case insensitive.</span></span>                                                                       |
| <span data-ttu-id="2aca5-166">**\_WHOLEWORD fr**</span><span class="sxs-lookup"><span data-stu-id="2aca5-166">**FR\_WHOLEWORD**</span></span> | <span data-ttu-id="2aca5-167">Se definido, a caixa de seleção **corresponder somente palavra inteira** estará marcada, indicando que o usuário deseja pesquisar apenas palavras inteiras que correspondam à cadeia de caracteres de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2aca5-167">If set, the **Match Whole Word Only** check box is selected, indicating that the user wants to search only for whole words that match the search string.</span></span> <span data-ttu-id="2aca5-168">Se **fr \_ WHOLEWORD** não for definido, a caixa de seleção será desmarcada, de modo que você também deverá Pesquisar fragmentos de palavras que correspondam à cadeia de caracteres de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2aca5-168">If **FR\_WHOLEWORD** is not set, the check box is unselected so you should also search for word fragments that match the search string.</span></span> |



 

## <a name="customizing-the-find-or-replace-dialog-box"></a><span data-ttu-id="2aca5-169">Personalizando a caixa de diálogo Localizar ou substituir</span><span class="sxs-lookup"><span data-stu-id="2aca5-169">Customizing the Find or Replace Dialog Box</span></span>

<span data-ttu-id="2aca5-170">Para personalizar uma caixa de diálogo **Localizar** ou **substituir** , você pode usar qualquer um dos seguintes métodos:</span><span class="sxs-lookup"><span data-stu-id="2aca5-170">To customize a **Find** or **Replace** dialog box, you can use any of the following methods:</span></span>

-   <span data-ttu-id="2aca5-171">Especificar valores na estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) ao criar a caixa de diálogo</span><span class="sxs-lookup"><span data-stu-id="2aca5-171">Specify values in the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure when you create the dialog box</span></span>
-   <span data-ttu-id="2aca5-172">Fornecer um modelo personalizado</span><span class="sxs-lookup"><span data-stu-id="2aca5-172">Provide a custom template</span></span>
-   <span data-ttu-id="2aca5-173">Fornecer um procedimento de gancho</span><span class="sxs-lookup"><span data-stu-id="2aca5-173">Provide a hook procedure</span></span>

<span data-ttu-id="2aca5-174">Ao criar uma caixa de diálogo **Localizar** ou **substituir** , você pode definir sinalizadores no membro **flags** da estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) para ocultar ou desabilitar qualquer um dos controles de opção de pesquisa.</span><span class="sxs-lookup"><span data-stu-id="2aca5-174">When you create a **Find** or **Replace** dialog box, you can set flags in the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure to hide or disable any of the search option controls.</span></span> <span data-ttu-id="2aca5-175">Por exemplo, você pode definir o \_ sinalizador fr NOMATCHCASE para desabilitar a caixa de seleção **diferenciar maiúsculas de minúsculas** ou definir o \_ sinalizador fr HIDEMATCHCASE para ocultá-lo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-175">For example, you can set the FR\_NOMATCHCASE flag to disable the **Match Case** check box or set the FR\_HIDEMATCHCASE flag to hide it.</span></span>

<span data-ttu-id="2aca5-176">Você pode fornecer um modelo personalizado para uma caixa de diálogo **Localizar** ou **substituir** , por exemplo, se desejar incluir controles adicionais que são exclusivos do seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-176">You can provide a custom template for a **Find** or **Replace** dialog box, for example, if you want to include additional controls that are unique to your application.</span></span> <span data-ttu-id="2aca5-177">As funções [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) e [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) usam o modelo personalizado no lugar do modelo padrão.</span><span class="sxs-lookup"><span data-stu-id="2aca5-177">The [**FindText**](/windows/desktop/api/Commdlg/nf-commdlg-findtexta) and [**ReplaceText**](/windows/desktop/api/Commdlg/nf-commdlg-replacetexta) functions use your custom template in place of the default template.</span></span>

<span data-ttu-id="2aca5-178">**Para fornecer um modelo personalizado para uma caixa de diálogo Localizar ou substituir**</span><span class="sxs-lookup"><span data-stu-id="2aca5-178">**To provide a custom template for a Find or Replace dialog box**</span></span>

1.  <span data-ttu-id="2aca5-179">Crie o modelo personalizado modificando o modelo padrão especificado no arquivo LocalizarTexto. Dlg.</span><span class="sxs-lookup"><span data-stu-id="2aca5-179">Create the custom template by modifying the default template specified in the Findtext.dlg file.</span></span> <span data-ttu-id="2aca5-180">Os identificadores de controle usados no modelo de caixa de diálogo **Localizar** ou **substituir** padrão são definidos no arquivo Dlgs. h.</span><span class="sxs-lookup"><span data-stu-id="2aca5-180">The control identifiers used in the default **Find** or **Replace** dialog template are defined in the Dlgs.h file.</span></span>
2.  <span data-ttu-id="2aca5-181">Use a estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) para habilitar o modelo da seguinte maneira:</span><span class="sxs-lookup"><span data-stu-id="2aca5-181">Use the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure to enable the template as follows:</span></span>
    -   -   <span data-ttu-id="2aca5-182">Se o modelo personalizado for um recurso em um aplicativo ou em uma biblioteca de vínculo dinâmico, defina o \_ sinalizador de habilitação fr no membro **flags** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-182">If your custom template is a resource in an application or dynamic-link library, set the FR\_ENABLETEMPLATE flag in the **Flags** member.</span></span> <span data-ttu-id="2aca5-183">Use os membros **HINSTANCE** e **lpTemplateName** da estrutura para identificar o módulo e o nome do recurso.</span><span class="sxs-lookup"><span data-stu-id="2aca5-183">Use the **hInstance** and **lpTemplateName** members of the structure to identify the module and resource name.</span></span>

            <span data-ttu-id="2aca5-184">-Ou-</span><span class="sxs-lookup"><span data-stu-id="2aca5-184">-Or-</span></span>

        -   <span data-ttu-id="2aca5-185">Se o modelo personalizado já estiver na memória, defina o \_ sinalizador fr ENABLETEMPLATEHANDLE.</span><span class="sxs-lookup"><span data-stu-id="2aca5-185">If your custom template is already in memory, set the FR\_ENABLETEMPLATEHANDLE flag.</span></span> <span data-ttu-id="2aca5-186">Use o membro **HINSTANCE** para identificar o objeto de memória que contém o modelo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-186">Use the **hInstance** member to identify the memory object that contains the template.</span></span>

<span data-ttu-id="2aca5-187">Você pode fornecer um procedimento de gancho [**FRHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpfrhookproc) para uma caixa de diálogo **Localizar** ou **substituir** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-187">You can provide an [**FRHookProc**](/windows/win32/api/commdlg/nc-commdlg-lpfrhookproc) hook procedure for a **Find** or **Replace** dialog box.</span></span> <span data-ttu-id="2aca5-188">O procedimento de gancho pode processar mensagens enviadas para a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-188">The hook procedure can process messages sent to the dialog box.</span></span> <span data-ttu-id="2aca5-189">Se você usar um modelo personalizado para definir controles adicionais, deverá fornecer um procedimento de gancho para processar a entrada para seus controles.</span><span class="sxs-lookup"><span data-stu-id="2aca5-189">If you use a custom template to define additional controls, you must provide a hook procedure to process input for your controls.</span></span>

<span data-ttu-id="2aca5-190">**Para habilitar um procedimento de gancho para uma caixa de diálogo Localizar ou substituir**</span><span class="sxs-lookup"><span data-stu-id="2aca5-190">**To enable a hook procedure for a Find or Replace dialog box**</span></span>

1.  <span data-ttu-id="2aca5-191">Defina o \_ sinalizador fr ENABLEHOOK no membro **flags** da estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) .</span><span class="sxs-lookup"><span data-stu-id="2aca5-191">Set the FR\_ENABLEHOOK flag in the **Flags** member of the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure.</span></span>
2.  <span data-ttu-id="2aca5-192">Especifique o endereço do procedimento de gancho no membro **lpfnHook** .</span><span class="sxs-lookup"><span data-stu-id="2aca5-192">Specify the address of the hook procedure in the **lpfnHook** member.</span></span>

<span data-ttu-id="2aca5-193">Depois de processar sua mensagem do [**WM \_ INITDIALOG**](wm-initdialog.md) , o procedimento da caixa de diálogo envia uma mensagem do **WM \_ INITDIALOG** para o procedimento de gancho.</span><span class="sxs-lookup"><span data-stu-id="2aca5-193">After processing its [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box procedure sends a **WM\_INITDIALOG** message to the hook procedure.</span></span> <span data-ttu-id="2aca5-194">O parâmetro *lParam* dessa mensagem é um ponteiro para a estrutura [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) usada para inicializar a caixa de diálogo.</span><span class="sxs-lookup"><span data-stu-id="2aca5-194">The *lParam* parameter of this message is a pointer to the [**FINDREPLACE**](/windows/win32/api/commdlg/ns-commdlg-findreplacea) structure used to initialize the dialog box.</span></span>

<span data-ttu-id="2aca5-195">Se o procedimento de gancho retornar **false** em resposta à mensagem do [**WM \_ INITDIALOG**](wm-initdialog.md) , a caixa de diálogo não será mostrada a menos que o procedimento de gancho o exiba.</span><span class="sxs-lookup"><span data-stu-id="2aca5-195">If the hook procedure returns **FALSE** in response to the [**WM\_INITDIALOG**](wm-initdialog.md) message, the dialog box will not be shown unless the hook procedure displays it.</span></span> <span data-ttu-id="2aca5-196">Para fazer isso, primeiro execute qualquer outra operação de pintura e, em seguida, chame as funções de [**UpdateWindow**](/windows/desktop/api/winuser/nf-winuser-updatewindow) e de [**subjanela**](/windows/desktop/api/winuser/nf-winuser-showwindow) .</span><span class="sxs-lookup"><span data-stu-id="2aca5-196">To do this, first perform any other paint operations, and then call the [**ShowWindow**](/windows/desktop/api/winuser/nf-winuser-showwindow) and [**UpdateWindow**](/windows/desktop/api/winuser/nf-winuser-updatewindow) functions.</span></span> <span data-ttu-id="2aca5-197">O código a seguir mostra um exemplo:</span><span class="sxs-lookup"><span data-stu-id="2aca5-197">The following code provides an example:</span></span>


```
// We've returned FALSE in response to WM_INITDIALOG. 
// We've performed any other paint operations. 
// Now we display the dialog box. 
ShowWindow(hDlg, SW_SHOWNORMAL); 
UpdateWindow(hDlg); 
```



 

 