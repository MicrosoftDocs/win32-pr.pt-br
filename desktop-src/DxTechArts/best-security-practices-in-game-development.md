---
title: Melhores práticas de segurança no desenvolvimento de jogos
description: Este artigo aborda as práticas recomendadas para uso no desenvolvimento de jogos.
ms.assetid: 20956529-42ed-722b-cfa3-e3230d89fdd7
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9ba4f02d5e1a2e3da2e50feedd89f085a0c063be
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103823856"
---
# <a name="best-security-practices-in-game-development"></a><span data-ttu-id="0e4c2-103">Melhores práticas de segurança no desenvolvimento de jogos</span><span class="sxs-lookup"><span data-stu-id="0e4c2-103">Best Security Practices in Game Development</span></span>

<span data-ttu-id="0e4c2-104">Este artigo aborda as práticas recomendadas para uso no desenvolvimento de jogos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-104">This article discusses best practices to use in game development.</span></span>

-   [<span data-ttu-id="0e4c2-105">Introdução</span><span class="sxs-lookup"><span data-stu-id="0e4c2-105">Introduction</span></span>](#introduction)
-   [<span data-ttu-id="0e4c2-106">Exemplos de código não seguro</span><span class="sxs-lookup"><span data-stu-id="0e4c2-106">Examples of Insecure Code</span></span>](#examples-of-insecure-code)
-   [<span data-ttu-id="0e4c2-107">Maneiras de melhorar a segurança</span><span class="sxs-lookup"><span data-stu-id="0e4c2-107">Ways to improve security</span></span>](#ways-to-improve-security)
-   [<span data-ttu-id="0e4c2-108">Resumo</span><span class="sxs-lookup"><span data-stu-id="0e4c2-108">Summary</span></span>](#summary)

## <a name="introduction"></a><span data-ttu-id="0e4c2-109">Introdução</span><span class="sxs-lookup"><span data-stu-id="0e4c2-109">Introduction</span></span>

<span data-ttu-id="0e4c2-110">Um número cada vez maior de pessoas desempenham jogos e jogos online com conteúdo feito pelo usuário.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-110">An increasing number of people play online games and games with user-made content.</span></span> <span data-ttu-id="0e4c2-111">Isso, combinado com o aumento da segurança do sistema operacional Microsoft Windows, significa que os jogos são um alvo crescente e mais tentador para os invasores explorarem.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-111">This, combined with the increasing security of the Microsoft Windows Operating System, means that games are a growing and more tempting target for attackers to exploit.</span></span> <span data-ttu-id="0e4c2-112">Os desenvolvedores de jogos devem tomar uma ênfase forte em garantir que os jogos que eles lançam não estejam criando novos buracos de segurança para que os invasores possam explorar.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-112">Game developers should place a strong emphasis on making sure that the games they release aren't creating new security holes for attackers to exploit.</span></span> <span data-ttu-id="0e4c2-113">Os desenvolvedores de jogos têm uma responsabilidade e um interesse para ajudar a impedir que os computadores dos clientes sejam invadidos por dados mal-intencionados da rede, modificações do usuário ou adulterações.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-113">Game developers have a responsibility and a vested interest in helping to prevent their customers' computers from being hacked by malicious network data, user modifications, or tampering.</span></span> <span data-ttu-id="0e4c2-114">Se uma vulnerabilidade for explorada, isso poderá resultar na perda de clientes e/ou dinheiro.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-114">If a vulnerability is exploited, it could result in losing customers and/or money.</span></span> <span data-ttu-id="0e4c2-115">Este artigo descreve e explica alguns métodos e ferramentas comuns para aumentar a segurança do código sem o tempo de desenvolvimento excessivo.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-115">This article outlines and explains some common methods and tools to increase code security without over-inflating development time.</span></span>

<span data-ttu-id="0e4c2-116">Os três erros mais comuns feitos por uma equipe de desenvolvimento ao lançar um produto são:</span><span class="sxs-lookup"><span data-stu-id="0e4c2-116">The three most common mistakes made by a development team when releasing a product are:</span></span>

-   <span data-ttu-id="0e4c2-117">Exigindo privilégios administrativos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-117">Requiring administrative privileges.</span></span> <span data-ttu-id="0e4c2-118">Os jogos não devem exigir privilégios administrativos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-118">Games should not require administrative privileges.</span></span> <span data-ttu-id="0e4c2-119">Para obter mais detalhes, consulte [controle de conta de usuário para desenvolvedores de jogos](./user-account-control-for-game-developers.md).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-119">For more details, see [User Account Control for Game Developers](./user-account-control-for-game-developers.md).</span></span>
-   <span data-ttu-id="0e4c2-120">Não usar proteção automatizada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-120">Not using automated protection.</span></span> <span data-ttu-id="0e4c2-121">Os desenvolvedores geralmente não estão usando **/GS**, **/SAFESEH** ou **/NX**.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-121">Developers are generally not using **/GS**, **/SAFESEH**, or **/NX**.</span></span> <span data-ttu-id="0e4c2-122">Usar esses sinalizadores de compilação/link pode identificar ou eliminar muitos buracos de segurança básicos sem aumentar significativamente a carga de trabalho.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-122">Using these compile/link flags can spot or eliminate many basic security holes without significantly increasing workload.</span></span> <span data-ttu-id="0e4c2-123">Esses sinalizadores serão discutidos posteriormente neste artigo.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-123">These flags are discussed later in this article.</span></span>
-   <span data-ttu-id="0e4c2-124">Usando APIs proibidas.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-124">Using forbidden APIs.</span></span> <span data-ttu-id="0e4c2-125">Há muitas APIs (**strcpy**, **strncpy** e assim por diante) que estão sujeitas a erros do programador e geram brechas de segurança com facilidade.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-125">There are many APIs (**strcpy**, **strncpy**, and so on) that are prone to programmer error and easily generate security holes.</span></span> <span data-ttu-id="0e4c2-126">Os desenvolvedores devem substituir essas APIs pelas versões seguras.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-126">Developers should replace these APIs with the safe versions.</span></span> <span data-ttu-id="0e4c2-127">O Visual Studio 2005 vem com uma ferramenta para analisar arquivos binários que podem verificar automaticamente os arquivos de objeto em busca de referências a APIs não seguras.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-127">Visual Studio 2005 comes with a tool for analyzing binary files that can automatically check object files for references to unsafe APIs.</span></span> <span data-ttu-id="0e4c2-128">Para obter mais informações sobre o que fazer com as informações geradas com essa ferramenta, consulte [ataques de repelir em seu código com as bibliotecas C e C++ seguras do Visual Studio 2005](/archive/msdn-magazine/2005/may/repel-attacks-with-visual-studio-2005-safe-c-and-c-libraries) por Martyn Lovell.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-128">For more information on what to do with information generated with this tool, see [Repel Attacks on Your Code with the Visual Studio 2005 Safe C and C++ Libraries](/archive/msdn-magazine/2005/may/repel-attacks-with-visual-studio-2005-safe-c-and-c-libraries) by Martyn Lovell.</span></span> <span data-ttu-id="0e4c2-129">Além disso, você pode obter o arquivo de cabeçalho [. h banido](https://www.microsoft.com/downloads/details.aspx?FamilyID=6aed14bd-4766-4d9d-9ee2-fa86aad1e3c9) que pode ajudá-lo a remover funções banidas do código.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-129">Also, you can get the [banned.h](https://www.microsoft.com/downloads/details.aspx?FamilyID=6aed14bd-4766-4d9d-9ee2-fa86aad1e3c9) header file that can help you remove banned functions from code.</span></span>

<span data-ttu-id="0e4c2-130">Cada um dos erros listados não é apenas comum, mas é facilmente corrigível sem alterações significativas na carga de trabalho de desenvolvimento, padrões de codificação ou funcionalidade.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-130">Each of the listed mistakes is not only common but is easily correctable with no significant change in development workload, coding standards, or functionality.</span></span>

## <a name="examples-of-insecure-code"></a><span data-ttu-id="0e4c2-131">Exemplos de código não seguro</span><span class="sxs-lookup"><span data-stu-id="0e4c2-131">Examples of Insecure Code</span></span>

<span data-ttu-id="0e4c2-132">Veja a seguir um exemplo simples de tudo o que é necessário para permitir que um invasor execute um ataque de saturação de buffer:</span><span class="sxs-lookup"><span data-stu-id="0e4c2-132">The following is a simple example of all it takes to allow an attacker to perform a buffer overrun attack:</span></span>


```
void GetPlayerName(char *pDatafromNet)
{
    char playername[256]; 
    strncpy(playername, pDatafromNet, strlen(pDatafromNet));

    // ...
}
```



<span data-ttu-id="0e4c2-133">Na superfície, esse código parece ok — ele chama uma função segura, afinal.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-133">On the surface this code looks ok — it calls a safe function, after all.</span></span> <span data-ttu-id="0e4c2-134">Os dados da rede são copiados em um buffer que é de 256 bytes.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-134">Data from the network is copied into a buffer that is 256 bytes.</span></span> <span data-ttu-id="0e4c2-135">A função **strncpy** se baseia na localização de um terminador nulo na cadeia de caracteres de origem ou é limitada pela contagem de buffer fornecida.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-135">The **strncpy** function relies on finding a NULL terminator in the source string or is limited by the provided buffer count.</span></span> <span data-ttu-id="0e4c2-136">O problema é que o tamanho do buffer está incorreto.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-136">The problem is that the buffer size is incorrect.</span></span> <span data-ttu-id="0e4c2-137">Se os dados da rede não forem validados ou o tamanho do buffer estiver errado (como neste exemplo), um invasor poderá simplesmente fornecer um buffer grande para substituir os dados da pilha, depois que o buffer terminar, com todos os dados no pacote de rede.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-137">If data from the network isn't validated or the buffer size is wrong (as in this example), an attacker could simply provide a large buffer to overwrite stack data, after the buffer ends, with any data in the network packet.</span></span> <span data-ttu-id="0e4c2-138">Isso permitiria que o invasor executasse código arbitrário substituindo o ponteiro de instrução e alterando o endereço de retorno.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-138">This would allow the attacker to execute arbitrary code by overwriting the instruction pointer and changing the return address.</span></span> <span data-ttu-id="0e4c2-139">A lição mais básica deste exemplo é nunca confiar na entrada até que ela tenha sido verificada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-139">The most basic lesson of this example is to never trust input until it has been verified.</span></span>

<span data-ttu-id="0e4c2-140">Mesmo que os dados não venham da rede inicialmente, ainda há um risco potencial.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-140">Even if data doesn't come from the network initially, there still is potential risk.</span></span> <span data-ttu-id="0e4c2-141">O desenvolvimento de jogos modernos requer muitas pessoas criando, desenvolvendo e testando a mesma base de código.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-141">Modern game development requires many people designing, developing, and testing the same code base.</span></span> <span data-ttu-id="0e4c2-142">Não há como saber como a função será chamada no futuro.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-142">There is no way to know how the function will be called in the future.</span></span> <span data-ttu-id="0e4c2-143">Sempre perguntar de onde vêm os dados e o que um invasor poderia controlar?</span><span class="sxs-lookup"><span data-stu-id="0e4c2-143">Always ask yourself where the data came from and what could an attacker control?</span></span> <span data-ttu-id="0e4c2-144">Embora os ataques baseados em rede sejam os mais comuns, eles não são os únicos métodos de criação de brechas de segurança.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-144">While network-based attacks are the most common, they are not the only methods of creating security holes.</span></span> <span data-ttu-id="0e4c2-145">Um invasor pode criar um mod ou editar um arquivo salvo de uma maneira que abre uma brecha de segurança?</span><span class="sxs-lookup"><span data-stu-id="0e4c2-145">Could an attacker create a mod or edit a saved file in a way that opens a security hole?</span></span> <span data-ttu-id="0e4c2-146">E quanto aos arquivos de imagem e som fornecidos pelo usuário?</span><span class="sxs-lookup"><span data-stu-id="0e4c2-146">What about user-supplied image and sound files?</span></span> <span data-ttu-id="0e4c2-147">As versões mal-intencionadas desses arquivos podem ser publicadas na Internet e criar riscos de segurança perigosos para seus clientes.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-147">Malicious versions of these files could be posted on the Internet and create dangerous security risks for your customers.</span></span>

<span data-ttu-id="0e4c2-148">Como uma observação adicional, Use strsafe. h ou CRT seguro em vez de **strncpy** para corrigir o exemplo.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-148">As a side note, use strsafe.h or Safe CRT instead of **strncpy** to correct the example.</span></span> <span data-ttu-id="0e4c2-149">O CRT seguro é uma revisão de segurança completa do tempo de execução do C e vem com parte do Visual Studio 2005.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-149">Safe CRT is a complete security overhaul of the C Runtime and comes with part of Visual Studio 2005.</span></span> <span data-ttu-id="0e4c2-150">Mais informações sobre o CRT seguro podem ser encontradas em [aprimoramentos de segurança no CRT](https://msdn.microsoft.com/library/8ef0s5kh(VS.80).aspx) por Michael Howard.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-150">More information about Safe CRT can be found in [Security Enhancements in the CRT](https://msdn.microsoft.com/library/8ef0s5kh(VS.80).aspx) by Michael Howard.</span></span>

## <a name="ways-to-improve-security"></a><span data-ttu-id="0e4c2-151">Maneiras de melhorar a segurança</span><span class="sxs-lookup"><span data-stu-id="0e4c2-151">Ways to improve security</span></span>

<span data-ttu-id="0e4c2-152">Há várias maneiras de melhorar a segurança no ciclo de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-152">There are several ways to improve security in the development cycle.</span></span> <span data-ttu-id="0e4c2-153">Aqui estão algumas das melhores maneiras:</span><span class="sxs-lookup"><span data-stu-id="0e4c2-153">Here are some of the best ways:</span></span>

<dl> <dt>

<span data-ttu-id="0e4c2-154"><span id="Reading_about_security"></span><span id="reading_about_security"></span><span id="READING_ABOUT_SECURITY"></span>Lendo sobre segurança</span><span class="sxs-lookup"><span data-stu-id="0e4c2-154"><span id="Reading_about_security"></span><span id="reading_about_security"></span><span id="READING_ABOUT_SECURITY"></span>Reading about security</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-155">O livro, *escrevendo código seguro, segunda edição* de Michael Howard e David LeBlanc, fornece uma explicação detalhada e clara de estratégias e métodos de impedir ataques e mitigar explorações.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-155">The book, *Writing Secure Code, Second Edition* by Michael Howard and David LeBlanc, provides an in-depth and clear explanation of strategies and methods of preventing attacks and mitigating exploits.</span></span> <span data-ttu-id="0e4c2-156">Começando com métodos de criação de segurança em uma versão para técnicas de proteção de aplicativos de rede, o livro abrange todos os aspectos que um desenvolvedor de jogos precisa para ajudar a se proteger, seus produtos e seus clientes contra invasores.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-156">Starting with methods of designing security into a release to techniques for securing network applications, the book covers all aspects that a game developer needs to help protect themselves, their products, and their customers from attackers.</span></span> <span data-ttu-id="0e4c2-157">O livro pode ser usado para incutir uma cultura de segurança em um estúdio de desenvolvimento.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-157">The book can be used to instill a culture of security in a development studio.</span></span> <span data-ttu-id="0e4c2-158">Não imagine apenas a segurança de código como o problema de um desenvolvedor ou o problema de um testador.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-158">Don't just think of code security as a developer's problem or a tester's problem.</span></span> <span data-ttu-id="0e4c2-159">Pense na segurança como algo que a equipe inteira — do gerente de programa ao designer do desenvolvedor a ser testador — deve estar pensando quando trabalha em um projeto.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-159">Think of security as something the whole team — from program manager to designer to developer to tester — should be thinking about when they work on a project.</span></span> <span data-ttu-id="0e4c2-160">Quanto mais olhos fizerem parte do processo de revisão, maior será a chance de capturar uma brecha de segurança antes do lançamento.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-160">The more eyes that are part of the review process, the greater the chance of catching a security hole prior to release.</span></span>

<span data-ttu-id="0e4c2-161">*Escrever código seguro, a segunda edição,* pode ser encontrado no [Microsoft Learning](https://www.microsoftpressstore.com/store/writing-secure-code-9780735617223) e informações de segurança mais gerais podem ser encontradas em [fending de ataques futuros, reduzindo a superfície de ataque](/previous-versions/ms972812(v=msdn.10)) de Michael Howard.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-161">*Writing Secure Code, Second Edition* can be found at [Microsoft Learning](https://www.microsoftpressstore.com/store/writing-secure-code-9780735617223) and more general security information can be found in [Fending Off Future Attacks by Reducing Attack Surface](/previous-versions/ms972812(v=msdn.10)) by Michael Howard.</span></span>

<span data-ttu-id="0e4c2-162">Michael Howard, David LeBlanc e John Viega escreveu outro livro sobre o assunto que abrange todos os sistemas operacionais comuns e linguagens de programação intitulados, *19 Deadly Sins da segurança de software*.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-162">Michael Howard, David LeBlanc, and John Viega have written another book on the subject that covers all common operating systems and programming languages entitled, *19 Deadly Sins of Software Security*.</span></span>

<span data-ttu-id="0e4c2-163">Apresentações de segurança focadas em jogos podem ser encontradas na página de download de [apresentações para desenvolvedores do Microsoft XNA](/previous-versions/dn629515(v=msdn.10)) .</span><span class="sxs-lookup"><span data-stu-id="0e4c2-163">Security presentations focused on games can be found at the [Microsoft XNA Developer Presentations](/previous-versions/dn629515(v=msdn.10)) download page.</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-164"><span id="Threat_Modeling_Analysis"></span><span id="threat_modeling_analysis"></span><span id="THREAT_MODELING_ANALYSIS"></span>Análise de modelagem de ameaças</span><span class="sxs-lookup"><span data-stu-id="0e4c2-164"><span id="Threat_Modeling_Analysis"></span><span id="threat_modeling_analysis"></span><span id="THREAT_MODELING_ANALYSIS"></span>Threat Modeling Analysis</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-165">Uma análise de modelagem de ameaças é uma boa maneira de avaliar a segurança do sistema, não em uma linguagem específica ou usando uma ferramenta, mas em um método amplo de ponta a ponta que pode ser feito em algumas reuniões.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-165">A threat modeling analysis is a good way of assessing system security, not in a specific language or by using a tool, but in a broad, end-to-end method that can be accomplished in a few meetings.</span></span> <span data-ttu-id="0e4c2-166">Quando implementado corretamente, um modelo de thread pode identificar todos os pontos fortes e fracos de um sistema, sem adicionar carga de trabalho significativa ou tempo de reunião ao projeto.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-166">When implemented properly, a thread model can identify all of the strengths and weaknesses of a system, without adding significant workload or meeting time to the project.</span></span> <span data-ttu-id="0e4c2-167">O método de modelagem de ameaças também enfatiza a ideia de avaliar a segurança do sistema antes e durante o processo de desenvolvimento para ajudar a garantir que uma avaliação abrangente esteja sendo feita enquanto se concentra nos recursos mais arriscados.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-167">The method of threat modeling also emphasizes the idea of assessing system security prior to and during the development process to help ensure that a comprehensive assessment is being made while focusing on the most risky features.</span></span> <span data-ttu-id="0e4c2-168">Pode ser pensado como um criador de perfil para segurança.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-168">It can be thought of as a profiler for security.</span></span> <span data-ttu-id="0e4c2-169">Sem se basear em uma linguagem específica ou depender de uma ferramenta específica, a modelagem de risco pode ser usada em qualquer estúdio de desenvolvimento que trabalhe em qualquer projeto em qualquer gênero.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-169">By not being based on a particular language or relying on a specific tool, threat modeling can be used in any development studio working on any project in any genre.</span></span> <span data-ttu-id="0e4c2-170">A modelagem de ameaças também é um método excelente de reforçar a ideia de que a segurança é a responsabilidade de todos, e não o problema de outra pessoa.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-170">Threat modeling is also an excellent method of reinforcing the idea that security is everyone's responsibility and not someone else's problem.</span></span>

<span data-ttu-id="0e4c2-171">Quando a modelagem de ameaças, preste atenção especial a:</span><span class="sxs-lookup"><span data-stu-id="0e4c2-171">When threat modeling, pay special attention to:</span></span>

-   <span data-ttu-id="0e4c2-172">Fontes de dados UDP</span><span class="sxs-lookup"><span data-stu-id="0e4c2-172">UDP data sources</span></span>
-   <span data-ttu-id="0e4c2-173">Fontes de dados que não exigem autenticação</span><span class="sxs-lookup"><span data-stu-id="0e4c2-173">Data sources that don't require authentication</span></span>
-   <span data-ttu-id="0e4c2-174">Fontes de dados que são frequentemente e normalmente investigadas como parte da coleta de informações em larga escala</span><span class="sxs-lookup"><span data-stu-id="0e4c2-174">Data sources that are frequently and normally probed as part of wide-scale information gathering</span></span>
-   <span data-ttu-id="0e4c2-175">Qualquer capacidade de um cliente de enviar dados diretamente para outros clientes</span><span class="sxs-lookup"><span data-stu-id="0e4c2-175">Any ability of a client to directly send data to other clients</span></span>

<span data-ttu-id="0e4c2-176">Essas são as áreas que têm bom potencial para pontos fracos de segurança.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-176">These are the areas that have good potential for security weaknesses.</span></span>

<span data-ttu-id="0e4c2-177">Mais sobre a modelagem de ameaças pode ser encontrada em [modelagem de ameaças](https://technet.microsoft.com/security/) no MSDN Security Development Center e no livro [Threat Modeling](https://www.amazon.com/Threat-Modeling-Microsoft-Professional-Swiderski/dp/0735619913) by Frank Swiderski e Window Snyder.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-177">More on Threat Modeling can be found at [Threat Modeling](https://technet.microsoft.com/security/) on the MSDN Security Development Center and in the book [Threat Modeling](https://www.amazon.com/Threat-Modeling-Microsoft-Professional-Swiderski/dp/0735619913) by Frank Swiderski and Window Snyder.</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-178"><span id="Data_Execution_Prevention___NX_"></span><span id="data_execution_prevention___nx_"></span><span id="DATA_EXECUTION_PREVENTION___NX_"></span>Prevenção de execução de dados (/NX)</span><span class="sxs-lookup"><span data-stu-id="0e4c2-178"><span id="Data_Execution_Prevention___NX_"></span><span id="data_execution_prevention___nx_"></span><span id="DATA_EXECUTION_PREVENTION___NX_"></span>Data Execution Prevention (/NX)</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-179">Uma ferramenta recente na mitigação de várias explorações é A DEP (prevenção de execução de dados).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-179">A recent tool in mitigating multiple exploits is data execution prevention (DEP).</span></span> <span data-ttu-id="0e4c2-180">Se você incluir o switch **/NX** no comando Build, o Visual Studio marcará páginas de memória com sinalizadores que denotam se o código tem o direito de executar ou não.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-180">If you include the switch **/NX** in the build command, Visual Studio will mark memory pages with flags that denote whether the code has the right to execute or not.</span></span> <span data-ttu-id="0e4c2-181">Qualquer programa que tente executar em uma página de memória não sinalizada com a permissão executar causará um encerramento Forcible do programa.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-181">Any program attempting to execute in a memory page not flagged with EXECUTE permission will cause a forcible termination of the program.</span></span> <span data-ttu-id="0e4c2-182">A prevenção é imposta no nível do processador e afetará os desenvolvedores que usam código de modificação automática ou compiladores de linguagem JIT nativos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-182">The prevention is enforced on the processor level and will impact developers who are using self-modifying code or native JIT language compilers.</span></span> <span data-ttu-id="0e4c2-183">Atualmente, somente os processadores Athlon64 e Opteron da AMD e os processadores Pentium 4 da Intel e mais recentes suportam a prevenção de execução, mas é esperado que todos os processadores de 32 bits e 64 bits ofereçam suporte à prevenção de execução no futuro.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-183">Currently, only AMD's Athlon64 and Opteron processors and Intel's Itanium and latest Pentium 4 processors support execution prevention, but it is expected that all 32-bit and 64-bit processors will support execution prevention in the future.</span></span> <span data-ttu-id="0e4c2-184">(Um esquema de proteção de cópia usado por um desenvolvedor pode ser afetado pela prevenção de execução, mas a Microsoft tem trabalhado com fornecedores de proteção de cópia para minimizar o impacto.) É uma boa prática usar o DEP.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-184">(A copy-protection scheme used by a developer may be affected by execution prevention, but Microsoft has been working with copy-protection vendors to minimize the impact.) It is a good practice to use DEP.</span></span>

<span data-ttu-id="0e4c2-185">Para obter mais detalhes sobre o DEP, consulte [prevenção de execução de dados](../memory/data-execution-prevention.md).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-185">For more details on DEP, see [Data Execution Prevention](../memory/data-execution-prevention.md).</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-186"><span id="Buffer_Security_Check___GS__and_Image_has_Safe_Exception_Handlers___SAFESEH_"></span><span id="buffer_security_check___gs__and_image_has_safe_exception_handlers___safeseh_"></span><span id="BUFFER_SECURITY_CHECK___GS__AND_IMAGE_HAS_SAFE_EXCEPTION_HANDLERS___SAFESEH_"></span>Verificação de segurança de buffer (/GS) e imagem tem manipuladores de exceção seguros (/SAFESEH)</span><span class="sxs-lookup"><span data-stu-id="0e4c2-186"><span id="Buffer_Security_Check___GS__and_Image_has_Safe_Exception_Handlers___SAFESEH_"></span><span id="buffer_security_check___gs__and_image_has_safe_exception_handlers___safeseh_"></span><span id="BUFFER_SECURITY_CHECK___GS__AND_IMAGE_HAS_SAFE_EXCEPTION_HANDLERS___SAFESEH_"></span>Buffer Security Check (/GS) and Image has Safe Exception Handlers (/SAFESEH)</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-187">A *verificação de segurança do buffer*, especificada pelo sinalizador do compilador **/GS**, e a *imagem tem manipuladores de exceção seguros*, especificados pelo sinalizador do vinculador **/SAFESEH** (implementado pela primeira vez no Visual Studio .NET 2003), pode tornar o trabalho do desenvolvedor de proteger o código um pouco mais fácil.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-187">*Buffer Security Check*, specified by the compiler flag **/GS**, and *Image has Safe Exception Handlers*, specified by the linker flag **/SAFESEH** (first implemented in Visual Studio .NET 2003), can make the developer's job of securing code a little easier.</span></span>

<span data-ttu-id="0e4c2-188">O uso do sinalizador **/GS** faz com que o compilador Construa uma verificação de algumas formas de saturações de buffer baseadas em pilha que poderiam ser exploradas para substituir o endereço de retorno de uma função.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-188">Using the **/GS** flag causes the compiler to construct a check for some forms of stack-based buffer overruns that could be exploited to overwrite the return address of a function.</span></span> <span data-ttu-id="0e4c2-189">O uso do **/GS** não detectará todas as possíveis saturações de buffer e não deve ser considerado uma boa tecnologia de defesa aprofundada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-189">Using **/GS** will not detect every potential buffer overrun and shouldn't be considered a catch-all, but a good defense-in-depth technology.</span></span>

<span data-ttu-id="0e4c2-190">O uso do sinalizador **/SAFESEH** instruirá o vinculador a gerar apenas um executável ou dll se ele também puder gerar uma tabela dos manipuladores de exceção segura do executável ou da dll.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-190">Using the **/SAFESEH** flag will instruct the linker to only generate an executable or DLL if it can also generate a table of the safe exception handlers of the executable or DLL.</span></span> <span data-ttu-id="0e4c2-191">O SafeSEH (tratamento de exceção estruturada) elimina a manipulação de exceções como um destino de ataques de saturação de buffer, garantindo que, antes que uma exceção seja expedida, o manipulador de exceção seja registrado na tabela de funções localizada no arquivo de imagem.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-191">Safe Structured Exception Handling (SafeSEH) eliminates exception handling as a target of buffer overrun attacks by ensuring that, before an exception is dispatched, the exception handler is registered in the function table located within the image file.</span></span> <span data-ttu-id="0e4c2-192">Esses benefícios de proteção estão habilitados com o Windows XP SP2, o Windows Server 2003, o Windows Vista e o Windows 7.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-192">These protection benefits are enabled with Windows XP SP2, Windows Server 2003, Windows Vista, and Windows 7.</span></span> <span data-ttu-id="0e4c2-193">Além disso, para que o **/SAFESEH** funcione corretamente, ele deve ser usado em um método tudo ou nada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-193">Also for **/SAFESEH** to work properly, it must be used in an all-or-nothing method.</span></span> <span data-ttu-id="0e4c2-194">Todas as bibliotecas que contêm código associado a um executável ou DLL devem ser compiladas com **/SAFESEH** ou a tabela não será gerada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-194">All libraries containing code bound to an executable or DLL must be compiled with **/SAFESEH** or the table will not be generated.</span></span>

<span data-ttu-id="0e4c2-195">Mais informações sobre a [verificação de segurança do buffer](https://msdn.microsoft.com/library/8dbf701c(vs.71).aspx) (**/GS**) e a [imagem têm manipuladores de exceção seguros](https://msdn.microsoft.com/library/9a89h429(vs.71).aspx) (**/SAFESEH**) podem ser encontradas no msdn.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-195">More information about [Buffer Security Check](https://msdn.microsoft.com/library/8dbf701c(vs.71).aspx) (**/GS**) and [Image has Safe Exception Handlers](https://msdn.microsoft.com/library/9a89h429(vs.71).aspx) (**/SAFESEH**) can be found in MSDN.</span></span>

<span data-ttu-id="0e4c2-196">Consulte também informações sobre o [sinalizador **/SDL**](/cpp/build/reference/sdl-enable-additional-security-checks?view=vs-2019) do Microsoft Visual Studio 2012 e os aprimoramentos do Visual Studio 2012 [para o sinalizador **/GS**](https://www.microsoft.com/security/blog/2012/01/26/enhancements-to-gs-in-visual-studio-11/).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-196">See also info about Microsoft Visual Studio 2012's [**/SDL** flag](/cpp/build/reference/sdl-enable-additional-security-checks?view=vs-2019) and Visual Studio 2012's [enhancements to the **/GS** flag](https://www.microsoft.com/security/blog/2012/01/26/enhancements-to-gs-in-visual-studio-11/).</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-197"><span id="PREfast"></span><span id="prefast"></span><span id="PREFAST"></span>PREfast</span><span class="sxs-lookup"><span data-stu-id="0e4c2-197"><span id="PREfast"></span><span id="prefast"></span><span id="PREFAST"></span>PREfast</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-198">O PREfast é uma ferramenta gratuita oferecida pela Microsoft que analisa os caminhos de execução em C ou C++ compilado para ajudar a encontrar bugs em tempo de execução.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-198">PREfast is a free tool offered by Microsoft that analyzes execution paths in compiled C or C++ to help find run-time bugs.</span></span> <span data-ttu-id="0e4c2-199">O PREfast Opera trabalhando com todos os caminhos de execução em todas as funções e avaliando cada caminho quanto a problemas.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-199">PREfast operates by working through all execution paths in all functions and assessing each path for problems.</span></span> <span data-ttu-id="0e4c2-200">Usado originalmente para desenvolver drivers e outros códigos de kernel, essa ferramenta pode ajudar os desenvolvedores de jogos a economizar tempo, eliminando alguns bugs que são difíceis de encontrar ou ignorados pelo compilador.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-200">Originally used to develop drivers and other kernel code, this tool can help game developers save time by eliminating some bugs that are hard to find or are ignored by the compiler.</span></span> <span data-ttu-id="0e4c2-201">Usar o PREfast é uma maneira excelente de reduzir a carga de trabalho e concentrar os esforços da equipe de desenvolvimento e da equipe de teste.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-201">Using PREfast is an excellent way of reducing workload and focusing the efforts of both the development team and test team.</span></span> <span data-ttu-id="0e4c2-202">O PREfast está disponível no Visual Studio Team Suite e no Visual Studio Team Edition for Software Developers como análise de código, habilitado pela opção do compilador **/Analyze**.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-202">PREfast is available in Visual Studio Team Suite and Visual Studio Team Edition for Software Developers as Code Analysis, enabled by the compiler switch **/analyze**.</span></span> <span data-ttu-id="0e4c2-203">(Essa opção também está disponível na versão gratuita do compilador que acompanha o kit de desenvolvimento de software do Windows.)</span><span class="sxs-lookup"><span data-stu-id="0e4c2-203">(This option is also available in the free version of the compiler that ships with the Windows Software Development Kit.)</span></span>

> [!Note]  
> <span data-ttu-id="0e4c2-204">O Visual Studio 2012 dá suporte a **/Analyze** em todas as edições.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-204">Visual Studio 2012 supports **/analyze** in all editions.</span></span> <span data-ttu-id="0e4c2-205">Para obter mais informações sobre a disponibilidade da análise de código em todas as edições do Visual Studio, consulte [novidades na análise de código](/archive/blogs/codeanalysis/?m=20123).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-205">For more info about code analysis availability in all editions of Visual Studio, see [What’s New in Code Analysis](/archive/blogs/codeanalysis/?m=20123).</span></span>

 

<span data-ttu-id="0e4c2-206">Com o uso da anotação de cabeçalho (particularmente para argumentos de ponteiro de buffer), o PREfast pode expor problemas adicionais, como erros de substituição de memória, uma fonte comum de falhas e vulnerabilidades de segurança em potencial.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-206">Through the use of header annotation (particularly for buffer pointer arguments), PREfast can expose additional issues, such as memory overwrite bugs, a common source of crashes and potential security vulnerabilities.</span></span> <span data-ttu-id="0e4c2-207">Isso é feito usando a linguagem de anotação padrão (SAL), que é uma forma de marcação para protótipos de função C/C++ que fornecem informações adicionais sobre a semântica de argumento de ponteiro esperada e correlação com parâmetros de comprimento, tamanhos de buffer declarados, etc. Todos os cabeçalhos dos sistemas operacionais Windows são anotados e a adição de marca SAL em cabeçalhos de API pública em suas próprias bibliotecas permite a realização de verificações mais detalhadas e agressivas em seu código de cliente para tais APIs.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-207">This is done by using the Standard Annotation Language (SAL), which is a form of mark-up for C/C++ function prototypes that provide additional information about expected pointer argument semantics and correlation with length parameters, declared buffer sizes, etc. All of the headers for Windows operating systems are annotated, and adding SAL mark-up in public API headers in your own libraries enables PREfast to perform more detailed and aggressive checks in your client code for such APIs.</span></span> <span data-ttu-id="0e4c2-208">Para obter uma introdução ao SAL e a links para mais informações, consulte a entrada de blog de Michael Howard, "[uma breve introdução à linguagem de anotação padrão (sal)](/archive/blogs/michael_howard/a-brief-introduction-to-the-standard-annotation-language-sal)".</span><span class="sxs-lookup"><span data-stu-id="0e4c2-208">For an introduction to SAL and links to more information, see Michael Howard's blog entry, "[A Brief Introduction to the Standard Annotation Language (SAL)](/archive/blogs/michael_howard/a-brief-introduction-to-the-standard-annotation-language-sal)."</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-209"><span id="Windows_Application_Verifier"></span><span id="windows_application_verifier"></span><span id="WINDOWS_APPLICATION_VERIFIER"></span>Application Verifier do Windows</span><span class="sxs-lookup"><span data-stu-id="0e4c2-209"><span id="Windows_Application_Verifier"></span><span id="windows_application_verifier"></span><span id="WINDOWS_APPLICATION_VERIFIER"></span>Windows Application Verifier</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-210">O Windows Application Verifier, ou AppVerifier, pode ajudar os testadores fornecendo várias funções em uma ferramenta.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-210">The Windows Application Verifier, or AppVerifier, can help testers by providing multiple functions in one tool.</span></span> <span data-ttu-id="0e4c2-211">O AppVerifier é uma ferramenta desenvolvida para tornar mais testados os erros comuns de programação.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-211">The AppVerifier is a tool that was developed to make common programming errors more testable.</span></span> <span data-ttu-id="0e4c2-212">O AppVerifier pode verificar os parâmetros passados para chamadas à API, injetar entrada errada para verificar a capacidade de tratamento de erros e registrar em log as alterações no registro e no sistema de arquivos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-212">AppVerifier can check parameters passed to API calls, inject erroneous input to check error handling ability, and log changes to the registry and file system.</span></span> <span data-ttu-id="0e4c2-213">O AppVerifier também pode detectar saturações de buffer no heap, verificar se uma ACL (lista de controle de acesso) foi definida corretamente e impor o uso seguro de APIs de soquete.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-213">AppVerifier can also detect buffer overruns in the heap, check that an Access Control List (ACL) has been properly defined, and enforce the safe use of socket APIs.</span></span> <span data-ttu-id="0e4c2-214">Embora não seja exaustiva, o AppVerifier pode ser uma ferramenta na caixa de ferramentas do testador para ajudar um produto do Development Studio a lançar uma qualidade.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-214">While not exhaustive, AppVerifier can be one tool in the tester's toolbox to help a development studio release a quality product.</span></span>

<span data-ttu-id="0e4c2-215">Para obter mais informações sobre Application Verifier, consulte [Application Verifier](/previous-versions/visualstudio/visual-studio-2008/ms220948(v=vs.90)) e [usando Application Verifier em seu ciclo de vida de desenvolvimento de software](/previous-versions/aa480483(v=msdn.10)) no msdn.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-215">For more information about Application Verifier, see [Application Verifier](/previous-versions/visualstudio/visual-studio-2008/ms220948(v=vs.90)) and [Using Application Verifier Within Your Software Development Lifecycle](/previous-versions/aa480483(v=msdn.10)) on MSDN.</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-216"><span id="Fuzz_Testing"></span><span id="fuzz_testing"></span><span id="FUZZ_TESTING"></span>Teste de fuzzing</span><span class="sxs-lookup"><span data-stu-id="0e4c2-216"><span id="Fuzz_Testing"></span><span id="fuzz_testing"></span><span id="FUZZ_TESTING"></span>Fuzz Testing</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-217">O *teste difuso* é um método semiautomatizado de testes que pode aprimorar as metodologias de teste atuais.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-217">*Fuzz testing* is a semi-automated method of testing that can enhance current testing methodologies.</span></span> <span data-ttu-id="0e4c2-218">A ideia central por trás do teste de fuzzing é fazer uma avaliação completa de todas as entradas inserindo dados aleatórios para ver quais são as interrupções; Isso inclui todos os dados de rede, mods e jogos salvos, etc. O teste difuso é razoavelmente fácil de fazer.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-218">The central idea behind fuzz testing is to make a full assessment of all inputs by inputing random data to see what breaks; this includes all network data, mods and saved games, etc. Fuzz testing is fairly easy to do.</span></span> <span data-ttu-id="0e4c2-219">Basta alterar arquivos bem formados ou dados de rede inserindo bytes aleatórios, invertendo bytes adjacentes ou negando valores numéricos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-219">Simply alter well-formed files or network data by inserting random bytes, flipping adjacent bytes, or negating numerical values.</span></span> <span data-ttu-id="0e4c2-220">0xFF, 0xFFFF, 0xFFFFFFFF, 0x00, 0x0000, 0x00000000 e 0x80000000 são valores que são bons na exposição de brechas de segurança durante o teste de difusão.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-220">0xff, 0xffff, 0xffffffff, 0x00, 0x0000, 0x00000000, and 0x80000000 are values that are good at exposing security holes while fuzz testing.</span></span> <span data-ttu-id="0e4c2-221">Você pode observar as combinações de interação resultantes usando o AppVerifier.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-221">You can observe the resulting interaction combinations using AppVerifier.</span></span> <span data-ttu-id="0e4c2-222">Embora a difusão não seja exaustiva, é fácil implementar e automatizar, e pode detectar bugs mais enganosos e imprevisíveis.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-222">While fuzzing is not exhaustive, it is easy to implement and automate, and it can catch the more elusive and unpredictable bugs.</span></span>

<span data-ttu-id="0e4c2-223">Para obter mais informações sobre testes de fuzzing, consulte as *etapas práticas* de apresentação do [Gamefest 2007](/previous-versions/dn629515(v=msdn.10)) em segurança do jogo.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-223">For more information on fuzz testing, see the [Gamefest 2007](/previous-versions/dn629515(v=msdn.10)) presentation *Practical Steps in Game Security*.</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-224"><span id="Authenticode_Signing"></span><span id="authenticode_signing"></span><span id="AUTHENTICODE_SIGNING"></span>Assinatura Authenticode</span><span class="sxs-lookup"><span data-stu-id="0e4c2-224"><span id="Authenticode_Signing"></span><span id="authenticode_signing"></span><span id="AUTHENTICODE_SIGNING"></span>Authenticode Signing</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-225">O Authenticode é um método para garantir que arquivos executáveis, arquivos DLL e pacotes do Windows Installer (arquivos. msi) que o usuário recebe sejam inalterados do que um desenvolvedor lançou.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-225">Authenticode is a method of ensuring that executable files, DLL files, and Windows installer packages (.msi files) that the user receives are unaltered from what a developer released.</span></span> <span data-ttu-id="0e4c2-226">Usando uma combinação de princípios de criptografia, entidades confiáveis e padrões do setor, o Authenticode verifica a integridade do conteúdo executável.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-226">By using a combination of cryptographic principles, trusted entities, and industry standards, Authenticode verifies the integrity of executable content.</span></span> <span data-ttu-id="0e4c2-227">A Microsoft fornece uma API criptográfica, CryptoAPI, que pode ser usada para detectar automaticamente a adulteração de código assinado.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-227">Microsoft provides a cryptographic API, CryptoAPI, that can be used to auto-detect tampering of signed code.</span></span> <span data-ttu-id="0e4c2-228">Se um vazamento de segurança ocorrer após uma versão, um certificado poderá ser revogado e todo o código assinado com esse certificado deixará de ser autenticado.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-228">If a security leak occurs after a release, a certificate can be revoked and all code signed with that certificate will stop authenticating.</span></span> <span data-ttu-id="0e4c2-229">Revogar um certificado revogará a validação de todos os títulos assinados com esse certificado.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-229">Revoking a certificate will revoke the validation of all titles signed with that certificate.</span></span> <span data-ttu-id="0e4c2-230">O Windows foi projetado para trabalhar com assinatura Authenticode e alertará um usuário de código não assinado, em situações específicas, que poderia expor o computador de um usuário a ataques.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-230">Windows has been designed to work with Authenticode signing and will alert a user of unsigned code, in specific situations, that could expose a user's PC to attack.</span></span>

<span data-ttu-id="0e4c2-231">O Authenticode não deve ser considerado um método de eliminação de problemas de segurança, mas um método de detecção de adulteração após um executável foi lançado.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-231">Authenticode should not be considered a method of eliminating security issues, but a method of detecting tampering after an executable has been released.</span></span> <span data-ttu-id="0e4c2-232">Um executável ou DLL que contém um problema de segurança explorável pode ser assinado e verificado usando o Authenticode, mas ele ainda apresentará o problema de segurança para o novo sistema.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-232">An executable or DLL that contains an exploitable security issue can be signed and verified using Authenticode, but it will still introduce the security issue to the new system.</span></span> <span data-ttu-id="0e4c2-233">Somente depois que um produto ou atualização tiver sido verificado para ser seguro, caso o código seja assinado para garantir que os usuários tenham uma versão que não tenha sido adulterada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-233">Only after a product or update has been verified to be secure should the code be signed to assure users that they have a release that hasn't been tampered with.</span></span>

<span data-ttu-id="0e4c2-234">Mesmo se o desenvolvedor sentir que não há nenhuma ameaça de suas versões sendo modificadas, outras tecnologias e serviços dependem do Authenticode.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-234">Even if a developer feels that there is no threat of their releases being modified, other technologies and services rely on Authenticode.</span></span> <span data-ttu-id="0e4c2-235">A assinatura de código é fácil de integrar e automatizar; Não há motivo para os desenvolvedores não terem suas versões assinadas.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-235">Code signing is easy to integrate and automate; there is no reason for developers to not have their releases signed.</span></span>

<span data-ttu-id="0e4c2-236">Para obter mais informações sobre assinatura Authenticode, consulte [assinatura Authenticode para desenvolvedores de jogos](./authenticode-signing-for-game-developers.md).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-236">For more information on Authenticode signing, see [Authenticode Signing for Game Developers](./authenticode-signing-for-game-developers.md).</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-237"><span id="Minimize_Privileges"></span><span id="minimize_privileges"></span><span id="MINIMIZE_PRIVILEGES"></span>Minimizar privilégios</span><span class="sxs-lookup"><span data-stu-id="0e4c2-237"><span id="Minimize_Privileges"></span><span id="minimize_privileges"></span><span id="MINIMIZE_PRIVILEGES"></span>Minimize Privileges</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-238">Em geral, os processos devem ser executados com o conjunto mínimo de privilégios necessários para operar.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-238">In general processes should run with the minimum set of privileges required to operate.</span></span> <span data-ttu-id="0e4c2-239">No Windows Vista e no Windows 7, isso é feito usando o [controle de conta de usuário](./user-account-control-for-game-developers.md), permitindo que o jogo seja executado como um usuário padrão em vez de um administrador.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-239">On Windows Vista and Windows 7, this is accomplished by using [User Account Control](./user-account-control-for-game-developers.md), allowing the game to run as a Standard User rather than an administrator.</span></span> <span data-ttu-id="0e4c2-240">Para o Windows XP, normalmente os jogos estão sempre em execução como administrador.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-240">For Windows XP, typically games are always running as administrator.</span></span> <span data-ttu-id="0e4c2-241">Mesmo no Windows Vista e no Windows 7, às vezes é necessário elevar a direitos de administrador completo para algumas operações específicas.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-241">Even on Windows Vista and Windows 7, it is sometimes necessary to elevate to full administrator rights for some specific operations.</span></span>

<span data-ttu-id="0e4c2-242">Nos casos em que o processo está sendo executado com direitos administrativos completos, normalmente apenas alguns direitos além daqueles de um usuário padrão são realmente necessários.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-242">In the cases where the process is running with full administrative rights, usually only a few rights beyond those of a Standard User are actually required.</span></span> <span data-ttu-id="0e4c2-243">O acesso administrativo inclui muitos direitos que não são exigidos pelo código legítimo, mas que podem ser usados por um invasor, por meio de algum ponto fraco no processo.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-243">Administrative access includes many rights that are not required by legitimate code, but could be used by an attacker, through some weakness in the process.</span></span> <span data-ttu-id="0e4c2-244">Exemplos de tais direitos incluem SE \_ apropriar-se \_ , se for, \_ debug, se \_ Create \_ token, se \_ ASSIGNPRIMARYTOKEN, se TCB, se \_ \_ Security, o \_ Load \_ Driver, se for \_ SYSTEMTIME, \_ backup, se o Restore, o \_ \_ desligamento se e a \_ auditoria se (consulte [constantes de privilégio](../secauthz/privilege-constants.md)).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-244">Examples of such rights include SE\_TAKE\_OWNERSHIP, SE\_DEBUG, SE\_CREATE\_TOKEN, SE\_ASSIGNPRIMARYTOKEN, SE\_TCB, SE\_SECURITY, SE\_LOAD\_DRIVER, SE\_SYSTEMTIME, SE\_BACKUP, SE\_RESTORE, SE\_SHUTDOWN, and SE\_AUDIT (see [Priviledge Constants](../secauthz/privilege-constants.md)).</span></span>

<span data-ttu-id="0e4c2-245">Embora um processo não possa obter mais direitos depois de iniciado, ele pode facilmente fornecer direitos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-245">While a process cannot gain more rights once started, it can easily give up rights.</span></span> <span data-ttu-id="0e4c2-246">Na inicialização, o processo pode usar imediatamente as APIs do Win32 para remover os direitos que ele não precisa.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-246">At startup, the process can immediately use Win32 APIs to remove rights that it does not require.</span></span>

</dd> <dt>

<span data-ttu-id="0e4c2-247"><span id="Utilize_Windows_Security_Features"></span><span id="utilize_windows_security_features"></span><span id="UTILIZE_WINDOWS_SECURITY_FEATURES"></span>Utilizar os recursos de segurança do Windows</span><span class="sxs-lookup"><span data-stu-id="0e4c2-247"><span id="Utilize_Windows_Security_Features"></span><span id="utilize_windows_security_features"></span><span id="UTILIZE_WINDOWS_SECURITY_FEATURES"></span>Utilize Windows Security Features</span></span>
</dt> <dd>

<span data-ttu-id="0e4c2-248">O Windows Vista e o Windows 7 incluem vários recursos novos que aprimoram a segurança do código.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-248">Windows Vista and Windows 7 includes a number of new features that improve code security.</span></span> <span data-ttu-id="0e4c2-249">O [controle de conta de usuário](./user-account-control-for-game-developers.md) é certamente o mais importante para entender e adotar, mas também há outros recursos.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-249">[User Account Control](./user-account-control-for-game-developers.md) is certainly the most important one to understand and embrace, but there are other features as well.</span></span> <span data-ttu-id="0e4c2-250">Além das tecnologias do Windows XP SP2, como o Firewall do Windows, a prevenção de execução de dados, a verificação de segurança do buffer e os manipuladores de exceção segura que também estão disponíveis no Windows Vista e no Windows 7, há três recursos de segurança mais recentes a serem considerados:</span><span class="sxs-lookup"><span data-stu-id="0e4c2-250">In addition to the Windows XP SP2 technologies, such as the Windows Firewall, Data Execution Prevention, Buffer Security Check, and Safe Exception Handlers which are also available on Windows Vista and Windows 7, there are three newer security features to consider:</span></span>

-   <span data-ttu-id="0e4c2-251">O recurso de randomização de layout de espaço de endereço de aceitação.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-251">The opt-in Address Space Layout Randomization feature.</span></span> <span data-ttu-id="0e4c2-252">Isso é habilitado por meio da vinculação com a opção **/DynamicBase** no visual Studio 2005 Service Pack 1 ou no visual Studio 2008.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-252">This is enabled by linking with the option **/DYNAMICBASE** on Visual Studio 2005 Service Pack 1 or Visual Studio 2008.</span></span> <span data-ttu-id="0e4c2-253">Isso faz com que o sistema torne aleatório as posições de muitas das principais DLLs do sistema em seu espaço de processo, tornando muito mais difícil escrever programas de ataque exploráveis que se propaguem amplamente pela Internet.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-253">This causes the system to randomize the positions of many of the key system DLLs in your process space, making it much more difficult to write exploitable attack programs that propagate broadly across the Internet.</span></span> <span data-ttu-id="0e4c2-254">Esse sinalizador de vinculador é ignorado pelo Windows XP e por versões anteriores do Windows.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-254">This linker flag is ignored by Windows XP and older versions of Windows.</span></span>
-   <span data-ttu-id="0e4c2-255">A corrupção de heap pode levar a uma classe inteira de explorações de segurança, portanto, o sistema de memória do Windows Vista e do Windows 7 agora oferece suporte a um modo que encerra o processo se a corrupção de heap for detectada.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-255">Heap corruption can lead to an entire class of security exploits, so the memory system of Windows Vista and Windows 7 now supports a mode which terminates the process if heap corruption is detected.</span></span> <span data-ttu-id="0e4c2-256">Chamar [**HeapSetInformation**](/windows/win32/api/heapapi/nf-heapapi-heapsetinformation) com **HeapEnableTermianteOnCorruption** aceitará esse comportamento.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-256">Calling [**HeapSetInformation**](/windows/win32/api/heapapi/nf-heapapi-heapsetinformation) with **HeapEnableTermianteOnCorruption** will opt-in to this behavior.</span></span> <span data-ttu-id="0e4c2-257">Essa chamada falha no Windows XP e na versão mais antiga do Windows.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-257">This call fails on Windows XP and older version of Windows.</span></span>
-   <span data-ttu-id="0e4c2-258">Ao escrever serviços, eles podem ser configurados usando um novo recurso para especificar quais privilégios são realmente necessários, bem como para limitar o acesso de recursos a um SID específico.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-258">When writing services, they can be configured using a new feature to specify which privileges are actually required, as well as to limit resource access to a specific SID.</span></span> <span data-ttu-id="0e4c2-259">Isso é feito por meio de [ChangeSeviceConfig2](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfig2a), usando as \_ \_ \_ \_ informações de privilégios necessários de configuração de serviço e informações de SID do serviço de configuração de serviço \_ \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="0e4c2-259">This is done through [ChangeSeviceConfig2](/windows/win32/api/winsvc/nf-winsvc-changeserviceconfig2a), using SERVICE\_CONFIG\_REQUIRED\_PRIVILEGES\_INFO and SERVICE\_CONFIG\_SERVICE\_SID\_INFO.</span></span>

</dd> </dl>

## <a name="summary"></a><span data-ttu-id="0e4c2-260">Resumo</span><span class="sxs-lookup"><span data-stu-id="0e4c2-260">Summary</span></span>

<span data-ttu-id="0e4c2-261">Desenvolver um jogo para o Marketplace atual e futuro é dispendioso e demorado.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-261">Developing a game for the current and future marketplace is costly and time consuming.</span></span> <span data-ttu-id="0e4c2-262">Lançar um jogo com problemas de segurança, por fim, custará mais dinheiro e tempo para corrigir corretamente.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-262">Releasing a game with security issues will ultimately cost more money and time to properly fix.</span></span> <span data-ttu-id="0e4c2-263">Portanto, é interessante que todos os desenvolvedores de jogos integrem ferramentas e técnicas para atenuar as explorações de segurança antes do lançamento.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-263">So, it is in the interests of all game developers to integrate tools and techniques to mitigate security exploits prior to release.</span></span>

<span data-ttu-id="0e4c2-264">As informações neste artigo são apenas uma introdução ao que um Development Studio pode fazer para ajudar a si mesmos e seus clientes.</span><span class="sxs-lookup"><span data-stu-id="0e4c2-264">The information in this article is just an introduction to what a development studio can do to help themselves and their customers.</span></span> <span data-ttu-id="0e4c2-265">Mais informações sobre práticas de segurança e informações de segurança gerais podem ser encontradas no [Microsoft Security Developer Center](https://technet.microsoft.com/security/).</span><span class="sxs-lookup"><span data-stu-id="0e4c2-265">More information of general security practices and security information can be found at [Microsoft Security Developer Center](https://technet.microsoft.com/security/).</span></span>

 

 