---
title: Instalação e manutenção de jogos
description: Este artigo descreve um conjunto de práticas recomendadas que podem ajudar a reduzir a frustração do usuário sobre o tempo necessário para instalar um jogo, evitar chamadas de suporte desnecessárias e permitir que os usuários comecem a jogar o jogo de forma mais rápida e fácil possível.
ms.assetid: c953165d-2318-ca06-a895-abedcbcb594c
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de171fd76654eb3b6edb8818ec073c4ef5ba8ca4
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104294473"
---
# <a name="installation-and-maintenance-of-games"></a><span data-ttu-id="3253f-103">Instalação e manutenção de jogos</span><span class="sxs-lookup"><span data-stu-id="3253f-103">Installation and Maintenance of Games</span></span>

<span data-ttu-id="3253f-104">Este artigo descreve um conjunto de práticas recomendadas que podem ajudar a reduzir a frustração do usuário sobre o tempo necessário para instalar um jogo, evitar chamadas de suporte desnecessárias e permitir que os usuários comecem a jogar o jogo de forma mais rápida e fácil possível.</span><span class="sxs-lookup"><span data-stu-id="3253f-104">This article describes a set of best practices that can help reduce user frustration about the time required to install a game, prevent unnecessary support calls, and allow users to start playing your game as quickly and painlessly as possible.</span></span>

-   [<span data-ttu-id="3253f-105">Instalação inicial</span><span class="sxs-lookup"><span data-stu-id="3253f-105">Initial Installation</span></span>](#initial-installation)
    -   [<span data-ttu-id="3253f-106">Simplificando a interface do usuário de instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-106">Streamlining the Installation UI</span></span>](#streamlining-the-installation-ui)
    -   [<span data-ttu-id="3253f-107">Reduzindo o tempo necessário para a instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-107">Reducing the Time Required for Installation</span></span>](#reducing-the-time-required-for-installation)
    -   [<span data-ttu-id="3253f-108">Instalação mínima</span><span class="sxs-lookup"><span data-stu-id="3253f-108">Minimal Installation</span></span>](#minimal-installation)
    -   [<span data-ttu-id="3253f-109">Instalar sob demanda</span><span class="sxs-lookup"><span data-stu-id="3253f-109">Install on Demand</span></span>](#install-on-demand)
-   [<span data-ttu-id="3253f-110">Jogo de pós-instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-110">Post-Installation Game-Play</span></span>](#post-installation-game-play)
    -   [<span data-ttu-id="3253f-111">Execução</span><span class="sxs-lookup"><span data-stu-id="3253f-111">AutoRun</span></span>](#autorun)
    -   [<span data-ttu-id="3253f-112">Convertendo uma instalação instalada sob demanda em uma instalação completa</span><span class="sxs-lookup"><span data-stu-id="3253f-112">Converting an Install-on-Demand Installation to a Full Installation</span></span>](#converting-an-install-on-demand-installation-to-a-full-installation)
    -   [<span data-ttu-id="3253f-113">Manutenção de software e conteúdo de jogos</span><span class="sxs-lookup"><span data-stu-id="3253f-113">Maintenance of Game Software and Content</span></span>](#maintenance-of-game-software-and-content)
    -   [<span data-ttu-id="3253f-114">Verificando se há atualizações automaticamente</span><span class="sxs-lookup"><span data-stu-id="3253f-114">Checking for Updates Automatically</span></span>](#checking-for-updates-automatically)
    -   [<span data-ttu-id="3253f-115">Baixando patches automaticamente</span><span class="sxs-lookup"><span data-stu-id="3253f-115">Downloading Patches Automatically</span></span>](#downloading-patches-automatically)
-   [<span data-ttu-id="3253f-116">Outros recursos</span><span class="sxs-lookup"><span data-stu-id="3253f-116">Other Resources</span></span>](#other-resources)
-   [<span data-ttu-id="3253f-117">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="3253f-117">Related topics</span></span>](#related-topics)

## <a name="initial-installation"></a><span data-ttu-id="3253f-118">Instalação inicial</span><span class="sxs-lookup"><span data-stu-id="3253f-118">Initial Installation</span></span>

<span data-ttu-id="3253f-119">Os usuários compram jogos porque gostam de reproduzi-los, não porque eles gostam de instalá-los.</span><span class="sxs-lookup"><span data-stu-id="3253f-119">Users buy games because they enjoy playing them, not because they enjoy installing them.</span></span> <span data-ttu-id="3253f-120">A instalação de um jogo deve ser rápida, simples e tão simples quanto possível para o usuário final.</span><span class="sxs-lookup"><span data-stu-id="3253f-120">Installing a game should be as quick, straightforward, and as painless as possible for the end user.</span></span> <span data-ttu-id="3253f-121">Idealmente, os usuários finais não devem até ver uma interface do usuário de instalação; Eles devem ser capazes de simplesmente soltar o disco do jogo na bandeja e começar a jogar.</span><span class="sxs-lookup"><span data-stu-id="3253f-121">Ideally, end users should not even see an installation UI; they should be able to just drop the game disc into the tray and begin playing.</span></span>

### <a name="streamlining-the-installation-ui"></a><span data-ttu-id="3253f-122">Simplificando a interface do usuário de instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-122">Streamlining the Installation UI</span></span>

<span data-ttu-id="3253f-123">Os aspectos comuns das UIs de instalação de jogos existentes interferem na experiência do usuário final desejada:</span><span class="sxs-lookup"><span data-stu-id="3253f-123">Common aspects of existing game installation UIs interfere with the desired end-user experience:</span></span>

-   <span data-ttu-id="3253f-124">Solicitando perguntas desnecessárias ao usuário.</span><span class="sxs-lookup"><span data-stu-id="3253f-124">Asking the user unnecessary questions.</span></span>

    <span data-ttu-id="3253f-125">Por exemplo, muitos jogos perguntam se o usuário deseja instalar o DirectX.</span><span class="sxs-lookup"><span data-stu-id="3253f-125">For example, many games ask if the user wants to install DirectX.</span></span> <span data-ttu-id="3253f-126">Se o jogo exigir que o Microsoft DirectX seja executado e a versão correta do DirectX ainda não estiver instalada, o jogo deverá simplesmente instalar o DirectX.</span><span class="sxs-lookup"><span data-stu-id="3253f-126">If the game requires Microsoft DirectX to run, and the right version of DirectX isn't installed already, the game should simply install DirectX.</span></span>

-   <span data-ttu-id="3253f-127">Perguntar ao usuário as perguntas que uma grande maioria dos usuários responderá da mesma maneira.</span><span class="sxs-lookup"><span data-stu-id="3253f-127">Asking the user questions that a vast majority of users will answer in the same way.</span></span>

    <span data-ttu-id="3253f-128">Para usuários típicos, as configurações padrão para o caminho de instalação, o local do menu iniciar e assim por diante estão tudo bem.</span><span class="sxs-lookup"><span data-stu-id="3253f-128">For typical users, the default settings for installation path, Start menu location, and so on, are all fine.</span></span> <span data-ttu-id="3253f-129">Ofereça opções avançadas para os usuários que desejam alterar essas configurações.</span><span class="sxs-lookup"><span data-stu-id="3253f-129">Offer advanced options for users who want to change these settings.</span></span>

<span data-ttu-id="3253f-130">A interface do usuário de instalação deve ser projetada para permitir que o usuário típico comece a jogar o jogo o mais rápido possível.</span><span class="sxs-lookup"><span data-stu-id="3253f-130">The installation UI should be designed to allow the typical user to begin playing the game as soon as possible.</span></span> <span data-ttu-id="3253f-131">Se a execução automática estiver habilitada no computador do usuário, que é o padrão, o programa de instalação deverá assumir que o usuário deseja jogar o jogo assim que possível, ignorando as perguntas desnecessárias.</span><span class="sxs-lookup"><span data-stu-id="3253f-131">If AutoRun is enabled on the user's computer, which is the default, the setup program should assume that the user wants to be playing the game as soon as possible, bypassing any unnecessary questions.</span></span> <span data-ttu-id="3253f-132">A instalação progra[instalar sob demanda](#install-on-demand)m deve começar a instalar o jogo no caminho de instalação padrão, preferencialmente usando uma configuração como a descrita em.</span><span class="sxs-lookup"><span data-stu-id="3253f-132">The setup progra[Install on Demand](#install-on-demand)m should begin installing the game to the default installation path, preferably using a setup like that described in .</span></span> <span data-ttu-id="3253f-133">É apropriado conceder aos usuários a oportunidade de alterar as configurações de instalação antes de iniciar a instalação automaticamente.</span><span class="sxs-lookup"><span data-stu-id="3253f-133">It is appropriate to give users a chance to change the installation settings before automatically starting the installation.</span></span> <span data-ttu-id="3253f-134">No entanto, isso deve ser feito solicitando que o usuário pressione uma tecla para as opções de configuração avançadas e continue automaticamente com as opções padrão se o usuário não atingir essa chave em cinco a dez segundos.</span><span class="sxs-lookup"><span data-stu-id="3253f-134">However, this should be accomplished by prompting the user to hit a key for advanced setup options, and then proceeding automatically with the default options if the user does not hit that key within five to ten seconds.</span></span>

<span data-ttu-id="3253f-135">Se a execução automática não estiver habilitada no computador do usuário, o programa de instalação deverá assumir que o usuário não deseja que o programa de instalação comece a instalar o jogo automaticamente.</span><span class="sxs-lookup"><span data-stu-id="3253f-135">If AutoRun is not enabled on the user's computer, the setup program should assume that the user does not want the setup program to begin installing the game automatically.</span></span> <span data-ttu-id="3253f-136">Se o programa de instalação for iniciado por alguns meios diferentes de AutoRun, ele deverá iniciar a interface do usuário de instalação avançada.</span><span class="sxs-lookup"><span data-stu-id="3253f-136">If the setup program is started by some means other than AutoRun, it should launch the advanced setup UI.</span></span>

### <a name="reducing-the-time-required-for-installation"></a><span data-ttu-id="3253f-137">Reduzindo o tempo necessário para a instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-137">Reducing the Time Required for Installation</span></span>

<span data-ttu-id="3253f-138">A maioria dos jogos do Microsoft Windows hoje levará de cinco minutos a meia hora para concluir o processo de instalação.</span><span class="sxs-lookup"><span data-stu-id="3253f-138">Most Microsoft Windows games today take anywhere from five minutes to half an hour to finish the installation process.</span></span> <span data-ttu-id="3253f-139">Por outro lado, a maioria dos jogos de console não leva mais de trinta segundos a partir do momento em que o usuário insere o CD do jogo até o momento em que o usuário pode jogar o jogo.</span><span class="sxs-lookup"><span data-stu-id="3253f-139">In contrast, most console games take no more than thirty seconds from the time the user inserts the game CD to the time the user can play the game.</span></span> <span data-ttu-id="3253f-140">Essa diferença se deve ao fato de que a maioria dos jogos do Windows foi projetada para executar a maioria, se não todo, de seu conteúdo a partir do disco rígido do computador; os consoles do, que não têm um local para armazenar permanentemente grandes quantidades de conteúdo, exigem que o conteúdo seja executado da mídia de origem.</span><span class="sxs-lookup"><span data-stu-id="3253f-140">This difference is due to the fact that most Windows games are designed to run most, if not all, of their content from the computer's hard drive; consoles, which lack a place to permanently store large amounts of content, require that the content be run from the source media.</span></span> <span data-ttu-id="3253f-141">Embora o carregamento de conteúdo do disco rígido local faça tempos de carregamento mais rápidos no jogo, a desvantagem é que todo esse conteúdo precisa ser copiado da mídia de origem para o disco rígido em algum momento.</span><span class="sxs-lookup"><span data-stu-id="3253f-141">While loading content from the local hard drive makes for faster in-game load times, the downside is that all of that content has to be copied from the source media to the hard drive at some point.</span></span> <span data-ttu-id="3253f-142">A maioria dos jogos do Windows escolhe copiar todo o conteúdo no disco rígido de uma só vez, como parte de um processo de instalação.</span><span class="sxs-lookup"><span data-stu-id="3253f-142">Most Windows games choose to copy all of the content to the hard drive all at once, as part of an installation process.</span></span> <span data-ttu-id="3253f-143">Isso se reduz da experiência inicial do usuário com o jogo fazendo com que o usuário Assista a uma barra de progresso por vários minutos antes de poder jogar o jogo.</span><span class="sxs-lookup"><span data-stu-id="3253f-143">This detracts from the user's initial experience with the game by making the user watch a progress bar for several minutes before being able to play the game.</span></span>

<span data-ttu-id="3253f-144">Há duas abordagens que podem ser usadas para minimizar o tempo gasto inicialmente na instalação do jogo: [instalação mínima](#minimal-installation) e [instalação sob demanda](#install-on-demand).</span><span class="sxs-lookup"><span data-stu-id="3253f-144">There are two approaches that can be used to minimize the time spent initially installing the game: [Minimal Installation](#minimal-installation) and [Install on Demand](#install-on-demand).</span></span>

### <a name="minimal-installation"></a><span data-ttu-id="3253f-145">Instalação mínima</span><span class="sxs-lookup"><span data-stu-id="3253f-145">Minimal Installation</span></span>

<span data-ttu-id="3253f-146">Em um cenário de instalação mínima, o jogo instala apenas um conjunto mínimo de conteúdo no disco rígido.</span><span class="sxs-lookup"><span data-stu-id="3253f-146">In a minimal installation scenario, the game installs only a bare minimum set of content to the hard drive.</span></span> <span data-ttu-id="3253f-147">Normalmente, isso consiste apenas no executável do jogo e DLLs.</span><span class="sxs-lookup"><span data-stu-id="3253f-147">Usually, this consists of only the game executable and DLLs.</span></span> <span data-ttu-id="3253f-148">O restante do conteúdo é acessado diretamente da mídia de origem.</span><span class="sxs-lookup"><span data-stu-id="3253f-148">The remainder of the content is accessed directly from the source media.</span></span> <span data-ttu-id="3253f-149">Isso reduz drasticamente o tempo necessário para a instalação, pois o executável de um jogo raramente é maior do que 10-20 MB.</span><span class="sxs-lookup"><span data-stu-id="3253f-149">This drastically reduces the time required to install, since a game's executable is rarely larger than 10-20 MB.</span></span> <span data-ttu-id="3253f-150">A desvantagem é que o jogo leva mais tempo para carregar o conteúdo durante o jogo, já que ele deve carregá-lo a partir da mídia de origem mais lenta.</span><span class="sxs-lookup"><span data-stu-id="3253f-150">The drawback is that the game takes longer to load content during the game, since it must load it from the slower source media.</span></span>

<span data-ttu-id="3253f-151">Para criar uma configuração de instalação mínima em uma instalação baseada em Windows Installer:</span><span class="sxs-lookup"><span data-stu-id="3253f-151">To create a minimal installation configuration in a Windows Installer-based setup:</span></span>

-   <span data-ttu-id="3253f-152">Agrupe todos os componentes a serem instalados no disco rígido em um recurso marcado para instalação local.</span><span class="sxs-lookup"><span data-stu-id="3253f-152">Group all of the components to be installed to the hard drive into a feature that is marked to install locally.</span></span>

    <span data-ttu-id="3253f-153">Esse recurso será chamado de recurso de "inicialização".</span><span class="sxs-lookup"><span data-stu-id="3253f-153">This feature will be referred to as the "Bootstrap" feature.</span></span>

-   <span data-ttu-id="3253f-154">Agrupe todos os componentes que devem ser executados da mídia de origem em um recurso que está marcado como "executar da origem".</span><span class="sxs-lookup"><span data-stu-id="3253f-154">Group all of the components that are to be run from the source media into a feature that is marked as "run from source."</span></span>
-   <span data-ttu-id="3253f-155">Ao abrir um arquivo que pode estar na mídia de origem, use a função [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) para determinar o caminho para o arquivo, em vez de embutir em código o caminho.</span><span class="sxs-lookup"><span data-stu-id="3253f-155">When opening a file that might be on the source media, use the [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) function to determine the path to the file, instead of hard-coding the path.</span></span>

    <span data-ttu-id="3253f-156">Isso garante que o arquivo pode ser encontrado mesmo se a letra da unidade da unidade de CD/DVD do usuário for alterada.</span><span class="sxs-lookup"><span data-stu-id="3253f-156">Doing so ensures that the file can be found even if the drive letter of the user's CD/DVD drive changes.</span></span>

-   <span data-ttu-id="3253f-157">Compacte o conteúdo que permanece no CD/DVD.</span><span class="sxs-lookup"><span data-stu-id="3253f-157">Compress content that stays on the CD/DVD.</span></span>

    <span data-ttu-id="3253f-158">A quantidade de tempo de CPU gasto com a descompactação do conteúdo normalmente será ocultada pela taxa de transferência lenta de dados da unidade de CD/DVD.</span><span class="sxs-lookup"><span data-stu-id="3253f-158">The amount of CPU time spent decompressing the content will usually be hidden by the slow transfer rate of data from the CD/DVD drive.</span></span>

-   <span data-ttu-id="3253f-159">Agrupe o conteúdo em arquivos grandes e contíguos e acesse-os em ordem sequencial.</span><span class="sxs-lookup"><span data-stu-id="3253f-159">Group content into large, contiguous files and access it in sequential order.</span></span>

    <span data-ttu-id="3253f-160">Os tempos de busca das unidades de CD/DVD são ABYSMAL em comparação com aquelas de discos rígidos, e a maioria das unidades de CD/DVD não atinge as taxas de pico de transferência, a menos que estejam lendo um arquivo grande e contíguo.</span><span class="sxs-lookup"><span data-stu-id="3253f-160">The seek times of CD/DVD drives are abysmal compared to those of hard drives, and most CD/DVD drives don't reach peak transfer rates unless they are reading a large, contiguous file.</span></span>

-   <span data-ttu-id="3253f-161">Deite o conteúdo no CD/DVD na ordem em que é provável que ele seja acessado.</span><span class="sxs-lookup"><span data-stu-id="3253f-161">Lay out content on the CD/DVD in the order that it is likely to be accessed.</span></span>

    <span data-ttu-id="3253f-162">Os tempos de busca são significativamente reduzidos quando os arquivos são acessados na mesma ordem que o layout em disco.</span><span class="sxs-lookup"><span data-stu-id="3253f-162">Seek times are greatly reduced when files are accessed in the same order as their on-disk layout.</span></span>

### <a name="install-on-demand"></a><span data-ttu-id="3253f-163">Instalar sob demanda</span><span class="sxs-lookup"><span data-stu-id="3253f-163">Install on Demand</span></span>

<span data-ttu-id="3253f-164">Em um cenário de instalação sob demanda, como para a instalação mínima, o jogo inicialmente instala no disco rígido apenas os arquivos necessários para iniciar o jogo.</span><span class="sxs-lookup"><span data-stu-id="3253f-164">In an install-on-demand scenario, as for minimal installation, the game initially installs to the hard drive only those files necessary to start the game.</span></span> <span data-ttu-id="3253f-165">No entanto, em vez de acessar o conteúdo restante da mídia de origem toda vez que for necessário, o jogo realmente instala cada parte do conteúdo no disco rígido conforme necessário pela primeira vez e, em seguida, acessa-o a partir do disco rígido local em cada uso subsequente.</span><span class="sxs-lookup"><span data-stu-id="3253f-165">However, instead of accessing the remaining content from the source media every time it is needed, the game actually installs each piece of content to the hard drive as it is needed for the first time, and then accesses it from the local hard drive on each subsequent use.</span></span> <span data-ttu-id="3253f-166">O tempo necessário para a instalação inicial é tão pequeno quanto no para uma instalação mínima, mas após a primeira vez que cada parte do conteúdo é acessado, os tempos de carregamento melhoram.</span><span class="sxs-lookup"><span data-stu-id="3253f-166">The time required for the initial installation is just as small as in for a minimal installation, but after the first time that each piece of content is accessed, the load times improve.</span></span>

<span data-ttu-id="3253f-167">Para criar uma configuração de instalação sob demanda em uma instalação baseada em Windows Installer:</span><span class="sxs-lookup"><span data-stu-id="3253f-167">To create an install-on-demand configuration in a Windows Installer-based setup:</span></span>

-   <span data-ttu-id="3253f-168">Agrupe todos os componentes a serem instalados inicialmente no disco rígido em um recurso que está marcado para ser instalado localmente.</span><span class="sxs-lookup"><span data-stu-id="3253f-168">Group all of the components to be initially installed to the hard drive into a feature that is marked to install locally.</span></span>

    <span data-ttu-id="3253f-169">Observe que isso é idêntico ao recurso de inicialização para uma instalação mínima.</span><span class="sxs-lookup"><span data-stu-id="3253f-169">Note that this is identical to the Bootstrap feature for a minimal installation.</span></span>

-   <span data-ttu-id="3253f-170">Agrupe o conteúdo restante em vários recursos com base nos componentes que provavelmente serão usados juntos.</span><span class="sxs-lookup"><span data-stu-id="3253f-170">Group the remaining content into multiple features based on components likely to be used together.</span></span>

    <span data-ttu-id="3253f-171">Por exemplo, em um jogo baseado em nível, agrupe todo o conteúdo usado em um determinado nível em um único recurso.</span><span class="sxs-lookup"><span data-stu-id="3253f-171">For example, in a level-based game, group all the content used on a given level into one feature.</span></span> <span data-ttu-id="3253f-172">Observe que Windows Installer permite que um componente seja compartilhado por vários recursos, portanto, se você tiver conteúdo usado em vários níveis, poderá adicionar esse conteúdo aos recursos de todos os níveis necessários sem replicar o conteúdo.</span><span class="sxs-lookup"><span data-stu-id="3253f-172">Note that Windows Installer allows a component to be shared by multiple features, so if you have content that is used on multiple levels, you can add that content to the features for all of the necessary levels without replicating the content.</span></span> <span data-ttu-id="3253f-173">Todos esses recursos devem ser marcados como "anunciados", o que significa que eles não serão instalados inicialmente, mas poderão ser instalados posteriormente, conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="3253f-173">All of these features should be marked as "Advertised", which means that they won't be installed initially, but can be installed later as needed.</span></span>

-   <span data-ttu-id="3253f-174">Quando um arquivo for necessário, verifique primeiro se o arquivo já está instalado usando a função [**MsiQueryFeatureState**](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea).</span><span class="sxs-lookup"><span data-stu-id="3253f-174">When a file is needed, first check whether the file is already installed using the function [**MsiQueryFeatureState**](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea).</span></span>

    <span data-ttu-id="3253f-175">Se ainda não estiver instalado (ou seja, seu estado é INSTALLstate \_ anunciado), chame a função [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) para instalar o recurso localmente.</span><span class="sxs-lookup"><span data-stu-id="3253f-175">If it is not yet installed (that is, its state is INSTALLSTATE\_ADVERTISED), call the function [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to install the feature locally.</span></span> <span data-ttu-id="3253f-176">Ao abrir o arquivo depois que ele for instalado, chame [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) para determinar o caminho para o arquivo.</span><span class="sxs-lookup"><span data-stu-id="3253f-176">When opening the file after it is installed, call [**MsiGetComponentPath**](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha) to determine the path to the file.</span></span> <span data-ttu-id="3253f-177">Embora não seja estritamente necessário para esse cenário (como o conteúdo sempre será instalado no disco rígido antes de ser usado), isso torna mais fácil oferecer suporte à instalação mínima, além da instalação sob demanda.</span><span class="sxs-lookup"><span data-stu-id="3253f-177">While not strictly necessary for this scenario (since the content will always be installed to the hard drive before it is used), this makes it easier to support minimal installation in addition to installation on demand.</span></span>

-   <span data-ttu-id="3253f-178">Se possível, antecipar qual conteúdo provavelmente será necessário em breve e instalá-lo em segundo plano durante o tempo ocioso.</span><span class="sxs-lookup"><span data-stu-id="3253f-178">If possible, anticipate what content is likely to be needed soon, and install it in the background during idle time.</span></span>

    <span data-ttu-id="3253f-179">A instalação em segundo plano é mais apropriada quando o jogo está em um ponto que não precisa de todas as últimas onças de desempenho do computador; por exemplo, ao exibir um filme de introdução, recortar cena, menu e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="3253f-179">Background installation is most appropriate when the game is at a point that doesn't need every last ounce of performance out of the computer; for example, while displaying an intro movie, cut-scene, menu, and so on.</span></span>

-   <span data-ttu-id="3253f-180">Crie uma opção no menu de opções do jogo para forçar a instalação de todo o conteúdo restante.</span><span class="sxs-lookup"><span data-stu-id="3253f-180">Create an option in the game's options menu to force installation of all remaining content.</span></span>

    <span data-ttu-id="3253f-181">Para implementar isso, crie um recurso que seja pai de todos os recursos de instalação sob demanda e, em seguida, chame [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) para instalar esse recurso mestre localmente.</span><span class="sxs-lookup"><span data-stu-id="3253f-181">To implement this, create a feature that is a parent of all of the install-on-demand features, and then call [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to install this master feature locally.</span></span> <span data-ttu-id="3253f-182">Isso fará com que os sub-recursos sejam instalados localmente também.</span><span class="sxs-lookup"><span data-stu-id="3253f-182">This will cause the subfeatures to be installed locally as well.</span></span>

-   <span data-ttu-id="3253f-183">O layout do conteúdo deve ser semelhante ao de uma instalação mínima, exceto que o conteúdo deve ser clusterizado apenas com outro conteúdo que provavelmente será necessário ao mesmo tempo (por exemplo, todo o conteúdo de um nível deve estar em conjunto).</span><span class="sxs-lookup"><span data-stu-id="3253f-183">Content layout should be similar to that for a minimal installation, except that content should be clustered only with other content that is likely to be needed at the same time (for example, all of the content for one level should be together).</span></span>

## <a name="post-installation-game-play"></a><span data-ttu-id="3253f-184">Game-Play pós-instalação</span><span class="sxs-lookup"><span data-stu-id="3253f-184">Post-Installation Game-Play</span></span>

### <a name="autorun"></a><span data-ttu-id="3253f-185">Execução</span><span class="sxs-lookup"><span data-stu-id="3253f-185">AutoRun</span></span>

<span data-ttu-id="3253f-186">Para participar de um jogo que já está instalado, o usuário só precisa descartar o disco de instalação na bandeja da unidade.</span><span class="sxs-lookup"><span data-stu-id="3253f-186">To play a game that is already installed, the user should only need to drop the installation disc in the drive tray.</span></span> <span data-ttu-id="3253f-187">A primeira coisa que o executável de AutoRun no disco deve fazer é verificar se o jogo já foi instalado e, nesse caso, iniciar o jogo.</span><span class="sxs-lookup"><span data-stu-id="3253f-187">The first thing that the AutoRun executable on the disc should do is to check to see if the game has already been installed, and if so, launch the game.</span></span> <span data-ttu-id="3253f-188">Supondo que o jogo foi instalado usando uma instalação baseada em Windows Installer, a verificação para determinar se o jogo está instalado pode ser realizada com uma única chamada para a função [**MsiQueryProductState**](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea).</span><span class="sxs-lookup"><span data-stu-id="3253f-188">Assuming that the game was installed using a Windows Installer-based setup, the check to determine if the game is installed can be accomplished with a single call to the function [**MsiQueryProductState**](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea).</span></span>

### <a name="converting-an-install-on-demand-installation-to-a-full-installation"></a><span data-ttu-id="3253f-189">Convertendo uma instalação instalada sob demanda em uma instalação completa</span><span class="sxs-lookup"><span data-stu-id="3253f-189">Converting an Install-on-Demand Installation to a Full Installation</span></span>

<span data-ttu-id="3253f-190">Embora uma instalação de instalação sob demanda permita que o usuário comece a jogar o jogo muito antes de uma instalação completa, um usuário pode querer instalar explicitamente o restante do conteúdo do jogo no disco rígido local.</span><span class="sxs-lookup"><span data-stu-id="3253f-190">While an install-on-demand installation allows the user to begin playing the game much sooner than a full installation, a user may want to explicitly install the remainder of the game content to the local hard drive.</span></span> <span data-ttu-id="3253f-191">O usuário pode querer ser capaz de jogar o jogo sem exigir a mídia de origem, ou talvez simplesmente queira evitar os tempos de carregamento mais longos no jogo que resultam da instalação do conteúdo sob demanda.</span><span class="sxs-lookup"><span data-stu-id="3253f-191">The user may want to be able to play the game without requiring the source media, or he or she may simply want to avoid the longer in-game load times that result from installing content on demand.</span></span> <span data-ttu-id="3253f-192">Se a configuração do jogo usar Windows Installer, o jogo poderá fornecer uma opção na interface do usuário opções no jogo para concluir a instalação do conteúdo restante.</span><span class="sxs-lookup"><span data-stu-id="3253f-192">If the game's setup uses Windows Installer, the game can provide an option in the in-game options UI to finish installing the remaining content.</span></span> <span data-ttu-id="3253f-193">Quando o usuário seleciona essa opção, o jogo pode chamar [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) para forçar a instalação local dos recursos restantes; Não é necessário gerar um aplicativo de instalação separado para fazer isso.</span><span class="sxs-lookup"><span data-stu-id="3253f-193">When the user selects this option, the game can call [**MsiConfigureFeature**](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea) to force the remaining features to be installed locally; there is no need to spawn a separate setup application to do so.</span></span>

### <a name="maintenance-of-game-software-and-content"></a><span data-ttu-id="3253f-194">Manutenção de software e conteúdo de jogos</span><span class="sxs-lookup"><span data-stu-id="3253f-194">Maintenance of Game Software and Content</span></span>

<span data-ttu-id="3253f-195">Uma das vantagens que os jogos do Windows têm sobre jogos de console é a facilidade relativa com a qual o Publicador pode lançar atualizações para o jogo após sua versão inicial.</span><span class="sxs-lookup"><span data-stu-id="3253f-195">One of the advantages that Windows games have over console games is the relative ease with which the publisher can release updates to the game after its initial release.</span></span> <span data-ttu-id="3253f-196">Quer essas atualizações introduzam novo conteúdo ou apenas corrijam bugs, é importante tornar o processo de atualização o mais fácil possível para o usuário final.</span><span class="sxs-lookup"><span data-stu-id="3253f-196">Whether these updates introduce new content or just fix bugs, it is important to make the update process as easy as possible for the end user.</span></span> <span data-ttu-id="3253f-197">O processo de atualização é ainda mais importante para jogos online, o que normalmente requer que todos os usuários estejam executando a versão mais recente do jogo para se conectar.</span><span class="sxs-lookup"><span data-stu-id="3253f-197">The update process is even more important for online games, which typically require that all users are running the latest version of the game in order to connect.</span></span>

### <a name="checking-for-updates-automatically"></a><span data-ttu-id="3253f-198">Verificando se há atualizações automaticamente</span><span class="sxs-lookup"><span data-stu-id="3253f-198">Checking for Updates Automatically</span></span>

<span data-ttu-id="3253f-199">Os usuários não devem se lembrar de buscar patches.</span><span class="sxs-lookup"><span data-stu-id="3253f-199">Users should not have to remember to go looking for patches.</span></span> <span data-ttu-id="3253f-200">Se houver uma atualização disponível para o jogo, o usuário deverá, pelo menos, ser notificado e, idealmente, o patch já deverá ser baixado.</span><span class="sxs-lookup"><span data-stu-id="3253f-200">If there is an update available for the game, the user should at least be notified, and ideally, the patch should already be downloaded.</span></span>

<span data-ttu-id="3253f-201">Uma maneira simples de um jogo verificar se há atualizações é conectar-se a um servidor Web hospedado pelo Publicador usando uma URL específica e baixar um arquivo de texto que especifique o número da versão mais recente disponível do jogo, juntamente com uma URL da qual baixar um pacote que atualizará o jogo para a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="3253f-201">A simple way for a game to check for updates is to connect to a Web server hosted by the publisher using a specific URL, and download a text file that specifies the version number of the latest available version of the game, along with a URL from which to download a package that will update the game to the latest version.</span></span>

<span data-ttu-id="3253f-202">A verificação de atualizações sempre que o usuário desempenha o jogo é adequada para garantir que o usuário esteja executando a versão mais recente.</span><span class="sxs-lookup"><span data-stu-id="3253f-202">Checking for updates each time that the user plays the game is adequate to make sure that the user is running the latest version.</span></span> <span data-ttu-id="3253f-203">No entanto, se a existência de uma nova atualização for descoberta imediatamente antes que o usuário tente jogar o jogo, o usuário poderá ser forçado a atrasar a reprodução do jogo até que o download da atualização seja concluído.</span><span class="sxs-lookup"><span data-stu-id="3253f-203">However, if the existence of a new update is discovered immediately before the user tries to play the game, the user may be forced to delay playing the game until the update has finished downloading.</span></span> <span data-ttu-id="3253f-204">Para atualizações grandes ou conexões lentas, esse atraso pode estar na ordem de horas.</span><span class="sxs-lookup"><span data-stu-id="3253f-204">For large updates or slow connections, this delay may be on the order of hours.</span></span> <span data-ttu-id="3253f-205">Para evitar forçar o usuário a aguardar antes de jogar o jogo, o jogo pode usar Agendador de Tarefas para agendar verificações periódicas em busca de novas atualizações.</span><span class="sxs-lookup"><span data-stu-id="3253f-205">To avoid forcing the user to wait before playing the game, the game can use Task Scheduler to schedule periodic checks for new updates.</span></span> <span data-ttu-id="3253f-206">Se uma atualização for detectada, o jogo poderá começar a baixar a atualização imediatamente, para que seja provável que seja completamente baixado e pronto para ser instalado pela próxima vez que o usuário jogar o jogo.</span><span class="sxs-lookup"><span data-stu-id="3253f-206">If an update is detected, the game can begin downloading the update immediately, so that it is likely to be completely downloaded and ready to install by the next time the user plays the game.</span></span>

### <a name="downloading-patches-automatically"></a><span data-ttu-id="3253f-207">Baixando patches automaticamente</span><span class="sxs-lookup"><span data-stu-id="3253f-207">Downloading Patches Automatically</span></span>

<span data-ttu-id="3253f-208">Depois que o jogo detectar que uma nova atualização está disponível, ele deverá começar imediatamente a baixar a atualização.</span><span class="sxs-lookup"><span data-stu-id="3253f-208">Once the game has detected that a new update is available, it should immediately begin downloading the update.</span></span> <span data-ttu-id="3253f-209">Como a tarefa que verifica se há atualizações normalmente está sendo executada silenciosamente em segundo plano, o download precisa ser o mais discreto possível.</span><span class="sxs-lookup"><span data-stu-id="3253f-209">Since the task that checks for updates is typically running silently in the background, the download needs to be as unobtrusive as possible.</span></span> <span data-ttu-id="3253f-210">O Serviço de Transferência Inteligente em Segundo Plano (BITS) é um recurso do sistema operacional que permite que os aplicativos baixem arquivos da Internet mesmo que o próprio aplicativo não esteja em execução.</span><span class="sxs-lookup"><span data-stu-id="3253f-210">The Background Intelligent Transfer Service (BITS) is an operating system feature that allows applications to download files from the Internet even while the application itself is not running.</span></span> <span data-ttu-id="3253f-211">Os trabalhos de download do BITS são executados somente quando o usuário está conectado e somente quando o computador já está conectado à rede.</span><span class="sxs-lookup"><span data-stu-id="3253f-211">BITS download jobs run only when the user is logged on, and only when the machine is already connected to the network.</span></span> <span data-ttu-id="3253f-212">O BITS não tentará forçar o computador a se conectar à rede por conta própria.</span><span class="sxs-lookup"><span data-stu-id="3253f-212">BITS will not attempt to force the machine to connect to the network on its own.</span></span> <span data-ttu-id="3253f-213">Se o usuário se desconectar da rede ou fizer logoff, o trabalho do BITS será pausado e continuará o download na próxima vez que o usuário fizer logon e se conectar à rede.</span><span class="sxs-lookup"><span data-stu-id="3253f-213">If the user disconnects from the network, or logs off, the BITS job is paused, and will resume downloading the next time the user logs in and connects to the network.</span></span> <span data-ttu-id="3253f-214">O aplicativo pode configurar seus trabalhos BITS para usar apenas a largura de banda de rede que, de outra forma, permaneceria não utilizada, para impedir que o trabalho afete o desempenho de quaisquer outros aplicativos que possam estar usando a rede (por exemplo, um jogo online).</span><span class="sxs-lookup"><span data-stu-id="3253f-214">The application can configure its BITS jobs to use only network bandwidth that would otherwise remain unused, in order to prevent the job from impacting the performance of any other applications that might be using the network (for example, an online game).</span></span> <span data-ttu-id="3253f-215">O BITS está disponível no Windows XP e no Windows 2000 Service Pack 3.</span><span class="sxs-lookup"><span data-stu-id="3253f-215">BITS is available on Windows XP and Windows 2000 Service Pack 3.</span></span>

## <a name="other-resources"></a><span data-ttu-id="3253f-216">Outros recursos</span><span class="sxs-lookup"><span data-stu-id="3253f-216">Other Resources</span></span>

<span data-ttu-id="3253f-217">Para obter mais informações sobre as tecnologias mencionadas neste artigo, consulte as seções relevantes da biblioteca MSDN:</span><span class="sxs-lookup"><span data-stu-id="3253f-217">For more information on the technologies referenced in this article, refer to the relevant sections of the MSDN Library:</span></span>

-   [<span data-ttu-id="3253f-218">Windows Installer</span><span class="sxs-lookup"><span data-stu-id="3253f-218">Windows Installer</span></span>](/windows/desktop/Msi/windows-installer-portal)
-   [<span data-ttu-id="3253f-219">Agendador de Tarefas</span><span class="sxs-lookup"><span data-stu-id="3253f-219">Task Scheduler</span></span>](/windows/desktop/TaskSchd/task-scheduler-start-page)
-   <span data-ttu-id="3253f-220">[Serviço de transferência inteligente em segundo plano](/windows/desktop/Bits/background-intelligent-transfer-service-portal) (bits)</span><span class="sxs-lookup"><span data-stu-id="3253f-220">[Background Intelligent Transfer Service](/windows/desktop/Bits/background-intelligent-transfer-service-portal) (BITS)</span></span>

<span data-ttu-id="3253f-221">Para obter mais informações sobre como usar Windows Installer para jogos, ajuste para a coluna do DirectX de condução do próximo mês, "introdução ao Windows Installer para desenvolvedores de jogos".</span><span class="sxs-lookup"><span data-stu-id="3253f-221">For more information on using Windows Installer for games, tune in to next month's Driving DirectX column, "Introduction to Windows Installer for Game Developers."</span></span>

## <a name="related-topics"></a><span data-ttu-id="3253f-222">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="3253f-222">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3253f-223">**MsiConfigureFeature**</span><span class="sxs-lookup"><span data-stu-id="3253f-223">**MsiConfigureFeature**</span></span>](/windows/desktop/api/msi/nf-msi-msiconfigurefeaturea)
</dt> <dt>

[<span data-ttu-id="3253f-224">**MsiQueryProductState**</span><span class="sxs-lookup"><span data-stu-id="3253f-224">**MsiQueryProductState**</span></span>](/windows/desktop/api/msi/nf-msi-msiqueryproductstatea)
</dt> <dt>

[<span data-ttu-id="3253f-225">**MsiQueryFeatureState**</span><span class="sxs-lookup"><span data-stu-id="3253f-225">**MsiQueryFeatureState**</span></span>](/windows/desktop/api/msi/nf-msi-msiqueryfeaturestatea)
</dt> <dt>

[<span data-ttu-id="3253f-226">**MsiGetComponentPath**</span><span class="sxs-lookup"><span data-stu-id="3253f-226">**MsiGetComponentPath**</span></span>](/windows/desktop/api/msi/nf-msi-msigetcomponentpatha)
</dt> </dl>

 

 