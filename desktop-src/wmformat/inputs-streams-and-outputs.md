---
title: Entradas, fluxos e saídas
description: Entradas, fluxos e saídas
ms.assetid: f9f979c4-a15c-4f2a-b63c-7fe776394fdd
keywords:
- SDK do Windows Media Format, entradas
- SDK do Windows Media Format, fluxos
- SDK do Windows Media Format, saídas
- ASF (Advanced Systems Format), entradas
- ASF (formato de sistemas avançados), entradas
- ASF (Advanced Systems Format), fluxos
- ASF (formato de sistemas avançados), fluxos
- ASF (Advanced Systems Format), saídas
- ASF (formato de sistemas avançados), saídas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 84e6b6941a990b108c16b49648ec0d8d028a44d7
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "105764486"
---
# <a name="inputs-streams-and-outputs"></a><span data-ttu-id="3be52-112">Entradas, fluxos e saídas</span><span class="sxs-lookup"><span data-stu-id="3be52-112">Inputs, Streams, and Outputs</span></span>

<span data-ttu-id="3be52-113">Uma "entrada" nesta documentação é qualquer fluxo de dados de mídia digital (como áudio ou vídeo) que seu aplicativo entrega ao objeto do gravador de uma fonte usando as APIs apropriadas.</span><span class="sxs-lookup"><span data-stu-id="3be52-113">An "input" in this documentation is any digital media data stream (such as audio or video) that your application delivers to the writer object from a source by using appropriate APIs.</span></span> <span data-ttu-id="3be52-114">As entradas devem ser entregues em um formato com suporte.</span><span class="sxs-lookup"><span data-stu-id="3be52-114">Inputs must be delivered in a supported format.</span></span> <span data-ttu-id="3be52-115">Há suporte para vários formatos padrão RGB e YUV como entrada, e os codecs de áudio dão suporte a PCM.</span><span class="sxs-lookup"><span data-stu-id="3be52-115">Several standard RGB and YUV formats are supported as input, and the audio codecs support PCM.</span></span> <span data-ttu-id="3be52-116">Se um formato de entrada especificado não tiver suporte nativo pelo codec, o objeto do gravador criará uma instância de um objeto auxiliar de áudio ou vídeo capaz de converter uma ampla variedade de formatos em formatos que o codec pode aceitar.</span><span class="sxs-lookup"><span data-stu-id="3be52-116">If a specified input format is not supported natively by the codec, the writer object will instantiate either an audio or video helper object that is capable of converting a wide variety of formats into formats the codec can accept.</span></span> <span data-ttu-id="3be52-117">Para entradas de áudio, o objeto auxiliar ajustará a profundidade de bits, a taxa de amostragem e o número de canais conforme necessário.</span><span class="sxs-lookup"><span data-stu-id="3be52-117">For audio inputs, the helper object will adjust the bit depth, sample rate, and number of channels as necessary.</span></span> <span data-ttu-id="3be52-118">Para entradas de vídeo, o objeto auxiliar de vídeo executará conversões de espaço em cores e ajustes de tamanho de retângulo.</span><span class="sxs-lookup"><span data-stu-id="3be52-118">For video inputs, the video helper object will perform color-space conversions and rectangle-size adjustments.</span></span> <span data-ttu-id="3be52-119">Em alguns casos, dados compactados de áudio e vídeo podem ser passados em um fluxo de entrada.</span><span class="sxs-lookup"><span data-stu-id="3be52-119">In some cases, compressed audio and video data can be passed in an input stream.</span></span> <span data-ttu-id="3be52-120">Uma entrada pode ser de outro tipo de mídia além de áudio e vídeo, como texto, comandos de script, imagens ainda ou dados de arquivo arbitrários.</span><span class="sxs-lookup"><span data-stu-id="3be52-120">An input may be of some other media type besides audio and video, such as text, script commands, still images, or arbitrary file data.</span></span>

<span data-ttu-id="3be52-121">Uma "saída" nesta documentação refere-se aos dados que o objeto leitor passa para um aplicativo para renderização.</span><span class="sxs-lookup"><span data-stu-id="3be52-121">An "output" in this documentation refers to data that the reader object passes to an application for rendering.</span></span> <span data-ttu-id="3be52-122">Uma saída é igual a um único fluxo no momento da reprodução.</span><span class="sxs-lookup"><span data-stu-id="3be52-122">An output equates to a single stream at the time of playback.</span></span> <span data-ttu-id="3be52-123">Se você estiver usando a exclusão mútua, todos os fluxos mutuamente exclusivos compartilharão uma única saída.</span><span class="sxs-lookup"><span data-stu-id="3be52-123">If you are using mutual exclusion, all of the mutually exclusive streams share a single output.</span></span> <span data-ttu-id="3be52-124">Normalmente, os dados de saída estão na forma de dados de áudio ou vídeo não compactados, embora possam conter qualquer tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="3be52-124">Typically, output data is in the form of uncompressed audio or video data, although it can contain any type of data.</span></span> <span data-ttu-id="3be52-125">Os formatos de saída de vídeo com suporte são listados em outro lugar nesta documentação.</span><span class="sxs-lookup"><span data-stu-id="3be52-125">Supported video output formats are listed elsewhere in this documentation.</span></span>

<span data-ttu-id="3be52-126">O termo "fluxo" nesta documentação refere-se aos dados em um arquivo ASF, ao contrário de (1) os dados de origem de entrada antes de serem processados pelo objeto do gravador e (2) os dados de saída após serem descompactados pelo objeto leitor.</span><span class="sxs-lookup"><span data-stu-id="3be52-126">The term "stream" in this documentation refers to data in an ASF file, as opposed to (1) the input source data before it is processed by the writer object, and (2) the output data after it is decompressed by the reader object.</span></span> <span data-ttu-id="3be52-127">Um fluxo ASF contém dados provenientes de uma única entrada no objeto Writer, embora mais de um fluxo possa ser criado com base na mesma entrada.</span><span class="sxs-lookup"><span data-stu-id="3be52-127">An ASF stream contains data that comes from a single input on the writer object, although more than one stream can be created from the same input.</span></span> <span data-ttu-id="3be52-128">Um fluxo tem o mesmo formato e configurações de compactação do início ao fim.</span><span class="sxs-lookup"><span data-stu-id="3be52-128">A stream has the same format and compression settings from beginning to end.</span></span> <span data-ttu-id="3be52-129">Um arquivo ASF simples tem dois fluxos, um para áudio e outro para vídeo.</span><span class="sxs-lookup"><span data-stu-id="3be52-129">A simple ASF file has two streams, one for audio and one for video.</span></span> <span data-ttu-id="3be52-130">Um arquivo mais complexo pode ter dois fluxos de áudio e vários fluxos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="3be52-130">A more complex file might have two audio streams and several video streams.</span></span> <span data-ttu-id="3be52-131">Os fluxos de áudio podem ter as mesmas configurações de compactação, mas contêm conteúdo diferente, como uma narração em diferentes idiomas.</span><span class="sxs-lookup"><span data-stu-id="3be52-131">The audio streams might have the same compression settings but contain different content, such as a narration in different languages.</span></span> <span data-ttu-id="3be52-132">Os fluxos de vídeo podem conter o mesmo conteúdo, mas têm configurações de compactação diferentes.</span><span class="sxs-lookup"><span data-stu-id="3be52-132">The video streams might contain the same content, but have different compression settings.</span></span> <span data-ttu-id="3be52-133">As configurações de formato de mídia e de compactação que o objeto gravador aplicará a cada fluxo são especificadas no perfil.</span><span class="sxs-lookup"><span data-stu-id="3be52-133">The media format and compression settings that the writer object will apply to each stream are specified in the profile.</span></span>

<span data-ttu-id="3be52-134">A relação entre entradas, fluxos e saídas pode ser de três tipos básicos.</span><span class="sxs-lookup"><span data-stu-id="3be52-134">The relationship between inputs, streams, and outputs can be of three basic types.</span></span> <span data-ttu-id="3be52-135">Os três diagramas a seguir ilustram as relações.</span><span class="sxs-lookup"><span data-stu-id="3be52-135">The following three diagrams illustrate the relationships.</span></span>

<span data-ttu-id="3be52-136">Na relação mais básica, que é um perfil sem nenhuma exclusão mútua, cada entrada é processada pelo gravador e inserida no arquivo ASF como um único fluxo.</span><span class="sxs-lookup"><span data-stu-id="3be52-136">In the most basic relationship, which is a profile without any mutual exclusion, each input is processed by the writer and inserted in the ASF file as a single stream.</span></span> <span data-ttu-id="3be52-137">Na reprodução, o leitor lê o fluxo e entrega amostras não compactadas como uma única saída, conforme mostrado no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="3be52-137">On playback, the reader reads the stream and delivers uncompressed samples as a single output, as shown in the following diagram.</span></span>

![diagrama que mostra a relação normal entre entradas, fluxos e saídas.](images/formatsdk03.png)

<span data-ttu-id="3be52-139">Uma relação mais complexa ocorre quando uma exclusão mútua de taxa de bits múltipla é usada.</span><span class="sxs-lookup"><span data-stu-id="3be52-139">A more complex relationship occurs when multiple bit rate mutual exclusion is used.</span></span> <span data-ttu-id="3be52-140">Nesse caso, uma única entrada é processada pelo gravador e codificada com várias taxas de bits.</span><span class="sxs-lookup"><span data-stu-id="3be52-140">In this case, a single input is processed by the writer and encoded at several bit rates.</span></span> <span data-ttu-id="3be52-141">Cada codificação dos dados é inserida no arquivo ASF como um fluxo separado.</span><span class="sxs-lookup"><span data-stu-id="3be52-141">Each encoding of the data is inserted in the ASF file as a separate stream.</span></span> <span data-ttu-id="3be52-142">Na reprodução, o leitor determina qual fluxo deve ser descompactado com base na largura de banda disponível.</span><span class="sxs-lookup"><span data-stu-id="3be52-142">On playback, the reader determines which stream to decompress based upon the available bandwidth.</span></span> <span data-ttu-id="3be52-143">Em seguida, o leitor lê o fluxo selecionado e entrega amostras não compactadas como uma única saída, conforme mostrado no diagrama a seguir.</span><span class="sxs-lookup"><span data-stu-id="3be52-143">The reader then reads the selected stream and delivers uncompressed samples as a single output, as shown in the following diagram.</span></span>

![diagrama mostrando as relações entre entradas, fluxos e saídas ao usar a exclusão mútua de taxa de bits múltipla.](images/formatsdk04.png)

<span data-ttu-id="3be52-145">O terceiro tipo de relação pode ocorrer quando uma exclusão mútua personalizada ou baseada em um idioma é usada.</span><span class="sxs-lookup"><span data-stu-id="3be52-145">The third type of relationship can occur when a language-based or custom mutual exclusion is used.</span></span> <span data-ttu-id="3be52-146">Nessa relação, várias entradas são processadas pelo leitor e cada uma é inserida no arquivo ASF como um fluxo individual.</span><span class="sxs-lookup"><span data-stu-id="3be52-146">In this relationship, multiple inputs are processed by the reader and each is inserted into the ASF file as an individual stream.</span></span> <span data-ttu-id="3be52-147">Na reprodução, o aplicativo seleciona manualmente qual fluxo deve ser descompactado com base na lógica que você fornecer.</span><span class="sxs-lookup"><span data-stu-id="3be52-147">On playback, your application manually selects which stream to decompress based upon logic you provide.</span></span> <span data-ttu-id="3be52-148">Em seguida, o leitor lê o fluxo selecionado e entrega amostras não compactadas como uma única saída.</span><span class="sxs-lookup"><span data-stu-id="3be52-148">The reader then reads the selected stream and delivers uncompressed samples as a single output.</span></span> <span data-ttu-id="3be52-149">Esse processo pode ser usado para incluir trilhas sonoras em vários idiomas.</span><span class="sxs-lookup"><span data-stu-id="3be52-149">This process can be used for including soundtracks in multiple languages.</span></span> <span data-ttu-id="3be52-150">O diagrama a seguir ilustra esse processo.</span><span class="sxs-lookup"><span data-stu-id="3be52-150">The following diagram illustrates this process.</span></span>

![diagrama mostrando as relações entre entradas, fluxos e saídas ao usar a exclusão mútua personalizada.](images/formatsdk02.png)

<span data-ttu-id="3be52-152">Há alguma variação nas relações descritas anteriormente.</span><span class="sxs-lookup"><span data-stu-id="3be52-152">There is some variation in the relationships described previously.</span></span> <span data-ttu-id="3be52-153">Por exemplo, um arquivo pode conter todas as três relações, ou uma ou duas delas.</span><span class="sxs-lookup"><span data-stu-id="3be52-153">For example, a file can contain all three relationships, or one or two of them.</span></span> <span data-ttu-id="3be52-154">Também é possível que algumas entradas sejam compactadas, caso em que o gravador não executa nenhuma compactação adicional.</span><span class="sxs-lookup"><span data-stu-id="3be52-154">It is also possible for some inputs to be compressed, in which case the writer performs no additional compression.</span></span> <span data-ttu-id="3be52-155">O leitor, além disso, pode fornecer amostras compactadas.</span><span class="sxs-lookup"><span data-stu-id="3be52-155">The reader, also, can deliver compressed samples.</span></span> <span data-ttu-id="3be52-156">Mas, quando faz isso, você deve acessá-los por número de fluxo, não pelo número de saída.</span><span class="sxs-lookup"><span data-stu-id="3be52-156">But when it does, you must access them by stream number, not by output number.</span></span>

> [!Note]  
> <span data-ttu-id="3be52-157">As entradas, os fluxo e as saídas são todos os números atribuídos pelos objetos do SDK do Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="3be52-157">Inputs, steams, and outputs are all assigned numbers by the objects of the Windows Media Format SDK.</span></span> <span data-ttu-id="3be52-158">Os fluxos têm um número de fluxo, que é baseado em 1, que você define no perfil.</span><span class="sxs-lookup"><span data-stu-id="3be52-158">Streams have a stream number, which is 1-based, that you define in the profile.</span></span> <span data-ttu-id="3be52-159">Cada fluxo também é atribuído a um índice de fluxo para uso na enumeração de fluxos em um perfil.</span><span class="sxs-lookup"><span data-stu-id="3be52-159">Each stream is also assigned a stream index for use in enumerating streams in a profile.</span></span> <span data-ttu-id="3be52-160">Nenhum desses números tem a garantia de estar consistente entre si.</span><span class="sxs-lookup"><span data-stu-id="3be52-160">None of these numbers are guaranteed to be consistent with each other.</span></span> <span data-ttu-id="3be52-161">Ou seja, o número de entrada 1 pode não corresponder ao fluxo número 1, o número de fluxo 1 pode não corresponder ao índice de fluxo 1 e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="3be52-161">That is, input number 1 may not correspond with stream number 1, stream number 1 may not correspond with stream index 1, and so on.</span></span>

 

## <a name="related-topics"></a><span data-ttu-id="3be52-162">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="3be52-162">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="3be52-163">**Conceitos**</span><span class="sxs-lookup"><span data-stu-id="3be52-163">**Concepts**</span></span>](concepts.md)
</dt> <dt>

[<span data-ttu-id="3be52-164">**Exclusão mútua**</span><span class="sxs-lookup"><span data-stu-id="3be52-164">**Mutual Exclusion**</span></span>](mutual-exclusion.md)
</dt> </dl>

 

 




