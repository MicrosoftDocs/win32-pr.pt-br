---
title: Configurando fluxos
description: Configurando fluxos
ms.assetid: d119362f-e23c-4985-aff5-8c084106df30
keywords:
- SDK do Windows Media Format, fluxos
- perfis, fluxos
- fluxos, configurando
- codecs, configurando fluxos
- perfis, interface IWMStreamConfig
- fluxos, interface IWMStreamConfig
- IWMStreamConfig
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6bc159fbd5390eb430e035db676685153d0cf174
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "104454068"
---
# <a name="configuring-streams"></a><span data-ttu-id="31ad5-110">Configurando fluxos</span><span class="sxs-lookup"><span data-stu-id="31ad5-110">Configuring Streams</span></span>

<span data-ttu-id="31ad5-111">A única coisa que é necessária em um perfil é pelo menos um fluxo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-111">The only thing that is required in a profile is at least one stream.</span></span> <span data-ttu-id="31ad5-112">As outras opções fornecem acesso a recursos mais avançados, mas com o mínimo de um fluxo, você pode criar um arquivo ASF.</span><span class="sxs-lookup"><span data-stu-id="31ad5-112">The other options provide access to more advanced features, but with the minimum of one stream you can make an ASF file.</span></span> <span data-ttu-id="31ad5-113">É essencial que você entenda como configurar fluxos antes de criar perfis complexos.</span><span class="sxs-lookup"><span data-stu-id="31ad5-113">It is essential that you understand how to configure streams before creating complex profiles.</span></span>

<span data-ttu-id="31ad5-114">Para fins de perfis, os fluxos podem ser divididos em dois tipos: os que são compactados com os codecs de mídia do Windows e os fluxos arbitrários que não são processados com nenhum codec.</span><span class="sxs-lookup"><span data-stu-id="31ad5-114">For the purpose of profiles, streams can be divided into two types: those that are compressed with Windows Media codecs and arbitrary streams that are not processed with any codecs.</span></span> <span data-ttu-id="31ad5-115">Fluxos de áudio e fluxos de vídeo são os tipos que usam os codecs de mídia do Windows.</span><span class="sxs-lookup"><span data-stu-id="31ad5-115">Audio streams and video streams are the types that use the Windows Media codecs.</span></span> <span data-ttu-id="31ad5-116">É claro que os fluxos podem conter áudio ou vídeo compactados com um codec de terceiros, mas o processo de configuração desse tipo de fluxo é um caso especial.</span><span class="sxs-lookup"><span data-stu-id="31ad5-116">Of course, streams can contain audio or video compressed with a third-party codec, but the process of configuring such a stream is a special case.</span></span> <span data-ttu-id="31ad5-117">Para obter mais informações, consulte [para criar arquivos ASF usando codecs de](to-create-asf-files-using-third-party-codecs.md)terceiros.</span><span class="sxs-lookup"><span data-stu-id="31ad5-117">For more information, see [To Create ASF Files Using Third-Party Codecs](to-create-asf-files-using-third-party-codecs.md).</span></span>

<span data-ttu-id="31ad5-118">A lista a seguir resume o processo de configuração de um fluxo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-118">The following list summarizes the process of configuring a stream.</span></span>

1.  <span data-ttu-id="31ad5-119">Obtenha um objeto de configuração de fluxo para o fluxo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-119">Obtain a stream configuration object for the stream.</span></span>
    -   <span data-ttu-id="31ad5-120">Se você estiver criando um fluxo usando um dos codecs de mídia do Windows, deverá obter o objeto de configuração de fluxo como um formato de codec usando os métodos de [**IWMCodecInfo3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcodecinfo3).</span><span class="sxs-lookup"><span data-stu-id="31ad5-120">If you are creating a stream using one of the Windows Media codecs, you must obtain the stream configuration object as a codec format using the methods of [**IWMCodecInfo3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmcodecinfo3).</span></span>
    -   <span data-ttu-id="31ad5-121">Se o fluxo for um tipo arbitrário, obtenha um objeto de configuração de fluxo vazio usando [**IWMProfile:: CreateNewStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-createnewstream).</span><span class="sxs-lookup"><span data-stu-id="31ad5-121">If the stream is an arbitrary type, get an empty stream configuration object using [**IWMProfile::CreateNewStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-createnewstream).</span></span>
2.  <span data-ttu-id="31ad5-122">Configure o fluxo para atender às suas necessidades.</span><span class="sxs-lookup"><span data-stu-id="31ad5-122">Configure the stream to meet your needs.</span></span>
    -   <span data-ttu-id="31ad5-123">Os fluxos de todos os tipos devem ser atribuídos a um nome, nome de conexão e número de fluxo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-123">Streams of all types should be assigned a name, connection name, and stream number.</span></span>
    -   <span data-ttu-id="31ad5-124">Fluxos usando os codecs de mídia do Windows devem ser alterados apenas de maneiras predefinidas do formato do codec.</span><span class="sxs-lookup"><span data-stu-id="31ad5-124">Streams using Windows Media codecs should be altered only in predefined ways from the codec format.</span></span> <span data-ttu-id="31ad5-125">Para fluxos de áudio, somente as configurações de taxa de bits variável (VBR) para a VBR de duas passagens devem ser alteradas.</span><span class="sxs-lookup"><span data-stu-id="31ad5-125">For audio streams, only variable bit rate (VBR) settings for two-pass VBR should be changed.</span></span> <span data-ttu-id="31ad5-126">Fluxos de vídeo precisam ser configurados com as propriedades de quadro desejadas.</span><span class="sxs-lookup"><span data-stu-id="31ad5-126">Video streams need to be configured with the desired frame properties.</span></span>
    -   <span data-ttu-id="31ad5-127">Os fluxos arbitrários têm requisitos de configuração variados por tipo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-127">Arbitrary streams have varying configuration requirements by type.</span></span> <span data-ttu-id="31ad5-128">Todos exigem uma taxa de bits e uma janela de buffer.</span><span class="sxs-lookup"><span data-stu-id="31ad5-128">All require a bit rate and buffer window.</span></span>
3.  <span data-ttu-id="31ad5-129">Adicione o fluxo ao perfil chamando [**IWMProfile:: AddStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream).</span><span class="sxs-lookup"><span data-stu-id="31ad5-129">Add the stream to the profile by calling [**IWMProfile::AddStream**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmprofile-addstream).</span></span>

<span data-ttu-id="31ad5-130">Todos os fluxos são definidos usando objetos de configuração de fluxo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-130">All streams are defined using stream configuration objects.</span></span> <span data-ttu-id="31ad5-131">A interface principal para um objeto de configuração de fluxo é [**IWMStreamConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig), que fornece métodos para definir as configurações básicas de um fluxo, como o número do fluxo, a taxa de bits e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="31ad5-131">The main interface for a stream configuration object is [**IWMStreamConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig), which provides methods for setting the basic settings of a stream, such as the stream number, bit rate, and so on.</span></span> <span data-ttu-id="31ad5-132">**IWMStreamConfig** é herdado pelas interfaces mais recentes, [**IWMStreamConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig2) e [**IWMStreamConfig3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig3).</span><span class="sxs-lookup"><span data-stu-id="31ad5-132">**IWMStreamConfig** is inherited by the newer interfaces, [**IWMStreamConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig2) and [**IWMStreamConfig3**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmstreamconfig3).</span></span> <span data-ttu-id="31ad5-133">Assim como acontece com todas as revisões de interface numeradas, você sempre deve recuperar a versão mais recente usando o método **QueryInterface** .</span><span class="sxs-lookup"><span data-stu-id="31ad5-133">As with all numbered interface revisions, you should always retrieve the most recent version using the **QueryInterface** method.</span></span>

<span data-ttu-id="31ad5-134">A maioria das configurações em um fluxo é acessada por meio de [**IWMMediaProps**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmmediaprops).</span><span class="sxs-lookup"><span data-stu-id="31ad5-134">Most settings in a stream are accessed through [**IWMMediaProps**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmmediaprops).</span></span> <span data-ttu-id="31ad5-135">Essas configurações são encapsuladas em uma estrutura de [**\_ \_ tipo de mídia do WM**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) .</span><span class="sxs-lookup"><span data-stu-id="31ad5-135">These settings are encapsulated in a [**WM\_MEDIA\_TYPE**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wm_media_type) structure.</span></span> <span data-ttu-id="31ad5-136">Para áudio e vídeo, a estrutura do **\_ \_ tipo de mídia do WM** aponta para outra estrutura com informações adicionais específicas para o tipo de mídia.</span><span class="sxs-lookup"><span data-stu-id="31ad5-136">For audio and video, the **WM\_MEDIA\_TYPE** structure points to another structure with further information specific to the type of media.</span></span> <span data-ttu-id="31ad5-137">Normalmente, essa estrutura secundária é [**WAVEFORMATEX**](/previous-versions/windows/desktop/legacy/dd757720(v=vs.85)) para áudio e [**WMVIDEOINFOHEADER**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wmvideoinfoheader) para vídeo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-137">This secondary structure is typically [**WAVEFORMATEX**](/previous-versions/windows/desktop/legacy/dd757720(v=vs.85)) for audio and [**WMVIDEOINFOHEADER**](/previous-versions/windows/desktop/api/wmsdkidl/ns-wmsdkidl-wmvideoinfoheader) for video.</span></span> <span data-ttu-id="31ad5-138">Além disso, os fluxos de vídeo têm uma estrutura terciário, **BITMAPINFOHEADER**, que descreve as características de um quadro de vídeo individual.</span><span class="sxs-lookup"><span data-stu-id="31ad5-138">In addition, video streams have a tertiary structure, **BITMAPINFOHEADER**, which describes the characteristics of an individual frame of video.</span></span> <span data-ttu-id="31ad5-139">**BITMAPINFOHEADER** é uma estrutura comum e pode ser encontrada na seção Graphics Device Interface (GDI) do Platform SDK.</span><span class="sxs-lookup"><span data-stu-id="31ad5-139">**BITMAPINFOHEADER** is a common structure and can be found in the Graphics Device Interface (GDI) section of the Platform SDK.</span></span>

<span data-ttu-id="31ad5-140">As seções a seguir descrevem como configurar fluxos.</span><span class="sxs-lookup"><span data-stu-id="31ad5-140">The following sections describe how to configure streams.</span></span>



| <span data-ttu-id="31ad5-141">Seção</span><span class="sxs-lookup"><span data-stu-id="31ad5-141">Section</span></span>                                                                                                          | <span data-ttu-id="31ad5-142">Descrição</span><span class="sxs-lookup"><span data-stu-id="31ad5-142">Description</span></span>                                                                                                                                                     |
|------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------|
| [<span data-ttu-id="31ad5-143">Configuração comum a todos os fluxos</span><span class="sxs-lookup"><span data-stu-id="31ad5-143">Configuration Common to All Streams</span></span>](configuration-common-to-all-streams.md)                                   | <span data-ttu-id="31ad5-144">Descreve a configuração básica de fluxo comum a todos os tipos de fluxos.</span><span class="sxs-lookup"><span data-stu-id="31ad5-144">Describes the basic stream configuration common to all types of streams.</span></span>                                                                                        |
| [<span data-ttu-id="31ad5-145">Obtendo informações de configuração de fluxo de codecs</span><span class="sxs-lookup"><span data-stu-id="31ad5-145">Getting Stream Configuration Information from Codecs</span></span>](getting-stream-configuration-information-from-codecs.md) | <span data-ttu-id="31ad5-146">Descreve como obter informações de configuração de fluxo dos codecs para garantir a configuração adequada de fluxos usando os codecs de vídeo e áudio do Windows Media.</span><span class="sxs-lookup"><span data-stu-id="31ad5-146">Describes how to get stream configuration information from the codecs to ensure proper configuration of streams using the Windows Media Audio and Video codecs.</span></span> |
| [<span data-ttu-id="31ad5-147">Configurando fluxos de áudio</span><span class="sxs-lookup"><span data-stu-id="31ad5-147">Configuring Audio Streams</span></span>](configuring-audio-streams.md)                                                       | <span data-ttu-id="31ad5-148">Descreve como configurar fluxos de áudio.</span><span class="sxs-lookup"><span data-stu-id="31ad5-148">Describes how to configure audio streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="31ad5-149">Configurando fluxos de vídeo</span><span class="sxs-lookup"><span data-stu-id="31ad5-149">Configuring Video Streams</span></span>](configuring-video-streams.md)                                                       | <span data-ttu-id="31ad5-150">Descreve como configurar fluxos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="31ad5-150">Describes how to configure video streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="31ad5-151">Configurando fluxos de vídeo para busca de desempenho</span><span class="sxs-lookup"><span data-stu-id="31ad5-151">Configuring Video Streams for Seeking Performance</span></span>](configuring-video-streams-for-seeking-performance.md)       | <span data-ttu-id="31ad5-152">Descreve como configurar fluxos de vídeo para os quais uma busca eficiente é importante.</span><span class="sxs-lookup"><span data-stu-id="31ad5-152">Describes how to configure video streams for which efficient seeking is important.</span></span>                                                                              |
| [<span data-ttu-id="31ad5-153">Configurando fluxos de captura de tela</span><span class="sxs-lookup"><span data-stu-id="31ad5-153">Configuring Screen Capture Streams</span></span>](configuring-screen-capture-streams.md)                                     | <span data-ttu-id="31ad5-154">Descreve como configurar fluxos de vídeo para captura de tela.</span><span class="sxs-lookup"><span data-stu-id="31ad5-154">Describes how to configure video streams for screen capture.</span></span>                                                                                                    |
| [<span data-ttu-id="31ad5-155">Configurando fluxos de imagem</span><span class="sxs-lookup"><span data-stu-id="31ad5-155">Configuring Image Streams</span></span>](configuring-image-streams.md)                                                       | <span data-ttu-id="31ad5-156">Descreve como configurar fluxos de imagem.</span><span class="sxs-lookup"><span data-stu-id="31ad5-156">Describes how to configure image streams.</span></span>                                                                                                                       |
| [<span data-ttu-id="31ad5-157">Usando fluxos de áudio e vídeo não compactados</span><span class="sxs-lookup"><span data-stu-id="31ad5-157">Using Uncompressed Audio and Video Streams</span></span>](using-uncompressed-audio-and-video-streams.md)                     | <span data-ttu-id="31ad5-158">Descreve como configurar um fluxo de áudio ou vídeo não compactado.</span><span class="sxs-lookup"><span data-stu-id="31ad5-158">Describes how to set up an uncompressed audio or video stream.</span></span>                                                                                                  |
| [<span data-ttu-id="31ad5-159">Configurando tipos de fluxo arbitrários</span><span class="sxs-lookup"><span data-stu-id="31ad5-159">Configuring Arbitrary Stream Types</span></span>](configuring-arbitrary-stream-types.md)                                     | <span data-ttu-id="31ad5-160">Descreve como configurar fluxos para usar os tipos de fluxo arbitrários predefinidos.</span><span class="sxs-lookup"><span data-stu-id="31ad5-160">Describes how to configure streams to use the predefined arbitrary stream types.</span></span>                                                                                |
| [<span data-ttu-id="31ad5-161">Configurando fluxos de VBR</span><span class="sxs-lookup"><span data-stu-id="31ad5-161">Configuring VBR Streams</span></span>](configuring-vbr-streams.md)                                                           | <span data-ttu-id="31ad5-162">Descreve como configurar fluxos para usar a VBR (codificação de taxa de bits) variável.</span><span class="sxs-lookup"><span data-stu-id="31ad5-162">Describes how to configure streams to use variable bit rate encoding (VBR).</span></span>                                                                                     |
| [<span data-ttu-id="31ad5-163">Configurar extensões de unidade de dados</span><span class="sxs-lookup"><span data-stu-id="31ad5-163">Configuring Data Unit Extensions</span></span>](configuring-data-unit-extensions.md)                                         | <span data-ttu-id="31ad5-164">Descreve como configurar um fluxo para que as extensões de unidade de dados possam ser anexadas quando o arquivo for gravado.</span><span class="sxs-lookup"><span data-stu-id="31ad5-164">Describes how to configure a stream so that data unit extensions can be attached when the file is written.</span></span>                                                      |
| [<span data-ttu-id="31ad5-165">Reutilizando configurações de fluxo</span><span class="sxs-lookup"><span data-stu-id="31ad5-165">Reusing Stream Configurations</span></span>](reusing-stream-configurations.md)                                               | <span data-ttu-id="31ad5-166">Descreve as maneiras pelas quais você pode usar objetos de configuração de fluxo de perfis existentes para criar novos perfis.</span><span class="sxs-lookup"><span data-stu-id="31ad5-166">Describes the ways in which you can use stream configuration objects from existing profiles to make new profiles.</span></span>                                               |



 

## <a name="related-topics"></a><span data-ttu-id="31ad5-167">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="31ad5-167">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="31ad5-168">**Entradas, fluxos e saídas**</span><span class="sxs-lookup"><span data-stu-id="31ad5-168">**Inputs, Streams and Outputs**</span></span>](inputs-streams-and-outputs.md)
</dt> <dt>

[<span data-ttu-id="31ad5-169">**Trabalhando com perfis**</span><span class="sxs-lookup"><span data-stu-id="31ad5-169">**Working with Profiles**</span></span>](working-with-profiles.md)
</dt> </dl>

 

 