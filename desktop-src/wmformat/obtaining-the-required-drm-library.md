---
title: Obtendo a biblioteca de DRM necessária
description: Obtendo a biblioteca de DRM necessária
ms.assetid: 7bd13b77-439e-40cf-99e8-b359247da74d
keywords:
- SDK do Windows Media Format, obtendo as bibliotecas de DRM necessárias
- ASF (Advanced Systems Format), obtendo as bibliotecas de DRM necessárias
- ASF (formato de sistemas avançados), obtendo as bibliotecas de DRM necessárias
- DRM (gerenciamento de direitos digitais), obtendo bibliotecas necessárias
- DRM (gerenciamento de direitos digitais), obtendo bibliotecas necessárias
- DRM (gerenciamento de direitos digitais), informações de compilação
- DRM (gerenciamento de direitos digitais), informações de compilação
- DRM (gerenciamento de direitos digitais), informações de depuração
- DRM (gerenciamento de direitos digitais), informações de depuração
- Depurando DRM
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 9f5c124c1e7edf0bba736b9dd392e852aac97e96
ms.sourcegitcommit: 773fa6257ead6c74154ad3cf46d21e49adc900aa
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/09/2020
ms.locfileid: "104366847"
---
# <a name="obtaining-the-required-drm-library"></a><span data-ttu-id="47b0a-113">Obtendo a biblioteca de DRM necessária</span><span class="sxs-lookup"><span data-stu-id="47b0a-113">Obtaining the Required DRM Library</span></span>

<span data-ttu-id="47b0a-114">Para criar ou reproduzir arquivos de mídia digital protegidos por DRM, seu aplicativo deve vincular a uma biblioteca estática que é fornecida em formato binário pela Microsoft.</span><span class="sxs-lookup"><span data-stu-id="47b0a-114">To create or play DRM-protected digital media files, your application must link to a static library that is provided in binary form by Microsoft.</span></span> <span data-ttu-id="47b0a-115">Essa biblioteca, às vezes, é chamada de biblioteca de stubs ou "stublib" e identifica exclusivamente seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="47b0a-115">This library is sometimes called a stub library or "stublib" and it uniquely identifies your application.</span></span>

<span data-ttu-id="47b0a-116">Nesta documentação, a biblioteca DRM é conhecida como "WMStubDRM. lib".</span><span class="sxs-lookup"><span data-stu-id="47b0a-116">In this documentation, the DRM library is referred to as "WMStubDRM.lib".</span></span> <span data-ttu-id="47b0a-117">O nome da biblioteca que você receberá incluirá um número de identificação.</span><span class="sxs-lookup"><span data-stu-id="47b0a-117">The name of the library you receive will include an identifying number.</span></span> <span data-ttu-id="47b0a-118">Para obter essa biblioteca, você deve assinar um contrato de licença com a Microsoft.</span><span class="sxs-lookup"><span data-stu-id="47b0a-118">To obtain this library, you must sign a license agreement with Microsoft.</span></span> <span data-ttu-id="47b0a-119">Os termos do contrato podem diferir dependendo se você solicitar uma licença de avaliação ou uma licença de produção.</span><span class="sxs-lookup"><span data-stu-id="47b0a-119">The terms of the agreement may differ depending on whether you request an evaluation license or a production license.</span></span> <span data-ttu-id="47b0a-120">Para obter mais informações sobre o processo de licenciamento DRM, consulte o formulário licenciamento do Windows Media no [site da Microsoft](https://www.microsoft.com/licensing/default).</span><span class="sxs-lookup"><span data-stu-id="47b0a-120">For more information on the DRM licensing process, see the Windows Media Licensing Form at the [Microsoft Web site](https://www.microsoft.com/licensing/default).</span></span>

<span data-ttu-id="47b0a-121">A biblioteca que você recebe tem um nível de segurança de DRM que depende do tipo de contrato de licença inserido.</span><span class="sxs-lookup"><span data-stu-id="47b0a-121">The library that you receive has a DRM security level that depends on the type of license agreement you enter into.</span></span> <span data-ttu-id="47b0a-122">Uma licença DRM pode restringir aplicativos com componentes DRM abaixo de um nível de segurança especificado de acessar o conteúdo do arquivo.</span><span class="sxs-lookup"><span data-stu-id="47b0a-122">A DRM license can restrict applications with DRM components below a specified security level from accessing the file contents.</span></span> <span data-ttu-id="47b0a-123">Esse nível de segurança não é o mesmo que o nível de individualização DRM, nem está relacionado a nenhum dos valores numéricos dos níveis de proteção de saída (OPLs).</span><span class="sxs-lookup"><span data-stu-id="47b0a-123">This security level is not the same as the DRM individualization level, nor is it related to any of the numerical values of output protection levels (OPLs).</span></span> <span data-ttu-id="47b0a-124">A tabela a seguir mostra exemplos de níveis de segurança do DRM para diferentes jogadores e dispositivos portáteis.</span><span class="sxs-lookup"><span data-stu-id="47b0a-124">The following table shows examples of DRM security levels for different players and portable devices.</span></span>



| <span data-ttu-id="47b0a-125">Nível de segurança</span><span class="sxs-lookup"><span data-stu-id="47b0a-125">Security level</span></span> | <span data-ttu-id="47b0a-126">Players e dispositivos portáteis</span><span class="sxs-lookup"><span data-stu-id="47b0a-126">Players and portable devices</span></span>                                                                                                                                                                                                                                                                                                   | <span data-ttu-id="47b0a-127">Exemplo</span><span class="sxs-lookup"><span data-stu-id="47b0a-127">Example</span></span>                                                                                                                                                                                          |
|----------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="47b0a-128">150</span><span class="sxs-lookup"><span data-stu-id="47b0a-128">150</span></span>            | <span data-ttu-id="47b0a-129">Dispositivos que não dão suporte ao Windows Media DRM.</span><span class="sxs-lookup"><span data-stu-id="47b0a-129">Devices that do not support Windows Media DRM.</span></span> <span data-ttu-id="47b0a-130">A proteção de DRM é removida quando o conteúdo é transferido para um dispositivo desse tipo.</span><span class="sxs-lookup"><span data-stu-id="47b0a-130">DRM protection is removed when content is transferred to such a device.</span></span>                                                                                                                                                                                                         | <span data-ttu-id="47b0a-131">Dispositivos que dão suporte ao conteúdo baseado no Windows Media, mas não conteúdo protegido</span><span class="sxs-lookup"><span data-stu-id="47b0a-131">Devices that support Windows Media-based content but not protected content</span></span>                                                                                                                       |
| <span data-ttu-id="47b0a-132">1,000</span><span class="sxs-lookup"><span data-stu-id="47b0a-132">1,000</span></span>          | <span data-ttu-id="47b0a-133">Aplicativos de Player baseados no Windows Media Format 9,5 SDK ou anterior que não atendem aos requisitos adicionais para o nível 2000. dispositivos baseados em DRM v1 do dispositivo portátil do Windows Media.</span><span class="sxs-lookup"><span data-stu-id="47b0a-133">Player applications based on the Windows Media Format 9.5 SDK or earlier that do not meet additional requirements for level 2000.Devices based on Windows Media Portable Device DRM v1.</span></span><br/> <span data-ttu-id="47b0a-134">Dispositivos com base no Windows CE 4,2 e posterior.</span><span class="sxs-lookup"><span data-stu-id="47b0a-134">Devices based on Windows CE 4.2 and later.</span></span><br/>                                                                       | <span data-ttu-id="47b0a-135">Windows Media Player 6,4, dispositivos de mídia 7Portable do Windows Media Player que dão suporte ao Windows Media portátil do dispositivo DRM v1.</span><span class="sxs-lookup"><span data-stu-id="47b0a-135">Windows Media Player 6.4, Windows Media Player 7Portable media devices that support Windows Media Portable Device DRM v1.</span></span><br/>                                                             |
| <span data-ttu-id="47b0a-136">2\.000</span><span class="sxs-lookup"><span data-stu-id="47b0a-136">2,000</span></span>          | <span data-ttu-id="47b0a-137">Aplicativos de Player baseados no SDK da série Windows Media Format 9 Series ou posterior e que seguem um conjunto mais estrito de diretrizes de proteção de conteúdo do que aplicativos em nível 1000. dispositivos baseados no Windows Media DRM 10 para dispositivos portáteis.</span><span class="sxs-lookup"><span data-stu-id="47b0a-137">Player applications that are based on Windows Media Format 9 Series SDK or later, and that follow a stricter set of content protection guidelines than applications at level 1000.Devices based on Windows Media DRM 10 for Portable Devices.</span></span><br/> <span data-ttu-id="47b0a-138">Dispositivos baseados no Windows Media DRM 10 para dispositivos de rede.</span><span class="sxs-lookup"><span data-stu-id="47b0a-138">Devices based on Windows Media DRM 10 for Network Devices.</span></span><br/> | <span data-ttu-id="47b0a-139">Dispositivos de mídia do Windows Media Player 9 Series e laterPortable que dão suporte ao Windows Media DRM 10 para dispositivos portáteis</span><span class="sxs-lookup"><span data-stu-id="47b0a-139">Windows Media Player 9 Series and laterPortable media devices that support Windows Media DRM 10 for Portable Devices</span></span><br/> <span data-ttu-id="47b0a-140">Dispositivos portáteis do Media Center baseados no Windows Mobile</span><span class="sxs-lookup"><span data-stu-id="47b0a-140">Portable Media Center devices based on Windows Mobile</span></span><br/> |



 

## <a name="build-and-debugging-information"></a><span data-ttu-id="47b0a-141">Informações de compilação e depuração</span><span class="sxs-lookup"><span data-stu-id="47b0a-141">Build and Debugging Information</span></span>

<span data-ttu-id="47b0a-142">Quando você vincula a WMStubDRM. lib, não vincule a WMVCORE. lib.</span><span class="sxs-lookup"><span data-stu-id="47b0a-142">When you link to WMStubDRM.lib, do NOT link to wmvcore.lib.</span></span> <span data-ttu-id="47b0a-143">O componente DRM não funcionará corretamente se o aplicativo for vinculado a ambas as bibliotecas.</span><span class="sxs-lookup"><span data-stu-id="47b0a-143">The DRM component will not work properly if the application links to both libraries.</span></span>

<span data-ttu-id="47b0a-144">Um ponto de interrupção do usuário no componente DRM impedirá que as versões de depuração e de lançamento dos aplicativos acessem o conteúdo protegido durante a execução dentro do depurador.</span><span class="sxs-lookup"><span data-stu-id="47b0a-144">A user breakpoint in the DRM component will prevent both debug and release versions of applications from accessing protected content when running inside the debugger.</span></span> <span data-ttu-id="47b0a-145">Para solucionar problemas de funções relacionadas ao DRM em seu aplicativo, você deve escrever suas próprias rotinas de rastreamento que salvam informações como valores **HRESULT** em algum local, como um arquivo de log.</span><span class="sxs-lookup"><span data-stu-id="47b0a-145">To troubleshoot DRM-related functions in your application, you must write your own trace routines that save information such as **HRESULT** values to some location such as a log file.</span></span>

<span data-ttu-id="47b0a-146">Se você tentar executar uma versão de lançamento de um aplicativo em um sistema com uma versão de depuração dos bits do SDK instalado (ou o contrário), encontrará erros de heap durante a reprodução do conteúdo do DRM versão 7.</span><span class="sxs-lookup"><span data-stu-id="47b0a-146">If you attempt to run a release version of an application on a system with a debug version of the SDK bits installed (or the other way around), you will encounter heap errors during playback of DRM version 7 content.</span></span> <span data-ttu-id="47b0a-147">Certifique-se de executar depurar aplicativos por bits do SDK de depuração e liberar aplicativos em bits de lançamento.</span><span class="sxs-lookup"><span data-stu-id="47b0a-147">Be sure to run debug applications over debug SDK bits, and release applications over release bits.</span></span> <span data-ttu-id="47b0a-148">O mesmo problema ocorrerá se você executar uma versão de depuração do SDK com um componente DRM individual (que é sempre uma compilação de versão).</span><span class="sxs-lookup"><span data-stu-id="47b0a-148">The same problem will occur if you run a debug version of the SDK with an individualized DRM component (which is always a release build).</span></span>

<span data-ttu-id="47b0a-149">**Observações** do O DRM não é compatível com a versão baseada em x64 deste SDK.</span><span class="sxs-lookup"><span data-stu-id="47b0a-149">**Notes** DRM is not supported by the x64-based version of this SDK.</span></span>

<span data-ttu-id="47b0a-150">Os arquivos WMStubDRM. lib associados ao SDK 9,5 do Windows Media Format podem ser usados somente com os componentes do Microsoft Visual Studio .NET 2003.</span><span class="sxs-lookup"><span data-stu-id="47b0a-150">The WMStubDRM.lib files that are associated with the Windows Media Format 9.5 SDK can be used only with the components of Microsoft Visual Studio  .NET 2003.</span></span> <span data-ttu-id="47b0a-151">Se você estiver usando uma versão mais antiga da biblioteca de stub, não haverá nenhuma nova restrição para seu uso.</span><span class="sxs-lookup"><span data-stu-id="47b0a-151">If you are using an older version of the stub library, there are no new restrictions for its use.</span></span>

## <a name="related-topics"></a><span data-ttu-id="47b0a-152">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="47b0a-152">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="47b0a-153">**Habilitando o suporte a DRM**</span><span class="sxs-lookup"><span data-stu-id="47b0a-153">**Enabling DRM Support**</span></span>](enabling-drm-support.md)
</dt> </dl>

 

 





