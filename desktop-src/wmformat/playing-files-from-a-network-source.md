---
title: Executando arquivos de uma fonte de rede
description: Executando arquivos de uma fonte de rede
ms.assetid: 72f2d685-56fc-4da2-8372-3774cc65f59d
keywords:
- SDK do Windows Media Format, lendo dados ASF
- SDK do Windows Media Format, reproduzindo arquivos de fontes de rede
- ASF (Advanced Systems Format), lendo dados
- ASF (formato de sistemas avançados), lendo dados
- ASF (Advanced Systems Format), reproduzindo arquivos de fontes de rede
- ASF (formato de sistemas avançados), reproduzindo arquivos de fontes de rede
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 8f1e4e41ddf94498ddeddf90e64439c1b11b7ba8
ms.sourcegitcommit: ad672d3a10192c5ccac619ad2524407109266e93
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 05/25/2020
ms.locfileid: "105763037"
---
# <a name="playing-files-from-a-network-source"></a><span data-ttu-id="0c157-109">Executando arquivos de uma fonte de rede</span><span class="sxs-lookup"><span data-stu-id="0c157-109">Playing Files from a Network Source</span></span>

<span data-ttu-id="0c157-110">A leitura de uma rede não é fundamentalmente diferente da leitura de um arquivo local.</span><span class="sxs-lookup"><span data-stu-id="0c157-110">Reading from a network is not fundamentally different from reading a local file.</span></span> <span data-ttu-id="0c157-111">O aplicativo passa a URL para o método [**IWMReader:: Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) do objeto Reader e o objeto leitor manipula os detalhes dos protocolos de rede.</span><span class="sxs-lookup"><span data-stu-id="0c157-111">The application passes the URL to the reader object's [**IWMReader::Open**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-open) method, and the reader object handles the details of the network protocols.</span></span> <span data-ttu-id="0c157-112">O objeto leitor usa o gerenciamento de buffer inteligente para fornecer a reprodução mais suave possível.</span><span class="sxs-lookup"><span data-stu-id="0c157-112">The reader object uses intelligent buffer management to provide the smoothest playback possible.</span></span> <span data-ttu-id="0c157-113">Se o aplicativo precisar de mais controle sobre as configurações de rede do objeto leitor, eles estarão disponíveis por meio das interfaces [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) e [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) .</span><span class="sxs-lookup"><span data-stu-id="0c157-113">If the application needs more control over the reader object's network settings, these are available through the [**IWMReaderNetworkConfig**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig) and [**IWMReaderNetworkConfig2**](/previous-versions/windows/desktop/api/wmsdkidl/nn-wmsdkidl-iwmreadernetworkconfig2) interfaces.</span></span>

<span data-ttu-id="0c157-114">O conteúdo de uma fonte de rede se encaixa em uma das duas categorias a seguir:</span><span class="sxs-lookup"><span data-stu-id="0c157-114">Content from a network source falls into one of the following two categories:</span></span>

-   <span data-ttu-id="0c157-115">Transmiti.</span><span class="sxs-lookup"><span data-stu-id="0c157-115">Streaming.</span></span> <span data-ttu-id="0c157-116">Os dados são transmitidos just in time para serem reproduzidos no computador local.</span><span class="sxs-lookup"><span data-stu-id="0c157-116">The data is transmitted just in time to be played on the local machine.</span></span> <span data-ttu-id="0c157-117">Os servidores que executam os serviços de mídia do Windows podem fornecer dados de streaming.</span><span class="sxs-lookup"><span data-stu-id="0c157-117">Servers running Windows Media Services can provide streaming data.</span></span> <span data-ttu-id="0c157-118">Se o conteúdo de taxa de bits múltipla (MBR) for transmitido, o cliente poderá solicitar uma taxa de bits diferente do servidor conforme o streaming progride.</span><span class="sxs-lookup"><span data-stu-id="0c157-118">If multiple bit rate (MBR) content is streamed, the client can request a different bit rate from the server as streaming progresses.</span></span>
-   <span data-ttu-id="0c157-119">Obteve.</span><span class="sxs-lookup"><span data-stu-id="0c157-119">Downloaded.</span></span> <span data-ttu-id="0c157-120">Todos os dados são transmitidos o mais rapidamente possível para que possam ser salvos como um arquivo no computador local.</span><span class="sxs-lookup"><span data-stu-id="0c157-120">All the data is transmitted as quickly as possible so that it can be saved as a file on the local machine.</span></span> <span data-ttu-id="0c157-121">Os servidores Web fornecem dados baixados.</span><span class="sxs-lookup"><span data-stu-id="0c157-121">Web servers provide downloaded data.</span></span> <span data-ttu-id="0c157-122">Não há comunicação entre o cliente e o servidor após o início do download.</span><span class="sxs-lookup"><span data-stu-id="0c157-122">There is no communication from the client to the server after the download begins.</span></span>

<span data-ttu-id="0c157-123">Quando o objeto de leitor baixa um arquivo de um servidor Web, ele usa uma técnica chamada streaming progressivo, que permite que um jogador comece a renderizar o conteúdo antes da conclusão do download.</span><span class="sxs-lookup"><span data-stu-id="0c157-123">When the reader object downloads a file from a Web server, it uses a technique called progressive streaming, which allows a player to begin rendering the content before downloading is complete.</span></span> <span data-ttu-id="0c157-124">Os dados são armazenados em buffer para fornecer um fluxo de dados ininterrupto para o Player.</span><span class="sxs-lookup"><span data-stu-id="0c157-124">Data is buffered to provide an uninterrupted flow of data to the player.</span></span> <span data-ttu-id="0c157-125">Informações como a taxa de transferência e a duração do conteúdo são usadas para determinar por quanto tempo armazenar os dados em buffer antes de fornecê-los ao Player.</span><span class="sxs-lookup"><span data-stu-id="0c157-125">Information such as the transfer rate and duration of the content is used to determine how long to buffer the data before giving it to the player.</span></span>

<span data-ttu-id="0c157-126">Para abrir um arquivo ou fluxo em uma rede, chame o método **IWMReader:: Open** do objeto Reader com a URL apropriada.</span><span class="sxs-lookup"><span data-stu-id="0c157-126">To open a file or stream over a network, call the reader object's **IWMReader::Open** method with the appropriate URL.</span></span> <span data-ttu-id="0c157-127">**Open** é uma chamada assíncrona, portanto, retorna imediatamente.</span><span class="sxs-lookup"><span data-stu-id="0c157-127">**Open** is an asynchronous call, so it returns immediately.</span></span> <span data-ttu-id="0c157-128">Quando a origem estiver pronta para leitura, o objeto leitor enviará uma \_ notificação WMT aberta para o método de retorno de chamada [**IWMStatusCallback:: OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) do aplicativo.</span><span class="sxs-lookup"><span data-stu-id="0c157-128">When the source is ready for reading, the reader object sends a WMT\_OPENED notification to the application's [**IWMStatusCallback::OnStatus**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmstatuscallback-onstatus) callback method.</span></span> <span data-ttu-id="0c157-129">Neste ponto, o aplicativo pode consultar o leitor para o modo de entrega chamando [**IWMReaderAdvanced2:: Getplaymode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span><span class="sxs-lookup"><span data-stu-id="0c157-129">At this point, the application can query the reader for the delivery mode by calling [**IWMReaderAdvanced2::GetPlayMode**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getplaymode).</span></span> <span data-ttu-id="0c157-130">Para o conteúdo da rede, esse método retornará o \_ download do modo de reprodução WMT \_ \_ , indicando o conteúdo baixado ou o \_ streaming do \_ modo de reprodução WMT \_ , indicando o conteúdo transmitido.</span><span class="sxs-lookup"><span data-stu-id="0c157-130">For network content, this method will return either WMT\_PLAY\_MODE\_DOWNLOAD, indicating downloaded content, or WMT\_PLAY\_MODE\_STREAMING, indicating streamed content.</span></span>

<span data-ttu-id="0c157-131">Para começar a ler o arquivo ou fluxo, chame o método [**IWMReader:: Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) .</span><span class="sxs-lookup"><span data-stu-id="0c157-131">To begin reading the file or stream, call the [**IWMReader::Start**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreader-start) method.</span></span> <span data-ttu-id="0c157-132">O leitor envia uma \_ notificação de início de buffer WMT \_ quando começa a armazenar em buffer o conteúdo e uma \_ notificação de parada de buffer WMT quando o \_ buffer é concluído.</span><span class="sxs-lookup"><span data-stu-id="0c157-132">The reader sends a WMT\_BUFFERING\_START notification when it starts to buffer the content, and a WMT\_BUFFERING\_STOP notification when buffering is complete.</span></span> <span data-ttu-id="0c157-133">Embora o leitor esteja armazenando o conteúdo em buffer (ou seja, entre essas duas notificações), talvez você queira exibir o progresso do buffer para o usuário.</span><span class="sxs-lookup"><span data-stu-id="0c157-133">While the reader is buffering content (that is, between these two notifications), you might want to display the buffering progress to the user.</span></span> <span data-ttu-id="0c157-134">O método [**IWMReaderAdvanced2:: GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) retorna a porcentagem de dados que foram armazenados em buffer e o tempo estimado restante.</span><span class="sxs-lookup"><span data-stu-id="0c157-134">The [**IWMReaderAdvanced2::GetBufferProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getbufferprogress) method returns the percentage of data that has been buffered and the estimated time that remains.</span></span> <span data-ttu-id="0c157-135">Para conteúdo baixado, você também pode chamar [**IWMReaderAdvanced2:: GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) para obter o progresso do download.</span><span class="sxs-lookup"><span data-stu-id="0c157-135">For downloaded content, you can also call [**IWMReaderAdvanced2::GetDownloadProgress**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreaderadvanced2-getdownloadprogress) to get the download progress.</span></span> <span data-ttu-id="0c157-136">Chame esses métodos repetidamente para atualizar sua exibição, até que o buffer seja concluído.</span><span class="sxs-lookup"><span data-stu-id="0c157-136">Call these methods repeatedly to update your display, until buffering has completed.</span></span> <span data-ttu-id="0c157-137">O armazenamento em buffer pode ocorrer novamente durante a reprodução, devido a fatores como o congestionamento da rede.</span><span class="sxs-lookup"><span data-stu-id="0c157-137">Buffering can occur again during playback, due to factors such as network congestion.</span></span> <span data-ttu-id="0c157-138">Se isso ocorrer, o aplicativo receberá outra \_ notificação de início do buffer WMT \_ .</span><span class="sxs-lookup"><span data-stu-id="0c157-138">If this occurs, the application receives another WMT\_BUFFERING\_START notification.</span></span>

<span data-ttu-id="0c157-139">Quando o objeto leitor começa a reproduzir o conteúdo, ele envia uma \_ notificação WMT iniciado.</span><span class="sxs-lookup"><span data-stu-id="0c157-139">When the reader object begins to play the content, it sends a WMT\_STARTED notification.</span></span> <span data-ttu-id="0c157-140">Como cada exemplo é decodificado e fica disponível para renderização, o leitor passa-o para o aplicativo por meio do método de retorno de chamada [**IWMReaderCallback:: onsample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) .</span><span class="sxs-lookup"><span data-stu-id="0c157-140">As each sample is decoded and becomes available for rendering, the reader passes it to the application through the [**IWMReaderCallback::OnSample**](/previous-versions/windows/desktop/api/Wmsdkidl/nf-wmsdkidl-iwmreadercallback-onsample) callback method.</span></span> <span data-ttu-id="0c157-141">Neste ponto, o processo é o mesmo que para a reprodução de arquivo local.</span><span class="sxs-lookup"><span data-stu-id="0c157-141">At this point, the process is the same as it is for local file playback.</span></span> <span data-ttu-id="0c157-142">Quando a reprodução é interrompida, o leitor envia um WMT \_ fim \_ da \_ notificação de streaming.</span><span class="sxs-lookup"><span data-stu-id="0c157-142">When playback stops, the reader sends a WMT\_END\_OF\_STREAMING notification.</span></span>

## <a name="related-topics"></a><span data-ttu-id="0c157-143">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="0c157-143">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="0c157-144">**Lendo arquivos ASF**</span><span class="sxs-lookup"><span data-stu-id="0c157-144">**Reading ASF Files**</span></span>](reading-asf-files.md)
</dt> </dl>

 

 




