---
title: Visão geral do Windows Media Format SDK
description: Visão geral do Windows Media Format SDK
ms.assetid: 9e5d6254-6261-4ca8-84d6-38050c93db22
keywords:
- SDK do Windows Media Format, criação e edição de arquivos ASF
- ASF (Advanced Systems Format), criação e edição de arquivos
- ASF (formato de sistemas avançados), criação e edição de arquivos
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: eb4f58be5d377e44fc0f68c89ad580a554902c58
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104291874"
---
# <a name="overview-of-the-windows-media-format-sdk"></a><span data-ttu-id="ed39d-106">Visão geral do Windows Media Format SDK</span><span class="sxs-lookup"><span data-stu-id="ed39d-106">Overview of the Windows Media Format SDK</span></span>

<span data-ttu-id="ed39d-107">O SDK do Windows Media Format contém objetos para executar tarefas em três pontos na vida de um arquivo ASF: criação, edição e reprodução.</span><span class="sxs-lookup"><span data-stu-id="ed39d-107">The Windows Media Format SDK contains objects to perform tasks at three points in the life of an ASF file: creation, editing, and playback.</span></span> <span data-ttu-id="ed39d-108">Alguns aplicativos, especialmente aqueles para edição de vídeo, usarão a ampla funcionalidade do Windows Media Format SDK para ler o conteúdo de arquivos ASF, alterar esse conteúdo e gravar os resultados em um novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-108">Some applications, notably those for video editing, will use the broad functionality of the Windows Media Format SDK to read the contents of ASF files, alter that content, and write the results to a new file.</span></span> <span data-ttu-id="ed39d-109">No entanto, é mais fácil considerar esse SDK nos três estágios de criação, edição e reprodução de arquivos.</span><span class="sxs-lookup"><span data-stu-id="ed39d-109">However, it is easiest to think of this SDK in the three stages of file creation, editing, and playback.</span></span>

## <a name="asf-file-creation-with-the-windows-media-format-sdk"></a><span data-ttu-id="ed39d-110">Criação de arquivo ASF com o Windows Media Format SDK</span><span class="sxs-lookup"><span data-stu-id="ed39d-110">ASF File Creation with the Windows Media Format SDK</span></span>

<span data-ttu-id="ed39d-111">O processo de gravar arquivos ASF com o Windows Media Format SDK é, em um nível alto, bastante simples.</span><span class="sxs-lookup"><span data-stu-id="ed39d-111">The process of writing ASF files with the Windows Media Format SDK is, at a high level, fairly simple.</span></span> <span data-ttu-id="ed39d-112">A criação do arquivo é gerenciada por um objeto do gravador.</span><span class="sxs-lookup"><span data-stu-id="ed39d-112">File creation is managed by a writer object.</span></span> <span data-ttu-id="ed39d-113">Você informa ao objeto do gravador qual tipo de arquivo você deseja criar especificando um objeto de perfil para ele usar.</span><span class="sxs-lookup"><span data-stu-id="ed39d-113">You tell the writer object what sort of file you want to create by specifying a profile object for it to use.</span></span> <span data-ttu-id="ed39d-114">Cada objeto de perfil contém as configurações para um arquivo ASF.</span><span class="sxs-lookup"><span data-stu-id="ed39d-114">Each profile object contains the settings for an ASF file.</span></span> <span data-ttu-id="ed39d-115">Alguns perfis estão incluídos neste SDK e o suporte à edição de perfil é fornecido por vários objetos.</span><span class="sxs-lookup"><span data-stu-id="ed39d-115">Some profiles are included with this SDK, and profile editing support is provided by a number of objects.</span></span> <span data-ttu-id="ed39d-116">Quando você tiver definido um perfil para o objeto gravador a ser usado, você pode começar a passar amostras para o gravador para processamento.</span><span class="sxs-lookup"><span data-stu-id="ed39d-116">When you have set a profile for the writer object to use, you can begin passing samples to the writer for processing.</span></span> <span data-ttu-id="ed39d-117">Na maioria dos casos, um exemplo é um pedaço de áudio ou vídeo que é descompactado, mas um exemplo pode ser qualquer tipo de dados.</span><span class="sxs-lookup"><span data-stu-id="ed39d-117">In most cases, a sample is a piece of audio or video that is uncompressed, but a sample can be any type of data.</span></span>

<span data-ttu-id="ed39d-118">Internamente, o gravador executa três tarefas principais.</span><span class="sxs-lookup"><span data-stu-id="ed39d-118">Internally, the writer performs three major tasks.</span></span> <span data-ttu-id="ed39d-119">Primeiro, se o fluxo ao qual um exemplo pertence for compactado, o gravador se comunicará com a parte de codificação do codec (compressor/descompactador) para compactar o exemplo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-119">First, if the stream that a sample belongs to is to be compressed, the writer communicates with the encoding portion of the codec (compressor/decompressor) to compress the sample.</span></span> <span data-ttu-id="ed39d-120">Depois que os exemplos estiverem no formato especificado pelo perfil, o gravador quebrará os exemplos em pacotes de tamanho apropriado a serem transmitidos em uma rede.</span><span class="sxs-lookup"><span data-stu-id="ed39d-120">Once the samples are in the form specified by the profile, the writer breaks the samples apart into packets of appropriate size to be streamed over a network.</span></span> <span data-ttu-id="ed39d-121">Por fim, os dados dos vários fluxos são multiplexados ou intercalados para que os exemplos com tempos de apresentação semelhantes em todos os fluxos estejam próximos uns dos outros na seção de dados do arquivo ASF.</span><span class="sxs-lookup"><span data-stu-id="ed39d-121">Finally, the data from the various streams is multiplexed, or interleaved so that samples with similar presentation times across all streams are close to one another in the data section of the ASF file.</span></span>

<span data-ttu-id="ed39d-122">O objeto do gravador não grava, na verdade, um arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-122">The writer object does not actually write a file itself.</span></span> <span data-ttu-id="ed39d-123">Ele se comunica com um ou mais objetos chamados coletores, que entregam os dados do gravador para seu destino.</span><span class="sxs-lookup"><span data-stu-id="ed39d-123">It communicates with one or more objects called sinks, which deliver the data from the writer to its destination.</span></span> <span data-ttu-id="ed39d-124">No caso de arquivos locais, um coletor de arquivos gerencia a gravação dos dados no arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-124">In the case of local files, a file sink manages writing the data to the file.</span></span> <span data-ttu-id="ed39d-125">Você também pode configurar coletores de rede para entregar os dados de ASF em uma rede.</span><span class="sxs-lookup"><span data-stu-id="ed39d-125">You can also configure network sinks to deliver the ASF data across a network.</span></span> <span data-ttu-id="ed39d-126">Normalmente, mais de um coletor é usado.</span><span class="sxs-lookup"><span data-stu-id="ed39d-126">Commonly, more than one sink is used.</span></span> <span data-ttu-id="ed39d-127">Por exemplo, um aplicativo pode transmitir um arquivo por uma rede e salvar uma cópia como um arquivo em um disco local simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="ed39d-127">For example, an application can stream a file across a network and save a copy as a file on a local disk simultaneously.</span></span> <span data-ttu-id="ed39d-128">Usando um coletor de push, você pode transmitir conteúdo do seu aplicativo de gravação para um ou mais servidores que executam o Windows Media Services, que, em seguida, distribuirá o conteúdo aos usuários.</span><span class="sxs-lookup"><span data-stu-id="ed39d-128">By using a push sink, you can broadcast content from your writing application to one or more servers running Windows Media Services, which will then distribute the content to users.</span></span>

## <a name="asf-file-editing-with-the-windows-media-format-sdk-metadata-editing"></a><span data-ttu-id="ed39d-129">Edição de arquivo ASF com o Windows Media Format SDK (edição de metadados)</span><span class="sxs-lookup"><span data-stu-id="ed39d-129">ASF File Editing with the Windows Media Format SDK (Metadata Editing)</span></span>

<span data-ttu-id="ed39d-130">A edição do conteúdo da seção de dados de um arquivo ASF envolve a regravação do arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-130">Editing the contents of the data section of an ASF file involves rewriting the file.</span></span> <span data-ttu-id="ed39d-131">O Windows Media Format SDK não fornece nenhum objeto que manipule a seção de dados em vigor.</span><span class="sxs-lookup"><span data-stu-id="ed39d-131">The Windows Media Format SDK does not provide any objects that manipulate the data section in place.</span></span> <span data-ttu-id="ed39d-132">Para edições simples, como concatenar dois arquivos ou cortar conteúdo de um arquivo, você pode ler amostras sem descompactá-los e, em seguida, gravá-los em um novo arquivo usando as mesmas informações de cabeçalho.</span><span class="sxs-lookup"><span data-stu-id="ed39d-132">For simple edits, such as concatenating two files, or cutting content from a file, you can read samples without decompressing them, and then write them to a new file using the same header information.</span></span> <span data-ttu-id="ed39d-133">As edições mais complicadas envolvem fazer alterações no perfil usado para o novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-133">More complicated edits involve making changes to the profile used for the new file.</span></span>

<span data-ttu-id="ed39d-134">O SDK do Windows Media Format dá suporte à edição de partes da seção de cabeçalho sem reescrever o arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-134">The Windows Media Format SDK does support editing parts of the header section without rewriting the file.</span></span> <span data-ttu-id="ed39d-135">O cabeçalho de um arquivo ASF contém muitos tipos diferentes de dados.</span><span class="sxs-lookup"><span data-stu-id="ed39d-135">The header of an ASF file contains many different types of data.</span></span> <span data-ttu-id="ed39d-136">Os mais comumente editados são atributos de metadados, que são pares de nome/valor que descrevem aspectos do conteúdo e das pessoas envolvidas na realização dele.</span><span class="sxs-lookup"><span data-stu-id="ed39d-136">The most commonly edited are metadata attributes, which are name/value pairs that describe aspects of the content and the people involved in making it.</span></span> <span data-ttu-id="ed39d-137">Você pode editar os metadados usando o objeto editor de metadados do SDK do Windows Media Format.</span><span class="sxs-lookup"><span data-stu-id="ed39d-137">You can edit metadata using the metadata editor object of the Windows Media Format SDK.</span></span> <span data-ttu-id="ed39d-138">Esse objeto abrirá um arquivo ASF, permitirá que você altere parte do conteúdo do cabeçalho, grave as alterações no arquivo e feche o arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-138">This object will open an ASF file, enable you to change some of the contents of the header, write the changes to the file, and close the file.</span></span> <span data-ttu-id="ed39d-139">A edição de metadados é muito simples, com chamadas de método simples para recuperar e definir valores.</span><span class="sxs-lookup"><span data-stu-id="ed39d-139">Metadata editing is very straightforward, with simple method calls to retrieve and set values.</span></span>

## <a name="asf-file-reading-with-the-windows-media-format-sdk"></a><span data-ttu-id="ed39d-140">Leitura de arquivo ASF com o Windows Media Format SDK</span><span class="sxs-lookup"><span data-stu-id="ed39d-140">ASF File Reading with the Windows Media Format SDK</span></span>

<span data-ttu-id="ed39d-141">O Windows Media Format SDK fornece dois objetos distintos para ler arquivos ASF: o objeto leitor e o objeto leitor síncrono.</span><span class="sxs-lookup"><span data-stu-id="ed39d-141">The Windows Media Format SDK provides two distinct objects for reading ASF files: the reader object and the synchronous reader object.</span></span> <span data-ttu-id="ed39d-142">O objeto leitor está disponível em todas as versões do SDK, enquanto o objeto leitor síncrono requer o SDK do Windows Media Format 9 Series ou uma versão posterior.</span><span class="sxs-lookup"><span data-stu-id="ed39d-142">The reader object is available in all versions of the SDK, while the synchronous reader object requires the Windows Media Format 9 Series SDK or a later version.</span></span> <span data-ttu-id="ed39d-143">A principal diferença entre os dois é que o objeto leitor fornece amostras para seu aplicativo acionando eventos para um método de retorno de chamada, enquanto o leitor síncrono fornece amostras individuais em resposta a chamadas de método.</span><span class="sxs-lookup"><span data-stu-id="ed39d-143">The primary difference between the two is that the reader object delivers samples to your application by firing events to a callback method, while the synchronous reader provides individual samples in response to method calls.</span></span>

<span data-ttu-id="ed39d-144">Para usar o objeto leitor, você deve implementar vários métodos de retorno de chamada para reagir às mensagens de status e de exemplo do objeto leitor.</span><span class="sxs-lookup"><span data-stu-id="ed39d-144">To use the reader object, you must implement several callback methods to react to status and sample messages from the reader object.</span></span> <span data-ttu-id="ed39d-145">Configure o leitor para entregar o conteúdo como desejar, inicie o leitor e aguarde as mensagens de exemplo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-145">You configure the reader to deliver the content as you like, start the reader, and wait for the sample messages.</span></span> <span data-ttu-id="ed39d-146">O processo de recuperação de amostras de um arquivo ASF é basicamente o inverso do processo de gravação.</span><span class="sxs-lookup"><span data-stu-id="ed39d-146">The process of retrieving samples from an ASF file is basically the reverse of the writing process.</span></span> <span data-ttu-id="ed39d-147">O objeto leitor se comunica com os codecs necessários para decodificar todos os fluxos compactados e entrega dados descompactados ao seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-147">The reader object communicates with the codecs required to decode any compressed streams and delivers uncompressed data to your application.</span></span> <span data-ttu-id="ed39d-148">Você também pode configurar o objeto leitor para fornecer amostras em seu estado compactado, para que você possa incluir um fluxo codificado anteriormente em um novo arquivo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-148">You can also configure the reader object to deliver samples in their compressed state, so that you can include a previously encoded stream in a new file.</span></span>

<span data-ttu-id="ed39d-149">O objeto leitor síncrono funciona praticamente da mesma forma que o objeto leitor.</span><span class="sxs-lookup"><span data-stu-id="ed39d-149">The synchronous reader object works in much the same way as the reader object.</span></span> <span data-ttu-id="ed39d-150">Mas, em vez de configurar retornos de chamada, você deve solicitar cada exemplo do leitor síncrono individualmente.</span><span class="sxs-lookup"><span data-stu-id="ed39d-150">But instead of configuring callbacks, you must request each sample from the synchronous reader individually.</span></span> <span data-ttu-id="ed39d-151">O uso do leitor síncrono requer apenas um único thread, ao passo que o uso do leitor requer vários threads.</span><span class="sxs-lookup"><span data-stu-id="ed39d-151">Using the synchronous reader requires only a single thread, while using the reader requires multiple threads.</span></span> <span data-ttu-id="ed39d-152">O objeto leitor síncrono tem várias vantagens em relação ao objeto leitor em determinadas circunstâncias, principalmente para aplicativos de edição de conteúdo que precisam acessar rapidamente diferentes partes de um arquivo e copiar dados entre arquivos.</span><span class="sxs-lookup"><span data-stu-id="ed39d-152">The synchronous reader object has several advantages over the reader object in certain circumstances, mostly for content editing applications that need to quickly access different parts of a file and copy data between files.</span></span> <span data-ttu-id="ed39d-153">O objeto leitor síncrono é muito mais simples de usar e torna fácil procurar locais específicos na seção de dados.</span><span class="sxs-lookup"><span data-stu-id="ed39d-153">The synchronous reader object is much simpler to use, and makes seeking to specific places in the data section easy.</span></span> <span data-ttu-id="ed39d-154">No entanto, o leitor síncrono não dá suporte à leitura de arquivos em uma rede e não oferece suporte ao gerenciamento de direitos digitais.</span><span class="sxs-lookup"><span data-stu-id="ed39d-154">However, the synchronous reader does not support reading files over a network and does not support digital rights management.</span></span>

## <a name="other-operations-with-the-windows-media-format-sdk"></a><span data-ttu-id="ed39d-155">Outras operações com o Windows Media Format SDK</span><span class="sxs-lookup"><span data-stu-id="ed39d-155">Other Operations with the Windows Media Format SDK</span></span>

<span data-ttu-id="ed39d-156">Além das três principais áreas funcionais que acabamos de descrever, o SDK do Windows Media Format tem objetos para executar outras operações relacionadas a arquivos ASF.</span><span class="sxs-lookup"><span data-stu-id="ed39d-156">In addition to the three main functional areas just described, the Windows Media Format SDK has objects to perform other operations relating to ASF files.</span></span> <span data-ttu-id="ed39d-157">O objeto Gerenciador de perfis é usado para criar e acessar perfis e salvá-los.</span><span class="sxs-lookup"><span data-stu-id="ed39d-157">The profile manager object is used to create and access profiles and to save them.</span></span> <span data-ttu-id="ed39d-158">O objeto indexador cria objetos de índice em arquivos ASF que permitem busca em arquivos de vídeo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-158">The indexer object creates index objects in ASF files that allow seeking in video files.</span></span> <span data-ttu-id="ed39d-159">Por fim, o objeto de leitor e o objeto de gravador dão suporte ao gerenciamento de direitos digitais para proteger os direitos intelectuais dos criadores de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-159">Finally, the reader object and writer object support digital rights management to protect the intellectual rights of content creators.</span></span>

<span data-ttu-id="ed39d-160">**Observação** A intenção da estrutura do arquivo ASF e desse SDK em geral é produzir arquivos de mídia digital contendo áudio e vídeo, e essa documentação é escrita com esse fim em mente.</span><span class="sxs-lookup"><span data-stu-id="ed39d-160">**Note** The intention of the ASF file structure and this SDK in general is to produce digital media files containing audio and video, and this documentation is written with that end in mind.</span></span> <span data-ttu-id="ed39d-161">No entanto, a estrutura do arquivo ASF também funcionará para outros tipos de conteúdo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-161">However, the ASF file structure will work for other types of content, too.</span></span> <span data-ttu-id="ed39d-162">Você pode encontrar muitos aplicativos para arquivos ASF que não estão relacionados a áudio e vídeo.</span><span class="sxs-lookup"><span data-stu-id="ed39d-162">You may find many applications for ASF files that are not related to audio and video.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ed39d-163">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="ed39d-163">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="ed39d-164">**Sobre o SDK do Windows Media Format**</span><span class="sxs-lookup"><span data-stu-id="ed39d-164">**About the Windows Media Format SDK**</span></span>](about-the-windows-media-format-sdk.md)
</dt> </dl>

 

 




