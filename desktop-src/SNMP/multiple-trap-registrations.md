---
title: Vários registros de interceptação
description: Várias opções estão disponíveis quando um aplicativo WinSNMP registra uma sessão WinSNMP para interceptações ou notificações.
ms.assetid: 76a4095f-ab5c-4f7a-9b60-a383a632fd65
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 81aebf94d60ca26f39bcd53b26cb1f794f43af0d
ms.sourcegitcommit: 2d531328b6ed82d4ad971a45a5131b430c5866f7
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 09/16/2019
ms.locfileid: "104292528"
---
# <a name="multiple-trap-registrations"></a><span data-ttu-id="60205-103">Vários registros de interceptação</span><span class="sxs-lookup"><span data-stu-id="60205-103">Multiple Trap Registrations</span></span>

<span data-ttu-id="60205-104">Várias opções estão disponíveis quando um aplicativo WinSNMP registra uma sessão WinSNMP para interceptações ou notificações.</span><span class="sxs-lookup"><span data-stu-id="60205-104">Several options are available when a WinSNMP application registers a WinSNMP session for traps or notifications.</span></span> <span data-ttu-id="60205-105">Por isso, um aplicativo pode chamar a função [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) várias vezes, em vigor definindo um filtro personalizado para a recepção de interceptações e notificações.</span><span class="sxs-lookup"><span data-stu-id="60205-105">Because of this, an application can call the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function multiple times, in effect defining a custom filter for the reception of traps and notifications.</span></span> <span data-ttu-id="60205-106">Por exemplo, você pode se registrar para um tipo de interceptação ou notificação, ou para todas as interceptações e notificações, dependendo do valor do parâmetro de *notificação* .</span><span class="sxs-lookup"><span data-stu-id="60205-106">For example, you can register for one type of trap or notification, or for all traps and notifications, depending on the value of the *notification* parameter.</span></span> <span data-ttu-id="60205-107">Além disso, o aplicativo pode especificar valores em outros parâmetros para a função **SnmpRegister** para definir ainda mais as interceptações e as notificações que devem alcançar um aplicativo.</span><span class="sxs-lookup"><span data-stu-id="60205-107">Additionally, the application can specify values in other parameters to the **SnmpRegister** function to further define the traps and notifications that should reach an application.</span></span> <span data-ttu-id="60205-108">Para obter mais informações, consulte [Gerenciando interceptações e notificações](managing-traps-and-notifications.md).</span><span class="sxs-lookup"><span data-stu-id="60205-108">For more information, see [Managing Traps and Notifications](managing-traps-and-notifications.md).</span></span>

<span data-ttu-id="60205-109">Veja a seguir as instâncias nas quais várias chamadas para **SnmpRegister** são redundantes.</span><span class="sxs-lookup"><span data-stu-id="60205-109">Following are instances in which multiple calls to **SnmpRegister** are redundant.</span></span> <span data-ttu-id="60205-110">Nessas instâncias, **SnmpRegister** retornará snmpapi \_ Success se a função for concluída com êxito, mas o registro redundante é ineficaz.</span><span class="sxs-lookup"><span data-stu-id="60205-110">In these instances **SnmpRegister** returns SNMPAPI\_SUCCESS if the function completes successfully, but the redundant registration is ineffective.</span></span>

1.  <span data-ttu-id="60205-111">Uma chamada para a função [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) solicitando a entrega filtrada de interceptações e notificações para a sessão, após uma chamada anterior para **SnmpRegister** solicitando a entrega de todas as interceptações e notificações (entrega não filtrada).</span><span class="sxs-lookup"><span data-stu-id="60205-111">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications to the session, after a previous call to **SnmpRegister** requesting delivery of all traps and notifications (unfiltered delivery).</span></span> <span data-ttu-id="60205-112">Essa chamada é redundante porque a sessão já está recebendo todas as interceptações e notificações, incluindo o tipo único definido pelo filtro.</span><span class="sxs-lookup"><span data-stu-id="60205-112">This call is redundant because the session is already receiving all traps and notifications, including the single type defined by the filter.</span></span>
2.  <span data-ttu-id="60205-113">Uma chamada duplicada para **SnmpRegister**, ou uma na qual a lista de parâmetros é idêntica à lista de parâmetros em uma chamada anterior a **SnmpRegister** para a sessão.</span><span class="sxs-lookup"><span data-stu-id="60205-113">A duplicate call to **SnmpRegister**, or one in which the parameter list is identical to the parameter list in a previous call to **SnmpRegister** for the session.</span></span>
3.  <span data-ttu-id="60205-114">Uma chamada para a função [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) solicitando a entrega filtrada de interceptações e notificações com base em um OID (identificador de objeto) cujo prefixo é um OID especificado em uma chamada anterior para **SnmpRegister**.</span><span class="sxs-lookup"><span data-stu-id="60205-114">A call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function requesting filtered delivery of traps and notifications based on an object identifier (OID) whose prefix is an OID specified in a previous call to **SnmpRegister**.</span></span> <span data-ttu-id="60205-115">Por exemplo, você pode especificar "1.3.6.1.4.1.311" no parâmetro de *notificação* para receber notificações provenientes de qualquer entidade de agente SNMP da Microsoft.</span><span class="sxs-lookup"><span data-stu-id="60205-115">For example, you can specify "1.3.6.1.4.1.311" in the *notification* parameter to receive notifications originating from any Microsoft SNMP agent entity.</span></span> <span data-ttu-id="60205-116">Se você chamar **SnmpRegister** novamente e especificar "1.3.6.1.4.1.311.1", a segunda chamada será redundante porque a sessão já está recebendo todas as interceptações e notificações que contêm o prefixo de OID "1.3.6.1.4.1.311".</span><span class="sxs-lookup"><span data-stu-id="60205-116">If you call **SnmpRegister** again and specify "1.3.6.1.4.1.311.1", the second call is redundant because the session is already receiving all traps and notifications that contain the OID prefix "1.3.6.1.4.1.311".</span></span>

<span data-ttu-id="60205-117">Para cancelar o registro da sessão, você deve corresponder a cada chamada de registro exclusiva para a função [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) .</span><span class="sxs-lookup"><span data-stu-id="60205-117">To unregister the session, you must match each unique registration call to the [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister) function.</span></span> <span data-ttu-id="60205-118">Chame **SnmpRegister** para cancelar o registro da sessão e verifique se os cinco primeiros parâmetros para **SnmpRegister** são idênticos aos da chamada de registro inicial.</span><span class="sxs-lookup"><span data-stu-id="60205-118">Call **SnmpRegister** to unregister the session, and ensure that the first five parameters to **SnmpRegister** are identical to those in the initial registration call.</span></span> <span data-ttu-id="60205-119">A única diferença entre a chamada inicial e a chamada de cancelamento de registro é que, ao se registrar, você deve especificar o valor SNMPAPI \_ on no parâmetro *status* e, quando chamar a função para cancelar o registro, deverá especificar snmpapi \_ off.</span><span class="sxs-lookup"><span data-stu-id="60205-119">The only difference between the initial call and the unregistering call is that when registering you must specify the value SNMPAPI\_ON in the *status* parameter, and when you call the function to unregister, you must specify SNMPAPI\_OFF.</span></span> <span data-ttu-id="60205-120">Você não precisa fazer a correspondência de chamadas de registro redundantes para a função **SnmpRegister** .</span><span class="sxs-lookup"><span data-stu-id="60205-120">You do not need to match redundant registration calls to the **SnmpRegister** function.</span></span> <span data-ttu-id="60205-121">Você só precisa corresponder à primeira chamada de registro exclusiva.</span><span class="sxs-lookup"><span data-stu-id="60205-121">You need only match the first unique registration call.</span></span>

<span data-ttu-id="60205-122">Para alterar os critérios de filtragem, pode ser necessário que um aplicativo primeiro cancele o registro e desabilite a entrega de determinadas interceptações ou notificações.</span><span class="sxs-lookup"><span data-stu-id="60205-122">To change filtering criteria, it may be necessary for an application to first unregister and disable delivery of certain traps or notifications.</span></span> <span data-ttu-id="60205-123">Em seguida, o aplicativo pode criar um novo filtro chamando [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passando os valores apropriados.</span><span class="sxs-lookup"><span data-stu-id="60205-123">Then the application can create a new filter by calling [**SnmpRegister**](/windows/desktop/api/Winsnmp/nf-winsnmp-snmpregister), passing appropriate values.</span></span>

 

 




