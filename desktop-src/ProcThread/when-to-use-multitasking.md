---
description: 'Há duas maneiras de implementar multitarefas: como um único processo com vários threads ou vários processos, cada um com um ou mais threads.'
ms.assetid: ac0a8163-1498-4274-acfc-6a36b4c02a27
title: Quando usar multitarefa
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: b17e52f39a08120d3038663a95307ad72f228cfc
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/08/2021
ms.locfileid: "105760806"
---
# <a name="when-to-use-multitasking"></a><span data-ttu-id="5732a-103">Quando usar multitarefa</span><span class="sxs-lookup"><span data-stu-id="5732a-103">When to Use Multitasking</span></span>

<span data-ttu-id="5732a-104">Há duas maneiras de implementar multitarefas: como um único processo com vários threads ou vários processos, cada um com um ou mais threads.</span><span class="sxs-lookup"><span data-stu-id="5732a-104">There are two ways to implement multitasking: as a single process with multiple threads or as multiple processes, each with one or more threads.</span></span> <span data-ttu-id="5732a-105">Um aplicativo pode colocar cada thread que exige um espaço de endereço privado e recursos privados em seu próprio processo, para protegê-lo das atividades de outros threads de processo.</span><span class="sxs-lookup"><span data-stu-id="5732a-105">An application can put each thread that requires a private address space and private resources into its own process, to protect it from the activities of other process threads.</span></span>

<span data-ttu-id="5732a-106">Um processo multi-threaded pode gerenciar tarefas mutuamente exclusivas com threads, como fornecer uma interface do usuário e executar cálculos em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="5732a-106">A multithreaded process can manage mutually exclusive tasks with threads, such as providing a user interface and performing background calculations.</span></span> <span data-ttu-id="5732a-107">Criar um processo multi-threaded também pode ser uma maneira conveniente de estruturar um programa que executa várias tarefas semelhantes ou idênticas simultaneamente.</span><span class="sxs-lookup"><span data-stu-id="5732a-107">Creating a multithreaded process can also be a convenient way to structure a program that performs several similar or identical tasks concurrently.</span></span> <span data-ttu-id="5732a-108">Por exemplo, um servidor de pipe nomeado pode criar um thread para cada processo de cliente que é anexado ao pipe.</span><span class="sxs-lookup"><span data-stu-id="5732a-108">For example, a named pipe server can create a thread for each client process that attaches to the pipe.</span></span> <span data-ttu-id="5732a-109">Esse thread gerencia a comunicação entre o servidor e o cliente.</span><span class="sxs-lookup"><span data-stu-id="5732a-109">This thread manages the communication between the server and the client.</span></span> <span data-ttu-id="5732a-110">Seu processo pode usar vários threads para realizar as seguintes tarefas:</span><span class="sxs-lookup"><span data-stu-id="5732a-110">Your process could use multiple threads to accomplish the following tasks:</span></span>

-   <span data-ttu-id="5732a-111">Gerencie a entrada para várias janelas.</span><span class="sxs-lookup"><span data-stu-id="5732a-111">Manage input for multiple windows.</span></span>
-   <span data-ttu-id="5732a-112">Gerencie a entrada de vários dispositivos de comunicação.</span><span class="sxs-lookup"><span data-stu-id="5732a-112">Manage input from several communications devices.</span></span>
-   <span data-ttu-id="5732a-113">Diferenciar as tarefas de prioridade variada.</span><span class="sxs-lookup"><span data-stu-id="5732a-113">Distinguish tasks of varying priority.</span></span> <span data-ttu-id="5732a-114">Por exemplo, um thread de alta prioridade gerencia tarefas cujo tempo é algo crítico e um thread de baixa prioridade executa outras tarefas.</span><span class="sxs-lookup"><span data-stu-id="5732a-114">For example, a high-priority thread manages time-critical tasks, and a low-priority thread performs other tasks.</span></span>
-   <span data-ttu-id="5732a-115">Permitir que a interface do usuário continue responsiva, durante a alocação de tempo a tarefas em segundo plano.</span><span class="sxs-lookup"><span data-stu-id="5732a-115">Allow the user interface to remain responsive, while allocating time to background tasks.</span></span>

<span data-ttu-id="5732a-116">Normalmente, é mais eficiente que um aplicativo implemente multitarefas criando um único processo multithread, em vez de criar vários processos, pelos seguintes motivos:</span><span class="sxs-lookup"><span data-stu-id="5732a-116">It is typically more efficient for an application to implement multitasking by creating a single, multithreaded process, rather than creating multiple processes, for the following reasons:</span></span>

-   <span data-ttu-id="5732a-117">O sistema pode executar uma alternância de contexto mais rapidamente para threads do que processos, porque um processo tem mais sobrecarga do que um thread faz (o contexto do processo é maior do que o contexto do thread).</span><span class="sxs-lookup"><span data-stu-id="5732a-117">The system can perform a context switch more quickly for threads than processes, because a process has more overhead than a thread does (the process context is larger than the thread context).</span></span>
-   <span data-ttu-id="5732a-118">Todos os threads de um processo compartilham o mesmo espaço de endereço e podem acessar as variáveis globais do processo, o que pode simplificar a comunicação entre threads.</span><span class="sxs-lookup"><span data-stu-id="5732a-118">All threads of a process share the same address space and can access the process's global variables, which can simplify communication between threads.</span></span>
-   <span data-ttu-id="5732a-119">Todos os threads de um processo podem compartilhar identificadores abertos para recursos, como arquivos e pipes.</span><span class="sxs-lookup"><span data-stu-id="5732a-119">All threads of a process can share open handles to resources, such as files and pipes.</span></span>

<span data-ttu-id="5732a-120">Há outras técnicas que você pode usar no lugar de multithreading.</span><span class="sxs-lookup"><span data-stu-id="5732a-120">There are other techniques you can use in the place of multithreading.</span></span> <span data-ttu-id="5732a-121">Os mais significativos são os seguintes: entrada e saída assíncrona (e/s), portas de conclusão de e/s, APC (chamadas de procedimento assíncrono) e a capacidade de aguardar vários eventos.</span><span class="sxs-lookup"><span data-stu-id="5732a-121">The most significant of these are as follows: asynchronous input and output (I/O), I/O completion ports, asynchronous procedure calls (APC), and the ability to wait for multiple events.</span></span>

<span data-ttu-id="5732a-122">Um único thread pode iniciar várias solicitações de e/s demoradas que podem ser executadas simultaneamente usando e/s assíncronas.</span><span class="sxs-lookup"><span data-stu-id="5732a-122">A single thread can initiate multiple time-consuming I/O requests that can run concurrently using asynchronous I/O.</span></span> <span data-ttu-id="5732a-123">A e/s assíncrona pode ser executada em arquivos, Pipes e dispositivos de comunicação serial.</span><span class="sxs-lookup"><span data-stu-id="5732a-123">Asynchronous I/O can be performed on files, pipes, and serial communication devices.</span></span> <span data-ttu-id="5732a-124">Para obter mais informações, consulte [sincronização e entrada e saída sobrepostas](../sync/synchronization-and-overlapped-input-and-output.md).</span><span class="sxs-lookup"><span data-stu-id="5732a-124">For more information, see [Synchronization and Overlapped Input and Output](../sync/synchronization-and-overlapped-input-and-output.md).</span></span>

<span data-ttu-id="5732a-125">Um único thread pode bloquear sua própria execução enquanto aguarda a ocorrência de qualquer um ou todos os vários eventos.</span><span class="sxs-lookup"><span data-stu-id="5732a-125">A single thread can block its own execution while waiting for any one or all of several events to occur.</span></span> <span data-ttu-id="5732a-126">Isso é mais eficiente do que usar vários threads, cada um esperando por um único evento e mais eficiente do que usar um único thread que consome tempo do processador, verificando continuamente se os eventos ocorrem.</span><span class="sxs-lookup"><span data-stu-id="5732a-126">This is more efficient than using multiple threads, each waiting for a single event, and more efficient than using a single thread that consumes processor time by continually checking for events to occur.</span></span> <span data-ttu-id="5732a-127">Para obter mais informações, consulte [Wait Functions](../sync/wait-functions.md).</span><span class="sxs-lookup"><span data-stu-id="5732a-127">For more information, see [Wait Functions](../sync/wait-functions.md).</span></span>

 

 
