---
description: O modelo de segurança do Microsoft Windows permite que você controle o acesso a objetos de trabalho. Para obter mais informações sobre segurança, consulte modelo de Access-Control.
ms.assetid: 8d212292-f087-41e4-884e-cec4423dac49
title: Segurança do objeto de trabalho e direitos de acesso
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: d6f5207e459bab2ae444282355844401e0b82e9c
ms.sourcegitcommit: 18023a15a4312c653a8dcc0feef23e3413a7f5dd
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/25/2021
ms.locfileid: "105782298"
---
# <a name="job-object-security-and-access-rights"></a><span data-ttu-id="16a1f-104">Segurança do objeto de trabalho e direitos de acesso</span><span class="sxs-lookup"><span data-stu-id="16a1f-104">Job Object Security and Access Rights</span></span>

<span data-ttu-id="16a1f-105">O modelo de segurança do Microsoft Windows permite que você controle o acesso a objetos de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-105">The Microsoft Windows security model enables you to control access to job objects.</span></span> <span data-ttu-id="16a1f-106">Para obter mais informações sobre segurança, consulte [modelo de controle de acesso](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="16a1f-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="16a1f-107">Você pode especificar um [descritor de segurança](../secauthz/security-descriptors.md) para um objeto de trabalho ao chamar a função [**CreateJobObject**](/windows/desktop/api/WinBase/nf-winbase-createjobobjecta) .</span><span class="sxs-lookup"><span data-stu-id="16a1f-107">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a job object when you call the [**CreateJobObject**](/windows/desktop/api/WinBase/nf-winbase-createjobobjecta) function.</span></span> <span data-ttu-id="16a1f-108">Se você especificar NULL, o objeto de trabalho obterá um descritor de segurança padrão.</span><span class="sxs-lookup"><span data-stu-id="16a1f-108">If you specify NULL, the job object gets a default security descriptor.</span></span> <span data-ttu-id="16a1f-109">As ACLs no descritor de segurança padrão para um objeto de trabalho são provenientes do token principal ou de representação do criador.</span><span class="sxs-lookup"><span data-stu-id="16a1f-109">The ACLs in the default security descriptor for a job object come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="16a1f-110">Para obter ou definir o descritor de segurança para um objeto de trabalho, chame a função [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa), [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa), [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo)ou [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="16a1f-110">To get or set the security descriptor for a job object, call the [**GetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getnamedsecurityinfoa), [**SetNamedSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setnamedsecurityinfoa), [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo), or [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="16a1f-111">Os direitos de acesso válidos para objetos de trabalho incluem os [direitos de acesso padrão](../secauthz/standard-access-rights.md) e alguns direitos de acesso específicos ao trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-111">The valid access rights for job objects include the [standard access rights](../secauthz/standard-access-rights.md) and some job-specific access rights.</span></span> <span data-ttu-id="16a1f-112">A tabela a seguir lista os direitos de acesso padrão usados por todos os objetos.</span><span class="sxs-lookup"><span data-stu-id="16a1f-112">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="16a1f-113">Valor</span><span class="sxs-lookup"><span data-stu-id="16a1f-113">Value</span></span>                           | <span data-ttu-id="16a1f-114">Significado</span><span class="sxs-lookup"><span data-stu-id="16a1f-114">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="16a1f-115">**Excluir** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="16a1f-115">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="16a1f-116">Necessário para excluir o objeto.</span><span class="sxs-lookup"><span data-stu-id="16a1f-116">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="16a1f-117">**Ler \_ CONTROL** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="16a1f-117">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="16a1f-118">Necessário para ler informações no descritor de segurança do objeto, não incluindo as informações na SACL.</span><span class="sxs-lookup"><span data-stu-id="16a1f-118">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="16a1f-119">Para ler ou gravar a SACL, você deve solicitar o direito de acesso de **\_ \_ segurança do sistema de acesso** .</span><span class="sxs-lookup"><span data-stu-id="16a1f-119">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="16a1f-120">Para obter mais informações, consulte [direitos de acesso à SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="16a1f-120">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="16a1f-121">**Sincronizar** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="16a1f-121">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="16a1f-122">O direito de usar o objeto para sincronização.</span><span class="sxs-lookup"><span data-stu-id="16a1f-122">The right to use the object for synchronization.</span></span> <span data-ttu-id="16a1f-123">Isso permite que um thread aguarde até que o objeto esteja no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="16a1f-123">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="16a1f-124">**Gravar \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="16a1f-124">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="16a1f-125">Necessário para modificar a DACL no descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="16a1f-125">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="16a1f-126">**Gravar \_ PROPRIETÁRIO** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="16a1f-126">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="16a1f-127">Necessário para alterar o proprietário no descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="16a1f-127">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="16a1f-128">A tabela a seguir lista os direitos de acesso específicos ao trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-128">The following table lists the job-specific access rights.</span></span>



| <span data-ttu-id="16a1f-129">Valor</span><span class="sxs-lookup"><span data-stu-id="16a1f-129">Value</span></span>                                               | <span data-ttu-id="16a1f-130">Significado</span><span class="sxs-lookup"><span data-stu-id="16a1f-130">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-----------------------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="16a1f-131">**Trabalho \_ do OBJETO \_ All \_ Access** (0x1F001F)</span><span class="sxs-lookup"><span data-stu-id="16a1f-131">**JOB\_OBJECT\_ALL\_ACCESS** (0x1F001F)</span></span>             | <span data-ttu-id="16a1f-132">Combina todos os direitos válidos de acesso ao objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-132">Combines all valid job object access rights.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="16a1f-133">**Trabalho \_ do \_ \_ Processo de atribuição de objeto** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="16a1f-133">**JOB\_OBJECT\_ASSIGN\_PROCESS** (0x0001)</span></span>           | <span data-ttu-id="16a1f-134">Necessário para chamar a função [**AssignProcessToJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-assignprocesstojobobject) para atribuir processos ao objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-134">Required to call the [**AssignProcessToJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-assignprocesstojobobject) function to assign processes to the job object.</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="16a1f-135">**Trabalho \_ do \_Consulta de objeto** (0x0004)</span><span class="sxs-lookup"><span data-stu-id="16a1f-135">**JOB\_OBJECT\_QUERY** (0x0004)</span></span>                     | <span data-ttu-id="16a1f-136">Necessário para recuperar determinadas informações sobre um objeto de trabalho, como atributos e informações de contabilidade (consulte [**QueryInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-queryinformationjobobject) e [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob)).</span><span class="sxs-lookup"><span data-stu-id="16a1f-136">Required to retrieve certain information about a job object, such as attributes and accounting information (see [**QueryInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-queryinformationjobobject) and [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob)).</span></span>                                                                                                                                                                                                                                                                    |
| <span data-ttu-id="16a1f-137">**Trabalho \_ do \_ \_ Atributos de conjunto de objetos** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="16a1f-137">**JOB\_OBJECT\_SET\_ATTRIBUTES** (0x0002)</span></span>           | <span data-ttu-id="16a1f-138">Necessário para chamar a função [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) para definir os atributos do objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-138">Required to call the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function to set the attributes of the job object.</span></span>                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="16a1f-139">**Trabalho \_ do \_Atributos de \_ segurança \_ do conjunto de objetos** (0x0010)</span><span class="sxs-lookup"><span data-stu-id="16a1f-139">**JOB\_OBJECT\_SET\_SECURITY\_ATTRIBUTES** (0x0010)</span></span> | <span data-ttu-id="16a1f-140">Não há suporte para esse sinalizador.</span><span class="sxs-lookup"><span data-stu-id="16a1f-140">This flag is not supported.</span></span> <span data-ttu-id="16a1f-141">Você deve definir as limitações de segurança individualmente para cada processo associado a um objeto de trabalho. **Windows Server 2003 e Windows XP:** Necessário para chamar a função [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) com a classe de informações **JobObjectSecurityLimitInformation** para definir as limitações de segurança para os processos associados ao objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-141">You must set security limitations individually for each process associated with a job object.**Windows Server 2003 and Windows XP:** Required to call the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function with the **JobObjectSecurityLimitInformation** information class to set security limitations for the processes associated with the job object.</span></span> <span data-ttu-id="16a1f-142">O suporte para esse sinalizador foi removido no Windows Vista e no Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="16a1f-142">Support for this flag was removed in Windows Vista and Windows Server 2008.</span></span> <br/> |
| <span data-ttu-id="16a1f-143">**Trabalho \_ do \_Final do objeto** (0x0008)</span><span class="sxs-lookup"><span data-stu-id="16a1f-143">**JOB\_OBJECT\_TERMINATE** (0x0008)</span></span>                 | <span data-ttu-id="16a1f-144">Necessário para chamar a função [**TerminateJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-terminatejobobject) para encerrar todos os processos no objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-144">Required to call the [**TerminateJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-terminatejobobject) function to terminate all processes in the job object.</span></span>                                                                                                                                                                                                                                                                                                                                                                     |



 

<span data-ttu-id="16a1f-145">O identificador retornado por [**CreateJobObject**](/windows/desktop/api/WinBase/nf-winbase-createjobobjecta) tem o objeto de trabalho acesso de **\_ \_ \_ acesso** ao objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-145">The handle returned by [**CreateJobObject**](/windows/desktop/api/WinBase/nf-winbase-createjobobjecta) has **JOB\_OBJECT\_ALL\_ACCESS** access to the job object.</span></span> <span data-ttu-id="16a1f-146">Quando você chama a função [**OpenJobObject**](/windows/desktop/api/WinBase/nf-winbase-openjobobjecta) , o sistema verifica os direitos de acesso solicitados no descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="16a1f-146">When you call the [**OpenJobObject**](/windows/desktop/api/WinBase/nf-winbase-openjobobjecta) function, the system checks the requested access rights against the object's security descriptor.</span></span> <span data-ttu-id="16a1f-147">Se um objeto de trabalho estiver em uma hierarquia de [trabalhos aninhados](nested-jobs.md), um chamador com acesso ao objeto de trabalho implicitamente terá acesso a todos os seus trabalhos filho na hierarquia.</span><span class="sxs-lookup"><span data-stu-id="16a1f-147">If a job object is in a hierarchy of [nested jobs](nested-jobs.md), a caller with access to the job object implicitly has access to all of its child jobs in the hierarchy.</span></span>

<span data-ttu-id="16a1f-148">Você pode solicitar o direito de acesso de **\_ \_ segurança do sistema de acesso** a um objeto de trabalho se desejar ler ou gravar a SACL do objeto.</span><span class="sxs-lookup"><span data-stu-id="16a1f-148">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a job object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="16a1f-149">Para obter mais informações, consulte [listas de controle de acesso (ACLs)](../secauthz/access-control-lists.md) e [direito de acesso SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="16a1f-149">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

<span data-ttu-id="16a1f-150">Você deve definir as limitações de segurança individualmente para cada processo associado a um objeto de trabalho, em vez de defini-los para o próprio objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-150">You must set security limitations individually for each process associated with a job object, rather than setting them for the job object itself.</span></span> <span data-ttu-id="16a1f-151">Para obter informações, consulte [segurança do processo e direitos de acesso](process-security-and-access-rights.md).</span><span class="sxs-lookup"><span data-stu-id="16a1f-151">For information, see [Process Security and Access Rights](process-security-and-access-rights.md).</span></span>

<span data-ttu-id="16a1f-152">**Windows Server 2003 e Windows XP:** Você pode usar a função [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) para definir limitações de segurança para o objeto de trabalho.</span><span class="sxs-lookup"><span data-stu-id="16a1f-152">**Windows Server 2003 and Windows XP:** You can use the [**SetInformationJobObject**](/windows/win32/api/jobapi2/nf-jobapi2-setinformationjobobject) function to set security limitations for the job object.</span></span> <span data-ttu-id="16a1f-153">Esse recurso foi removido no Windows Vista e no Windows Server 2008.</span><span class="sxs-lookup"><span data-stu-id="16a1f-153">This capability was removed in Windows Vista and Windows Server 2008.</span></span>

 

 
