---
description: A diretriz recomendada é usar o menor número possível de threads, minimizando assim o uso de recursos do sistema.
ms.assetid: ed9bd3cf-b10c-49f9-bf62-7332517350b7
title: Considerações sobre multitarefas
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 6ec64bf1b7d59a42a1aec3511a72328f18bfaa88
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "104091631"
---
# <a name="multitasking-considerations"></a><span data-ttu-id="37ea8-103">Considerações sobre multitarefas</span><span class="sxs-lookup"><span data-stu-id="37ea8-103">Multitasking Considerations</span></span>

<span data-ttu-id="37ea8-104">A diretriz recomendada é usar o menor número possível de threads, minimizando assim o uso de recursos do sistema.</span><span class="sxs-lookup"><span data-stu-id="37ea8-104">The recommended guideline is to use as few threads as possible, thereby minimizing the use of system resources.</span></span> <span data-ttu-id="37ea8-105">Isso melhora o desempenho.</span><span class="sxs-lookup"><span data-stu-id="37ea8-105">This improves performance.</span></span> <span data-ttu-id="37ea8-106">A multitarefa tem requisitos de recursos e possíveis conflitos a serem considerados ao criar seu aplicativo.</span><span class="sxs-lookup"><span data-stu-id="37ea8-106">Multitasking has resource requirements and potential conflicts to be considered when designing your application.</span></span> <span data-ttu-id="37ea8-107">Os requisitos de recurso são os seguintes:</span><span class="sxs-lookup"><span data-stu-id="37ea8-107">The resource requirements are as follows:</span></span>

-   <span data-ttu-id="37ea8-108">O sistema consome memória para as informações de contexto exigidas por processos e threads.</span><span class="sxs-lookup"><span data-stu-id="37ea8-108">The system consumes memory for the context information required by both processes and threads.</span></span> <span data-ttu-id="37ea8-109">Portanto, o número de processos e threads que podem ser criados é limitado pela memória disponível.</span><span class="sxs-lookup"><span data-stu-id="37ea8-109">Therefore, the number of processes and threads that can be created is limited by available memory.</span></span>
-   <span data-ttu-id="37ea8-110">Manter o controle de um grande número de threads consome muito tempo do processador.</span><span class="sxs-lookup"><span data-stu-id="37ea8-110">Keeping track of a large number of threads consumes significant processor time.</span></span> <span data-ttu-id="37ea8-111">Se houver muitos threads, a maioria deles não será capaz de fazer um progresso significativo.</span><span class="sxs-lookup"><span data-stu-id="37ea8-111">If there are too many threads, most of them will not be able to make significant progress.</span></span> <span data-ttu-id="37ea8-112">Se a maioria dos threads atuais estiver em um processo, os threads em outros processos serão agendados com menos frequência.</span><span class="sxs-lookup"><span data-stu-id="37ea8-112">If most of the current threads are in one process, threads in other processes are scheduled less frequently.</span></span>

<span data-ttu-id="37ea8-113">Fornecer acesso compartilhado a recursos pode criar conflitos.</span><span class="sxs-lookup"><span data-stu-id="37ea8-113">Providing shared access to resources can create conflicts.</span></span> <span data-ttu-id="37ea8-114">Para evitá-los, você deve sincronizar o acesso aos recursos compartilhados.</span><span class="sxs-lookup"><span data-stu-id="37ea8-114">To avoid them, you must synchronize access to shared resources.</span></span> <span data-ttu-id="37ea8-115">Isso é verdadeiro para recursos do sistema (como portas de comunicação), recursos compartilhados por vários processos (como identificadores de arquivo) ou os recursos de um único processo (como variáveis globais) acessados por vários threads.</span><span class="sxs-lookup"><span data-stu-id="37ea8-115">This is true for system resources (such as communications ports), resources shared by multiple processes (such as file handles), or the resources of a single process (such as global variables) accessed by multiple threads.</span></span> <span data-ttu-id="37ea8-116">Falha ao sincronizar o acesso corretamente (no mesmo ou em processos diferentes) pode levar a problemas como as condições de deadlock e de corrida.</span><span class="sxs-lookup"><span data-stu-id="37ea8-116">Failure to synchronize access properly (in the same or in different processes) can lead to problems such as deadlock and race conditions.</span></span> <span data-ttu-id="37ea8-117">Os objetos de sincronização e as funções que você pode usar para coordenar o compartilhamento de recursos entre vários threads.</span><span class="sxs-lookup"><span data-stu-id="37ea8-117">The synchronization objects and functions you can use to coordinate resource sharing among multiple threads.</span></span> <span data-ttu-id="37ea8-118">Para obter mais informações sobre sincronização, consulte [sincronizando a execução de vários threads](synchronizing-execution-of-multiple-threads.md).</span><span class="sxs-lookup"><span data-stu-id="37ea8-118">For more information about synchronization, see [Synchronizing Execution of Multiple Threads](synchronizing-execution-of-multiple-threads.md).</span></span> <span data-ttu-id="37ea8-119">Reduzir o número de threads torna mais fácil e mais eficaz sincronizar os recursos.</span><span class="sxs-lookup"><span data-stu-id="37ea8-119">Reducing the number of threads makes it easier and more effective to synchronize resources.</span></span>

<span data-ttu-id="37ea8-120">Um bom design para um aplicativo multi-threaded é o servidor de pipeline.</span><span class="sxs-lookup"><span data-stu-id="37ea8-120">A good design for a multithreaded application is the pipeline server.</span></span> <span data-ttu-id="37ea8-121">Nesse design, você cria um thread por processador e cria filas de solicitações para as quais o aplicativo mantém as informações de contexto.</span><span class="sxs-lookup"><span data-stu-id="37ea8-121">In this design, you create one thread per processor and build queues of requests for which the application maintains the context information.</span></span> <span data-ttu-id="37ea8-122">Um thread processaria todas as solicitações em uma fila antes de processar solicitações na próxima fila.</span><span class="sxs-lookup"><span data-stu-id="37ea8-122">A thread would process all requests in a queue before processing requests in the next queue.</span></span>

 

 



