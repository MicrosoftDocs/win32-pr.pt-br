---
Description: Os sinalizadores de criação do processo a seguir são usados pelas funções CreateProcess, CreateProcessAsUser, CreateProcessWithLogonW e CreateProcessWithTokenW. Eles podem ser especificados em qualquer combinação, exceto quando observado.
ms.assetid: fd3384ad-8635-4ea1-9054-0572ef86b86d
title: Sinalizadores de criação de processos (WinBase. h)
ms.topic: reference
ms.custom: snippet-project
ms.date: 07/27/2020
ms.openlocfilehash: 560a6c5ca54a5767c0fb0c9b4b8659d608f46766
ms.sourcegitcommit: c8ec1ded1ffffc364d3c4f560bb2171da0dc5040
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 03/22/2021
ms.locfileid: "105759180"
---
# <a name="process-creation-flags"></a>Sinalizadores de criação de processo

Os sinalizadores de criação do processo a seguir são usados pelas funções [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)e [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) . Eles podem ser especificados em qualquer combinação, exceto quando observado.

## <a name="example"></a>Exemplo

```c
     BOOL creationResult;
    
    creationResult = CreateProcess(
        NULL,                   // No module name (use command line)
        cmdLine,                // Command line
        NULL,                   // Process handle not inheritable
        NULL,                   // Thread handle not inheritable
        FALSE,                  // Set handle inheritance to FALSE
        NORMAL_PRIORITY_CLASS | CREATE_NEW_CONSOLE | CREATE_NEW_PROCESS_GROUP, // creation flags
        NULL,                   // Use parent's environment block
        NULL,                   // Use parent's starting directory 
        &startupInfo,           // Pointer to STARTUPINFO structure
        &processInformation);   // Pointer to PROCESS_INFORMATION structure

```

Exemplo de [exemplos clássicos do Windows](https://github.com/microsoft/Windows-classic-samples/blob/1d363ff4bd17d8e20415b92e2ee989d615cc0d91/Samples/ManagementInfrastructure/cpp/Process/Provider/WindowsProcess.c) no github.


## <a name="flags"></a>Flags

| Constante/valor                                                                                                                                                                                                                                                                            | Descrição                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|:--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span id="CREATE_BREAKAWAY_FROM_JOB"></span><span id="create_breakaway_from_job"></span><dl> <dt>**Criar \_ BREAKAWAY \_ do \_ trabalho**</dt> <dt>0x01000000</dt> </dl>                       | Os processos filho de um processo associado a um trabalho não estão associados ao trabalho. <br/> Se o processo de chamada não estiver associado a um trabalho, essa constante não terá efeito. Se o processo de chamada estiver associado a um trabalho, o trabalho deverá definir o limite de **BREAKAWAY do objeto de trabalho \_ \_ limite \_ \_ OK** .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_DEFAULT_ERROR_MODE"></span><span id="create_default_error_mode"></span><dl> <dt>**Criar \_ \_ \_ Modo de erro padrão**</dt> <dt>0x04000000</dt> </dl>                       | O novo processo não herda o modo de erro do processo de chamada. Em vez disso, o novo processo Obtém o modo de erro padrão. <br/> Esse recurso é particularmente útil para aplicativos de shell multithread que são executados com erros de hardware desabilitados.<br/> O comportamento padrão é para o novo processo herdar o modo de erro do chamador. Definir esse sinalizador altera o comportamento padrão.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span id="CREATE_NEW_CONSOLE"></span><span id="create_new_console"></span><dl> <dt>**Criar \_ NOVO \_ console**</dt> <dt>0x00000010</dt> </dl>                                             | O novo processo tem um novo console, em vez de herdar o console de seu pai (o padrão). Para obter mais informações, consulte [criação de um console](/windows/console/creation-of-a-console). <br/> Esse sinalizador não pode ser usado com o **\_ processo desanexado**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| <span id="CREATE_NEW_PROCESS_GROUP"></span><span id="create_new_process_group"></span><dl> <dt>**Criar \_ NOVO \_ \_ grupo de processos**</dt> <dt>0x00000200</dt> </dl>                          | O novo processo é o processo raiz de um novo grupo de processos. O grupo de processos inclui todos os processos que são descendentes desse processo raiz. O identificador de processo do novo grupo de processos é o mesmo que o identificador de processo, que é retornado no parâmetro *lpProcessInformation* . Os grupos de processos são usados pela função [**GenerateConsoleCtrlEvent**](/windows/console/generateconsolectrlevent) para habilitar o envio de um sinal de Ctrl + Break para um grupo de processos de console.<br/> Se esse sinalizador for especificado, os sinais CTRL + C serão desabilitados para todos os processos no novo grupo de processos.<br/> Esse sinalizador será ignorado se for especificado com **criar \_ novo \_ console**.<br/>                                                                                                                                                                                                                                                                         |
| <span id="CREATE_NO_WINDOW"></span><span id="create_no_window"></span><dl> <dt>**Criar \_ NENHUMA \_ janela**</dt> <dt>0x08000000</dt> </dl>                                                   | O processo é um aplicativo de console que está sendo executado sem uma janela de console. Portanto, o identificador do console para o aplicativo não está definido.<br/> Esse sinalizador será ignorado se o aplicativo não for um aplicativo de console ou se for usado com criar um **\_ novo \_ console** ou **\_ processo desanexado**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span id="CREATE_PROTECTED_PROCESS"></span><span id="create_protected_process"></span><dl> <dt>**Criar \_ \_Processo protegido**</dt> <dt>0x00040000</dt> </dl>                           | O processo deve ser executado como um processo protegido. O sistema restringe o acesso a processos protegidos e a threads de processos protegidos. Para obter mais informações sobre como os processos podem interagir com processos protegidos, consulte [segurança do processo e direitos de acesso](process-security-and-access-rights.md).<br/> Para ativar um processo protegido, o binário deve ter uma assinatura especial. Essa assinatura é fornecida pela Microsoft, mas não está disponível atualmente para binários que não são da Microsoft. Atualmente, há quatro processos protegidos: Media Foundation, mecanismo de áudio, relatório de erros do Windows e sistema. Os componentes que são carregados nesses binários também devem ser assinados. As empresas de multimídia podem aproveitar os dois primeiros processos protegidos. Para obter mais informações, consulte [visão geral do caminho de mídia protegido](../medfound/protected-media-path.md).<br/> **Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/> |
| <span id="CREATE_PRESERVE_CODE_AUTHZ_LEVEL"></span><span id="create_preserve_code_authz_level"></span><dl> <dt>**Criar \_ PRESERVAR o \_ código 0x02000000 \_ \_ nível de autorização**</dt> <dt></dt> </dl> | Permite que o chamador execute um processo filho que ignora as restrições de processo que normalmente seriam aplicadas automaticamente ao processo.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="CREATE_SECURE_PROCESS"></span><span id="create_secure_process"></span><dl> <dt>**Criar \_ PROTEGER o \_ processo**</dt> <dt>0x00400000</dt> </dl>                                    | Esse sinalizador permite que processos seguros, executados no ambiente de segurança do Virtualization-Based, sejam iniciados.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="CREATE_SEPARATE_WOW_VDM"></span><span id="create_separate_wow_vdm"></span><dl> <dt>**Criar \_ SEPARAR 0x00000800 do \_ wow \_ VDM**</dt> <dt></dt> </dl>                             | Esse sinalizador é válido somente ao iniciar um aplicativo baseado no Windows de 16 bits. Se definido, o novo processo é executado em uma VDM (máquina virtual de DOS) privada. Por padrão, todos os aplicativos de 16 bits baseados no Windows são executados como threads em um único VDM compartilhado. A vantagem de executar separadamente é que uma falha só encerra o VDM; todos os outros programas executados em VDMs distintos continuam a funcionar normalmente. Além disso, os aplicativos baseados no Windows de 16 bits que são executados em VDMs separados têm filas de entrada separadas. Isso significa que, se um aplicativo parar de responder momentaneamente, os aplicativos em VDMs separados continuarão a receber a entrada. A desvantagem de executar separadamente é que ela leva muito mais memória para fazer isso. Você deve usar esse sinalizador somente se o usuário solicitar que aplicativos de 16 bits sejam executados em seu próprio VDM.<br/>                                                                                                                 |
| <span id="CREATE_SHARED_WOW_VDM"></span><span id="create_shared_wow_vdm"></span><dl> <dt>**Criar \_ 0x00001000 do \_ wow \_ VDM compartilhado**</dt> <dt></dt> </dl>                                   | O sinalizador é válido somente ao iniciar um aplicativo baseado no Windows de 16 bits. Se a opção DefaultSeparateVDM na seção do Windows de WIN.INI for **true**, esse sinalizador substituirá a opção. O novo processo é executado no computador virtual DOS compartilhado.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| <span id="CREATE_SUSPENDED"></span><span id="create_suspended"></span><dl> <dt>**Criar \_**</dt> <dt>0x00000004</dt> suspenso </dl>                                                    | O thread principal do novo processo é criado em um estado suspenso e não é executado até que a função [**ResumeThread**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-resumethread) seja chamada.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| <span id="CREATE_UNICODE_ENVIRONMENT"></span><span id="create_unicode_environment"></span><dl> <dt>**Criar \_ 0x00000400 de \_ ambiente Unicode**</dt> <dt></dt> </dl>                     | Se esse sinalizador for definido, o bloco de ambiente apontado por *lpEnvironment* usará caracteres Unicode. Caso contrário, o bloco de ambiente usa caracteres ANSI.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span id="DEBUG_ONLY_THIS_PROCESS"></span><span id="debug_only_this_process"></span><dl> <dt>**Depurar \_ SOMENTE \_ este \_ processo**</dt> <dt>0x00000002</dt> </dl>                             | O thread de chamada inicia e depura o novo processo. Ele pode receber todos os eventos de depuração relacionados usando a função [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) .<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| <span id="DEBUG_PROCESS"></span><span id="debug_process"></span><dl> <dt>**Depurar \_ PROCESSO**</dt> <dt>0x00000001</dt> </dl>                                                             | O thread de chamada inicia e depura o novo processo e todos os processos filho criados pelo novo processo. Ele pode receber todos os eventos de depuração relacionados usando a função [**WaitForDebugEvent**](/windows/win32/api/debugapi/nf-debugapi-waitfordebugevent) . <br/> Um processo que usa **o \_ processo de depuração** se torna a raiz de uma cadeia de depuração. Isso continuará até que outro processo na cadeia seja criado com o **\_ processo de depuração**.<br/> Se esse sinalizador for combinado com a **depuração \_ somente \_ desse \_ processo**, o chamador desbugsá apenas o novo processo, não os processos filho.<br/>                                                                                                                                                                                                                                                                                                                                                                                                           |
| <span id="DETACHED_PROCESS"></span><span id="detached_process"></span><dl> Desanexado <dt>**\_**</dt> <dt>0X00000008</dt> de processo </dl>                                                    | Para processos de console, o novo processo não herda o console de seu pai (o padrão). O novo processo pode chamar a função [**AllocConsole**](/windows/console/allocconsole) em um momento posterior para criar um console. Para obter mais informações, consulte [criação de um console](/windows/console/creation-of-a-console). <br/> Esse valor não pode ser usado com **criar \_ novo \_ console**.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| <span id="EXTENDED_STARTUPINFO_PRESENT"></span><span id="extended_startupinfo_present"></span><dl> <dt>**Estendido \_ STARTUPINFO \_ presente**</dt> <dt>0x00080000</dt> </dl>               | O processo é criado com informações de inicialização estendidas; o parâmetro *lpStartupInfo* especifica uma estrutura [**STARTUPINFOEX**](/windows/desktop/api/WinBase/ns-winbase-startupinfoexa) .<br/> **Windows Server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| <span id="INHERIT_PARENT_AFFINITY"></span><span id="inherit_parent_affinity"></span><dl> <dt>**Herdar \_ 0x00010000 de \_ afinidade pai**</dt> <dt></dt> </dl>                              | O processo herda a afinidade do pai. Se o processo pai tiver threads em mais de um [grupo de processadores](processor-groups.md), o novo processo herdará a afinidade relativa ao grupo de um grupo arbitrário em uso pelo pai.<br/> **Windows server 2008, Windows Vista, Windows server 2003 e Windows XP:** Não há suporte para esse valor.<br/>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |



## <a name="remarks"></a>Comentários

No Windows de 32 bits, os aplicativos de 16 bits são simulados por ntvdm.exe, não são executados como processos individuais. Portanto, os sinalizadores de criação do processo se aplicam a *ntvdm.exe*. Como ntvdm.exe persiste depois de executar o primeiro aplicativo de 16 bits, quando você inicia outro aplicativo de 16 bits, os novos sinalizadores de criação não são aplicados, exceto para **criar \_ novo \_ console** e **criar um \_ \_ wow \_ VDM separado**, que cria um novo ntvdm.exe.

## <a name="requirements"></a>Requisitos



| Requisito | Valor |
|-------------------------------------|----------------------------------------------------------------------------------------------------------|
| Cliente mínimo com suporte<br/> | \[Somente aplicativos da área de trabalho do Windows XP\]<br/>                                                              |
| Servidor mínimo com suporte<br/> | \[Somente aplicativos da área de trabalho do Windows Server 2003\]<br/>                                                     |
| parâmetro<br/>                   | <dl> <dt>WinBase. h (incluir Windows. h)</dt> </dl> |



 

 
