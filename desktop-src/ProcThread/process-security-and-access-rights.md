---
description: O modelo de segurança do Microsoft Windows permite que você controle o acesso a objetos de processo. Para obter mais informações sobre segurança, consulte modelo de Access-Control.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Direitos de acesso e segurança do processo
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 668520a6f4e0eb8a81b55418033ff583bce8bddf
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105770131"
---
# <a name="process-security-and-access-rights"></a><span data-ttu-id="63cdc-104">Direitos de acesso e segurança do processo</span><span class="sxs-lookup"><span data-stu-id="63cdc-104">Process Security and Access Rights</span></span>

<span data-ttu-id="63cdc-105">O modelo de segurança do Microsoft Windows permite que você controle o acesso a objetos de processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-105">The Microsoft Windows security model enables you to control access to process objects.</span></span> <span data-ttu-id="63cdc-106">Para obter mais informações sobre segurança, consulte [modelo de controle de acesso](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="63cdc-107">Quando um usuário faz logon, o sistema coleta um conjunto de dados que identifica exclusivamente o usuário durante o processo de autenticação e o armazena em um token de [acesso](../secauthz/access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-107">When a user logs in, the system collects a set of data that uniquely identifies the user during the authentication process, and stores it in an [access token](../secauthz/access-tokens.md).</span></span> <span data-ttu-id="63cdc-108">Esse token de acesso descreve o contexto de segurança de todos os processos associados ao usuário.</span><span class="sxs-lookup"><span data-stu-id="63cdc-108">This access token describes the security context of all processes associated with the user.</span></span> <span data-ttu-id="63cdc-109">O contexto de segurança de um processo é o conjunto de credenciais fornecido ao processo ou à conta de usuário que criou o processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-109">The security context of a process is the set of credentials given to the process or the user account that created the process.</span></span>

<span data-ttu-id="63cdc-110">Você pode usar um token para especificar o contexto de segurança atual para um processo usando a função [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) .</span><span class="sxs-lookup"><span data-stu-id="63cdc-110">You can use a token to specify the current security context for a process using the [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) function.</span></span> <span data-ttu-id="63cdc-111">Você pode especificar um [descritor de segurança](../secauthz/security-descriptors.md) para um processo ao chamar a função [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)ou [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) .</span><span class="sxs-lookup"><span data-stu-id="63cdc-111">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a process when you call the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), or [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) function.</span></span> <span data-ttu-id="63cdc-112">Se você especificar **NULL**, o processo obterá um descritor de segurança padrão.</span><span class="sxs-lookup"><span data-stu-id="63cdc-112">If you specify **NULL**, the process gets a default security descriptor.</span></span> <span data-ttu-id="63cdc-113">As ACLs no descritor de segurança padrão para um processo são provenientes do token de representação ou primário do criador.</span><span class="sxs-lookup"><span data-stu-id="63cdc-113">The ACLs in the default security descriptor for a process come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="63cdc-114">Para recuperar o descritor de segurança de um processo, chame a função [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="63cdc-114">To retrieve a process's security descriptor, call the [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="63cdc-115">Para alterar o descritor de segurança de um processo, chame a função [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) .</span><span class="sxs-lookup"><span data-stu-id="63cdc-115">To change a process's security descriptor, call the [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="63cdc-116">Os direitos de acesso válidos para objetos de processo incluem os [direitos de acesso padrão](../secauthz/standard-access-rights.md) e alguns direitos de acesso específicos do processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-116">The valid access rights for process objects include the [standard access rights](../secauthz/standard-access-rights.md) and some process-specific access rights.</span></span> <span data-ttu-id="63cdc-117">A tabela a seguir lista os direitos de acesso padrão usados por todos os objetos.</span><span class="sxs-lookup"><span data-stu-id="63cdc-117">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="63cdc-118">Valor</span><span class="sxs-lookup"><span data-stu-id="63cdc-118">Value</span></span>                           | <span data-ttu-id="63cdc-119">Significado</span><span class="sxs-lookup"><span data-stu-id="63cdc-119">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="63cdc-120">**Excluir** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-120">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="63cdc-121">Necessário para excluir o objeto.</span><span class="sxs-lookup"><span data-stu-id="63cdc-121">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="63cdc-122">**Ler \_ CONTROL** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-122">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="63cdc-123">Necessário para ler informações no descritor de segurança do objeto, não incluindo as informações na SACL.</span><span class="sxs-lookup"><span data-stu-id="63cdc-123">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="63cdc-124">Para ler ou gravar a SACL, você deve solicitar o direito de acesso de **\_ \_ segurança do sistema de acesso** .</span><span class="sxs-lookup"><span data-stu-id="63cdc-124">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="63cdc-125">Para obter mais informações, consulte [direitos de acesso à SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-125">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="63cdc-126">**Sincronizar** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-126">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="63cdc-127">O direito de usar o objeto para sincronização.</span><span class="sxs-lookup"><span data-stu-id="63cdc-127">The right to use the object for synchronization.</span></span> <span data-ttu-id="63cdc-128">Isso permite que um thread aguarde até que o objeto esteja no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="63cdc-128">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="63cdc-129">**Gravar \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-129">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="63cdc-130">Necessário para modificar a DACL no descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="63cdc-130">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="63cdc-131">**Gravar \_ PROPRIETÁRIO** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-131">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="63cdc-132">Necessário para alterar o proprietário no descritor de segurança do objeto.</span><span class="sxs-lookup"><span data-stu-id="63cdc-132">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="63cdc-133">A tabela a seguir lista os direitos de acesso específicos do processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-133">The following table lists the process-specific access rights.</span></span>



| <span data-ttu-id="63cdc-134">Valor</span><span class="sxs-lookup"><span data-stu-id="63cdc-134">Value</span></span>                                             | <span data-ttu-id="63cdc-135">Significado</span><span class="sxs-lookup"><span data-stu-id="63cdc-135">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="63cdc-136">**PROCESSAR \_ todo o \_ acesso**</span><span class="sxs-lookup"><span data-stu-id="63cdc-136">**PROCESS\_ALL\_ACCESS**</span></span>                          | <span data-ttu-id="63cdc-137">Todos os direitos de acesso possíveis para um objeto de processo. **Windows Server 2003 e Windows XP:** O tamanho do sinalizador **processar \_ todo o \_ acesso** aumentou no Windows Server 2008 e no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="63cdc-137">All possible access rights for a process object.**Windows Server 2003 and Windows XP:** The size of the **PROCESS\_ALL\_ACCESS** flag increased on Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="63cdc-138">Se um aplicativo compilado para o Windows Server 2008 e o Windows Vista for executado no Windows Server 2003 ou no Windows XP, o sinalizador **processar \_ todo o \_ acesso** será muito grande e a função que especifica esse sinalizador falhará com o **erro \_ acesso \_ negado**.</span><span class="sxs-lookup"><span data-stu-id="63cdc-138">If an application compiled for Windows Server 2008 and Windows Vista is run on Windows Server 2003 or Windows XP, the **PROCESS\_ALL\_ACCESS** flag is too large and the function specifying this flag fails with **ERROR\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="63cdc-139">Para evitar esse problema, especifique o conjunto mínimo de direitos de acesso necessário para a operação.</span><span class="sxs-lookup"><span data-stu-id="63cdc-139">To avoid this problem, specify the minimum set of access rights required for the operation.</span></span> <span data-ttu-id="63cdc-140">Se o **processo \_ todo o \_ acesso** precisar ser usado, defina \_ \_ o Win32 WinNT para o sistema operacional mínimo direcionado por seu aplicativo (por exemplo, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ).</span><span class="sxs-lookup"><span data-stu-id="63cdc-140">If **PROCESS\_ALL\_ACCESS** must be used, set \_WIN32\_WINNT to the minimum operating system targeted by your application (for example, `#define _WIN32_WINNT _WIN32_WINNT_WINXP`).</span></span> <span data-ttu-id="63cdc-141">Para obter mais informações, consulte [usando os cabeçalhos do Windows](../winprog/using-the-windows-headers.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-141">For more information, see [Using the Windows Headers](../winprog/using-the-windows-headers.md).</span></span> <br/> |
| <span data-ttu-id="63cdc-142">**Processo \_ do CRIAR \_ processo** (0x0080)</span><span class="sxs-lookup"><span data-stu-id="63cdc-142">**PROCESS\_CREATE\_PROCESS** (0x0080)</span></span>             | <span data-ttu-id="63cdc-143">Necessário para criar um processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-143">Required to create a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="63cdc-144">**Processo \_ do CREATE \_ thread** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="63cdc-144">**PROCESS\_CREATE\_THREAD** (0x0002)</span></span>              | <span data-ttu-id="63cdc-145">Necessário para criar um thread.</span><span class="sxs-lookup"><span data-stu-id="63cdc-145">Required to create a thread.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="63cdc-146">**Processo \_ do \_Identificador dup** (0x0040)</span><span class="sxs-lookup"><span data-stu-id="63cdc-146">**PROCESS\_DUP\_HANDLE** (0x0040)</span></span>                 | <span data-ttu-id="63cdc-147">Necessário para duplicar um identificador usando [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span><span class="sxs-lookup"><span data-stu-id="63cdc-147">Required to duplicate a handle using [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="63cdc-148">**Processo \_ do \_Informações de consulta** (0x0400)</span><span class="sxs-lookup"><span data-stu-id="63cdc-148">**PROCESS\_QUERY\_INFORMATION** (0x0400)</span></span>          | <span data-ttu-id="63cdc-149">Necessário para recuperar determinadas informações sobre um processo, como token, código de saída e classe de prioridade (consulte [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span><span class="sxs-lookup"><span data-stu-id="63cdc-149">Required to retrieve certain information about a process, such as its token, exit code, and priority class (see [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="63cdc-150">**Processo \_ do \_ \_ Informações limitadas de consulta** (0x1000)</span><span class="sxs-lookup"><span data-stu-id="63cdc-150">**PROCESS\_QUERY\_LIMITED\_INFORMATION** (0x1000)</span></span> | <span data-ttu-id="63cdc-151">Necessário para recuperar determinadas informações sobre um processo (consulte [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span><span class="sxs-lookup"><span data-stu-id="63cdc-151">Required to retrieve certain information about a process (see [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span></span> <span data-ttu-id="63cdc-152">Um identificador que tem o direito de acesso de **\_ \_ informações de consulta de processo** recebe automaticamente **\_ \_ \_ as informações limitadas de consulta de processo**.**Windows Server 2003 e Windows XP:** não há suporte para esse direito de acesso.</span><span class="sxs-lookup"><span data-stu-id="63cdc-152">A handle that has the **PROCESS\_QUERY\_INFORMATION** access right is automatically granted **PROCESS\_QUERY\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="63cdc-153">**Processo \_ do DEFINIR \_ informações** (0x0200)</span><span class="sxs-lookup"><span data-stu-id="63cdc-153">**PROCESS\_SET\_INFORMATION** (0x0200)</span></span>            | <span data-ttu-id="63cdc-154">Necessário para definir determinadas informações sobre um processo, como sua classe de prioridade (consulte [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span><span class="sxs-lookup"><span data-stu-id="63cdc-154">Required to set certain information about a process, such as its priority class (see [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="63cdc-155">**Processo \_ do DEFINIR \_ cota** (0x0100)</span><span class="sxs-lookup"><span data-stu-id="63cdc-155">**PROCESS\_SET\_QUOTA** (0x0100)</span></span>                  | <span data-ttu-id="63cdc-156">Necessário para definir limites de memória usando [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).</span><span class="sxs-lookup"><span data-stu-id="63cdc-156">Required to set memory limits using [**SetProcessWorkingSetSize**](/windows/desktop/api/WinBase/nf-winbase-setprocessworkingsetsize).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="63cdc-157">**Processo \_ do SUSPENDEr \_ retomar** (0x0800)</span><span class="sxs-lookup"><span data-stu-id="63cdc-157">**PROCESS\_SUSPEND\_RESUME** (0x0800)</span></span>             | <span data-ttu-id="63cdc-158">Necessário para suspender ou retomar um processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-158">Required to suspend or resume a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="63cdc-159">**Processo \_ do TERMINAR** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="63cdc-159">**PROCESS\_TERMINATE** (0x0001)</span></span>                   | <span data-ttu-id="63cdc-160">Necessário para encerrar um processo usando [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).</span><span class="sxs-lookup"><span data-stu-id="63cdc-160">Required to terminate a process using [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="63cdc-161">**Processo \_ do \_Operação de VM** (0x0008)</span><span class="sxs-lookup"><span data-stu-id="63cdc-161">**PROCESS\_VM\_OPERATION** (0x0008)</span></span>               | <span data-ttu-id="63cdc-162">Necessário para executar uma operação no espaço de endereço de um processo (consulte [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span><span class="sxs-lookup"><span data-stu-id="63cdc-162">Required to perform an operation on the address space of a process (see [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) and [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="63cdc-163">**Processo \_ do \_Leitura da VM** (0x0010)</span><span class="sxs-lookup"><span data-stu-id="63cdc-163">**PROCESS\_VM\_READ** (0x0010)</span></span>                    | <span data-ttu-id="63cdc-164">Necessário para ler a memória em um processo usando [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span><span class="sxs-lookup"><span data-stu-id="63cdc-164">Required to read memory in a process using [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="63cdc-165">**Processo \_ do \_Gravação de VM** (0x0020)</span><span class="sxs-lookup"><span data-stu-id="63cdc-165">**PROCESS\_VM\_WRITE** (0x0020)</span></span>                   | <span data-ttu-id="63cdc-166">Necessário para gravar na memória em um processo usando [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).</span><span class="sxs-lookup"><span data-stu-id="63cdc-166">Required to write to memory in a process using [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="63cdc-167">**Sincronizar** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="63cdc-167">**SYNCHRONIZE** (0x00100000L)</span></span>                     | <span data-ttu-id="63cdc-168">Necessário aguardar até que o processo seja encerrado usando as [funções de espera](../sync/wait-functions.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-168">Required to wait for the process to terminate using the [wait functions](../sync/wait-functions.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

<span data-ttu-id="63cdc-169">Para abrir um identificador para outro processo e obter direitos de acesso completo, você deve habilitar o privilégio **SeDebugPrivilege** .</span><span class="sxs-lookup"><span data-stu-id="63cdc-169">To open a handle to another process and obtain full access rights, you must enable the **SeDebugPrivilege** privilege.</span></span> <span data-ttu-id="63cdc-170">Para obter mais informações, consulte [alterando privilégios em um token](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-170">For more information, see [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>

<span data-ttu-id="63cdc-171">O identificador retornado pela função [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) tem o **processo \_ todo \_** acesso de acesso ao objeto de processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-171">The handle returned by the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) function has **PROCESS\_ALL\_ACCESS** access to the process object.</span></span> <span data-ttu-id="63cdc-172">Quando você chama a função [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) , o sistema verifica os [direitos de acesso](../secauthz/access-rights-and-access-masks.md) solicitados em relação à DACL no descritor de segurança do processo.</span><span class="sxs-lookup"><span data-stu-id="63cdc-172">When you call the [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) function, the system checks the requested [access rights](../secauthz/access-rights-and-access-masks.md) against the DACL in the process's security descriptor.</span></span> <span data-ttu-id="63cdc-173">Quando você chama a função [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) , o sistema retorna um pseudohandle com o acesso máximo que a DACL permite ao chamador.</span><span class="sxs-lookup"><span data-stu-id="63cdc-173">When you call the [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) function, the system returns a pseudohandle with the maximum access that the DACL allows to the caller.</span></span>

<span data-ttu-id="63cdc-174">Você pode solicitar o direito de acesso de **\_ \_ segurança do sistema de acesso** a um objeto de processo se desejar ler ou gravar a SACL do objeto.</span><span class="sxs-lookup"><span data-stu-id="63cdc-174">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a process object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="63cdc-175">Para obter mais informações, consulte [listas de controle de acesso (ACLs)](../secauthz/access-control-lists.md) e [direito de acesso SACL](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="63cdc-175">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

> [!WARNING]
> <span data-ttu-id="63cdc-176">Um processo que tem alguns dos direitos de acesso indicados aqui pode usá-los para obter outros direitos de acesso.</span><span class="sxs-lookup"><span data-stu-id="63cdc-176">A process that has some of the access rights noted here can use them to gain other access rights.</span></span> <span data-ttu-id="63cdc-177">Por exemplo, se o processo A tiver um identificador para o processo B com acesso de **\_ \_ identificador Dup de processo** , ele poderá duplicar o pseudodispositivo para o processo B. Isso cria um identificador que tem acesso máximo ao processo B. Para obter mais informações sobre pseudo-identificadores, consulte [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span><span class="sxs-lookup"><span data-stu-id="63cdc-177">For example, if process A has a handle to process B with **PROCESS\_DUP\_HANDLE** access, it can duplicate the pseudo handle for process B. This creates a handle that has maximum access to process B. For more information on pseudo handles, see [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span></span>

 

## <a name="protected-processes"></a><span data-ttu-id="63cdc-178">Processos protegidos</span><span class="sxs-lookup"><span data-stu-id="63cdc-178">Protected Processes</span></span>

<span data-ttu-id="63cdc-179">O Windows Vista apresenta *processos protegidos* para aprimorar o suporte ao Rights Management digital.</span><span class="sxs-lookup"><span data-stu-id="63cdc-179">Windows Vista introduces *protected processes* to enhance support for Digital Rights Management.</span></span> <span data-ttu-id="63cdc-180">O sistema restringe o acesso a processos protegidos e a threads de processos protegidos.</span><span class="sxs-lookup"><span data-stu-id="63cdc-180">The system restricts access to protected processes and the threads of protected processes.</span></span>

<span data-ttu-id="63cdc-181">Os direitos de acesso padrão a seguir não são permitidos de um processo para um processo protegido:</span><span class="sxs-lookup"><span data-stu-id="63cdc-181">The following standard access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="63cdc-182">**DELETE**</span><span class="sxs-lookup"><span data-stu-id="63cdc-182">**DELETE**</span></span>  
- <span data-ttu-id="63cdc-183">**controle de leitura \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-183">**READ\_CONTROL**</span></span>  
- <span data-ttu-id="63cdc-184">**GRAVAR \_ DAC**</span><span class="sxs-lookup"><span data-stu-id="63cdc-184">**WRITE\_DAC**</span></span>  
- <span data-ttu-id="63cdc-185">**proprietário da gravação \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-185">**WRITE\_OWNER**</span></span>  

<span data-ttu-id="63cdc-186">Os direitos de acesso específicos a seguir não são permitidos de um processo para um processo protegido:</span><span class="sxs-lookup"><span data-stu-id="63cdc-186">The following specific access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="63cdc-187">**PROCESSAR \_ todo o \_ acesso**</span><span class="sxs-lookup"><span data-stu-id="63cdc-187">**PROCESS\_ALL\_ACCESS**</span></span>  
- <span data-ttu-id="63cdc-188">**processo de criação de processos \_ \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-188">**PROCESS\_CREATE\_PROCESS**</span></span>  
- <span data-ttu-id="63cdc-189">**PROCESSAR \_ criação de \_ thread**</span><span class="sxs-lookup"><span data-stu-id="63cdc-189">**PROCESS\_CREATE\_THREAD**</span></span>  
- <span data-ttu-id="63cdc-190">**\_identificador de Dup de processo \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-190">**PROCESS\_DUP\_HANDLE**</span></span>  
- <span data-ttu-id="63cdc-191">**PROCESSAR \_ informações de consulta \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-191">**PROCESS\_QUERY\_INFORMATION**</span></span>  
- <span data-ttu-id="63cdc-192">**\_informações do conjunto de processos \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-192">**PROCESS\_SET\_INFORMATION**</span></span>  
- <span data-ttu-id="63cdc-193">**\_cota do conjunto de processos \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-193">**PROCESS\_SET\_QUOTA**</span></span>  
- <span data-ttu-id="63cdc-194">**PROCESSAR \_ operação de VM \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-194">**PROCESS\_VM\_OPERATION**</span></span>  
- <span data-ttu-id="63cdc-195">**PROCESSAR \_ VM \_ lida**</span><span class="sxs-lookup"><span data-stu-id="63cdc-195">**PROCESS\_VM\_READ**</span></span>  
- <span data-ttu-id="63cdc-196">**PROCESSAR \_ gravação de VM \_**</span><span class="sxs-lookup"><span data-stu-id="63cdc-196">**PROCESS\_VM\_WRITE**</span></span>  

<span data-ttu-id="63cdc-197">O direito de **consulta de processo \_ limitado de \_ \_ informações** foi introduzido para fornecer acesso a um subconjunto das informações disponíveis por meio de **\_ \_ informações de consulta de processo**.</span><span class="sxs-lookup"><span data-stu-id="63cdc-197">The **PROCESS\_QUERY\_LIMITED\_INFORMATION** right was introduced to provide access to a subset of the information available through **PROCESS\_QUERY\_INFORMATION**.</span></span>
