---
description: O modelo de segurança do Microsoft Windows permite controlar o acesso a objetos de processo. Para obter mais informações sobre segurança, consulte Access-Control Modelo.
ms.assetid: 508a17c4-88cd-431a-a102-00180a7f7ab5
title: Processar direitos de acesso e segurança
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 93a5fb29599c5a769b9a7b63d653d24ec543e408
ms.sourcegitcommit: b01ad017c152c6756f3638623fe335877644d414
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 06/06/2021
ms.locfileid: "111549968"
---
# <a name="process-security-and-access-rights"></a><span data-ttu-id="cf452-104">Processar direitos de acesso e segurança</span><span class="sxs-lookup"><span data-stu-id="cf452-104">Process Security and Access Rights</span></span>

<span data-ttu-id="cf452-105">O modelo de segurança do Microsoft Windows permite controlar o acesso a objetos de processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-105">The Microsoft Windows security model enables you to control access to process objects.</span></span> <span data-ttu-id="cf452-106">Para obter mais informações sobre segurança, consulte [Access-Control Model](../secauthz/access-control-model.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-106">For more information about security, see [Access-Control Model](../secauthz/access-control-model.md).</span></span>

<span data-ttu-id="cf452-107">Quando um usuário faz login, o sistema coleta um conjunto de dados que identifica exclusivamente o usuário durante o processo de autenticação e o armazena em um [token de acesso](../secauthz/access-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-107">When a user logs in, the system collects a set of data that uniquely identifies the user during the authentication process, and stores it in an [access token](../secauthz/access-tokens.md).</span></span> <span data-ttu-id="cf452-108">Esse token de acesso descreve o contexto de segurança de todos os processos associados ao usuário.</span><span class="sxs-lookup"><span data-stu-id="cf452-108">This access token describes the security context of all processes associated with the user.</span></span> <span data-ttu-id="cf452-109">O contexto de segurança de um processo é o conjunto de credenciais fornecidas ao processo ou à conta de usuário que criou o processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-109">The security context of a process is the set of credentials given to the process or the user account that created the process.</span></span>

<span data-ttu-id="cf452-110">Você pode usar um token para especificar o contexto de segurança atual para um processo usando a [**função CreateProcessWithTokenW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw)</span><span class="sxs-lookup"><span data-stu-id="cf452-110">You can use a token to specify the current security context for a process using the [**CreateProcessWithTokenW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithtokenw) function.</span></span> <span data-ttu-id="cf452-111">Você pode especificar um [descritor de](../secauthz/security-descriptors.md) segurança para um processo ao chamar a função [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera)ou [**CreateProcessWithLogonW.**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw)</span><span class="sxs-lookup"><span data-stu-id="cf452-111">You can specify a [security descriptor](../secauthz/security-descriptors.md) for a process when you call the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa), [**CreateProcessAsUser**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessasusera), or [**CreateProcessWithLogonW**](/windows/desktop/api/WinBase/nf-winbase-createprocesswithlogonw) function.</span></span> <span data-ttu-id="cf452-112">Se você especificar **NULL,** o processo obtém um descritor de segurança padrão.</span><span class="sxs-lookup"><span data-stu-id="cf452-112">If you specify **NULL**, the process gets a default security descriptor.</span></span> <span data-ttu-id="cf452-113">As ACLs no descritor de segurança padrão para um processo vêm do token primário ou de representação do criador.</span><span class="sxs-lookup"><span data-stu-id="cf452-113">The ACLs in the default security descriptor for a process come from the primary or impersonation token of the creator.</span></span>

<span data-ttu-id="cf452-114">Para recuperar o descritor de segurança de um processo, chame a [**função GetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo)</span><span class="sxs-lookup"><span data-stu-id="cf452-114">To retrieve a process's security descriptor, call the [**GetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-getsecurityinfo) function.</span></span> <span data-ttu-id="cf452-115">Para alterar o descritor de segurança de um processo, chame a [**função SetSecurityInfo.**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo)</span><span class="sxs-lookup"><span data-stu-id="cf452-115">To change a process's security descriptor, call the [**SetSecurityInfo**](/windows/win32/api/aclapi/nf-aclapi-setsecurityinfo) function.</span></span>

<span data-ttu-id="cf452-116">Os direitos de acesso válidos para objetos de processo incluem [os direitos de acesso padrão](../secauthz/standard-access-rights.md) e alguns direitos de acesso específicos do processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-116">The valid access rights for process objects include the [standard access rights](../secauthz/standard-access-rights.md) and some process-specific access rights.</span></span> <span data-ttu-id="cf452-117">A tabela a seguir lista os direitos de acesso padrão usados por todos os objetos.</span><span class="sxs-lookup"><span data-stu-id="cf452-117">The following table lists the standard access rights used by all objects.</span></span>

| <span data-ttu-id="cf452-118">Valor</span><span class="sxs-lookup"><span data-stu-id="cf452-118">Value</span></span>                           | <span data-ttu-id="cf452-119">Significado</span><span class="sxs-lookup"><span data-stu-id="cf452-119">Meaning</span></span>                                                                                                                                                                                                                                                                                  |
|---------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cf452-120">**DELETE** (0x00010000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-120">**DELETE** (0x00010000L)</span></span>        | <span data-ttu-id="cf452-121">Necessário para excluir o objeto .</span><span class="sxs-lookup"><span data-stu-id="cf452-121">Required to delete the object.</span></span>                                                                                                                                                                                                                                                           |
| <span data-ttu-id="cf452-122">**LEITURA \_ CONTROL** (0x00020000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-122">**READ\_CONTROL** (0x00020000L)</span></span> | <span data-ttu-id="cf452-123">Necessário para ler informações no descritor de segurança do objeto, não incluindo as informações na SACL.</span><span class="sxs-lookup"><span data-stu-id="cf452-123">Required to read information in the security descriptor for the object, not including the information in the SACL.</span></span> <span data-ttu-id="cf452-124">Para ler ou gravar a SACL, você deve solicitar o **direito de acesso ACCESS SYSTEM \_ \_ SECURITY.**</span><span class="sxs-lookup"><span data-stu-id="cf452-124">To read or write the SACL, you must request the **ACCESS\_SYSTEM\_SECURITY** access right.</span></span> <span data-ttu-id="cf452-125">Para obter mais informações, consulte [SACL Access Right](../secauthz/sacl-access-right.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-125">For more information, see [SACL Access Right](../secauthz/sacl-access-right.md).</span></span> |
| <span data-ttu-id="cf452-126">**SYNCHRONIZE** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-126">**SYNCHRONIZE** (0x00100000L)</span></span>   | <span data-ttu-id="cf452-127">O direito de usar o objeto para sincronização.</span><span class="sxs-lookup"><span data-stu-id="cf452-127">The right to use the object for synchronization.</span></span> <span data-ttu-id="cf452-128">Isso permite que um thread aguarde até que o objeto está no estado sinalizado.</span><span class="sxs-lookup"><span data-stu-id="cf452-128">This enables a thread to wait until the object is in the signaled state.</span></span>                                                                                                                                                                |
| <span data-ttu-id="cf452-129">**GRAVAÇÃO \_ DAC** (0x00040000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-129">**WRITE\_DAC** (0x00040000L)</span></span>    | <span data-ttu-id="cf452-130">Necessário para modificar a DACL no descritor de segurança para o objeto .</span><span class="sxs-lookup"><span data-stu-id="cf452-130">Required to modify the DACL in the security descriptor for the object.</span></span>                                                                                                                                                                                                                   |
| <span data-ttu-id="cf452-131">**GRAVAÇÃO \_ OWNER** (0x00080000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-131">**WRITE\_OWNER** (0x00080000L)</span></span>  | <span data-ttu-id="cf452-132">Necessário para alterar o proprietário no descritor de segurança para o objeto .</span><span class="sxs-lookup"><span data-stu-id="cf452-132">Required to change the owner in the security descriptor for the object.</span></span>                                                                                                                                                                                                                  |



 

<span data-ttu-id="cf452-133">A tabela a seguir lista os direitos de acesso específicos do processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-133">The following table lists the process-specific access rights.</span></span>



| <span data-ttu-id="cf452-134">Valor</span><span class="sxs-lookup"><span data-stu-id="cf452-134">Value</span></span>                                             | <span data-ttu-id="cf452-135">Significado</span><span class="sxs-lookup"><span data-stu-id="cf452-135">Meaning</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
|---------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| <span data-ttu-id="cf452-136">**PROCESSAR \_ TODO O \_ ACESSO**</span><span class="sxs-lookup"><span data-stu-id="cf452-136">**PROCESS\_ALL\_ACCESS**</span></span>                          | <span data-ttu-id="cf452-137">Todos os direitos de acesso possíveis para um objeto de processo. **Windows Server 2003 e Windows XP:** O tamanho do sinalizador **PROCESS \_ ALL \_ ACCESS** aumentou no Windows Server 2008 e no Windows Vista.</span><span class="sxs-lookup"><span data-stu-id="cf452-137">All possible access rights for a process object.**Windows Server 2003 and Windows XP:** The size of the **PROCESS\_ALL\_ACCESS** flag increased on Windows Server 2008 and Windows Vista.</span></span> <span data-ttu-id="cf452-138">Se um aplicativo compilado para Windows Server 2008 e Windows Vista for executado no Windows Server 2003 ou Windows XP, o sinalizador **PROCESS \_ ALL \_ ACCESS** será muito grande e a função que especifica esse sinalizador falhará com ACESSO DE ERRO **\_ \_ NEGADO.**</span><span class="sxs-lookup"><span data-stu-id="cf452-138">If an application compiled for Windows Server 2008 and Windows Vista is run on Windows Server 2003 or Windows XP, the **PROCESS\_ALL\_ACCESS** flag is too large and the function specifying this flag fails with **ERROR\_ACCESS\_DENIED**.</span></span> <span data-ttu-id="cf452-139">Para evitar esse problema, especifique o conjunto mínimo de direitos de acesso necessários para a operação.</span><span class="sxs-lookup"><span data-stu-id="cf452-139">To avoid this problem, specify the minimum set of access rights required for the operation.</span></span> <span data-ttu-id="cf452-140">Se **PROCESS ALL ACCESS \_ \_ deve** ser usado, deverão ser definidos WIN32 WINNT como o sistema operacional mínimo direcionado pelo seu \_ aplicativo \_ (por exemplo, `#define _WIN32_WINNT _WIN32_WINNT_WINXP` ).</span><span class="sxs-lookup"><span data-stu-id="cf452-140">If **PROCESS\_ALL\_ACCESS** must be used, set \_WIN32\_WINNT to the minimum operating system targeted by your application (for example, `#define _WIN32_WINNT _WIN32_WINNT_WINXP`).</span></span> <span data-ttu-id="cf452-141">Para obter mais informações, [consulte Usando os headers do Windows](../winprog/using-the-windows-headers.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-141">For more information, see [Using the Windows Headers](../winprog/using-the-windows-headers.md).</span></span> <br/> |
| <span data-ttu-id="cf452-142">**PROCESSO \_ CREATE \_ PROCESS** (0x0080)</span><span class="sxs-lookup"><span data-stu-id="cf452-142">**PROCESS\_CREATE\_PROCESS** (0x0080)</span></span>             | <span data-ttu-id="cf452-143">Necessário para criar um processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-143">Required to create a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cf452-144">**PROCESSO \_ CREATE \_ THREAD** (0x0002)</span><span class="sxs-lookup"><span data-stu-id="cf452-144">**PROCESS\_CREATE\_THREAD** (0x0002)</span></span>              | <span data-ttu-id="cf452-145">Necessário para criar um thread.</span><span class="sxs-lookup"><span data-stu-id="cf452-145">Required to create a thread.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| <span data-ttu-id="cf452-146">**PROCESSO \_ DUP \_ HANDLE** (0x0040)</span><span class="sxs-lookup"><span data-stu-id="cf452-146">**PROCESS\_DUP\_HANDLE** (0x0040)</span></span>                 | <span data-ttu-id="cf452-147">Necessário para duplicar um handle usando [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span><span class="sxs-lookup"><span data-stu-id="cf452-147">Required to duplicate a handle using [**DuplicateHandle**](/windows/win32/api/handleapi/nf-handleapi-duplicatehandle).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cf452-148">**PROCESSO \_ INFORMAÇÕES DE \_ CONSULTA** (0x0400)</span><span class="sxs-lookup"><span data-stu-id="cf452-148">**PROCESS\_QUERY\_INFORMATION** (0x0400)</span></span>          | <span data-ttu-id="cf452-149">Necessário para recuperar determinadas informações sobre um processo, como seu token, código de saída e classe de prioridade (consulte [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span><span class="sxs-lookup"><span data-stu-id="cf452-149">Required to retrieve certain information about a process, such as its token, exit code, and priority class (see [**OpenProcessToken**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocesstoken)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cf452-150">**PROCESSO \_ CONSULTAR INFORMAÇÕES \_ \_ LIMITADAS** (0X1000)</span><span class="sxs-lookup"><span data-stu-id="cf452-150">**PROCESS\_QUERY\_LIMITED\_INFORMATION** (0x1000)</span></span> | <span data-ttu-id="cf452-151">Necessário para recuperar determinadas informações sobre um processo (consulte [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span><span class="sxs-lookup"><span data-stu-id="cf452-151">Required to retrieve certain information about a process (see [**GetExitCodeProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getexitcodeprocess), [**GetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getpriorityclass), [**IsProcessInJob**](/windows/win32/api/jobapi/nf-jobapi-isprocessinjob), [**QueryFullProcessImageName**](/windows/desktop/api/WinBase/nf-winbase-queryfullprocessimagenamea)).</span></span> <span data-ttu-id="cf452-152">Um handle que tem o direito **de acesso PROCESS \_ QUERY \_ INFORMATION** é **automaticamente concedido PROCESS \_ QUERY LIMITED \_ \_ INFORMATION**.**Windows Server 2003 e Windows XP:** não há suporte para esse direito de acesso.</span><span class="sxs-lookup"><span data-stu-id="cf452-152">A handle that has the **PROCESS\_QUERY\_INFORMATION** access right is automatically granted **PROCESS\_QUERY\_LIMITED\_INFORMATION**.**Windows Server 2003 and Windows XP:** This access right is not supported.</span></span><br/>                                                                                                                                                                                                                                                                                                                         |
| <span data-ttu-id="cf452-153">**PROCESSO \_ SET \_ INFORMATION** (0x0200)</span><span class="sxs-lookup"><span data-stu-id="cf452-153">**PROCESS\_SET\_INFORMATION** (0x0200)</span></span>            | <span data-ttu-id="cf452-154">Necessário para definir determinadas informações sobre um processo, como sua classe de prioridade (consulte [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span><span class="sxs-lookup"><span data-stu-id="cf452-154">Required to set certain information about a process, such as its priority class (see [**SetPriorityClass**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-setpriorityclass)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cf452-155">**PROCESSO \_ SET \_ QUOTA** (0x0100)</span><span class="sxs-lookup"><span data-stu-id="cf452-155">**PROCESS\_SET\_QUOTA** (0x0100)</span></span>                  | <span data-ttu-id="cf452-156">Necessário para definir limites de memória usando [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize).</span><span class="sxs-lookup"><span data-stu-id="cf452-156">Required to set memory limits using [**SetProcessWorkingSetSize**](/windows/desktop/api/memoryapi/nf-memoryapi-setprocessworkingsetsize).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cf452-157">**PROCESSO \_ SUSPEND \_ RESUME** (0x0800)</span><span class="sxs-lookup"><span data-stu-id="cf452-157">**PROCESS\_SUSPEND\_RESUME** (0x0800)</span></span>             | <span data-ttu-id="cf452-158">Necessário para suspender ou retomar um processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-158">Required to suspend or resume a process.</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| <span data-ttu-id="cf452-159">**PROCESSO \_ TERMINATE** (0x0001)</span><span class="sxs-lookup"><span data-stu-id="cf452-159">**PROCESS\_TERMINATE** (0x0001)</span></span>                   | <span data-ttu-id="cf452-160">Necessário para encerrar um processo usando [**TerminateProcess.**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess)</span><span class="sxs-lookup"><span data-stu-id="cf452-160">Required to terminate a process using [**TerminateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-terminateprocess).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="cf452-161">**PROCESSO \_ OPERAÇÃO \_ DA VM** (0x0008)</span><span class="sxs-lookup"><span data-stu-id="cf452-161">**PROCESS\_VM\_OPERATION** (0x0008)</span></span>               | <span data-ttu-id="cf452-162">Necessário para executar uma operação no espaço de endereço de um processo (consulte [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) e [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span><span class="sxs-lookup"><span data-stu-id="cf452-162">Required to perform an operation on the address space of a process (see [**VirtualProtectEx**](/windows/win32/api/memoryapi/nf-memoryapi-virtualprotectex) and [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| <span data-ttu-id="cf452-163">**PROCESSO \_ VM \_ READ** (0x0010)</span><span class="sxs-lookup"><span data-stu-id="cf452-163">**PROCESS\_VM\_READ** (0x0010)</span></span>                    | <span data-ttu-id="cf452-164">Necessário para ler a memória em um processo usando [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span><span class="sxs-lookup"><span data-stu-id="cf452-164">Required to read memory in a process using [**ReadProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-readprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| <span data-ttu-id="cf452-165">**PROCESSO \_ Gravação \_ de VM** (0x0020)</span><span class="sxs-lookup"><span data-stu-id="cf452-165">**PROCESS\_VM\_WRITE** (0x0020)</span></span>                   | <span data-ttu-id="cf452-166">Necessário para gravar na memória em um processo usando [**WriteProcessMemory.**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory)</span><span class="sxs-lookup"><span data-stu-id="cf452-166">Required to write to memory in a process using [**WriteProcessMemory**](/windows/win32/api/memoryapi/nf-memoryapi-writeprocessmemory).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="cf452-167">**SYNCHRONIZE** (0x00100000L)</span><span class="sxs-lookup"><span data-stu-id="cf452-167">**SYNCHRONIZE** (0x00100000L)</span></span>                     | <span data-ttu-id="cf452-168">É necessário aguardar até que o processo seja encerrado usando as [funções de espera](../sync/wait-functions.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-168">Required to wait for the process to terminate using the [wait functions](../sync/wait-functions.md).</span></span>                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |



 

<span data-ttu-id="cf452-169">Para abrir um handle para outro processo e obter direitos de acesso completo, você deve habilitar o privilégio **SeDebugPrivilege.**</span><span class="sxs-lookup"><span data-stu-id="cf452-169">To open a handle to another process and obtain full access rights, you must enable the **SeDebugPrivilege** privilege.</span></span> <span data-ttu-id="cf452-170">Para obter mais informações, consulte [Alterando privilégios em um token](../secbp/changing-privileges-in-a-token.md).</span><span class="sxs-lookup"><span data-stu-id="cf452-170">For more information, see [Changing Privileges in a Token](../secbp/changing-privileges-in-a-token.md).</span></span>

<span data-ttu-id="cf452-171">O identificador retornado pela [**função CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) tem **acesso PROCESS ALL \_ \_ ACCESS** ao objeto de processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-171">The handle returned by the [**CreateProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-createprocessa) function has **PROCESS\_ALL\_ACCESS** access to the process object.</span></span> <span data-ttu-id="cf452-172">Quando você chama a [**função OpenProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) [](../secauthz/access-rights-and-access-masks.md) o sistema verifica os direitos de acesso solicitados em relação à DACL no descritor de segurança do processo.</span><span class="sxs-lookup"><span data-stu-id="cf452-172">When you call the [**OpenProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-openprocess) function, the system checks the requested [access rights](../secauthz/access-rights-and-access-masks.md) against the DACL in the process's security descriptor.</span></span> <span data-ttu-id="cf452-173">Quando você chama a [**função GetCurrentProcess,**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) o sistema retorna um pseudohandle com o acesso máximo que a DACL permite ao chamador.</span><span class="sxs-lookup"><span data-stu-id="cf452-173">When you call the [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess) function, the system returns a pseudohandle with the maximum access that the DACL allows to the caller.</span></span>

<span data-ttu-id="cf452-174">Você pode solicitar o direito de acesso **ACCESS \_ SYSTEM \_ SECURITY** a um objeto de processo se quiser ler ou gravar a SACL do objeto.</span><span class="sxs-lookup"><span data-stu-id="cf452-174">You can request the **ACCESS\_SYSTEM\_SECURITY** access right to a process object if you want to read or write the object's SACL.</span></span> <span data-ttu-id="cf452-175">Para obter mais informações, consulte [ACLs (Listas de Controle](../secauthz/access-control-lists.md) de Acesso) e [Direito de Acesso SACL.](../secauthz/sacl-access-right.md)</span><span class="sxs-lookup"><span data-stu-id="cf452-175">For more information, see [Access-Control Lists (ACLs)](../secauthz/access-control-lists.md) and [SACL Access Right](../secauthz/sacl-access-right.md).</span></span>

> [!WARNING]
> <span data-ttu-id="cf452-176">Um processo que tem alguns dos direitos de acesso aqui pode usá-los para obter outros direitos de acesso.</span><span class="sxs-lookup"><span data-stu-id="cf452-176">A process that has some of the access rights noted here can use them to gain other access rights.</span></span> <span data-ttu-id="cf452-177">Por exemplo, se o processo A tiver um handle para processar B com o acesso **PROCESS \_ DUP \_ HANDLE,** ele poderá duplicar o pseudocódigo para o processo B. Isso cria um alça que tem acesso máximo ao processo B. Para obter mais informações sobre pseudocódigos, [**consulte GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span><span class="sxs-lookup"><span data-stu-id="cf452-177">For example, if process A has a handle to process B with **PROCESS\_DUP\_HANDLE** access, it can duplicate the pseudo handle for process B. This creates a handle that has maximum access to process B. For more information on pseudo handles, see [**GetCurrentProcess**](/windows/win32/api/processthreadsapi/nf-processthreadsapi-getcurrentprocess).</span></span>

 

## <a name="protected-processes"></a><span data-ttu-id="cf452-178">Processos protegidos</span><span class="sxs-lookup"><span data-stu-id="cf452-178">Protected Processes</span></span>

<span data-ttu-id="cf452-179">O Windows Vista apresenta *processos protegidos para* aprimorar o suporte ao Digital Rights Management.</span><span class="sxs-lookup"><span data-stu-id="cf452-179">Windows Vista introduces *protected processes* to enhance support for Digital Rights Management.</span></span> <span data-ttu-id="cf452-180">O sistema restringe o acesso a processos protegidos e aos threads de processos protegidos.</span><span class="sxs-lookup"><span data-stu-id="cf452-180">The system restricts access to protected processes and the threads of protected processes.</span></span>

<span data-ttu-id="cf452-181">Os seguintes direitos de acesso padrão não são permitidos de um processo para um processo protegido:</span><span class="sxs-lookup"><span data-stu-id="cf452-181">The following standard access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="cf452-182">**DELETE**</span><span class="sxs-lookup"><span data-stu-id="cf452-182">**DELETE**</span></span>  
- <span data-ttu-id="cf452-183">**CONTROLE \_ DE LEITURA**</span><span class="sxs-lookup"><span data-stu-id="cf452-183">**READ\_CONTROL**</span></span>  
- <span data-ttu-id="cf452-184">**ESCREVER \_ DAC**</span><span class="sxs-lookup"><span data-stu-id="cf452-184">**WRITE\_DAC**</span></span>  
- <span data-ttu-id="cf452-185">**PROPRIETÁRIO \_ DA GRAVAÇÃO**</span><span class="sxs-lookup"><span data-stu-id="cf452-185">**WRITE\_OWNER**</span></span>  

<span data-ttu-id="cf452-186">Os seguintes direitos de acesso específicos não são permitidos de um processo para um processo protegido:</span><span class="sxs-lookup"><span data-stu-id="cf452-186">The following specific access rights are not allowed from a process to a protected process:</span></span>

- <span data-ttu-id="cf452-187">**PROCESSAR \_ TODO O \_ ACESSO**</span><span class="sxs-lookup"><span data-stu-id="cf452-187">**PROCESS\_ALL\_ACCESS**</span></span>  
- <span data-ttu-id="cf452-188">**PROCESSO \_ DE CRIAÇÃO DE \_ PROCESSO**</span><span class="sxs-lookup"><span data-stu-id="cf452-188">**PROCESS\_CREATE\_PROCESS**</span></span>  
- <span data-ttu-id="cf452-189">**PROCESSAR \_ CREATE \_ THREAD**</span><span class="sxs-lookup"><span data-stu-id="cf452-189">**PROCESS\_CREATE\_THREAD**</span></span>  
- <span data-ttu-id="cf452-190">**PROCESS \_ DUP \_ HANDLE**</span><span class="sxs-lookup"><span data-stu-id="cf452-190">**PROCESS\_DUP\_HANDLE**</span></span>  
- <span data-ttu-id="cf452-191">**PROCESSAR \_ INFORMAÇÕES DE \_ CONSULTA**</span><span class="sxs-lookup"><span data-stu-id="cf452-191">**PROCESS\_QUERY\_INFORMATION**</span></span>  
- <span data-ttu-id="cf452-192">**INFORMAÇÕES DO \_ CONJUNTO DE \_ PROCESSOS**</span><span class="sxs-lookup"><span data-stu-id="cf452-192">**PROCESS\_SET\_INFORMATION**</span></span>  
- <span data-ttu-id="cf452-193">**COTA DO \_ CONJUNTO DE \_ PROCESSOS**</span><span class="sxs-lookup"><span data-stu-id="cf452-193">**PROCESS\_SET\_QUOTA**</span></span>  
- <span data-ttu-id="cf452-194">**PROCESSAR \_ OPERAÇÃO DE VM \_**</span><span class="sxs-lookup"><span data-stu-id="cf452-194">**PROCESS\_VM\_OPERATION**</span></span>  
- <span data-ttu-id="cf452-195">**PROCESSAR \_ LEITURA DA VM \_**</span><span class="sxs-lookup"><span data-stu-id="cf452-195">**PROCESS\_VM\_READ**</span></span>  
- <span data-ttu-id="cf452-196">**PROCESSAR \_ GRAVAÇÃO DE VM \_**</span><span class="sxs-lookup"><span data-stu-id="cf452-196">**PROCESS\_VM\_WRITE**</span></span>  

<span data-ttu-id="cf452-197">O **direito PROCESS \_ QUERY LIMITED \_ \_ INFORMATION** foi introduzido para fornecer acesso a um subconjunto das informações disponíveis por meio **de PROCESS \_ QUERY \_ INFORMATION**.</span><span class="sxs-lookup"><span data-stu-id="cf452-197">The **PROCESS\_QUERY\_LIMITED\_INFORMATION** right was introduced to provide access to a subset of the information available through **PROCESS\_QUERY\_INFORMATION**.</span></span>
