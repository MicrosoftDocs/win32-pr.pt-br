---
description: Os conjuntos de CPU fornecem APIs para declarar a afinidade de aplicativo de maneira "suave" que é compatível com o gerenciamento de energia do sistema operacional.
ms.assetid: FF8BE790-19D9-473F-B184-C54FB392D61A
title: Conjuntos de CPU
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: 801474591751f04a5bffe570d6b8caff4974203f
ms.sourcegitcommit: 831e8f3db78ab820e1710cede244553c70e50500
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 01/07/2021
ms.locfileid: "105754307"
---
# <a name="cpu-sets"></a><span data-ttu-id="be52c-103">Conjuntos de CPU</span><span class="sxs-lookup"><span data-stu-id="be52c-103">CPU Sets</span></span>

<span data-ttu-id="be52c-104">Os conjuntos de CPU fornecem APIs para declarar a afinidade de aplicativo de maneira "suave" que é compatível com o gerenciamento de energia do sistema operacional.</span><span class="sxs-lookup"><span data-stu-id="be52c-104">CPU Sets provide APIs to declare application affinity in a 'soft' manner that is compatible with OS power management.</span></span> <span data-ttu-id="be52c-105">Além disso, a API fornece aos aplicativos a capacidade de reaffinitize todos os threads em segundo plano no processo para um subconjunto de processadores usando o mecanismo **padrão do processo** para evitar a interferência de threads do sistema operacional dentro do processo.</span><span class="sxs-lookup"><span data-stu-id="be52c-105">Additionally, the API provides applications with the ability to reaffinitize all background threads in the process to a subset of processors using the **Process Default** mechanism to avoid interference from OS threads within the process.</span></span> <span data-ttu-id="be52c-106">Algumas versões do Windows dão suporte a políticas de reserva de núcleo, nas quais um subconjunto dos conjuntos de CPU do sistema pode ser dedicado ao uso exclusivo de aplicativos e cargas de trabalho individuais.</span><span class="sxs-lookup"><span data-stu-id="be52c-106">Some versions of Windows support Core Reservation policies, in which a subset of the system’s CPU Sets can be devoted to the exclusive use of individual applications and workloads.</span></span>

<span data-ttu-id="be52c-107">A API do conjunto de CPU funciona com IDs de conjunto de CPU, que estão associadas a afinidades de processador virtual.</span><span class="sxs-lookup"><span data-stu-id="be52c-107">The CPU Set API works with CPU Set IDs, which are associated with virtual processor affinities.</span></span> <span data-ttu-id="be52c-108">Na maioria dos sistemas, e na maioria das condições, cada ID de conjunto de CPU será mapeada diretamente para um único processador lógico **doméstico** .</span><span class="sxs-lookup"><span data-stu-id="be52c-108">On most systems, and under most conditions, each CPU Set ID will map directly to a single **home** logical processor.</span></span> <span data-ttu-id="be52c-109">Um relacionados de thread para um determinado conjunto de CPU normalmente será executado em um dos processadores em sua lista de IDs de conjunto de CPU selecionadas.</span><span class="sxs-lookup"><span data-stu-id="be52c-109">A thread affinitized to a given CPU Set will typically execute on one of the processors in its list of selected CPU Set IDs.</span></span>

<span data-ttu-id="be52c-110">Os conjuntos de CPU que são reservados podem ser determinados inspecionando o sinalizador **alocado** nas informações do conjunto de CPU do sistema \_ \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="be52c-110">CPU Sets that are reserved can be determined by inspecting the **Allocated** flag in the SYSTEM\_CPU\_SET\_INFORMATION.</span></span> <span data-ttu-id="be52c-111">O sistema controla o acesso a conjuntos de CPU reservados e a atribuição pode ser consultada usando o sinalizador **AllocatedToTargetProcess** da \_ estrutura de informações do conjunto de CPU do sistema \_ \_ .</span><span class="sxs-lookup"><span data-stu-id="be52c-111">The system controls access to reserved CPU Sets and the assignment can be queried using the **AllocatedToTargetProcess** flag of the SYSTEM\_CPU\_SET\_INFORMATION structure.</span></span> <span data-ttu-id="be52c-112">Se um processo tentar usar uma atribuição de conjunto de CPU que é alocada exclusivamente a outros processos, sua solicitação será ignorada e os threads atribuídos a conjuntos de CPU não permitidos serão agendados em outro lugar.</span><span class="sxs-lookup"><span data-stu-id="be52c-112">If a process attempts to use a CPU Set assignment which is allocated exclusively to other processes, its request is ignored and threads assigned to disallowed CPU sets are scheduled elsewhere.</span></span> <span data-ttu-id="be52c-113">Os conjuntos de CPU podem ser atribuídos em dois níveis.</span><span class="sxs-lookup"><span data-stu-id="be52c-113">CPU Sets can be assigned at two levels.</span></span> <span data-ttu-id="be52c-114">Os conjuntos de CPU padrão do processo são atribuídos a todos os threads em um processo que não têm uma atribuição no nível de thread selecionado.</span><span class="sxs-lookup"><span data-stu-id="be52c-114">The Process Default CPU sets are assigned to all threads in a process that do not have an assignment at the Thread Selected level.</span></span> <span data-ttu-id="be52c-115">Se um thread ou processo tiver uma máscara de afinidade restritiva definida, a máscara de afinidade será respeitada acima de qualquer atribuição de conjunto de CPU conflitante.</span><span class="sxs-lookup"><span data-stu-id="be52c-115">If a thread or process has a restrictive affinity mask set, the affinity mask is respected above any conflicting CPU Set assignment.</span></span> <span data-ttu-id="be52c-116">Em sistemas de vários grupos, as atribuições de CPU são ignoradas se estiverem em grupos que não correspondem ao grupo na máscara de afinidade do thread.</span><span class="sxs-lookup"><span data-stu-id="be52c-116">On multi-group systems, CPU assignments are ignored if they are in groups that do not match the group in the thread’s affinity mask.</span></span> <span data-ttu-id="be52c-117">Se um thread for atribuído a vários conjuntos de CPU válidos, ele será executado em um dos processadores correspondentes de acordo com suas prioridades e as prioridades dos threads concorrentes nesses processadores.</span><span class="sxs-lookup"><span data-stu-id="be52c-117">If a thread is assigned to multiple valid CPU Sets, it will run on one of the corresponding processors according to its priorities and the priorities of competing threads on those processors.</span></span>

<span data-ttu-id="be52c-118">**Funções/enumerações/estruturas de conjunto de CPU**</span><span class="sxs-lookup"><span data-stu-id="be52c-118">**CPU Set Functions/Enumerations/Structures**</span></span>

-   <span data-ttu-id="be52c-119">Função [**GetProcessDefaultCpuSets**](getprocessdefaultcpusets.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-119">[**GetProcessDefaultCpuSets**](getprocessdefaultcpusets.md) function</span></span>
-   <span data-ttu-id="be52c-120">Função [**GetSystemCpuSetInformation**](getsystemcpusetinformation.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-120">[**GetSystemCpuSetInformation**](getsystemcpusetinformation.md) function</span></span>
-   <span data-ttu-id="be52c-121">Função [**GetThreadSelectedCpuSets**](getthreadselectedcpusets.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-121">[**GetThreadSelectedCpuSets**](getthreadselectedcpusets.md) function</span></span>
-   <span data-ttu-id="be52c-122">Função [**SetProcessDefaultCpuSets**](setprocessdefaultcpusets.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-122">[**SetProcessDefaultCpuSets**](setprocessdefaultcpusets.md) function</span></span>
-   <span data-ttu-id="be52c-123">Função [**SetThreadSelectedCpuSets**](setthreadselectedcpusets.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-123">[**SetThreadSelectedCpuSets**](setthreadselectedcpusets.md) function</span></span>
-   <span data-ttu-id="be52c-124">[**CPU \_ DEFINIR enumeração de \_ \_ tipo de informação**](cpu-set-information-type.md)</span><span class="sxs-lookup"><span data-stu-id="be52c-124">[**CPU\_SET\_INFORMATION\_TYPE**](cpu-set-information-type.md) enumeration</span></span>
-   <span data-ttu-id="be52c-125">[**Sistema \_ Estrutura \_ de \_ informações de conjunto de CPU**](/windows/desktop/api/winnt/ns-winnt-system_cpu_set_information)</span><span class="sxs-lookup"><span data-stu-id="be52c-125">[**SYSTEM\_CPU\_SET\_INFORMATION**](/windows/desktop/api/winnt/ns-winnt-system_cpu_set_information) structure</span></span>

 

 



