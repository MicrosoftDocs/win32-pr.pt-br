---
title: Usando precisão mínima de HLSL
description: A partir do Windows 8, os drivers gráficos podem implementar os tipos de dados escalares HLSL mínimos de precisão usando qualquer precisão maior ou igual à precisão de bit especificada.
ms.assetid: 422B0C45-5CEB-4235-AD05-62D36C36CFC6
ms.topic: article
ms.date: 05/31/2018
ms.openlocfilehash: de7f66f35aef3e870edb4e8564a280be89ce34be
ms.sourcegitcommit: 592c9bbd22ba69802dc353bcb5eb30699f9e9403
ms.translationtype: MT
ms.contentlocale: pt-BR
ms.lasthandoff: 08/20/2020
ms.locfileid: "103641316"
---
# <a name="using-hlsl-minimum-precision"></a><span data-ttu-id="804d7-103">Usando precisão mínima de HLSL</span><span class="sxs-lookup"><span data-stu-id="804d7-103">Using HLSL minimum precision</span></span>

<span data-ttu-id="804d7-104">A partir do Windows 8, os drivers gráficos podem implementar os [tipos de dados escalares HLSL](dx-graphics-hlsl-scalar.md) mínimos de precisão usando qualquer precisão maior ou igual à precisão de bit especificada.</span><span class="sxs-lookup"><span data-stu-id="804d7-104">Starting with Windows 8, graphics drivers can implement minimum precision [HLSL scalar data types](dx-graphics-hlsl-scalar.md) by using any precision greater than or equal to their specified bit precision.</span></span> <span data-ttu-id="804d7-105">Quando o código do sombreador de precisão mínima do HLSL é usado em hardware que implementa a precisão mínima do HLSL, você usa menos largura de banda de memória e, como resultado, você também usa menos energia do sistema.</span><span class="sxs-lookup"><span data-stu-id="804d7-105">When your HLSL minimum precision shader code is used on hardware that implements HLSL minimum precision, you use less memory bandwidth and as a result you also use less system power.</span></span>

<span data-ttu-id="804d7-106">Você pode consultar o suporte mínimo de precisão que o driver de gráficos fornece chamando [**ID3D11Device:: CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) com o valor de [**\_ \_ \_ \_ \_ suporte mínimo de precisão do recurso do D3D11**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) .</span><span class="sxs-lookup"><span data-stu-id="804d7-106">You can query for the minimum precision support that the graphics driver provides by calling [**ID3D11Device::CheckFeatureSupport**](/windows/desktop/api/d3d11/nf-d3d11-id3d11device-checkfeaturesupport) with the [**D3D11\_FEATURE\_SHADER\_MIN\_PRECISION\_SUPPORT**](/windows/desktop/api/d3d11/ne-d3d11-d3d11_feature) value.</span></span> <span data-ttu-id="804d7-107">Para obter mais informações, consulte [suporte mínimo de precisão do HLSL](/windows/desktop/direct3d11/direct3d-11-1-features).</span><span class="sxs-lookup"><span data-stu-id="804d7-107">For more info, see [HLSL minimum precision support](/windows/desktop/direct3d11/direct3d-11-1-features).</span></span>

-   [<span data-ttu-id="804d7-108">Declarar variáveis com tipos de dados de precisão mínima</span><span class="sxs-lookup"><span data-stu-id="804d7-108">Declare variables with minimum precision data types</span></span>](#declare-variables-with-minimum-precision-data-types)
-   [<span data-ttu-id="804d7-109">Testando seu código de sombreador de precisão mínimo</span><span class="sxs-lookup"><span data-stu-id="804d7-109">Testing your minimum precision shader code</span></span>](#testing-your-minimum-precision-shader-code)
-   [<span data-ttu-id="804d7-110">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="804d7-110">Related topics</span></span>](#related-topics)

## <a name="declare-variables-with-minimum-precision-data-types"></a><span data-ttu-id="804d7-111">Declarar variáveis com tipos de dados de precisão mínima</span><span class="sxs-lookup"><span data-stu-id="804d7-111">Declare variables with minimum precision data types</span></span>

<span data-ttu-id="804d7-112">Para usar a precisão mínima no código do sombreador HLSL, declare variáveis individuais com tipos como **min16float** (**min16float4** para um vetor), **min16int**, **min10float** e assim por diante.</span><span class="sxs-lookup"><span data-stu-id="804d7-112">To use minimum precision in HLSL shader code, declare individual variables with types like **min16float** (**min16float4** for a vector), **min16int**, **min10float**, and so on.</span></span> <span data-ttu-id="804d7-113">Com essas variáveis, o código do sombreador indica que ele não requer mais precisão do que as variáveis indicam.</span><span class="sxs-lookup"><span data-stu-id="804d7-113">With these variables, your shader code indicates that it doesn’t require more precision than what the variables indicate.</span></span> <span data-ttu-id="804d7-114">Mas o hardware pode ignorar os indicadores de precisão mínima e executar com precisão de 32 bits cheia.</span><span class="sxs-lookup"><span data-stu-id="804d7-114">But hardware can ignore the minimum precision indicators and run at full 32-bit precision.</span></span> <span data-ttu-id="804d7-115">Quando o código do sombreador é usado em hardware que aproveita a precisão mínima, você usa menos largura de banda de memória e, como resultado, você também usa menos energia do sistema, desde que o código do sombreador não espere mais precisão do que o especificado.</span><span class="sxs-lookup"><span data-stu-id="804d7-115">When your shader code is used on hardware that takes advantage of minimum precision, you use less memory bandwidth and as a result you also use less system power as long as your shader code doesn’t expect more precision than it specified.</span></span>

<span data-ttu-id="804d7-116">Você não precisa criar vários sombreadores que não usam a precisão mínima.</span><span class="sxs-lookup"><span data-stu-id="804d7-116">You don't need to author multiple shaders that do and don't use minimum precision.</span></span> <span data-ttu-id="804d7-117">Em vez disso, crie sombreadores com precisão mínima, e as variáveis de precisão mínimas se comportarão na precisão de 32 bits completa se o driver de gráficos relatar que ele não dá suporte a precisão mínima.</span><span class="sxs-lookup"><span data-stu-id="804d7-117">Instead, create shaders with minimum precision, and the minimum precision variables behave at full 32-bit precision if the graphics driver reports that it doesn't support any minimum precision.</span></span> <span data-ttu-id="804d7-118">Os sombreadores de precisão mínima do HLSL não funcionam em sistemas operacionais anteriores ao Windows 8, portanto, se você planeja direcionar sistemas operacionais anteriores, precisará criar vários sombreadores, alguns dos outros que não usam precisão mínima.</span><span class="sxs-lookup"><span data-stu-id="804d7-118">HLSL minimum precision shaders don't work on operating systems earlier than Windows 8 so if you plan to target earlier operating systems, you'll need to author multiple shaders, some that do and others that don't use minimum precision.</span></span>

> [!Note]  
> <span data-ttu-id="804d7-119">Não faça alternâncias de dados entre diferentes níveis de precisão em um sombreador porque esses tipos de conversões são desperdícios e reduzem o desempenho.</span><span class="sxs-lookup"><span data-stu-id="804d7-119">Don't make data switches between different precision levels within a shader because these types of conversions are wasteful and reduce performance.</span></span> <span data-ttu-id="804d7-120">A exceção é que as constantes do sombreador ainda são sempre de 32 bits, mas os fornecedores podem criar um hardware de gráficos que pode fazer a conversão livremente para qualquer precisão menor que a leitura da instrução HLSL possa usar.</span><span class="sxs-lookup"><span data-stu-id="804d7-120">The exception is that shader constants are still always 32 bit, but vendors can design graphics hardware that can freely down-convert to whatever lower precision the HLSL instruction reading might use.</span></span>

 

<span data-ttu-id="804d7-121">Usando a precisão mínima, você pode controlar a precisão dos cálculos em várias partes do seu código de sombreador.</span><span class="sxs-lookup"><span data-stu-id="804d7-121">By using minimum precision, you can control the precision of computations in various parts of your shader code.</span></span>

<span data-ttu-id="804d7-122">As regras de precisão mínima de HLSL são semelhantes ao C/C++, em que os tipos em uma expressão determinam a precisão da operação, e não o tipo que está sendo eventualmente gravado.</span><span class="sxs-lookup"><span data-stu-id="804d7-122">The rules for HLSL minimum precision are similar to C/C++, where the types in an expression determine the precision of the operation, not the type being eventually written to.</span></span>

## <a name="testing-your-minimum-precision-shader-code"></a><span data-ttu-id="804d7-123">Testando seu código de sombreador de precisão mínimo</span><span class="sxs-lookup"><span data-stu-id="804d7-123">Testing your minimum precision shader code</span></span>

<span data-ttu-id="804d7-124">O rasterizador de referência [**( \_ \_ \_ referência de tipo de driver D3D**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) fornece uma ideia aproximada de como o mínimo de precisão no código do sombreador HLSL se comporta ao quantificar cada instrução HLSL para a precisão especificada.</span><span class="sxs-lookup"><span data-stu-id="804d7-124">The reference rasterizer ([**D3D\_DRIVER\_TYPE\_REFERENCE**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) gives you a rough idea of how minimum precision in your HLSL shader code behaves by quantizing each HLSL instruction to the specified precision.</span></span> <span data-ttu-id="804d7-125">Isso ajuda a descobrir o código que pode depender acidentalmente de mais do que a precisão mínima.</span><span class="sxs-lookup"><span data-stu-id="804d7-125">This helps you discover code that might accidentally rely on more than the minimum precision.</span></span> <span data-ttu-id="804d7-126">O rasterizador de referência não é executado mais rapidamente quando o código do sombreador HLSL usa a precisão mínima, mas você pode usá-lo para verificar a exatidão do seu código.</span><span class="sxs-lookup"><span data-stu-id="804d7-126">The reference rasterizer doesn’t run any faster when your HLSL shader code uses minimum precision, but you can use it to verify the correctness of your code.</span></span> <span data-ttu-id="804d7-127">[Warp](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**tipo de driver do D3D \_ \_ \_ Warp**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) não dá suporte ao uso da precisão mínima no código do sombreador HLSL; WARP executa apenas uma precisão de 32 bits cheia.</span><span class="sxs-lookup"><span data-stu-id="804d7-127">[WARP](/windows/desktop/direct3d11/overviews-direct3d-11-devices-create-warp) ([**D3D\_DRIVER\_TYPE\_WARP**](/windows/desktop/api/d3dcommon/ne-d3dcommon-d3d_driver_type)) doesn’t support using minimum precision in HLSL shader code; WARP just runs at full 32-bit precision.</span></span>

## <a name="related-topics"></a><span data-ttu-id="804d7-128">Tópicos relacionados</span><span class="sxs-lookup"><span data-stu-id="804d7-128">Related topics</span></span>

<dl> <dt>

[<span data-ttu-id="804d7-129">Guia de programação para HLSL</span><span class="sxs-lookup"><span data-stu-id="804d7-129">Programming Guide for HLSL</span></span>](dx-graphics-hlsl-pguide.md)
</dt> </dl>

 

 